<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>AWS::S3::Bucket - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="aws-resource-s3-bucket" /><meta name="default_state" content="aws-resource-s3-bucket" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-s3-bucket.html" /><meta name="description" content="Use the AWS CloudFormation AWS::S3::Bucket resource for S3." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Create and manage AWS infrastructure deployments predictably and repeatedly using AWS CloudFormation with this User Guide." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json;toc-AWS_S3.json" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-s3-bucket.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-s3-bucket.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-s3-bucket.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-s3-bucket.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-s3-bucket.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-s3-bucket.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-s3-bucket.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-resource-s3-bucket.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-resource-s3-bucket.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-resource-s3-bucket.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-resource-s3-bucket.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-resource-s3-bucket.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-resource-s3-bucket.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-resource-s3-bucket.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-resource-s3-bucket.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-s3-bucket.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-s3-bucket.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-resource-s3-bucket.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-resource-s3-bucket.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/aws-resource-s3-bucket.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/aws-resource-s3-bucket.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-s3-bucket.html" hreflang="x-default" /><meta name="feedback-item" content="S3" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="AWS::S3::Bucket" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>AWS::S3::Bucket - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=S3&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-s3-bucket.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-s3-bucket.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-s3-bucket.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Amazon Simple Storage Service (Amazon S3) resource type reference",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/AWS_S3.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "AWS::S3::Bucket",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/AWS_S3.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="AWS_S3.html">User Guide</a></div><div id="page-toc-src"><a href="#aws-resource-s3-bucket-syntax">Syntax</a><a href="#aws-resource-s3-bucket-properties">Properties</a><a href="#aws-resource-s3-bucket-return-values">Return values</a><a href="#aws-resource-s3-bucket--examples">Examples</a><a href="#aws-resource-s3-bucket--seealso">See also</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="aws-resource-s3-bucket">AWS::S3::Bucket</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>The <code class="code">AWS::S3::Bucket</code> resource creates an Amazon S3 bucket in the same AWS Region where you create the AWS CloudFormation stack.</p><p>To control how AWS CloudFormation handles the bucket when the stack is
      deleted, you can set a deletion policy for your bucket. You can choose to
        <em>retain</em> the bucket or to <em>delete</em> the bucket. For
      more information, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-deletionpolicy.html">DeletionPolicy
        Attribute</a>.</p><div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>You can only delete empty buckets. Deletion fails for buckets that have contents.</p></div></div><h2 id="aws-resource-s3-bucket-syntax">Syntax</h2><p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p><div id="JSON" name="JSON" class="section langfilter"><h3 id="aws-resource-s3-bucket-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Type" : "AWS::S3::Bucket",
  "Properties" : <span>{</span>
      "<a href="#cfn-s3-bucket-accelerateconfiguration">AccelerateConfiguration</a>" : <code class="replaceable"><a href="./aws-properties-s3-bucket-accelerateconfiguration.html">AccelerateConfiguration</a></code>,
      "<a href="#cfn-s3-bucket-accesscontrol">AccessControl</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-s3-bucket-analyticsconfigurations">AnalyticsConfigurations</a>" : <code class="replaceable">[ <a href="./aws-properties-s3-bucket-analyticsconfiguration.html">AnalyticsConfiguration</a>, ... ]</code>,
      "<a href="#cfn-s3-bucket-bucketencryption">BucketEncryption</a>" : <code class="replaceable"><a href="./aws-properties-s3-bucket-bucketencryption.html">BucketEncryption</a></code>,
      "<a href="#cfn-s3-bucket-bucketname">BucketName</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-s3-bucket-corsconfiguration">CorsConfiguration</a>" : <code class="replaceable"><a href="./aws-properties-s3-bucket-corsconfiguration.html">CorsConfiguration</a></code>,
      "<a href="#cfn-s3-bucket-intelligenttieringconfigurations">IntelligentTieringConfigurations</a>" : <code class="replaceable">[ <a href="./aws-properties-s3-bucket-intelligenttieringconfiguration.html">IntelligentTieringConfiguration</a>, ... ]</code>,
      "<a href="#cfn-s3-bucket-inventoryconfigurations">InventoryConfigurations</a>" : <code class="replaceable">[ <a href="./aws-properties-s3-bucket-inventoryconfiguration.html">InventoryConfiguration</a>, ... ]</code>,
      "<a href="#cfn-s3-bucket-lifecycleconfiguration">LifecycleConfiguration</a>" : <code class="replaceable"><a href="./aws-properties-s3-bucket-lifecycleconfiguration.html">LifecycleConfiguration</a></code>,
      "<a href="#cfn-s3-bucket-loggingconfiguration">LoggingConfiguration</a>" : <code class="replaceable"><a href="./aws-properties-s3-bucket-loggingconfiguration.html">LoggingConfiguration</a></code>,
      "<a href="#cfn-s3-bucket-metricsconfigurations">MetricsConfigurations</a>" : <code class="replaceable">[ <a href="./aws-properties-s3-bucket-metricsconfiguration.html">MetricsConfiguration</a>, ... ]</code>,
      "<a href="#cfn-s3-bucket-notificationconfiguration">NotificationConfiguration</a>" : <code class="replaceable"><a href="./aws-properties-s3-bucket-notificationconfiguration.html">NotificationConfiguration</a></code>,
      "<a href="#cfn-s3-bucket-objectlockconfiguration">ObjectLockConfiguration</a>" : <code class="replaceable"><a href="./aws-properties-s3-bucket-objectlockconfiguration.html">ObjectLockConfiguration</a></code>,
      "<a href="#cfn-s3-bucket-objectlockenabled">ObjectLockEnabled</a>" : <code class="replaceable">Boolean</code>,
      "<a href="#cfn-s3-bucket-ownershipcontrols">OwnershipControls</a>" : <code class="replaceable"><a href="./aws-properties-s3-bucket-ownershipcontrols.html">OwnershipControls</a></code>,
      "<a href="#cfn-s3-bucket-publicaccessblockconfiguration">PublicAccessBlockConfiguration</a>" : <code class="replaceable"><a href="./aws-properties-s3-bucket-publicaccessblockconfiguration.html">PublicAccessBlockConfiguration</a></code>,
      "<a href="#cfn-s3-bucket-replicationconfiguration">ReplicationConfiguration</a>" : <code class="replaceable"><a href="./aws-properties-s3-bucket-replicationconfiguration.html">ReplicationConfiguration</a></code>,
      "<a href="#cfn-s3-bucket-tags">Tags</a>" : <code class="replaceable">[ <a href="./aws-properties-s3-bucket-tag.html">Tag</a>, ... ]</code>,
      "<a href="#cfn-s3-bucket-versioningconfiguration">VersioningConfiguration</a>" : <code class="replaceable"><a href="./aws-properties-s3-bucket-versioningconfiguration.html">VersioningConfiguration</a></code>,
      "<a href="#cfn-s3-bucket-websiteconfiguration">WebsiteConfiguration</a>" : <code class="replaceable"><a href="./aws-properties-s3-bucket-websiteconfiguration.html">WebsiteConfiguration</a></code>
    }
}
</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h3 id="aws-resource-s3-bucket-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Type: AWS::S3::Bucket
Properties:
  <a href="#cfn-s3-bucket-accelerateconfiguration">AccelerateConfiguration</a>: <code class="replaceable">
    <a href="./aws-properties-s3-bucket-accelerateconfiguration.html">AccelerateConfiguration</a></code>
  <a href="#cfn-s3-bucket-accesscontrol">AccessControl</a>: <code class="replaceable">String</code>
  <a href="#cfn-s3-bucket-analyticsconfigurations">AnalyticsConfigurations</a>: <code class="replaceable">
    - <a href="./aws-properties-s3-bucket-analyticsconfiguration.html">AnalyticsConfiguration</a></code>
  <a href="#cfn-s3-bucket-bucketencryption">BucketEncryption</a>: <code class="replaceable">
    <a href="./aws-properties-s3-bucket-bucketencryption.html">BucketEncryption</a></code>
  <a href="#cfn-s3-bucket-bucketname">BucketName</a>: <code class="replaceable">String</code>
  <a href="#cfn-s3-bucket-corsconfiguration">CorsConfiguration</a>: <code class="replaceable">
    <a href="./aws-properties-s3-bucket-corsconfiguration.html">CorsConfiguration</a></code>
  <a href="#cfn-s3-bucket-intelligenttieringconfigurations">IntelligentTieringConfigurations</a>: <code class="replaceable">
    - <a href="./aws-properties-s3-bucket-intelligenttieringconfiguration.html">IntelligentTieringConfiguration</a></code>
  <a href="#cfn-s3-bucket-inventoryconfigurations">InventoryConfigurations</a>: <code class="replaceable">
    - <a href="./aws-properties-s3-bucket-inventoryconfiguration.html">InventoryConfiguration</a></code>
  <a href="#cfn-s3-bucket-lifecycleconfiguration">LifecycleConfiguration</a>: <code class="replaceable">
    <a href="./aws-properties-s3-bucket-lifecycleconfiguration.html">LifecycleConfiguration</a></code>
  <a href="#cfn-s3-bucket-loggingconfiguration">LoggingConfiguration</a>: <code class="replaceable">
    <a href="./aws-properties-s3-bucket-loggingconfiguration.html">LoggingConfiguration</a></code>
  <a href="#cfn-s3-bucket-metricsconfigurations">MetricsConfigurations</a>: <code class="replaceable">
    - <a href="./aws-properties-s3-bucket-metricsconfiguration.html">MetricsConfiguration</a></code>
  <a href="#cfn-s3-bucket-notificationconfiguration">NotificationConfiguration</a>: <code class="replaceable">
    <a href="./aws-properties-s3-bucket-notificationconfiguration.html">NotificationConfiguration</a></code>
  <a href="#cfn-s3-bucket-objectlockconfiguration">ObjectLockConfiguration</a>: <code class="replaceable">
    <a href="./aws-properties-s3-bucket-objectlockconfiguration.html">ObjectLockConfiguration</a></code>
  <a href="#cfn-s3-bucket-objectlockenabled">ObjectLockEnabled</a>: <code class="replaceable">Boolean</code>
  <a href="#cfn-s3-bucket-ownershipcontrols">OwnershipControls</a>: <code class="replaceable">
    <a href="./aws-properties-s3-bucket-ownershipcontrols.html">OwnershipControls</a></code>
  <a href="#cfn-s3-bucket-publicaccessblockconfiguration">PublicAccessBlockConfiguration</a>: <code class="replaceable">
    <a href="./aws-properties-s3-bucket-publicaccessblockconfiguration.html">PublicAccessBlockConfiguration</a></code>
  <a href="#cfn-s3-bucket-replicationconfiguration">ReplicationConfiguration</a>: <code class="replaceable">
    <a href="./aws-properties-s3-bucket-replicationconfiguration.html">ReplicationConfiguration</a></code>
  <a href="#cfn-s3-bucket-tags">Tags</a>: <code class="replaceable">
    - <a href="./aws-properties-s3-bucket-tag.html">Tag</a></code>
  <a href="#cfn-s3-bucket-versioningconfiguration">VersioningConfiguration</a>: <code class="replaceable">
    <a href="./aws-properties-s3-bucket-versioningconfiguration.html">VersioningConfiguration</a></code>
  <a href="#cfn-s3-bucket-websiteconfiguration">WebsiteConfiguration</a>: <code class="replaceable">
    <a href="./aws-properties-s3-bucket-websiteconfiguration.html">WebsiteConfiguration</a></code>
</code></pre></div><h2 id="aws-resource-s3-bucket-properties">Properties</h2><div class="variablelist"><dl><dt id="cfn-s3-bucket-accelerateconfiguration"><span class="term"><code class="code">AccelerateConfiguration</code></span></dt><dd>
         <p>Configures the transfer acceleration state for an Amazon S3 bucket. For more information, see
            <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/transfer-acceleration.html">Amazon S3
            Transfer Acceleration</a> in the <em>Amazon S3 User Guide</em>.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: <a href="./aws-properties-s3-bucket-accelerateconfiguration.html">AccelerateConfiguration</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-s3-bucket-accesscontrol"><span class="term"><code class="code">AccessControl</code></span></dt><dd>
    <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p> This is a legacy property, and it is not recommended for most use cases. A majority of
        modern use cases in Amazon S3 no longer require the use of ACLs, and we recommend that you
        keep ACLs disabled. For more information, see <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/about-object-ownership.html">Controlling object
          ownership</a> in the <em>Amazon S3 User Guide</em>.</p></div></div>
    <p>A canned access control list (ACL) that grants predefined permissions to the bucket. For
      more information about canned ACLs, see <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/acl-overview.html#canned-acl">Canned ACL</a> in the
        <em>Amazon S3 User Guide</em>.</p>
    <p> S3 buckets are created with ACLs disabled by default. Therefore, unless you explicitly set the <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-s3-bucket-ownershipcontrols.html">AWS::S3::OwnershipControls</a> property to enable ACLs, your resource will fail to deploy
    with any value other than Private. Use cases requiring ACLs are uncommon.</p>
    <p> The majority of access control configurations can be successfully and more easily
      achieved with bucket policies. For more information, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-s3-policy.html">AWS::S3::BucketPolicy</a>. For examples of common policy configurations, including S3
      Server Access Logs buckets and more, see <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/example-bucket-policies.html">Bucket policy examples</a> in the
      <em>Amazon S3 User Guide</em>.</p>
    
  <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Allowed values</em>: <code class="code">AuthenticatedRead | AwsExecRead | BucketOwnerFullControl | BucketOwnerRead | LogDeliveryWrite | Private | PublicRead | PublicReadWrite</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-s3-bucket-analyticsconfigurations"><span class="term"><code class="code">AnalyticsConfigurations</code></span></dt><dd>
         <p>Specifies the configuration and any analyses for the analytics filter of an Amazon S3
         bucket.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: Array of <a href="./aws-properties-s3-bucket-analyticsconfiguration.html">AnalyticsConfiguration</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-s3-bucket-bucketencryption"><span class="term"><code class="code">BucketEncryption</code></span></dt><dd>
    <p>Specifies default encryption for a bucket using server-side encryption with Amazon
      S3-managed keys (SSE-S3), AWS KMS-managed keys (SSE-KMS), or dual-layer server-side encryption with KMS-managed keys (DSSE-KMS). For
      information about the Amazon S3 default encryption feature, see <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/bucket-encryption.html">Amazon S3 Default Encryption for S3
        Buckets</a> in the <em>Amazon S3 User Guide</em>.</p>
  <p><em>Required</em>: No</p><p><em>Type</em>: <a href="./aws-properties-s3-bucket-bucketencryption.html">BucketEncryption</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-s3-bucket-bucketname"><span class="term"><code class="code">BucketName</code></span></dt><dd>
    <p>A name for the bucket. If you don't specify a name, AWS CloudFormation
      generates a unique ID and uses that ID for the bucket name. The bucket name must contain only
      lowercase letters, numbers, periods (.), and dashes (-) and must follow <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/BucketRestrictions.html">Amazon S3 bucket
        restrictions and limitations</a>. For more information, see <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/BucketRestrictions.html#bucketnamingrules">Rules for naming Amazon
        S3 buckets</a> in the <em>Amazon S3 User Guide</em>. </p>
    <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>If you specify a name, you can't perform updates that require replacement of this
        resource. You can perform updates that require no or some interruption. If you need to
        replace the resource, specify a new name.</p></div></div>
  <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Pattern</em>: <code class="code">^[a-z0-9][a-z0-9//.//-]*[a-z0-9]$</code></p><p><em>Minimum</em>: <code class="code">3</code></p><p><em>Maximum</em>: <code class="code">63</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-s3-bucket-corsconfiguration"><span class="term"><code class="code">CorsConfiguration</code></span></dt><dd>
         <p>Describes the cross-origin access configuration for objects in an Amazon S3 bucket. For more
         information, see <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/cors.html">Enabling
            Cross-Origin Resource Sharing</a> in the
         <em>Amazon S3 User Guide</em>.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: <a href="./aws-properties-s3-bucket-corsconfiguration.html">CorsConfiguration</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-s3-bucket-intelligenttieringconfigurations"><span class="term"><code class="code">IntelligentTieringConfigurations</code></span></dt><dd>
    <p>Defines how Amazon S3 handles Intelligent-Tiering storage.</p>
  <p><em>Required</em>: No</p><p><em>Type</em>: Array of <a href="./aws-properties-s3-bucket-intelligenttieringconfiguration.html">IntelligentTieringConfiguration</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-s3-bucket-inventoryconfigurations"><span class="term"><code class="code">InventoryConfigurations</code></span></dt><dd>
         <p>Specifies the inventory configuration for an Amazon S3 bucket. For more information, see
            <a href="https://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketGETInventoryConfig.html">GET Bucket inventory</a> in the <em>Amazon S3 API Reference</em>. </p>
      <p><em>Required</em>: No</p><p><em>Type</em>: Array of <a href="./aws-properties-s3-bucket-inventoryconfiguration.html">InventoryConfiguration</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-s3-bucket-lifecycleconfiguration"><span class="term"><code class="code">LifecycleConfiguration</code></span></dt><dd>
         <p>Specifies the lifecycle configuration for objects in an Amazon S3 bucket. For more
         information, see <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/object-lifecycle-mgmt.html">Object Lifecycle Management</a>
         in the <em>Amazon S3 User Guide</em>.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: <a href="./aws-properties-s3-bucket-lifecycleconfiguration.html">LifecycleConfiguration</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-s3-bucket-loggingconfiguration"><span class="term"><code class="code">LoggingConfiguration</code></span></dt><dd>
    <p>Settings that define where logs are stored.</p>
  <p><em>Required</em>: No</p><p><em>Type</em>: <a href="./aws-properties-s3-bucket-loggingconfiguration.html">LoggingConfiguration</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-s3-bucket-metricsconfigurations"><span class="term"><code class="code">MetricsConfigurations</code></span></dt><dd>
         <p>Specifies a metrics configuration for the CloudWatch request metrics (specified by the
         metrics configuration ID) from an Amazon S3 bucket. If you're updating an existing metrics
         configuration, note that this is a full replacement of the existing metrics configuration.
         If you don't include the elements you want to keep, they are erased. For more information,
         see <a href="https://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketPUTMetricConfiguration.html">PutBucketMetricsConfiguration</a>.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: Array of <a href="./aws-properties-s3-bucket-metricsconfiguration.html">MetricsConfiguration</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-s3-bucket-notificationconfiguration"><span class="term"><code class="code">NotificationConfiguration</code></span></dt><dd>
    <p>Configuration that defines how Amazon S3 handles bucket notifications.</p>
  <p><em>Required</em>: No</p><p><em>Type</em>: <a href="./aws-properties-s3-bucket-notificationconfiguration.html">NotificationConfiguration</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-s3-bucket-objectlockconfiguration"><span class="term"><code class="code">ObjectLockConfiguration</code></span></dt><dd>
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>This operation is not supported by directory buckets.</p></div></div>
         <p>Places an Object Lock configuration on the specified bucket. The rule specified in the
         Object Lock configuration will be applied by default to every new object placed in the
         specified bucket. For more information, see <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/object-lock.html">Locking Objects</a>. </p>
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><div class="itemizedlist">
                
                
                
            <ul class="itemizedlist"><li class="listitem">
                  <p>The <code class="code">DefaultRetention</code> settings require both a mode and a
                  period.</p>
               </li><li class="listitem">
                  <p>The <code class="code">DefaultRetention</code> period can be either <code class="code">Days</code> or
                     <code class="code">Years</code> but you must select one. You cannot specify
                     <code class="code">Days</code> and <code class="code">Years</code> at the same time.</p>
               </li><li class="listitem">
                  <p>You can enable Object Lock for new or existing buckets. For more
                  information, see <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/object-lock-configure.html">Configuring Object
                     Lock</a>.</p>
               </li></ul></div></div></div>
      <p><em>Required</em>: No</p><p><em>Type</em>: <a href="./aws-properties-s3-bucket-objectlockconfiguration.html">ObjectLockConfiguration</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-s3-bucket-objectlockenabled"><span class="term"><code class="code">ObjectLockEnabled</code></span></dt><dd>
    <p>Indicates whether this bucket has an Object Lock configuration enabled. Enable
        <code class="code">ObjectLockEnabled</code> when you apply <code class="code">ObjectLockConfiguration</code> to a
      bucket. </p>
  <p><em>Required</em>: No</p><p><em>Type</em>: Boolean</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-s3-bucket-ownershipcontrols"><span class="term"><code class="code">OwnershipControls</code></span></dt><dd>
    <p>Configuration that defines how Amazon S3 handles Object Ownership rules.</p>
  <p><em>Required</em>: No</p><p><em>Type</em>: <a href="./aws-properties-s3-bucket-ownershipcontrols.html">OwnershipControls</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-s3-bucket-publicaccessblockconfiguration"><span class="term"><code class="code">PublicAccessBlockConfiguration</code></span></dt><dd>
    <p>Configuration that defines how Amazon S3 handles public access.</p>
  <p><em>Required</em>: No</p><p><em>Type</em>: <a href="./aws-properties-s3-bucket-publicaccessblockconfiguration.html">PublicAccessBlockConfiguration</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-s3-bucket-replicationconfiguration"><span class="term"><code class="code">ReplicationConfiguration</code></span></dt><dd>
    <p>Configuration for replicating objects in an S3 bucket. To enable replication, you must
      also enable versioning by using the <code class="code">VersioningConfiguration</code> property.</p>
    <p>Amazon S3 can store replicated objects in a single destination bucket or multiple
      destination buckets. The destination bucket or buckets must already exist.</p>
  <p><em>Required</em>: No</p><p><em>Type</em>: <a href="./aws-properties-s3-bucket-replicationconfiguration.html">ReplicationConfiguration</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-s3-bucket-tags"><span class="term"><code class="code">Tags</code></span></dt><dd>
    <p>An arbitrary set of tags (key-value pairs) for this S3 bucket.</p>
  <p><em>Required</em>: No</p><p><em>Type</em>: Array of <a href="./aws-properties-s3-bucket-tag.html">Tag</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-s3-bucket-versioningconfiguration"><span class="term"><code class="code">VersioningConfiguration</code></span></dt><dd>
    <p>Enables multiple versions of all objects in this bucket. You might enable versioning to
      prevent objects from being deleted or overwritten by mistake or to archive objects so that you
      can retrieve previous versions of them.</p>
  <p><em>Required</em>: No</p><p><em>Type</em>: <a href="./aws-properties-s3-bucket-versioningconfiguration.html">VersioningConfiguration</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-s3-bucket-websiteconfiguration"><span class="term"><code class="code">WebsiteConfiguration</code></span></dt><dd>
    <p>Information used to configure the bucket as a static website. For more information, see
        <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/WebsiteHosting.html">Hosting Websites
        on Amazon S3</a>.</p>
  <p><em>Required</em>: No</p><p><em>Type</em>: <a href="./aws-properties-s3-bucket-websiteconfiguration.html">WebsiteConfiguration</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd></dl></div><h2 id="aws-resource-s3-bucket-return-values">Return values</h2><h3 id="aws-resource-s3-bucket-return-values-ref">Ref</h3><p>
      When you pass the logical ID of this resource to the intrinsic <code class="code">Ref</code> function, <code class="code">Ref</code> returns the bucket name.</p><p>Example: <code class="code"><code class="replaceable">DOC-EXAMPLE-BUCKET</code></code>
    </p><p>For more information about using the <code class="code">Ref</code> function, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-ref.html"><code class="code">Ref</code></a>.</p><h3 id="aws-resource-s3-bucket-return-values-fn--getatt">Fn::GetAtt</h3><p>The <code class="code">Fn::GetAtt</code> intrinsic function returns a value for a specified attribute of this type. The following are the available attributes and sample return values.</p>
<p>For more information about using the <code class="code">Fn::GetAtt</code> intrinsic function, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-getatt.html"><code class="code">Fn::GetAtt</code></a>.</p><h4 id="aws-resource-s3-bucket-return-values-fn--getatt-fn--getatt"></h4><div class="variablelist"><dl><dt id="Arn-fn::getatt"><span class="term"><code class="code">Arn</code></span></dt><dd>
    <p>Returns the Amazon Resource Name (ARN) of the specified bucket.</p>
    <p>Example: <code class="code">arn:aws:s3:::DOC-EXAMPLE-BUCKET</code>
    </p>
  </dd><dt id="DomainName-fn::getatt"><span class="term"><code class="code">DomainName</code></span></dt><dd>
    <p>Returns the IPv4 DNS name of the specified bucket.</p>
    <p>Example: <code class="code">DOC-EXAMPLE-BUCKET.s3.amazonaws.com</code>
    </p>
  </dd><dt id="DualStackDomainName-fn::getatt"><span class="term"><code class="code">DualStackDomainName</code></span></dt><dd>
    <p>Returns the IPv6 DNS name of the specified bucket.</p>
    <p>Example: <code class="code"> DOC-EXAMPLE-BUCKET.s3.dualstack.us-east-2.amazonaws.com</code>
    </p>
    <p>For more information about dual-stack endpoints, see <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/dual-stack-endpoints.html">Using Amazon S3 Dual-Stack
        Endpoints</a>.</p>
  </dd><dt id="RegionalDomainName-fn::getatt"><span class="term"><code class="code">RegionalDomainName</code></span></dt><dd>
    <p>Returns the regional domain name of the specified bucket.</p>
    <p>Example: <code class="code">DOC-EXAMPLE-BUCKET.s3.us-east-2.amazonaws.com</code>
    </p>
  </dd><dt id="WebsiteURL-fn::getatt"><span class="term"><code class="code">WebsiteURL</code></span></dt><dd>
    <p>Returns the Amazon S3 website endpoint for the specified bucket.</p>
    <p>Example (IPv4): <code class="code">http://DOC-EXAMPLE-BUCKET.s3-website.us-east-2.amazonaws.com</code>
    </p>
    <p>Example (IPv6):
        <code class="code">http://DOC-EXAMPLE-BUCKET.s3.dualstack.us-east-2.amazonaws.com</code>
    </p>
  </dd></dl></div><h2 id="aws-resource-s3-bucket--examples">Examples</h2><p></p><div class="highlights" id="inline-topiclist"><h6> </h6><ul><li><a href="#aws-resource-s3-bucket--examples--Create_an_S3_bucket">Create an S3 bucket</a></li><li><a href="#aws-resource-s3-bucket--examples--Associate_a_replication_configuration_IAM_role_with_an_S3_bucket">Associate a replication configuration IAM role with an S3 bucket</a></li><li><a href="#aws-resource-s3-bucket--examples--Granting_public_access_to_S3_buckets">Granting public access to S3 buckets</a></li><li><a href="#aws-resource-s3-bucket--examples--Enabling_ACLs">Enabling ACLs</a></li><li><a href="#aws-resource-s3-bucket--examples--Configure_a_static_website_with_a_routing_rule">Configure a static website with a routing rule</a></li><li><a href="#aws-resource-s3-bucket--examples--Enable_cross-origin_resource_sharing">Enable cross-origin resource sharing</a></li><li><a href="#aws-resource-s3-bucket--examples--Manage_the_lifecycle_for_S3_objects">Manage the lifecycle for S3 objects</a></li><li><a href="#aws-resource-s3-bucket--examples--Log_access_requests_for_a_specific_S3_bucket">Log access requests for a specific S3 bucket</a></li><li><a href="#aws-resource-s3-bucket--examples--Receive_S3_bucket_notifications_to_an_SNS_topic">Receive S3 bucket notifications to an SNS topic</a></li><li><a href="#aws-resource-s3-bucket--examples--Enable_versioning_and_replicate_objects">Enable versioning and replicate objects</a></li><li><a href="#aws-resource-s3-bucket--examples--Specify_analytics_and_inventory_configurations_for_an_S3_bucket">Specify analytics and inventory configurations for an S3 bucket</a></li></ul></div><h3 id="aws-resource-s3-bucket--examples--Create_an_S3_bucket">Create an S3 bucket</h3><p>The following example creates an S3 bucket with a <code class="code">Retain</code> deletion
          policy.</p><div id="JSON" name="JSON" class="section langfilter"><h4 id="aws-resource-s3-bucket--examples--Create_an_S3_bucket--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Resources": <span>{</span>
        "S3Bucket": <span>{</span>
            "Type": "AWS::S3::Bucket",
            "DeletionPolicy": "Retain",
            "Properties": <span>{</span>
                "BucketName": "DOC-EXAMPLE-BUCKET"
            }
        }
    }
}</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-resource-s3-bucket--examples--Create_an_S3_bucket--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources:
  S3Bucket:
    Type: 'AWS::S3::Bucket'
    DeletionPolicy: Retain
    Properties:
      BucketName: DOC-EXAMPLE-BUCKET</code></pre></div><h3 id="aws-resource-s3-bucket--examples--Associate_a_replication_configuration_IAM_role_with_an_S3_bucket">Associate a replication configuration IAM role with an S3 bucket</h3><p>The following example creates an S3 bucket and grants it permission to write to a
          replication bucket by using an AWS Identity and Access Management (IAM)
          role. To avoid a circular dependency, the role's policy is declared as a separate
          resource. The bucket depends on the <code class="code">WorkItemBucketBackupRole</code> role. If the
          policy is included in the role, the role also depends on the bucket.</p><div id="JSON" name="JSON" class="section langfilter"><h4 id="aws-resource-s3-bucket--examples--Associate_a_replication_configuration_IAM_role_with_an_S3_bucket--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Resources": <span>{</span>
        "RecordServiceS3Bucket": <span>{</span>
            "Type": "AWS::S3::Bucket",
            "DeletionPolicy": "Retain",
            "Properties": <span>{</span>
                "ReplicationConfiguration": <span>{</span>
                    "Role": <span>{</span>
                        "Fn::GetAtt": [
                            "WorkItemBucketBackupRole",
                            "Arn"
                        ]
                    },
                    "Rules": [
                        <span>{</span>
                            "Destination": <span>{</span>
                                "Bucket": <span>{</span>
                                    "Fn::Join": [
                                        "",
                                        [
                                            "arn:aws:s3:::",
                                            <span>{</span>
                                                "Fn::Join": [
                                                    "-",
                                                    [
                                                        <span>{</span>
                                                            "Ref": "AWS::Region"
                                                        },
                                                        <span>{</span>
                                                            "Ref": "AWS::StackName"
                                                        },
                                                        "replicationbucket"
                                                    ]
                                                ]
                                            }
                                        ]
                                    ]
                                },
                                "StorageClass": "STANDARD"
                            },
                            "Id": "Backup",
                            "Prefix": "",
                            "Status": "Enabled"
                        }
                    ]
                },
                "VersioningConfiguration": <span>{</span>
                    "Status": "Enabled"
                }
            }
        },
        "WorkItemBucketBackupRole": <span>{</span>
            "Type": "AWS::IAM::Role",
            "Properties": <span>{</span>
                "AssumeRolePolicyDocument": <span>{</span>
                    "Statement": [
                        <span>{</span>
                            "Action": [
                                "sts:AssumeRole"
                            ],
                            "Effect": "Allow",
                            "Principal": <span>{</span>
                                "Service": [
                                    "s3.amazonaws.com"
                                ]
                            }
                        }
                    ]
                }
            }
        },
        "BucketBackupPolicy": <span>{</span>
            "Type": "AWS::IAM::Policy",
            "Properties": <span>{</span>
                "PolicyDocument": <span>{</span>
                    "Statement": [
                        <span>{</span>
                            "Action": [
                                "s3:GetReplicationConfiguration",
                                "s3:ListBucket"
                            ],
                            "Effect": "Allow",
                            "Resource": [
                                <span>{</span>
                                    "Fn::Join": [
                                        "",
                                        [
                                            "arn:aws:s3:::",
                                            <span>{</span>
                                                "Ref": "RecordServiceS3Bucket"
                                            }
                                        ]
                                    ]
                                }
                            ]
                        },
                        <span>{</span>
                            "Action": [
                                "s3:GetObjectVersion",
                                "s3:GetObjectVersionAcl"
                            ],
                            "Effect": "Allow",
                            "Resource": [
                                <span>{</span>
                                    "Fn::Join": [
                                        "",
                                        [
                                            "arn:aws:s3:::",
                                            <span>{</span>
                                                "Ref": "RecordServiceS3Bucket"
                                            },
                                            "/*"
                                        ]
                                    ]
                                }
                            ]
                        },
                        <span>{</span>
                            "Action": [
                                "s3:ReplicateObject",
                                "s3:ReplicateDelete"
                            ],
                            "Effect": "Allow",
                            "Resource": [
                                <span>{</span>
                                    "Fn::Join": [
                                        "",
                                        [
                                            "arn:aws:s3:::",
                                            <span>{</span>
                                                "Fn::Join": [
                                                    "-",
                                                    [
                                                        <span>{</span>
                                                            "Ref": "AWS::Region"
                                                        },
                                                        <span>{</span>
                                                            "Ref": "AWS::StackName"
                                                        },
                                                        "replicationbucket"
                                                    ]
                                                ]
                                            },
                                            "/*"
                                        ]
                                    ]
                                }
                            ]
                        }
                    ]
                },
                "PolicyName": "BucketBackupPolicy",
                "Roles": [
                    <span>{</span>
                        "Ref": "WorkItemBucketBackupRole"
                    }
                ]
            }
        }
    }
}</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-resource-s3-bucket--examples--Associate_a_replication_configuration_IAM_role_with_an_S3_bucket--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources:
  RecordServiceS3Bucket:
    Type: 'AWS::S3::Bucket'
    DeletionPolicy: Retain
    Properties:
      ReplicationConfiguration:
        Role: !GetAtt
          - WorkItemBucketBackupRole
          - Arn
        Rules:
          - Destination:
              Bucket: !Join
                - ''
                - - 'arn:aws:s3:::'
                  - !Join
                    - '-'
                    - - !Ref 'AWS::Region'
                      - !Ref 'AWS::StackName'
                      - replicationbucket
              StorageClass: STANDARD
            Id: Backup
            Prefix: ''
            Status: Enabled
      VersioningConfiguration:
        Status: Enabled
  WorkItemBucketBackupRole:
    Type: 'AWS::IAM::Role'
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action:
              - 'sts:AssumeRole'
            Effect: Allow
            Principal:
              Service:
                - s3.amazonaws.com
  BucketBackupPolicy:
    Type: 'AWS::IAM::Policy'
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - 's3:GetReplicationConfiguration'
              - 's3:ListBucket'
            Effect: Allow
            Resource:
              - !Join
                - ''
                - - 'arn:aws:s3:::'
                  - !Ref RecordServiceS3Bucket
          - Action:
              - 's3:GetObjectVersion'
              - 's3:GetObjectVersionAcl'
            Effect: Allow
            Resource:
              - !Join
                - ''
                - - 'arn:aws:s3:::'
                  - !Ref RecordServiceS3Bucket
                  - /*
          - Action:
              - 's3:ReplicateObject'
              - 's3:ReplicateDelete'
            Effect: Allow
            Resource:
              - !Join
                - ''
                - - 'arn:aws:s3:::'
                  - !Join
                    - '-'
                    - - !Ref 'AWS::Region'
                      - !Ref 'AWS::StackName'
                      - replicationbucket
                  - /*
      PolicyName: BucketBackupPolicy
      Roles:
        - !Ref WorkItemBucketBackupRole</code></pre></div><h3 id="aws-resource-s3-bucket--examples--Granting_public_access_to_S3_buckets">Granting public access to S3 buckets</h3><p>When you create a new bucket, all Block Public Access settings are automatically
          enabled. We recommend that you keep all Block Public Access settings enabled. If you require some level of public access to your buckets, you can disable Block Public Access settings. The following example shows creating a bucket called <code class="code">my-bucket</code> and
          then disabling Block Public Access. A public bucket policy is then added to the bucket. </p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>The following example assumes the  <code class="code">BlockPublicPolicy</code> and
              <code class="code">RestrictPublicBuckets</code> Block Public Access settings have been disabled at
            the account level. </p></div></div><div id="JSON" name="JSON" class="section langfilter"><h4 id="aws-resource-s3-bucket--examples--Granting_public_access_to_S3_buckets--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">
        <span>{</span>
          "Resources": <span>{</span>
            "MyBucket": <span>{</span>
              "Type": "AWS::S3::Bucket",
              "Properties": <span>{</span>
                "BucketName": "my-bucket",
                "PublicAccessBlockConfiguration": <span>{</span>
                  "BlockPublicAcls": false,
                  "BlockPublicPolicy": false,
                  "IgnorePublicAcls": false,
                  "RestrictPublicBuckets": false
                  
                }
              }
            },
            "MyBucketPolicy": <span>{</span>
              "Type": "AWS::S3::BucketPolicy",
              "Properties": <span>{</span>
                "Bucket": <span>{</span>
                  "Ref": "MyBucket"
                },
                "PolicyDocument": <span>{</span>
                  "Version": "2012-10-17",
                  "Statement": [
                    <span>{</span>
                       "Effect": "Allow",
                       "Principal": "*",
                       "Action": "s3:GetObject",
                       "Resource": <span>{</span>
                         "Fn::Join": [
                           "",
                           [
                             "arn:aws:s3:::",
                             <span>{</span>
                               "Ref": "MyBucket"
                             },
                             "/*"
                           ]
                         ]
                       }
                     }
                   ]
                 }
               }
             }
           }
         } </code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-resource-s3-bucket--examples--Granting_public_access_to_S3_buckets--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">
        Resources:
          MyBucket:
            Type: 'AWS::S3::Bucket'
            Properties:
              BucketName: my-bucket
              PublicAccessBlockConfiguration:
                BlockPublicAcls: false
                BlockPublicPolicy: false
                IgnorePublicAcls: false
                RestrictPublicBuckets: false
          MyBucketPolicy:
            Type: 'AWS::S3::BucketPolicy'
            Properties:
              Bucket:
                Ref: 'MyBucket'
              PolicyDocument:
                Version: '2012-10-17'
                Statement:
                  - Effect: Allow
                    Principal: '*'
                    Action: 's3:GetObject'
                    Resource:
                      Fn::Join:
                        - ''
                        - - 'arn:aws:s3:::'
                          - Ref: 'MyBucket'
                          - '/*'</code></pre></div><h3 id="aws-resource-s3-bucket--examples--Enabling_ACLs">Enabling ACLs</h3><p> By default, S3 Object Ownership is set to <code class="code">BucketOwnerEnforced</code> and ACLs are disabled. A majority of modern use cases in S3 no longer require the use of ACLs, and we recommend that you keep ACLs disabled. With ACLs disabled, you can control access to all objects in your bucket, regardless of who uploaded the objects to your bucket. 
          If your specific use case requires enabling ACLs, you can set S3 Object Ownership to <code class="code">BucketOwnerPreferred</code> or <code class="code">ObjectWriter</code>. For more information, see <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/about-object-ownership.html">Controlling
            ownership of objects and disabling ACLs</a> in the <em>Amazon S3 User
              Guide</em>. </p><p>The following example shows Object Ownership set to <code class="code">BucketOwnerPreferred</code>. </p><div id="JSON" name="JSON" class="section langfilter"><h4 id="aws-resource-s3-bucket--examples--Enabling_ACLs--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">
        <span>{</span>
          "Resources": <span>{</span>
            "MyBucket": <span>{</span>
              "Type": "AWS::S3::Bucket",
              "Properties": <span>{</span>
                "BucketName": "my-bucket",
                "OwnershipControls": <span>{</span>
                       "Rules": [
                           <span>{</span>
                               "ObjectOwnership": "BucketOwnerPreferred"
                           }
                       ]
                   },
                "AccessControl": "AwsExecRead"
              }
           }
         }
       } </code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-resource-s3-bucket--examples--Enabling_ACLs--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">
        Resources:
          MyBucket:
            Type: 'AWS::S3::Bucket'
            Properties:
              BucketName: my-bucket
              OwnershipControls:
                Rules:
                - ObjectOwnership: BucketOwnerPreferred
              AccessControl: AwsExecRead              
      </code></pre></div><h3 id="aws-resource-s3-bucket--examples--Configure_a_static_website_with_a_routing_rule">Configure a static website with a routing rule</h3><p>In this example, <code class="code">AWS::S3::Bucket's Fn::GetAtt</code> values are used to provide
          outputs. If an HTTP 404 error occurs, the routing rule redirects requests to an EC2
          instance and inserts the object key prefix <code class="code">report-404/</code> in the redirect. For
          example, if you request a page called <code class="code">ExamplePage.html</code> and it results in an
          HTTP 404 error, the request is routed to a page called
            <code class="code">report-404/ExamplePage.html</code> on the specified instance. For all other HTTP
          error codes, <code class="code">error.html</code> is returned. </p><p>This example also specifies a metrics configuration called <code class="code">EntireBucket</code>
          that enables CloudWatch request metrics at the bucket level.</p><div id="JSON" name="JSON" class="section langfilter"><h4 id="aws-resource-s3-bucket--examples--Configure_a_static_website_with_a_routing_rule--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Resources": <span>{</span>
        "S3Bucket": <span>{</span>
            "Type": "AWS::S3::Bucket",
            "Properties": <span>{</span>
                "AccessControl": "PublicRead",
                "BucketName": "public-bucket",
                "MetricsConfigurations": [
                    <span>{</span>
                        "Id": "EntireBucket"
                    }
                ],
                "WebsiteConfiguration": <span>{</span>
                    "IndexDocument": "index.html",
                    "ErrorDocument": "error.html",
                    "RoutingRules": [
                        <span>{</span>
                            "RoutingRuleCondition": <span>{</span>
                                "HttpErrorCodeReturnedEquals": "404",
                                "KeyPrefixEquals": "out1/"
                            },
                            "RedirectRule": <span>{</span>
                                "HostName": "ec2-11-22-333-44.compute-1.amazonaws.com",
                                "ReplaceKeyPrefixWith": "report-404/"
                            }
                        }
                    ]
                }
            },
            "DeletionPolicy": "Retain"
        }
    },
    "Outputs": <span>{</span>
        "WebsiteURL": <span>{</span>
            "Value": <span>{</span>
                "Fn::GetAtt": [
                    "S3Bucket",
                    "WebsiteURL"
                ]
            },
            "Description": "URL for website hosted on S3"
        },
        "S3BucketSecureURL": <span>{</span>
            "Value": <span>{</span>
                "Fn::Join": [
                    "",
                    [
                        "https://",
                        <span>{</span>
                            "Fn::GetAtt": [
                                "S3Bucket",
                                "DomainName"
                            ]
                        }
                    ]
                ]
            },
            "Description": "Name of S3 bucket to hold website content"
        }
    }
}</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-resource-s3-bucket--examples--Configure_a_static_website_with_a_routing_rule--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources:
  S3Bucket:
    Type: 'AWS::S3::Bucket'
    Properties:
      AccessControl: PublicRead
      BucketName: public-bucket
      MetricsConfigurations:
        - Id: EntireBucket
      WebsiteConfiguration:
        IndexDocument: index.html
        ErrorDocument: error.html
        RoutingRules:
          - RoutingRuleCondition:
              HttpErrorCodeReturnedEquals: '404'
              KeyPrefixEquals: out1/
            RedirectRule:
              HostName: ec2-11-22-333-44.compute-1.amazonaws.com
              ReplaceKeyPrefixWith: report-404/
    DeletionPolicy: Retain
Outputs:
  WebsiteURL:
    Value: !GetAtt
      - S3Bucket
      - WebsiteURL
    Description: URL for website hosted on S3
  S3BucketSecureURL:
    Value: !Join
      - ''
      - - 'https://'
        - !GetAtt
          - S3Bucket
          - DomainName
    Description: Name of S3 bucket to hold website content</code></pre></div><h3 id="aws-resource-s3-bucket--examples--Enable_cross-origin_resource_sharing">Enable cross-origin resource sharing</h3><p>The following example template shows a public S3 bucket with two cross-origin resource
          sharing rules.</p><div id="JSON" name="JSON" class="section langfilter"><h4 id="aws-resource-s3-bucket--examples--Enable_cross-origin_resource_sharing--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "AWSTemplateFormatVersion": "2010-09-09",
    "Resources": <span>{</span>
        "S3Bucket": <span>{</span>
            "Type": "AWS::S3::Bucket",
            "Properties": <span>{</span>
                "AccessControl": "PublicRead",
                "CorsConfiguration": <span>{</span>
                    "CorsRules": [
                        <span>{</span>
                            "AllowedHeaders": [
                                "*"
                            ],
                            "AllowedMethods": [
                                "GET"
                            ],
                            "AllowedOrigins": [
                                "*"
                            ],
                            "ExposedHeaders": [
                                "Date"
                            ],
                            "Id": "myCORSRuleId1",
                            "MaxAge": 3600
                        },
                        <span>{</span>
                            "AllowedHeaders": [
                                "x-amz-*"
                            ],
                            "AllowedMethods": [
                                "DELETE"
                            ],
                            "AllowedOrigins": [
                                "http://www.example.com",
                                "http://www.example.net"
                            ],
                            "ExposedHeaders": [
                                "Connection",
                                "Server",
                                "Date"
                            ],
                            "Id": "myCORSRuleId2",
                            "MaxAge": 1800
                        }
                    ]
                }
            }
        }
    },
    "Outputs": <span>{</span>
        "BucketName": <span>{</span>
            "Value": <span>{</span>
                "Ref": "S3Bucket"
            },
            "Description": "Name of the sample Amazon S3 bucket with CORS enabled."
        }
    }
}</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-resource-s3-bucket--examples--Enable_cross-origin_resource_sharing--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">AWSTemplateFormatVersion: 2010-09-09
Resources:
  S3Bucket:
    Type: 'AWS::S3::Bucket'
    Properties:
      AccessControl: PublicRead
      CorsConfiguration:
        CorsRules:
          - AllowedHeaders:
              - '*'
            AllowedMethods:
              - GET
            AllowedOrigins:
              - '*'
            ExposedHeaders:
              - Date
            Id: myCORSRuleId1
            MaxAge: 3600
          - AllowedHeaders:
              - x-amz-*
            AllowedMethods:
              - DELETE
            AllowedOrigins:
              - 'http://www.example.com'
              - 'http://www.example.net'
            ExposedHeaders:
              - Connection
              - Server
              - Date
            Id: myCORSRuleId2
            MaxAge: 1800
Outputs:
  BucketName:
    Value: !Ref S3Bucket
    Description: Name of the sample Amazon S3 bucket with CORS enabled.</code></pre></div><h3 id="aws-resource-s3-bucket--examples--Manage_the_lifecycle_for_S3_objects">Manage the lifecycle for S3 objects</h3><p>The following example template shows an S3 bucket with a lifecycle configuration rule.
          The rule applies to all objects with the <code class="code">glacier</code> key prefix. The objects are
          transitioned to Glacier after one day, and deleted after one year.</p><div id="JSON" name="JSON" class="section langfilter"><h4 id="aws-resource-s3-bucket--examples--Manage_the_lifecycle_for_S3_objects--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "AWSTemplateFormatVersion": "2010-09-09",
    "Resources": <span>{</span>
        "S3Bucket": <span>{</span>
            "Type": "AWS::S3::Bucket",
            "Properties": <span>{</span>
                "AccessControl": "Private",
                "LifecycleConfiguration": <span>{</span>
                    "Rules": [
                        <span>{</span>
                            "Id": "GlacierRule",
                            "Prefix": "glacier",
                            "Status": "Enabled",
                            "ExpirationInDays": 365,
                            "Transitions": [
                                <span>{</span>
                                    "TransitionInDays": 1,
                                    "StorageClass": "GLACIER"
                                }
                            ]
                        }
                    ]
                }
            }
        }
    },
    "Outputs": <span>{</span>
        "BucketName": <span>{</span>
            "Value": <span>{</span>
                "Ref": "S3Bucket"
            },
            "Description": "Name of the sample Amazon S3 bucket with a lifecycle configuration."
        }
    }
}</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-resource-s3-bucket--examples--Manage_the_lifecycle_for_S3_objects--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">AWSTemplateFormatVersion: 2010-09-09
Resources:
  S3Bucket:
    Type: 'AWS::S3::Bucket'
    Properties:
      AccessControl: Private
      LifecycleConfiguration:
        Rules:
          - Id: GlacierRule
            Prefix: glacier
            Status: Enabled
            ExpirationInDays: 365
            Transitions:
              - TransitionInDays: 1
                StorageClass: GLACIER
Outputs:
  BucketName:
    Value: !Ref S3Bucket
    Description: Name of the sample Amazon S3 bucket with a lifecycle configuration.</code></pre></div><h3 id="aws-resource-s3-bucket--examples--Log_access_requests_for_a_specific_S3_bucket">Log access requests for a specific S3 bucket</h3><p>The following example template creates two S3 buckets. The <code class="code">LoggingBucket</code>
          bucket store the logs from the <code class="code">S3Bucket</code> bucket. To receive logs from the
            <code class="code">S3Bucket</code> bucket, the logging bucket requires log delivery write
          permissions.</p><div id="JSON" name="JSON" class="section langfilter"><h4 id="aws-resource-s3-bucket--examples--Log_access_requests_for_a_specific_S3_bucket--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "AWSTemplateFormatVersion": "2010-09-09",
    "Resources": <span>{</span>
        "S3Bucket": <span>{</span>
            "Type": "AWS::S3::Bucket",
            "Properties": <span>{</span>
                "LoggingConfiguration": <span>{</span>
                    "DestinationBucketName": <span>{</span>
                        "Ref": "LoggingBucket"
                    },
                    "LogFilePrefix": "testing-logs"
                }
            }
        },
        "LoggingBucket": <span>{</span>
            "Type": "AWS::S3::Bucket"
        },
        "S3BucketPolicy": <span>{</span>
            "Type": "AWS::S3::BucketPolicy",
            "Properties": <span>{</span>
                "Bucket": <span>{</span>
                    "Ref": "LoggingBucket"
                },
                "PolicyDocument": <span>{</span>
                    "Version": "2012-10-17",
                    "Statement": [
                        <span>{</span>
                            "Action": [
                                "s3:PutObject"
                            ],
                            "Effect": "Allow",
                            "Principal": <span>{</span>
                                "Service": "logging.s3.amazonaws.com"
                            },
                            "Resource": <span>{</span>
                                "Fn::Join": [
                                    "",
                                    [
                                        "arn:aws:s3:::",
                                        <span>{</span>
                                            "Ref": "LoggingBucket"
                                        },
                                        "/*"
                                    ]
                                ]
                            },
                            "Condition": <span>{</span>
                                "ArnLike": <span>{</span>
                                    "aws:SourceArn": <span>{</span>
                                        "Fn::GetAtt": [
                                            "S3Bucket",
                                            "Arn"
                                        ]
                                    }
                                },
                                "StringEquals": <span>{</span>
                                    "aws:SourceAccount": <span>{</span>
                                        "Fn::Sub": "$<span>{</span>AWS::AccountId}"
                                    }
                                }
                            }
                        }
                    ]
                }
            }
        }
    },
    "Outputs": <span>{</span>
        "BucketName": <span>{</span>
            "Value": <span>{</span>
                "Ref": "S3Bucket"
            },
            "Description": "Name of the sample Amazon S3 bucket with a logging configuration."
        }
    }
}</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-resource-s3-bucket--examples--Log_access_requests_for_a_specific_S3_bucket--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">AWSTemplateFormatVersion: 2010-09-09
Resources:
  S3Bucket:
    Type: 'AWS::S3::Bucket'
    Properties:
      LoggingConfiguration:
        DestinationBucketName: !Ref LoggingBucket
        LogFilePrefix: testing-logs
  LoggingBucket:
    Type: 'AWS::S3::Bucket'
  S3BucketPolicy:
    Type: 'AWS::S3::BucketPolicy'
    Properties:
      Bucket: !Ref LoggingBucket
      PolicyDocument:
        Version: 2012-10-17
        Statement:
          - Action:
              - 's3:PutObject'
            Effect: Allow
            Principal:
              Service: logging.s3.amazonaws.com
            Resource: !Join 
              - ''
              - - 'arn:aws:s3:::'
                - !Ref LoggingBucket
                - /*
            Condition:
              ArnLike:
                'aws:SourceArn': !GetAtt 
                  - S3Bucket
                  - Arn
              StringEquals:
                'aws:SourceAccount': !Sub '$<span>{</span>AWS::AccountId}'
Outputs:
  BucketName:
    Value: !Ref S3Bucket
    Description: Name of the sample Amazon S3 bucket with a logging configuration.

</code></pre></div><h3 id="aws-resource-s3-bucket--examples--Receive_S3_bucket_notifications_to_an_SNS_topic">Receive S3 bucket notifications to an SNS topic</h3><p>The following example template shows an Amazon S3 bucket with a notification
          configuration that sends an event to the specified SNS topic when S3 has lost all replicas
          of an object.</p><div id="JSON" name="JSON" class="section langfilter"><h4 id="aws-resource-s3-bucket--examples--Receive_S3_bucket_notifications_to_an_SNS_topic--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "AWSTemplateFormatVersion": "2010-09-09",
    "Resources": <span>{</span>
        "S3Bucket": <span>{</span>
            "Type": "AWS::S3::Bucket",
            "Properties": <span>{</span>
                "AccessControl": "Private",
                "NotificationConfiguration": <span>{</span>
                    "TopicConfigurations": [
                        <span>{</span>
                            "Topic": "arn:aws:sns:us-east-1:123456789012:TestTopic",
                            "Event": "s3:ReducedRedundancyLostObject"
                        }
                    ]
                }
            }
        }
    },
    "Outputs": <span>{</span>
        "BucketName": <span>{</span>
            "Value": <span>{</span>
                "Ref": "S3Bucket"
            },
            "Description": "Name of the sample Amazon S3 bucket with a notification configuration."
        }
    }
}</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-resource-s3-bucket--examples--Receive_S3_bucket_notifications_to_an_SNS_topic--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">AWSTemplateFormatVersion: 2010-09-09
Resources:
  S3Bucket:
    Type: 'AWS::S3::Bucket'
    Properties:
      AccessControl: Private
      NotificationConfiguration:
        TopicConfigurations:
          - Topic: 'arn:aws:sns:us-east-1:123456789012:TestTopic'
            Event: 's3:ReducedRedundancyLostObject'
Outputs:
  BucketName:
    Value: !Ref S3Bucket
    Description: Name of the sample Amazon S3 bucket with a notification configuration.</code></pre></div><h3 id="aws-resource-s3-bucket--examples--Enable_versioning_and_replicate_objects">Enable versioning and replicate objects</h3><p>The following example enables versioning and two replication rules. The rules copy
          objects prefixed with either <code class="code">MyPrefix</code> and <code class="code">MyOtherPrefix</code> and
          stores the copied objects in a bucket named <code class="code">my-replication-bucket</code>.</p><div id="JSON" name="JSON" class="section langfilter"><h4 id="aws-resource-s3-bucket--examples--Enable_versioning_and_replicate_objects--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "AWSTemplateFormatVersion": "2010-09-09",
    "Resources": <span>{</span>
        "S3Bucket": <span>{</span>
            "Type": "AWS::S3::Bucket",
            "Properties": <span>{</span>
                "VersioningConfiguration": <span>{</span>
                    "Status": "Enabled"
                },
                "ReplicationConfiguration": <span>{</span>
                    "Role": "arn:aws:iam::123456789012:role/replication_role",
                    "Rules": [
                        <span>{</span>
                            "Id": "MyRule1",
                            "Status": "Enabled",
                            "Prefix": "MyPrefix",
                            "Destination": <span>{</span>
                                "Bucket": "arn:aws:s3:::my-replication-bucket",
                                "StorageClass": "STANDARD"
                            }
                        },
                        <span>{</span>
                            "Status": "Enabled",
                            "Prefix": "MyOtherPrefix",
                            "Destination": <span>{</span>
                                "Bucket": "arn:aws:s3:::my-replication-bucket"
                            }
                        }
                    ]
                }
            }
        }
    }
}</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-resource-s3-bucket--examples--Enable_versioning_and_replicate_objects--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">AWSTemplateFormatVersion: 2010-09-09
Resources:
  S3Bucket:
    Type: 'AWS::S3::Bucket'
    Properties:
      VersioningConfiguration:
        Status: Enabled
      ReplicationConfiguration:
        Role: 'arn:aws:iam::123456789012:role/replication_role'
        Rules:
          - Id: MyRule1
            Status: Enabled
            Prefix: MyPrefix
            Destination:
              Bucket: 'arn:aws:s3:::my-replication-bucket'
              StorageClass: STANDARD
          - Status: Enabled
            Prefix: MyOtherPrefix
            Destination:
              Bucket: 'arn:aws:s3:::my-replication-bucket'</code></pre></div><h3 id="aws-resource-s3-bucket--examples--Specify_analytics_and_inventory_configurations_for_an_S3_bucket">Specify analytics and inventory configurations for an S3 bucket</h3><p>The following example specifies analytics and inventory results to be generated for an
          S3 bucket, including the format of the results and the destination bucket. The inventory
          list generates reports weekly and includes the current version of each object.</p><div id="JSON" name="JSON" class="section langfilter"><h4 id="aws-resource-s3-bucket--examples--Specify_analytics_and_inventory_configurations_for_an_S3_bucket--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "AWSTemplateFormatVersion": "2010-09-09",
    "Description": "S3 Bucket with Inventory and Analytics Configurations",
    "Resources": <span>{</span>
        "Helper": <span>{</span>
            "Type": "AWS::S3::Bucket"
        },
        "S3Bucket": <span>{</span>
            "Type": "AWS::S3::Bucket",
            "Properties": <span>{</span>
                "AnalyticsConfigurations": [
                    <span>{</span>
                        "Id": "AnalyticsConfigurationId",
                        "StorageClassAnalysis": <span>{</span>
                            "DataExport": <span>{</span>
                                "Destination": <span>{</span>
                                    "BucketArn": <span>{</span>
                                        "Fn::GetAtt": [
                                            "Helper",
                                            "Arn"
                                        ]
                                    },
                                    "Format": "CSV",
                                    "Prefix": "AnalyticsDestinationPrefix"
                                },
                                "OutputSchemaVersion": "V_1"
                            }
                        },
                        "Prefix": "AnalyticsConfigurationPrefix",
                        "TagFilters": [
                            <span>{</span>
                                "Key": "AnalyticsTagKey",
                                "Value": "AnalyticsTagValue"
                            }
                        ]
                    }
                ],
                "InventoryConfigurations": [
                    <span>{</span>
                        "Id": "InventoryConfigurationId",
                        "Destination": <span>{</span>
                            "BucketArn": <span>{</span>
                                "Fn::GetAtt": [
                                    "Helper",
                                    "Arn"
                                ]
                            },
                            "Format": "CSV",
                            "Prefix": "InventoryDestinationPrefix"
                        },
                        "Enabled": true,
                        "IncludedObjectVersions": "Current",
                        "Prefix": "InventoryConfigurationPrefix",
                        "ScheduleFrequency": "Weekly"
                    }
                ]
            }
        }
    }
}</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-resource-s3-bucket--examples--Specify_analytics_and_inventory_configurations_for_an_S3_bucket--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">AWSTemplateFormatVersion: 2010-09-09
Description: S3 Bucket with Inventory and Analytics Configurations
Resources:
  Helper:
    Type: 'AWS::S3::Bucket'
  S3Bucket:
    Type: 'AWS::S3::Bucket'
    Properties:
      AnalyticsConfigurations:
        - Id: AnalyticsConfigurationId
          StorageClassAnalysis:
            DataExport:
              Destination:
                BucketArn: !GetAtt
                  - Helper
                  - Arn
                Format: CSV
                Prefix: AnalyticsDestinationPrefix
              OutputSchemaVersion: V_1
          Prefix: AnalyticsConfigurationPrefix
          TagFilters:
            - Key: AnalyticsTagKey
              Value: AnalyticsTagValue
      InventoryConfigurations:
        - Id: InventoryConfigurationId
          Destination:
            BucketArn: !GetAtt
              - Helper
              - Arn
            Format: CSV
            Prefix: InventoryDestinationPrefix
          Enabled: true
          IncludedObjectVersions: Current
          Prefix: InventoryConfigurationPrefix
          ScheduleFrequency: Weekly</code></pre></div><h2 id="aws-resource-s3-bucket--seealso">See also</h2><div class="itemizedlist">
         
      <ul class="itemizedlist"><li class="listitem">
          <p>
            <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/quickref-s3.html">Amazon S3 Template Snippets</a>
          </p>
        </li></ul></div><p></p><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./aws-properties-s3-accesspoint-vpcconfiguration.html">VpcConfiguration</div><div id="next" class="next-link" accesskey="n" href="./aws-properties-s3-bucket-abortincompletemultipartupload.html">AbortIncompleteMultipartUpload</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=S3&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-s3-bucket.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=S3&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-s3-bucket.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>