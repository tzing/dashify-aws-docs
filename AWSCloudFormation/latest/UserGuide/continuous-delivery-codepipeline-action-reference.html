<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>AWS CloudFormation configuration properties reference - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="continuous-delivery-codepipeline-action-reference" /><meta name="default_state" content="continuous-delivery-codepipeline-action-reference" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-action-reference.html" /><meta name="description" content="Specify AWS CloudFormation-specific configuration properties when you choose AWS CloudFormation as a provider for the CodePipeline Deploy action." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Create and manage AWS infrastructure deployments predictably and repeatedly using AWS CloudFormation with this User Guide." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-action-reference.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-action-reference.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-action-reference.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-action-reference.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-action-reference.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-action-reference.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-action-reference.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-action-reference.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-action-reference.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-action-reference.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-action-reference.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-action-reference.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-action-reference.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-action-reference.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-action-reference.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-action-reference.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-action-reference.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-action-reference.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-action-reference.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-action-reference.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-action-reference.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-action-reference.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="AWS CloudFormation configuration properties reference" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>AWS CloudFormation configuration properties reference - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-action-reference.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-action-reference.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-action-reference.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Continuous delivery with CodePipeline",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "AWS CloudFormation configuration properties reference",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">User Guide</a></div><div id="page-toc-src"><a href="#w9aac21c13b7">Configuration properties (console)</a><a href="#w9aac21c13b9">Configuration properties (JSON object)</a><a href="#w9aac21c13c13">See also</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="continuous-delivery-codepipeline-action-reference">AWS CloudFormation configuration
      properties reference</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>When you build a CodePipeline pipeline, you add a <code class="code">Deploy</code> action to the pipeline with
    AWS CloudFormation as a provider. You then must specify which AWS CloudFormation action the pipeline invokes and the
    action's settings. This topic describes the AWS CloudFormation configuration properties. To specify
    properties, you can use the CodePipeline console, or you can create a <a href="https://docs.aws.amazon.com/codepipeline/latest/userguide/how-to-create-pipelines.html#how-to-create-pipeline-cli">JSON
      object</a> to use for the AWS CLI, CodePipeline API, or AWS CloudFormation templates.</p><div class="highlights" id="inline-topiclist"><h6>Topics</h6><ul><li><a href="#w9aac21c13b7">Configuration properties (console)</a></li><li><a href="#w9aac21c13b9">Configuration properties (JSON object)</a></li><li><a href="#w9aac21c13c13">See also</a></li></ul></div>
    <h2 id="w9aac21c13b7">Configuration properties (console)</h2>
    <p>The CodePipeline <a href="https://console.aws.amazon.com/codepipeline/" rel="noopener noreferrer" target="_blank"><span>console</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> shows the
      configuration properties and indicates the properties that are required based on the action
      mode that you choose.</p>
    <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>When you create a pipeline, you can specify the <b>Create or update a
          stack</b> or <b>Create or replace a change set</b> action modes only.
        Properties in the <b>Advanced</b> section are available only when you edit a
        pipeline.</p></div></div>
    <div class="variablelist">
       
       
       
       
       
       
       
       
       
    <dl>
        <dt><span class="term"><b>Action mode</b></span></dt>
        <dd>
          <p>The AWS CloudFormation action that CodePipeline invokes when processing the associated stage. Choose one
            of the following action modes:</p>
          <div class="itemizedlist">
             
             
             
             
             
          <ul class="itemizedlist"><li class="listitem">
              <p><b>Create or replace a change set</b> creates the change set if it
                doesn't exist based on the stack name and template that you submit. If the change
                set exists, AWS CloudFormation deletes it, and then creates a new one.</p>
            </li><li class="listitem">
              <p><b>Create or update a stack</b> creates the stack if the specified
                stack doesn't exist. If the stack exists, AWS CloudFormation updates the stack. Use this action
                to update existing stacks. CodePipeline won't replace the stack.</p>
            </li><li class="listitem">
              <p><b>Delete a stack</b> deletes a stack. If you specify a stack that
                doesn't exist, the action is completed successfully without deleting a stack.</p>
            </li><li class="listitem">
              <p><b>Execute a change set</b> executes a change set.</p>
            </li><li class="listitem">
              <p><b>Replace a failed stack</b> creates the stack if the specified
                stack doesn't exist. If the stack exists and is in a failed state (reported as
                  <code class="code">ROLLBACK_COMPLETE</code>, <code class="code">ROLLBACK_FAILED</code>,
                  <code class="code">CREATE_FAILED</code>, <code class="code">DELETE_FAILED</code>, or
                  <code class="code">UPDATE_ROLLBACK_FAILED</code>), AWS CloudFormation deletes the stack and then creates a
                new one. If the stack isn't in a failed state, AWS CloudFormation updates it. Use this action to
                replace failed stacks without recovering or troubleshooting them. You would
                typically choose this mode for testing.</p>
            </li></ul></div>
        </dd>
       
        <dt><span class="term"><b>Stack name</b></span></dt>
        <dd>
          <p>The name that is associated with an existing stack or a stack you want to create.
            The name must be unique in the AWS Region in which you are creating the stack.</p>
          <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>A stack name can contain only alphanumeric characters (case sensitive) and
              hyphens. It must start with an alphabetic character and cannot be longer than 128
              characters.</p></div></div>
        </dd>
       
        <dt><span class="term"><b>Change set name</b></span></dt>
        <dd>
          <p>The name of an existing change set or a new change set that you want to create for
            the specified stack.</p>
        </dd>
       
        <dt><span class="term"><b>Template</b></span></dt>
        <dd>
          <p>The location of an AWS CloudFormation template file, which follows the format
                <code class="code"><code class="replaceable">ArtifactName</code>::<code class="replaceable">TemplateFileName</code></code>.</p>
        </dd>
       
        <dt><span class="term"><b>Template configuration</b></span></dt>
        <dd>
          <p>The location of a template configuration file, which follows the format
                <code class="code"><code class="replaceable">ArtifactName</code>::<code class="replaceable">TemplateConfigurationFileName</code></code>.
            The template configuration file can contain template parameter values, a stack policy,
            and tags. If you include sensitive information, such as passwords, restrict access to
            this file. For more information, see <a href="./continuous-delivery-codepipeline-cfn-artifacts.html">AWS CloudFormation artifacts</a>.</p>
        </dd>
       
        <dt><span class="term"><b>Capabilities</b></span></dt>
        <dd>
          <p>For stacks that contain certain resources, explicit acknowledgment that AWS CloudFormation might create or update
      those resources. For example, you must specify <code class="code">CAPABILITY_IAM</code> if your stack template contains
      AWS Identity and Access Management (IAM) resources. For more information, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_CreateStack.html"><code class="code">CreateStack</code></a> API operation  request parameters.</p>
          <p>If you have IAM resources in your stack template, you must specify this
            property.</p>
          <p>You can specify more than one capability.</p>
        </dd>
       
        <dt><span class="term"><b>Role name</b></span></dt>
        <dd>
          <p>The name of the IAM service role that AWS CloudFormation assumes when it operates on resources
            in the specified stack.</p>
        </dd>
       
        <dt><span class="term"><b>Output file name</b></span></dt>
        <dd>
          <p>In the <b>Advanced</b> section, you can specify an output file name,
            such as <code class="code">CreateStackOutput.json</code>, that CodePipeline adds to the <a href="https://docs.aws.amazon.com/codepipeline/latest/userguide/concepts.html">output artifact</a> after it performs the
            specified action. The output artifact contains a JSON file with the contents of the
              <code class="code">Outputs</code> section of the AWS CloudFormation template.</p>
          <p>If you don't specify a name, CodePipeline doesn't generate an output artifact.</p>
        </dd>
       
        <dt><span class="term"><b>Parameter overrides</b></span></dt>
        <dd>
          <p>Parameters are defined in your template and allow you to input custom values when
            you create or update a stack. You can specify a JSON object that overrides template
            parameter values in the template configuration file. All parameter names must be present
            in the stack template. For more information, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/parameters-section-structure.html">Defining a parameter in a
              template</a>.</p>
          <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>There is a maximum size limit of 1 kilobyte for the JSON object that can be stored
              in the <code class="code">ParameterOverrides</code> property.</p></div></div>
          <p>We recommend that you use the template configuration file to specify most of your
            parameter values. Use parameter overrides to specify dynamic parameter values only.
            Dynamic parameters are unknown until you run the pipeline.</p>
          <p>The following example defines a value for the <code class="code">ParameterName</code> parameter
            by using a parameter override function. The function retrieves a value from a CodePipeline
            input artifact. For more information about parameter override functions, see <a href="./continuous-delivery-codepipeline-parameter-override-functions.html">Using parameter
      override functions with CodePipeline pipelines</a>.</p>
          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "ParameterName" : <span>{</span> "Fn::GetParam" : ["ArtifactName", "config-file-name.json", "ParamName"]}
}</code></pre>
        </dd>
      </dl></div>
   
    <h2 id="w9aac21c13b9">Configuration properties (JSON object)</h2>
    <p>When you specify <code class="code">CloudFormation</code> as a provider for a stage action, define the
      following properties in the <code class="code">Configuration</code> property. Use the <a href="https://docs.aws.amazon.com/codepipeline/latest/userguide/how-to-create-pipelines.html#how-to-create-pipeline-cli">JSON
        object</a> for the AWS CLI, CodePipeline API, or AWS CloudFormation templates. For examples, see <a href="./continuous-delivery-codepipeline-basic-walkthrough.html">Walkthrough: Building a
      pipeline for test and production stacks</a> and <a href="./continuous-delivery-codepipeline-action-reference.html">AWS CloudFormation configuration
      properties reference</a>.</p>
    <div class="variablelist">
       
       
       
       
       
       
       
       
       
    <dl>
        <dt><span class="term"><code class="code">ActionMode</code></span></dt>
        <dd>
          <p>The AWS CloudFormation action that CodePipeline invokes when it processes the associated stage. Specify
            only one of the following action modes:</p>
          <div class="itemizedlist">
             
             
             
             
             
          <ul class="itemizedlist"><li class="listitem">
              <p><code class="code">CHANGE_SET_EXECUTE</code> executes a change set.</p>
            </li><li class="listitem">
              <p><code class="code">CHANGE_SET_REPLACE</code> creates the change set, if it doesn't exist,
                based on the stack name and template that you submit. If the change set exists,
                AWS CloudFormation deletes it, and then creates a new one.</p>
            </li><li class="listitem">
              <p><code class="code">CREATE_UPDATE</code> creates the stack if the specified stack doesn't
                exist. If the stack exists, AWS CloudFormation updates the stack. Use this action to update
                existing stacks. CodePipeline won't replace the stack.</p>
            </li><li class="listitem">
              <p><code class="code">DELETE_ONLY</code> deletes a stack. If you specify a stack that doesn't
                exist, the action is completed successfully without deleting a stack.</p>
            </li><li class="listitem">
              <p><code class="code">REPLACE_ON_FAILURE</code> creates a stack, if the specified stack doesn't
                exist. If the stack exists and is in a failed state (reported as
                  <code class="code">ROLLBACK_COMPLETE</code>, <code class="code">ROLLBACK_FAILED</code>,
                  <code class="code">CREATE_FAILED</code>, <code class="code">DELETE_FAILED</code>, or
                  <code class="code">UPDATE_ROLLBACK_FAILED</code>), AWS CloudFormation deletes the stack and then creates a
                new stack. If the stack isn't in a failed state, AWS CloudFormation updates it. Use this action
                to automatically replace failed stacks without recovering or troubleshooting them.
                You would typically choose this mode for testing.</p>
            </li></ul></div>
          <p>This property is required.</p>
        </dd>
       
        <dt><span class="term"><code class="code">Capabilities</code></span></dt>
        <dd>
          <p>For stacks that contain certain resources, explicit acknowledgment that AWS CloudFormation might create or update
      those resources. For example, you must specify <code class="code">CAPABILITY_IAM</code> if your stack template contains
      AWS Identity and Access Management (IAM) resources. For more information, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_CreateStack.html"><code class="code">CreateStack</code></a> API operation  request parameters.</p>
          <p>This property is conditional. If you have IAM resources in your stack template,
            you must specify this property.</p>
          <p>You can specify multiple capabilities. The following example adds the <code class="code">CAPABILITY_IAM</code> and
       <code class="code">CAPABILITY_AUTO_EXPAND</code> properties to the template:</p>
          <awsdocs-tabs><dl style="display: none">
            <dt>YAML</dt><dd tab-id="yaml">
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">configuration:
  ActionMode: CHANGE_SET_REPLACE
  <code class="replaceable">Capabilities: CAPABILITY_IAM,CAPABILITY_AUTO_EXPAND</code>
  ChangeSetName: pipeline-changeset
  RoleArn: CloudFormation_Role_ARN
  StackName: my-pipeline-stack
  TemplateConfiguration: 'my-pipeline-stack::template-configuration.json'
  TemplatePath: 'my-pipeline-stack::template-export.yml'</code></pre>
              </dd>
            <dt>JSON</dt><dd tab-id="json">
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "> "configuration": <span>{</span>
        "ActionMode": "CHANGE_SET_REPLACE",
        <code class="replaceable">"Capabilities": "CAPABILITY_IAM,CAPABILITY_AUTO_EXPAND",</code>
        "ChangeSetName": "pipeline-changeset",
        "RoleArn": "CloudFormation_Role_ARN",
        "StackName": "my-pipeline-stack",
        "TemplateConfiguration": "my-pipeline-stack::template-configuration.json",
        "TemplatePath": "my-pipeline-stack::template-export.yml"
    }</code></pre>
              </dd>
          </dl></awsdocs-tabs>
        </dd>
       
        <dt><span class="term"><code class="code">ChangeSetName</code></span></dt>
        <dd>
          <p>The name of an existing change set or a new change set that you want to create for
            the specified stack.</p>
          <p>This property is required for the following action modes:
              <code class="code">CHANGE_SET_REPLACE</code> and <code class="code">CHANGE_SET_EXECUTE</code>. For all other
            action modes, this property is ignored.</p>
        </dd>
       
        <dt><span class="term"><code class="code">OutputFileName</code></span></dt>
        <dd>
          <p>A name for the output file, such as <code class="code">CreateStackOutput.json</code>. CodePipeline adds
            the file to the <a href="https://docs.aws.amazon.com/codepipeline/latest/userguide/concepts.html">output artifact</a> after
            it performs the specified action. The output artifact contains a JSON file with the
            contents of the <code class="code">Outputs</code> section of the AWS CloudFormation template.</p>
          <p>This property is optional. If you don't specify a name, CodePipeline doesn't generate an
            output artifact.</p>
        </dd>
       
        <dt><span class="term"><code class="code">ParameterOverrides</code></span></dt>
        <dd>
          <p>Parameters are defined in your template and allow you to input custom values when
            you create or update a stack. You can specify a JSON object that overrides template
            parameter values in the template configuration file. All parameter names must be present
            in the stack template. For more information, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/parameters-section-structure.html">Defining a parameter in a
              template</a>.</p>
          <p>The following example adds the <code class="code">InstanceType</code> and <code class="code">KeyName</code>
            parameter overrides to the template:</p>
          <awsdocs-tabs><dl style="display: none">
            <dt>YAML</dt><dd tab-id="yaml">
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">configuration:
  ActionMode: CHANGE_SET_REPLACE
  Capabilities: CAPABILITY_NAMED_IAM
  ChangeSetName: pipeline-changeset
  <code class="replaceable">ParameterOverrides: '<span>{</span>"InstanceType": "t2.small","KeyName": "my-keypair"}'</code>
  RoleArn: CloudFormation_Role_ARN
  StackName: my-pipeline-stack
  TemplateConfiguration: 'my-pipeline-stack::template-configuration.json'
  TemplatePath: 'my-pipeline-stack::template-export.yml'
</code></pre>
              </dd>
            <dt>JSON</dt><dd tab-id="json">
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"configuration": <span>{</span>
        "ActionMode": "CHANGE_SET_REPLACE",
        "Capabilities": "CAPABILITY_NAMED_IAM",
        "ChangeSetName": "pipeline-changeset",
        <code class="replaceable">"ParameterOverrides": "<span>{</span>\"InstanceType\": \"t2.small\",\"KeyName\": \"my-keypair\"}",</code>
        "RoleArn": "CloudFormation_Role_ARN",
        "StackName": "my-pipeline-stack",
        "TemplateConfiguration": "my-pipeline-stack::template-configuration.json",
        "TemplatePath": "my-pipeline-stack::template-export.yml"
    }</code></pre>
              </dd>
          </dl></awsdocs-tabs>
          <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>The maximum size for the JSON object that can be stored in the
                <code class="code">ParameterOverrides</code> property is 1 kilobyte.</p></div></div>
          <p>We recommend that you use the template configuration file to specify most of your
            parameter values. Use parameter overrides to specify dynamic parameter values only.
            Dynamic parameter values are unknown until you run the pipeline.</p>
          <p>The following example defines a value for the <code class="code">ParameterName</code> parameter
            by using a parameter override function. The function retrieves a value from a CodePipeline
            input artifact. For more information about parameter override functions, see <a href="./continuous-delivery-codepipeline-parameter-override-functions.html">Using parameter
      override functions with CodePipeline pipelines</a>.</p>
          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "ParameterName" : <span>{</span> "Fn::GetParam" : ["ArtifactName", "config-file-name.json", "ParamName"]}
}</code></pre>
          <p>This property is optional.</p>
        </dd>
       
        <dt><span class="term"><code class="code">RoleArn</code></span></dt>
        <dd>
          <p>The Amazon Resource Name (ARN) of the IAM service role that AWS CloudFormation assumes when it
            operates on resources in a stack.</p>
          <p>This property is required for the following action modes:
            <code class="code">CREATE_UPDATE</code>, <code class="code">REPLACE_ON_FAILURE</code>, <code class="code">DELETE_ONLY</code>,
            and <code class="code">CHANGE_SET_REPLACE</code>. <code class="code">RoleArn</code> is not applied when executing
            a change set. If you do not use CodePipeline to create the change set, make sure that the
            change set or stack has an associated role.</p>
        </dd>
       
        <dt><span class="term"><code class="code">StackName</code></span></dt>
        <dd>
          <p>The name of an existing stack or a stack that you want to create.</p>
          <p>This property is required for all action modes.</p>
        </dd>
       
        <dt><span class="term"><code class="code">TemplateConfiguration</code></span></dt>
        <dd>
          
          <p><code class="code">TemplateConfiguration</code> is the template configuration file. You include
            the file in an input artifact to this action. The template configuration file name
            follows this format: </p>
          <p><code class="code"><code class="replaceable">Artifactname</code>::<code class="replaceable">TemplateConfigurationFileName</code></code></p>
          <p><code class="code">Artifactname</code> is the input artifact name as it appears in CodePipeline. For
            example, a source stage with the artifact name of <code class="code">SourceArtifact</code> and a
              <code>test-configuration.json</code> file name creates a
              <code class="code">TemplateConfiguration</code> name as shown in this example:</p>
          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"TemplateConfiguration": "SourceArtifact::test-configuration.json"</code></pre>
          
          <p>The template configuration file can contain template parameter values and a stack
            policy. If you include sensitive information, such as passwords, restrict access to this
            file. For an
            example template configuration file, see <a href="./continuous-delivery-codepipeline-cfn-artifacts.html">AWS CloudFormation artifacts</a>.</p>
          <p>This property is optional.</p>
        </dd>
       
        <dt><span class="term"><code class="code">TemplatePath</code></span></dt>
        <dd>
          <p><code class="code">TemplatePath</code> represents the AWS CloudFormation template file. You include the file
            in an input artifact to this action. The file name follows this format:</p>
          
          <p><code class="code"><code class="replaceable">Artifactname</code>::<code class="replaceable">TemplateFileName</code></code></p>
          <p><code class="code">Artifactname</code> is the input artifact name as it appears in CodePipeline. For
            example, a source stage with the artifact name of <code class="code">SourceArtifact</code> and a
              <code>template.yaml</code> file name creates a <code class="code">TemplatePath</code> name,
            as shown in this example:</p>
          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"TemplatePath": "SourceArtifact::template.yaml"</code></pre>
          
          <p>This property is required for the following action modes:
            <code class="code">CREATE_UPDATE</code>, <code class="code">REPLACE_ON_FAILURE</code>, and
              <code class="code">CHANGE_SET_REPLACE</code>. For all other action modes, this property is
            ignored.</p>
        </dd>
      </dl></div>
   
    <h2 id="w9aac21c13c13">See also</h2>
    <p>The following related resources can help you as you work with these parameters.</p>
    <div class="itemizedlist">
       
       
       
       
    <ul class="itemizedlist"><li class="listitem">
        <p>For more information about the AWS CloudFormation action parameters in CodePipeline, see the <a href="https://docs.aws.amazon.com/codepipeline/latest/userguide/action-reference-CloudFormation.html">AWS CloudFormation</a> action
          configuration reference in the <em>AWS CodePipeline User Guide</em>.</p>
      </li><li class="listitem">
        <p>For example template values by action provider, such as for the <code class="code">Owner</code>
          field or the <code class="code">configuration</code> fields, see the <a href="https://docs.aws.amazon.com/codepipeline/latest/userguide/action-reference.html">Action structure reference</a> in the
            <em>AWS CodePipeline User Guide</em>.</p>
      </li><li class="listitem">
        <p>To download example pipeline stack templates in YAML or JSON format, see the tutorials
          under <a href="https://docs.aws.amazon.com/codepipeline/latest/userguide/tutorials-cloudformation.html">Create a pipeline with AWS
            CloudFormation</a> in the <em>AWS CodePipeline User Guide</em>.</p>
      </li><li class="listitem">
        <p>For an example template configuration file, see <a href="https://docs.aws.amazon.com/codepipeline/latest/userguide/continuous-delivery-codepipeline-cfn-artifacts.html">AWS CloudFormation
            artifacts</a>.</p>
      </li></ul></div>
  <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./continuous-delivery-codepipeline-basic-walkthrough.html">Walkthrough: Building a
      pipeline for test and production stacks</div><div id="next" class="next-link" accesskey="n" href="./continuous-delivery-codepipeline-cfn-artifacts.html">AWS CloudFormation artifacts</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-action-reference.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-action-reference.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>