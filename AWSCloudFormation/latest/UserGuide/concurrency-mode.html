<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Concurrency Mode parameter - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="concurrency-mode" /><meta name="default_state" content="concurrency-mode" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/concurrency-mode.html" /><meta name="description" content="Concurrency Mode is a parameter for StackSetOperationPreferences that allows you to choose how the concurrency level behaves during stack set operations. You can choose between the following modes:" /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Create and manage AWS infrastructure deployments predictably and repeatedly using AWS CloudFormation with this User Guide." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/concurrency-mode.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/concurrency-mode.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/concurrency-mode.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/concurrency-mode.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/concurrency-mode.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/concurrency-mode.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/concurrency-mode.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/concurrency-mode.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/concurrency-mode.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/concurrency-mode.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/concurrency-mode.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/concurrency-mode.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/concurrency-mode.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/concurrency-mode.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/concurrency-mode.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/concurrency-mode.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/concurrency-mode.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/concurrency-mode.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/concurrency-mode.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/concurrency-mode.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/concurrency-mode.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/concurrency-mode.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="Concurrency Mode parameter" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Concurrency Mode parameter - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/concurrency-mode.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/concurrency-mode.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/concurrency-mode.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Working with AWS CloudFormation StackSets",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/what-is-cfnstacksets.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Getting started with AWS CloudFormation StackSets",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stacksets-getting-started.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Concurrency Mode parameter",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stacksets-getting-started.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">User Guide</a></div><div id="page-toc-src"><a href="#concurrency-mode-example">How each Concurrency Mode works</a><a href="#concurrency-mode-comparison">Choosing between Strict failure
                    tolerance and Soft failure tolerance based on deployment speed</a><a href="#concurrency-mode-console">Choosing your Concurrency Mode using the
                    AWS Management Console</a><a href="#concurrency-mode-cli">Choosing your Concurrency Mode using the
                    AWS Command Line Interface</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="concurrency-mode">Concurrency Mode parameter</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p><b>Concurrency Mode</b> is a parameter for <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_StackSetOperationPreferences.html"><code class="code">StackSetOperationPreferences</code></a> that allows you to choose how
            the concurrency level behaves during stack set operations. You can choose between the
            following modes:</p><div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Strict Failure Tolerance</b>: This option dynamically lowers
                    the concurrency level to ensure the number of failed accounts never exceeds the
                    value of <b>Failure tolerance</b> +1. The initial actual
                    concurrency is set to the lower of either the value of the <b>Maximum
                        concurrent accounts</b>, or the value of <b>Failure
                        tolerance</b> +1. The actual concurrency is then reduced
                    proportionally by the number of failures. This is the default behavior.</p>
            </li><li class="listitem">
                <p><b>Soft Failure Tolerance</b>: This option decouples
                        <b>Failure tolerance</b> from the actual concurrency. This
                    allows stack set operations to run at the concurrency level set by the
                        <b>Maximum concurrent accounts</b> value, regardless of the
                    number of failures.</p>
            </li></ul></div><p><b>Strict Failure Tolerance</b> lowers the deployment speed as stack set
            operation failures occur because concurrency decreases for each failure. <b>Soft
                Failure Tolerance</b> prioritizes deployment speed while still leveraging
            AWS CloudFormation safety capabilities. This allows you to review and address stack set operation
            failures for common issues such as those related to existing resources, service quotas,
            and permissions.</p><p>For more information on StackSets stack operation failures, see <a href="./stacksets-troubleshooting.html#common-reasons-for-stack-operation-failure">Common reasons for stack
                operation failure</a>.</p><p>For more information on <b>Maximum concurrent accounts</b> and
                <b>Failure tolerance</b>, see <a href="./stacksets-concepts.html#stackset-ops-options">Stack set operation options</a>.</p>
            <h2 id="concurrency-mode-example">How each Concurrency Mode works</h2>
            <p>The images below provide a visual representation of how each <b>Concurrency
                    Mode</b> works during a stack set operation. The string of nodes
                represents a deployment to single AWS Region and each node is a target
                AWS account.</p>
            <div class="variablelist">
                 
                 
            <dl>
                    <dt><span class="term"><b>Strict Failure Tolerance</b></span></dt>
                    <dd>
                        <p>When a stack set operation using <b>Strict Failure
                                Tolerance</b> has the <b>Failure tolerance</b>
                            value set to 5 and the <b>Maximum concurrent accounts</b>
                            value set to 10, the actual concurrency is 6. The actual concurrency is
                            6 because this the <b>Failure tolerance</b> value of 5 +1
                            is lower than the value of <b>Maximum concurrent
                                accounts</b>.</p>
                        <p>The following image shows the impact that the <b>Failure
                                tolerance</b> value has on the <b>Maximum concurrent
                                accounts</b> value, and the impact they both have on the
                            actual concurrency of the stack set operation:</p>
                        <div class="mediaobject">
                             
                                <img src="/images/AWSCloudFormation/latest/UserGuide/images/concurrency-strict-failure-tolerance-1.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;                                This is a stack operation with Strict Failure&#xA;                                        Tolerance. Failure tolerance&#xA;                                    is set to 5 and the Maximum concurrent&#xA;                                        accounts is set to 10. The actual concurrency is&#xA;                                    6.&#xA;                            " style="max-width:100%" />
                             
                             
                        </div>
                        <p>When deployment begins and there are failed stack instances, then the
                            actual concurrency reduces to provide a safe deployment experience. The
                            actual concurrency reduces from 6 to 5 when StackSets fails to
                            deploy 1 stack instance.</p>
                        <div class="mediaobject">
                             
                                <img src="/images/AWSCloudFormation/latest/UserGuide/images/concurrency-strict-failure-tolerance-2.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;                                This is a stack operation with Strict Failure&#xA;                                        Tolerance. Failure tolerance&#xA;                                    is set to 5 and the Maximum concurrent&#xA;                                        accounts is set to 10, the actual concurrency is&#xA;                                    6. There's 1 successful stack operation and 1 failure.&#xA;                            " style="max-width:100%" />
                             
                             
                        </div>
                        <div class="mediaobject">
                             
                                <img src="/images/AWSCloudFormation/latest/UserGuide/images/concurrency-strict-failure-tolerance-3.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;                                This is a stack operation with Strict Failure&#xA;                                        Tolerance. Failure tolerance&#xA;                                    is set to 5 and the Maximum concurrent&#xA;                                        accounts is set to 10. There's now 2 successful&#xA;                                    stack operation and 1 failure. The concurrency reduces to&#xA;                                    5.&#xA;                            " style="max-width:100%" />
                             
                             
                        </div>
                        <p>The <b>Strict Failure Tolerance</b> mode reduces the
                            actual concurrency proportionally to the number of failed stack
                            instances. In the following example, the actual concurrency reduces from
                            5 to 3 when StackSets fails to deploy 2 more stack instances, bringing
                            the total of failed stack instances to 3.</p>
                        <div class="mediaobject">
                             
                                <img src="/images/AWSCloudFormation/latest/UserGuide/images/concurrency-strict-failure-tolerance-4.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;                                This is a stack operation with Strict Failure&#xA;                                        Tolerance. Failure tolerance&#xA;                                    is set to 5 and the Maximum concurrent&#xA;                                        accounts is set to 10. There are 3 successful&#xA;                                    stack operations, and there are now 3 failed operations. The&#xA;                                    actual concurrency has reduced to 3 concurrent&#xA;                                    operations.&#xA;                            " style="max-width:100%" />
                             
                             
                        </div>
                        <p>StackSets fails the stack set operation when the number of failed
                            stack instances equals the defined value of <b>Failure
                                tolerance</b> +1. In the following example, StackSets fails
                            the operation when there are 6 failed stack instances and the
                                <b>Failure tolerance</b> value is 5.</p>
                        <div class="mediaobject">
                             
                                <img src="/images/AWSCloudFormation/latest/UserGuide/images/concurrency-strict-failure-tolerance-5.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;                                This is a stack operation with Strict Failure&#xA;                                        Tolerance. Failure tolerance&#xA;                                    is set to 5 and the Maximum concurrent&#xA;                                        accounts is set to 10. There are 3 successful&#xA;                                    stack operations, and there are now 6 failed stack operations.&#xA;                                    The stack set operation has failed now that it has reached the&#xA;                                        Failure tolerance +1.&#xA;                            " style="max-width:100%" />
                             
                             
                        </div>
                        <p>In this example, StackSets deployed 9 stack instances (3
                            successful and 6 failed) before stopping the stack set operation.</p>
                    </dd>
                 
                    <dt><span class="term"><b>Soft Failure Tolerance</b></span></dt>
                    <dd>
                        <p>When a stack set operation using <b>Soft Failure
                                Tolerance</b> has the <b>Failure tolerance</b>
                            value set to 5 and the <b>Maximum concurrent accounts</b>
                            value set to 10, the actual concurrency is 10.</p>
                        <div class="mediaobject">
                             
                                <img src="/images/AWSCloudFormation/latest/UserGuide/images/concurrency-soft-failure-tolerance-1.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;                                This is a stack operation with Soft Failure&#xA;                                        Tolerance. Failure tolerance&#xA;                                    is set to 5 and the Maximum concurrent&#xA;                                        accounts is set to 10. The actual concurrency is&#xA;                                    10.&#xA;                            " style="max-width:100%" />
                             
                             
                        </div>
                        <p>When deployment begins and there are failed stack instances, the
                            actual concurrency doesn't change. In the following example, 1 stack
                            operation failed, but the actual concurrency remains at 10.</p>
                        <div class="mediaobject">
                             
                                <img src="/images/AWSCloudFormation/latest/UserGuide/images/concurrency-soft-failure-tolerance-2.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;                                This is a stack operation with Soft Failure&#xA;                                        Tolerance. Failure tolerance&#xA;                                    is set to 5 and the Maximum concurrent&#xA;                                        accounts is set to 10. 1 stack operation has&#xA;                                    failed, but the actual concurrency remains at 10.&#xA;                            " style="max-width:100%" />
                             
                             
                        </div>
                        <p>The actual concurrency remains at 10 even after 2 more stack instance
                            failures.</p>
                        <div class="mediaobject">
                             
                                <img src="/images/AWSCloudFormation/latest/UserGuide/images/concurrency-soft-failure-tolerance-3.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;                                This is a stack operation with Soft Failure&#xA;                                        Tolerance. Failure tolerance&#xA;                                    is set to 5 and the Maximum concurrent&#xA;                                        accounts is set to 10. 3 total stack operations&#xA;                                    have failed, but the actual concurrency still remains at&#xA;                                    10.&#xA;                            " style="max-width:100%" />
                             
                             
                        </div>
                        <p>StackSets fails the stack set operation when failed stack instances
                            exceeds the <b>Failure tolerance</b> value. In the
                            following example, StackSets fails the operation when there are 6 failed
                            stack instances and the <b>Failure tolerance</b> count is
                            5. However, the operation won't end until the remaining operations in
                            the concurrency queue finish.</p>
                        <div class="mediaobject">
                             
                                <img src="/images/AWSCloudFormation/latest/UserGuide/images/concurrency-soft-failure-tolerance-4.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;                                This is a stack operation with Soft Failure&#xA;                                        Tolerance. Failure tolerance&#xA;                                    is set to 5 and the Maximum concurrent&#xA;                                        accounts is set to 10. 6 total stack operations&#xA;                                    have failed, and the actual concurrency still remains at 10. The&#xA;                                    stack set operation has failed, but the concurrency queue still&#xA;                                    has 7 remaining operations left to perform. The concurrency&#xA;                                    queue will finish before the operation actually fails.&#xA;                            " style="max-width:100%" />
                             
                             
                        </div>
                        <p>StackSets continues to deploy stack instances that are already in the
                            concurrency queue. This means that the number of failed stack instances
                            can be higher than <b>Failure tolerance</b>. In the
                            following example, there are 8 failed stack instances because the
                            concurrency queue still had 7 operations left to perform, even though
                            the stack set operation had reached the <b>Failure
                                tolerance</b> of 5.</p>
                        <div class="mediaobject">
                             
                                <img src="/images/AWSCloudFormation/latest/UserGuide/images/concurrency-soft-failure-tolerance-5.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;                                This is a stack operation with Soft Failure&#xA;                                        Tolerance. The Failure&#xA;                                        tolerance is set to 5 and the Maximum&#xA;                                        concurrent accounts is set to 10. 8 total stack&#xA;                                    operations have failed, and the actual concurrency remained at&#xA;                                    10. A total of 8 stack instances failed because the concurrency&#xA;                                    queue still had 7 operations left to perform, even after&#xA;                                    exceeding the failure tolerance threshold of 5. After the&#xA;                                    failure tolerance threshold was reached and the operations in&#xA;                                    the concurrency queue finished, the stack set operation&#xA;                                    failed.&#xA;                            " style="max-width:100%" />
                             
                             
                        </div>
                        <p>In this example, StackSets deployed 15 stack instances (7
                            successful and 8 failed) before stopping the stack operation.</p>
                    </dd>
                </dl></div>
         
            <h2 id="concurrency-mode-comparison">Choosing between Strict failure
                    tolerance and Soft failure tolerance based on deployment speed</h2>
            <p>Choosing between <b>Strict failure tolerance</b> and <b>Soft
                    failure tolerance</b> modes depends on the preferred speed of your stack
                set deployment and the permissible number of deployment failures.</p>
            <p>The following tables show how each concurrency mode handles a stack set operation
                that fails while trying to deploy 1000 total stack instances. In each scenario, the
                    <b>Failure tolerance</b> value is set to 100 stack instances and
                the <b>Maximum concurrent accounts</b> value is set to 250 stack
                instances.</p>
            <p>While StackSets actually queues accounts as a sliding window (see <a href="#concurrency-mode-example">How each Concurrency Mode works</a>),
                this example shows the operation in batches to demonstrate the speed of each
                mode.</p>
             
                <h3 id="concurrency-mode-comparison-strict">Strict failure
                        tolerance</h3>
                <p>This example using <b>Strict failure tolerance</b> mode lowers
                    the actual concurrency relative to the number of failures that occur in each
                    preceding batch. Each batch has 20 failed instances, which then lowers the
                    actual concurrency of the following batch by 20 until the stack set operation
                    reaches the <b>Failure tolerance</b> value of 100.</p>
                <p>In following table, the initial actual concurrency of the first batch is 101
                    stack instances. The actual concurrency is 101 because it's the lower value of
                    either the <b>Maximum concurrent accounts</b> (250) and the
                        <b>Failure tolerance</b> (100) +1. Each batch contains 20
                    failed stack instance deployments, which then lowers the actual concurrency of
                    each following batch by 20 stack instances.</p>
                <div class="table-container"><div class="table-contents disable-scroll"><table id="w1355aac27c17c15c15b9b7"><thead>
                            <tr>
                                <th><b>Strict failure
                                    tolerance</b></th>
                                <th><b>Batch 1</b></th>
                                <th><b>Batch 2</b></th>
                                <th><b>Batch 3</b></th>
                                <th><b>Batch 4</b></th>
                                <th><b>Batch 5</b></th>
                                <th><b>Batch 6</b></th>
                            </tr>
                        </thead>
                            <tr>
                                <td tabindex="-1"><b>Actual concurrency
                                    count</b></td>
                                <td tabindex="-1">101</td>
                                <td tabindex="-1">81</td>
                                <td tabindex="-1">61</td>
                                <td tabindex="-1">41</td>
                                <td tabindex="-1">21</td>
                                <td tabindex="-1">-</td>
                            </tr>
                            <tr>
                                <td tabindex="-1"><b>Failed instance
                                    count</b></td>
                                <td tabindex="-1">20</td>
                                <td tabindex="-1">20</td>
                                <td tabindex="-1">20</td>
                                <td tabindex="-1">20</td>
                                <td tabindex="-1">20</td>
                                <td tabindex="-1">-</td>
                            </tr>
                            <tr>
                                <td tabindex="-1"><b>Successful stack instance count
                                    </b></td>
                                <td tabindex="-1">81</td>
                                <td tabindex="-1">61</td>
                                <td tabindex="-1">41</td>
                                <td tabindex="-1">21</td>
                                <td tabindex="-1">1</td>
                                <td tabindex="-1">-</td>
                            </tr>
                        </table></div></div>
                <p>The operation using <b>Strict failure tolerance</b> completed
                    305 stack instance deployments in 5 batches by the time the stack set operation
                    reached the <b>Failure tolerance</b> of 100 stack instances. The
                    stack set operation successfully deploys 205 stack instances before it
                    fails.</p>
             
             
                <h3 id="concurrency-mode-comparison-soft">Soft failure
                        tolerance</h3>
                <p>This example using <b>Soft failure tolerance</b> mode maintains
                    the same actual concurrency count defined by the <b>Maximum concurrent
                        accounts</b> value of 250 stack instances, regardless of the number
                    of failed instances. The stack set operations keeps the same actual concurrency
                    until it reaches the <b>Failure tolerance</b> value of 100
                    instances.</p>
                <p>In following table, the initial actual concurrency of the first batch is 250
                    stack instances. The actual concurrency is 250 because the <b>Maximum
                        concurrent accounts</b> value is set to 250 and <b>Soft
                        failure tolerance</b> mode allows StackSets to use this value as
                    the actual concurrency, regardless of the number of failures. Even though there
                    are 50 failures in each of the batches for this example, the actual concurrency
                    remains unaffected.</p>
                <div class="table-container"><div class="table-contents disable-scroll"><table id="w1355aac27c17c15c15c11b7"><thead>
                            <tr>
                                <th><b>Soft failure
                                    tolerance</b></th>
                                <th><b>Batch 1</b></th>
                                <th><b>Batch 2</b></th>
                                <th><b>Batch 3</b></th>
                                <th><b>Batch 4</b></th>
                                <th><b>Batch 5</b></th>
                                <th><b>Batch 6</b></th>
                            </tr>
                        </thead>
                            <tr>
                                <td tabindex="-1"><b>Actual concurrency
                                    count</b></td>
                                <td tabindex="-1">250</td>
                                <td tabindex="-1">250</td>
                                <td tabindex="-1">-</td>
                                <td tabindex="-1">-</td>
                                <td tabindex="-1">-</td>
                                <td tabindex="-1">-</td>
                            </tr>
                            <tr>
                                <td tabindex="-1"><b>Failed instance
                                    count</b></td>
                                <td tabindex="-1">50</td>
                                <td tabindex="-1">50</td>
                                <td tabindex="-1">-</td>
                                <td tabindex="-1">-</td>
                                <td tabindex="-1">-</td>
                                <td tabindex="-1">-</td>
                            </tr>
                            <tr>
                                <td tabindex="-1"><b>Successful stack instance count
                                    </b></td>
                                <td tabindex="-1">200</td>
                                <td tabindex="-1">200</td>
                                <td tabindex="-1">-</td>
                                <td tabindex="-1">-</td>
                                <td tabindex="-1">-</td>
                                <td tabindex="-1">-</td>
                            </tr>
                        </table></div></div>
                <p>Using the same <b>Maximum concurrent accounts</b> value and
                        <b>Failure tolerance</b> value, the operation using <b>Soft
                        failure tolerance</b> mode completed 500 stack instance deployments in 2
                    batches. The stack set operation successfully deploys 400 stack instances before
                    it fails.</p>
             
         
            <h2 id="concurrency-mode-console">Choosing your Concurrency Mode using the
                    AWS Management Console</h2>
            <p>You can choose the <b>Concurrency Mode</b> for new or existing stack
                sets on the <b>Set deployment options</b> page.</p>
            <div class="mediaobject">
                 
                    <img src="/images/AWSCloudFormation/latest/UserGuide/images/concurrency-console.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;                    The Deployment options page showing the&#xA;                            Concurrency Mode options.&#xA;                " style="max-width:100%" />
                 
                 
            </div>
            <p>For more information on creating new stack sets using the AWS Management Console, see <a href="./stacksets-getting-started-create.html">Create a stack set</a>.</p>
            <p>For more information on updating existing stack sets using the AWS Management Console, see
                    <a href="./stacksets-update.html#stacksets-update-console">Update your stack set using the AWS CloudFormation
                    console</a>.</p>
            <p>For more information on deleting stack sets using the AWS Management Console, see <a href="./stacksets-delete.html#stacksets-delete-set">Delete a stack set using the
                    AWS Management Console</a>.</p>
         
            <h2 id="concurrency-mode-cli">Choosing your Concurrency Mode using the
                    AWS Command Line Interface</h2>
            <p>You can use the <code class="code">ConcurrencyMode</code> parameter with the following
                StackSets commands:</p>
            <div class="itemizedlist">
                 
                 
                 
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/create-stack-instances.html"><code class="code">create-stack-instances</code></a></p>
                </li><li class="listitem">
                    <p><a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/delete-stack-instances.html"><code class="code">delete-stack-instances</code></a></p>
                </li><li class="listitem">
                    <p><a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/detect-stack-set-drift.html"><code class="code">detect-stack-set-drift</code></a></p>
                </li><li class="listitem">
                    <p><a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/import-stacks-to-stack-set.html"><code class="code">import-stacks-to-stack-set</code></a></p>
                </li><li class="listitem">
                    <p><a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/update-stack-instances.html"><code class="code">update-stack-instances</code></a></p>
                </li><li class="listitem">
                    <p><a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/update-stack-set.html"><code class="code">update-stack-set</code></a></p>
                </li></ul></div>
            <p>These commands have an existing parameter called
                    <code class="code">--operation-preferences</code> that can use the
                    <code class="code">ConcurrencyMode</code> setting. <code class="code">ConcurrencyMode</code> can be set to
                one of the following values:</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">STRICT_FAILURE_TOLERANCE</code></p>
                </li><li class="listitem">
                    <p><code class="code">SOFT_FAILURE_TOLERANCE</code></p>
                </li></ul></div>
            <p>The following example creates a stack instance using the
                    <code class="code">STRICT_FAILURE_TOLERANCE</code>
                <code class="code">ConcurrencyMode</code>, with a <code class="code">FailureToleranceCount</code> set to 10
                and a <code class="code">MaxConcurrentCount</code> set to 5:</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">aws cloudformation create-stack-instances \
  --stack-set-name <code class="replaceable">example-stackset</code> \
  --accounts <code class="replaceable">123456789012</code> \
  --regions <code class="replaceable">eu-west-1</code>  \
  --operation-preferences ConcurrencyMode=STRICT_FAILURE_TOLERANCE,FailureToleranceCount=10,MaxConcurrentCount=5</code></pre>
            <p>For more information on creating new stack sets using the AWS Command Line Interface (CLI), see
                    <a href="./stacksets-getting-started-create.html">Create a stack set</a>.</p>
            <p>For more information on updating existing stack sets using the AWS CLI, see <a href="./stacksets-update.html#stacksets-update-cli">Update your stack set using the AWS CLI</a>.</p>
            <p>For more information on deleting stack sets using the AWS CLI, see <a href="./stacksets-delete.html#stacksets-delete-set-cli">Delete a stack set using the
                    AWS CLI</a>.</p>
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./stackinstances-create.html">Add stacks to a stack set</div><div id="next" class="next-link" accesskey="n" href="./stackinstances-override.html">Override parameters on stack instances</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/concurrency-mode.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/concurrency-mode.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>