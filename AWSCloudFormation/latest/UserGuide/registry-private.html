<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Using private extensions in CloudFormation - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="registry-private" /><meta name="default_state" content="registry-private" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/registry-private.html" /><meta name="description" content="Private extensions are extensions that you have explicitly allowed for use in your AWS account." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Create and manage AWS infrastructure deployments predictably and repeatedly using AWS CloudFormation with this User Guide." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/registry-private.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/registry-private.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/registry-private.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/registry-private.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/registry-private.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/registry-private.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/registry-private.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/registry-private.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/registry-private.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/registry-private.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/registry-private.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/registry-private.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/registry-private.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/registry-private.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/registry-private.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/registry-private.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/registry-private.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/registry-private.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/registry-private.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/registry-private.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/registry-private.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/registry-private.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="Using private extensions in CloudFormation" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Using private extensions in CloudFormation - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/registry-private.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/registry-private.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/registry-private.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Using the AWS CloudFormation registry",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/registry.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Using private extensions in CloudFormation",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/registry.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">User Guide</a></div><div id="page-toc-src"><a href="#registry-register-private">Registering private extensions</a><a href="#registry-set-configuration">Configuring extensions at the account
                    level</a><a href="#registry-set-version">Specifying a version of a private extension
                    to use using the AWS CLI</a><a href="#registry-set-version-hook-default">To specify the default hook
                    version</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="registry-private">Using private extensions in CloudFormation</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p><em>Private</em> extensions are extensions that you have explicitly
            allowed for use in your AWS account.</p><p>There are two kinds of private extensions:</p><div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><em>Activated private extensions</em> – Are the local
                    copies of third-party extensions that you have activated for your account and
                    region. When you activate a third-party public extension, CloudFormation creates a
                    local copy of that extension in your account's registry.</p>
            </li><li class="listitem">
                <p><em>Registered private extensions</em> – Can also activate
                    private extensions that aren't listed in the public CloudFormation registry. These
                    may be extensions you've created yourself, or ones shared with you by your
                    organization or other third party. To use such a private extension in your
                    account, you must first register it. Registering the extension uploads a copy of
                    it to the CloudFormation registry in your account and activates it.</p>
            </li></ul></div><p>Any use of private extensions in your account is analogous to using it in a sandbox
            environment. This is because extensions are version-controlled, and provisioning
            behavior is version-specific, which means that private extensions behave the same as if
            they were made public.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Private extensions, and activated public extensions from third-party publishers, may implement event
    handlers that runs during create, read, update, list, and delete operations. Because of this, using these extensions
    in your CloudFormation stacks incurs charges to your account. This is in addition to any charges incurred for the
    resources created. For more information, see <a href="https://aws.amazon.com/cloudformation/pricing/" rel="noopener noreferrer" target="_blank"><span>AWS CloudFormation
     pricing</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></div></div><p>For information about developing private extensions of your own, see <a href="https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/what-is-cloudformation-cli.html">CloudFormation Command Line Interface User Guide</a>.</p>
            <h2 id="registry-register-private">Registering private extensions</h2>
            <p>To use private extensions that aren't listed in the CloudFormation registry--either
                ones you develop yourself, or ones that have been shared with you--you must first
                    <em>register</em> them with CloudFormation, in the accounts and regions
                in which you want to use them. Registering the extension uploads a copy of it to the
                CloudFormation registry in your account, and activates it. Once you're registered a
                private extension, it will appear in the CloudFormation registry for that account and
                region, and you can use it in your stack templates.</p>
            <p>You can register an extension using the <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/register-type.html">register-type</a> command of the AWS CLI, or using the <code class="code"><a href="https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-cli-submit.html">submit</a></code> command of the CloudFormation CLI.</p>
            <p>To register a private extension using the CloudFormation CLI, see <a href="https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-register.html">Registering extensions</a> in the <em>CloudFormation CLI User
                    Guide</em>.</p>

             
                <h3 id="registry-register-permissions">IAM permissions for
                        registering a private extension</h3>
                <p>As part of registering a private extension, you specify an Amazon S3 bucket which
                    contains the extension project package. This package contains any source files
                    necessary for the extension you want to register. The user registering the
                    extension must be able to access the project package in that Amazon S3 bucket.
                    That's, the user needs to have <a href="https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetObject.html">GetObject</a> permissions
                    for the extension package.</p>
                <p>This is true whether you're either using the <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/register-type.html">register-type</a> command of the AWS CLI, or the <code class="code"><a href="https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-cli-submit.html">submit</a></code> command of the CloudFormation CLI.</p>
                <p>For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/list_amazons3.html">Actions, Resources, and
                        Condition Keys for Amazon S3</a> in the <em>AWS Identity and Access Management User
                        Guide</em>.</p>

             
             
                <h3 id="registry-register-extension-types">Registering
                        extensions</h3>
                <p>Register your extension in the AWS CloudFormation registry so it's available for
                    use.</p>

                 
                    <h4 id="registry-register-private-hook">To register a hook using
                            the AWS CLI</h4>

                    <p>Register your hook with CloudFormation, so it's available for use in the
                        AWS CloudFormation registry.</p>
                    <div class="procedure"><ol><li>
                            <p>(Optional) Configure your default AWS Region name
                                to <code class="code">us-west-2</code>, by submitting the <code class="code"><a href="https://docs.aws.amazon.com/cli/latest/reference/configure/">configure</a></code> operation.</p>
                            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">aws configure
<code class="computeroutput" copy="false">AWS Access Key ID [None]:</code> <code class="userinput"><code class="replaceable">&lt;Your Access Key ID&gt;</code></code>
<code class="computeroutput" copy="false">AWS Secret Access Key [None]:</code> <code class="userinput"><code class="replaceable">&lt;Your Secret Key&gt;</code></code>
<code class="computeroutput" copy="false">Default region name [None]:</code> <code class="userinput"><code class="replaceable">us-west-2</code></code>
<code class="computeroutput" copy="false">Default output format [None]:</code> <code class="userinput"><code class="replaceable">json</code></code></code></pre>
                        </li><li>
                            <p>(Optional) The following command builds and packages your hook
                                project without registering it.</p>
                            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="prompt" copy="false">$ </code><code class="userinput">cfn submit --dry-run</code></code></pre>
                        </li><li>
                            <p>Register your hook by using the CloudFormation CLI <code class="code">cfn
                                    submit</code>.</p>
                            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="userinput">cfn submit --set-default</code></code></pre>
                            <p>The command returns the following command.</p>
                            <pre class="screen"><span>{</span>‘ProgressStatus’: ‘COMPLETE’}</pre>
                            <p><em>Results</em>: You've successfully registered your
                                hook.</p>
                        </li></ol></div>
                 
                 
                    <h4 id="registry-register-private-resource-type">To register a
                            resource type using the AWS CLI</h4>
                    <p>Register your resource type with CloudFormation, so it's available for use in
                        the AWS CloudFormation registry.</p>

                    <div class="procedure"><ol><li>
                            <p>Locate the Amazon S3 bucket that contains the project
                                package for the private extension you want to register in your
                                account.</p>
                        </li><li>
                            <p>Use the <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/register-type.html">register-type</a> command to register the extension in your
                                account:</p>
                            <p><code class="code">RegisterType</code> is an asynchronous operation, and
                                returns a registration token you can use to track the progress of
                                your registration request.</p>
                            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>If your extension calls AWS APIs as part of its
                                    functionality, you must create an IAM execution role that
                                    includes the necessary permissions to call those AWS APIs, and
                                    provision that execution role in your account. You can then
                                    specify this execution role using the
                                        <code class="code">--execution-role-arn</code> parameter. CloudFormation then
                                    assumes that execution role to provide your resource type with
                                    the appropriate credentials.</p></div></div>
                            <p>For example, the following command registers the
                                    <code class="code">My::Resource::Example</code> resource type in the current
                                    AWS account:</p>
                            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="userinput">aws cloudformation register-type --type-name <code class="replaceable">My::Resource::Example</code> --schema-handler-package [s3 object path] --type RESOURCE                </code>
<code class="computeroutput" copy="false"><span>{</span>
    "RegistrationToken": "f5525280-104e-4d35-bef5-8f1fexample"
}</code></code></pre>
                        </li><li>
                            <p>Optional: Use the registration token with the <code class="code"><a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/describe-type-registration.html">describe-type-registration</a></code> command to track
                                the progress of your registration request.</p>
                            <p>When CloudFormation completes the registration request, it sets the
                                progress status of the request to <code class="code">COMPLETE</code>.</p>
                            <p>The following example uses the registration token returned by the
                                    <code class="code">describe-type-registration</code> command above to return
                                registration status information.</p>
                            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="userinput">aws cloudformation describe-type-registration --registration-token f5525280-104e-4d35-bef5-8f1fexample</code>
<code class="computeroutput" copy="false"><span>{</span>
    "ProgressStatus": "COMPLETE",
    "TypeArn": "arn:aws:cloudformation:us-east-1:012345678910:type/resource/My-Resource-Example",
    "Description": "Deployment is currently in DEPLOY_STAGE of status COMPLETED; ",
    "TypeVersionArn": "arn:aws:cloudformation:us-east-1:111122223333:type/resource/My-Resource-Example/00000001"
}</code></code></pre>
                        </li></ol></div>
                 
             
         
            <h2 id="registry-set-configuration">Configuring extensions at the account
                    level</h2>
            <p>An extension can include configuration properties meant to apply to all instances
                of the extension for a given account and Region. The extension author defines these
                in the extension's definition configuration. If there are any required properties in
                the extension's configuration definition, you must specify those properties before
                you can use the extension in your account and Region.</p>
            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>If your type configuration includes dynamic references to values stored in
                    AWS Systems Manager or AWS Secrets Manager, any role used to provision the type (for example, when
                    creating or updating a stack) must have the proper permissions to retrieve that
                    value. Specifically:</p><div class="itemizedlist">
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>If the type configuration contains a parameter stored in AWS Systems Manager
                            Parameter Store, the user or role used to provision the type must
                            have permissions to call <a href="https://docs.aws.amazon.com/systems-manager/latest/APIReference/API_GetParameter.html">GetParameter</a>.</p>
                    </li><li class="listitem">
                        <p>If the type configuration contains a secret stored in AWS Secrets Manager, the
                            user or role used to provision the type must have permissions to
                            call <a href="https://docs.aws.amazon.com/secretsmanager/latest/apireference/API_GetSecretValue.html">GetSecretValue</a>. </p>
                    </li></ul></div><p>For more information on dynamic references, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/dynamic-references.html">Using
                        dynamic references to specify template values</a>.</p></div></div>
            <p>For more information about how configuration definitions are defined when
                developing an extension, see <a href="https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-model.html#resource-type-howto-configuration">Defining the account-level configuration of an extension</a> in the
                    <em>CloudFormation User Guide for Extension Development</em>.</p>
            <div class="procedure"><h6>To view the current configuration data for an extension in the CloudFormation
                    console</h6><ol><li>
                    <p>Use the CloudFormation registry to <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/registry.html#registry-view">find the extension</a>.</p>
                </li><li>
                    <p>Choose the extension to view the extension details.</p>
                </li><li>
                    <p>On the extension details page, choose the
                            <b>Configuration</b> tab.</p>
                </li><li>
                    <p>Expand the <b>Configuration schema</b> tab to see the
                        configuration schema defined for the extension.</p>
                </li><li>
                    <p>Expand the <b>Configuration</b> tab to see the current
                        configuration that you have set for this extension.</p>
                </li></ol></div>
            <div class="procedure"><h6>To view the current configuration data for an extension in the AWS CLI</h6><ul><li>
                 <p>Use the <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/describe-type.html">describe-type</a> command to return detailed information about the extension. The
       <code class="code">ConfigurationSchema</code> element of the output contains the current configuration definition of the
      extension in a given Region.</p>
                    <p>Alternatively, use the <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/batch-describe-type-configurations.html"><code class="code">batch-describe-type-configurations</code></a> command to
                        return configuration data about multiple extensions.</p>
                </li></ul></div>
             
                <h3 id="registry-set-configuration-procedure">To specify configuration
                        properties for extension types</h3>
                 
                    <h4 id="registry-set-configuration-procedure-console">To specify
                            configuration properties for an extension using the CloudFormation
                            console</h4>

                    <div class="procedure"><ol><li>
                            <p>Use the CloudFormation registry to <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/registry.html#registry-view-procedure">find the extension</a> in your account's activated
                                extensions.</p>
                        </li><li>
                            <p>Select the extension to view the extension details.</p>
                        </li><li>
                            <p>On the extension details page, from the
                                    <b>Configuration</b> tab, select <b>Edit
                                    configuration</b>.</p>
                            <p>Alternatively, from <b>Actions</b>, select
                                    <b>Edit</b>, and then select <b>Edit
                                    configuration</b>.</p>
                            <p>CloudFormation displays the <b>Configure extension</b>
                                page. Make sure that <b>View configuration schema</b>
                                is toggled on to see the extension's current configuration
                                definition schema.</p>
                        </li><li>
                            <p>In the <b>Configuration JSON</b> text box, enter a
                                JSON string that represents the configuration schema you want to set
                                for this extension. It must validate against the schema defined in
                                    <b>Configuration schema</b>.</p>
                        </li><li>
                            <p>Select <b>Configure extension</b>.</p>
                        </li></ol></div>
                 
                 
                    <h4 id="registry-set-configuration-procedure-cli">To specify
                            configuration properties for an extension using the AWS CLI</h4>

                    <div class="procedure"><ul><li>
                            <p>Use the <code class="code"><a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/set-type-configuration.html">set-type-configuration</a></code> command to specify
                                the configuration to be used with the extension in your account and
                                Region.</p>
                            <p>The JSON you pass for <code class="code">--configuration</code> must validate
                                against the extension's configuration definition schema. The
                                following is an example of a <code class="code"><a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/set-type-configuration.html">set-type-configuration</a></code> command that
                                specifies the configuration.</p>
                            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="userinput">aws cloudformation set-type-configuration \
    --region us-west-2 \
    --type RESOURCE \
    --type-name <code class="replaceable">My::Resource::Example</code> \
    --configuration-alias default \
    --configuration "<span>{</span>"CredentialKey": "testUserCredential"}"</code></code></pre>
                        </li></ul></div>
                 
             
         
            <h2 id="registry-set-version">Specifying a version of a private extension
                    to use using the AWS CLI</h2>

            <p>Over time, you may register multiple versions of the same extension. You can
                specify which version of the extension you want to use for CloudFormation
                operations.</p>

             
                <h3 id="registry-set-version-extension">To specify a version of an
                        extension</h3>
             
            <p>Use the <code class="code"><a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/set-type-default-version.html">set-type-default-version</a></code> command to specify which version of
                the extension to use for CloudFormation operations in your account.</p>
            <p>For example, the following command sets the default version of the
                    <code class="code">My::Resource::Example</code> resource type to <code class="code">00000003</code> for
                the current account.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="userinput">aws cloudformation set-type-default-version \
  --type RESOURCE \
  --type-name <code class="replaceable">My::Resource::Example</code> \
  --version-id 00000003</code></code></pre>

         
            <h2 id="registry-set-version-hook-default">To specify the default hook
                    version</h2>
            <p>To specify the default version of your hook in your account, use the <code class="code"><a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/set-type-default-version.html">set-type-default-version</a></code> command and specify the type, type
                name, and version ID.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="userinput">aws cloudformation set-type-default-version \
    --type HOOK \
    --type-name <code class="replaceable">MyCompany::Testing::MyTestHook</code> \
    --version-id <code class="replaceable">00000003</code></code></code></pre>
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./registry.html">Using the CloudFormation registry</div><div id="next" class="next-link" accesskey="n" href="./registry-public.html">Using public extensions</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/registry-private.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/registry-private.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>