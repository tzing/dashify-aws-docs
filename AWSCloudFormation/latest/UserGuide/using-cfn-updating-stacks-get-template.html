<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Modifying a stack template - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="using-cfn-updating-stacks-get-template" /><meta name="default_state" content="using-cfn-updating-stacks-get-template" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-get-template.html" /><meta name="description" content="Get and modify the AWS CloudFormation template for the stack that you want to update." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Create and manage AWS infrastructure deployments predictably and repeatedly using AWS CloudFormation with this User Guide." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-get-template.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-get-template.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-get-template.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-get-template.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-get-template.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-get-template.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-get-template.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-get-template.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-get-template.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-get-template.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-get-template.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-get-template.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-get-template.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-get-template.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-get-template.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-get-template.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-get-template.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-get-template.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-get-template.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-get-template.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-get-template.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-get-template.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="Modifying a stack template" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Modifying a stack template - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-get-template.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-get-template.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-get-template.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Working with stacks",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stacks.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "AWS CloudFormation stack updates",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Modifying a stack template",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">User Guide</a></div><div id="page-toc-src"><a href="#using-cfn-updating-stacks-get-stack.CON">Update a stack's template (console)</a><a href="#using-cfn-updating-stacks-get-stack.CLI">Get and update a template for a stack (CLI)</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="using-cfn-updating-stacks-get-template">Modifying a stack template</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>If you want to modify resources and properties that are declared in a stack template, you
      must modify the stack's template. To ensure that you update only the resources that you intend
      to update, use the template for the existing stack as a starting point and  make your updates
      to that template. If you are managing your template in a source control system, use a copy of
      that template as a starting point. Otherwise, you can get a copy of a stack template from
      AWS CloudFormation.</p><p>If you want to modify just the parameters or settings of a stack (like a stack's Amazon SNS
      topic), you can reuse the existing stack template. You don't need to get a copy of the stack
      template or make modifications to the stack template.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>If your template includes an unsupported change, AWS CloudFormation returns a message saying that the
         change isn't permitted. This message might occur asynchronously, however, because resources
         are created and updated by AWS CloudFormation in a non-deterministic order by default.</p></div></div><div class="highlights" id="inline-topiclist"><h6>Topics</h6><ul><li><a href="#using-cfn-updating-stacks-get-stack.CON">Update a stack's template (console)</a></li><li><a href="#using-cfn-updating-stacks-get-stack.CLI">Get and update a template for a stack (CLI)</a></li></ul></div><h2 id="using-cfn-updating-stacks-get-stack.CON">Update a stack's template (console)</h2>
      
      <div class="procedure"><ol><li>
            <p>On the <b>Stacks</b> page of the <a href="https://console.aws.amazon.com/cloudformation" rel="noopener noreferrer" target="_blank"><span>AWS CloudFormation console</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>, click the name of
               the stack that you want to update.</p>
         </li><li><p>In the stack details pane for the selected stack, select the <b>Template</b>
               pane, and then click <b>View in Designer</b>.</p>
            <p>AWS CloudFormation opens a copy of the stack's template in AWS CloudFormation Designer.</p></li><li>
            <p>Modify the template.</p>
            <p>You can use the AWS CloudFormation Designer drag-and-drop interface or the integrated JSON and YAML editor 
               to modify the template. For more information about using AWS CloudFormation Designer, see <a href="./working-with-templates-cfn-designer.html">What is AWS CloudFormation Designer?</a>.</p>
            <p>Modify only the resources that you want to update. Use the <em>same
                  values</em> as the current stack configuration for resources and properties
               that you aren't updating. You can modify the template by completing any of the
               following actions:</p><div class="itemizedlist">
                   
                   
                   
                   
                   
                   
                   
               <ul class="itemizedlist"><li class="listitem">
                     <p>Add new resources, or remove existing resources.</p>
                     <p>For most resources, changing the logical name of a resource is equivalent
                     to deleting that resource and replacing it with a new one. Any other resources
                     that depend on the renamed resource also need to be updated and might cause
                     them to be replaced. Other resources require you to update a property (not just
                     the logical name) in order to initiate an update.</p>
                  </li><li class="listitem">
                     <p>Add, modify, or delete properties of existing resources.</p>
                     <p>Consult the <a href="./aws-template-resource-type-ref.html">AWS Resource
                           Types Reference</a> for information about the effects of updating
                        particular resource properties. For each property, the effects of an update
                        will be one of the following:</p>
                     <div class="itemizedlist">
                         
                         
                         
                     <ul class="itemizedlist"><li class="listitem">
                           <p><em>Update requires</em>: <a href="./using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                        </li><li class="listitem">
                           <p><em>Update requires</em>: <a href="./using-cfn-updating-stacks-update-behaviors.html#update-some-interrupt">Some interruptions</a></p>
                        </li><li class="listitem">
                           <p><em>Update requires</em>: <a href="./using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                        </li></ul></div>
                  </li><li class="listitem">
                     <p>Add, modify, or delete attributes for resources
                           (<code class="code">Metadata</code>, <code class="code">DependsOn</code>,
                           <code class="code">CreationPolicy</code>, <code class="code">UpdatePolicy</code>,
                        and <code class="code">DeletionPolicy</code>).</p>
                     <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>You can't update the <code class="code">CreationPolicy</code> or <code class="code">UpdatePolicy</code>
                        attribute by itself. You can update them only when you include changes that add, modify,
                        or delete resources. For example, you can add or modify a metadata attribute
                        of a resource.</p></div></div>
                  </li><li class="listitem">
                     <p>Add, modify, or delete parameter declarations. However, you can't add,
                     modify, or delete a parameter that's used by a resource that doesn't support
                     updates.</p>
                  </li><li class="listitem">
                     <p>Add, modify, or delete mapping declarations.</p>
                     <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>If the values in a mapping aren't being used by your stack, you can't
                        update the mapping by itself. You need to include changes that add, modify,
                        or delete resources. For example, you can add or modify a metadata attribute
                        of a resource. If you update a mapping value that your stack is using, you
                        don't need to make any other changes to initiate an update.</p></div></div>
                  </li><li class="listitem">
                     <p>Add, modify, or delete condition declarations.</p>
                     <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>You can't update conditions by themselves. You can update conditions
                        only when you include changes that add, modify, or delete resources. For
                        example, you can add or modify a metadata attribute of a resource.</p></div></div>
                  </li><li class="listitem">
                     <p>Add, modify, or delete output value declarations.</p>
                  </li></ul></div>
            <p>Some resources or properties may have constraints on property values or changes to
               those values. For example, changes to the <code class="code">AllocatedStorage</code> property of
               an <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-rds-database-instance.html"> AWS::RDS::DBInstance</a> resource must be greater than the current setting.
               If the value specified for the update doesn't meet those constraints, the update for
               that resource fails. For the specific constraints on <code class="code">AllocatedStorage</code>
               changes, see <a href="http://docs.aws.amazon.com/AmazonRDS/latest/APIReference/API_ModifyDBInstance.html">
                  ModifyDBInstance</a>.</p>
            <p>Updates to a resource can affect the properties of other resources. If you used
               the <a href="./intrinsic-function-reference-ref.html"> Ref function </a> or the
                  <a href="./intrinsic-function-reference-getatt.html"> Fn::GetAtt function</a> to
               specify an attribute from an updated resource as part of a property value in another
               resource in the template, AWS CloudFormation also updates the resource that contains the reference
               to the property that has changed. For example, if you updated the
                  <code class="code">MasterUsername</code> property of an <code class="code">AWS::RDS::DBInstance</code>
               resource and you had an <code class="code">AWS::AutoScaling::LaunchConfiguration</code> resource
               that had a <code class="code">UserData</code> property that contained a reference to the DB
               instance name using the <code class="code">Ref</code> function, AWS CloudFormation would recreate the DB
               instance with a new name and also update the <code class="code">LaunchConfiguration</code>
               resource.</p>
         </li><li>
            <p>To check for syntax errors in your template, from the AWS CloudFormation Designer toolbar, choose
                  <b>Validate template</b> (<span class="inlinemediaobject">
                      
                        <img src="/images/AWSCloudFormation/latest/UserGuide/images/designer-validate-icon.png" class="aws-docs-img-whiteBg aws-docs-img-xs-padding" />
                      
                  </span>).</p>
            <p>View and fix any errors in the <b>Messages</b> pane, and then validate
               the template again. If you don't see any errors, your template is syntactically
               valid.</p>
         </li><li>
            <p>From the AWS CloudFormation Designer toolbar, choose the <b>File</b> menu (<span class="inlinemediaobject">
                      
                        <img src="/images/AWSCloudFormation/latest/UserGuide/images/designer-file-menu.png" class="aws-docs-img-whiteBg aws-docs-img-xs-padding" />
                      
                  </span>) and then <b>Save</b> to save the
               template in an S3 bucket or locally.</p>
         </li><li>
            <p>Use your modified template to <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-direct.html">update your stack directly</a> or <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets.html">update your stack using a change set</a>.</p>
         </li></ol></div>
   <h2 id="using-cfn-updating-stacks-get-stack.CLI">Get and update a template for a stack (CLI)</h2>
      
      <div class="procedure"><ol><li>
            <p>To get the template for the stack you want to update, use the command <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/get-template.html"><code class="code">aws cloudformation get-template</code></a>.</p>
         </li><li>
            <p>Copy the template, paste it into a text file, modify it, and save it. Copy
                  <em>only</em> the template. The command encloses the template in
               quotation marks, but don't copy the quotation marks surrounding the template. The
               template itself starts with an open brace and ends with the final close brace.
               Specify changes to the stack's resources in this file.</p>
         </li><li>
            <p>Use your modified template to <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-direct.html">update your stack directly</a> or <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets.html">update your stack using a change set</a>.</p>
         </li></ol></div>
   <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./using-cfn-updating-stacks-update-behaviors.html">Update behaviors of stack
         resources</div><div id="next" class="next-link" accesskey="n" href="./using-cfn-updating-stacks-changesets.html">Updating stacks using change sets</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-get-template.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-get-template.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>