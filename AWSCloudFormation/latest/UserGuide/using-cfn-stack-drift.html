<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Detecting unmanaged configuration changes to stacks and resources - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="using-cfn-stack-drift" /><meta name="default_state" content="using-cfn-stack-drift" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" /><meta name="description" content="Drift detection enables you to detect whether a stack's actual configuration differs, or has drifted, from its expected configuration." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Create and manage AWS infrastructure deployments predictably and repeatedly using AWS CloudFormation with this User Guide." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="Detecting unmanaged configuration changes to stacks and resources" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Detecting unmanaged configuration changes to stacks and resources - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Working with stacks",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stacks.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Detecting unmanaged configuration changes to stacks and resources",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stacks.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">User Guide</a></div><div id="page-toc-src"><a href="#what-is-drift">What is drift?</a><a href="#drift-status-codes">Drift detection status codes</a><a href="#drift-considerations">Considerations when detecting drift</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="using-cfn-stack-drift">Detecting unmanaged configuration changes to stacks and resources</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Even as you manage your resources through CloudFormation, users can change those resources
            <em>outside</em> of CloudFormation. Users can edit resources directly by using
        the underlying service that created the resource. For example, you can use the Amazon EC2 console
        to update a server instance that was created as part of a CloudFormation stack. Some changes may
        be accidental, and some may be made intentionally to respond to time-sensitive operational
        events. Regardless, changes made outside of CloudFormation can complicate stack update or
        deletion operations. You can use drift detection to identify stack resources to which
        configuration changes have been made outside of CloudFormation management. You can then take
        corrective action so that your stack resources are again in sync with their definitions in
        the stack template, such as updating the drifted resources directly so that they agree with
        their template definition. Resolving drift helps to ensure configuration consistency and
        successful stack operations.</p><div class="highlights"><h6>Topics</h6><ul><li><a href="#what-is-drift">What is drift?</a></li><li><a href="#drift-status-codes">Drift detection status codes</a></li><li><a href="#drift-considerations">Considerations when detecting drift</a></li><li><a href="./detect-drift-stack.html">Detect drift on an entire CloudFormation stack</a></li><li><a href="./detect-drift-resource.html">Detect drift on individual stack
                resources</a></li><li><a href="./resource-import-resolve-drift.html">Resolve drift with an import
                operation</a></li></ul></div>
        <h2 id="what-is-drift">What is drift?</h2>
        <p>Drift detection enables you to detect whether a stack's actual configuration differs,
            or has <em>drifted</em>, from its expected configuration. Use CloudFormation to
            detect drift on an entire stack, or on individual resources within the stack. A resource
            is considered to have drifted if any of its actual property values differ from the
            expected property values. This includes if the property or resource has been deleted. A
            stack is considered to have drifted if one or more of its resources have drifted.</p>
        <p>To determine whether a resource has drifted, CloudFormation determines the expected
            resource property values, as defined in the stack template and any values specified as
            template parameters. CloudFormation then compares those expected values with the actual
            values of those resource properties as they currently exist in the stack. A resource is
            considered to have drifted if one or more of its properties have been deleted, or had
            their value changed.</p>
        <p>CloudFormation generates detailed information on each resource in the stack that has
            drifted.</p>
        <p>CloudFormation detects drift on those AWS resources that support drift detection. Resources that don't
   support drift detection are assigned a drift status of NOT_CHECKED. For a list of AWS resources that support drift
   detection, see <a href="./resource-import-supported-resources.html">Resource type support</a>.</p>
        <p>In addition, CloudFormation supports drift detection on private resource types that are
    <em>provisionable</em>; that's, whose provisioning type is either <code class="code">FULLY_MUTABLE</code> or
    <code class="code">IMMUTABLE</code>. To perform drift detection on a resource of a private resource type, the default version of
   the resource type <em>that you have registered in your account</em> must be provisionable. For more
   information on resource provision type, see the <code class="code">ProvisioningType</code> parameter of the <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_DescribeType.html"><code class="code">DescribeType</code></a> action in the AWS CloudFormation API Reference and of the <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/describe-type.html"><code class="code">DescribeType</code></a> command in the
   AWS CLI Command Reference. For more information on private resources, see <a href="./registry.html">Using the AWS CloudFormation registry</a>.</p>
        <p>You can perform drift detection on stacks with the following statuses:
                <code class="code">CREATE_COMPLETE</code>, <code class="code">UPDATE_COMPLETE</code>,
                <code class="code">UPDATE_ROLLBACK_COMPLETE</code>, and
            <code class="code">UPDATE_ROLLBACK_FAILED</code>.</p>
        <p>When detecting drift on a stack, CloudFormation does not detect drift on any nested stacks that belong to that
   stack. For more information, see <a href="./using-cfn-nested-stacks.html">Working with nested stacks</a>.
   Instead, you can initiate a drift detection operation directly on the nested stack.</p>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>CloudFormation only determines drift for property values that are explicitly set,
                either through the stack template or by specifying template parameters. This doesn't
                include default values for resource properties. To have CloudFormation track a resource
                property for purposes of determining drift, explicitly set the property value, even
                if you are setting it to the default value.</p></div></div>
     
        <h2 id="drift-status-codes">Drift detection status codes</h2>
        <p>The tables in this section describe the various status types used with drift
            detection:</p>
        <div class="itemizedlist">
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Drift detection operation status</b> describes the current
                    state of the drift operation.</p>
            </li><li class="listitem">
                <p><b>Drift status</b>
                </p>
                <p>For <em>stack sets</em>, this describes the drift status of the
                    stack set as a whole, based on the drift status of the stack instances that
                    belong to it.</p>
                <p>For <em>stack instances</em>, this describes the drift status of
                    the stack instance, based on the drift status of its associated stack.</p>
                <p>For <em>stacks</em>, this describes the drift status of the stack
                    as a whole, based on the drift status of its resources.</p>
            </li><li class="listitem">
                <p><b>Resource drift status</b> describes the drift status of an
                    individual resource.</p>
            </li></ul></div>
        <p>The following table lists the status codes CloudFormation assigns to stack drift detection
            operations.</p>
        <div class="table-container"><div class="table-contents"><table id="w1355aac25c19b9b9"><thead>
                    <tr>
                        <th>Drift detection operation status</th>
                        <th>Description</th>
                    </tr>
                </thead>
                    <tr>
                        <td tabindex="-1">
                            <p><code class="code">DETECTION_COMPLETE</code></p>
                        </td>
                        <td tabindex="-1">
                            <p>The stack drift detection operation has successfully completed for
                                all resources in the stack that support drift detection.</p>
                        </td>
                    </tr>
                    <tr>
                        <td tabindex="-1">
                            <p><code class="code">DETECTION_FAILED</code></p>
                        </td>
                        <td tabindex="-1">
                            <p>The stack drift detection operation has failed for at least one
                                resource in the stack. Results will be available for resources on
                                which CloudFormation successfully completed drift detection.</p>
                        </td>
                    </tr>
                    <tr>
                        <td tabindex="-1">
                            <p><code class="code">DETECTION_IN_PROGRESS</code></p>
                        </td>
                        <td tabindex="-1">
                            <p>The stack drift detection operation is currently in
                                progress.</p>
                        </td>
                    </tr>
                </table></div></div>
        <p>The following table lists the drift status codes CloudFormation assigns to stacks.</p>
        <div class="table-container"><div class="table-contents"><table id="w1355aac25c19b9c13"><thead>
                    <tr>
                        <th>Drift status</th>
                        <th>Description</th>
                    </tr>
                </thead>
                    <tr>
                        <td tabindex="-1">
                            <p><code class="code">DRIFTED</code></p>
                        </td>
                        <td tabindex="-1">
                            <p>For stacks: The stack differs, or has
                                <em>drifted</em>, from its expected template
                                configuration. A stack is considered to have drifted if one or more
                                of its resources have drifted.</p>
                            <p>For stack instances: A stack instance is considered to have
                                drifted if the stack associated with it has drifted.</p>
                            <p>For stack sets: A stack set is considered to have drifted if one
                                or more stack instances has drifted.</p>
                        </td>
                    </tr>
                    <tr>
                        <td tabindex="-1">
                            <p><code class="code">NOT_CHECKED</code></p>
                        </td>
                        <td tabindex="-1">
                            <p>CloudFormation has not checked if the stack, stack set, or stack
                                instance differs from its expected template configuration.</p>
                        </td>
                    </tr>
                    <tr>
                        <td tabindex="-1">
                            <p><code class="code">IN_SYNC</code></p>
                        </td>
                        <td tabindex="-1">
                            <p>The current configuration of each supported resource matches its
                                expected template configuration. A stack, stack set, or stack
                                instance with no resources that support drift detection will also
                                have a status of IN_SYNC.</p>
                        </td>
                    </tr>
                </table></div></div>
        <p>The following table lists the drift status codes CloudFormation assigns to stack
            resources.</p>
        <div class="table-container"><div class="table-contents"><table id="w1355aac25c19b9c17"><thead>
                    <tr>
                        <th>Resource drift status</th>
                        <th>Description</th>
                    </tr>
                </thead>
                    <tr>
                        <td tabindex="-1">
                            <p><code class="code">DELETED</code></p>
                        </td>
                        <td tabindex="-1">
                            <p>The resource differs from its expected template configuration
                                because the resource has been deleted.</p>
                        </td>
                    </tr>
                    <tr>
                        <td tabindex="-1">
                            <p><code class="code">MODIFIED</code></p>
                        </td>
                        <td tabindex="-1">
                            <p>The resource differs from its expected template
                                configuration.</p>
                        </td>
                    </tr>
                    <tr>
                        <td tabindex="-1">
                            <p><code class="code">NOT_CHECKED</code></p>
                        </td>
                        <td tabindex="-1">
                            <p>CloudFormation has not checked if the resource differs from its
                                expected template configuration.</p>
                        </td>
                    </tr>
                    <tr>
                        <td tabindex="-1">
                            <p><code class="code">IN_SYNC</code></p>
                        </td>
                        <td tabindex="-1">
                            <p>The resource's current configuration matches its expected template
                                configuration.</p>
                        </td>
                    </tr>
                </table></div></div>
        <p>The following table lists the difference-type status codes CloudFormation assigns to
            resource properties that differ from their expected template configuration.</p>
        <div class="table-container"><div class="table-contents"><table id="w1355aac25c19b9c21"><thead>
                    <tr>
                        <th>Property difference types</th>
                        <th>Description</th>
                    </tr>
                </thead>
                    <tr>
                        <td tabindex="-1">
                            <p><code class="code">ADD</code></p>
                        </td>
                        <td tabindex="-1">
                            <p>A value has been added to a resource property that's an array or
                                list data type.
                                </p>
                        </td>
                    </tr>
                    <tr>
                        <td tabindex="-1">
                            <p><code class="code">REMOVE</code></p>
                        </td>
                        <td tabindex="-1">
                            <p>The property has been removed from the current resource
                                configuration.</p>
                        </td>
                    </tr>
                    <tr>
                        <td tabindex="-1">
                            <p><code class="code">NOT_EQUAL</code></p>
                        </td>
                        <td tabindex="-1">
                            <p>The current property value differs from its expected value as
                                defined in the stack template.</p>
                        </td>
                    </tr>
                </table></div></div>
     
        <h2 id="drift-considerations">Considerations when detecting drift</h2>
        <p>In order to successfully perform drift detection on a stack, a user must have the
            following permissions:</p>
        <div class="itemizedlist">
             
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>Read permission for each resource that supports drift detection included in
                    the stack. For example, if the stack includes an <code class="code">AWS::EC2::Instance</code>
                    resource, you must have <code class="code">ec2:DescribeInstances</code> permission to perform
                    drift detection on the stack.</p>
            </li><li class="listitem">
                <p><code class="code">cloudformation:DetectStackDrift</code></p>
            </li><li class="listitem">
                <p><code class="code">cloudformation:DetectStackResourceDrift</code></p>
            </li><li class="listitem">
                <p><code class="code">cloudformation:BatchDescribeTypeConfigurations</code></p>
            </li></ul></div>
        <p>For more information about setting permissions in CloudFormation, see <a href="./using-iam-template.html">Controlling access with AWS Identity and Access Management</a>.</p>

        <p>In certain edge cases, CloudFormation may not be able to always return accurate drift
            results. You should be aware of these edge cases in order to properly interpret your
            drift detection results.</p>
        <div class="itemizedlist">
             

             

             

             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>In certain cases, objects contained in property arrays will be reported as
                    drift, when in actuality they're default values supplied to the property from
                    the underlying service responsible for the resource.</p>
            </li><li class="listitem">
                <p>Certain resources have <em>attachment relationships</em> with
                    related resources, such that a resource may actually attach or remove property
                    values for another resource, defined in the same or another template. For
                    example, the <code class="code">AWS::EC2::SecurityGroupIngress</code> and
                        <code class="code">AWS::EC2::SecurityGroupEgress</code> resources may be used to attach
                    and remove values from <code class="code">AWS::EC2::SecurityGroup</code> resources. In these
                    cases, CloudFormation analyses the stack template for attachments before performing
                    the drift comparison. However, CloudFormation can't perform this analysis across
                    stacks, and so may not return accurate drift results where resources that are
                    attached reside in different stacks.</p>
                <p>Resources that support drift detection and allow or require attachments from
                    other resources include:</p>
                <div class="table-container"><div class="table-contents"><table id="w1355aac25c19c11c11b3b5"><thead>
                            <tr>
                                <th>Resource type</th>
                                <th>Attachment resource type</th>
                            </tr>
                        </thead>
                            <tr>
                                <td tabindex="-1">
         <p><code class="code">AWS::SNS::Topic</code></p>
        </td>
                                <td tabindex="-1">
         <p><code class="code">AWS::SNS::Subscription</code></p>
        </td>
                            </tr>
                            <tr>
                                <td tabindex="-1">
         <p><code class="code">AWS::IAM::User</code></p>
        </td>
                                <td tabindex="-1">
         <p><code class="code">AWS::IAM::UserToGroupAddition</code></p>
        </td>
                            </tr>
                            <tr>
                                <td tabindex="-1">
         <p><code class="code">AWS::IAM::Group</code></p>
         <p><code class="code">AWS::IAM::Role</code></p>
         <p><code class="code">AWS::IAM::User</code></p>
        </td>
                                <td tabindex="-1"><p><code class="code">AWS::IAM::Policy</code></p><p><code class="code">AWS::IAM::ManagedPolicy</code></p></td>
                            </tr>
                            <tr>
                                <td tabindex="-1">
         <p><code class="code">AWS::ElasticLoadBalancingV2::Listener</code></p>
        </td>
                                <td tabindex="-1">
         <p><code class="code">AWS::ElasticLoadBalancingV2::ListenerCertificate</code></p>
        </td>
                            </tr>
                            <tr>
                                <td tabindex="-1">
         <p><code class="code">AWS::EC2::SecurityGroup</code></p>
        </td>
                                <td tabindex="-1"><p><code class="code">AWS::EC2::SecurityGroupEgress</code></p><p><code class="code">AWS::EC2::SecurityGroupIngress</code></p></td>
                            </tr>
                        </table></div></div>
            </li><li class="listitem">
                <p>CloudFormation does not perform drift detection on the <code class="code">KMSKeyId</code>
                    property of any resources. Because AWS KMS keys can be referenced by multiple
                    aliases, CloudFormation can't guarantee consistently accurate drift results for this
                    property.</p>
            </li><li class="listitem">
                <p>There are certain resource properties that you can specify in your stack
                    template that, by their very nature, CloudFormation will not be able to compare to
                    the properties in the resulting stack resources. These properties therefore
                    cannot be included in drift detection results. Such properties fall into two
                    broad categories:</p>
                <div class="itemizedlist">
                     
                     
                     

                <ul class="itemizedlist"><li class="listitem">
                        <p>Property values that CloudFormation cannot map back to their initial
                            resource property value in the stack template.</p>
                        <p>For example, CloudFormation cannot map the source code of a Lambda function back to the <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-lambda-function-code.html"><code class="code">Code</code></a> property type of the <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-lambda-function.html"><code class="code">AWS::Lambda::Function</code></a> resource, and therefore CloudFormation can't include it in drift
       detection results. </p>
                    </li><li class="listitem">
                        <p>Property values that the service that is responsible for the resource
                            doesn't return.</p>
                        <p>There are certain property values that, by design, are never returned
                            by the service to which the resource belongs. These tend to contain
                            confidential information, such as passwords or other sensitive data that
                            shouldn't be exposed. For example, the IAM service will never return
                            the value of the <code class="code">Password</code> property of the <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-iam-user-loginprofile.html">IAM User LoginProfile</a> property type, and therefore
                            CloudFormation can't include it in drift detection results.</p>
                    </li><li class="listitem">
                        <p>Objects in an array may be actually service defaults and not drift
                            added manually.</p>
                    </li></ul></div>
            </li><li class="listitem">
                <p>If you encounter any false positive, send us your comments using the feedback
                    link in the CloudFormation console, or reach out to us through <a href="https://forums.aws.amazon.com/" rel="noopener noreferrer" target="_blank"><span>AWS re:Post</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
            </li><li class="listitem">
                <p>Some properties can have input values that are equal but not identical. To
                    avoid false positives, you should ensure that your expected configuration
                    matches the actual configuration.</p>
                <div class="itemizedlist">
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>For example, the expected configuration of resource property can be
                            1024 MB and the actual configuration of the same resource property can
                            be 1GB. 1024 MB and 1GB are equal but not identical.</p>
                        <p>When drift detection runs on this resource property, it will signal
                            drifted results.</p>
                        <p>To avoid this false positive, change the expected configuration of the
                            resource property to 1024MB and then run drift detection.</p>
                    </li></ul></div>

            </li></ul></div>




    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./using-cfn-updating-stacks-continueupdaterollback.html">Continue rolling back an update</div><div id="next" class="next-link" accesskey="n" href="./detect-drift-stack.html">Detect drift on an entire CloudFormation stack</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>