<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Creating wait conditions in a template - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="using-cfn-waitcondition" /><meta name="default_state" content="using-cfn-waitcondition" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" /><meta name="description" content="Create a wait condition in a template to coordinate the creation of stack resources or track the progress of a configuration process." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Create and manage AWS infrastructure deployments predictably and repeatedly using AWS CloudFormation with this User Guide." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="Creating wait conditions in a template" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Creating wait conditions in a template - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Working with AWS CloudFormation templates",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-guide.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Walkthroughs",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/CHAP_Using.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Creating wait conditions in a template",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/CHAP_Using.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">User Guide</a></div><div id="page-toc-src"><a href="#using-cfn-waitconditionhandle">Using a wait condition handle</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="using-cfn-waitcondition">Creating wait conditions in a template</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>For Amazon EC2 and Auto Scaling resources, we recommend that you use a CreationPolicy attribute instead of wait conditions.
Add a CreationPolicy attribute to those resources, and use the cfn-signal helper script to signal when an instance creation process has completed successfully.</p><p>For more information, see <a href="./aws-attribute-creationpolicy.html">CreationPolicy attribute</a> or <a href="./deploying.applications.html">Deploying applications on Amazon EC2 with AWS CloudFormation</a>.</p></div></div><p>Using the <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-waitconditionhandle.html"><code class="code">AWS::CloudFormation::WaitConditionHandle</code></a> resource and <a href="./aws-attribute-creationpolicy.html">CreationPolicy attribute</a> attribute, you can do the
   following:</p><div class="itemizedlist">
          
          
      <ul class="itemizedlist"><li class="listitem">
            <p>Coordinate stack resource creation with other configuration actions that are
               external to the stack creation</p>
         </li><li class="listitem">
            <p>Track the status of a configuration process</p>
         </li></ul></div><p>For example, you can start the creation of another resource after an application
         configuration is partially complete, or you can send signals during an installation and
         configuration process to track its progress.</p><h2 id="using-cfn-waitconditionhandle">Using a wait condition handle</h2>
            
            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>If you use the <a href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-endpoints.html">VPC endpoint</a> feature,
     resources in the VPC that respond to wait conditions must have access to AWS CloudFormation-specific Amazon Simple Storage Service (Amazon S3) buckets.
     Resources must send wait condition responses to a presigned Amazon S3 URL. If they can't send responses to Amazon S3, AWS CloudFormation
     won't receive a response and the stack operation fails. For more information, see <a href="./cfn-vpce-bucketnames.html">Setting up VPC endpoints for AWS CloudFormation</a> and <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/example-bucket-policies-vpc-endpoint.html">Example bucket policies for VPC endpoints for
      Amazon S3</a>.</p></div></div>
            <p>You can use the wait condition and wait condition handle to make AWS CloudFormation pause the
                creation of a stack and wait for a signal before it continues to create the stack.
                For example, you might want to download and configure applications on an Amazon EC2
                instance before considering the creation of that Amazon EC2 instance complete.</p>
            <p>The following list provides a summary of how a wait condition with a wait
                condition handle works:</p>
            <div class="itemizedlist">
                 
                 
                 
                 
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>AWS CloudFormation creates a wait condition just like any other resource. When AWS CloudFormation creates a wait
      condition, it reports the wait condition’s status as CREATE_IN_PROGRESS and waits until it receives the requisite
      number of success signals or the wait condition’s timeout period has expired. If AWS CloudFormation receives the
      requisite number of success signals before the time out period expires, it continues creating the stack;
      otherwise, it sets the wait condition’s status to <code class="code">CREATE_FAILED</code> and rolls the stack back.</p>
                </li><li class="listitem">
                    <p>The <code class="code">Timeout</code> property determines how long AWS CloudFormation waits for the
                        requisite number of success signals. <code class="code">Timeout</code> is a minimum-bound
                        property, meaning the timeout occurs no sooner than the time you specify,
                        but can occur shortly thereafter. The maximum time that you can specify is
                        43200 seconds (12 hours ).</p>
                </li><li class="listitem">
                    <p>Typically, you want a wait condition to begin immediately after the creation of a specific
      resource, such as an Amazon EC2 instance, RDS DB instance, or Auto Scaling group. You do this by adding the <a href="./aws-attribute-dependson.html">DependsOn attribute</a> to a wait condition. When you add a
       <code class="code">DependsOn</code> attribute to a wait condition, you specify that the wait condition is created only after
      the creation of a particular resource has completed. When the wait condition is created, AWS CloudFormation begins the timeout
      period and waits for success signals.</p>
                </li><li class="listitem">
                    <p>You can also use the <code class="code">DependsOn</code> attribute on other resources. For example, you may
      want an Amazon RDS DB instance to be created and a database configured on that DB instance first before creating the
      EC2 instances that use that database. In this case, you create a wait condition that has a <code class="code">DependsOn</code>
      attribute that specifies the DB instance, and you create EC2 instance resources that have <code class="code">DependsOn</code>
      attributes that specify the wait condition. This would ensure that the EC2 instances would only be created
      directly after the DB instance and the wait condition were completed.</p>
                </li><li class="listitem">
                    <p>AWS CloudFormation must receive a specified number of success signals for a wait condition before setting
      that wait condition’s status to <code class="code">CREATE_COMPLETE</code> continuing the creation of the stack. The wait
      condition’s <code class="code">Count</code> property specifies the number of success signals. If none is set, the default is
      1.</p>
                </li><li class="listitem">
                    <p>A wait condition requires a wait condition handle to set up a presigned
                        URL that is used as the signaling mechanism. The presigned URL enables you
                        to send a signal without having to supply your AWS credentials. You use that
                        presigned URL to signal success or failure, which is encapsulated in a JSON
                        statement. For the format of that JSON statement, see the <a href="#using-cfn-waitcondition-signaljson">Wait condition signal JSON format</a>.</p>
                </li><li class="listitem">
                    <p>If a wait condition receives the requisite number of success signals (as defined in the Count
      property) before the timeout period expires, AWS CloudFormation marks the wait condition as <code class="code">CREATE_COMPLETE</code> and
      continues creating the stack. Otherwise, AWS CloudFormation fails the wait condition and rolls the stack back (for example, if
      the timeout period expires without requisite success signals or if a failure signal is received).</p>
                </li></ul></div>
            <div class="procedure"><h6>To use a wait condition in a stack:</h6><ol><li>
                    <p>Declare an <code class="code">AWS::CloudFormation::WaitConditionHandle</code> resource in the stack's
      template. A wait condition handle has no properties; however, a reference to a <code class="code">WaitConditionHandle</code>
      resource resolves to a presigned URL that you can use to signal success or failure to the
       <code class="code">WaitCondition</code>. For example:</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"myWaitHandle" : <span>{</span>
     "Type" : "AWS::CloudFormation::WaitConditionHandle",
     "Properties" : <span>{</span>
     }
}</code></pre>
                </li><li>
                    <p>Declare an <code class="code">AWS::CloudFormation::WaitCondition</code> resource in the stack's template. A
       <code class="code">WaitCondition</code> resource has two required properties: <code class="code">Handle</code> is a reference to a
       <code class="code">WaitConditionHandle</code> declared in the template and <code class="code">Timeout</code> is the number seconds for
      AWS CloudFormation to wait. You can optionally set the <code class="code">Count</code> property, which determines the number of success
      signals that the wait condition must receive before AWS CloudFormation can resume creating the stack.</p>
                    <p>To control when the wait condition is triggered, you set a <code class="code">DependsOn</code> attribute on
      the wait condition. A <code class="code">DependsOn</code> clause associates a resource with the wait condition. After AWS CloudFormation
      creates the <code class="code">DependsOn</code> resource, it blocks further stack resource creation until one of the following
      events occur: a) the timeout period expires b) The requisite number of success signals are received c) A failure
      signal is received.</p>
                    <p>Here is an example of a wait condition that begins after the successful creation of the
       <code class="code">Ec2Instance</code> resource, uses the <code class="code">myWaitHandle</code> resource as the
       <code class="code">WaitConditionHandle</code>, has a timeout of 4500 seconds, and has the default <code class="code">Count</code> of 1
      (since no <code class="code">Count</code> property is specified):</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"myWaitCondition" : <span>{</span>
    "Type" : "AWS::CloudFormation::WaitCondition",
    "DependsOn" : "Ec2Instance",
    "Properties" : <span>{</span>
        "Handle" : <span>{</span> "Ref" : "myWaitHandle" },
        "Timeout" : "4500"
    }
}</code></pre>
                </li><li>
                    <p>Get the presigned URL to use for signaling.</p>
                    <p>In the template, the presigned URL can be retrieved by passing the logical name of the
       <code class="code">AWS::CloudFormation::WaitConditionHandle</code> resource to the Ref intrinsic function. For example, you
      can use the <code class="code">UserData</code> property on <code class="code">AWS::EC2::Instance</code> resources to pass the presigned URL
      to the Amazon EC2 instances so that scripts or applications running on those instances can signal success or
      failure to AWS CloudFormation:</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"UserData" : <span>{</span>
   "Fn::Base64" : <span>{</span>
       "Fn::Join" : [ "", ["SignalURL=", <span>{</span> "Ref" : "myWaitHandle" } ] ]
   }
}</code></pre>
                    <p>Note: In the AWS Management Console or the AWS CloudFormation command line tools,
                        the presigned URL is displayed as the physical ID of the wait condition
                        handle resource.</p>
                </li><li>
                    <p>Select a method for detecting when the stack enters the wait
                        condition.</p>
                    <p>If you create the stack with notifications enabled, AWS CloudFormation publishes a
                        notification for every stack event to the specified topic. If you or your
                        application subscribe to that topic, you can monitor the notifications for
                        the wait condition handle creation event and retrieve the presigned URL from
                        the notification message.</p>
                    <p>You can also monitor the stack's events using the AWS Management Console,
                        the AWS CloudFormation command line tools, or the AWS CloudFormation API.</p>
                </li><li>
                    <p>Use the presigned URL to signal success or failure.</p>
                    <p>To send a signal, you send an HTTP request message using the presigned URL. The request method
      must be <code class="code">PUT</code> and the <code class="code">Content-Type</code> header must be an empty string or omitted. The request
      message must be a JSON structure of the form specified in <a href="#using-cfn-waitcondition-signaljson">Wait condition signal JSON format</a>.</p>
                    <p>You need to send the number of success signals specified by the <code class="code">Count</code> property in
      order for AWS CloudFormation to continue stack creation. If you have a <code class="code">Count</code> that is greater than 1, the
       <code class="code">UniqueId</code> value for each signal must be unique across all signals sent to a particular wait
      condition. The <code class="code">UniqueId</code> is an arbitrary alphanumerical string.</p>
                    <p>A <code class="code">curl</code> command is one way to send a signal. The following example shows a
       <code class="code">curl</code> command line that signals success to a wait condition.</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="prompt" copy="false">$ </code><code class="userinput">curl -T /tmp/a \
  "https://cloudformation-waitcondition-test.s3.amazonaws.com/arn%3Aaws%3Acloudformation%3A<span>us-east-2</span>%3A034017226601%3Astack%2Fstack-gosar-20110427004224-test-stack-with-WaitCondition--VEYW%2Fe498ce60-70a1-11e0-81a7-5081d0136786%2FmyWaitConditionHandle?Expires=1303976584&amp;AWSAccessKeyId=AKIAIOSFODNN7EXAMPLE&amp;Signature=ik1twT6hpS4cgNAw7wyOoRejVoo%3D"</code></code></pre>
                    <p>where the file /tmp/a contains the following JSON structure:</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">
<span>{</span>
   "Status" : "SUCCESS",
   "Reason" : "Configuration Complete",
   "UniqueId" : "ID1234",
   "Data" : "Application has completed configuration."
}</code></pre>
                    <p>This example shows a <code class="code">curl</code> command line that sends the same success signal except
      it sends the JSON structure as a parameter on the command line.</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="prompt" copy="false">$ </code><code class="userinput">curl -X PUT \
  -H 'Content-Type:' --data-binary '<span>{</span>"Status" : "SUCCESS","Reason" : "Configuration Complete","UniqueId" : "ID1234","Data" : "Application has completed configuration."}' \
  "https://cloudformation-waitcondition-test.s3.amazonaws.com/arn%3Aaws%3Acloudformation%3A<span>us-east-2</span>%3A034017226601%3Astack%2Fstack-gosar-20110427004224-test-stack-with-WaitCondition--VEYW%2Fe498ce60-70a1-11e0-81a7-5081d0136786%2FmyWaitConditionHandle?Expires=1303976584&amp;AWSAccessKeyId=AKIAIOSFODNN7EXAMPLE&amp;Signature=ik1twT6hpS4cgNAw7wyOoRejVoo%3D"</code></code></pre>
                </li></ol></div>
            <h3 id="using-cfn-waitcondition-signaljson">Wait condition signal JSON format</h3>
                
                <p>When you signal a wait condition, you must use the following JSON
                    format:</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Status" : "StatusValue",
  "UniqueId" : "Some UniqueId",
  "Data" : "Some Data",
  "Reason" : "Some Reason"
}</code></pre>
                <p>Where:</p>
                <p><em>StatusValue</em> must be one of the following values:</p>
                <div class="itemizedlist">
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p><em>SUCCESS</em> indicates a success signal.</p>
                    </li><li class="listitem">
                        <p><em>FAILURE</em> indicates a failure signal and triggers a
                            failed wait condition and a stack rollback.</p>
                    </li></ul></div>
                <p><em><code class="code">UniqueId</code></em> identifies the signal to AWS CloudFormation. If the
      <code class="code">Count</code> property of the wait condition is greater than 1, the <code class="code">UniqueId</code> value must be
     unique across all signals sent for a particular wait condition; otherwise, AWS CloudFormation will consider the signal a
     retransmission of the previously sent signal with the same <code class="code">UniqueId</code>, and it will ignore the
     signal.</p>
                <p><em><code class="code">Data</code></em> is any information that you want to send back with the
     signal. The <code class="code">Data</code> value can be accessed by calling the <a href="./intrinsic-function-reference-getatt.html">Fn::GetAtt function</a> within the template. For example, if you
     create the following output value for the wait condition <code class="code">mywaitcondition</code>, you can use the
      <code class="code">aws cloudformation describe-stacks</code> command, <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_DescribeStacks.html"><code class="code">DescribeStacks</code></a> API
     operation, or <b>Outputs</b> tab of the AWS CloudFormation console to view the <code class="code">Data</code> sent by valid
     signals sent to AWS CloudFormation: </p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">
"WaitConditionData" : <span>{</span>
  "Value" : <span>{</span> "Fn::GetAtt" : [ "mywaitcondition", "Data" ]},
  "Description" : "The data passed back as part of signalling the WaitCondition"
},
            </code></pre>
                <p>The <a href="./intrinsic-function-reference-getatt.html">Fn::GetAtt function</a> function
     returns the <code class="code">UniqueId</code> and <code class="code">Data</code> as a name/value pair within a JSON structure. The following
     is an example of the <code class="code">Data</code> attribute returned by the <code class="code">WaitConditionData</code> output value
     defined above:</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>"Signal1":"Application has completed configuration."}</code></pre>
                <p><em>Reason</em> is a string with no other restrictions on its
                    content besides JSON compliance.</p>
             
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./deploying.applications.html">Deploying applications</div><div id="next" class="next-link" accesskey="n" href="./CHAP_TemplateQuickRef.html">Template snippets</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>