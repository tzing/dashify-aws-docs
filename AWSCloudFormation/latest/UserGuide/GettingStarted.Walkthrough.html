<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Get started - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="GettingStarted.Walkthrough" /><meta name="default_state" content="GettingStarted.Walkthrough" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" /><meta name="description" content="Walk through a template to declare resources, and then use it to create a stack with AWS CloudFormation." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Create and manage AWS infrastructure deployments predictably and repeatedly using AWS CloudFormation with this User Guide." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="Get started" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Get started - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Getting started with AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/GettingStarted.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Get started",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/GettingStarted.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">User Guide</a></div><div id="page-toc-src"><a href="#GettingStarted.Walkthrough.PickTemplate">Step 1: Pick a template</a><a href="#GettingStarted.Walkthrough.prep">Step 2: Make sure you have prepared any
            required items for the stack</a><a href="#GettingStarted.Walkthrough.createstack">Step 3: Create the stack</a><a href="#GettingStarted.Walkthrough.monitor">Step 4: Monitor the progress of stack
            creation</a><a href="#GettingStarted.Walkthrough.viewapp">Step 5: Use your stack
            resources</a><a href="#GettingStarted.Walkthrough.cleanup">Step 6: Clean up</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="GettingStarted.Walkthrough">Get started</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>With the right template, you can deploy at once all the AWS resources you need for an
      application. In this section, you'll examine a template that declares the resources for a
      WordPress blog, creates a WordPress blog as a stack, monitors the stack creation process,
      examines the resources on the stack, and then deletes the stack. You use the AWS Management Console to
      complete these tasks.</p>
      <h2 id="GettingStarted.Walkthrough.PickTemplate">Step 1: Pick a template</h2>

      <p>First, you'll need a template that specifies the resources that you want in your stack.
         For this step, you use a sample template that's already prepared. The sample template
         creates a basic WordPress blog that uses a single Amazon EC2 instance with a local MySQL
         database for storage. The template also creates an Amazon EC2 security group to control firewall
         settings for the Amazon EC2 instance.</p>
      <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>AWS CloudFormation is free, but the AWS resources that CloudFormation creates are live (and not
            running in a sandbox). You will incur the standard usage fees for these resources until
            you terminate them in the last task in this tutorial. The total charges will be minimal.
            For information about how you might minimize any charges, go to <a href="http://aws.amazon.com/free/" rel="noopener noreferrer" target="_blank"><span>http://aws.amazon.com/free/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></div></div>
      <div class="procedure"><h6>To view the template</h6><ul><li>
            <p>You can view the <a href="https://s3.us-west-2.amazonaws.com/cloudformation-templates-us-west-2/WordPress_Single_Instance.template" rel="noopener noreferrer" target="_blank"><span>JSON</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> or <a href="https://s3.us-west-2.amazonaws.com/cloudformation-templates-us-west-2/WordPress_Single_Instance.yaml" rel="noopener noreferrer" target="_blank"><span>YAML</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> WordPress sample template. You don't need to download it because you
               will use the template URL later in this guide. For more information about the
               template formats, see <a href="./template-formats.html">AWS CloudFormation template formats</a>.</p>
         </li></ul></div>

      <p>A template is a JSON or YAML text file that contains the configuration information about
         the AWS resources you want to create in the stack. For this walkthrough, the sample
         template includes six top-level sections: <code class="code">AWSTemplateFormatVersion</code>,
            <code class="code">Description</code>, <code class="code">Parameters</code>, <code class="code">Mappings</code>,
            <code class="code">Resources</code>, and <code class="code">Outputs</code>; however, only the
            <code class="code">Resources</code> section is required.</p>
      <p>The Resources section contains the definitions of the AWS resources you want to create
         with the template. Each resource is listed separately and specifies the properties that are
         necessary for creating that particular resource. The following resource declaration is the
         configuration for the EC2 instance, which in this example has the logical name
            <code class="code">WebServer</code>:</p>
      <div class="example"><h6>Example JSON</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Resources" : <span>{</span>
  ...    
  "WebServer": <span>{</span>
    "Type" : "AWS::EC2::Instance",
    "Properties": <span>{</span>
      "ImageId" : <span>{</span> "Fn::FindInMap" : [ "AWSRegionArch2AMI", <span>{</span> "Ref" : "AWS::Region" },
                        <span>{</span> "Fn::FindInMap" : [ "AWSInstanceType2Arch", <span>{</span> "Ref" : "InstanceType" }, "Arch" ] } ] },
      "InstanceType"   : <span>{</span> "Ref" : "InstanceType" },
      "SecurityGroups" : [ <span>{</span>"Ref" : "WebServerSecurityGroup"} ],
      "KeyName"        : <span>{</span> "Ref" : "KeyName" },
      "UserData" : <span>{</span> "Fn::Base64" : <span>{</span> "Fn::Join" : ["", [
                     "#!/bin/bash -xe\n",
                     "yum update -y aws-cfn-bootstrap\n",

                     "/opt/aws/bin/cfn-init -v ",
                     "         --stack ", <span>{</span> "Ref" : "AWS::StackName" },
                     "         --resource WebServer ",
                     "         --configsets wordpress_install ",
                     "         --region ", <span>{</span> "Ref" : "AWS::Region" }, "\n",

                     "/opt/aws/bin/cfn-signal -e $? ",
                     "         --stack ", <span>{</span> "Ref" : "AWS::StackName" },
                     "         --resource WebServer ",
                     "         --region ", <span>{</span> "Ref" : "AWS::Region" }, "\n"
      ]]}}
    },
    ...
  },
  ...  
  "WebServerSecurityGroup" : <span>{</span>
    "Type" : "AWS::EC2::SecurityGroup",
    "Properties" : <span>{</span>
      "GroupDescription" : "Enable HTTP access via port 80 locked down to the load balancer + SSH access",
      "SecurityGroupIngress" : [
        <span>{</span>"IpProtocol" : "tcp", "FromPort" : 80, "ToPort" : 80, "CidrIp" : "0.0.0.0/0"},
        <span>{</span>"IpProtocol" : "tcp", "FromPort" : 22, "ToPort" : 22, "CidrIp" : <span>{</span> "Ref" : "SSHLocation"}}
      ]
    }
  },
  ...    
},</code></pre></div></div>
      <div class="example"><h6>Example YAML</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources: 
  ...    
  WebServer:
    Type: AWS::EC2::Instance
    Properties:
      ImageId: !FindInMap [AWSRegionArch2AMI, !Ref 'AWS::Region', !FindInMap [AWSInstanceType2Arch, !Ref InstanceType, Arch]]      
      InstanceType:
        Ref: InstanceType
      KeyName:
        Ref: KeyName
      SecurityGroups:
      - Ref: WebServerSecurityGroup
      UserData:
        Fn::Base64: !Sub |
           #!/bin/bash -xe
           yum update -y aws-cfn-bootstrap
           /opt/aws/bin/cfn-init -v --stack $<span>{</span>AWS::StackId} --resource WebServer --configsets wordpress_install --region $<span>{</span>AWS::Region}
           /opt/aws/bin/cfn-signal -e $? --stack $<span>{</span>AWS::StackId} --resource WebServer --region $<span>{</span>AWS::Region}
    ...
  ...
  
  WebServerSecurityGroup:
    Type: AWS::EC2::SecurityGroup
    Properties:
      GroupDescription: "Enable HTTP access via port 80 locked down to the load balancer + SSH access"
      SecurityGroupIngress:
      - CidrIp: 0.0.0.0/0
        FromPort: 80
        IpProtocol: tcp
        ToPort: 80
      - CidrIp: !Ref SSHLocation
        FromPort: 22
        IpProtocol: tcp
        ToPort: 22
  ...    </code></pre></div></div>
      <p>If you have created EC2 instances before, you can recognize properties, such as
            <code class="code">ImageId</code>, <code class="code">InstanceType</code>, and <code class="code">KeyName</code>, that
         determine the configuration of the instance. Resource declarations are an efficient way to
         specify all these configuration settings at once. When you put resource declarations in a
         template, you can create and configure all the declared resources by using the template to
         create a stack. Create a new stack that uses the same template to launch the same
         configuration of resources.</p>
      <p>The resource declaration begins with a string that specifies the logical name for the
         resource. As you'll see, the logical name can be used to refer to resources within the
         template.</p>
      <p>You use the <em>Parameters</em> section to declare values that can be passed
         to the template when you create the stack. A parameter is an effective way to specify
         sensitive information, such as user names and passwords, that you don't want to store in
         the template itself. It's also a way to specify information that might be unique to the
         specific application or configuration you are deploying, for example, a domain name or
         instance type. When you create the WordPress stack later in this section, you'll see the
         set of parameters declared in the template appear on the <b>Specify
            Details</b> page of the <b>Create Stack</b> wizard, where you can
         specify the parameters before you create the stack.</p>
      <p>The following parameters are used in the template to specify values that are used in
         properties of the EC2 instance:</p>
      <div class="example"><h6>Example JSON</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Parameters" : <span>{</span>
  ...      
  "KeyName": <span>{</span>
    "Description" : "Name of an existing EC2 KeyPair to enable SSH access to the instances",
    "Type": "AWS::EC2::KeyPair::KeyName",
    "ConstraintDescription" : "must be the name of an existing EC2 KeyPair."
  },

  "InstanceType" : <span>{</span>
    "Description" : "WebServer EC2 instance type",
    "Type" : "String",
    "Default" : "t2.small",
       "AllowedValues": [
        "t1.micro",
        "t2.nano",
        "t2.micro",
        "t2.small",
        "t2.medium",
        "t2.large",
        "m1.small",
        "m1.medium",
        "m1.large",
        "m1.xlarge",
        "m2.xlarge",
        "m2.2xlarge",
        "m2.4xlarge",
        "m3.medium",
        "m3.large",
        "m3.xlarge",
        "m3.2xlarge",
        "m4.large",
        "m4.xlarge",
        "m4.2xlarge",
        "m4.4xlarge",
        "m4.10xlarge",
        "c1.medium",
        "c1.xlarge",
        "c3.large",
        "c3.xlarge",
        "c3.2xlarge",
        "c3.4xlarge",
        "c3.8xlarge",
        "c4.large",
        "c4.xlarge",
        "c4.2xlarge",
        "c4.4xlarge",
        "c4.8xlarge",
        "g2.2xlarge",
        "g2.8xlarge",
        "r3.large",
        "r3.xlarge",
        "r3.2xlarge",
        "r3.4xlarge",
        "r3.8xlarge",
        "i2.xlarge",
        "i2.2xlarge",
        "i2.4xlarge",
        "i2.8xlarge",
        "d2.xlarge",
        "d2.2xlarge",
        "d2.4xlarge",
        "d2.8xlarge",
        "hi1.4xlarge",
        "hs1.8xlarge",
        "cr1.8xlarge",
        "cc2.8xlarge",
        "cg1.4xlarge"
       ],
    "ConstraintDescription" : "must be a valid EC2 instance type."
  },
...</code></pre></div></div>
      <div class="example"><h6>Example YAML</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Parameters:
  ...      
  KeyName:
    ConstraintDescription: must be the name of an existing EC2 KeyPair.
    Description: Name of an existing EC2 KeyPair to enable SSH access to the instances
    Type: AWS::EC2::KeyPair::KeyName
  InstanceType:
    AllowedValues:
    - t1.micro
    - t2.nano
    - t2.micro
    - t2.small
    - t2.medium
    - t2.large
    - m1.small
    - m1.medium
    - m1.large
    - m1.xlarge
    - m2.xlarge
    - m2.2xlarge
    - m2.4xlarge
    - m3.medium
    - m3.large
    - m3.xlarge
    - m3.2xlarge
    - m4.large
    - m4.xlarge
    - m4.2xlarge
    - m4.4xlarge
    - m4.10xlarge
    - c1.medium
    - c1.xlarge
    - c3.large
    - c3.xlarge
    - c3.2xlarge
    - c3.4xlarge
    - c3.8xlarge
    - c4.large
    - c4.xlarge
    - c4.2xlarge
    - c4.4xlarge
    - c4.8xlarge
    - g2.2xlarge
    - g2.8xlarge
    - r3.large
    - r3.xlarge
    - r3.2xlarge
    - r3.4xlarge
    - r3.8xlarge
    - i2.xlarge
    - i2.2xlarge
    - i2.4xlarge
    - i2.8xlarge
    - d2.xlarge
    - d2.2xlarge
    - d2.4xlarge
    - d2.8xlarge
    - hi1.4xlarge
    - hs1.8xlarge
    - cr1.8xlarge
    - cc2.8xlarge
    - cg1.4xlarge
    ConstraintDescription: must be a valid EC2 instance type.
    Default: t2.small
    Description: WebServer EC2 instance type
    Type: String
...</code></pre></div></div>
      <p>In the <code class="code">WebServer</code> resource declaration, you see the <code class="code">KeyName</code>
         property specified with the <code class="code">KeyName</code> parameter:</p>
      <div class="example"><h6>Example JSON</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"WebServer" : <span>{</span>
  "Type": "AWS::EC2::Instance",
  "Properties": <span>{</span>
    "KeyName" : <span>{</span> "Ref" : "KeyName" },
    ...
  }
},</code></pre></div></div>
      <div class="example"><h6>Example YAML</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">WebServer:
  Type: AWS::EC2::Instance
  Properties:
    KeyName:
      Ref: KeyName
    ...</code></pre></div></div>
      <p>The braces contain a call to the <a href="./intrinsic-function-reference-ref.html">Ref</a> function with <code class="code">KeyName</code> as its input. The Ref function returns
         the value of the object it refers to. In this case, the Ref function sets the
            <code class="code">KeyName</code> property to the value that was specified for <code class="code">KeyName</code>
         when the stack was created.</p>
      <p>The Ref function can also set a resource's property to the value of another resource.
         For example, the resource declaration <code class="code">WebServer</code> contains the following
         property declaration:</p>
      <div class="example"><h6>Example JSON</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"WebServer" : <span>{</span>
  "Type": "AWS::EC2::Instance",
  "Properties": <span>{</span>
    ...
    "SecurityGroups" : [ <span>{</span>"Ref" : "WebServerSecurityGroup"} ],
    ...
  }
},</code></pre></div></div>
      <div class="example"><h6>Example YAML</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">WebServer:
  Type: AWS::EC2::Instance
  Properties:
    SecurityGroups:
    - Ref: WebServerSecurityGroup
    ...</code></pre></div></div>
      <p>The <code class="code">SecurityGroups</code> property takes a list of EC2 security groups. The Ref
         function has an input of <code class="code">WebServerSecurityGroup</code>, which is the logical name of
         a security group in the template, and adds the name of <code class="code">WebServerSecurityGroup</code>
         to the <code class="code">SecurityGroups</code> property.</p>
      <p>In the template, you'll also find a <em>Mappings</em> section. You use
         mappings to declare conditional values that are evaluated in a similar manner as a look up
         table statement. The template uses mappings to select the correct Amazon Machine Image
         (AMI) for the region and the architecture type for the instance type.
            <em>Outputs</em> define custom values that are returned by the
            <code class="code">aws cloudformation describe-stacks</code> command and in the CloudFormation console
            <b>Outputs</b> tab after the stack creation. You can use output values to
         return information from the resources in the stack, such as the URL for a website that was
         created in the template. We cover mappings, outputs, and other things about templates in
         more detail in <a href="./gettingstarted.templatebasics.html">Learn template basics</a>.</p>
      <p>That's enough about templates for now. Let's start creating a stack.</p>
    
      <h2 id="GettingStarted.Walkthrough.prep">Step 2: Make sure you have prepared any
            required items for the stack</h2>


      <p>Before you create a stack from a template, you must ensure that all dependent resources
         that the template requires are available. A template can use or refer to both existing
         AWS resources and resources declared in the template itself. CloudFormation takes care of
         checking references to resources in the template and also checks references to existing
         resources to ensure that they exist in the region where you are creating the stack. If your
         template refers to a dependent resource that doesn't exist, stack creation fails.</p>

      <p>The example WordPress template contains an input parameter, <code class="code">KeyName</code>, that
         specifies the key pair used for the Amazon EC2 instance that's declared in the template. The
         template depends on the user who creates a stack from the template to supply a valid Amazon EC2
         key pair for the <code class="code">KeyName</code> parameter. If you supply a valid key pair name, the
         stack creates successfully. If you don't supply a valid key pair name, the stack is rolled
         back.</p>

      <p>Make sure you have a valid Amazon EC2 key pair and record the key pair name before you create
         the stack.</p>
      <p>To see your key pairs, open the Amazon EC2 console, then choose <b>Key
            Pairs</b> in the navigation pane.</p>

      <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>If you don't have an Amazon EC2 key pair, you must create the key pair in the same region
            where you are creating the stack. For information about creating a key pair, see <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html#having-ec2-create-your-key-pair">Getting an SSH
               key pair</a> in the <em>Amazon EC2 User Guide for Linux Instances</em>.</p></div></div>

      <p>Now that you have a valid key pair, let's use the WordPress template to create a
         stack.</p>

    
      <h2 id="GettingStarted.Walkthrough.createstack">Step 3: Create the stack</h2>

      <p>You will create your stack based on the <em>WordPress-1.0.0</em> file
         discussed earlier. The template contains several AWS resources, such as an EC2
         instance.</p>
      <div class="procedure"><h6>To create the WordPress
            stack</h6><ol><li><p>Sign in to the AWS Management Console and open the AWS CloudFormation console at
         <a href="https://console.aws.amazon.com/cloudformation/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/cloudformation</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
            <p>Choose <b>Create Stack</b>.</p>
         </li><li>
            <p>In the <b>Specify template</b> section, select <b>Amazon
                  S3 Template URL</b> to type or paste the URL for the sample WordPress
               template, and then choose <b>Next</b>:</p>
            <p><code class="code">https://s3.us-west-2.amazonaws.com/cloudformation-templates-us-west-2/WordPress_Single_Instance.template</code></p>
            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>AWS CloudFormation templates that are stored in an S3 bucket must be accessible to the user
   who is creating the stack, and must be located in the <em>same Region</em> as the stack that is being created.
   Therefore, if the S3 bucket is located in the <span>us-east-2</span> Region, the stack must also be created in <span>us-east-2</span>.</p></div></div>
         </li><li>
            <p>In the <b>Specify stack details</b> section, enter a name in the
                  <b>Stack name</b> field. For this example, use
                  <code class="userinput">MyWPTestStack</code>. The stack name can't contain spaces.</p>
         </li><li>
            <p>In the <b>Parameters</b> section, you must provide values for all
               parameters that don't have default values, including <b>DBUser</b>,
                  <b>DBPassword</b>, <b>DBRootPassword</b>, and
                  <b>KeyName</b>. In the <b>KeyName</b> field, enter the
               name of a valid Amazon EC2 pair in the same region you are creating the stack.</p>
         </li><li>
            <p>Choose <b>Next</b>.</p>
         </li><li>
            <p>In this scenario, we won't add any tags. Choose <b>Next</b>. Tags,
               which are key-value pairs, can help you identify your stacks. For more information,
               see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-console-add-tags.html"> Adding tags to your
                  CloudFormation stack</a>.</p>
         </li><li>
            <p>Review the information for the stack. When you're satisfied with the settings,
               choose <b>Submit</b>.</p>
         </li></ol></div>
      <p>Your stack might take several minutes to create – but you probably don't want to
         just sit around waiting. If you're like us, you'll want to know how the stack creation is
         going.</p>
    
      <h2 id="GettingStarted.Walkthrough.monitor">Step 4: Monitor the progress of stack
            creation</h2>

      <p>After you complete the <b>Create Stack</b> wizard, CloudFormation begins
         creating the resources that are specified in the template. Your new stack,
            <code class="code">MyWPTestStack</code>, appears in the list at the top portion of the
            <b>CloudFormation</b> console. Its status should be CREATE_IN_PROGRESS.
         You can see detailed status for a stack by viewing its events.</p>
      <div class="procedure"><h6>To view the events for the
            stack</h6><ol><li>
            <p>On the CloudFormation console, select the stack <code class="code">MyWPTestStack</code> in the
               list.</p>
         </li><li>
            <p>In the stack details pane, choose the <b>Events</b> tab.</p>
            <p>The console automatically refreshes the event list with the most recent events
               every 60 seconds.</p>
         </li></ol></div>
      <p>The <b>Events</b> tab displays each major step in the creation of the
         stack sorted by the time of each event, with latest events on top.</p>
      <p>The first event (at the bottom of the event list) is the start of the stack creation
         process:</p>
      <p><code class="code">2013-04-24 18:54 UTC-7 CREATE_IN_PROGRESS AWS::CloudFormation::Stack MyWPTestStack
            User initiated</code></p>
      <p>Next are events that mark the beginning and completion of the creation of each resource.
         For example, creation of the EC2 instance results in the following entries:</p>
      <p><code class="code">2013-04-24 18:59 UTC-7 CREATE_COMPLETE AWS::EC2::Instance...</code></p>
      <p><code class="code">2013-04-24 18:54 UTC-7 CREATE_IN_PROGRESS AWS::EC2::Instance...</code></p>
      <p>The <code class="code">CREATE_IN_PROGRESS</code> event is logged when CloudFormation reports that it has
         begun to create the resource. The <code class="code">CREATE_COMPLETE</code> event is logged when the
         resource is successfully created.</p>
      <p>When CloudFormation has successfully created the stack, you will see the following event at
         the top of the <b>Events</b> tab:</p>
      <p><code class="code">2013-04-24 19:17 UTC-7 CREATE_COMPLETE AWS::CloudFormation::Stack
            MyWPTestStack</code></p>

      <p>If CloudFormation can't create a resource, it reports a <code class="code">CREATE_FAILED</code> event
         and, by default, rolls back the stack and deletes any resources that have been created. The
            <b>Status Reason</b> column displays the issue that caused the
         failure.</p>

    
      <h2 id="GettingStarted.Walkthrough.viewapp">Step 5: Use your stack
            resources</h2>

      <p>When the stack <code class="code">MyWPTestStack</code> has a status of <code class="code">CREATE_COMPLETE</code>,
         CloudFormation has finished creating the stack, and you can start using its resources.</p>
      <p>The sample WordPress stack creates a WordPress website. You can continue with the
         WordPress setup by running the WordPress installation script.</p>
      <div class="procedure"><h6>To complete the WordPress
            installation</h6><ol><li>
            <p>On the <b>Outputs</b> tab, in the <b>WebsiteURL</b>
               row, choose the link in the <b>Value</b> column.</p>
            <p>The <code class="code">WebsiteURL</code> output value is the URL of the installation script for
               the WordPress website that you created with the stack.</p>
         </li><li>
            <p>On the web page for the WordPress installation, follow the on-screen instructions
               to complete the WordPress installation. For more information about installing
               WordPress, see <a href="https://wordpress.org/support/article/how-to-install-wordpress/" rel="noopener noreferrer" target="_blank"><span>https://wordpress.org/support/article/how-to-install-wordpress/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
            <p>After you complete the installation and log in, you are directed to the dashboard
               where you can set additional options for your WordPress blog. Then, you can start
               writing posts for your blog that you successfully created by using a CloudFormation
               template.</p>
         </li></ol></div>
    
      <h2 id="GettingStarted.Walkthrough.cleanup">Step 6: Clean up</h2>

      <p>You have completed the CloudFormation getting started tasks. To make sure you aren't charged
         for any unwanted services, you can clean up by deleting the stack and its resources.</p>
      <div class="procedure"><h6>To delete the stack and its
            resources</h6><ol><li>
            <p>From the CloudFormation console, select the <code class="code">MyWPTestStack</code> stack.</p>
         </li><li>
            <p>Choose <b>Delete Stack</b>.</p>

         </li><li>
            <p>In the confirmation message that appears, choose <b>Yes,
               Delete</b>.</p>
         </li></ol></div>
      <p>The status for <code class="code">MyWPTestStack</code> changes to <code class="code">DELETE_IN_PROGRESS</code>. In
         the same way you monitored the creation of the stack, you can monitor its deletion by using
         the <b>Event</b> tab. When CloudFormation completes the deletion of the stack, it
         removes the stack from the list.</p>
      <p>Congratulations! You successfully picked a template, created a stack, viewed, and used
         its resources, and deleted the stack and its resources. Not only that, you were able to set
         up a WordPress blog using a CloudFormation template. You can find other templates in the <a href="http://aws.amazon.com/cloudformation/aws-cloudformation-templates/" rel="noopener noreferrer" target="_blank"><span>AWS CloudFormation sample
            template library</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
      <p>Now it's time to learn more about templates so that you can modify existing templates or
         create your own: <a href="./gettingstarted.templatebasics.html">Learn template basics</a>.</p>
   <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./GettingStarted.html">Getting started</div><div id="next" class="next-link" accesskey="n" href="./gettingstarted.templatebasics.html">Learn template basics</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>