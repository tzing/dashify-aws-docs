<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="id-ID"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tutorial: Menggunakan fungsi SQL spasial dengan Amazon Redshift - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="spatial-tutorial" /><meta name="default_state" content="spatial-tutorial" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/spatial-tutorial.html" /><meta name="description" content="Gunakan tutorial ini untuk mempelajari cara menggunakan fungsi SQL spasial dengan Amazon Redshift." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Panduan Pengembang Database" /><meta name="abstract" content="Buat dan kelola gudang data dengan Amazon Redshift, skala petabyte tingkat perusahaan, layanan pergudangan data yang dikelola sepenuhnya." /><meta name="guide-locale" content="id_id" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/spatial-tutorial.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/spatial-tutorial.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/spatial-tutorial.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/spatial-tutorial.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/spatial-tutorial.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/spatial-tutorial.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/spatial-tutorial.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/spatial-tutorial.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/spatial-tutorial.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/spatial-tutorial.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/spatial-tutorial.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/spatial-tutorial.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/spatial-tutorial.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/spatial-tutorial.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/spatial-tutorial.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/spatial-tutorial.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/spatial-tutorial.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/spatial-tutorial.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/spatial-tutorial.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/spatial-tutorial.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/spatial-tutorial.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/spatial-tutorial.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Panduan Pengembang Database" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Panduan Pengembang Database" /><meta id="panorama-serviceConsolePage" value="Tutorial: Menggunakan fungsi SQL spasial dengan Amazon Redshift" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Tutorial: Menggunakan fungsi SQL spasial dengan Amazon Redshift - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#spatial-tutorial" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/id_id/redshift/latest/dg/spatial-tutorial.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/id_id/redshift/latest/dg/spatial-tutorial.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/id_id/redshift/latest/dg/spatial-tutorial.html" /><meta name="keywords" content="Amazon Redshift,AWSPergeseran Merah,Redshift,Spektrum Pergeseran Merah,Klaster,gudang data,pengembang,data sampel,database,pengembang basis data,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Panduan Pengembang Database",
        "item" : "https://docs.aws.amazon.com/id_id/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Menanyakan data spasial di Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/id_id/redshift/latest/dg/geospatial-overview.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Tutorial: Menggunakan fungsi SQL spasial dengan Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/id_id/redshift/latest/dg/geospatial-overview.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#spatial-tutorial" target="_blank" rel="noopener noreferrer" title="Buka PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Dokumentasi</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Panduan Pengembang Database</a></div><div id="page-toc-src"><a href="#spatial-tutorial-prerequisites">Prasyarat</a><a href="#spatial-tutorial-test-data">Langkah 1: Buat tabel dan muat data uji</a><a href="#spatial-tutorial-query">Langkah 2: Kueri data spasial</a><a href="#spatial-tutorial-clean-up">Langkah 3: Bersihkan sumber daya Anda</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Terjemahan disediakan oleh mesin penerjemah. Jika konten terjemahan yang diberikan bertentangan dengan versi bahasa Inggris aslinya, utamakan versi bahasa Inggris.</p></awsui-alert><h1 class="topictitle" id="spatial-tutorial">Tutorial: Menggunakan fungsi SQL spasial dengan Amazon Redshift</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Tutorial ini menunjukkan cara menggunakan beberapa fungsi SQL spasial dengan Amazon Redshift. </p><p>Untuk melakukan ini, Anda menanyakan dua tabel menggunakan fungsi SQL spasial. Tutorial ini menggunakan data dari kumpulan data publik yang menghubungkan data lokasi akomodasi sewa dengan kode pos di Berlin, Jerman. </p><div class="highlights" id="inline-topiclist"><h6>Topik</h6><ul><li><a href="#spatial-tutorial-prerequisites">Prasyarat</a></li><li><a href="#spatial-tutorial-test-data">Langkah 1: Buat tabel dan muat data uji</a></li><li><a href="#spatial-tutorial-query">Langkah 2: Kueri data spasial</a></li><li><a href="#spatial-tutorial-clean-up">Langkah 3: Bersihkan sumber daya Anda</a></li></ul></div>
        <h2 id="spatial-tutorial-prerequisites">Prasyarat</h2>
           
        <p>Untuk tutorial ini, Anda memerlukan sumber daya berikut:</p>
           
        <div class="itemizedlist">
             
             
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                        <p>Cluster dan database Amazon Redshift yang sudah ada yang dapat Anda akses dan perbarui. Di cluster yang ada, Anda membuat tabel, memuat data sampel, dan menjalankan kueri SQL untuk mendemonstrasikan fungsi spasial. Cluster Anda harus memiliki setidaknya dua node. Untuk mempelajari cara membuat klaster, ikuti langkah-langkah di Panduan <a href="https://docs.aws.amazon.com/redshift/latest/gsg/">Memulai Amazon Redshift</a>. </p>
            </li><li class="listitem">
                        <p>Untuk menggunakan editor kueri Amazon Redshift, pastikan klaster Anda berada di AWS Wilayah yang mendukung editor kueri. Untuk informasi selengkapnya, lihat <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/query-editor.html">Menanyakan database menggunakan editor kueri</a> di Panduan Manajemen <em>Amazon Redshift</em>. </p>
            </li><li class="listitem">
                        <p>AWSkredensil untuk klaster Amazon Redshift Anda yang memungkinkannya memuat data pengujian dari Amazon S3. Untuk informasi tentang cara mengakses AWS layanan lain seperti Amazon S3, lihat <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/authorizing-redshift-service.html">Mengotorisasi Amazon Redshift</a> untuk mengakses layanan. AWS</p>
            </li><li class="listitem">
                        <p>Peran AWS Identity and Access Management (IAM) bernama<code class="code">mySpatialDemoRole</code>, yang memiliki kebijakan terkelola yang <code class="code">AmazonS3ReadOnlyAccess</code> dilampirkan untuk membaca data Amazon S3. <em>Untuk membuat peran dengan izin untuk memuat data dari bucket Amazon S3, lihat <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/copy-unload-iam-role.html">Mengotorisasi operasi COPY, UNLOAD, dan CREATE EXTERNAL SCHEMA menggunakan peran IAM di Panduan Manajemen Amazon Redshift</a>.</em> </p>
            </li><li class="listitem"><p>Setelah Anda membuat peran IAM<code class="code">mySpatialDemoRole</code>, peran tersebut memerlukan asosiasi dengan klaster Amazon Redshift Anda. <em>Untuk informasi selengkapnya tentang cara membuat asosiasi tersebut, lihat <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/copy-unload-iam-role.html">Mengotorisasi operasi COPY, UNLOAD, dan CREATE EXTERNAL SCHEMA menggunakan peran IAM dalam Panduan Manajemen</a> Amazon Redshift.</em> </p>    
            </li></ul></div>   

        
        <h2 id="spatial-tutorial-test-data">Langkah 1: Buat tabel dan muat data uji</h2>
            
            
             
            <p>Sumber data yang digunakan oleh tutorial ini adalah dalam file bernama <code>accommodations.csv</code> dan<code>zipcodes.csv</code>. </p>
        <p><code>accommodations.csv</code>File tersebut adalah data sumber terbuka dari insideairbnb.com. <code>zipcodes.csv</code>File tersebut menyediakan kode pos yang merupakan data sumber terbuka dari institut statistik nasional Berlin-Brandenburg di Jerman (Amt für Statistik Berlin-Brandenburg). Kedua sumber data disediakan di bawah lisensi Creative Commons. Data terbatas pada wilayah Berlin, Jerman. File-file ini terletak di bucket publik Amazon S3 untuk digunakan dengan tutorial ini. </p>
            
            <p>Anda dapat mengunduh data sumber secara opsional dari tautan Amazon S3 berikut:</p> 
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem"><p><a href="https://s3.amazonaws.com/redshift-downloads/spatial-data/accommodations.csv" rel="noopener noreferrer" target="_blank"><span>Sumber data untuk <code class="code">accommodations</code> tabel</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. </p></li><li class="listitem"><p><a href="https://s3.amazonaws.com/redshift-downloads/spatial-data/zipcode.csv" rel="noopener noreferrer" target="_blank"><span>Sumber data untuk <code class="code">zipcode</code> tabel</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. </p></li></ul></div>
            
           <p>Gunakan prosedur berikut untuk membuat tabel dan memuat data uji. </p>

            <div class="procedure"><h6>Untuk membuat tabel dan memuat data uji</h6><ol><li>
                    <p>Buka editor kueri Amazon Redshift. Untuk informasi selengkapnya tentang bekerja dengan editor kueri, lihat <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/query-editor.html">Menanyakan database menggunakan editor kueri</a> di Panduan Manajemen <em>Pergeseran Merah Amazon</em>. </p> 
                </li><li>
                    <p>Jatuhkan tabel apa pun yang digunakan oleh tutorial ini jika sudah ada di database Anda. Untuk informasi selengkapnya, lihat <a href="#spatial-tutorial-clean-up">Langkah 3: Bersihkan sumber daya Anda</a>. </p>
                </li><li>
                    <p>Buat <code class="code">accommodations</code> tabel untuk menyimpan lokasi geografis setiap akomodasi (bujur dan lintang), nama daftar, dan data bisnis lainnya. </p>
                <p>Tutorial ini mengeksplorasi penyewaan kamar di Berlin, Jerman. <code class="code">shape</code>Kolom menyimpan titik-titik geografis dari lokasi akomodasi. Kolom lainnya berisi informasi tentang sewa. </p>
                    <p>Untuk membuat <code class="code">accommodations</code> tabel, jalankan pernyataan SQL berikut di editor kueri Amazon Redshift. </p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">CREATE TABLE public.accommodations (
  id INTEGER PRIMARY KEY,
  shape GEOMETRY,
  name VARCHAR(100),
  host_name VARCHAR(100),
  neighbourhood_group VARCHAR(100),
  neighbourhood VARCHAR(100),
  room_type VARCHAR(100),
  price SMALLINT,
  minimum_nights SMALLINT,
  number_of_reviews SMALLINT,
  last_review DATE,
  reviews_per_month NUMERIC(8,2),
  calculated_host_listings_count SMALLINT, 
  availability_365 SMALLINT
);</code></pre>
               </li><li>
                    <p>Buat <code class="code">zipcode</code> tabel di editor kueri untuk menyimpan kode pos Berlin. </p>
                <p><em>Kode pos</em> didefinisikan sebagai poligon di kolom. <code class="code">wkb_geometry</code> Sisa kolom menjelaskan metadata spasial tambahan tentang kode pos. </p>
                <p>Untuk membuat <code class="code">zipcode</code> tabel, jalankan pernyataan SQL berikut di editor kueri Amazon Redshift. </p>
                    
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">CREATE TABLE public.zipcode (
  ogc_field INTEGER PRIMARY KEY NOT NULL,
  wkb_geometry GEOMETRY,
  gml_id VARCHAR(256),
  spatial_name VARCHAR(256),
  spatial_alias VARCHAR(256),
  spatial_type VARCHAR(256)
 );</code></pre>
                    
                </li><li>
                    <p>Muat tabel menggunakan data sampel. </p>
                <p>Data sampel untuk tutorial ini disediakan dalam bucket Amazon S3 yang memungkinkan akses baca ke semua pengguna yang diautentikasiAWS. Pastikan Anda memberikan AWS kredensi valid yang mengizinkan akses ke Amazon S3. </p>
                <p>Untuk memuat data uji ke tabel Anda, jalankan perintah COPY berikut. Ganti <code class="replaceable"><code class="code">account-number</code></code>dengan nomor AWS akun Anda sendiri. Segmen string kredensial yang diapit tanda kutip tunggal tidak dapat berisi spasi atau jeda baris apa pun. </p>
                    
                    
  
                                                         
                            
                            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">COPY public.accommodations 
FROM 's3://redshift-downloads/spatial-data/accommodations.csv' 
DELIMITER ';' 
IGNOREHEADER 1 REGION 'us-east-1'
CREDENTIALS 'aws_iam_role=arn:aws:iam::<code class="replaceable">account-number</code>:role/mySpatialDemoRole';
</code></pre>
                            
                            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">COPY public.zipcode 
FROM 's3://redshift-downloads/spatial-data/zipcode.csv' 
DELIMITER ';' 
IGNOREHEADER 1 REGION 'us-east-1'
CREDENTIALS 'aws_iam_role=arn:aws:iam::<code class="replaceable">account-number</code>:role/mySpatialDemoRole';
</code></pre>  
 
 
                            
                            
                             
                            
                </li><li>
                    <p>Verifikasi bahwa setiap tabel dimuat dengan benar dengan menjalankan perintah berikut. </p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">select count(*) from accommodations;</code></pre>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">select count(*) from zipcode;</code></pre>
                    <p>Hasil berikut menunjukkan jumlah baris di setiap tabel data uji.</p>
                    <div class="table-container"><div class="table-contents"><table id="w319aac25c67c11c13c12b9"><thead>
                                <tr>
                                    <th>Nama tabel</th>
                                    <th>Baris</th>
                                </tr>
                            </thead>
                                <tr>
                                    <td tabindex="-1">akomodasi</td>
                                    <td tabindex="-1">22.248</td>
                                </tr>
                                <tr>
                                    <td tabindex="-1">kode pos</td>
                                    <td tabindex="-1">190</td>
                                </tr>
                            </table></div></div>
                </li></ol></div>                       
     
        <h2 id="spatial-tutorial-query">Langkah 2: Kueri data spasial</h2>

        <p>Setelah tabel Anda dibuat dan dimuat, Anda dapat menanyakannya menggunakan pernyataan SQL SELECT. Kueri berikut menunjukkan beberapa informasi yang dapat Anda ambil. Anda dapat menulis banyak kueri lain yang menggunakan fungsi spasial untuk memenuhi kebutuhan Anda. </p>
        <div class="procedure"><h6>Untuk menanyakan data spasial</h6><ol><li>
                <p>Query untuk mendapatkan hitungan jumlah total listing yang disimpan dalam <code class="code">accommodations</code> tabel, seperti yang ditunjukkan berikut. Sistem referensi spasial adalah World Geodetic System (WGS) 84, yang memiliki pengidentifikasi referensi spasial unik 4326.</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">SELECT count(*) FROM public.accommodations WHERE ST_SRID(shape) = 4326;</code></pre>
                <pre class="programlisting"><div class="code-btn-container"></div><code class="nohighlight">
 count
-------
 22248</code></pre>                
            </li><li>
                <p>Ambil objek geometri dalam format teks terkenal (WKT) dengan beberapa atribut tambahan. Selain itu, Anda dapat memvalidasi jika data kode pos ini juga disimpan di World Geodetic System (WGS) 84, yang menggunakan ID referensi spasial (SRID) 4326. Data spasial harus disimpan dalam sistem referensi spasial yang sama agar dapat dioperasikan. </p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">SELECT ogc_field, spatial_name, spatial_type, ST_SRID(wkb_geometry), ST_AsText(wkb_geometry) 
FROM public.zipcode 
ORDER BY spatial_name;</code></pre>
                <pre class="programlisting"><div class="code-btn-container"></div><code class="nohighlight">
ogc_field  spatial_name  spatial_type  st_srid  st_astext
---------------------------------------------------------------
0           10115        Polygon        4326     POLYGON((...))
4           10117        Polygon        4326     POLYGON((...))
8           10119        Polygon        4326     POLYGON((...))
...
(190 rows returned)</code></pre>
                
            </li><li>
                <p>Pilih poligon Berlin Mitte (10117), sebuah wilayah Berlin, dalam format GeoJSON, dimensinya, dan jumlah titik dalam poligon ini. </p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">SELECT ogc_field, spatial_name, ST_AsGeoJSON(wkb_geometry), ST_Dimension(wkb_geometry), ST_NPoints(wkb_geometry)
FROM public.zipcode 
WHERE spatial_name='10117';</code></pre>
                <pre class="programlisting"><div class="code-btn-container"></div><code class="nohighlight">
ogc_field  spatial_name  spatial_type                                   st_dimension  st_npoint
-----------------------------------------------------------------------------------------------
4           10117         <span>{</span>"type":"Polygon", "coordinates":[[[...]]]}    2             331
</code></pre>
                
            </li><li>
                <p>Jalankan perintah SQL berikut untuk melihat berapa banyak akomodasi yang berada dalam jarak 500 meter dari Gerbang Brandenburg. </p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">SELECT count(*) 
FROM public.accommodations 
WHERE ST_DistanceSphere(shape, ST_GeomFromText('POINT(13.377704 52.516431)', 4326)) &lt; 500;</code></pre>
                <pre class="programlisting"><div class="code-btn-container"></div><code class="nohighlight">
count
------
  29
</code></pre>
                             
            </li><li>
                <p>Dapatkan lokasi kasar Gerbang Brandenburg dari data yang disimpan di akomodasi yang terdaftar di dekatnya dengan menjalankan kueri berikut.</p>
                <p>Query ini membutuhkan subselect. Ini mengarah ke hitungan yang berbeda karena lokasi yang diminta tidak sama dengan kueri sebelumnya karena lebih dekat ke akomodasi. </p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">WITH poi(loc) as (
  SELECT st_astext(shape) FROM accommodations WHERE name LIKE '%brandenburg gate%'
)
SELECT count(*) 
FROM accommodations a, poi p
WHERE ST_DistanceSphere(a.shape, ST_GeomFromText(p.loc, 4326)) &lt; 500;</code></pre>                
                <pre class="programlisting"><div class="code-btn-container"></div><code class="nohighlight">
count
------
  60
</code></pre>  
                
              
            </li><li>
                <p>Jalankan kueri berikut untuk menunjukkan detail semua akomodasi di sekitar Gerbang Brandenburg, dipesan berdasarkan harga dalam urutan menurun. </p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">SELECT name, price, ST_AsText(shape) 
FROM public.accommodations
WHERE ST_DistanceSphere(shape, ST_GeomFromText('POINT(13.377704 52.516431)', 4326)) &lt; 500
ORDER BY price DESC;</code></pre>
                <pre class="programlisting"><div class="code-btn-container"></div><code class="nohighlight">
name                                                   price  st_astext
-------------------------------------------------------------------------------------------------------
DUPLEX APARTMENT/PENTHOUSE in 5* LOCATION! 7583        300    POINT(13.3826510209548 52.5159819722552)
DUPLEX-PENTHOUSE IN FIRST LOCATION! 7582               300    POINT(13.3799997083855 52.5135918444834)
... 
(29 rows returned)
</code></pre> 
                
                             
            </li><li>
                <p>Jalankan kueri berikut untuk mengambil akomodasi paling mahal dengan kode posnya. </p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">SELECT 
  a.price, a.name, ST_AsText(a.shape), 
  z.spatial_name, ST_AsText(z.wkb_geometry) 
FROM accommodations a, zipcode z 
WHERE price = 9000 AND ST_Within(a.shape, z.wkb_geometry);</code></pre>
                <pre class="programlisting"><div class="code-btn-container"></div><code class="nohighlight">
price   name                                 st_astext                                  spatial_name      st_astext
-------------------------------------------------------------------------------------------------------------------------------------------------
9000    Ueber den Dächern Berlins Zentrum    POINT(13.334436985013 52.4979779501538)    10777             POLYGON((13.3318284987227 52.4956021172799,...
</code></pre>               
            </li><li>
                <p>Hitung harga maksimum, minimum, atau median akomodasi dengan menggunakan subquery. </p>
                <p>Kueri berikut mencantumkan harga rata-rata akomodasi berdasarkan kode pos. </p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">SELECT 
  a.price, a.name, ST_AsText(a.shape), 
  z.spatial_name, ST_AsText(z.wkb_geometry) 
FROM accommodations a, zipcode z 
WHERE 
  ST_Within(a.shape, z.wkb_geometry) AND 
  price = (SELECT median(price) FROM accommodations)
ORDER BY a.price;</code></pre>
                <pre class="programlisting"><div class="code-btn-container"></div><code class="nohighlight">
price name                            st_astext                                   spatial_name   st_astext
---------------------------------------------------------------------------------------------------------------------------------------------                    
45    "Cozy room Berlin-Mitte"        POINT(13.3864349535358 52.5292016386514)    10115          POLYGON((13.3658598465795 52.535659581048,...
...
(723 rows returned)
</code></pre> 
                
            </li><li>
                <p>Jalankan kueri berikut untuk mengambil jumlah akomodasi yang tercantum di Berlin. Untuk menemukan hot spot, ini dikelompokkan berdasarkan kode pos dan diurutkan berdasarkan jumlah pasokan. </p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">SELECT z.spatial_name as zip, count(*) as numAccommodations 
FROM public.accommodations a, public.zipcode z
WHERE ST_Within(a.shape, z.wkb_geometry)
GROUP BY zip 
ORDER BY numAccommodations DESC;</code></pre>
                <pre class="programlisting"><div class="code-btn-container"></div><code class="nohighlight">
zip  	numaccommodations
----------------------------
10245	872
10247	832
10437	733
10115	664
...
(187 rows returned)
</code></pre>
            </li></ol></div>




     
           <h2 id="spatial-tutorial-clean-up">Langkah 3: Bersihkan sumber daya Anda</h2>
           
           
           <p>Cluster Anda terus bertambah biaya selama itu berjalan. Ketika Anda telah menyelesaikan tutorial ini, Anda dapat menghapus cluster sampel Anda. </p>
           <p>Jika Anda ingin menyimpan cluster tetapi memulihkan penyimpanan yang digunakan oleh tabel data uji, jalankan perintah berikut untuk menghapus tabel. </p>
           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">drop table public.accommodations cascade;</code></pre>
           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">drop table public.zipcode cascade;</code></pre>
           
       <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Awas" /> <strong>Javascript dinonaktifkan atau tidak tersedia di browser Anda.</strong></p><p>Untuk menggunakan Dokumentasi AWS, Javascript harus diaktifkan. Lihat halaman Bantuan browser Anda untuk petunjuk.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Konvensi Dokumen</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./geospatial-overview.html">Meminta data spasial</div><div id="next" class="next-link" accesskey="n" href="./spatial-copy-shapefile.html">Memuat shapefile</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Apakah halaman ini membantu Anda? - Ya</div><div class="content"><p>Terima kasih telah memberitahukan bahwa hasil pekerjaan kami sudah baik.</p><p>Jika Anda memiliki waktu luang, beri tahu kami aspek apa saja yang sudah bagus, agar kami dapat menerapkannya secara lebih luas.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Umpan Balik" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/id_id/redshift/latest/dg/spatial-tutorial.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Apakah halaman ini membantu Anda? - Tidak</div><div class="content"><p>Terima kasih telah memberi tahu kami bahwa halaman ini perlu ditingkatkan. Maaf karena telah mengecewakan Anda.</p><p>Jika Anda memiliki waktu luang, beri tahu kami bagaimana dokumentasi ini dapat ditingkatkan.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Umpan Balik" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/id_id/redshift/latest/dg/spatial-tutorial.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>