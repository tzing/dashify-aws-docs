<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="id-ID"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>CREATE FUNCTION - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_CREATE_FUNCTION" /><meta name="default_state" content="r_CREATE_FUNCTION" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_CREATE_FUNCTION.html" /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Panduan Pengembang Database" /><meta name="abstract" content="Buat dan kelola gudang data dengan Amazon Redshift, skala petabyte tingkat perusahaan, layanan pergudangan data yang dikelola sepenuhnya." /><meta name="guide-locale" content="id_id" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_CREATE_FUNCTION.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Panduan Pengembang Database" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Panduan Pengembang Database" /><meta id="panorama-serviceConsolePage" value="CREATE FUNCTION" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>CREATE FUNCTION - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#r_CREATE_FUNCTION" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_CREATE_FUNCTION.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_CREATE_FUNCTION.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_CREATE_FUNCTION.html" /><meta name="keywords" content="Amazon Redshift,AWSPergeseran Merah,Redshift,Spektrum Pergeseran Merah,Klaster,gudang data,pengembang,data sampel,database,pengembang basis data,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Panduan Pengembang Database",
        "item" : "https://docs.aws.amazon.com/id_id/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Referensi SQL",
        "item" : "https://docs.aws.amazon.com/id_id/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Perintah SQL",
        "item" : "https://docs.aws.amazon.com/id_id/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "CREATE FUNCTION",
        "item" : "https://docs.aws.amazon.com/id_id/redshift/latest/dg/c_SQL_commands.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#r_CREATE_FUNCTION" target="_blank" rel="noopener noreferrer" title="Buka PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Dokumentasi</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Panduan Pengembang Database</a></div><div id="page-toc-src"><a href="#r_CREATE_FUNCTION-privileges">Hak istimewa yang diperlukan</a><a href="#r_CREATE_FUNCTION-synopsis">Sintaksis</a><a href="#r_CREATE_FUNCTION-parameters">Parameter</a><a href="#r_CREATE_FUNCTION-usage-notes">Catatan penggunaan</a><a href="#r_CREATE_FUNCTION-examples">Contoh-contoh</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Terjemahan disediakan oleh mesin penerjemah. Jika konten terjemahan yang diberikan bertentangan dengan versi bahasa Inggris aslinya, utamakan versi bahasa Inggris.</p></awsui-alert><h1 class="topictitle" id="r_CREATE_FUNCTION">CREATE FUNCTION</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p> </p><p>Membuat fungsi skalar yang ditentukan pengguna (UDF) baru menggunakan klausa SQL SELECT atau program Python.</p><p>Untuk informasi selengkapnya dan contoh tambahan, lihat <a href="./user-defined-functions.html">Untuk melakukannya, jalankan fungsi yang ditentukan pengguna</a>.</p>
         <h2 id="r_CREATE_FUNCTION-privileges">Hak istimewa yang diperlukan</h2>
         <p>Berikut ini adalah hak istimewa yang diperlukan untuk CREATE FUNCTION:</p>
         <div class="itemizedlist">
             
             
         <ul class="itemizedlist"><li class="listitem"><p>Untuk CREATE FUNCTION:</p>
               <div class="itemizedlist">
                   
                   
               <ul class="itemizedlist"><li class="listitem"><p>Superuser dapat menggunakan bahasa tepercaya dan tidak tepercaya untuk membuat fungsi.</p></li><li class="listitem"><p>Pengguna dengan hak istimewa CREATE [OR REPLACE] FUNCTION dapat membuat fungsi dengan bahasa tepercaya.</p></li></ul></div>
            </li><li class="listitem"><p>Untuk FUNGSI GANTI:</p>
               <div class="itemizedlist">
                   
                   
                   
               <ul class="itemizedlist"><li class="listitem"><p>Superuser</p></li><li class="listitem"><p>Pengguna dengan hak istimewa FUNGSI CREATE [OR REPLACE]</p></li><li class="listitem"><p>Pemilik fungsi</p></li></ul></div>
            </li></ul></div>
       
         <h2 id="r_CREATE_FUNCTION-synopsis">Sintaks</h2>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">CREATE [ OR REPLACE ] FUNCTION <em>f_function_name</em>
( <span>{</span> [<em>py_arg_name</em> <em> py_arg_data_type</em> |
<em>sql_arg_data_type</em> } [ , ... ] ] )
RETURNS <em>data_type</em>
<span>{</span> VOLATILE | STABLE | IMMUTABLE }
AS $$
  <span>{</span> <em>python_program</em> | <em>SELECT_clause</em> }
$$ LANGUAGE <span>{</span> plpythonu | sql }</code></pre>
       
         <h2 id="r_CREATE_FUNCTION-parameters">Parameter</h2>
         <div class="variablelist">
             
             
             
             
             
             
             
             
             
         <dl>
               <dt><span class="term">ATAU GANTI</span></dt>
               <dd>
                  <p>Menentukan bahwa jika fungsi dengan nama yang sama dan tipe data argumen masukan, atau <em>tanda tangan</em>, karena ini sudah ada, fungsi yang ada diganti. Anda hanya dapat mengganti fungsi dengan fungsi baru yang mendefinisikan kumpulan tipe data yang identik. Anda harus menjadi superuser untuk mengganti fungsi.</p>
                  <p>Jika Anda mendefinisikan fungsi dengan nama yang sama dengan fungsi yang ada tetapi tanda tangan yang berbeda, Anda membuat fungsi baru. Dengan kata lain, nama fungsi kelebihan beban. Untuk informasi selengkapnya, lihat <a href="./udf-naming-udfs.html#udf-naming-overloading-function-names">Nama fungsi yang berlebihan</a>.</p>
               </dd>
             
               <dt><span class="term"> <em>f_function_name</em> </span></dt>
               <dd>
                  <p>Nama fungsi. Jika Anda menentukan nama skema (seperti<code class="code">myschema.myfunction</code>), fungsi dibuat menggunakan skema yang ditentukan. Jika tidak, fungsi dibuat dalam skema saat ini. Untuk informasi selengkapnya tentang nama yang valid, lihat<a href="./r_names.html">Nama dan pengidentifikasi</a>.</p>
                  <p>Kami menyarankan Anda untuk mengawali semua nama UDF dengan. <code class="code">f_</code> Amazon Redshift mencadangkan <code class="code">f_</code> awalan untuk nama UDF, jadi dengan menggunakan <code class="code">f_</code> awalan, Anda memastikan bahwa nama UDF Anda tidak akan bertentangan dengan nama fungsi SQL bawaan Amazon Redshift yang ada atau yang akan datang. Untuk informasi selengkapnya, lihat <a href="./udf-naming-udfs.html">Penamaan UDFs</a>.</p>
                  <p>Anda dapat mendefinisikan lebih dari satu fungsi dengan nama fungsi yang sama jika tipe data untuk argumen masukan berbeda. Dengan kata lain, nama fungsi kelebihan beban. Untuk informasi selengkapnya, lihat <a href="./udf-naming-udfs.html#udf-naming-overloading-function-names">Nama fungsi yang berlebihan</a>.</p>
               </dd>
             
               <dt><span class="term"> <em>py_arg_name py_arg_data_type | tipe sql_arg_data</em> </span></dt>
               <dd>
                  <p>Untuk UDF Python, daftar nama argumen input dan tipe data. Untuk SQL UDF, daftar tipe data, tanpa nama argumen. Dalam UDF Python, lihat argumen menggunakan nama argumen. Dalam SQL UDF, lihat argumen menggunakan $1, $2, dan seterusnya, berdasarkan urutan argumen dalam daftar argumen. </p>
                  <p>Untuk SQL UDF, tipe data input dan pengembalian dapat berupa tipe data Amazon Redshift standar apa pun. Untuk UDF Python, tipe data input dan return dapat berupa SMALLINT, INTEGER, BIGINT, DECIMAL, REAL, DOUBLE PRECISION, BOOLEAN, CHAR, VARCHAR, DATE, atau TIMESTAMP. Selain itu, Python user-defined functions (UDFs) mendukung tipe data ANYELEMENT. Ini secara otomatis dikonversi ke tipe data standar berdasarkan tipe data dari argumen terkait yang diberikan saat runtime. Jika beberapa argumen menggunakan ANYELEMENT, mereka semua menyelesaikan ke tipe data yang sama saat runtime, berdasarkan argumen ANYELEMENT pertama dalam daftar. Lihat informasi yang lebih lengkap di <a href="./udf-data-types.html">Tipe data Python UDF</a> dan <a href="./c_Supported_data_types.html">Tipe Data</a>.</p>

                  <p>Anda dapat menentukan maksimal 32 argumen.</p>
               </dd>
             
               <dt><span class="term"> RETURNS <em>data_type</em> </span></dt>
               <dd>
                  <p>Tipe data dari nilai yang dikembalikan oleh fungsi. Tipe data RETURNS dapat berupa tipe data Amazon Redshift standar apa pun. Selain itu, Python UDF dapat menggunakan tipe data ANYELEMENT, yang secara otomatis dikonversi ke tipe data standar berdasarkan argumen yang diberikan saat runtime. Jika Anda menentukan ANYELEMENT untuk tipe data kembali, setidaknya satu argumen harus menggunakan ANYELEMENT. Tipe data pengembalian aktual cocok dengan tipe data yang disediakan untuk argumen ANYELEMENT ketika fungsi dipanggil. Untuk informasi selengkapnya, lihat <a href="./udf-data-types.html">Tipe data Python UDF</a>.</p>
               </dd>
             
               <dt><span class="term"> VOLATIL | STABIL | TIDAK DAPAT DIUBAH </span></dt>
               <dd>
                  <p>Menginformasikan pengoptimal kueri tentang volatilitas fungsi. </p>
                  <p>Anda akan mendapatkan optimasi terbaik jika Anda memberi label fungsi Anda dengan kategori volatilitas ketat yang berlaku untuk itu. Namun, jika kategorinya terlalu ketat, ada risiko bahwa pengoptimal akan salah melewatkan beberapa panggilan, yang mengakibatkan set hasil yang salah. Dalam urutan keketatan, dimulai dengan yang paling ketat, kategori volatilitas adalah sebagai berikut:</p>
                  <div class="itemizedlist">
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>VOLATIL</p>
                     </li><li class="listitem">
                        <p>STABIL</p>
                     </li><li class="listitem">
                        <p>ABADI</p>
                     </li></ul></div>
                  
                  <p>VOLATIL</p>
                  <p>Dengan argumen yang sama, fungsi dapat mengembalikan hasil yang berbeda pada panggilan berturut-turut, bahkan untuk baris dalam satu pernyataan. Pengoptimal kueri tidak dapat membuat asumsi apa pun tentang perilaku fungsi volatile, jadi kueri yang menggunakan fungsi volatile harus mengevaluasi kembali fungsi untuk setiap baris input.</p>
                  <p>STABIL</p>
                  <p>Dengan argumen yang sama, fungsi dijamin mengembalikan hasil yang sama untuk semua baris yang diproses dalam satu pernyataan. Fungsi ini dapat mengembalikan hasil yang berbeda ketika dipanggil dalam pernyataan yang berbeda. Kategori ini memungkinkan pengoptimal untuk mengoptimalkan beberapa panggilan fungsi dalam satu pernyataan ke satu panggilan untuk pernyataan. </p>
                  <p>ABADI</p>
                  <p>Mengingat argumen yang sama, fungsi selalu mengembalikan hasil yang sama, selamanya. Saat kueri memanggil <code class="code">IMMUTABLE</code> fungsi dengan argumen konstan, pengoptimal mengevaluasi fungsi tersebut terlebih dahulu.</p>
               </dd>
             
               <dt><span class="term">AS $$ <em>pernyataan</em> $$</span></dt>
               <dd>
                  <p> Sebuah konstruksi yang melampirkan pernyataan yang akan dijalankan. Kata kunci literal <code class="code">AS $$</code> dan <code class="code">$$</code> diperlukan. </p>
                  <p>Amazon Redshift mengharuskan Anda untuk melampirkan pernyataan dalam fungsi Anda dengan menggunakan format yang disebut kutipan dolar. Apa pun di dalam kandang dilewatkan persis seperti apa adanya. Anda tidak perlu melarikan diri dari karakter khusus apa pun karena isi string ditulis secara harfiah. </p>
                  <p> Dengan <em>kutipan dolar,</em> Anda menggunakan sepasang tanda dolar ($$) untuk menandakan awal dan akhir pernyataan yang akan dijalankan, seperti yang ditunjukkan pada contoh berikut. </p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">$$ <code class="replaceable">my statement</code> $$</code></pre>
                  <p> Secara opsional, di antara tanda-tanda dolar di setiap pasangan, Anda dapat menentukan string untuk membantu mengidentifikasi pernyataan tersebut. String yang Anda gunakan harus sama di awal dan akhir pasangan enklosur. String ini peka huruf besar/kecil, dan mengikuti batasan yang sama dengan pengenal yang tidak dikutip kecuali bahwa string ini tidak dapat berisi tanda dolar. Contoh berikut menggunakan string<code class="code">test</code>. </p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">$test$ <code class="replaceable">my statement</code> $test$</code></pre>

                  <p><a href="https://www.postgresql.org/docs/9.4/static/sql-syntax-lexical.html" rel="noopener noreferrer" target="_blank"><span>Untuk informasi lebih lanjut tentang kutipan dolar, lihat “Konstanta String yang dikutip Dolar” di bawah Struktur Leksikal dalam dokumentasi PostgreSQL.</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> </p>
               </dd>
             
               <dt><span class="term"><em>python_program</em> </span></dt>
               <dd>
                  <p>Sebuah program Python executable valid yang mengembalikan nilai. Pernyataan bahwa Anda meneruskan dengan fungsi harus sesuai dengan persyaratan lekukan seperti yang ditentukan dalam Panduan <a href="https://www.python.org/dev/peps/pep-0008/#indentation" rel="noopener noreferrer" target="_blank"><span>Gaya untuk Kode Python di situs web Python</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. Untuk informasi selengkapnya, lihat <a href="./udf-python-language-support.html">Dukungan bahasa Python untuk UDF</a>.</p>
               </dd>
             
               <dt><span class="term"><em>SQL_klausul</em> </span></dt>
               <dd>
                  <p>Sebuah klausa SQL SELECT.</p>
                  <p>Klausa SELECT tidak dapat menyertakan salah satu jenis klausa berikut:</p>
                  <div class="itemizedlist">
                      
                      
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>FROM</p>
                     </li><li class="listitem">
                        <p>KE DALAM</p>
                     </li><li class="listitem">
                        <p>WHERE</p>
                     </li><li class="listitem">
                        <p>GROUP BY</p>
                     </li><li class="listitem">
                        <p>ORDER BY</p>
                     </li><li class="listitem">
                        <p>LIMIT</p>
                     </li></ul></div>
               </dd>
             
               <dt><span class="term">BAHASA <span>{</span>plpythonu | sql} </span></dt>
               <dd>
                  <p>Untuk Python, tentukan. <code class="code">plpythonu</code> Untuk SQL, tentukan<code class="code">sql</code>. Anda harus memiliki izin untuk penggunaan pada bahasa untuk SQL atau plpythonu. Untuk informasi selengkapnya, lihat <a href="./udf-security-and-privileges.html">Keamanan dan hak istimewa UDF</a>.</p>
               </dd>
            </dl></div>
       
         <h2 id="r_CREATE_FUNCTION-usage-notes">Catatan penggunaan</h2>
          
            <h3 id="r_CREATE_FUNCTION-usage-notes-nested-functions">Fungsi bersarang</h3>
            <p>Anda dapat memanggil fungsi SQL yang ditentukan pengguna (UDF) lain dari dalam SQL UDF. Fungsi bersarang harus ada saat Anda menjalankan perintah CREATE FUNCTION. Amazon Redshift tidak melacak dependensi untuk UDF, jadi jika Anda menghapus fungsi bersarang, Amazon Redshift tidak menampilkan kesalahan. Namun, UDF akan gagal jika fungsi bersarang tidak ada. Misalnya, fungsi berikut memanggil <code class="code">f_sql_greater
               </code> fungsi dalam klausa SELECT.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="">create function f_sql_commission (float, float )
  returns float
stable
as $$
  select f_sql_greater ($1, $2)
$$ language sql;</code></pre>
          
          
            <h3 id="r_CREATE_FUNCTION-usage-notes-security-and-privileges">Keamanan dan hak istimewa UDF</h3>
            <p>Untuk membuat UDF, Anda harus memiliki izin untuk penggunaan pada bahasa untuk SQL atau plpythonu (Python). Secara default, PENGGUNAAN PADA BAHASA SQL diberikan kepada PUBLIK. Namun, Anda harus secara eksplisit memberikan PENGGUNAAN PADA BAHASA PLPYTHONU kepada pengguna atau grup tertentu. </p>
            <p>Untuk mencabut penggunaan SQL, pertama-tama cabut penggunaan dari PUBLIC. Kemudian berikan penggunaan pada SQL hanya untuk pengguna atau grup tertentu yang diizinkan untuk membuat SQL UDF. Contoh berikut mencabut penggunaan pada SQL dari PUBLIC kemudian memberikan penggunaan ke grup pengguna. <code class="code">udf_devs</code></p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="">revoke usage on language sql from PUBLIC;
grant usage on language sql to group udf_devs;</code></pre>
            <p>Untuk menjalankan UDF, Anda harus memiliki izin eksekusi untuk setiap fungsi. Secara default, izin eksekusi untuk UDF baru diberikan kepada PUBLIC. Untuk membatasi penggunaan, cabut izin eksekusi dari PUBLIC untuk fungsi tersebut. Kemudian berikan hak istimewa kepada individu atau kelompok tertentu. </p>
            <p>Contoh berikut mencabut izin eksekusi pada fungsi <code class="code">f_py_greater</code> dari PUBLIC kemudian memberikan penggunaan ke grup pengguna. <code class="code">udf_devs</code></p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="">revoke execute on function f_py_greater(a float, b float) from PUBLIC;
grant execute on function f_py_greater(a float, b float) to group udf_devs;</code></pre>
            <p>Superuser memiliki semua hak istimewa secara default. </p>
            <p>Lihat informasi yang lebih lengkap di <a href="./r_GRANT.html">HIBAH</a> dan <a href="./r_REVOKE.html">MENCABUT</a>.</p>
          
       
         <h2 id="r_CREATE_FUNCTION-examples">Contoh-contoh</h2>
          
            <h3 id="r_CREATE_FUNCTION-python-example">Contoh UDF Python Skalar</h3>
            <p>Contoh berikut menciptakan UDF Python yang membandingkan dua bilangan bulat dan mengembalikan nilai yang lebih besar.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="">create function f_py_greater (a float, b float)
  returns float
stable
as $$
  if a &gt; b:
    return a
  return b
$$ language plpythonu;</code></pre>
            <p>Contoh berikut menanyakan tabel PENJUALAN dan memanggil <code class="code">f_py_greater</code> fungsi baru untuk mengembalikan KOMISI atau 20 persen dari PRICEPAID, mana yang lebih besar.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select f_py_greater (commission, pricepaid*0.20) from sales;</code></pre>
          
          
            <h3 id="r_CREATE_FUNCTION-sql-example">Contoh SQL UDF skalar</h3>
            <p>Contoh berikut menciptakan fungsi yang membandingkan dua angka dan mengembalikan nilai yang lebih besar. </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="">create function f_sql_greater (float, float)
  returns float
stable
as $$
  select case when $1 &gt; $2 then $1
    else $2
  end
$$ language sql;</code></pre>
            <p>Kueri berikut memanggil <code class="code">f_sql_greater</code> fungsi baru untuk menanyakan tabel PENJUALAN dan mengembalikan KOMISI atau 20 persen dari PRICEPAID, mana yang lebih besar.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select f_sql_greater (commission, pricepaid*0.20) from sales;</code></pre>
          
         
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Awas" /> <strong>Javascript dinonaktifkan atau tidak tersedia di browser Anda.</strong></p><p>Untuk menggunakan Dokumentasi AWS, Javascript harus diaktifkan. Lihat halaman Bantuan browser Anda untuk petunjuk.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Konvensi Dokumen</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_CREATE_EXTERNAL_VIEW.html">BUAT TAMPILAN EKSTERNAL (pratinjau)</div><div id="next" class="next-link" accesskey="n" href="./r_CREATE_GROUP.html">BUAT GRUP</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Apakah halaman ini membantu Anda? - Ya</div><div class="content"><p>Terima kasih telah memberitahukan bahwa hasil pekerjaan kami sudah baik.</p><p>Jika Anda memiliki waktu luang, beri tahu kami aspek apa saja yang sudah bagus, agar kami dapat menerapkannya secara lebih luas.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Umpan Balik" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_CREATE_FUNCTION.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Apakah halaman ini membantu Anda? - Tidak</div><div class="content"><p>Terima kasih telah memberi tahu kami bahwa halaman ini perlu ditingkatkan. Maaf karena telah mengecewakan Anda.</p><p>Jika Anda memiliki waktu luang, beri tahu kami bagaimana dokumentasi ini dapat ditingkatkan.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Umpan Balik" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_CREATE_FUNCTION.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>