<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="id-ID"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>SYS_QUERY_HISTORY - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="SYS_QUERY_HISTORY" /><meta name="default_state" content="SYS_QUERY_HISTORY" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/SYS_QUERY_HISTORY.html" /><meta name="description" content="Gunakan SYS_QUERY_HISTORY untuk melihat detail kueri pengguna." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Panduan Pengembang Database" /><meta name="abstract" content="Buat dan kelola gudang data dengan Amazon Redshift, skala petabyte tingkat perusahaan, layanan pergudangan data yang dikelola sepenuhnya." /><meta name="guide-locale" content="id_id" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/SYS_QUERY_HISTORY.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/SYS_QUERY_HISTORY.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/SYS_QUERY_HISTORY.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/SYS_QUERY_HISTORY.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/SYS_QUERY_HISTORY.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/SYS_QUERY_HISTORY.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/SYS_QUERY_HISTORY.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/SYS_QUERY_HISTORY.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/SYS_QUERY_HISTORY.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/SYS_QUERY_HISTORY.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/SYS_QUERY_HISTORY.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/SYS_QUERY_HISTORY.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/SYS_QUERY_HISTORY.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/SYS_QUERY_HISTORY.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/SYS_QUERY_HISTORY.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/SYS_QUERY_HISTORY.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/SYS_QUERY_HISTORY.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/SYS_QUERY_HISTORY.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/SYS_QUERY_HISTORY.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/SYS_QUERY_HISTORY.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/SYS_QUERY_HISTORY.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/SYS_QUERY_HISTORY.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Panduan Pengembang Database" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Panduan Pengembang Database" /><meta id="panorama-serviceConsolePage" value="SYS_QUERY_HISTORY" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>SYS_QUERY_HISTORY - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#SYS_QUERY_HISTORY" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/id_id/redshift/latest/dg/SYS_QUERY_HISTORY.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/id_id/redshift/latest/dg/SYS_QUERY_HISTORY.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/id_id/redshift/latest/dg/SYS_QUERY_HISTORY.html" /><meta name="keywords" content="Amazon Redshift,AWSPergeseran Merah,Redshift,Spektrum Pergeseran Merah,Klaster,gudang data,pengembang,data sampel,database,pengembang basis data,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Panduan Pengembang Database",
        "item" : "https://docs.aws.amazon.com/id_id/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Tabel sistem dan tampilan referensi",
        "item" : "https://docs.aws.amazon.com/id_id/redshift/latest/dg/cm_chap_system-tables.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Tampilan pemantauan SYS",
        "item" : "https://docs.aws.amazon.com/id_id/redshift/latest/dg/serverless_views-monitoring.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "SYS_QUERY_HISTORY",
        "item" : "https://docs.aws.amazon.com/id_id/redshift/latest/dg/serverless_views-monitoring.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#SYS_QUERY_HISTORY" target="_blank" rel="noopener noreferrer" title="Buka PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Dokumentasi</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Panduan Pengembang Database</a></div><div id="page-toc-src"><a href="#SYS_QUERY_HISTORY-table-columns">Kolom tabel</a><a href="#SYS_QUERY_HISTORY-sample-queries">Kueri Sampel</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Terjemahan disediakan oleh mesin penerjemah. Jika konten terjemahan yang diberikan bertentangan dengan versi bahasa Inggris aslinya, utamakan versi bahasa Inggris.</p></awsui-alert><h1 class="topictitle" id="SYS_QUERY_HISTORY">SYS_QUERY_HISTORY</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Gunakan SYS_QUERY_HISTORY untuk melihat detail kueri pengguna. Setiap baris mewakili kueri pengguna dengan akumulasi statistik untuk beberapa bidang. Tampilan ini berisi banyak jenis kueri, seperti bahasa definisi data (DDL), bahasa manipulasi data (DHTML), salin, bongkar muat, dan Amazon Redshift Spectrum. Ini berisi kueri yang berjalan dan selesai.</p><p>SYS_QUERY_HISTORY dapat dilihat oleh semua pengguna. Pengguna super dapat melihat semua baris; pengguna biasa hanya dapat melihat data mereka sendiri. Untuk informasi selengkapnya, lihat <a href="./cm_chap_system-tables.html#c_visibility-of-data">Visibilitas data dalam tabel dan tampilan sistem</a>.</p>
            <h2 id="SYS_QUERY_HISTORY-table-columns">Kolom tabel</h2>
            
            
            <div class="table-container"><div class="table-contents"><table id="w319aac49c13c53b7b3"><thead>
                        <tr>
                            <th>Nama kolom </th>
                            <th>Jenis data </th>
                            <th>Deskripsi </th>
                        </tr>
                    </thead>
                        <tr>
                            <td tabindex="-1">user_id</td>
                            <td tabindex="-1">integer</td>
                            <td tabindex="-1">Pengidentifikasi pengguna yang mengirimkan kueri.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">query_id</td>
                            <td tabindex="-1">bigint</td>
                            <td tabindex="-1">Pengidentifikasi kueri.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">query_label</td>
                            <td tabindex="-1">karakter (320)</td>
                            <td tabindex="-1">Nama singkat untuk query.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">transaction_id</td>
                            <td tabindex="-1">bigint</td>
                            <td tabindex="-1">Pengidentifikasi transaksi.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">session_id</td>
                            <td tabindex="-1">integer</td>
                            <td tabindex="-1">Proses identifier dari proses yang menjalankan query.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">database_name</td>
                            <td tabindex="-1">karakter (128)</td>
                            <td tabindex="-1">Nama database yang terhubung dengan pengguna saat kueri dikeluarkan.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">query_type</td>
                            <td tabindex="-1">karakter (32)</td>
                            <td tabindex="-1">Jenis query, seperti, SELECT, INSERT, UPDATE, UNLOAD COPY, COMMAND, DDL, UTILITY, CTAS, dan LAINNYA.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">status</td>
                            <td tabindex="-1">karakter (10)</td>
                            <td tabindex="-1">Status kueri. Nilai yang valid: perencanaan, antrian, menjalankan, mengembalikan, gagal, dibatalkan, dan sukses.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">result_cache_hit</td>
                            <td tabindex="-1">Boolean</td>
                            <td tabindex="-1">Menunjukkan apakah kueri cocok dengan cache hasil.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">start_time</td>
                            <td tabindex="-1">timestamp</td>
                            <td tabindex="-1">Waktu ketika kueri dimulai.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">waktu_akhir</td>
                            <td tabindex="-1">timestamp</td>
                            <td tabindex="-1">Waktu ketika query selesai.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">berlalu_waktu</td>
                            <td tabindex="-1">bigint</td>
                            <td tabindex="-1">Jumlah total waktu (mikrodetik) yang dihabiskan untuk kueri.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">antrian_waktu</td>
                            <td tabindex="-1">bigint</td>
                            <td tabindex="-1">Total waktu (mikrodetik) yang dihabiskan untuk antrian kueri kelas layanan.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">eksekusi_waktu</td>
                            <td tabindex="-1">bigint</td>
                            <td tabindex="-1">Total waktu (mikrodetik) berjalan di kelas layanan.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">error_message</td>
                            <td tabindex="-1">karakter (512)</td>
                            <td tabindex="-1">Alasan kueri gagal.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">returned_rows</td>
                            <td tabindex="-1">bigint</td>
                            <td tabindex="-1">Jumlah baris dikembalikan ke klien. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">kembali_bytes</td>
                            <td tabindex="-1">bigint</td>
                            <td tabindex="-1">Jumlah byte dikembalikan ke klien. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">query_text</td>
                            <td tabindex="-1">karakter (4000)</td>
                            <td tabindex="-1">String kueri. String ini mungkin terpotong. </td>
                        </tr>
                        
                        <tr>
                            <td tabindex="-1">redshift_version</td>
                            <td tabindex="-1">karakter (256)</td>
                            <td tabindex="-1">Versi Amazon Redshift saat kueri dijalankan.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">usage_limit</td>
                            <td tabindex="-1">karakter (150)</td>
                            <td tabindex="-1">Daftar ID batas penggunaan yang dicapai oleh kueri.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">compute_type</td>
                            <td tabindex="-1">varchar(32)</td>
                            <td tabindex="-1">Menunjukkan apakah kueri berjalan di cluster utama atau cluster penskalaan konkurensi. Nilai yang mungkin adalah <code class="code">primary</code> (kueri berjalan pada cluster utama), <code class="code">secondary</code> (kueri berjalan pada cluster sekunder), atau <code class="code">primary-scale</code> (kueri berjalan pada cluster konkurensi). Ini hanya berlaku untuk klaster yang disediakan.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">compile_time</td>
                            <td tabindex="-1">bigint</td>
                            <td tabindex="-1">Total waktu (mikrodetik) yang dihabiskan untuk kompilasi kueri.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">perencanaan_waktu</td>
                            <td tabindex="-1">bigint</td>
                            <td tabindex="-1">Total waktu (mikrodetik) yang dihabiskan untuk perencanaan kueri.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">lock_wait_time</td>
                            <td tabindex="-1">bigint</td>
                            <td tabindex="-1"> Total waktu (mikrodetik) yang dihabiskan untuk menunggu kunci relasi.</td>
                        </tr>
                        
                    </table></div></div>
         
            <h2 id="SYS_QUERY_HISTORY-sample-queries">Kueri Sampel</h2>
            <p>Query berikut mengembalikan query berjalan dan antrian.</p>
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">SELECT user_id,
       query_id,
       transaction_id,
       session_id,
       status,
       trim(database_name) AS database_name,
       start_time,
       end_time,
       result_cache_hit,
       elapsed_time,
       queue_time,
       execution_time
FROM sys_query_history
WHERE status IN ('running','queued')
ORDER BY start_time;</code></pre>
            <p>Keluaran sampel.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class=""> user_id | query_id | transaction_id | session_id | status  | database_name |        start_time         |          end_time          | result_cache_hit | elapsed_time | queue_time | execution_time
---------+----------+----------------+------------+---------+---------------+---------------------------+----------------------------+------------------+--------------+------------+----------------
     101 |   760705 |         852337 | 1073832321 | running | tpcds_1t      | 2022-02-15 19:03:19.67849 | 2022-02-15 19:03:19.739811 | f                |        61321 |          0 |              0</code></pre>
            <p>Kueri berikut mengembalikan waktu mulai kueri, waktu akhir, waktu antrian, waktu berlalu, waktu perencanaan, dan metadata lainnya untuk kueri tertentu.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT user_id,
       query_id,
       transaction_id,
       session_id,
       status,
       trim(database_name) AS database_name,
       start_time,
       end_time,
       result_cache_hit,
       elapsed_time,
       queue_time,
       execution_time,
       planning_time,
       trim(query_text) as query_text
FROM sys_query_history
WHERE query_id = 3093;</code></pre>
            <p>Keluaran sampel.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="">user_id | query_id | transaction_id | session_id |   status   | database_name |         start_time         |          end_time          | result_cache_hit | elapsed_time | queue_time | execution_time | planning_time | query_text
--------+----------+----------------+------------+------------+---------------+----------------------------+----------------------------+------------------+--------------+------------+----------------+---------------+-------------------------------------
    106 |     3093 |          11759 | 1073750146 | success    | dev           | 2023-03-16 16:53:17.840214 | 2023-03-16 16:53:18.106588 | f                |       266374 |          0 |         105725 |        136589 | select count(*) from item;</code></pre>
            <p>Kueri berikut mencantumkan 10 kueri SELECT terbaru.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT query_id,
       transaction_id,
       session_id,
       start_time,
       elapsed_time,
       queue_time,
       execution_time,
       returned_rows,
       returned_bytes
FROM sys_query_history
WHERE query_type = 'SELECT'
ORDER BY start_time DESC limit 10;</code></pre>
            <p>Keluaran sampel.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
 query_id | transaction_id | session_id |         start_time         | elapsed_time | queue_time | execution_time | returned_rows | returned_bytes
----------+----------------+------------+----------------------------+--------------+------------+----------------+---------------+----------------
   526532 |          61093 | 1073840313 | 2022-02-09 04:43:24.149603 |       520571 |          0 |         481293 |             1 |           3794
   526520 |          60850 | 1073840313 | 2022-02-09 04:38:27.24875  |       635957 |          0 |         596601 |             1 |           3679
   526508 |          60803 | 1073840313 | 2022-02-09 04:37:51.118835 |       563882 |          0 |         503135 |             5 |          17216
   526505 |          60763 | 1073840313 | 2022-02-09 04:36:48.636224 |       649337 |          0 |         589823 |             1 |            652
   526478 |          60730 | 1073840313 | 2022-02-09 04:36:11.741471 |     14611321 |          0 |       14544058 |             0 |              0
   526467 |          60636 | 1073840313 | 2022-02-09 04:34:11.91463  |     16711367 |          0 |       16633767 |             1 |            575
   511617 |         617946 | 1074009948 | 2022-01-20 06:21:54.44481  |      9937090 |          0 |        9899271 |           100 |          12500
   511603 |         617941 | 1074259415 | 2022-01-20 06:21:45.71744  |      8065081 |          0 |        7582500 |           100 |           8889
   511595 |         617935 | 1074128320 | 2022-01-20 06:21:44.030876 |      1051270 |          0 |        1014879 |             1 |             72
   511584 |         617931 | 1074030019 | 2022-01-20 06:21:42.764088 |       609033 |          0 |         485887 |           100 |           8438</code></pre>
            <p> Kueri berikut menunjukkan jumlah kueri pilihan harian dan waktu kueri rata-rata yang telah berlalu. </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT date_trunc('day',start_time) AS exec_day,
       status,
       COUNT(*) AS query_cnt,
       AVG(datediff (microsecond,start_time,end_time)) AS elapsed_avg
FROM sys_query_history
WHERE query_type = 'SELECT'
AND start_time &gt;= '2022-01-14'
AND start_time &lt;= '2022-01-18'
GROUP BY exec_day,
         status
ORDER BY exec_day,
         status;</code></pre>
            <p>Keluaran sampel.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="">      exec_day       | status  | query_cnt | elapsed_avg
---------------------+---------+-----------+------------
 2022-01-14 00:00:00 | success |      5253 |  56608048
 2022-01-15 00:00:00 | success |      7004 |  56995017
 2022-01-16 00:00:00 | success |      5253 |  57016363
 2022-01-17 00:00:00 | success |      5309 |  55236784
 2022-01-18 00:00:00 | success |      8092 |  54355124</code></pre>
            <p>Kueri berikut menunjukkan kinerja waktu berlalu kueri harian.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT distinct date_trunc('day',start_time) AS exec_day,
       query_count.cnt AS query_count,
       Percentile_cont(0.5) within group(ORDER BY elapsed_time) OVER (PARTITION BY exec_day) AS P50_runtime,
       Percentile_cont(0.8) within group(ORDER BY elapsed_time) OVER (PARTITION BY exec_day) AS P80_runtime,
       Percentile_cont(0.9) within group(ORDER BY elapsed_time) OVER (PARTITION BY exec_day) AS P90_runtime,
       Percentile_cont(0.99) within group(ORDER BY elapsed_time) OVER (PARTITION BY exec_day) AS P99_runtime,
       Percentile_cont(1.0) within group(ORDER BY elapsed_time) OVER (PARTITION BY exec_day) AS max_runtime
FROM sys_query_history
LEFT JOIN (SELECT  date_trunc('day',start_time) AS day, count(*) cnt
           FROM sys_query_history
           WHERE query_type = 'SELECT'
           GROUP by 1) query_count
ON date_trunc('day',start_time) = query_count.day
WHERE query_type = 'SELECT'
ORDER BY exec_day;</code></pre>
            <p>Keluaran sampel.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
      exec_day       | query_count | p50_runtime | p80_runtime | p90_runtime | p99_runtime  | max_runtime
---------------------+-------------+-------------+-------------+-------------+--------------+--------------
 2022-01-14 00:00:00 |        5253 |  16816922.0 |  69525096.0 | 158524917.8 | 486322477.52 | 1582078873.0
 2022-01-15 00:00:00 |        7004 |  15896130.5 |  71058707.0 | 164314568.9 | 500331542.07 | 1696344792.0
 2022-01-16 00:00:00 |        5253 |  15750451.0 |  72037082.2 | 159513733.4 | 480372059.24 | 1594793766.0
 2022-01-17 00:00:00 |        5309 |  15394513.0 |  68881393.2 | 160254700.0 | 493372245.84 | 1521758640.0
 2022-01-18 00:00:00 |        8092 |  15575286.5 |  68485955.4 | 154559572.5 | 463552685.39 | 1542783444.0
 2022-01-19 00:00:00 |        5860 |  16648747.0 |  72470482.6 | 166485138.2 | 492038228.67 | 1693483241.0
 2022-01-20 00:00:00 |        1751 |  15422072.0 |  69686381.0 | 162315385.0 | 497066615.00 | 1439319739.0
 2022-02-09 00:00:00 |          13 |   6382812.0 |  17616161.6 |  21197988.4 |  23021343.84 |   23168439.0</code></pre>
            <p>Kueri berikut menunjukkan distribusi jenis query.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT query_type,
       COUNT(*) AS query_count
FROM sys_query_history
GROUP BY query_type
ORDER BY query_count DESC;</code></pre>
            <p>Keluaran sampel.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class=""> query_type | query_count
------------+-------------
 UTILITY    |      134486
 SELECT     |       38537
 DDL        |        4832
 OTHER      |         768
 LOAD       |         768
 CTAS       |         748
 COMMAND    |          92</code></pre>
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Awas" /> <strong>Javascript dinonaktifkan atau tidak tersedia di browser Anda.</strong></p><p>Untuk menggunakan Dokumentasi AWS, Javascript harus diaktifkan. Lihat halaman Bantuan browser Anda untuk petunjuk.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Konvensi Dokumen</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./SYS_QUERY_DETAIL.html">SYS_QUERY_DETAIL</div><div id="next" class="next-link" accesskey="n" href="./SYS_QUERY_TEXT.html">SYS_QUERY_TEXT</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Apakah halaman ini membantu Anda? - Ya</div><div class="content"><p>Terima kasih telah memberitahukan bahwa hasil pekerjaan kami sudah baik.</p><p>Jika Anda memiliki waktu luang, beri tahu kami aspek apa saja yang sudah bagus, agar kami dapat menerapkannya secara lebih luas.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Umpan Balik" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/id_id/redshift/latest/dg/SYS_QUERY_HISTORY.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Apakah halaman ini membantu Anda? - Tidak</div><div class="content"><p>Terima kasih telah memberi tahu kami bahwa halaman ini perlu ditingkatkan. Maaf karena telah mengecewakan Anda.</p><p>Jika Anda memiliki waktu luang, beri tahu kami bagaimana dokumentasi ini dapat ditingkatkan.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Umpan Balik" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/id_id/redshift/latest/dg/SYS_QUERY_HISTORY.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>