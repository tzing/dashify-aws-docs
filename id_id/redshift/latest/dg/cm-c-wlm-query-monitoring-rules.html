<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="id-ID"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Aturan pemantauan kueri WLM - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="cm-c-wlm-query-monitoring-rules" /><meta name="default_state" content="cm-c-wlm-query-monitoring-rules" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/cm-c-wlm-query-monitoring-rules.html" /><meta name="description" content="Di Amazon Redshift workload management (WLM), aturan pemantauan kueri menentukan batas kinerja berbasis metrik untuk antrian WLM dan menentukan tindakan apa yang harus diambil ketika kueri melampaui batas-batas tersebut. Misalnya, untuk antrian yang didedikasikan untuk kueri berjalan pendek, Anda dapat membuat aturan yang membatalkan kueri yang berjalan selama lebih dari 60 detik. Untuk melacak kueri yang dirancang dengan buruk, Anda mungkin memiliki aturan lain yang mencatat kueri yang berisi loop bersarang." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Panduan Pengembang Database" /><meta name="abstract" content="Buat dan kelola gudang data dengan Amazon Redshift, skala petabyte tingkat perusahaan, layanan pergudangan data yang dikelola sepenuhnya." /><meta name="guide-locale" content="id_id" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/cm-c-wlm-query-monitoring-rules.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/cm-c-wlm-query-monitoring-rules.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/cm-c-wlm-query-monitoring-rules.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/cm-c-wlm-query-monitoring-rules.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/cm-c-wlm-query-monitoring-rules.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/cm-c-wlm-query-monitoring-rules.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/cm-c-wlm-query-monitoring-rules.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/cm-c-wlm-query-monitoring-rules.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/cm-c-wlm-query-monitoring-rules.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/cm-c-wlm-query-monitoring-rules.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/cm-c-wlm-query-monitoring-rules.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/cm-c-wlm-query-monitoring-rules.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/cm-c-wlm-query-monitoring-rules.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/cm-c-wlm-query-monitoring-rules.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/cm-c-wlm-query-monitoring-rules.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/cm-c-wlm-query-monitoring-rules.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/cm-c-wlm-query-monitoring-rules.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm-c-wlm-query-monitoring-rules.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm-c-wlm-query-monitoring-rules.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/cm-c-wlm-query-monitoring-rules.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/cm-c-wlm-query-monitoring-rules.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/cm-c-wlm-query-monitoring-rules.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Panduan Pengembang Database" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Panduan Pengembang Database" /><meta id="panorama-serviceConsolePage" value="Aturan pemantauan kueri WLM" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Aturan pemantauan kueri WLM - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#cm-c-wlm-query-monitoring-rules" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/id_id/redshift/latest/dg/cm-c-wlm-query-monitoring-rules.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/id_id/redshift/latest/dg/cm-c-wlm-query-monitoring-rules.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/id_id/redshift/latest/dg/cm-c-wlm-query-monitoring-rules.html" /><meta name="keywords" content="Amazon Redshift,AWS Pergeseran Merah,Redshift,Spektrum Pergeseran Merah,Klaster,gudang data,pengembang,data sampel,database,pengembang basis data,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Panduan Pengembang Database",
        "item" : "https://docs.aws.amazon.com/id_id/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Menerapkan manajemen beban kerja",
        "item" : "https://docs.aws.amazon.com/id_id/redshift/latest/dg/cm-c-implementing-workload-management.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Aturan pemantauan kueri WLM",
        "item" : "https://docs.aws.amazon.com/id_id/redshift/latest/dg/cm-c-implementing-workload-management.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#cm-c-wlm-query-monitoring-rules" target="_blank" rel="noopener noreferrer" title="Buka PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Dokumentasi</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Panduan Pengembang Database</a></div><div id="page-toc-src"><a href="#cm-c-wlm-defining-query-monitoring-rules">Mendefinisikan aturan monitor kueri</a><a href="#cm-c-wlm-query-monitoring-metrics">Metrik pemantauan kueri untuk Amazon Redshift disediakan</a><a href="#cm-c-wlm-query-monitoring-metrics-serverless">Metrik pemantauan kueri untuk Amazon Redshift Tanpa Server</a><a href="#cm-c-wlm-query-monitoring-templates">Templat aturan pemantauan kueri</a><a href="#cm-c-wlm-qmr-tables-and-views">Tabel dan tampilan sistem untuk aturan pemantauan kueri</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Terjemahan disediakan oleh mesin penerjemah. Jika konten terjemahan yang diberikan bertentangan dengan versi bahasa Inggris aslinya, utamakan versi bahasa Inggris.</p></awsui-alert><h1 class="topictitle" id="cm-c-wlm-query-monitoring-rules">Aturan pemantauan kueri WLM</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Di Amazon Redshift workload management (WLM), aturan pemantauan kueri menentukan batas kinerja berbasis metrik untuk antrian WLM dan menentukan tindakan apa yang harus diambil ketika kueri melampaui batas-batas tersebut. Misalnya, untuk antrian yang didedikasikan untuk kueri berjalan pendek, Anda dapat membuat aturan yang membatalkan kueri yang berjalan selama lebih dari 60 detik. Untuk melacak kueri yang dirancang dengan buruk, Anda mungkin memiliki aturan lain yang mencatat kueri yang berisi loop bersarang. </p><p>Anda menentukan aturan pemantauan kueri sebagai bagian dari konfigurasi manajemen beban kerja (WLM) Anda. Anda dapat menentukan hingga 25 aturan untuk setiap antrian, dengan batas 25 aturan untuk semua antrian. Setiap aturan mencakup hingga tiga kondisi, atau predikat, dan satu tindakan. <em>Predikat</em> terdiri dari metrik, kondisi perbandingan (=, &lt;, or &gt;), dan nilai. Jika semua predikat untuk aturan apa pun terpenuhi, tindakan aturan itu dipicu. Tindakan aturan yang mungkin adalah log, hop, dan abort, seperti yang dibahas berikut. </p><p>Aturan dalam antrian tertentu hanya berlaku untuk kueri yang berjalan dalam antrian itu. Aturan tidak tergantung pada aturan lain. </p><p>WLM mengevaluasi metrik setiap 10 detik. Jika lebih dari satu aturan dipicu selama periode yang sama, WLM memulai tindakan yang paling parah—batalkan, lalu lompat, lalu log. Jika tindakan melompat atau membatalkan, tindakan dicatat dan kueri diusir dari antrian. Jika tindakannya adalah log, kueri terus berjalan dalam antrian. WLM hanya memulai satu tindakan log per kueri per aturan. Jika antrian berisi aturan lain, aturan tersebut tetap berlaku. Jika tindakannya hop dan kueri dirutekan ke antrian lain, aturan untuk antrian baru berlaku. Untuk informasi selengkapnya tentang pemantauan kueri dan tindakan pelacakan yang dilakukan pada kueri tertentu, lihat kumpulan sampel di<a href="./wlm-short-query-acceleration.html">Bekerja dengan akselerasi kueri pendek</a>.</p><p>Ketika semua predikat aturan terpenuhi, WLM menulis baris ke tabel sistem<a href="./r_STL_WLM_RULE_ACTION.html">STL_WLM_RULE_ACTION</a>. Selain itu, Amazon Redshift merekam metrik kueri untuk kueri yang sedang berjalan. <a href="./r_STV_QUERY_METRICS.html">STV_QUERY_METRICS</a> Metrik untuk kueri yang diselesaikan disimpan di. <a href="./r_STL_QUERY_METRICS.html">STL_QUERY_METRICS</a> </p>
         <h2 id="cm-c-wlm-defining-query-monitoring-rules">Mendefinisikan aturan pemantauan kueri</h2>


         <p>Anda membuat aturan pemantauan kueri sebagai bagian dari konfigurasi WLM Anda, yang Anda tentukan sebagai bagian dari definisi grup parameter klaster Anda.</p>



         <p>Anda dapat membuat aturan menggunakan  AWS Management Console  atau secara terprogram menggunakan JSON. </p>
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>catatan</h6></div><div class="awsdocs-note-text"><p>Jika Anda memilih untuk membuat aturan secara terprogram, kami sangat menyarankan menggunakan konsol untuk menghasilkan JSON yang Anda sertakan dalam definisi grup parameter. Untuk informasi selengkapnya, lihat <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/managing-parameter-groups-console.html#parameter-group-modify-qmr-console">Membuat atau memodifikasi aturan pemantauan kueri menggunakan konsol</a> dan <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/working-with-parameter-groups.html#configure-parameters-using-the-cli">Mengonfigurasi Nilai Parameter Menggunakan Panduan  AWS CLI</a> Manajemen <em>Pergeseran Merah Amazon</em>. </p></div></div>

         <p>Untuk menentukan aturan pemantauan kueri, Anda menentukan elemen berikut:</p>
         <div class="itemizedlist">
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>Nama aturan - Nama aturan harus unik dalam konfigurasi WLM. Nama aturan dapat mencapai 32 karakter alfanumerik atau garis bawah, dan tidak dapat berisi spasi atau tanda kutip. Anda dapat memiliki hingga 25 aturan per antrian, dan batas total untuk semua antrian adalah 25 aturan.</p>
            </li><li class="listitem">
               <p>Satu atau lebih predikat — Anda dapat memiliki hingga tiga predikat per aturan. Jika semua predikat untuk aturan apa pun terpenuhi, tindakan terkait dipicu. Predikat didefinisikan oleh nama metrik, operator (=, &lt;, or &gt;), dan nilai. Contohnya adalah <code class="code">query_cpu_time &gt; 100000</code>. Untuk daftar metrik dan contoh nilai untuk metrik yang berbeda, lihat <a href="#cm-c-wlm-query-monitoring-metrics">Metrik pemantauan kueri untuk Amazon Redshift disediakan</a> berikut di bagian ini. </p>
            </li><li class="listitem">
               <p>Tindakan — Jika lebih dari satu aturan dipicu, WLM memilih aturan dengan tindakan paling parah. Tindakan yang mungkin, dalam urutan keparahan yang meningkat, adalah:</p>
               <div class="itemizedlist">
                   
                   
                   
                   
               <ul class="itemizedlist"><li class="listitem">
                     <p>Log - Rekam informasi tentang kueri dalam tabel sistem STL_WLM_RULE_ACTION. Gunakan tindakan Log saat Anda hanya ingin menulis catatan log. WLM membuat paling banyak satu log per kueri, per aturan. Setelah tindakan log, aturan lain tetap berlaku dan WLM terus memantau kueri. </p>
                  </li><li class="listitem">
                     <p>Hop (hanya tersedia dengan WLM manual) - Log tindakan dan lompat kueri ke antrian pencocokan berikutnya. Jika tidak ada antrian lain yang cocok, kueri dibatalkan. QMR hanya <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_TABLE_AS.html">membuat pernyataan TABEL AS</a> (CTAS) dan kueri hanya-baca, seperti pernyataan SELECT. Untuk informasi selengkapnya, lihat <a href="./wlm-queue-hopping.html">Antrian kueri WLM melompat</a>. </p>
                  </li><li class="listitem">
                     <p>Batalkan — Log tindakan dan batalkan kueri. QMR tidak menghentikan pernyataan COPY dan operasi pemeliharaan, seperti ANALYSIS dan VACUUM. </p>
                  </li><li class="listitem">
                     <p>Ubah prioritas (hanya tersedia dengan WLM otomatis) - Ubah prioritas kueri. </p>
                  </li></ul></div>
            </li></ul></div>

         
         <p>Untuk membatasi runtime kueri, sebaiknya buat aturan pemantauan kueri alih-alih menggunakan batas waktu WLM. Misalnya, Anda dapat mengatur <code class="code">max_execution_time</code> ke 50.000 milidetik seperti yang ditunjukkan pada cuplikan JSON berikut.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"max_execution_time": 50000</code></pre>
         <p>Namun sebaiknya Anda mendefinisikan aturan pemantauan kueri setara yang disetel <code class="code">query_execution_time</code> ke 50 detik seperti yang ditunjukkan pada cuplikan JSON berikut.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"rules": 
[
    <span>{</span>
        "rule_name": "rule_query_execution",
        "predicate": [
            <span>{</span>
                "metric_name": "query_execution_time",
                "operator": "&gt;",
                "value": 50
            }
        ],
        "action": "abort"
    }            
]</code></pre>
         
         <p><em>Untuk langkah-langkah untuk membuat atau mengubah aturan pemantauan kueri, lihat <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/managing-parameter-groups-console.html#parameter-group-modify-qmr-console">Membuat atau memodifikasi aturan pemantauan kueri menggunakan konsol</a> dan <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/workload-mgmt-config.html#wlm-json-config-properties">Properti di Parameter wlm_json_configuration di</a> Panduan Manajemen Amazon Redshift.</em></p>
         

         <p>Anda dapat menemukan informasi selengkapnya tentang aturan pemantauan kueri dalam topik berikut: </p>
         <div class="itemizedlist">
             

             

             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>
                  <a href="#cm-c-wlm-query-monitoring-metrics">Metrik pemantauan kueri untuk Amazon Redshift disediakan</a>
               </p>
            </li><li class="listitem">
               <p>
                  <a href="#cm-c-wlm-query-monitoring-templates">Templat aturan pemantauan kueri</a>
               </p>
            </li><li class="listitem">
               <p> <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/managing-parameter-groups-console.html#parameter-group-modify-qmr-console">Membuat Aturan Menggunakan Konsol</a> </p>
            </li><li class="listitem">
               <p> <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/workload-mgmt-config.html">Mengkonfigurasi Manajemen Beban Kerja</a> </p>
            </li><li class="listitem">
               <p>
                  <a href="#cm-c-wlm-qmr-tables-and-views">Tabel dan tampilan sistem untuk aturan pemantauan kueri</a>
               </p>
            </li></ul></div>
       
         <h2 id="cm-c-wlm-query-monitoring-metrics">Metrik pemantauan kueri untuk Amazon Redshift disediakan</h2>


         <p>Tabel berikut menjelaskan metrik yang digunakan dalam aturan pemantauan kueri. (Metrik ini berbeda dari metrik yang disimpan dalam tabel <a href="./r_STV_QUERY_METRICS.html">STV_QUERY_METRICS</a> dan <a href="./r_STL_QUERY_METRICS.html">STL_QUERY_METRICS</a> sistem.) </p>
         <p>Untuk metrik tertentu, ambang kinerja dilacak baik pada tingkat kueri atau tingkat segmen. Untuk informasi selengkapnya tentang segmen dan langkah, lihat<a href="./c-query-planning.html">Perencanaan kueri dan alur kerja eksekusi</a>.</p>
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>catatan</h6></div><div class="awsdocs-note-text"><p><a href="./cm-c-defining-query-queues.html#wlm-timeout">Batas waktu WLM</a>Parameter ini berbeda dari aturan pemantauan kueri.</p></div></div>

         <div class="table-container"><div class="table-contents"><table id="w320aac43c57c15b9"><thead>
                  <tr>
                     <th>Metrik</th>
                     <th>Nama</th>
                     <th>Penjelasan</th>

                  </tr>
               </thead>
                  <tr>
                     <td tabindex="-1">Waktu kueri CPU</td>
                     <td tabindex="-1">
                        <code class="code">query_cpu_time</code>
                     </td>
                     <td tabindex="-1">Waktu CPU digunakan oleh kueri, dalam hitungan detik. <code class="code">CPU
                           time</code>berbeda dari<code class="code">Query execution time</code>. <p>Nilai yang valid adalah 0—999.999. </p></td>
                  </tr>
                  <tr>
                     <td tabindex="-1">Blok dibaca</td>
                     <td tabindex="-1">
                        <code class="code">query_blocks_read</code>
                     </td>
                     <td tabindex="-1">Jumlah blok data 1 MB dibaca oleh kueri.<p>Nilai yang valid adalah 0—1.048.575. </p></td>
                  </tr>
                  <tr>
                     <td tabindex="-1">Pindai jumlah baris</td>
                     <td tabindex="-1">
                        <code class="code">scan_row_count</code>
                     </td>
                     <td tabindex="-1">
                        <p>Jumlah baris dalam langkah pemindaian. Jumlah baris adalah jumlah total baris yang dipancarkan sebelum memfilter baris yang ditandai untuk dihapus (baris hantu) dan sebelum menerapkan filter kueri yang ditentukan pengguna.</p>
                        <p>Nilai yang valid adalah 0—999.999.999.999.999. </p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">Waktu eksekusi kueri</td>
                     <td tabindex="-1">
                        <code class="code">query_execution_time</code>
                     </td>
                     <td tabindex="-1">Waktu eksekusi yang telah berlalu untuk kueri, dalam hitungan detik. Waktu eksekusi tidak termasuk waktu yang dihabiskan menunggu dalam antrian.<p>Nilai yang valid adalah 0—86.399.</p></td>
                  </tr>
                  <tr>
                     <td tabindex="-1">Waktu antrian kueri</td>
                     <td tabindex="-1">
                        <code class="code">query_queue_time</code>
                     </td>
                     <td tabindex="-1">Waktu yang dihabiskan menunggu dalam antrian, dalam hitungan detik. <p>Nilai yang valid adalah 0—86.399. </p></td>
                  </tr>
                  <tr>
                     <td tabindex="-1">Penggunaan CPU</td>
                     <td tabindex="-1">
                        <code class="code">query_cpu_usage_percent</code>
                     </td>
                     <td tabindex="-1">Persentase kapasitas CPU yang digunakan oleh query.<p>Nilai yang valid adalah 0—6.399. </p></td>
                  </tr>
                  <tr>
                     <td tabindex="-1">Memori ke disk</td>
                     <td tabindex="-1">
                        <code class="code">query_temp_blocks_to_disk</code>
                     </td>
                     <td tabindex="-1">Ruang disk sementara digunakan untuk menulis hasil antara, dalam blok 1 MB.<p>Nilai yang valid adalah 0—319.815.679. </p></td>  
                  </tr>
                  <tr>
                     <td tabindex="-1">Kemiringan CPU</td>
                     <td tabindex="-1">
                        <code class="code">cpu_skew</code>
                     </td>
                     <td tabindex="-1">Rasio penggunaan CPU maksimum untuk setiap irisan terhadap penggunaan CPU rata-rata untuk semua irisan. Metrik ini didefinisikan pada tingkat segmen.<p>Nilai yang valid adalah 0—99. </p></td>
                  </tr>
                  <tr>
                     <td tabindex="-1">I/O miring</td>
                     <td tabindex="-1">
                        <code class="code">io_skew</code>
                     </td>
                     <td tabindex="-1">Rasio pembacaan blok maksimum (I/O) untuk setiap irisan dengan blok rata-rata dibaca untuk semua irisan. Metrik ini didefinisikan pada tingkat segmen.<p>Nilai yang valid adalah 0—99. </p></td>
                  </tr>

                  <tr>
                     <td tabindex="-1">Baris bergabung</td>
                     <td tabindex="-1">
                        <code class="code">join_row_count</code>
                     </td>
                     <td tabindex="-1">Jumlah baris yang diproses dalam langkah gabungan.<p>Nilai yang valid adalah 0—999.999.999.999.999. </p></td>
                  </tr>

                  <tr>
                     <td tabindex="-1">Loop bersarang bergabung dengan jumlah baris</td>
                     <td tabindex="-1">
                        <code class="code">nested_loop_join_row_count</code>
                     </td>
                     <td tabindex="-1">Angka atau baris dalam loop bersarang bergabung.<p>Nilai yang valid adalah 0—999.999.999.999.999. </p></td>
                  </tr>
                  <tr>
                     <td tabindex="-1">Mengembalikan jumlah baris</td>
                     <td tabindex="-1">
                        <code class="code">return_row_count</code>
                     </td>
                     <td tabindex="-1">Jumlah baris yang dikembalikan oleh kueri.<p> Nilai yang valid adalah 0—999.999.999.999.999. </p></td>
                  </tr>
                  <tr>
                     <td tabindex="-1">Waktu eksekusi segmen</td>
                     <td tabindex="-1">
                        <code class="code">segment_execution_time</code>
                     </td>
                     <td tabindex="-1">Waktu eksekusi berlalu untuk satu segmen, dalam hitungan detik. Untuk menghindari atau mengurangi kesalahan pengambilan sampel, sertakan <code class="code">segment_execution_time
                           &gt; 10</code> dalam aturan Anda.<p>Nilai yang valid adalah 0—86.388.</p></td>
                  </tr>

                  <tr>
                     <td tabindex="-1">Jumlah baris pemindaian spektrum</td>
                     <td tabindex="-1">
                        <code class="code">spectrum_scan_row_count</code>
                     </td>
                     <td tabindex="-1">Jumlah baris data di Amazon S3 yang dipindai oleh kueri Amazon Redshift Spectrum. <p>Nilai yang valid adalah 0—999.999.999.999.999. </p></td>
                  </tr>
                  <tr>
                     <td tabindex="-1">Ukuran pemindaian spektrum</td>
                     <td tabindex="-1">
                        <code class="code">spectrum_scan_size_mb</code>
                     </td>
                     <td tabindex="-1">Ukuran data di Amazon S3, dalam MB, dipindai oleh kueri Amazon Redshift Spectrum.<p>Nilai yang valid adalah 0—999.999.999.999.999. </p></td>
                  </tr>
                  <tr>
                     <td tabindex="-1">Prioritas kueri</td>
                     <td tabindex="-1">
                        <code class="code">query_priority</code>
                     </td>
                     <td tabindex="-1">Prioritas kueri. <p>Nilai yang valid adalah <code class="code">HIGHEST</code>, <code class="code">HIGH</code>, <code class="code">NORMAL</code>, <code class="code">LOW</code>, dan <code class="code">LOWEST</code>. Ketika membandingkan <code class="code">query_priority</code> menggunakan operator yang lebih besar dari (&gt;) dan kurang dari (&lt;)<code class="code">HIGH</code>, <code class="code">HIGH</code> lebih besar dari<code class="code">NORMAL</code>, dan seterusnya. <code class="code">HIGHEST</code> </p></td>
                  </tr>
               </table></div></div>
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>catatan</h6></div><div class="awsdocs-note-text"><div class="itemizedlist">
                
                
            <ul class="itemizedlist"><li class="listitem"><p>Tindakan hop tidak didukung dengan <code class="code">query_queue_time</code> predikat. Artinya, aturan yang didefinisikan untuk melompat ketika <code class="code">query_queue_time</code> predikat terpenuhi diabaikan. </p></li><li class="listitem">
            <p>Waktu eksekusi segmen yang pendek dapat mengakibatkan kesalahan pengambilan sampel dengan beberapa metrik, seperti <code class="code">io_skew</code> dan. <code class="code">query_cpu_usage_percent</code> Untuk menghindari atau mengurangi kesalahan pengambilan sampel, sertakan waktu eksekusi segmen dalam aturan Anda. Titik awal yang baik adalah<code class="code">segment_execution_time &gt; 10</code>.</p>
            </li></ul></div></div></div>
         <p><a href="./r_SVL_QUERY_METRICS.html">SVL_QUERY_METRICS</a>Tampilan menunjukkan metrik untuk kueri yang diselesaikan. <a href="./r_SVL_QUERY_METRICS_SUMMARY.html">SVL_QUERY_METRICS_SUMMARY</a>Tampilan menunjukkan nilai maksimum metrik untuk kueri yang diselesaikan. Gunakan nilai dalam tampilan ini sebagai bantuan untuk menentukan nilai ambang batas untuk mendefinisikan aturan pemantauan kueri.</p>
       
         <h2 id="cm-c-wlm-query-monitoring-metrics-serverless">Metrik pemantauan kueri untuk Amazon Redshift Tanpa Server</h2>
         <p>Tabel berikut menjelaskan metrik yang digunakan dalam aturan pemantauan kueri untuk Amazon Redshift Tanpa Server. </p>
            
         
         <div class="table-container"><div class="table-contents"><table id="w320aac43c57c17b5"><thead>
                  <tr>
                     <th>Metrik</th>
                     <th>Nama</th>
                     <th>Penjelasan</th>
                  </tr>
               </thead>
                  <tr>
                     <td tabindex="-1">Waktu kueri CPU</td>
                     <td tabindex="-1"><code class="code">max_query_cpu_time</code></td>
                     <td tabindex="-1">Waktu CPU digunakan oleh kueri, dalam hitungan detik. <code class="code">CPU time</code>berbeda dari<code class="code">Query execution time</code>. <p>Nilai yang valid adalah 0—999.999. </p></td>
                  </tr>
                  <tr>
                     <td tabindex="-1">Blok dibaca</td>
                     <td tabindex="-1">
                        <code class="code">max_query_blocks_read</code>
                     </td>
                     <td tabindex="-1">Jumlah blok data 1 MB dibaca oleh kueri.<p>Nilai yang valid adalah 0—1.048.575. </p></td>
                  </tr>
                  <tr>
                     <td tabindex="-1">Pindai jumlah baris</td>
                     <td tabindex="-1">
                        <code class="code">max_scan_row_count</code>
                     </td>
                     <td tabindex="-1">
                        <p>Jumlah baris dalam langkah pemindaian. Jumlah baris adalah jumlah total baris yang dipancarkan sebelum memfilter baris yang ditandai untuk dihapus (baris hantu) dan sebelum menerapkan filter kueri yang ditentukan pengguna.</p>
                        <p>Nilai yang valid adalah 0—999.999.999.999.999. </p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">Waktu eksekusi kueri</td>
                     <td tabindex="-1">max_query_execution_time</td>
                     <td tabindex="-1">
                        <p>Waktu eksekusi yang telah berlalu untuk kueri, dalam hitungan detik. Waktu eksekusi tidak termasuk waktu yang dihabiskan menunggu dalam antrian. Jika kueri melebihi waktu eksekusi yang ditetapkan, Amazon Redshift Serverless menghentikan kueri.</p>
                        <p>Nilai yang valid adalah 0—86.399. </p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">Waktu antrian kueri</td>
                     <td tabindex="-1"><code class="code">max_query_queue_time</code></td>
                     <td tabindex="-1">Waktu yang dihabiskan menunggu dalam antrian, dalam hitungan detik. <p>Nilai yang valid adalah 0—86.399. </p></td>
                  </tr>
                  <tr>
                     <td tabindex="-1">Penggunaan CPU</td>
                     <td tabindex="-1">
                        <code class="code">max_query_cpu_usage_percent</code>
                     </td>
                     <td tabindex="-1">Persentase kapasitas CPU yang digunakan oleh query.<p>Nilai yang valid adalah 0—6.399. </p></td>
                  </tr>
                  <tr>
                     <td tabindex="-1">Memori ke disk</td>
                     <td tabindex="-1">
                        <code class="code">max_query_temp_blocks_to_disk</code>
                     </td>
                     <td tabindex="-1">Ruang disk sementara digunakan untuk menulis hasil antara, dalam blok 1 MB.<p>Nilai yang valid adalah 0—319.815.679. </p></td>  
                  </tr>
                  <tr>
                     <td tabindex="-1">Baris bergabung</td>
                     <td tabindex="-1">
                        <code class="code">max_join_row_count</code>
                     </td>
                     <td tabindex="-1">Jumlah baris yang diproses dalam langkah gabungan.<p>Nilai yang valid adalah 0—999.999.999.999.999. </p></td>
                  </tr>
                  <tr>
                     <td tabindex="-1">Loop bersarang bergabung dengan jumlah baris</td>
                     <td tabindex="-1">
                        <code class="code">max_nested_loop_join_row_count</code>
                     </td>
                     <td tabindex="-1">Angka atau baris dalam loop bersarang bergabung.<p>Nilai yang valid adalah 0—999.999.999.999.999. </p></td>
                  </tr>
               </table></div></div>
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>catatan</h6></div><div class="awsdocs-note-text"><div class="itemizedlist">
                
                
            <ul class="itemizedlist"><li class="listitem"><p>Tindakan hop tidak didukung dengan <code class="code">max_query_queue_time</code> predikat. Artinya, aturan yang didefinisikan untuk melompat ketika <code class="code">max_query_queue_time</code> predikat terpenuhi diabaikan. </p></li><li class="listitem">
                  <p>Waktu eksekusi segmen yang pendek dapat mengakibatkan kesalahan pengambilan sampel dengan beberapa metrik, seperti <code class="code">max_io_skew</code> dan. <code class="code">max_query_cpu_usage_percent</code></p>
               </li></ul></div></div></div>
    
       
         <h2 id="cm-c-wlm-query-monitoring-templates">Templat aturan pemantauan kueri</h2>



         <p>Saat menambahkan aturan menggunakan konsol Amazon Redshift, Anda dapat memilih untuk membuat aturan dari templat yang telah ditentukan sebelumnya. Amazon Redshift membuat aturan baru dengan serangkaian predikat dan mengisi predikat dengan nilai default. Tindakan default adalah log. Anda dapat memodifikasi predikat dan tindakan untuk memenuhi kasus penggunaan Anda. </p>
         <p>Tabel berikut mencantumkan templat yang tersedia. </p>
         <div class="table-container"><div class="table-contents"><table id="w320aac43c57c19b7"><thead>
                  <tr>
                     <th>Nama Templat</th>
                     <th>Predikat</th>
                     <th>Deskripsi</th>

                  </tr>
               </thead>
                  <tr>
                     <td tabindex="-1">Loop bersarang bergabung</td>
                     <td tabindex="-1">
                        <code class="code">nested_loop_join_row_count &gt; 100</code>
                     </td>
                     <td tabindex="-1">Gabungan loop bersarang mungkin menunjukkan predikat gabungan yang tidak lengkap, yang sering menghasilkan set pengembalian yang sangat besar (produk Cartesian). Gunakan jumlah baris rendah untuk menemukan kueri yang berpotensi melarikan diri lebih awal.</td>
                  </tr>
                  <tr>
                     <td tabindex="-1">Query mengembalikan sejumlah besar baris</td>
                     <td tabindex="-1">
                        <code class="code">return_row_count &gt; 1000000</code>
                     </td>
                     <td tabindex="-1">Jika Anda mendedikasikan antrian untuk kueri sederhana yang berjalan singkat, Anda mungkin menyertakan aturan yang menemukan kueri yang mengembalikan jumlah baris tinggi. Template menggunakan default 1 juta baris. Untuk beberapa sistem, Anda mungkin menganggap satu juta baris tinggi, atau dalam sistem yang lebih besar, satu miliar baris atau lebih mungkin tinggi.</td>
                  </tr>
                  <tr>
                     <td tabindex="-1">Bergabunglah dengan jumlah baris yang tinggi</td>
                     <td tabindex="-1">
                        <code class="code">join_row_count &gt; 1000000000</code>
                     </td>
                     <td tabindex="-1">Langkah gabungan yang melibatkan jumlah baris yang luar biasa tinggi mungkin menunjukkan perlunya filter yang lebih ketat. Template menggunakan default 1 miliar baris. Untuk antrean ad hoc (satu kali) yang ditujukan untuk kueri cepat dan sederhana, Anda dapat menggunakan angka yang lebih rendah. </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">Penggunaan disk yang tinggi saat menulis hasil menengah</td>
                     <td tabindex="-1">
                        <code class="code">query_temp_blocks_to_disk &gt; 100000</code>
                     </td>
                     <td tabindex="-1">Saat menjalankan kueri menggunakan lebih dari RAM sistem yang tersedia, mesin eksekusi kueri menulis hasil perantara ke disk (memori tumpah). Biasanya, kondisi ini adalah hasil dari kueri nakal, yang biasanya juga merupakan kueri yang menggunakan ruang disk paling banyak. Ambang batas yang dapat diterima untuk penggunaan disk bervariasi berdasarkan jenis node cluster dan jumlah node. Template menggunakan default 100.000 blok, atau 100 GB. Untuk cluster kecil, Anda mungkin menggunakan angka yang lebih rendah. </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">Kueri berjalan lama dengan kemiringan I/O tinggi</td>
                     <td tabindex="-1"><code class="code">segment_execution_time &gt; 120</code> dan <code class="code">io_skew &gt; 1.30</code> </td>
                     <td tabindex="-1">Kemiringan I/O terjadi ketika satu irisan node memiliki tingkat I/O yang jauh lebih tinggi daripada irisan lainnya. Sebagai titik awal, kemiringan 1,30 (rata-rata 1,3 kali) dianggap tinggi. Kemiringan I/O tinggi tidak selalu menjadi masalah, tetapi ketika dikombinasikan dengan waktu kueri yang berjalan lama, itu mungkin menunjukkan masalah dengan gaya distribusi atau kunci pengurutan. </td>
                  </tr>
               </table></div></div>

       
         <h2 id="cm-c-wlm-qmr-tables-and-views">Tabel dan tampilan sistem untuk aturan pemantauan kueri</h2>



         <p>Ketika semua predikat aturan terpenuhi, WLM menulis baris ke tabel sistem<a href="./r_STL_WLM_RULE_ACTION.html">STL_WLM_RULE_ACTION</a>. Baris ini berisi detail untuk kueri yang memicu aturan dan tindakan yang dihasilkan. </p>
         <p>Selain itu, Amazon Redshift mencatat metrik kueri tabel dan tampilan sistem berikut.</p>
         <div class="itemizedlist">
             
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p><a href="./r_STV_QUERY_METRICS.html">STV_QUERY_METRICS</a>Tabel menampilkan metrik untuk kueri yang sedang berjalan.</p>
            </li><li class="listitem">
               <p><a href="./r_STL_QUERY_METRICS.html">STL_QUERY_METRICS</a>Tabel mencatat metrik untuk kueri yang diselesaikan. </p>
            </li><li class="listitem">
               <p><a href="./r_SVL_QUERY_METRICS.html">SVL_QUERY_METRICS</a>Tampilan menunjukkan metrik untuk kueri yang diselesaikan. </p>
            </li><li class="listitem">
               <p><a href="./r_SVL_QUERY_METRICS_SUMMARY.html">SVL_QUERY_METRICS_SUMMARY</a>Tampilan menunjukkan nilai maksimum metrik untuk kueri yang diselesaikan.</p>
            </li></ul></div>
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Awas" /> <strong>Javascript dinonaktifkan atau tidak tersedia di browser Anda.</strong></p><p>Untuk menggunakan Dokumentasi AWS, Javascript harus diaktifkan. Lihat halaman Bantuan browser Anda untuk petunjuk.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Konvensi Dokumen</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./cm-c-wlm-dynamic-example.html">Contoh WLM dinamis</div><div id="next" class="next-link" accesskey="n" href="./cm-c-wlm-system-tables-and-views.html">Tabel dan tampilan sistem WLM</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Apakah halaman ini membantu Anda? - Ya</div><div class="content"><p>Terima kasih telah memberitahukan bahwa hasil pekerjaan kami sudah baik.</p><p>Jika Anda memiliki waktu luang, beri tahu kami aspek apa saja yang sudah bagus, agar kami dapat menerapkannya secara lebih luas.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Umpan Balik" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/id_id/redshift/latest/dg/cm-c-wlm-query-monitoring-rules.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Apakah halaman ini membantu Anda? - Tidak</div><div class="content"><p>Terima kasih telah memberi tahu kami bahwa halaman ini perlu ditingkatkan. Maaf karena telah mengecewakan Anda.</p><p>Jika Anda memiliki waktu luang, beri tahu kami bagaimana dokumentasi ini dapat ditingkatkan.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Umpan Balik" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/id_id/redshift/latest/dg/cm-c-wlm-query-monitoring-rules.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>