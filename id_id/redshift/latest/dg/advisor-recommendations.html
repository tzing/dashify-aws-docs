<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="id-ID"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Rekomendasi Amazon Redshift Advisor - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="advisor-recommendations" /><meta name="default_state" content="advisor-recommendations" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/advisor-recommendations.html" /><meta name="description" content="Amazon Redshift Advisor menawarkan rekomendasi tentang cara mengoptimalkan klaster Amazon Redshift Anda untuk meningkatkan kinerja dan menghemat biaya pengoperasian. Anda dapat menemukan penjelasan untuk setiap rekomendasi di konsol, seperti yang dijelaskan sebelumnya. Anda dapat menemukan detail lebih lanjut tentang rekomendasi ini di bagian berikut." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Panduan Pengembang Database" /><meta name="abstract" content="Buat dan kelola gudang data dengan Amazon Redshift, skala petabyte tingkat perusahaan, layanan pergudangan data yang dikelola sepenuhnya." /><meta name="guide-locale" content="id_id" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/advisor-recommendations.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/advisor-recommendations.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/advisor-recommendations.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/advisor-recommendations.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/advisor-recommendations.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/advisor-recommendations.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/advisor-recommendations.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/advisor-recommendations.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/advisor-recommendations.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/advisor-recommendations.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/advisor-recommendations.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/advisor-recommendations.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/advisor-recommendations.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/advisor-recommendations.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/advisor-recommendations.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/advisor-recommendations.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/advisor-recommendations.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/advisor-recommendations.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/advisor-recommendations.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/advisor-recommendations.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/advisor-recommendations.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/advisor-recommendations.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Panduan Pengembang Database" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Panduan Pengembang Database" /><meta id="panorama-serviceConsolePage" value="Rekomendasi Amazon Redshift Advisor" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Rekomendasi Amazon Redshift Advisor - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#advisor-recommendations" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/id_id/redshift/latest/dg/advisor-recommendations.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/id_id/redshift/latest/dg/advisor-recommendations.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/id_id/redshift/latest/dg/advisor-recommendations.html" /><meta name="keywords" content="Amazon Redshift,AWS Pergeseran Merah,Redshift,Spektrum Pergeseran Merah,Klaster,gudang data,pengembang,data sampel,database,pengembang basis data,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Panduan Pengembang Database",
        "item" : "https://docs.aws.amazon.com/id_id/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Praktik terbaik Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/id_id/redshift/latest/dg/best-practices.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Bekerja dengan rekomendasi dari Amazon Redshift Advisor",
        "item" : "https://docs.aws.amazon.com/id_id/redshift/latest/dg/advisor.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Rekomendasi Amazon Redshift Advisor",
        "item" : "https://docs.aws.amazon.com/id_id/redshift/latest/dg/advisor.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#advisor-recommendations" target="_blank" rel="noopener noreferrer" title="Buka PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Dokumentasi</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Panduan Pengembang Database</a></div><div id="page-toc-src"><a href="#cluster-compress-s3-recommendation">Kompres objek file Amazon S3 yang dimuat oleh COPY</a><a href="#isolate-active-dbs-recommendation">Mengisolasi beberapa database aktif</a><a href="#reallocate-wlm-recommendation">Realokasi memori manajemen beban kerja (WLM)</a><a href="#skip-compression-analysis-recommendation">Lewati analisis kompresi selama COPY</a><a href="#split-s3-objects-recommendation">Pisahkan objek Amazon S3 yang dimuat oleh COPY</a><a href="#update-table-statistics-recommendation">Perbarui statistik tabel</a><a href="#enable-sqa-recommendation">Aktifkan akselerasi kueri singkat</a><a href="#alter-diststyle-distkey-recommendation">Mengubah kunci distribusi pada tabel</a><a href="#alter-sortkey-recommendation">Ubah tombol sortir pada tabel</a><a href="#alter-compression-encoding-recommendation">Mengubah pengkodean kompresi pada kolom</a><a href="#data-type-recommendation">Rekomendasi tipe data</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Terjemahan disediakan oleh mesin penerjemah. Jika konten terjemahan yang diberikan bertentangan dengan versi bahasa Inggris aslinya, utamakan versi bahasa Inggris.</p></awsui-alert><h1 class="topictitle" id="advisor-recommendations">Rekomendasi Amazon Redshift Advisor</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Amazon Redshift Advisor menawarkan rekomendasi tentang cara mengoptimalkan klaster Amazon Redshift Anda untuk meningkatkan kinerja dan menghemat biaya pengoperasian. Anda dapat menemukan penjelasan untuk setiap rekomendasi di konsol, seperti yang dijelaskan sebelumnya. Anda dapat menemukan detail lebih lanjut tentang rekomendasi ini di bagian berikut. </p><div class="highlights" id="inline-topiclist"><h6>Topik</h6><ul><li><a href="#cluster-compress-s3-recommendation">Kompres objek file Amazon S3 yang dimuat oleh COPY</a></li><li><a href="#isolate-active-dbs-recommendation">Mengisolasi beberapa database aktif</a></li><li><a href="#reallocate-wlm-recommendation">Realokasi memori manajemen beban kerja (WLM)</a></li><li><a href="#skip-compression-analysis-recommendation">Lewati analisis kompresi selama COPY</a></li><li><a href="#split-s3-objects-recommendation">Pisahkan objek Amazon S3 yang dimuat oleh COPY</a></li><li><a href="#update-table-statistics-recommendation">Perbarui statistik tabel</a></li><li><a href="#enable-sqa-recommendation">Aktifkan akselerasi kueri singkat</a></li><li><a href="#alter-diststyle-distkey-recommendation">Mengubah kunci distribusi pada tabel</a></li><li><a href="#alter-sortkey-recommendation">Ubah tombol sortir pada tabel</a></li><li><a href="#alter-compression-encoding-recommendation">Mengubah pengkodean kompresi pada kolom</a></li><li><a href="#data-type-recommendation">Rekomendasi tipe data</a></li></ul></div>
            <h2 id="cluster-compress-s3-recommendation">Kompres objek file Amazon S3 yang dimuat oleh COPY</h2>
            <p>Perintah COPY memanfaatkan arsitektur massively parallel processing (MPP) di Amazon Redshift untuk membaca dan memuat data secara paralel. Itu dapat membaca file dari Amazon S3, tabel DynamoDB, dan output teks dari satu atau lebih host jarak jauh. </p>
            <p>Saat memuat data dalam jumlah besar, kami sangat menyarankan menggunakan perintah COPY untuk memuat file data terkompresi dari S3. Mengompresi kumpulan data besar menghemat waktu mengunggah file ke Amazon S3. COPY juga dapat mempercepat proses pemuatan dengan membuka kompresi file saat dibaca. </p>
            <p><b>Analisis</b></p>
            <p>Perintah COPY yang berjalan lama yang memuat kumpulan data besar yang tidak terkompresi sering kali memiliki peluang untuk peningkatan kinerja yang cukup besar. Analisis Advisor mengidentifikasi perintah COPY yang memuat kumpulan data besar yang tidak terkompresi. Dalam kasus seperti itu, Advisor menghasilkan rekomendasi untuk menerapkan kompresi pada file sumber di Amazon S3. </p>


            <p><b>Rekomendasi</b></p>
            <p>Pastikan setiap COPY yang memuat sejumlah besar data, atau berjalan selama durasi yang signifikan, menyerap objek data terkompresi dari Amazon S3. Anda dapat mengidentifikasi perintah COPY yang memuat kumpulan data besar yang tidak terkompresi dari Amazon S3 dengan menjalankan perintah SQL berikut sebagai superuser.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
SELECT
    wq.userid, query, exec_start_time AS starttime, COUNT(*) num_files,
    ROUND(MAX(wq.total_exec_time/1000000.0),2) execution_secs,
    ROUND(SUM(transfer_size)/(1024.0*1024.0),2) total_mb,
    SUBSTRING(querytxt,1,60) copy_sql
FROM stl_s3client s
JOIN stl_query q USING (query)
JOIN stl_wlm_query wq USING (query)
WHERE s.userid&gt;1 AND http_method = 'GET'
    AND POSITION('COPY ANALYZE' IN querytxt) = 0
    AND aborted = 0 AND final_state='Completed'
GROUP BY 1, 2, 3, 7
HAVING SUM(transfer_size) = SUM(data_size) 
AND SUM(transfer_size)/(1024*1024) &gt;= 5
ORDER BY 6 DESC, 5 DESC;         
          </code></pre>
            <p>Jika data bertahap tetap berada di Amazon S3 setelah Anda memuatnya, yang umum dalam arsitektur data lake, menyimpan data ini dalam bentuk terkompresi dapat mengurangi biaya penyimpanan Anda. </p>
            <p><b>Kiat implementasi</b></p>

            <div class="itemizedlist">
                
                
            <ul class="itemizedlist"><li class="listitem">
                  <p>Ukuran objek yang ideal adalah 1-128 MB setelah kompresi.</p>
               </li><li class="listitem">
                  <p>Anda dapat mengompres file dengan format gzip, lzop, atau bzip2.</p>
               </li></ul></div>

          
            <h2 id="isolate-active-dbs-recommendation">Mengisolasi beberapa database aktif</h2>
            <p>Sebagai praktik terbaik, kami merekomendasikan untuk mengisolasi database di Amazon Redshift satu sama lain. Kueri berjalan dalam database tertentu dan tidak dapat mengakses data dari database lain di cluster. Namun, kueri yang Anda jalankan di semua database cluster berbagi ruang penyimpanan klaster dasar dan sumber daya komputasi yang sama. Ketika satu cluster berisi beberapa database aktif, beban kerja mereka biasanya tidak terkait.</p>
            <p><b>Analisis</b></p>
            <p>Analisis Advisor meninjau semua database di cluster untuk beban kerja aktif yang berjalan pada saat yang bersamaan. Jika ada beban kerja aktif yang berjalan pada saat bersamaan, Advisor akan membuat rekomendasi untuk mempertimbangkan migrasi database untuk memisahkan kluster Amazon Redshift.</p>

            <p><b>Rekomendasi</b></p>
            <p>Pertimbangkan untuk memindahkan setiap database yang ditanyakan secara aktif ke cluster khusus yang terpisah. Menggunakan cluster terpisah dapat mengurangi pertentangan sumber daya dan meningkatkan kinerja kueri. Hal ini dapat dilakukan karena memungkinkan Anda untuk mengatur ukuran untuk setiap cluster untuk penyimpanan, biaya, dan kebutuhan kinerja setiap beban kerja. Selain itu, beban kerja yang tidak terkait sering mendapat manfaat dari konfigurasi manajemen beban kerja yang berbeda.</p>
            <p>Untuk mengidentifikasi database mana yang digunakan secara aktif, Anda dapat menjalankan perintah SQL ini sebagai superuser.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
SELECT database,
  COUNT(*) as num_queries,
  AVG(DATEDIFF(sec,starttime,endtime)) avg_duration,
  MIN(starttime) as oldest_ts,
  MAX(endtime) as latest_ts
FROM stl_query
WHERE userid &gt; 1
GROUP BY database;            
         </code></pre>
            <p><b>Kiat implementasi</b></p>
            <div class="itemizedlist">
                
                
            <ul class="itemizedlist"><li class="listitem">
                  <p>Karena pengguna harus terhubung ke setiap database secara khusus, dan kueri hanya dapat mengakses satu database, memindahkan database ke cluster terpisah memiliki dampak minimal bagi pengguna.</p>
               </li><li class="listitem">
                  <p>Salah satu opsi untuk memindahkan database adalah dengan mengambil langkah-langkah berikut: </p>
                  <div class="orderedlist">
                      
                      
                      
                  <ol><li>
                        <p>Kembalikan snapshot dari cluster saat ini untuk sementara ke cluster dengan ukuran yang sama.</p>
                     </li><li>
                        <p>Hapus semua database dari cluster baru kecuali database target yang akan dipindahkan.</p>
                     </li><li>
                        <p>Ubah ukuran cluster ke jenis node yang sesuai dan hitung untuk beban kerja database.</p>
                     </li></ol></div>

               </li></ul></div>
          
            <h2 id="reallocate-wlm-recommendation">Realokasi memori manajemen beban kerja (WLM)</h2>
            <p>Amazon Redshift merutekan kueri pengguna untuk <a href="./cm-c-defining-query-queues.html">Menerapkan manual WLM</a> diproses. Manajemen beban kerja (WLM) mendefinisikan bagaimana kueri tersebut diarahkan ke antrian. Amazon Redshift mengalokasikan setiap antrian sebagian dari memori cluster yang tersedia. Memori antrian dibagi di antara slot kueri antrian. </p>
            <p>Ketika antrian dikonfigurasi dengan lebih banyak slot daripada yang dibutuhkan beban kerja, memori yang dialokasikan ke slot yang tidak digunakan ini kurang dimanfaatkan. Mengurangi slot yang dikonfigurasi agar sesuai dengan persyaratan beban kerja puncak mendistribusikan kembali memori yang kurang dimanfaatkan ke slot aktif, dan dapat menghasilkan peningkatan kinerja kueri. </p>
            <p><b>Analisis</b></p>
            <p>Analisis Advisor meninjau persyaratan konkurensi beban kerja untuk mengidentifikasi antrian kueri dengan slot yang tidak digunakan. Advisor menghasilkan rekomendasi untuk mengurangi jumlah slot dalam antrian ketika menemukan yang berikut:</p>
            <div class="itemizedlist">
                
                
            <ul class="itemizedlist"><li class="listitem">
                  <p>Antrian dengan slot yang sama sekali tidak aktif selama analisis.</p>
               </li><li class="listitem">
                  <p>Antrian dengan lebih dari empat slot yang memiliki setidaknya dua slot tidak aktif selama analisis.</p>
               </li></ul></div>

            <p><b>Rekomendasi</b></p>
            <p>Mengurangi slot yang dikonfigurasi agar sesuai dengan persyaratan beban kerja puncak mendistribusikan kembali memori yang kurang dimanfaatkan ke slot aktif. Pertimbangkan untuk mengurangi jumlah slot yang dikonfigurasi untuk antrian di mana slot belum pernah sepenuhnya digunakan. Untuk mengidentifikasi antrian ini, Anda dapat membandingkan persyaratan slot per jam puncak untuk setiap antrian dengan menjalankan perintah SQL berikut sebagai superuser.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
WITH
 generate_dt_series AS (select sysdate - (n * interval '5 second') as dt from (select row_number() over () as n from stl_scan limit 17280)),
 apex AS (
     SELECT iq.dt, iq.service_class, iq.num_query_tasks, count(iq.slot_count) as service_class_queries, sum(iq.slot_count) as service_class_slots
     FROM
         (select gds.dt, wq.service_class, wscc.num_query_tasks, wq.slot_count
         FROM stl_wlm_query wq
         JOIN stv_wlm_service_class_config wscc ON (wscc.service_class = wq.service_class AND wscc.service_class &gt; 5)
         JOIN generate_dt_series gds ON (wq.service_class_start_time &lt;= gds.dt AND wq.service_class_end_time &gt; gds.dt)
         WHERE wq.userid &gt; 1 AND wq.service_class &gt; 5) iq
     GROUP BY iq.dt, iq.service_class, iq.num_query_tasks),
     maxes as (SELECT apex.service_class, trunc(apex.dt) as d, date_part(h,apex.dt) as dt_h, max(service_class_slots) max_service_class_slots
                     from apex group by apex.service_class, apex.dt, date_part(h,apex.dt))
SELECT apex.service_class - 5 AS queue, apex.service_class, apex.num_query_tasks AS max_wlm_concurrency, maxes.d AS day, maxes.dt_h || ':00 - ' || maxes.dt_h || ':59' as hour, MAX(apex.service_class_slots) as max_service_class_slots
FROM apex
JOIN maxes ON (apex.service_class = maxes.service_class AND apex.service_class_slots = maxes.max_service_class_slots)
GROUP BY  apex.service_class, apex.num_query_tasks, maxes.d, maxes.dt_h
ORDER BY apex.service_class, maxes.d, maxes.dt_h;            
         </code></pre>
            <p><code class="code">max_service_class_slots</code>Kolom mewakili jumlah maksimum slot kueri WLM dalam antrian kueri untuk jam itu. <em>Jika ada antrian yang kurang dimanfaatkan, terapkan optimasi pengurangan slot dengan <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/managing-parameter-groups-console.html#parameter-group-modify">memodifikasi grup parameter, seperti yang dijelaskan dalam</a> Panduan Manajemen Pergeseran Merah Amazon.</em></p>
            <p><b>Kiat implementasi</b></p>
            <div class="itemizedlist">
                
                
            <ul class="itemizedlist"><li class="listitem">
                  <p>Jika beban kerja Anda sangat bervariasi dalam volume, pastikan bahwa analisis menangkap periode pemanfaatan puncak. Jika tidak, jalankan SQL sebelumnya berulang kali untuk memantau persyaratan konkurensi puncak. </p>
               </li><li class="listitem">
                  <p><a href="https://github.com/awslabs/amazon-redshift-utils/blob/master/src/AdminScripts/wlm_apex_hourly.sql" rel="noopener noreferrer" target="_blank"><span>Untuk detail lebih lanjut tentang menafsirkan hasil kueri dari kode SQL sebelumnya, lihat skrip wlm_apex_hourly.sql di.</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>  GitHub</p>
               </li></ul></div>

          
            <h2 id="skip-compression-analysis-recommendation">Lewati analisis kompresi selama COPY</h2>
            <p>Saat Anda memuat data ke dalam tabel kosong dengan pengkodean kompresi yang dideklarasikan dengan perintah COPY, Amazon Redshift menerapkan kompresi penyimpanan. Optimalisasi ini memastikan bahwa data di cluster Anda disimpan secara efisien bahkan ketika dimuat oleh pengguna akhir. Analisis yang diperlukan untuk menerapkan kompresi dapat membutuhkan waktu yang signifikan.</p>

            <p><b>Analisis</b></p>
            <p>Analisis Advisor memeriksa operasi COPY yang tertunda oleh analisis kompresi otomatis. Analisis menentukan pengkodean kompresi dengan mengambil sampel data saat sedang dimuat. Pengambilan sampel ini mirip dengan yang dilakukan oleh <a href="./r_ANALYZE_COMPRESSION.html">MENGANALISIS KOMPRESI</a> perintah. </p>
            <p>Saat Anda memuat data sebagai bagian dari proses terstruktur, seperti dalam batch ekstrak, transformasi, beban (ETL) semalam, Anda dapat menentukan kompresi sebelumnya. Anda juga dapat mengoptimalkan definisi tabel Anda untuk melewati fase ini secara permanen tanpa dampak negatif.</p>
            <p><b>Rekomendasi</b></p>
            <p>Untuk meningkatkan respons COPY dengan melewatkan fase analisis kompresi, terapkan salah satu dari dua opsi berikut:</p>
            <div class="itemizedlist">
                
                
            <ul class="itemizedlist"><li class="listitem">
                  <p>Gunakan <code class="code">ENCODE</code> parameter kolom saat membuat tabel apa pun yang Anda muat menggunakan perintah COPY.</p>
               </li><li class="listitem">
                  <p>Matikan kompresi sama sekali dengan memasok <code class="code">COMPUPDATE OFF</code> parameter dalam perintah COPY.</p>
               </li></ul></div>
            <p>Solusi terbaik umumnya menggunakan pengkodean kolom selama pembuatan tabel, karena pendekatan ini juga mempertahankan manfaat menyimpan data terkompresi pada disk. Anda dapat menggunakan perintah ANALYZE COMPRESSION untuk menyarankan pengkodean kompresi, tetapi Anda harus membuat ulang tabel untuk menerapkan pengkodean ini. Untuk mengotomatiskan proses ini, Anda dapat menggunakan  AWS <a href="https://github.com/awslabs/amazon-redshift-utils/tree/master/src/ColumnEncodingUtility" rel="noopener noreferrer" target="_blank"><span>ColumnEncodingUtility</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>, ditemukan di GitHub. </p>
            <p>Untuk mengidentifikasi operasi COPY terbaru yang memicu analisis kompresi otomatis, jalankan perintah SQL berikut.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
  WITH xids AS (
    SELECT xid FROM stl_query WHERE userid&gt;1 AND aborted=0 
    AND querytxt = 'analyze compression phase 1' GROUP BY xid
    INTERSECT SELECT xid FROM stl_commit_stats WHERE node=-1)
SELECT a.userid, a.query, a.xid, a.starttime, b.complyze_sec, 
    a.copy_sec, a.copy_sql
FROM (SELECT q.userid, q.query, q.xid, date_trunc('s',q.starttime) 
    starttime, substring(querytxt,1,100) as copy_sql, 
    ROUND(datediff(ms,starttime,endtime)::numeric / 1000.0, 2) copy_sec
    FROM stl_query q JOIN xids USING (xid)
    WHERE (querytxt ilike 'copy %from%' OR querytxt ilike '% copy %from%') 
    AND querytxt not like 'COPY ANALYZE %') a
LEFT JOIN (SELECT xid, 
    ROUND(sum(datediff(ms,starttime,endtime))::numeric / 1000.0,2) complyze_sec 
    FROM stl_query q JOIN xids USING (xid)
    WHERE (querytxt like 'COPY ANALYZE %' 
    OR querytxt like 'analyze compression phase %') 
    GROUP BY xid ) b ON a.xid = b.xid
WHERE b.complyze_sec IS NOT NULL ORDER BY a.copy_sql, a.starttime;
         </code></pre>
            <p><b>Kiat implementasi</b></p>
            <div class="itemizedlist">
                
                
            <ul class="itemizedlist"><li class="listitem">
                  <p>Pastikan bahwa semua tabel dengan ukuran signifikan yang dibuat selama proses ETL Anda (misalnya, tabel pementasan dan tabel sementara) mendeklarasikan pengkodean kompresi untuk semua kolom kecuali kunci pengurutan pertama.</p>
               </li><li class="listitem">
                  <p>Perkirakan ukuran masa pakai yang diharapkan dari tabel yang dimuat untuk masing-masing perintah COPY yang diidentifikasi oleh perintah SQL sebelumnya. Jika Anda yakin bahwa tabel akan tetap sangat kecil, matikan kompresi sama sekali dengan <code class="code">COMPUPDATE OFF</code> parameter. Jika tidak, buat tabel dengan kompresi eksplisit sebelum memuatnya dengan perintah COPY.</p>
               </li></ul></div>
          
            <h2 id="split-s3-objects-recommendation">Pisahkan objek Amazon S3 yang dimuat oleh COPY</h2>
            <p>Perintah COPY memanfaatkan arsitektur massively parallel processing (MPP) di Amazon Redshift untuk membaca dan memuat data dari file di Amazon S3. Perintah COPY memuat data secara paralel dari beberapa file, membagi beban kerja di antara node di cluster Anda. Untuk mencapai throughput yang optimal, kami sangat menyarankan Anda membagi data Anda menjadi beberapa file untuk memanfaatkan pemrosesan paralel. </p>
            <p><b>Analisis</b></p>
            <p>Analisis Advisor mengidentifikasi perintah COPY yang memuat kumpulan data besar yang terdapat dalam sejumlah kecil file yang dipentaskan di Amazon S3. Perintah COPY yang berjalan lama yang memuat kumpulan data besar dari beberapa file sering kali memiliki peluang untuk peningkatan kinerja yang cukup besar. Ketika Advisor mengidentifikasi bahwa perintah COPY ini membutuhkan banyak waktu, itu membuat rekomendasi untuk meningkatkan paralelisme dengan membagi data menjadi file tambahan di Amazon S3. </p>
            <p><b>Rekomendasi</b></p>
            <p>Dalam hal ini, kami merekomendasikan tindakan berikut, tercantum dalam urutan prioritas:</p>
            <div class="orderedlist">
                
                
                
            <ol><li>
                  <p>Optimalkan perintah COPY yang memuat lebih sedikit file daripada jumlah node cluster.</p>
               </li><li>
                  <p>Optimalkan perintah COPY yang memuat lebih sedikit file daripada jumlah irisan cluster. </p>
               </li><li>
                  <p>Optimalkan perintah COPY di mana jumlah file bukan kelipatan dari jumlah irisan cluster.</p>
               </li></ol></div>
            <p>Perintah COPY tertentu memuat sejumlah besar data atau berjalan untuk durasi yang signifikan. Untuk perintah ini, sebaiknya Anda memuat sejumlah objek data dari Amazon S3 yang setara dengan kelipatan jumlah irisan di cluster. Untuk mengidentifikasi berapa banyak objek S3 setiap perintah COPY telah dimuat, jalankan kode SQL berikut sebagai superuser. </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
SELECT
    query, COUNT(*) num_files,
    ROUND(MAX(wq.total_exec_time/1000000.0),2) execution_secs,
    ROUND(SUM(transfer_size)/(1024.0*1024.0),2) total_mb,
    SUBSTRING(querytxt,1,60) copy_sql
FROM stl_s3client s
JOIN stl_query q USING (query)
JOIN stl_wlm_query wq USING (query)
WHERE s.userid&gt;1 AND http_method = 'GET'
    AND POSITION('COPY ANALYZE' IN querytxt) = 0
    AND aborted = 0 AND final_state='Completed'
GROUP BY query, querytxt
HAVING (SUM(transfer_size)/(1024*1024))/COUNT(*) &gt;= 2
ORDER BY CASE
WHEN COUNT(*) &lt; (SELECT max(node)+1 FROM stv_slices) THEN 1
WHEN COUNT(*) &lt; (SELECT COUNT(*) FROM stv_slices WHERE node=0) THEN 2
ELSE 2+((COUNT(*) % (SELECT COUNT(*) FROM stv_slices))/(SELECT COUNT(*)::DECIMAL FROM stv_slices))
END, (SUM(transfer_size)/(1024.0*1024.0))/COUNT(*) DESC;   
            
         </code></pre>
            <p><b>Kiat implementasi</b></p>
            <div class="itemizedlist">
                
                
                
            <ul class="itemizedlist"><li class="listitem">
                  <p>Jumlah irisan dalam sebuah node tergantung pada ukuran node cluster. Untuk informasi selengkapnya tentang jumlah irisan di berbagai jenis node, lihat <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/working-with-clusters.html#rs-about-clusters-and-nodes">Cluster dan Node di Amazon</a> Redshift di Panduan Manajemen <em>Pergeseran Merah Amazon</em>. </p>
               </li><li class="listitem">
                  <p>Anda dapat memuat beberapa file dengan menentukan awalan umum, atau kunci awalan, untuk set, atau dengan secara eksplisit mencantumkan file dalam file manifes. Untuk informasi selengkapnya tentang memuat file, lihat<a href="./t_splitting-data-files.html">Memuat data dari file terkompresi dan tidak terkompresi</a>.</p>
               </li><li class="listitem">
                  <p>Amazon Redshift tidak memperhitungkan ukuran file saat membagi beban kerja. Pisahkan file data beban Anda sehingga file berukuran hampir sama, antara 1 MB dan 1 GB setelah kompresi. </p>
               </li></ul></div>
          
            <h2 id="update-table-statistics-recommendation">Perbarui statistik tabel</h2>
            <p>Amazon Redshift menggunakan pengoptimal kueri berbasis biaya untuk memilih paket eksekusi optimal untuk kueri. Perkiraan biaya didasarkan pada statistik tabel yang dikumpulkan menggunakan perintah ANALYZE. Ketika statistik kedaluwarsa atau hilang, database mungkin memilih rencana yang kurang efisien untuk eksekusi kueri, terutama untuk kueri yang kompleks. Mempertahankan statistik saat ini membantu kueri kompleks berjalan dalam waktu sesingkat mungkin. </p>
            <p><b>Analisis</b></p>
            <p>Analisis Advisor melacak tabel yang statistiknya hilang  out-of-date  atau hilang. Ini meninjau metadata akses tabel yang terkait dengan kueri kompleks. Jika tabel yang sering diakses dengan pola kompleks kehilangan statistik, Advisor membuat rekomendasi <b>penting</b> untuk menjalankan ANALYSIS. Jika tabel yang sering diakses dengan pola kompleks memiliki  out-of-date  statistik, Advisor membuat rekomendasi yang <b>disarankan</b> untuk menjalankan ANALYSIS.</p>

            <p><b>Rekomendasi</b></p>
            <p>Setiap kali konten tabel berubah secara signifikan, perbarui statistik dengan ANALISIS. Kami merekomendasikan menjalankan ANALISIS setiap kali sejumlah besar baris data baru dimuat ke dalam tabel yang ada dengan perintah COPY atau INSERT. Kami juga merekomendasikan menjalankan ANALYSIS setiap kali sejumlah besar baris dimodifikasi menggunakan perintah UPDATE atau DELETE. Untuk mengidentifikasi tabel dengan hilang atau  out-of-date  statistik, jalankan perintah SQL berikut sebagai superuser. Hasilnya diurutkan dari tabel terbesar hingga terkecil. </p>
            <p>Untuk mengidentifikasi tabel dengan hilang atau  out-of-date  statistik, jalankan perintah SQL berikut sebagai superuser. Hasilnya diurutkan dari tabel terbesar hingga terkecil.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
SELECT
   ti.schema||'.'||ti."table" tablename,
   ti.size table_size_mb,
   ti.stats_off statistics_accuracy
 FROM svv_table_info ti
 WHERE ti.stats_off &gt; 5.00
 ORDER BY ti.size DESC;          
         </code></pre>
            <p><b>Kiat implementasi</b></p>
            
                  <p>Ambang batas ANALYSIS default adalah 10 persen. Default ini berarti bahwa perintah ANALYZE melewatkan tabel yang diberikan jika kurang dari 10 persen baris tabel telah berubah sejak ANALISIS terakhir. Akibatnya, Anda dapat memilih untuk mengeluarkan perintah ANALISIS di akhir setiap proses ETL. Mengambil pendekatan ini berarti bahwa ANALISIS sering dilewati tetapi juga memastikan bahwa ANALISIS berjalan saat diperlukan.</p>
              
                  <p>Statistik ANALISIS memiliki dampak paling besar untuk kolom yang digunakan dalam gabungan (misalnya,<code class="code">JOIN tbl_a ON col_b</code>) atau sebagai predikat (misalnya,<code class="code">WHERE col_b = 'xyz'</code>). Secara default, ANALYZE mengumpulkan statistik untuk semua kolom dalam tabel yang ditentukan. Jika diperlukan, Anda dapat mengurangi waktu yang diperlukan untuk menjalankan ANALISIS dengan menjalankan ANALISIS hanya untuk kolom yang memiliki dampak paling besar. Anda dapat menjalankan perintah SQL berikut untuk mengidentifikasi kolom yang digunakan sebagai predikat. Anda juga dapat membiarkan Amazon Redshift memilih kolom mana yang akan dianalisis dengan menentukan. <code class="code">ANALYZE PREDICATE COLUMNS</code> </p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="">WITH predicate_column_info as (
SELECT ns.nspname AS schema_name, c.relname AS table_name, a.attnum as col_num,  a.attname as col_name,
        CASE
            WHEN 10002 = s.stakind1 THEN array_to_string(stavalues1, '||') 
            WHEN 10002 = s.stakind2 THEN array_to_string(stavalues2, '||')
            WHEN 10002 = s.stakind3 THEN array_to_string(stavalues3, '||')
            WHEN 10002 = s.stakind4 THEN array_to_string(stavalues4, '||')
            ELSE NULL::varchar
        END AS pred_ts
   FROM pg_statistic s
   JOIN pg_class c ON c.oid = s.starelid
   JOIN pg_namespace ns ON c.relnamespace = ns.oid
   JOIN pg_attribute a ON c.oid = a.attrelid AND a.attnum = s.staattnum)
SELECT schema_name, table_name, col_num, col_name,
       pred_ts NOT LIKE '2000-01-01%' AS is_predicate,
       CASE WHEN pred_ts NOT LIKE '2000-01-01%' THEN (split_part(pred_ts, '||',1))::timestamp ELSE NULL::timestamp END as first_predicate_use,
       CASE WHEN pred_ts NOT LIKE '%||2000-01-01%' THEN (split_part(pred_ts, '||',2))::timestamp ELSE NULL::timestamp END as last_analyze
FROM predicate_column_info;</code></pre>
            <p>Untuk informasi selengkapnya, lihat <a href="./t_Analyzing_tables.html">Menganalisis tabel</a>.</p>
          
            <h2 id="enable-sqa-recommendation">Aktifkan akselerasi kueri singkat</h2>
            <p>Akselerasi kueri singkat (SQA) memprioritaskan kueri jangka pendek yang dipilih sebelum kueri yang berjalan lebih lama. SQA menjalankan kueri jangka pendek di ruang khusus, sehingga kueri SQA tidak dipaksa untuk menunggu dalam antrian di belakang kueri yang lebih panjang. SQA hanya memprioritaskan kueri yang berjalan singkat dan berada dalam antrian yang ditentukan pengguna. Dengan SQA, kueri jangka pendek mulai berjalan lebih cepat dan pengguna melihat hasilnya lebih cepat. </p>
            <p>Jika Anda mengaktifkan SQA, Anda dapat mengurangi atau menghilangkan antrian manajemen beban kerja (WLM) yang didedikasikan untuk menjalankan kueri singkat. Selain itu, kueri yang berjalan lama tidak perlu bersaing dengan kueri singkat untuk slot dalam antrian, sehingga Anda dapat mengonfigurasi antrian WLM Anda untuk menggunakan lebih sedikit slot kueri. Bila Anda menggunakan konkurensi yang lebih rendah, throughput kueri meningkat dan kinerja sistem secara keseluruhan ditingkatkan untuk sebagian besar beban kerja. Untuk informasi selengkapnya, lihat <a href="./wlm-short-query-acceleration.html">Bekerja dengan akselerasi kueri pendek</a>. </p>
            <p><b>Analisis</b></p>
            <p>Advisor memeriksa pola beban kerja dan melaporkan jumlah kueri terbaru di mana SQA akan mengurangi latensi dan waktu antrian harian untuk kueri yang memenuhi syarat SQA.</p>
            <p><b>Rekomendasi</b></p>
            <p>Ubah konfigurasi WLM untuk mengaktifkan SQA. Amazon Redshift menggunakan algoritme pembelajaran mesin untuk menganalisis setiap kueri yang memenuhi syarat. Prediksi meningkat saat SQA belajar dari pola kueri Anda. Untuk informasi selengkapnya, lihat <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/workload-mgmt-config.html">Mengonfigurasi Manajemen Beban Kerja</a>. </p>
            <p>Saat Anda mengaktifkan SQA, WLM menetapkan runtime maksimum untuk kueri singkat ke dinamis secara default. Kami merekomendasikan untuk menjaga pengaturan dinamis untuk runtime maksimum SQA. </p>
            <p><b>Kiat implementasi</b></p>
            <p>Untuk memeriksa apakah SQA diaktifkan, jalankan query berikut. Jika query mengembalikan baris, maka SQA dihidupkan.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select * from stv_wlm_service_class_config 
where service_class = 14;</code></pre>
            <p>Untuk informasi selengkapnya, lihat <a href="./wlm-short-query-acceleration.html#wlm-monitoring-sqa">Pemantauan SQA</a>. </p>
          
            <h2 id="alter-diststyle-distkey-recommendation">Mengubah kunci distribusi pada tabel</h2>
            <p>Amazon Redshift mendistribusikan baris tabel di seluruh cluster sesuai dengan gaya distribusi tabel. Tabel dengan distribusi KEY memerlukan kolom sebagai kunci distribusi (DISTKEY). Baris tabel ditugaskan ke irisan simpul cluster berdasarkan nilai kolom DISTKEY-nya. </p>
            <p>DISTKEY yang sesuai menempatkan jumlah baris yang sama pada setiap irisan node dan sering direferensikan dalam kondisi gabungan. Gabungan yang dioptimalkan terjadi ketika tabel digabungkan pada kolom DISTKEY mereka, mempercepat kinerja kueri.</p>
            
            <p><b>Analisis</b></p>
            <p>Advisor menganalisis beban kerja klaster Anda untuk mengidentifikasi kunci distribusi yang paling tepat untuk tabel yang secara signifikan dapat memperoleh manfaat dari gaya distribusi KEY. </p>
            
            <p><b>Rekomendasi</b></p>
            <p>Penasihat memberikan <a href="./r_ALTER_TABLE.html">ALTER TABLE</a> pernyataan yang mengubah DISTYLE dan DISTYLE tabel berdasarkan analisisnya. Untuk mewujudkan manfaat kinerja yang signifikan, pastikan untuk mengimplementasikan semua pernyataan SQL dalam grup rekomendasi. </p>
            <p>Mendistribusikan ulang tabel besar dengan ALTER TABLE menghabiskan sumber daya cluster dan membutuhkan kunci meja sementara di berbagai waktu. Terapkan setiap grup rekomendasi saat beban kerja cluster lainnya ringan. Untuk detail selengkapnya tentang mengoptimalkan properti distribusi tabel, lihat <a href="https://aws.amazon.com/blogs/big-data/amazon-redshift-engineerings-advanced-table-design-playbook-distribution-styles-and-distribution-keys/" rel="noopener noreferrer" target="_blank"><span>Buku Pedoman Desain Tabel Lanjutan Amazon Redshift Engineering: Gaya Distribusi dan Kunci Distribusi</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. </p>        
            <p>Untuk informasi lebih lanjut tentang ALTER DISTSYLE dan DISTKEY, lihat. <a href="./r_ALTER_TABLE.html">ALTER TABLE</a> </p>
            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>catatan</h6></div><div class="awsdocs-note-text"><p>Jika Anda tidak melihat rekomendasi yang tidak berarti bahwa gaya distribusi saat ini adalah yang paling tepat. Penasihat tidak memberikan rekomendasi ketika tidak ada cukup data atau manfaat redistribusi yang diharapkan kecil. </p><p>Rekomendasi penasihat berlaku untuk tabel tertentu dan tidak selalu berlaku untuk tabel yang berisi kolom dengan nama yang sama. Tabel yang berbagi nama kolom dapat memiliki karakteristik yang berbeda untuk kolom tersebut kecuali data di dalam tabel adalah sama. </p><p>Jika Anda melihat rekomendasi untuk tabel pementasan yang dibuat atau dihapus oleh pekerjaan ETL, ubah proses ETL Anda untuk menggunakan kunci distribusi yang direkomendasikan Advisor. </p></div></div>

          
            <h2 id="alter-sortkey-recommendation">Ubah tombol sortir pada tabel</h2>
            <p>Amazon Redshift mengurutkan baris tabel sesuai dengan tombol <a href="./t_Sorting_data.html">pengurutan</a> tabel. Penyortiran baris tabel didasarkan pada nilai kolom kunci sortir. </p>
            <p>Mengurutkan tabel pada kunci pengurutan yang sesuai dapat mempercepat kinerja kueri, terutama yang memiliki predikat terbatas rentang, dengan membutuhkan lebih sedikit blok tabel untuk dibaca dari disk. </p>
            
            <p><b>Analisis</b></p>
            <p>Advisor menganalisis beban kerja klaster Anda selama beberapa hari untuk mengidentifikasi kunci pengurutan yang bermanfaat untuk tabel Anda. </p>
            
            <p><b>Rekomendasi</b></p>
            <p> Advisor menyediakan dua kelompok pernyataan ALTER TABLE yang mengubah kunci jenis tabel berdasarkan analisisnya: </p>
            <div class="itemizedlist">
                
                
            <ul class="itemizedlist"><li class="listitem"><p>Pernyataan yang mengubah tabel yang saat ini tidak memiliki kunci pengurutan untuk menambahkan kunci sortir COMPOUND.</p></li><li class="listitem"><p>Pernyataan yang mengubah kunci sortir dari INTERLEAVED ke COMPOUND atau no sort key.</p>
                  <p>Menggunakan kunci sortir majemuk secara signifikan mengurangi overhead pemeliharaan. Tabel dengan kunci sortir majemuk tidak memerlukan operasi VACUUM REINDEX mahal yang diperlukan untuk jenis interleaved. Dalam praktiknya, kunci pengurutan majemuk lebih efektif daripada kunci pengurutan yang disisipkan untuk sebagian besar beban kerja Amazon Redshift. Namun, jika tabel kecil, lebih efisien untuk tidak memiliki kunci pengurutan untuk menghindari overhead penyimpanan kunci sortir.</p></li></ul></div>
            
            <p>Saat menyortir tabel besar dengan ALTER TABLE, sumber daya cluster dikonsumsi dan kunci tabel diperlukan pada berbagai waktu. Menerapkan setiap rekomendasi ketika beban kerja cluster moderat. Detail lebih lanjut tentang mengoptimalkan konfigurasi kunci pengurutan tabel dapat ditemukan di <a href="https://aws.amazon.com/blogs/big-data/amazon-redshift-engineerings-advanced-table-design-playbook-compound-and-interleaved-sort-keys/" rel="noopener noreferrer" target="_blank"><span>Buku Pedoman Desain Tabel Lanjutan Amazon Redshift Engineering: Compound and Interleaved</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> Sort Keys. </p>        
            <p>Untuk informasi lebih lanjut tentang ALTER SORTKEY, lihat. <a href="./r_ALTER_TABLE.html">ALTER TABLE</a> </p>
            
            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>catatan</h6></div><div class="awsdocs-note-text"><p>Jika Anda tidak melihat rekomendasi untuk tabel, itu tidak berarti bahwa konfigurasi saat ini adalah yang terbaik. Penasihat tidak memberikan rekomendasi ketika tidak ada cukup data atau manfaat yang diharapkan dari penyortiran kecil. </p><p>Rekomendasi penasihat berlaku untuk tabel tertentu dan tidak selalu berlaku untuk tabel yang berisi kolom dengan nama dan tipe data yang sama. Tabel yang berbagi nama kolom dapat memiliki rekomendasi yang berbeda berdasarkan data dalam tabel dan beban kerja. </p></div></div>
            
          
            <h2 id="alter-compression-encoding-recommendation">Mengubah pengkodean kompresi pada kolom</h2>
            <p>Kompresi adalah operasi tingkat kolom yang mengurangi ukuran data saat disimpan. Kompresi digunakan di Amazon Redshift untuk menghemat ruang penyimpanan dan meningkatkan kinerja kueri dengan mengurangi jumlah disk I/O. Kami merekomendasikan pengkodean kompresi optimal untuk setiap kolom berdasarkan tipe data dan pola kueri. Dengan kompresi optimal, kueri dapat berjalan lebih efisien dan database dapat mengambil ruang penyimpanan minimal. </p>
            
            <p><b>Analisis</b></p>
            <p>Advisor melakukan analisis beban kerja kluster dan skema database Anda secara terus-menerus untuk mengidentifikasi pengkodean kompresi optimal untuk setiap kolom tabel.</p>
            
            <p><b>Rekomendasi</b></p>
            <p>Advisor memberikan pernyataan ALTER TABLE yang mengubah pengkodean kompresi kolom tertentu, berdasarkan analisisnya. </p>
            <p>Mengubah pengkodean kompresi kolom dengan <a href="./r_ALTER_TABLE.html">ALTER TABLE</a> mengkonsumsi sumber daya cluster dan membutuhkan kunci tabel pada berbagai waktu. Yang terbaik adalah menerapkan rekomendasi saat beban kerja cluster ringan. </p>
            <p>Untuk referensi, <a href="./r_ALTER_TABLE_examples_basic.html">Contoh ALTER TABLE</a> menunjukkan beberapa pernyataan yang mengubah pengkodean untuk kolom.</p>        
            
            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>catatan</h6></div><div class="awsdocs-note-text"><p>Penasihat tidak memberikan rekomendasi ketika tidak ada cukup data atau manfaat yang diharapkan dari mengubah pengkodean kecil.</p></div></div>
            
          
            <h2 id="data-type-recommendation">Rekomendasi tipe data</h2>
            <p>Amazon Redshift memiliki pustaka tipe data SQL untuk berbagai kasus penggunaan. Ini termasuk tipe integer seperti <code class="code">INT</code> dan tipe untuk menyimpan karakter, seperti<code class="code">VARCHAR</code>. Redshift menyimpan jenis dengan cara yang dioptimalkan untuk menyediakan akses cepat dan kinerja kueri yang baik. Selain itu, Redshift menyediakan fungsi untuk tipe tertentu, yang dapat Anda gunakan untuk memformat atau melakukan perhitungan pada hasil kueri. </p>
            
            <p><b>Analisis</b></p>
            <p>Advisor melakukan analisis beban kerja klaster dan skema database Anda secara terus-menerus untuk mengidentifikasi kolom yang dapat memperoleh manfaat secara signifikan dari perubahan tipe data.</p>
            
            <p><b>Rekomendasi</b></p>
            
            <p> Advisor memberikan <code class="code">ALTER TABLE</code> pernyataan yang menambahkan kolom baru dengan tipe data yang disarankan. <code class="code">UPDATE</code>Pernyataan yang menyertainya menyalin data dari kolom yang ada ke kolom baru. Setelah Anda membuat kolom baru dan memuat data, ubah kueri dan skrip konsumsi Anda untuk mengakses kolom baru. Kemudian manfaatkan fitur dan fungsi khusus untuk tipe data baru, ditemukan di<a href="./c_SQL_functions.html">Referensi fungsi SQL</a>. </p>
            <p> Menyalin data yang ada ke kolom baru dapat memakan waktu. Kami menyarankan Anda menerapkan setiap rekomendasi penasihat ketika beban kerja klaster ringan. Referensi daftar tipe data yang tersedia di<a href="./c_Supported_data_types.html">Tipe Data</a>. </p>
            <p> Perhatikan bahwa Advisor tidak memberikan rekomendasi ketika tidak ada cukup data atau manfaat yang diharapkan dari mengubah tipe data kecil. </p>        
            
         <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Awas" /> <strong>Javascript dinonaktifkan atau tidak tersedia di browser Anda.</strong></p><p>Untuk menggunakan Dokumentasi AWS, Javascript harus diaktifkan. Lihat halaman Bantuan browser Anda untuk petunjuk.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Konvensi Dokumen</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./access-advisor.html">Melihat rekomendasi Advisor</div><div id="next" class="next-link" accesskey="n" href="./tutorials-redshift.html">Tutorial</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Apakah halaman ini membantu Anda? - Ya</div><div class="content"><p>Terima kasih telah memberitahukan bahwa hasil pekerjaan kami sudah baik.</p><p>Jika Anda memiliki waktu luang, beri tahu kami aspek apa saja yang sudah bagus, agar kami dapat menerapkannya secara lebih luas.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Umpan Balik" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/id_id/redshift/latest/dg/advisor-recommendations.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Apakah halaman ini membantu Anda? - Tidak</div><div class="content"><p>Terima kasih telah memberi tahu kami bahwa halaman ini perlu ditingkatkan. Maaf karena telah mengecewakan Anda.</p><p>Jika Anda memiliki waktu luang, beri tahu kami bagaimana dokumentasi ini dapat ditingkatkan.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Umpan Balik" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/id_id/redshift/latest/dg/advisor-recommendations.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>