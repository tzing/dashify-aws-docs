<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="id-ID"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Memulai dengan konsumsi streaming dari Amazon Managed Streaming for Apache Kafka - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="materialized-view-streaming-ingestion-getting-started-MSK" /><meta name="default_state" content="materialized-view-streaming-ingestion-getting-started-MSK" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" /><meta name="description" content="Pelajari cara mengatur konsumsi streaming dari Amazon Managed Streaming for Apache Kafka." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Panduan Pengembang Database" /><meta name="abstract" content="Buat dan kelola gudang data dengan Amazon Redshift, skala petabyte tingkat perusahaan, layanan pergudangan data yang dikelola sepenuhnya." /><meta name="guide-locale" content="id_id" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Panduan Pengembang Database" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Panduan Pengembang Database" /><meta id="panorama-serviceConsolePage" value="Memulai dengan konsumsi streaming dari Amazon Managed Streaming for Apache Kafka" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Memulai dengan konsumsi streaming dari Amazon Managed Streaming for Apache Kafka - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#materialized-view-streaming-ingestion-getting-started-MSK" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/id_id/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/id_id/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/id_id/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" /><meta name="keywords" content="Amazon Redshift,AWS Pergeseran Merah,Redshift,Spektrum Pergeseran Merah,Klaster,gudang data,pengembang,data sampel,database,pengembang basis data,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Panduan Pengembang Database",
        "item" : "https://docs.aws.amazon.com/id_id/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Membuat tampilan terwujud di Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/id_id/redshift/latest/dg/materialized-view-overview.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Streaming konsumsi",
        "item" : "https://docs.aws.amazon.com/id_id/redshift/latest/dg/materialized-view-streaming-ingestion.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Memulai dengan konsumsi streaming dari Amazon Managed Streaming for Apache Kafka",
        "item" : "https://docs.aws.amazon.com/id_id/redshift/latest/dg/materialized-view-streaming-ingestion.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#materialized-view-streaming-ingestion-getting-started-MSK" target="_blank" rel="noopener noreferrer" title="Buka PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Dokumentasi</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Panduan Pengembang Database</a></div><div id="page-toc-src"><a href="#materialized-view-streaming-ingestion-getting-started-MSK-setup">Menyiapkan IAM dan melakukan streaming konsumsi dari Kafka</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Terjemahan disediakan oleh mesin penerjemah. Jika konten terjemahan yang diberikan bertentangan dengan versi bahasa Inggris aslinya, utamakan versi bahasa Inggris.</p></awsui-alert><h1 class="topictitle" id="materialized-view-streaming-ingestion-getting-started-MSK">Memulai dengan konsumsi streaming dari Amazon Managed Streaming for Apache Kafka</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p> Tujuan dari konsumsi streaming Amazon Redshift adalah untuk menyederhanakan proses untuk secara langsung menelan data streaming dari layanan streaming ke Amazon Redshift atau Amazon Redshift Serverless. Ini bekerja dengan Amazon MSK dan Amazon MSK Tanpa Server, dan dengan Kinesis. Konsumsi streaming Amazon Redshift menghilangkan kebutuhan untuk melakukan streaming Kinesis Data Streams atau topik MSK Amazon di Amazon S3 sebelum menelan data aliran ke Redshift.</p><p> Pada tingkat teknis, konsumsi streaming, baik dari Amazon Kinesis Data Streams dan Amazon Managed Streaming untuk Apache Kafka Kafka, menyediakan latensi rendah, konsumsi data aliran atau topik berkecepatan tinggi ke dalam tampilan terwujud Amazon Redshift. Setelah penyiapan, menggunakan penyegaran tampilan terwujud, Anda dapat mengambil volume data yang besar. </p><p>Siapkan konsumsi streaming Amazon Redshift untuk Amazon MSK dengan melakukan langkah-langkah berikut:</p><div class="orderedlist">
                         
                         
                    <ol><li><p>Buat skema eksternal yang memetakan ke sumber data streaming.</p></li><li><p>Buat tampilan terwujud yang mereferensikan skema eksternal.</p></li></ol></div><p>Anda harus memiliki sumber MSK Amazon yang tersedia, sebelum mengonfigurasi konsumsi streaming Amazon Redshift. Jika Anda tidak memiliki sumber, ikuti petunjuk di <a href="https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html">Memulai Menggunakan Amazon MSK</a>.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>catatan</h6></div><div class="awsdocs-note-text"><p><em>Penyerapan streaming dan Amazon Redshift</em> Tanpa Server - Langkah-langkah konfigurasi dalam topik ini berlaku baik untuk cluster Amazon Redshift yang disediakan dan Amazon Redshift Tanpa Server. Untuk informasi selengkapnya, lihat <a href="./materialized-view-streaming-ingestion.html#materialized-view-streaming-ingestion-considerations">Pertimbangan konsumsi streaming</a>.</p></div></div>
                        <h2 id="materialized-view-streaming-ingestion-getting-started-MSK-setup">Menyiapkan IAM dan melakukan streaming konsumsi dari Kafka</h2>
                        <p>Dengan asumsi Anda memiliki kluster MSK Amazon yang tersedia, langkah pertama adalah mendefinisikan skema di Redshift dengan <code class="code">CREATE EXTERNAL SCHEMA</code> dan merujuk topik Kafka sebagai sumber data. Setelah itu, untuk mengakses data dalam topik, tentukan <code class="code">STREAM</code> dalam tampilan terwujud. Anda dapat menyimpan catatan dari topik dalam <code class="code">SUPER</code> format semi-terstruktur, atau menentukan skema yang menghasilkan data yang dikonversi ke tipe data Amazon Redshift. Saat Anda menanyakan tampilan terwujud, catatan yang dikembalikan adalah  point-in-time  tampilan topik.</p>
                        <div class="procedure"><ol><li><p>Buat peran IAM dengan kebijakan kepercayaan yang memungkinkan klaster Amazon Redshift atau Amazon Redshift Tanpa Server untuk mengambil peran tersebut. Untuk informasi tentang cara mengonfigurasi kebijakan kepercayaan untuk peran IAM, lihat <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/authorizing-redshift-service.html">Mengotorisasi Amazon Redshift untuk mengakses layanan  AWS  lain</a> atas nama Anda. Setelah dibuat, peran harus memiliki kebijakan IAM berikut, yang memberikan izin untuk komunikasi dengan kluster MSK Amazon. Kebijakan yang Anda perlukan bergantung pada metode otentikasi yang digunakan pada klaster, jika Anda menggunakan Amazon MSK. Lihat <a href="https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html">Otentikasi dan Otorisasi untuk Apache Kafka API</a> untuk metode otentikasi yang tersedia di Amazon MSK.</p>
                                <p>Kebijakan IAM untuk Amazon MSK menggunakan akses tidak diautentikasi:</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Sid": "VisualEditor0",
            "Effect": "Allow",
            "Action": [
                "kafka:GetBootstrapBrokers"
            ],
            "Resource": "*"
        }
    ]
}</code></pre>
                                <p>Kebijakan IAM untuk Amazon MSK saat menggunakan autentikasi IAM:</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Sid": "MSKIAMpolicy",
            "Effect": "Allow",
            "Action": [
                "kafka-cluster:ReadData",
                "kafka-cluster:DescribeTopic",
                "kafka-cluster:Connect"
            ],
            "Resource": [
                "arn:aws:kafka:*:0123456789:cluster/*/*",
                "arn:aws:kafka:*:0123456789:topic/*/*/*"
            ]
        },
        <span>{</span>
            "Sid": "MSKPolicy",
            "Effect": "Allow",
            "Action": [
                "kafka:GetBootstrapBrokers"
            ],
            "Resource": "*"
        }
    ]
}</code></pre>
                            </li><li><p> Periksa VPC Anda dan verifikasi bahwa klaster Amazon Redshift atau Amazon Redshift Serverless memiliki rute untuk menuju ke kluster MSK Amazon Anda. Aturan grup keamanan masuk untuk klaster MSK Amazon Anda harus mengizinkan klaster Amazon Redshift atau grup keamanan grup kerja Amazon Redshift Tanpa Server Anda. Port yang Anda tentukan bergantung pada metode otentikasi yang digunakan untuk klaster Anda, saat Anda menggunakan Amazon MSK. Untuk informasi selengkapnya, lihat <a href="https://docs.aws.amazon.com/msk/latest/developerguide/port-info.html">Informasi port</a> dan <a href="https://docs.aws.amazon.com/msk/latest/developerguide/aws-access.html">Akses dari dalam  AWS  tetapi di luar VPC</a>.</p>
                                
                                <p>Perhatikan bahwa otentikasi klien dengan mTL tidak didukung untuk streaming konsumsi. Untuk informasi selengkapnya, lihat <a href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-streaming-ingestion.html#materialized-view-streaming-ingestion-limitations">Batas</a>.</p>
                            <p>Tabel berikut menunjukkan opsi konfigurasi gratis untuk disetel untuk streaming konsumsi dari Amazon MSK:</p>
                                <div class="table-container"><div class="table-contents"><table id="w320aac21c47c15c15b5b3b6"><thead>
                                            <tr>
                                                <th>Konfigurasi Amazon Redshift</th>
                                                <th>Konfigurasi MSK Amazon</th>
                                                <th>Port yang akan dibuka antara Redshift dan Amazon MSK</th>
                                            </tr>
                                        </thead>
                                            <tr>
                                                <td tabindex="-1"> OTENTIKASI TIDAK ADA </td>
                                                <td tabindex="-1"> Transportasi TLS dinonaktifkan </td>
                                                <td tabindex="-1">9092</td>
                                            </tr>
                                            <tr>
                                                <td tabindex="-1"> OTENTIKASI TIDAK ADA </td>
                                                <td tabindex="-1"> Transportasi TLS diaktifkan </td>
                                                <td tabindex="-1">9094</td>
                                            </tr>
                                            <tr>
                                                <td tabindex="-1"> OTENTIKASI IAM </td>
                                                <td tabindex="-1"> IAM </td>
                                                <td tabindex="-1">9098/9198</td>
                                            </tr>
                                        </table></div></div>
                                <p>Autentikasi Amazon Redshift diatur dalam pernyataan CREATE EXTERNAL SCHEMA.</p>
                                <p>Dalam kasus di mana kluster MSK Amazon mengaktifkan autentikasi Mutual Transport Layer Security (mTLS), mengonfigurasi Amazon Redshift untuk menggunakan AUTHENTICATION NONE mengarahkannya untuk menggunakan port 9094 untuk akses yang tidak diautentikasi. Namun, ini akan gagal karena port sedang digunakan oleh otentikasi mTLS. Karena itu, kami menyarankan Anda beralih ke AUTHENTICATION IAM saat Anda menggunakan mTL.</p>    
                            </li><li><p>Aktifkan perutean VPC yang disempurnakan di cluster Amazon Redshift atau workgroup Amazon Redshift Tanpa Server. Untuk informasi selengkapnya, lihat <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/enhanced-vpc-enabling-cluster.html">Mengaktifkan perutean VPC yang disempurnakan</a>.</p>
                                <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>catatan</h6></div><div class="awsdocs-note-text"><p>Untuk mengambil URL broker bootstrap Amazon MSK, Amazon Redshift membuat panggilan API, menggunakan izin <a href="https://docs.aws.amazon.com/msk/1.0/apireference/clusters-clusterarn-bootstrap-brokers.html#GetBootstrapBrokers">GetBootstrapBrokers</a>yang disediakan oleh peran IAM terlampir. Perhatikan bahwa agar permintaan ini berhasil saat perutean VPC yang disempurnakan diaktifkan, subnet untuk cluster yang disediakan Amazon Redshift atau workgroup Amazon Redshift Serverless harus memiliki gateway NAT atau gateway internet. ACL jaringan dan aturan keluar grup keamanan Anda untuk subnet yang disebutkan di atas juga harus mengizinkan akses ke titik akhir layanan Amazon MSK API. Untuk informasi selengkapnya, lihat <a href="https://docs.aws.amazon.com/general/latest/gr/msk.html">Amazon Managed Streaming for Apache Kafka</a> endpoint dan kuota.</p></div></div>
                            </li><li><p>Di Amazon Redshift, buat skema eksternal untuk dipetakan ke cluster MSK Amazon. </p>
                                
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE EXTERNAL SCHEMA MySchema
FROM MSK
IAM_ROLE <span>{</span> default | 'iam-role-arn' }
AUTHENTICATION <span>{</span> none | iam }
CLUSTER_ARN 'msk-cluster-arn';</code></pre>
                                
                                <p>Dalam <code class="code">FROM</code> klausul, Amazon MSK menunjukkan bahwa skema memetakan data dari Managed Kafka Services. </p> 
                                    <p> Streaming ingestion untuk Amazon MSK menyediakan jenis otentikasi berikut, saat Anda membuat skema eksternal: </p>
                                    <div class="itemizedlist">
                                         
                                         
                                    <ul class="itemizedlist"><li class="listitem"><p><b>none</b> - Menentukan bahwa tidak ada langkah otentikasi.</p></li><li class="listitem"><p><b>iam</b> - Menentukan otentikasi IAM. Ketika Anda memilih ini, pastikan bahwa peran IAM memiliki izin untuk autentikasi IAM. </p></li></ul></div>
                                <p>Metode otentikasi MSK Amazon tambahan, seperti otentikasi TLS atau nama pengguna dan kata sandi, tidak didukung untuk konsumsi streaming. </p>
                                <p> <code class="code">CLUSTER_ARN</code>menentukan kluster MSK Amazon tempat Anda streaming.</p>       
                            </li><li>
                                <p>Buat tampilan terwujud untuk mengkonsumsi data dari topik. Contoh berikut mendefinisikan tampilan terwujud dengan data sumber JSON. Perhatikan bahwa tampilan berikut memvalidasi bahwa data tersebut valid JSON dan utf8. Nama topik Kafka peka huruf besar/kecil dan dapat berisi huruf besar dan kecil. Untuk menyerap dari topik dengan nama huruf besar, Anda dapat mengatur konfigurasi <code class="code">enable_case_sensitive_identifier</code> ke <code class="code">true</code> tingkat database. Untuk informasi selengkapnya, lihat <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_names.html">Nama dan pengenal dan <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_enable_case_sensitive_identifier.html">enable_case_sensitive_identifier</a></a>.</p>
                                
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE MATERIALIZED VIEW MyView AUTO REFRESH YES AS
SELECT kafka_partition, 
 kafka_offset, 
 kafka_timestamp_type, 
 kafka_timestamp, 
 kafka_key, 
 JSON_PARSE(kafka_value) as Data, 
 kafka_headers
FROM MySchema."mytopic"
WHERE CAN_JSON_PARSE(kafka_value);</code></pre>
                    <p>Untuk mengaktifkan penyegaran otomatis, gunakan<code class="code">AUTO REFRESH YES</code>. Perilaku default adalah penyegaran manual. </p>
                                <p>Kolom metadata meliputi yang berikut:</p>
                                <div class="table-container"><div class="table-contents"><table id="w320aac21c47c15c15b5b9b9"><thead>
                                            <tr>
                                                <th>Kolom metadata</th>
                                                <th>Jenis data</th>
                                                <th>Deskripsi</th>
                                            </tr>
                                        </thead>
                                            <tr>
                                                <td tabindex="-1"> kafka_partisi </td>
                                                <td tabindex="-1"> bigint </td>
                                                <td tabindex="-1"> Id partisi catatan dari topik Kafka </td>
                                                
                                            </tr>
                                            <tr>
                                                <td tabindex="-1"> kafka_offset </td>
                                                <td tabindex="-1"> bigint </td>
                                                <td tabindex="-1"> Offset catatan dalam topik Kafka untuk partisi tertentu </td>
                                                
                                            </tr>
                                            <tr>
                                                <td tabindex="-1"> kafka_timestamp_type </td>
                                                <td tabindex="-1"> arang (1) </td>
                                                <td tabindex="-1">
                                                    <p>Jenis stempel waktu yang digunakan dalam catatan Kafka:</p> 
                                                    <div class="itemizedlist">
                                                         
                                                         
                                                         
                                                    <ul class="itemizedlist"><li class="listitem"><p><em>C</em> - Rekam waktu pembuatan (CREATE_TIME) di sisi klien</p></li><li class="listitem"><p><em>L</em> - Rekam waktu penambahan (LOG_APPEND_TIME) di sisi server Kafka </p></li><li class="listitem"><p><em>U</em> - Rekam waktu pembuatan tidak tersedia (NO_TIMESTAMP_TYPE)</p></li></ul></div>
                                                </td>
                                                
                                            </tr>
                                            <tr>
                                                <td tabindex="-1"> kafka_timestamp </td>
                                                <td tabindex="-1"> stempel waktu tanpa zona waktu </td>
                                                <td tabindex="-1"> Nilai stempel waktu untuk catatan </td>
                                                
                                            </tr>
                                            <tr>
                                                <td tabindex="-1"> kafka_key </td>
                                                <td tabindex="-1"> varbyte </td>
                                                <td tabindex="-1"> Kunci dari catatan Kafka </td>
                                                
                                            </tr>
                                            <tr>
                                                <td tabindex="-1"> kafka_nilai </td>
                                                <td tabindex="-1"> varbyte </td>
                                                <td tabindex="-1"> Rekor yang diterima dari Kafka </td>
                                                
                                            </tr>
                                            <tr>
                                                <td tabindex="-1"> kafka_header </td>
                                                <td tabindex="-1"> super </td>
                                                <td tabindex="-1"> Header catatan yang diterima dari Kafka </td>
                                                
                                            </tr>
                                            <tr>
                                                <td tabindex="-1"> refresh_time </td>
                                                <td tabindex="-1"> stempel waktu tanpa zona waktu </td>
                                                <td tabindex="-1"> Waktu penyegaran dimulai </td>
                                            </tr>
                                        </table></div></div>
                                
                                <p>Penting untuk dicatat jika Anda memiliki logika bisnis dalam definisi tampilan terwujud bahwa kesalahan penguraian dapat menyebabkan konsumsi streaming diblokir dalam beberapa kasus. Ini mungkin mengarah ke tempat Anda harus menjatuhkan dan membuat ulang tampilan yang terwujud. Untuk menghindari hal ini, kami sarankan Anda menjaga logika parsing Anda sesederhana mungkin dan melakukan sebagian besar pemeriksaan logika bisnis Anda pada data setelah konsumsi. Contoh berikut menunjukkan bagaimana Anda dapat menggunakan <a href="./CAN_JSON_PARSE.html">Fungsi CAN_JSON_PARSE</a> untuk menjaga terhadap kesalahan dan lebih berhasil menelan data.</p>
                                
                            </li><li><p>Segarkan tampilan, yang memanggil Amazon Redshift untuk membaca dari topik dan memuat data ke tampilan terwujud.</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="">REFRESH MATERIALIZED VIEW MyView;</code></pre>
                            </li><li><p>Data kueri dalam tampilan terwujud.</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select * from MyView;</code></pre>
                                <p>Tampilan terwujud diperbarui langsung dari topik saat <code class="code">REFRESH</code> dijalankan. Anda membuat tampilan terwujud yang memetakan ke sumber data topik Kafka. Anda dapat melakukan pemfilteran dan agregasi pada data sebagai bagian dari definisi tampilan yang terwujud. Tampilan terwujud konsumsi streaming Anda (tampilan terwujud dasar) hanya dapat mereferensikan satu topik Kafka, tetapi Anda dapat membuat tampilan terwujud tambahan yang bergabung dengan tampilan dasar yang terwujud dan dengan tampilan atau tabel terwujud lainnya.</p>
                            </li></ol></div>
                        <p>Untuk informasi selengkapnya tentang batasan konsumsi streaming, lihat. <a href="./materialized-view-streaming-ingestion.html#materialized-view-streaming-ingestion-limitations">Batasan</a></p>
                    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Awas" /> <strong>Javascript dinonaktifkan atau tidak tersedia di browser Anda.</strong></p><p>Untuk menggunakan Dokumentasi AWS, Javascript harus diaktifkan. Lihat halaman Bantuan browser Anda untuk petunjuk.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Konvensi Dokumen</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./materialized-view-streaming-ingestion-getting-started.html">Memulai dengan konsumsi streaming dari Amazon Kinesis Data Streams</div><div id="next" class="next-link" accesskey="n" href="./materialized-view-streaming-ingestion-example-station-data.html">Tutorial konsumsi streaming data stasiun kendaraan listrik, menggunakan Kinesis</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Apakah halaman ini membantu Anda? - Ya</div><div class="content"><p>Terima kasih telah memberitahukan bahwa hasil pekerjaan kami sudah baik.</p><p>Jika Anda memiliki waktu luang, beri tahu kami aspek apa saja yang sudah bagus, agar kami dapat menerapkannya secara lebih luas.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Umpan Balik" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/id_id/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Apakah halaman ini membantu Anda? - Tidak</div><div class="content"><p>Terima kasih telah memberi tahu kami bahwa halaman ini perlu ditingkatkan. Maaf karena telah mengecewakan Anda.</p><p>Jika Anda memiliki waktu luang, beri tahu kami bagaimana dokumentasi ini dapat ditingkatkan.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Umpan Balik" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/id_id/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>