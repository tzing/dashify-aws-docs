<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="id-ID"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Contoh BONGKAR - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_UNLOAD_command_examples" /><meta name="default_state" content="r_UNLOAD_command_examples" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_UNLOAD_command_examples.html" /><meta name="description" content="Memberikan contoh cara menggunakan perintah UNLOAD." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Panduan Pengembang Database" /><meta name="abstract" content="Buat dan kelola gudang data dengan Amazon Redshift, skala petabyte tingkat perusahaan, layanan pergudangan data yang dikelola sepenuhnya." /><meta name="guide-locale" content="id_id" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_UNLOAD_command_examples.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_UNLOAD_command_examples.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_UNLOAD_command_examples.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_UNLOAD_command_examples.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_UNLOAD_command_examples.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_UNLOAD_command_examples.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_UNLOAD_command_examples.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_UNLOAD_command_examples.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_UNLOAD_command_examples.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_UNLOAD_command_examples.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_UNLOAD_command_examples.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_UNLOAD_command_examples.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_UNLOAD_command_examples.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_UNLOAD_command_examples.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_UNLOAD_command_examples.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_UNLOAD_command_examples.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_UNLOAD_command_examples.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_UNLOAD_command_examples.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_UNLOAD_command_examples.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_UNLOAD_command_examples.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_UNLOAD_command_examples.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_UNLOAD_command_examples.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Panduan Pengembang Database" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Panduan Pengembang Database" /><meta id="panorama-serviceConsolePage" value="Contoh BONGKAR" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Contoh BONGKAR - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#r_UNLOAD_command_examples" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_UNLOAD_command_examples.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_UNLOAD_command_examples.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_UNLOAD_command_examples.html" /><meta name="keywords" content="Amazon Redshift,AWSPergeseran Merah,Redshift,Spektrum Pergeseran Merah,Klaster,gudang data,pengembang,data sampel,database,pengembang basis data,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Panduan Pengembang Database",
        "item" : "https://docs.aws.amazon.com/id_id/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Referensi SQL",
        "item" : "https://docs.aws.amazon.com/id_id/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Perintah SQL",
        "item" : "https://docs.aws.amazon.com/id_id/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "MEMBONGKAR",
        "item" : "https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_UNLOAD.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Contoh BONGKAR",
        "item" : "https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_UNLOAD.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#r_UNLOAD_command_examples" target="_blank" rel="noopener noreferrer" title="Buka PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Dokumentasi</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Panduan Pengembang Database</a></div><div id="page-toc-src"><a href="#unload-examples-venue">Bongkar VENUE ke file yang dibatasi pipa (pembatas default)</a><a href="#unload-examples-partitioned-parquet">Bongkar tabel LINEITEM ke file Parket yang dipartisi</a><a href="#unload-examples-json">Bongkar tabel VENUE ke file JSON</a><a href="#unload-examples-csv">Bongkar VENUE ke file CSV</a><a href="#unload-examples-csv-delimiter">Bongkar VENUE ke file CSV menggunakan pembatas</a><a href="#unload-examples-manifest">Bongkar VENUE dengan file manifes</a><a href="#unload-examples-manifest-verbose">Bongkar VENUE dengan MANIFEST VERBOSE</a><a href="#unload-examples-header">Bongkar VENUE dengan header</a><a href="#unload-examples-maxfilesize">Bongkar VENUE ke file yang lebih kecil</a><a href="#unload-examples-serial">Bongkar VENUE secara serial</a><a href="#unload-examples-load">Muat VENUE dari file bongkar</a><a href="#unload-examples-unload-encrypted">Bongkar VENUE ke file terenkripsi</a><a href="#unload-examples-load-encrypted">Muat VENUE dari file terenkripsi</a><a href="#unload-examples-venue-tab">Bongkar data VENUE ke file yang dibatasi tab</a><a href="#unload-venue-fixed-width">Bongkar VENUE ke file data dengan lebar tetap</a><a href="#unload-examples-venue-gzip">Bongkar VENUE ke satu set file terkompresi GZIP yang dibatasi tab</a><a href="#unload-examples-venue-extension-gzip">Bongkar VENUE ke file teks terkompresi GZIP</a><a href="#unload-examples-delimiter">Bongkar data yang berisi pembatas</a><a href="#unload-examples-join">Bongkar hasil kueri bergabung</a><a href="#unload-examples-null-as">Bongkar menggunakan NULL AS</a><a href="#unload-examples-allowoverwrite">Bongkar menggunakan parameter ALLOWOVERWRITE</a><a href="#unload-examples-manifest-parallel">Bongkar tabel EVENT menggunakan parameter PARALLEL dan MANIFEST</a><a href="#unload-examples-manifest-serial">Bongkar tabel EVENT menggunakan parameter PARALLEL OFF dan MANIFEST</a><a href="#unload-examples-manifest-partition">Bongkar tabel EVENT menggunakan parameter PARTITION BY dan MANIFEST</a><a href="#unload-examples-manifest-maxsize">Bongkar tabel EVENT menggunakan parameter MAXFILESIZE, ROWGROUPSIZE, dan MANIFEST</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Terjemahan disediakan oleh mesin penerjemah. Jika konten terjemahan yang diberikan bertentangan dengan versi bahasa Inggris aslinya, utamakan versi bahasa Inggris.</p></awsui-alert><h1 class="topictitle" id="r_UNLOAD_command_examples">Contoh BONGKAR</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Contoh-contoh ini menunjukkan berbagai parameter perintah UNLOAD. Data sampel TICKIT digunakan dalam banyak contoh. Untuk informasi selengkapnya, lihat <a href="./c_sampledb.html">Database sampel</a>.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>catatan</h6></div><div class="awsdocs-note-text"><p>Contoh-contoh ini berisi jeda baris untuk keterbacaan. Jangan sertakan jeda baris atau spasi dalam string <em>credentials-args</em> Anda.</p></div></div>
            <h2 id="unload-examples-venue">Bongkar VENUE ke file yang dibatasi pipa (pembatas default)</h2>

            <p>Contoh berikut membongkar tabel VENUE dan menulis data ke<code class="code">s3://mybucket/unload/</code>: </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">unload ('select * from venue')
to 's3://mybucket/unload/'
iam_role 'arn:aws:iam::0123456789012:role/MyRedshiftRole';</code></pre>
            <p>Secara default, UNLOAD menulis satu atau lebih file per irisan. Dengan asumsi cluster dua simpul dengan dua irisan per node, contoh sebelumnya membuat file-file ini di: <code class="code">mybucket</code></p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">unload/0000_part_00
unload/0001_part_00
unload/0002_part_00
unload/0003_part_00</code></pre>
            
            <p>Untuk membedakan file output dengan lebih baik, Anda dapat menyertakan awalan di lokasi. Contoh berikut membongkar tabel VENUE dan menulis data ke<code class="code">s3://mybucket/unload/venue_pipe_</code>: </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">unload ('select * from venue')
to 's3://mybucket/unload/venue_pipe_'
iam_role 'arn:aws:iam::0123456789012:role/MyRedshiftRole';</code></pre>
            <p>Hasilnya adalah keempat file ini di <code class="code">unload</code> folder, sekali lagi dengan asumsi empat irisan.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">venue_pipe_0000_part_00
venue_pipe_0001_part_00
venue_pipe_0002_part_00
venue_pipe_0003_part_00</code></pre>
          
            <h2 id="unload-examples-partitioned-parquet">Bongkar tabel LINEITEM ke file Parket yang dipartisi</h2>
            <p>Contoh berikut membongkar tabel LINEITEM dalam format Parket, dipartisi oleh kolom. <code class="code">l_shipdate</code> </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">unload ('select * from lineitem')
to 's3://mybucket/lineitem/'
iam_role 'arn:aws:iam::0123456789012:role/MyRedshiftRole'
PARQUET
PARTITION BY (l_shipdate);
</code></pre>
            <p>Dengan asumsi empat irisan, file Parket yang dihasilkan secara dinamis dipartisi ke dalam berbagai folder. </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">
s3://mybucket/lineitem/l_shipdate=1992-01-02/0000_part_00.parquet
                                             0001_part_00.parquet
                                             0002_part_00.parquet
                                             0003_part_00.parquet
s3://mybucket/lineitem/l_shipdate=1992-01-03/0000_part_00.parquet
                                             0001_part_00.parquet
                                             0002_part_00.parquet
                                             0003_part_00.parquet
s3://mybucket/lineitem/l_shipdate=1992-01-04/0000_part_00.parquet
                                             0001_part_00.parquet
                                             0002_part_00.parquet
                                             0003_part_00.parquet
...
</code></pre>
            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>catatan</h6></div><div class="awsdocs-note-text"><p>Dalam beberapa kasus, perintah UNLOAD menggunakan opsi INCLUDE seperti yang ditunjukkan dalam pernyataan SQL berikut. </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">unload ('select * from lineitem')
to 's3://mybucket/lineitem/'
iam_role 'arn:aws:iam::0123456789012:role/MyRedshiftRole'
PARQUET
PARTITION BY (l_shipdate) INCLUDE;
</code></pre><p>Dalam kasus ini, <code class="code">l_shipdate</code> kolom juga ada dalam data dalam file Parket. Jika tidak, data <code class="code">l_shipdate</code> kolom tidak ada di file Parket.</p></div></div>
          
            <h2 id="unload-examples-json">Bongkar tabel VENUE ke file JSON</h2>
            <p>Contoh berikut membongkar tabel VENUE dan menulis data dalam format JSON ke. <code class="code">s3://mybucket/unload/</code></p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="SQL ">unload ('select * from venue')
to 's3://mybucket/unload/'
iam_role 'arn:aws:iam::0123456789012:role/MyRedshiftRole'
JSON;</code></pre>
            <p>Berikut ini adalah contoh baris dari tabel VENUE.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">venueid | venuename                  | venuecity       | venuestate | venueseats
--------+----------------------------+-----------------+------------+-----------
      1 | Pinewood Racetrack         | Akron           | OH         | 0
      2 | Columbus "Crew" Stadium    | Columbus        | OH         | 0
      4 | Community, Ballpark, Arena | Kansas City     | KS         | 0</code></pre>
            <p>Setelah bongkar ke JSON, format file mirip dengan yang berikut ini.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>"venueid":1,"venuename":"Pinewood Racetrack","venuecity":"Akron","venuestate":"OH","venueseats":0}
<span>{</span>"venueid":2,"venuename":"Columbus \"Crew\" Stadium ","venuecity":"Columbus","venuestate":"OH","venueseats":0}
<span>{</span>"venueid":4,"venuename":"Community, Ballpark, Arena","venuecity":"Kansas City","venuestate":"KS","venueseats":0}</code></pre>
          
            <h2 id="unload-examples-csv">Bongkar VENUE ke file CSV</h2>
            <p>Contoh berikut membongkar tabel VENUE dan menulis data dalam format CSV ke. <code class="code">s3://mybucket/unload/</code></p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">unload ('select * from venue')
to 's3://mybucket/unload/'
iam_role 'arn:aws:iam::0123456789012:role/MyRedshiftRole'
CSV;</code></pre>
            <p>Misalkan tabel VENUE berisi baris berikut.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">
venueid | venuename                  | venuecity       | venuestate | venueseats
--------+----------------------------+-----------------+------------+-----------
      1 | Pinewood Racetrack         | Akron           | OH         | 0
      2 | Columbus "Crew" Stadium    | Columbus        | OH         | 0
      4 | Community, Ballpark, Arena | Kansas City     | KS         | 0
            </code></pre>
            <p>File bongkar terlihat mirip dengan yang berikut ini.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">1,Pinewood Racetrack,Akron,OH,0
2,"Columbus ""Crew"" Stadium",Columbus,OH,0
4,"Community, Ballpark, Arena",Kansas City,KS,0</code></pre>
          
            <h2 id="unload-examples-csv-delimiter">Bongkar VENUE ke file CSV menggunakan pembatas</h2>
            <p>Contoh berikut membongkar tabel VENUE dan menulis data dalam format CSV menggunakan karakter pipa (|) sebagai pembatas. File yang dibongkar ditulis ke<code class="code">s3://mybucket/unload/</code>. Tabel VENUE dalam contoh ini berisi karakter pipa dalam nilai baris pertama (<code class="code">Pinewood Race|track</code>). Hal ini dilakukan untuk menunjukkan bahwa nilai dalam hasil terlampir dalam tanda kutip ganda. Tanda kutip ganda diloloskan oleh tanda kutip ganda, dan seluruh bidang diapit tanda kutip ganda. </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">unload ('select * from venue')
to 's3://mybucket/unload/'
iam_role 'arn:aws:iam::0123456789012:role/MyRedshiftRole'
CSV DELIMITER AS '|';</code></pre>
            <p>Misalkan tabel VENUE berisi baris berikut.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">
venueid | venuename                  | venuecity       | venuestate | venueseats
--------+----------------------------+-----------------+------------+-------------
      1 | Pinewood Race|track        | Akron           | OH         | 0
      2 | Columbus "Crew" Stadium    | Columbus        | OH         | 0
      4 | Community, Ballpark, Arena | Kansas City     | KS         | 0
</code></pre>
            <p>File bongkar terlihat mirip dengan yang berikut ini.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">1|"Pinewood Race|track"|Akron|OH|0
2|"Columbus ""Crew"" Stadium"|Columbus|OH|0
4|Community, Ballpark, Arena|Kansas City|KS|0
</code></pre>
          
            <h2 id="unload-examples-manifest">Bongkar VENUE dengan file manifes</h2>
            <p>Untuk membuat file manifes, sertakan opsi MANIFEST. Contoh berikut membongkar tabel VENUE dan menulis file manifes bersama dengan file data ke s3://mybucket/venue_pipe_: </p>
            <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>penting</h6></div><div class="awsdocs-note-text"><p>Jika Anda membongkar file dengan opsi MANIFEST, Anda harus menggunakan opsi MANIFEST dengan perintah COPY saat Anda memuat file. Jika Anda menggunakan awalan yang sama untuk memuat file dan tidak menentukan opsi MANIFEST, COPY gagal karena mengasumsikan file manifes adalah file data.</p></div></div>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">unload ('select * from venue')
to 's3://mybucket/venue_pipe_' iam_role 'arn:aws:iam::0123456789012:role/MyRedshiftRole'
manifest;</code></pre>
            <p>Hasilnya adalah lima file ini:</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">s3://mybucket/venue_pipe_0000_part_00
s3://mybucket/venue_pipe_0001_part_00
s3://mybucket/venue_pipe_0002_part_00
s3://mybucket/venue_pipe_0003_part_00
s3://mybucket/venue_pipe_manifest</code></pre>
            <p>Berikut ini menunjukkan isi dari file manifes. </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "entries": [
    <span>{</span>"url":"s3://mybucket/tickit/venue_0000_part_00"},
    <span>{</span>"url":"s3://mybucket/tickit/venue_0001_part_00"},
    <span>{</span>"url":"s3://mybucket/tickit/venue_0002_part_00"},
    <span>{</span>"url":"s3://mybucket/tickit/venue_0003_part_00"}
  ]
}</code></pre>
          
            <h2 id="unload-examples-manifest-verbose">Bongkar VENUE dengan MANIFEST VERBOSE</h2>
            <p>Saat Anda menentukan opsi MANIFEST VERBOSE, file manifes menyertakan bagian berikut: </p>
            <div class="itemizedlist">
                
                
                
            <ul class="itemizedlist"><li class="listitem">
                  <p><code class="code">entries</code>Bagian ini mencantumkan jalur Amazon S3, ukuran file, dan jumlah baris untuk setiap file. </p>
               </li><li class="listitem">
                  <p><code class="code">schema</code>Bagian ini mencantumkan nama kolom, tipe data, dan dimensi untuk setiap kolom. </p>
               </li><li class="listitem">
                  <p><code class="code">meta</code>Bagian ini menunjukkan ukuran file total dan jumlah baris untuk semua file. </p>
               </li></ul></div>
            <p>Contoh berikut membongkar tabel VENUE menggunakan opsi MANIFEST VERBOSE. </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">unload ('select * from venue')
to 's3://mybucket/unload_venue_folder/'
iam_role 'arn:aws:iam::0123456789012:role/MyRedshiftRole'
manifest verbose;</code></pre>
            <p>Berikut ini menunjukkan isi dari file manifes.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "entries": [
    <span>{</span>"url":"s3://mybucket/venue_pipe_0000_part_00", "meta": <span>{</span> "content_length": 32295, "record_count": 10 }},
    <span>{</span>"url":"s3://mybucket/venue_pipe_0001_part_00", "meta": <span>{</span> "content_length": 32771, "record_count": 20 }},
    <span>{</span>"url":"s3://mybucket/venue_pipe_0002_part_00", "meta": <span>{</span> "content_length": 32302, "record_count": 10 }},
    <span>{</span>"url":"s3://mybucket/venue_pipe_0003_part_00", "meta": <span>{</span> "content_length": 31810, "record_count": 15 }}
  ],
  "schema": <span>{</span>
    "elements": [
      <span>{</span>"name": "venueid", "type": <span>{</span> "base": "integer" }},
      <span>{</span>"name": "venuename", "type": <span>{</span> "base": "character varying", 25 }},
      <span>{</span>"name": "venuecity", "type": <span>{</span> "base": "character varying", 25 }},
      <span>{</span>"name": "venuestate", "type": <span>{</span> "base": "character varying", 25 }},
      <span>{</span>"name": "venueseats", "type": <span>{</span> "base": "character varying", 25 }}
    ]
  },
  "meta": <span>{</span>
    "content_length": 129178,
    "record_count": 55
  },
  "author": <span>{</span>
    "name": "Amazon Redshift",
    "version": "1.0.0"
  }
}</code></pre>
          
            <h2 id="unload-examples-header">Bongkar VENUE dengan header</h2>
            <p>Contoh berikut membongkar VENUE dengan baris header.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">unload ('select * from venue where venueseats &gt; 75000')
to 's3://mybucket/unload/'
iam_role 'arn:aws:iam::0123456789012:role/MyRedshiftRole'
header
parallel off;</code></pre>
            <p>Berikut ini menunjukkan isi dari file output dengan baris header.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">venueid|venuename|venuecity|venuestate|venueseats
6|New York Giants Stadium|East Rutherford|NJ|80242
78|INVESCO Field|Denver|CO|76125
83|FedExField|Landover|MD|91704
79|Arrowhead Stadium|Kansas City|MO|79451</code></pre>
          
            <h2 id="unload-examples-maxfilesize">Bongkar VENUE ke file yang lebih kecil</h2>
            <p>Secara default, ukuran file maksimum adalah 6, 2 GB. Jika data bongkar lebih besar dari 6,2 GB, UNLOAD membuat file baru untuk setiap segmen data 6,2 GB. Untuk membuat file yang lebih kecil, sertakan parameter MAXFILESIZE. Dengan asumsi ukuran data dalam contoh sebelumnya adalah 20 GB, perintah UNLOAD berikut membuat 20 file, masing-masing berukuran 1 GB.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">unload ('select * from venue')
to 's3://mybucket/unload/'
iam_role 'arn:aws:iam::0123456789012:role/MyRedshiftRole'
maxfilesize 1 gb;
</code></pre>
          
            <h2 id="unload-examples-serial">Bongkar VENUE secara serial</h2>
            <p>Untuk membongkar secara serial, tentukan PARALLEL OFF. UNLOAD kemudian menulis satu file pada satu waktu, hingga maksimum 6,2 GB per file. </p>
            <p>Contoh berikut membongkar tabel VENUE dan menulis data secara serial ke. <code class="code">s3://mybucket/unload/</code> </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">unload ('select * from venue')
to 's3://mybucket/unload/venue_serial_'
iam_role 'arn:aws:iam::0123456789012:role/MyRedshiftRole'
parallel off;</code></pre>
            <p>Hasilnya adalah satu file bernama venue_serial_000. </p>
            <p>Jika data bongkar lebih besar dari 6,2 GB, UNLOAD membuat file baru untuk setiap segmen data 6,2 GB. Contoh berikut membongkar tabel LINEORDER dan menulis data secara serial ke. <code class="code">s3://mybucket/unload/</code> </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">unload ('select * from lineorder')
to 's3://mybucket/unload/lineorder_serial_'
iam_role 'arn:aws:iam::0123456789012:role/MyRedshiftRole'
parallel off gzip;</code></pre>
            <p>Hasilnya adalah serangkaian file berikut.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">lineorder_serial_0000.gz
lineorder_serial_0001.gz
lineorder_serial_0002.gz
lineorder_serial_0003.gz</code></pre>
            <p>Untuk membedakan file output dengan lebih baik, Anda dapat menyertakan awalan di lokasi. Contoh berikut membongkar tabel VENUE dan menulis data ke<code class="code">s3://mybucket/venue_pipe_</code>: </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">unload ('select * from venue')
to 's3://mybucket/unload/venue_pipe_'
iam_role 'arn:aws:iam::0123456789012:role/MyRedshiftRole';</code></pre>
            <p>Hasilnya adalah keempat file ini di <code class="code">unload</code> folder, sekali lagi dengan asumsi empat irisan.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">venue_pipe_0000_part_00
venue_pipe_0001_part_00
venue_pipe_0002_part_00
venue_pipe_0003_part_00</code></pre>
          
            <h2 id="unload-examples-load">Muat VENUE dari file bongkar</h2>
            <p>Untuk memuat tabel dari satu set file bongkar muat, cukup balikkan proses dengan menggunakan perintah COPY. Contoh berikut membuat tabel baru, LOADVENUE, dan memuat tabel dari file data yang dibuat dalam contoh sebelumnya.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">create table loadvenue (like venue);

copy loadvenue from 's3://mybucket/venue_pipe_' iam_role 'arn:aws:iam::0123456789012:role/MyRedshiftRole';</code></pre>
            <p>Jika Anda menggunakan opsi MANIFEST untuk membuat file manifes dengan file bongkar muat, Anda dapat memuat data menggunakan file manifes yang sama. Anda melakukannya dengan perintah COPY dengan opsi MANIFEST. Contoh berikut memuat data menggunakan file manifes.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">copy loadvenue
from 's3://mybucket/venue_pipe_manifest' iam_role 'arn:aws:iam::0123456789012:role/MyRedshiftRole'
manifest;
</code></pre>
          
            <h2 id="unload-examples-unload-encrypted">Bongkar VENUE ke file terenkripsi</h2>
            <p>Contoh berikut membongkar tabel VENUE ke satu set file terenkripsi menggunakan kunci. AWS KMS Jika Anda menentukan file manifes dengan opsi ENCRYPTED, file manifes juga dienkripsi. Untuk informasi selengkapnya, lihat <a href="./t_unloading_encrypted_files.html">Bongkar file data terenkripsi</a>.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">unload ('select * from venue')
to 's3://mybucket/venue_encrypt_kms'
iam_role 'arn:aws:iam::0123456789012:role/MyRedshiftRole'
kms_key_id '1234abcd-12ab-34cd-56ef-1234567890ab'
manifest
encrypted;</code></pre>
            <p>Contoh berikut membongkar tabel VENUE ke satu set file terenkripsi menggunakan kunci simetris root. </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">unload ('select * from venue')
to 's3://mybucket/venue_encrypt_cmk'
iam_role 'arn:aws:iam::0123456789012:role/MyRedshiftRole'
master_symmetric_key 'EXAMPLEMASTERKEYtkbjk/OpCwtYSx/M4/t7DMCDIK722'
encrypted;</code></pre>
          
            <h2 id="unload-examples-load-encrypted">Muat VENUE dari file terenkripsi</h2>
            <p>Untuk memuat tabel dari sekumpulan file yang dibuat dengan menggunakan UNLOAD dengan opsi ENCRYPT, balikkan proses dengan menggunakan perintah COPY. Dengan perintah itu, gunakan opsi ENCRYPTED dan tentukan kunci simetris root yang sama yang digunakan untuk perintah UNLOAD. Contoh berikut memuat tabel LOADVENUE dari file data terenkripsi yang dibuat dalam contoh sebelumnya.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">create table loadvenue (like venue);

copy loadvenue
from 's3://mybucket/venue_encrypt_manifest'
iam_role 'arn:aws:iam::0123456789012:role/MyRedshiftRole'
master_symmetric_key 'EXAMPLEMASTERKEYtkbjk/OpCwtYSx/M4/t7DMCDIK722'
manifest
encrypted;</code></pre>
          
            <h2 id="unload-examples-venue-tab">Bongkar data VENUE ke file yang dibatasi tab</h2>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">unload ('select venueid, venuename, venueseats from venue')
to 's3://mybucket/venue_tab_'
iam_role 'arn:aws:iam::0123456789012:role/MyRedshiftRole'
delimiter as '\t';</code></pre>
            <p>File data output terlihat seperti ini: </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">1	Toyota Park	Bridgeview	IL	0
2	Columbus Crew Stadium	Columbus	OH	0
3	RFK Stadium	Washington	DC	0
4	CommunityAmerica Ballpark	Kansas City	KS	0
5	Gillette Stadium	Foxborough	MA	68756
...</code></pre>
          
            <h2 id="unload-venue-fixed-width">Bongkar VENUE ke file data dengan lebar tetap</h2>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">unload ('select * from venue')
to 's3://mybucket/venue_fw_'
iam_role 'arn:aws:iam::0123456789012:role/MyRedshiftRole'
fixedwidth as 'venueid:3,venuename:39,venuecity:16,venuestate:2,venueseats:6';</code></pre>
            <p>File data output terlihat seperti berikut ini. </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">1  Toyota Park              Bridgeview  IL0
2  Columbus Crew Stadium    Columbus    OH0
3  RFK Stadium              Washington  DC0
4  CommunityAmerica BallparkKansas City KS0
5  Gillette Stadium         Foxborough  MA68756
...</code></pre>
          
            <h2 id="unload-examples-venue-gzip">Bongkar VENUE ke satu set file terkompresi GZIP yang dibatasi tab</h2>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">unload ('select * from venue')
to 's3://mybucket/venue_tab_'
iam_role 'arn:aws:iam::0123456789012:role/MyRedshiftRole'
delimiter as '\t'
gzip;</code></pre>
          
            <h2 id="unload-examples-venue-extension-gzip">Bongkar VENUE ke file teks terkompresi GZIP</h2>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">unload ('select * from venue')
to 's3://mybucket/venue_tab_'
iam_role 'arn:aws:iam::0123456789012:role/MyRedshiftRole'
extension 'txt.gz'
gzip;
</code></pre>
          
            <h2 id="unload-examples-delimiter">Bongkar data yang berisi pembatas</h2>
            <p>Contoh ini menggunakan opsi ADDQUOTES untuk membongkar data yang dibatasi koma di mana beberapa bidang data aktual berisi koma.</p>
            <p>Pertama, buat tabel yang berisi tanda kutip.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">create table location (id int, location char(64));

insert into location values (1,'Phoenix, AZ'),(2,'San Diego, CA'),(3,'Chicago, IL');</code></pre>
            <p>Kemudian, bongkar data menggunakan opsi ADDQUOTES.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">unload ('select id, location from location')
to 's3://mybucket/location_'
iam_role 'arn:aws:iam::0123456789012:role/MyRedshiftRole'
delimiter ',' addquotes;</code></pre>
            <p>File data yang dibongkar terlihat seperti ini: </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">1,"Phoenix, AZ"
2,"San Diego, CA"
3,"Chicago, IL"
...</code></pre>
          
            <h2 id="unload-examples-join">Bongkar hasil kueri bergabung</h2>
            <p>Contoh berikut membongkar hasil query gabungan yang berisi fungsi jendela. </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">unload ('select venuecity, venuestate, caldate, pricepaid,
sum(pricepaid) over(partition by venuecity, venuestate
order by caldate rows between 3 preceding and 3 following) as winsum
from sales join date on sales.dateid=date.dateid
join event on event.eventid=sales.eventid
join venue on event.venueid=venue.venueid
order by 1,2')
to 's3://mybucket/tickit/winsum'
iam_role 'arn:aws:iam::0123456789012:role/MyRedshiftRole';</code></pre>
            <p>File output terlihat seperti ini: </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">Atlanta|GA|2008-01-04|363.00|1362.00
Atlanta|GA|2008-01-05|233.00|2030.00
Atlanta|GA|2008-01-06|310.00|3135.00
Atlanta|GA|2008-01-08|166.00|8338.00
Atlanta|GA|2008-01-11|268.00|7630.00
...</code></pre>
          
            <h2 id="unload-examples-null-as">Bongkar menggunakan NULL AS</h2>
            <p>UNLOAD mengeluarkan nilai null sebagai string kosong secara default. Contoh berikut menunjukkan bagaimana menggunakan NULL AS untuk menggantikan string teks untuk nol.</p>
            <p>Untuk contoh ini, kita menambahkan beberapa nilai null ke tabel VENUE.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">update venue set venuestate = NULL
where venuecity = 'Cleveland';</code></pre>
            <p>Pilih dari VENUE di mana VENUESTATE adalah nol untuk memverifikasi bahwa kolom berisi NULL.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql "><code class="userinput">select * from venue where venuestate is null;</code>
<code class="computeroutput" copy="false">
 venueid |        venuename         | venuecity | venuestate | venueseats
---------+--------------------------+-----------+------------+------------
      22 | Quicken Loans Arena      | Cleveland |            |          0
     101 | Progressive Field        | Cleveland |            |      43345
      72 | Cleveland Browns Stadium | Cleveland |            |      73200
</code></code></pre>
            <p>Sekarang, BONGKAR tabel VENUE menggunakan opsi NULL AS untuk mengganti nilai null dengan string karakter ''. <code class="code">fred</code> </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">unload ('select * from venue')
to 's3://mybucket/nulls/'
iam_role 'arn:aws:iam::0123456789012:role/MyRedshiftRole'
null as 'fred';</code></pre>
            <p>Sampel berikut dari file bongkar menunjukkan bahwa nilai null diganti dengan. <code class="code">fred</code> Ternyata beberapa nilai untuk VENUESEATS juga nol dan diganti dengan. <code class="code">fred</code> Meskipun tipe data untuk VENUESEATS adalah bilangan bulat, UNLOAD mengonversi nilai menjadi teks dalam file bongkar muat, dan kemudian COPY mengonversinya kembali ke bilangan bulat. Jika Anda membongkar ke file dengan lebar tetap, string NULL AS tidak boleh lebih besar dari lebar bidang.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">248|Charles Playhouse|Boston|MA|0
251|Paris Hotel|Las Vegas|NV|fred
258|Tropicana Hotel|Las Vegas|NV|fred
300|Kennedy Center Opera House|Washington|DC|0
306|Lyric Opera House|Baltimore|MD|0
308|Metropolitan Opera|New York City|NY|0
  5|Gillette Stadium|Foxborough|MA|5
 22|Quicken Loans Arena|Cleveland|fred|0
101|Progressive Field|Cleveland|fred|43345
...</code></pre>
            <p>Untuk memuat tabel dari file bongkar muat, gunakan perintah COPY dengan opsi NULL AS yang sama. </p>
            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>catatan</h6></div><div class="awsdocs-note-text"><p>Jika Anda mencoba memuat null ke dalam kolom yang didefinisikan sebagai NOT NULL, perintah COPY gagal.</p></div></div>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">create table loadvenuenulls (like venue);

copy loadvenuenulls from 's3://mybucket/nulls/'
iam_role 'arn:aws:iam::0123456789012:role/MyRedshiftRole'
null as 'fred';</code></pre>
            <p>Untuk memverifikasi bahwa kolom berisi null, bukan hanya string kosong, pilih dari LOADVENUENULLS dan filter untuk null.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql "><code class="userinput">select * from loadvenuenulls where venuestate is null or venueseats is null;</code>
<code class="computeroutput" copy="false">
 venueid |        venuename         | venuecity | venuestate | venueseats
---------+--------------------------+-----------+------------+------------
      72 | Cleveland Browns Stadium | Cleveland |            |      73200
     253 | Mirage Hotel             | Las Vegas | NV         |
     255 | Venetian Hotel           | Las Vegas | NV         |
      22 | Quicken Loans Arena      | Cleveland |            |          0
     101 | Progressive Field        | Cleveland |            |      43345
     251 | Paris Hotel              | Las Vegas | NV         |

...</code></code></pre>
            <p>Anda dapat MEMBONGKAR tabel yang berisi null menggunakan perilaku NULL AS default dan kemudian COPY data kembali ke tabel menggunakan perilaku NULL AS default; namun, setiap bidang non-numerik dalam tabel target berisi string kosong, bukan nol. Secara default UNLOAD mengonversi nol menjadi string kosong (spasi putih atau panjang nol). COPY mengkonversi string kosong ke NULL untuk kolom numerik, tetapi menyisipkan string kosong ke kolom non-numerik. Contoh berikut menunjukkan cara melakukan UNLOAD diikuti oleh COPY menggunakan perilaku NULL AS default. </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">unload ('select * from venue')
to 's3://mybucket/nulls/'
iam_role 'arn:aws:iam::0123456789012:role/MyRedshiftRole' allowoverwrite;

truncate loadvenuenulls;
copy loadvenuenulls from 's3://mybucket/nulls/'
iam_role 'arn:aws:iam::0123456789012:role/MyRedshiftRole';</code></pre>
            <p>Dalam hal ini, ketika Anda memfilter untuk nol, hanya baris di mana VENUESEATS berisi nol. Dimana VENUESTATE berisi nol dalam tabel (VENUE), VENUESTATE dalam tabel target (LOADVENUENULLS) berisi string kosong.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql "><code class="userinput">select * from loadvenuenulls where venuestate is null or venueseats is null;</code>
<code class="computeroutput" copy="false">
 venueid |        venuename         | venuecity | venuestate | venueseats
---------+--------------------------+-----------+------------+------------
     253 | Mirage Hotel             | Las Vegas | NV         |
     255 | Venetian Hotel           | Las Vegas | NV         |
     251 | Paris Hotel              | Las Vegas | NV         |
...</code></code></pre>
            <p>Untuk memuat string kosong ke kolom non-numerik sebagai NULL, sertakan opsi EMTTYASNULL atau BLANKSASNULL. Tidak apa-apa untuk menggunakan keduanya.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">unload ('select * from venue')
to 's3://mybucket/nulls/'
iam_role 'arn:aws:iam::0123456789012:role/MyRedshiftRole' allowoverwrite;

truncate loadvenuenulls;
copy loadvenuenulls from 's3://mybucket/nulls/'
iam_role 'arn:aws:iam::0123456789012:role/MyRedshiftRole' EMPTYASNULL;</code></pre>
            <p>Untuk memverifikasi bahwa kolom berisi NULL, bukan hanya spasi putih atau string kosong, pilih dari LOADVENUENULLS dan filter untuk null.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql "><code class="userinput">select * from loadvenuenulls where venuestate is null or venueseats is null;</code>
<code class="computeroutput" copy="false">
 venueid |        venuename         | venuecity | venuestate | venueseats
---------+--------------------------+-----------+------------+------------
      72 | Cleveland Browns Stadium | Cleveland |            |      73200
     253 | Mirage Hotel             | Las Vegas | NV         |
     255 | Venetian Hotel           | Las Vegas | NV         |
      22 | Quicken Loans Arena      | Cleveland |            |          0
     101 | Progressive Field        | Cleveland |            |      43345
     251 | Paris Hotel              | Las Vegas | NV         |
     ...</code></code></pre>
          
            <h2 id="unload-examples-allowoverwrite">Bongkar menggunakan parameter ALLOWOVERWRITE</h2>
            <p>Secara default, UNLOAD tidak menimpa file yang ada di bucket tujuan. Misalnya, jika Anda menjalankan pernyataan UNLOAD yang sama dua kali tanpa memodifikasi file di bucket tujuan, UNLOAD kedua gagal. Untuk menimpa file yang ada, termasuk file manifes, tentukan opsi ALLOWOVERWRITE.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">unload ('select * from venue')
to 's3://mybucket/venue_pipe_'
iam_role 'arn:aws:iam::0123456789012:role/MyRedshiftRole'
manifest allowoverwrite;</code></pre>
          
            
            <h2 id="unload-examples-manifest-parallel">Bongkar tabel EVENT menggunakan parameter PARALLEL dan MANIFEST</h2>
            <p>Anda dapat MEMBONGKAR tabel secara paralel dan menghasilkan file manifes. File data Amazon S3 semuanya dibuat pada tingkat yang sama dan nama diberi akhiran dengan pola. <code class="code">0000_part_00</code> File manifes berada pada tingkat folder yang sama dengan file data dan berakhiran dengan teks. <code class="code">manifest</code> SQL berikut membongkar tabel EVENT dan membuat file dengan nama dasar <code class="code">parallel</code></p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">unload ('select * from mytickit1.event')
to 's3://my-s3-bucket-name/parallel'
iam_role 'arn:aws:iam::123456789012:role/MyRedshiftRole'
parallel on
manifest;</code></pre>
            <p>Daftar file Amazon S3 mirip dengan yang berikut ini.</p>
            <pre class="programlisting"><div class="code-btn-container"></div><code class="nohighlight">
 Name                       Last modified                        Size                  
 parallel0000_part_00	-   August 2, 2023, 14:54:39 (UTC-07:00) 52.1 KB  
 parallel0001_part_00	-   August 2, 2023, 14:54:39 (UTC-07:00) 53.4 KB
 parallel0002_part_00	-   August 2, 2023, 14:54:39 (UTC-07:00) 52.1 KB
 parallel0003_part_00	-   August 2, 2023, 14:54:39 (UTC-07:00) 51.1 KB
 parallel0004_part_00	-   August 2, 2023, 14:54:39 (UTC-07:00) 54.6 KB
 parallel0005_part_00	-   August 2, 2023, 14:54:39 (UTC-07:00) 53.4 KB
 parallel0006_part_00	-   August 2, 2023, 14:54:39 (UTC-07:00) 54.1 KB
 parallel0007_part_00	-   August 2, 2023, 14:54:39 (UTC-07:00) 55.9 KB
 parallelmanifest       -   August 2, 2023, 14:54:39 (UTC-07:00) 886.0 B                           
</code></pre>
            <p>Konten <code class="code">parallelmanifest</code> file mirip dengan yang berikut ini.</p>
            <pre class="programlisting"><div class="code-btn-container"></div><code class="JSON ">
<span>{</span>
  "entries": [
    <span>{</span>"url":"s3://my-s3-bucket-name/parallel0000_part_00", "meta": <span>{</span> "content_length": 53316 }},
    <span>{</span>"url":"s3://my-s3-bucket-name/parallel0001_part_00", "meta": <span>{</span> "content_length": 54704 }},
    <span>{</span>"url":"s3://my-s3-bucket-name/parallel0002_part_00", "meta": <span>{</span> "content_length": 53326 }},
    <span>{</span>"url":"s3://my-s3-bucket-name/parallel0003_part_00", "meta": <span>{</span> "content_length": 52356 }},
    <span>{</span>"url":"s3://my-s3-bucket-name/parallel0004_part_00", "meta": <span>{</span> "content_length": 55933 }},
    <span>{</span>"url":"s3://my-s3-bucket-name/parallel0005_part_00", "meta": <span>{</span> "content_length": 54648 }},
    <span>{</span>"url":"s3://my-s3-bucket-name/parallel0006_part_00", "meta": <span>{</span> "content_length": 55436 }},
    <span>{</span>"url":"s3://my-s3-bucket-name/parallel0007_part_00", "meta": <span>{</span> "content_length": 57272 }}
  ]
}                         
</code></pre>
          
            
            <h2 id="unload-examples-manifest-serial">Bongkar tabel EVENT menggunakan parameter PARALLEL OFF dan MANIFEST</h2>
            <p>Anda dapat MEMBONGKAR tabel secara serial (PARALLEL OFF) dan menghasilkan file manifes. File data Amazon S3 semuanya dibuat pada tingkat yang sama dan nama diberi akhiran dengan pola. <code class="code">0000</code> File manifes berada pada tingkat folder yang sama dengan file data dan berakhiran dengan teks. <code class="code">manifest</code></p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">unload ('select * from mytickit1.event')
to 's3://my-s3-bucket-name/serial'
iam_role 'arn:aws:iam::123456789012:role/MyRedshiftRole'
parallel off
manifest;</code></pre>
            <p>Daftar file Amazon S3 mirip dengan yang berikut ini.</p>
            <pre class="programlisting"><div class="code-btn-container"></div><code class="nohighlight">
 Name                       Last modified                        Size                  
 serial0000             -   August 2, 2023, 15:54:39 (UTC-07:00) 426.7 KB  
 serialmanifest         -   August 2, 2023, 15:54:39 (UTC-07:00) 120.0 B                           
</code></pre>
            <p>Konten <code class="code">serialmanifest</code> file mirip dengan yang berikut ini.</p>
            <pre class="programlisting"><div class="code-btn-container"></div><code class="JSON ">
<span>{</span>
  "entries": [
    <span>{</span>"url":"s3://my-s3-bucket-name/serial000", "meta": <span>{</span> "content_length": 436991 }}
  ]
}                         
</code></pre>
          
            
            <h2 id="unload-examples-manifest-partition">Bongkar tabel EVENT menggunakan parameter PARTITION BY dan MANIFEST</h2>
            <p>Anda dapat MEMBONGKAR tabel dengan partisi dan menghasilkan file manifes. Folder baru dibuat di Amazon S3 dengan folder partisi anak, dan file data di folder anak dengan pola nama yang mirip dengan. <code class="code">0000_par_00</code> File manifes berada pada tingkat folder yang sama dengan folder anak dengan nama<code class="code">manifest</code>.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">unload ('select * from mytickit1.event')
to 's3://my-s3-bucket-name/partition'
iam_role 'arn:aws:iam::123456789012:role/MyRedshiftRole'
partition by (eventname)
manifest;</code></pre>
            <p>Daftar file Amazon S3 mirip dengan yang berikut ini.</p>
            <pre class="programlisting"><div class="code-btn-container"></div><code class="nohighlight">
 Name                   Type     Last modified                        Size                  
 partition           	Folder	                     
</code></pre>
            <p>Dalam folder adalah <code class="code">partition</code> folder anak dengan nama partisi dan file manifes. Berikut ini adalah bagian bawah daftar folder dalam <code class="code">partition</code> folder, mirip dengan berikut ini.</p>
            <pre class="programlisting"><div class="code-btn-container"></div><code class="nohighlight">
 Name                   Type      Last modified                        Size                  
 ...
 eventname=Zucchero/    Folder 
 eventname=Zumanity/    Folder 
 eventname=ZZ Top/      Folder  
 manifest          	    -	    August 2, 2023, 15:54:39 (UTC-07:00) 467.6 KB                           
</code></pre>
            <p>Dalam <code class="code">eventname=Zucchero/</code> folder adalah file data yang mirip dengan yang berikut ini.</p>
            <pre class="programlisting"><div class="code-btn-container"></div><code class="nohighlight">
 Name               Last modified                        Size                  
 0000_part_00	-   August 2, 2023, 15:59:19 (UTC-07:00) 70.0 B
 0001_part_00	-   August 2, 2023, 15:59:16 (UTC-07:00) 106.0 B
 0002_part_00	-   August 2, 2023, 15:59:15 (UTC-07:00) 70.0 B
 0004_part_00	-   August 2, 2023, 15:59:17 (UTC-07:00) 141.0 B
 0006_part_00	-   August 2, 2023, 15:59:16 (UTC-07:00) 35.0 B
 0007_part_00	-   August 2, 2023, 15:59:19 (UTC-07:00) 108.0 B                       
</code></pre>
            <p>Bagian bawah konten <code class="code">manifest</code> file mirip dengan yang berikut ini.</p>
            <pre class="programlisting"><div class="code-btn-container"></div><code class="JSON ">
<span>{</span>
  "entries": [
    ...
    <span>{</span>"url":"s3://my-s3-bucket-name/partition/eventname=Zucchero/0007_part_00", "meta": <span>{</span> "content_length": 108 }},
    <span>{</span>"url":"s3://my-s3-bucket-name/partition/eventname=Zumanity/0007_part_00", "meta": <span>{</span> "content_length": 72 }}
  ]
}                         
</code></pre>
          
            
            <h2 id="unload-examples-manifest-maxsize">Bongkar tabel EVENT menggunakan parameter MAXFILESIZE, ROWGROUPSIZE, dan MANIFEST</h2>
            <p>Anda dapat MEMBONGKAR tabel secara paralel dan menghasilkan file manifes. File data Amazon S3 semuanya dibuat pada tingkat yang sama dan nama diberi akhiran dengan pola. <code class="code">0000_part_00</code> File data Parket yang dihasilkan dibatasi hingga 256 MB dan ukuran grup baris 128 MB. File manifes berada pada tingkat folder yang sama dengan file data dan berakhiran dengan file. <code class="code">manifest</code></p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">unload ('select * from mytickit1.event')
to 's3://my-s3-bucket-name/eventsize'
iam_role 'arn:aws:iam::123456789012:role/MyRedshiftRole'
maxfilesize 256 MB
rowgroupsize 128 MB
parallel on
parquet
manifest;</code></pre>
            <p>Daftar file Amazon S3 mirip dengan yang berikut ini.</p>
            <pre class="programlisting"><div class="code-btn-container"></div><code class="nohighlight">
 Name                            Type      Last modified                        Size 
 eventsize0000_part_00.parquet	parquet	August 2, 2023, 17:35:21 (UTC-07:00) 24.5 KB
 eventsize0001_part_00.parquet	parquet	August 2, 2023, 17:35:21 (UTC-07:00) 24.8 KB
 eventsize0002_part_00.parquet	parquet	August 2, 2023, 17:35:21 (UTC-07:00) 24.4 KB
 eventsize0003_part_00.parquet	parquet	August 2, 2023, 17:35:21 (UTC-07:00) 24.0 KB
 eventsize0004_part_00.parquet	parquet	August 2, 2023, 17:35:21 (UTC-07:00) 25.3 KB
 eventsize0005_part_00.parquet	parquet	August 2, 2023, 17:35:21 (UTC-07:00) 24.8 KB
 eventsize0006_part_00.parquet	parquet	August 2, 2023, 17:35:21 (UTC-07:00) 25.0 KB
 eventsize0007_part_00.parquet	parquet	August 2, 2023, 17:35:21 (UTC-07:00) 25.6 KB
 eventsizemanifest                 -       August 2, 2023, 17:35:21 (UTC-07:00) 958.0 B                        
</code></pre>
            <p>Konten <code class="code">eventsizemanifest</code> file mirip dengan yang berikut ini.</p>
            <pre class="programlisting"><div class="code-btn-container"></div><code class="JSON ">
<span>{</span>
  "entries": [
    <span>{</span>"url":"s3://my-s3-bucket-name/eventsize0000_part_00.parquet", "meta": <span>{</span> "content_length": 25130 }},
    <span>{</span>"url":"s3://my-s3-bucket-name/eventsize0001_part_00.parquet", "meta": <span>{</span> "content_length": 25428 }},
    <span>{</span>"url":"s3://my-s3-bucket-name/eventsize0002_part_00.parquet", "meta": <span>{</span> "content_length": 25025 }},
    <span>{</span>"url":"s3://my-s3-bucket-name/eventsize0003_part_00.parquet", "meta": <span>{</span> "content_length": 24554 }},
    <span>{</span>"url":"s3://my-s3-bucket-name/eventsize0004_part_00.parquet", "meta": <span>{</span> "content_length": 25918 }},
    <span>{</span>"url":"s3://my-s3-bucket-name/eventsize0005_part_00.parquet", "meta": <span>{</span> "content_length": 25362 }},
    <span>{</span>"url":"s3://my-s3-bucket-name/eventsize0006_part_00.parquet", "meta": <span>{</span> "content_length": 25647 }},
    <span>{</span>"url":"s3://my-s3-bucket-name/eventsize0007_part_00.parquet", "meta": <span>{</span> "content_length": 26256 }}
  ]
}                       
</code></pre>
         <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Awas" /> <strong>Javascript dinonaktifkan atau tidak tersedia di browser Anda.</strong></p><p>Untuk menggunakan Dokumentasi AWS, Javascript harus diaktifkan. Lihat halaman Bantuan browser Anda untuk petunjuk.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Konvensi Dokumen</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_UNLOAD.html">MEMBONGKAR</div><div id="next" class="next-link" accesskey="n" href="./r_UPDATE.html">UPDATE</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Apakah halaman ini membantu Anda? - Ya</div><div class="content"><p>Terima kasih telah memberitahukan bahwa hasil pekerjaan kami sudah baik.</p><p>Jika Anda memiliki waktu luang, beri tahu kami aspek apa saja yang sudah bagus, agar kami dapat menerapkannya secara lebih luas.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Umpan Balik" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_UNLOAD_command_examples.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Apakah halaman ini membantu Anda? - Tidak</div><div class="content"><p>Terima kasih telah memberi tahu kami bahwa halaman ini perlu ditingkatkan. Maaf karena telah mengecewakan Anda.</p><p>Jika Anda memiliki waktu luang, beri tahu kami bagaimana dokumentasi ini dapat ditingkatkan.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Umpan Balik" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_UNLOAD_command_examples.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>