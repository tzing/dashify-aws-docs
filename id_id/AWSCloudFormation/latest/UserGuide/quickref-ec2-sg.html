<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="id-ID"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Kelola grup keamanan dengan AWS CloudFormation - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="quickref-ec2-sg" /><meta name="default_state" content="quickref-ec2-sg" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" /><meta name="description" content="Gunakan contoh cuplikan templat ini untuk mengelola grup keamanan dan instans Amazon EC2. AWS CloudFormation" /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Panduan Pengguna" /><meta name="abstract" content="Membuat dan mengelola penyebaran AWS infrastruktur dapat diprediksi dan berulang kali menggunakan Panduan Pengguna AWS CloudFormation ini." /><meta name="guide-locale" content="id_id" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Panduan Pengguna" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Panduan Pengguna" /><meta id="panorama-serviceConsolePage" value="Kelola grup keamanan dengan AWS CloudFormation" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Kelola grup keamanan dengan AWS CloudFormation - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,penyediaan sumber daya,konfigurasi sumber daya,manajemen infrastruktur,CloudFormer,CloudFormation tumpukan,CloudFormation stackset,CloudFormation Template,ubah set" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Panduan Pengguna",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Bekerja dengan templat AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/template-guide.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Cuplikan templat",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/CHAP_TemplateQuickRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Cuplikan templat Amazon EC2 CloudFormation",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/quickref-ec2.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Kelola grup keamanan dengan AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/quickref-ec2.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Dokumentasi</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Panduan Pengguna</a></div><div id="page-toc-src"><a href="#quickref-ec2-instances-associate-security-group">Kaitkan instans Amazon EC2 dengan grup keamanan</a><a href="#quickref-ec2-instances-ingress">Buat grup keamanan dengan aturan masuk</a><a href="#scenario-ec2-security-group-elbingress">Buat Elastic Load Balancer dengan aturan masuknya grup keamanan</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter><filter label="" id=""></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Terjemahan disediakan oleh mesin penerjemah. Jika konten terjemahan yang diberikan bertentangan dengan versi bahasa Inggris aslinya, utamakan versi bahasa Inggris.</p></awsui-alert><h1 class="topictitle" id="quickref-ec2-sg">Kelola grup keamanan dengan AWS CloudFormation</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Cuplikan berikut menunjukkan cara menggunakan AWS CloudFormation untuk mengelola grup keamanan dan instans Amazon EC2 untuk mengontrol akses ke sumber daya Anda. AWS</p><div class="highlights" id="inline-topiclist"><h6>Kategori Snippet</h6><ul><li><a href="#quickref-ec2-instances-associate-security-group">Kaitkan instans Amazon EC2 dengan grup keamanan</a></li><li><a href="#quickref-ec2-instances-ingress">Buat grup keamanan dengan aturan masuk</a></li><li><a href="#scenario-ec2-security-group-elbingress">Buat Elastic Load Balancer dengan aturan masuknya grup keamanan</a></li></ul></div>
            <h2 id="quickref-ec2-instances-associate-security-group">Kaitkan instans Amazon EC2 dengan grup keamanan</h2>
            <p>Contoh cuplikan berikut menunjukkan cara mengaitkan instans Amazon EC2 dengan grup keamanan Amazon VPC default yang digunakan. AWS CloudFormation</p>
            <div class="highlights" id="inline-topiclist"><h6>Contoh potongan</h6><ul><li><a href="#using-cfn-getatt-default-values">Kaitkan instans Amazon EC2 dengan grup keamanan VPC default</a></li><li><a href="#scenario-ec2-volumeattachment">Membuat instans Amazon EC2 dengan volume terlampir dan grup keamanan</a></li></ul></div>
             
                <h3 id="using-cfn-getatt-default-values">Kaitkan instans Amazon EC2 dengan grup keamanan VPC default</h3>
                <p>Cuplikan berikut membuat Amazon VPC, subnet dalam VPC, dan instans Amazon EC2. VPC dibuat menggunakan sumber daya <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpc.html">AWS: :EC2: :VPC</a>. Rentang alamat IP untuk VPC didefinisikan dalam template yang lebih besar dan direferensikan oleh parameter. <code class="code">MyVPCCIDRRange</code></p>
                <p>Subnet dibuat dalam VPC menggunakan sumber daya <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-subnet.html">AWS: :EC2::</a> Subnet. Subnet dikaitkan dengan VPC, yang direferensikan sebagai. <code class="code">MyVPC</code></p>
                <p>Instans EC2 diluncurkan dalam VPC dan subnet menggunakan sumber daya. <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-instance.html">AWS::EC2::Instance</a> Resource ini menentukan Amazon Machine Image (AMI) yang akan digunakan untuk meluncurkan instance, subnet tempat instance akan berjalan, dan grup keamanan yang akan diasosiasikan dengan instance. <code class="code">Fn::FindInMap</code>Fungsi ini digunakan untuk mengambil nilai dari <code class="code">AWSRegionToAMI</code> pemetaan yang didefinisikan dalam template untuk menentukan sumber <code class="code">ImageId</code> daya. <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-instance.html">AWS::EC2::Instance</a> </p>
                <p>ID grup keamanan diperoleh dengan menggunakan <code class="code">Fn::GetAtt</code> fungsi, yang mengambil grup keamanan default dari <code class="code">MyVPC</code> sumber daya. </p>
                <p>Instance ditempatkan dalam <code class="code">MySubnet</code> sumber daya yang ditentukan dalam cuplikan. </p>

                <p>Saat Anda membuat VPC menggunakanAWS CloudFormation, AWS secara otomatis membuat sumber daya default dalam VPC, termasuk grup keamanan default. Namun, saat Anda menentukan VPC dalam AWS CloudFormation templat, Anda mungkin tidak memiliki akses ke ID sumber daya default ini saat membuat templat. Untuk mengakses dan menggunakan sumber daya default yang ditentukan dalam template, Anda dapat menggunakan fungsi intrinsik seperti. <a href="./intrinsic-function-reference-getatt.html">Fn::GetAtt</a> Fungsi ini memungkinkan Anda untuk bekerja dengan sumber daya default yang dibuat secara otomatis olehAWS CloudFormation.</p>
                <div id="JSON" name="JSON" class="section langfilter">
                    <h4 id="quickref-ec2-example-15.json">JSON</h4>

                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"MyVPC": <span>{</span>
    "Type": "AWS::EC2::VPC",
    "Properties": <span>{</span>
        "CidrBlock": <span>{</span>
            "Ref": "MyVPCCIDRRange"
        },
        "EnableDnsSupport": false,
        "EnableDnsHostnames": false,
        "InstanceTenancy": "default"
    }
},
"MySubnet": <span>{</span>
    "Type": "AWS::EC2::Subnet",
    "Properties": <span>{</span>
        "CidrBlock": <span>{</span>
            "Ref": "MyVPCCIDRRange"
        },
        "VpcId": <span>{</span>
            "Ref": "MyVPC"
        }
    }
},
"MyInstance": <span>{</span>
    "Type": "AWS::EC2::Instance",
    "Properties": <span>{</span>
        "ImageId": <span>{</span>
            "Fn::FindInMap": [
                "AWSRegionToAMI",
                <span>{</span>
                    "Ref": "AWS::Region"
                },
                "64"
            ]
        },
        "SecurityGroupIds": [
            <span>{</span>
                "Fn::GetAtt": [
                    "MyVPC",
                    "DefaultSecurityGroup"
                ]
            }
        ],
        "SubnetId": <span>{</span>
            "Ref": "MySubnet"
        }
    }
}</code></pre>
                </div>
                <div id="YAML" name="YAML" class="section langfilter">
                    <h4 id="quickref-ec2-example-15.yaml">YAML</h4>

                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">MyVPC:
  Type: AWS::EC2::VPC
  Properties:
    CidrBlock:
      Ref: MyVPCCIDRRange
    EnableDnsSupport: false
    EnableDnsHostnames: false
    InstanceTenancy: default
MySubnet:
  Type: AWS::EC2::Subnet
  Properties:
    CidrBlock:
      Ref: MyVPCCIDRRange
    VpcId:
      Ref: MyVPC
MyInstance:
  Type: AWS::EC2::Instance
  Properties:
    ImageId:
      Fn::FindInMap:
        - AWSRegionToAMI
        - Ref: AWS::Region
        - "64"
    SecurityGroupIds:
      - Fn::GetAtt:
          - MyVPC
          - DefaultSecurityGroup
    SubnetId:
      Ref: MySubnet</code></pre>
                </div>
             
             
                <h3 id="scenario-ec2-volumeattachment">Membuat instans Amazon EC2 dengan volume terlampir dan grup keamanan</h3>
                <p>Cuplikan berikut membuat instans Amazon EC2 menggunakan sumber daya, <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-instance.html">AWS::EC2::Instance</a>yang diluncurkan dari AMI yang ditunjuk. Instance ini dikaitkan dengan grup keamanan yang memungkinkan lalu lintas SSH masuk pada port 22 dari alamat IP tertentu, menggunakan sumber daya. <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-security-group.html">AWS::EC2::SecurityGroup</a> Ini menciptakan volume Amazon EBS 100 GB menggunakan <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-volume.html">AWS::EC2::Volume</a>sumber daya. Volume dibuat di zona ketersediaan yang sama dengan instance, seperti yang ditentukan oleh <code class="code">GetAtt</code> fungsi, dan dipasang ke instance di <code class="code">/dev/sdh</code> perangkat.</p>
                <p>Untuk informasi selengkapnya tentang membuat volume Amazon EBS, lihat <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-creating-volume.html">Membuat volume Amazon EBS</a>.</p>
                <div id="JSON" name="JSON" class="section langfilter">
                    <h4 id="quickref-ec2-example-14.json">JSON</h4>

                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Ec2Instance": <span>{</span>
    "Type": "AWS::EC2::Instance",
    "Properties": <span>{</span>
        "SecurityGroups": [
            <span>{</span>
                "Ref": "InstanceSecurityGroup"
            }
        ],
        "ImageId": "<code class="replaceable">ami-1234567890abcdef0</code>"
    }
},
"InstanceSecurityGroup": <span>{</span>
    "Type": "AWS::EC2::SecurityGroup",
    "Properties": <span>{</span>
        "GroupDescription": "Enable SSH access via port 22",
        "SecurityGroupIngress": [
            <span>{</span>
                "IpProtocol": "tcp",
                "FromPort": "22",
                "ToPort": "22",
                "CidrIp": "<code class="replaceable">192.0.2.0/24</code>"
            }
        ]
    }
},
"NewVolume": <span>{</span>
    "Type": "AWS::EC2::Volume",
    "Properties": <span>{</span>
        "Size": "100",
        "AvailabilityZone": <span>{</span>
            "Fn::GetAtt": [
                "Ec2Instance",
                "AvailabilityZone"
            ]
        }
    }
},
"MountPoint": <span>{</span>
    "Type": "AWS::EC2::VolumeAttachment",
    "Properties": <span>{</span>
        "InstanceId": <span>{</span>
            "Ref": "Ec2Instance"
        },
        "VolumeId": <span>{</span>
            "Ref": "NewVolume"
        },
        "Device": "/dev/sdh"
    }
}</code></pre>
                </div>
                <div id="YAML" name="YAML" class="section langfilter">
                    <h4 id="quickref-ec2-example-14.yaml">YAML</h4>

                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Ec2Instance:
  Type: AWS::EC2::Instance
  Properties:
    SecurityGroups:
      - !Ref InstanceSecurityGroup
    ImageId: <code class="replaceable">ami-1234567890abcdef0</code>
InstanceSecurityGroup:
  Type: AWS::EC2::SecurityGroup
  Properties:
    GroupDescription: Enable SSH access via port 22
    SecurityGroupIngress:
      - IpProtocol: tcp
        FromPort: 22
        ToPort: 22
        CidrIp: <code class="replaceable">192.0.2.0/24</code>
NewVolume:
  Type: AWS::EC2::Volume
  Properties:
    Size: 100
    AvailabilityZone: !GetAtt [Ec2Instance, AvailabilityZone]
MountPoint:
  Type: AWS::EC2::VolumeAttachment
  Properties:
    InstanceId: !Ref Ec2Instance
    VolumeId: !Ref NewVolume
    Device: /dev/sdh</code></pre>
                </div>
             


         
            <h2 id="quickref-ec2-instances-ingress">Buat grup keamanan dengan aturan masuk</h2>
            <p>Contoh cuplikan berikut menunjukkan cara mengkonfigurasi grup keamanan dengan aturan masuk tertentu menggunakan. AWS CloudFormation</p>
            <div class="highlights" id="inline-topiclist"><h6>Cuplikan</h6><ul><li><a href="#scenario-ec2-security-group-rule">Buat grup keamanan dengan aturan ingress untuk akses SSH dan HTTP</a></li><li><a href="#scenario-ec2-security-group-two-ports">Buat grup keamanan dengan aturan ingress untuk akses HTTP dan SSH dari rentang CIDR yang ditentukan</a></li><li><a href="#scenario-ec2-security-group-ingress">Buat grup keamanan referensi silang dengan aturan masuk</a></li></ul></div>
             
                <h3 id="scenario-ec2-security-group-rule">Buat grup keamanan dengan aturan ingress untuk akses SSH dan HTTP</h3>

                <p>Cuplikan berikut menjelaskan dua aturan masuknya grup keamanan menggunakan sumber daya. <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-security-group.html">AWS::EC2::SecurityGroup</a> Aturan ingress pertama memungkinkan SSH (port 22) akses dari grup keamanan yang ada bernama<code class="code">MyAdminSecurityGroup</code>, yang dimiliki oleh AWS akun dengan nomor akun. <code class="code">1111-2222-3333</code> Aturan ingress kedua memungkinkan akses HTTP (port 80) dari grup keamanan yang berbeda bernama<code class="code">MySecurityGroupCreatedInCFN</code>, yang dibuat dalam template yang sama. <code class="code">Ref</code>Fungsi ini digunakan untuk mereferensikan nama logis dari grup keamanan yang dibuat dalam template yang sama. </p>
                <p>Dalam aturan ingress pertama, Anda harus menambahkan nilai untuk <code class="code">SourceSecurityGroupOwnerId</code> properti <code class="code">SourceSecurityGroupName</code> dan properti. Dalam aturan ingress kedua, <code class="code">MySecurityGroupCreatedInCFNTemplate</code> referensi grup keamanan yang berbeda, yang dibuat dalam template yang sama. Verifikasi bahwa nama logis <code class="code">MySecurityGroupCreatedInCFNTemplate</code> cocok dengan nama logis sebenarnya dari sumber daya grup keamanan yang Anda tentukan dalam templat yang lebih besar. </p>
                <p>Untuk informasi selengkapnya tentang grup keamanan, lihat grup <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-security-groups.html">keamanan Amazon EC2 untuk instans Linux atau grup keamanan</a> <a href="https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ec2-security-groups.html">Amazon EC2</a> untuk instans Windows.</p>
                <div id="JSON" name="JSON" class="section langfilter">
                    <h4 id="quickref-ec2-example-10.json">JSON</h4>

                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"SecurityGroup": <span>{</span>
    "Type": "AWS::EC2::SecurityGroup",
    "Properties": <span>{</span>
        "GroupDescription": "Allow connections from specified source security group",
        "SecurityGroupIngress": [
            <span>{</span>
                "IpProtocol": "tcp",
                "FromPort": "22",
                "ToPort": "22",
                "SourceSecurityGroupName": "MyAdminSecurityGroup",
                "SourceSecurityGroupOwnerId": "<code class="replaceable">1111-2222-3333</code>"
            },
            <span>{</span>
                "IpProtocol": "tcp",
                "FromPort": "80",
                "ToPort": "80",
                "SourceSecurityGroupName": <span>{</span>
                    "Ref": "MySecurityGroupCreatedInCFNTemplate"
                }
            }
        ]
    }
}</code></pre>
                </div>
                <div id="YAML" name="YAML" class="section langfilter">
                    <h4 id="quickref-ec2-example-10.yaml">YAML</h4>

                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">SecurityGroup:
  Type: 'AWS::EC2::SecurityGroup'
  Properties:
    GroupDescription: Allow connections from specified source security group
    SecurityGroupIngress:
      - IpProtocol: tcp
        FromPort: '22'
        ToPort: '22'
        SourceSecurityGroupName: MyAdminSecurityGroup
        SourceSecurityGroupOwnerId: '<code class="replaceable">1111-2222-3333</code>'
      - IpProtocol: tcp
        FromPort: '80'
        ToPort: '80'
        SourceSecurityGroupName:
          Ref: MySecurityGroupCreatedInCFNTemplate</code></pre>
                </div>
             
             
                <h3 id="scenario-ec2-security-group-two-ports">Buat grup keamanan dengan aturan ingress untuk akses HTTP dan SSH dari rentang CIDR yang ditentukan</h3>

                <p>Cuplikan berikut membuat grup keamanan untuk instans Amazon EC2 dengan dua aturan masuk. Aturan masuk memungkinkan lalu lintas TCP masuk pada port yang ditentukan dari rentang CIDR yang ditentukan. <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-security-group.html">AWS::EC2::SecurityGroup</a>Sumber daya digunakan untuk menentukan aturan. Anda harus menentukan protokol untuk setiap aturan. Untuk TCP, Anda harus menentukan port atau rentang port. Jika Anda tidak menentukan grup keamanan sumber atau rentang CIDR, tumpukan akan berhasil diluncurkan, tetapi aturan tidak akan diterapkan ke grup keamanan. </p>
                <p>Untuk informasi selengkapnya tentang grup keamanan, lihat grup <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-security-groups.html">keamanan Amazon EC2 untuk instans Linux atau grup keamanan</a> <a href="https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ec2-security-groups.html">Amazon EC2</a> untuk instans Windows.</p>
                <div id="" name="" class="section langfilter">
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"ServerSecurityGroup": <span>{</span>
  "Type": "AWS::EC2::SecurityGroup",
  "Properties": <span>{</span>
    "GroupDescription": "Allow connections from specified CIDR ranges",
    "SecurityGroupIngress": [
      <span>{</span>
        "IpProtocol": "tcp",
        "FromPort": "80",
        "ToPort": "80",
        "CidrIp": "<code class="replaceable">192.0.2.0/24</code>"
      },
      <span>{</span>
        "IpProtocol": "tcp",
        "FromPort": "22",
        "ToPort": "22",
        "CidrIp": "<code class="replaceable">192.0.2.0/24</code>"
      }
    ]
  }
}</code></pre>
                </div>
                <div id="YAML" name="YAML" class="section langfilter">
                    <h4 id="quickref-ec2-example-9.yaml">YAML</h4>

                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">ServerSecurityGroup:
  Type: AWS::EC2::SecurityGroup
  Properties:
    GroupDescription: Allow connections from specified CIDR ranges
    SecurityGroupIngress:
      - IpProtocol: tcp
        FromPort: 80
        ToPort: 80
        CidrIp: <code class="replaceable">192.0.2.0/24</code>
      - IpProtocol: tcp
        FromPort: 22
        ToPort: 22
        CidrIp: <code class="replaceable">192.0.2.0/24</code></code></pre>
                </div>
             
             
                <h3 id="scenario-ec2-security-group-ingress">Buat grup keamanan referensi silang dengan aturan masuk</h3>

                <p>Cuplikan berikut menggunakan <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-security-group.html">AWS::EC2::SecurityGroup</a>sumber daya untuk membuat dua grup keamanan Amazon EC2, dan. <code class="code">SGroup1</code> <code class="code">SGroup2</code> Aturan Ingress yang memungkinkan komunikasi antara dua kelompok keamanan dibuat dengan menggunakan sumber daya <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-security-group-ingress.html">AWS::EC2::SecurityGroupIngress</a>. <code class="code">SGroup1Ingress</code>menetapkan aturan ingress untuk <code class="code">SGroup1</code> itu memungkinkan lalu lintas TCP masuk pada port 80 dari grup keamanan sumber,. <code class="code">SGroup2</code> <code class="code">SGroup2Ingress</code>menetapkan aturan ingress untuk <code class="code">SGroup2</code> itu memungkinkan lalu lintas TCP masuk pada port 80 dari grup keamanan sumber,. <code class="code">SGroup1</code> </p>
                <div id="JSON" name="JSON" class="section langfilter">
                    <h4 id="quickref-ec2-example-12.json">JSON</h4>

                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"SGroup1": <span>{</span>
    "Type": "AWS::EC2::SecurityGroup",
    "Properties": <span>{</span>
        "GroupDescription": "EC2 instance access"
    }
},
"SGroup2": <span>{</span>
    "Type": "AWS::EC2::SecurityGroup",
    "Properties": <span>{</span>
        "GroupDescription": "EC2 instance access"
    }
},
"SGroup1Ingress": <span>{</span>
    "Type": "AWS::EC2::SecurityGroupIngress",
    "Properties": <span>{</span>
        "GroupName": <span>{</span>
            "Ref": "SGroup1"
        },
        "IpProtocol": "tcp",
        "ToPort": "80",
        "FromPort": "80",
        "SourceSecurityGroupName": <span>{</span>
            "Ref": "SGroup2"
        }
    }
},
"SGroup2Ingress": <span>{</span>
    "Type": "AWS::EC2::SecurityGroupIngress",
    "Properties": <span>{</span>
        "GroupName": <span>{</span>
            "Ref": "SGroup2"
        },
        "IpProtocol": "tcp",
        "ToPort": "80",
        "FromPort": "80",
        "SourceSecurityGroupName": <span>{</span>
            "Ref": "SGroup1"
        }
    }
}</code></pre>
                </div>
                <div id="YAML" name="YAML" class="section langfilter">
                    <h4 id="quickref-ec2-example-12.yaml">YAML</h4>

                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">SGroup1:
  Type: AWS::EC2::SecurityGroup
  Properties:
    GroupDescription: EC2 Instance access
SGroup2:
  Type: AWS::EC2::SecurityGroup
  Properties:
    GroupDescription: EC2 Instance access
SGroup1Ingress:
  Type: AWS::EC2::SecurityGroupIngress
  Properties:
    GroupName: !Ref SGroup1
    IpProtocol: tcp
    ToPort: 80
    FromPort: 80
    SourceSecurityGroupName: !Ref SGroup2
SGroup2Ingress:
  Type: AWS::EC2::SecurityGroupIngress
  Properties:
    GroupName: !Ref SGroup2
    IpProtocol: tcp
    ToPort: 80
    FromPort: 80
    SourceSecurityGroupName: !Ref SGroup1</code></pre>
                </div>
             
         
            <h2 id="scenario-ec2-security-group-elbingress">Buat Elastic Load Balancer dengan aturan masuknya grup keamanan</h2>

            <p>Template berikut membuat <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-elb.html">AWS::ElasticLoadBalancing::LoadBalancer</a>sumber daya di zona ketersediaan yang ditentukan. <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-elb.html">AWS::ElasticLoadBalancing::LoadBalancer</a>Sumber daya dikonfigurasi untuk mendengarkan pada port 80 untuk lalu lintas HTTP dan permintaan langsung ke instance juga pada port 80. Elastic Load Balancer bertanggung jawab untuk menyeimbangkan beban lalu lintas HTTP yang masuk di antara instans.</p>
            <p> Selain itu, template ini menghasilkan <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-security-group.html">AWS::EC2::SecurityGroup</a>sumber daya yang terkait dengan penyeimbang beban. Grup keamanan ini dibuat dengan aturan masuk tunggal, digambarkan sebagai<code class="code">ELB
                    ingress group</code>, yang memungkinkan lalu lintas TCP masuk pada port 80. Sumber untuk aturan ingress ini didefinisikan menggunakan <code class="code">Fn::GetAtt</code> fucntion untuk mengambil atribut dari sumber daya penyeimbang beban. <code class="code">SourceSecurityGroupOwnerId</code>digunakan <code class="code">Fn::GetAtt</code> untuk mendapatkan kelompok keamanan sumber dari penyeimbang beban. <code class="code">OwnerAlias</code> <code class="code">SourceSecurityGroupName</code>digunakan <code class="code">Fn::Getatt</code> untuk mendapatkan kelompok keamanan sumber ELB. <code class="code">GroupName</code> </p>
            <p>Pengaturan ini memastikan komunikasi yang aman antara ELB dan instans. </p>
            <p>Untuk informasi selengkapnya tentang load balancing, lihat Panduan Pengguna <em><a href="https://docs.aws.amazon.com/elasticloadbalancing/latest/userguide/what-is-load-balancing.html">Elastic Load Balancing</a></em>.</p>

            <div id="JSON" name="JSON" class="section langfilter">
                <h3 id="quickref-ec2-example-11.json">JSON</h3>

                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "AWSTemplateFormatVersion": "2010-09-09",
    "Resources": <span>{</span>
        "MyELB": <span>{</span>
            "Type": "AWS::ElasticLoadBalancing::LoadBalancer",
            "Properties": <span>{</span>
                "AvailabilityZones": [
                    "<code class="replaceable">aa-example-1a</code>"
                ],
                "Listeners": [
                    <span>{</span>
                        "LoadBalancerPort": "80",
                        "InstancePort": "80",
                        "Protocol": "HTTP"
                    }
                ]
            }
        },
        "MyELBIngressGroup": <span>{</span>
            "Type": "AWS::EC2::SecurityGroup",
            "Properties": <span>{</span>
                "GroupDescription": "ELB ingress group",
                "SecurityGroupIngress": [
                    <span>{</span>
                        "IpProtocol": "tcp",
                        "FromPort": 80,
                        "ToPort": 80,
                        "SourceSecurityGroupOwnerId": <span>{</span>
                            "Fn::GetAtt": [
                                "MyELB",
                                "SourceSecurityGroup.OwnerAlias"
                            ]
                        },
                        "SourceSecurityGroupName": <span>{</span>
                            "Fn::GetAtt": [
                                "MyELB",
                                "SourceSecurityGroup.GroupName"
                            ]
                        }
                    }
                ]
            }
        }
    }
}</code></pre>
            </div>


            <div id="YAML" name="YAML" class="section langfilter">
                <h3 id="quickref-ec2-example-11.yaml">YAML</h3>

                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">AWSTemplateFormatVersion: '2010-09-09'
Resources:
  MyELB:
    Type: 'AWS::ElasticLoadBalancing::LoadBalancer'
    Properties:
      AvailabilityZones:
        - <code class="replaceable">aa-example-1a</code>
      Listeners:
        - LoadBalancerPort: '80'
          InstancePort: '80'
          Protocol: HTTP
  MyELBIngressGroup:
    Type: 'AWS::EC2::SecurityGroup'
    Properties:
      GroupDescription: ELB ingress group
      SecurityGroupIngress:
        - IpProtocol: tcp
          FromPort: '80'
          ToPort: '80'
          SourceSecurityGroupOwnerId:
            Fn::GetAtt:
              - MyELB
              - SourceSecurityGroup.OwnerAlias
          SourceSecurityGroupName:
            Fn::GetAtt:
              - MyELB
              - SourceSecurityGroup.GroupName</code></pre>
            </div>
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Awas" /> <strong>Javascript dinonaktifkan atau tidak tersedia di browser Anda.</strong></p><p>Untuk menggunakan Dokumentasi AWS, Javascript harus diaktifkan. Lihat halaman Bantuan browser Anda untuk petunjuk.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Konvensi Dokumen</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./quickref-ec2-launch-templates.html">Buat template peluncuran</div><div id="next" class="next-link" accesskey="n" href="./quickref-ec2-elastic-ip.html">Alokasikan IP elastis</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Apakah halaman ini membantu Anda? - Ya</div><div class="content"><p>Terima kasih telah memberitahukan bahwa hasil pekerjaan kami sudah baik.</p><p>Jika Anda memiliki waktu luang, beri tahu kami aspek apa saja yang sudah bagus, agar kami dapat menerapkannya secara lebih luas.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Umpan Balik" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Apakah halaman ini membantu Anda? - Tidak</div><div class="content"><p>Terima kasih telah memberi tahu kami bahwa halaman ini perlu ditingkatkan. Maaf karena telah mengecewakan Anda.</p><p>Jika Anda memiliki waktu luang, beri tahu kami bagaimana dokumentasi ini dapat ditingkatkan.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Umpan Balik" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>