<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="id-ID"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>AWS::CloudFormation::Init - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="aws-resource-init" /><meta name="default_state" content="aws-resource-init" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" /><meta name="description" content="Sertakan metadata pada instans Amazon EC2 untuk skrip pembantu cfn-init dengan menggunakan jenis sumber daya. AWS::CloudFormation::Init" /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Panduan Pengguna" /><meta name="abstract" content="Membuat dan mengelola penyebaran AWS infrastruktur dapat diprediksi dan berulang kali menggunakan Panduan Pengguna AWS CloudFormation ini." /><meta name="guide-locale" content="id_id" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Panduan Pengguna" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Panduan Pengguna" /><meta id="panorama-serviceConsolePage" value="AWS::CloudFormation::Init" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>AWS::CloudFormation::Init - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,penyediaan sumber daya,konfigurasi sumber daya,manajemen infrastruktur,CloudFormer,CloudFormation tumpukan,CloudFormation stackset,CloudFormation Template,ubah set" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Panduan Pengguna",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Bekerja dengan templat AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/template-guide.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Anatomi templat",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/template-anatomy.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Metadata",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/metadata-section-structure.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "AWS::CloudFormation::Init",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/metadata-section-structure.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Dokumentasi</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Panduan Pengguna</a></div><div id="page-toc-src"><a href="#aws-resource-cloudformation-init-syntax">Sintaks</a><a href="#aws-resource-init-configsets">Set konfigurasi</a><a href="#aws-resource-init-commands">Perintah</a><a href="#aws-resource-init-files">Berkas</a><a href="#aws-resource-init-groups">Grup</a><a href="#aws-resource-init-packages">Paket</a><a href="#aws-resource-init-services">Layanan </a><a href="#aws-resource-init-sources">Sumber</a><a href="#aws-resource-init-users">Pengguna</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Terjemahan disediakan oleh mesin penerjemah. Jika konten terjemahan yang diberikan bertentangan dengan versi bahasa Inggris aslinya, utamakan versi bahasa Inggris.</p></awsui-alert><h1 class="topictitle" id="aws-resource-init"><code class="code">AWS::CloudFormation::Init</code></h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Gunakan <code class="code">AWS::CloudFormation::Init</code> tipe untuk menyertakan metadata pada instans Amazon EC2 untuk skrip pembantu cfn-init. Jika templat Anda memanggil skrip cfn-init, skrip mencari metadata sumber daya yang di-root di <code class="code">AWS::CloudFormation::Init</code> kunci metadata. Untuk informasi selengkapnya tentang cfn-init, lihat <a href="./cfn-init.html">cfn-init</a>.</p><p>cfn-init men-support semua jenis metadata untuk sistem Linux. Mendukung jenis metadata untuk Windows dengan kondisi yang dijelaskan di bagian yang mengikuti.</p><p>Sebagai contoh penggunaan <code class="code">AWS::CloudFormation::Init</code> dan skrip pembantu cfn-init, lihat <a href="./deploying.applications.html">Menerapkan aplikasi di Amazon EC2 dengan AWS CloudFormation</a>.</p><p>Untuk contoh yang menunjukkan cara menggunakan cfn-init untuk membuat tumpukan Windows, lihat <a href="./cfn-windows-stacks-bootstrapping.html">Bootstrapping tumpukan Windows AWS CloudFormation</a>.</p>
      <h2 id="aws-resource-cloudformation-init-syntax">Sintaks</h2>

      <p>Konfigurasi dipisahkan menjadi beberapa bagian. Potongan templat berikut menunjukkan cara yang dapat Anda lakukan untuk melampirkan metadata untuk cfn-init ke sumber daya instans EC2 dalam templat.</p>
      <p>Metadata diatur ke dalam kunci konfigurasi, yang dapat Anda kelompokkan ke dalam set konfigurasi. Anda dapat menentukan set konfigurasi ketika memanggil cfn-init dalam templat Anda. Jika Anda tidak menentukan set konfigurasi, cfn-init akan mencari kunci konfigurasi tunggal bernama <em>konfigurasi</em>.</p>
      <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>catatan</h6></div><div class="awsdocs-note-text"><p>Skrip pembantu cfn-init memproses bagian konfigurasi dalam urutan sebagai berikut: paket, grup, pengguna, sumber, file, perintah, dan kemudian layanan. Jika Anda memerlukan urutan yang berbeda, pisahkan bagian Anda ke kunci konfigurasi yang berbeda, dan kemudian gunakan configset yang menentukan urutan di mana kunci konfigurasi harus diproses.</p></div></div>

      <div id="JSON" name="JSON" class="section langfilter">
         <h3 id="aws-resource-cloudformation-init-syntax.json">JSON</h3>

         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Resources": <span>{</span>
  "MyInstance": <span>{</span>
    "Type": "AWS::EC2::Instance",
    "Metadata" : <span>{</span>
      "AWS::CloudFormation::Init" : <span>{</span>
        "config" : <span>{</span>
          "packages" : <span>{</span>
            :
          },
          "groups" : <span>{</span>
            :
          },
          "users" : <span>{</span>
            :
          },
          "sources" : <span>{</span>
            :
          },
          "files" : <span>{</span>
            :
          },
          "commands" : <span>{</span>
            :
          },
          "services" : <span>{</span>
            :
          }
        }
      }
    },
    "Properties": <span>{</span>
      :
    }
  }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
         <h3 id="aws-resource-cloudformation-init-syntax.yaml">YAML</h3>

         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources: 
  MyInstance: 
    Type: AWS::EC2::Instance
    Metadata: 
      AWS::CloudFormation::Init: 
        config: 
          packages: 
            :
          groups: 
            :
          users: 
            :
          sources: 
            :
          files: 
            :
          commands: 
            :
          services: 
            :
    Properties: 
      :</code></pre>
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>catatan</h6></div><div class="awsdocs-note-text"><p>Untuk menentukan <code class="code">AWS::CloudFormation::Init</code> properti untuk instans Amazon EC2, lihat contoh <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-init.html#cfn-init-Examples">Amazon</a> Linux.</p></div></div>
      </div>
    
      <h2 id="aws-resource-init-configsets">Set konfigurasi</h2>

      <p>Jika Anda ingin membuat lebih dari satu kunci konfigurasi dan menginginkan cfn-init memprosesnya dalam urutan tertentu, buat konfigurasi set yang berisi tombol konfigurasi dalam urutan yang diinginkan.</p>
       
         <h3 id="w9aac23c15c15c23c13b5">Konfigurasi set tunggal</h3>

         <p>Potongan templat berikut membuat set konfigurasi bernama <code class="code">ascending</code> dan <code class="code">descending</code> bahwa masing-masing berisi dua kunci konfigurasi.</p>
         <div id="JSON" name="JSON" class="section langfilter">
            <h4 id="aws-resource-cloudformation-init-configset-example1.json">JSON</h4>

            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"AWS::CloudFormation::Init" : <span>{</span>
    "configSets" : <span>{</span>
        "ascending" : [ "config1" , "config2" ],
        "descending" : [ "config2" , "config1" ]
    },
    "config1" : <span>{</span>
        "commands" : <span>{</span>
            "test" : <span>{</span>
                "command" : "echo \"$CFNTEST\" &gt; test.txt",
                "env" : <span>{</span> "CFNTEST" : "I come from config1." },
                "cwd" : "~"
            }
        }
    },
    "config2" : <span>{</span>
        "commands" : <span>{</span>
            "test" : <span>{</span>
                "command" : "echo \"$CFNTEST\" &gt; test.txt",
                "env" : <span>{</span> "CFNTEST" : "I come from config2" },
                "cwd" : "~"
            }
        }
    }
}     </code></pre>
         </div>
         <div id="YAML" name="YAML" class="section langfilter">
            <h4 id="aws-resource-cloudformation-init-configset-example1.yaml">YAML</h4>

            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">AWS::CloudFormation::Init: 
  configSets: 
    ascending: 
      - "config1"
      - "config2"
    descending: 
      - "config2"
      - "config1"
  config1: 
    commands: 
      test: 
        command: "echo \"$CFNTEST\" &gt; test.txt"
        env: 
          CFNTEST: "I come from config1."
        cwd: "~"
  config2: 
    commands: 
      test: 
        command: "echo \"$CFNTEST\" &gt; test.txt"
        env: 
          CFNTEST: "I come from config2"
        cwd: "~"</code></pre>
         </div>
          
            <h4 id="w9aac23c15c15c23c13b5b9">Panggilan cfn-init terkait</h4>

            <p>Contoh panggilan ke cfn-init berikut mengacu pada contoh set konfigurasi sebelumnya. Contoh panggilan disingkat untuk kejelasan, lihat <a href="./cfn-init.html">cfn-init</a> untuk sintaks lengkap.</p>
            <div class="itemizedlist">
                
                
            <ul class="itemizedlist"><li class="listitem">
                  <p>Jika panggilan untuk cfn-init menentukan <code class="code">ascending</code> set konfigurasi:</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="userinput">cfn-init -c ascending</code></code></pre>
                  <p>Skrip memproses <code class="code">config1</code> dan kemudian memproses <code class="code">config2</code> dan file test.txt akan berisi teks <code class="code">I
                        come from config2</code>.</p>
               </li><li class="listitem">
                  <p>Jika panggilan untuk cfn-init menentukan <code class="code">descending</code> set konfigurasi:</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="userinput">cfn-init -c descending</code></code></pre>
                  <p>Skrip memproses <code class="code">config2</code> dan kemudian memproses <code class="code">config1</code> dan file test.txt akan berisi teks <code class="code">I
                        come from config1</code>.</p>
               </li></ul></div>
          
       
       
         <h3 id="w9aac23c15c15c23c13b7">Beberapa set konfigurasi</h3>

         <p>Anda dapat membuat beberapa set konfigurasi, dan memanggil serangkaian lainnya menggunakan skrip cfn-init Anda. Setiap set konfigurasu dapat berisi daftar kunci konfigurasi atau referensi ke konfigurasi set lainnya. Sebagai contoh, cuplikan templat berikut membuat tiga set konfigurasi. Set konfigurasi pertama, <code class="code">test1</code>, berisi satu kunci konfigurasi bernama <code class="code">1</code>. Set konfigurasi kedua, <code class="code">test2</code>, berisi referensi ke <code class="code">test1</code> set konfigurasi dan satu kunci konfigurasi bernama <code class="code">2</code>. Konfigurasi set ketiga, default, berisi referensi ke set konfigurasi <code class="code">test2</code>.</p>
         <div id="JSON" name="JSON" class="section langfilter">
            <h4 id="aws-resource-cloudformation-init-configset-example2.json">JSON</h4>

            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"AWS::CloudFormation::Init" : <span>{</span>
    "configSets" : <span>{</span>
        "test1" : [ "1" ],
        "test2" : [ <span>{</span> "ConfigSet" : "test1" }, "2" ],
        "default" : [ <span>{</span> "ConfigSet" : "test2" } ]
    },
    "1" : <span>{</span>
        "commands" : <span>{</span>
            "test" : <span>{</span>
                "command" : "echo \"$MAGIC\" &gt; test.txt",
                "env" : <span>{</span> "MAGIC" : "I come from the environment!" },
                "cwd" : "~"
            }
        }
    },
    "2" : <span>{</span>
        "commands" : <span>{</span>
            "test" : <span>{</span>
                "command" : "echo \"$MAGIC\" &gt;&gt; test.txt",
                "env" : <span>{</span> "MAGIC" : "I am test 2!" },
                "cwd" : "~"
            }
        }
    }
}</code></pre>
         </div>
         <div id="YAML" name="YAML" class="section langfilter">
            <h4 id="aws-resource-cloudformation-init-configset-example2.yaml">YAML</h4>

            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">AWS::CloudFormation::Init:
  1:
    commands:
      test:
        command: "echo \"$MAGIC\" &gt; test.txt"
        env:
          MAGIC: "I come from the environment!"
        cwd: "~"
  2:
    commands:
      test:
        command: "echo \"$MAGIC\" &gt;&gt; test.txt"
        env:
          MAGIC: "I am test 2!"
        cwd: "~"
  configSets: 
    test1:
      - "1"
    test2:
      -
        ConfigSet: "test1"
      - "2"
    default:
      -
        ConfigSet: "test2"</code></pre>
         </div>
          
            <h4 id="w9aac23c15c15c23c13b7b9">Panggilan cfn-init terkait</h4>

            <p>Panggilan ke cfn-init berikut merujuk ke configSets yang dideklarasikan dalam cuplikan templat sebelumnya. Contoh panggilan disingkat untuk kejelasan, lihat <a href="./cfn-init.html">cfn-init</a> untuk sintaks lengkap.</p>
            <div class="itemizedlist">
                
                
                
            <ul class="itemizedlist"><li class="listitem">
                  <p>Jika Anda menentukan <code class="code">test1</code> saja:</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="userinput">cfn-init -c test1</code></code></pre>
                  <p>cfn-init hanya memproses konfigurasi kunci <code class="code">1</code> saja.</p>
               </li><li class="listitem">
                  <p>Jika Anda menentukan <code class="code">test2</code> saja:</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="userinput">cfn-init -c test2</code></code></pre>
                  <p>cfn-init memproses kunci konfigurasi <code class="code">1</code> dan kemudian memproses konfigurasi kunci <code class="code">2</code>.</p>
               </li><li class="listitem">
                  <p>Jika Anda menentukan <code class="code">default</code> set konfigurasi (atau bukan set konfigurasi sama sekali):</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="userinput">cfn-init -c default</code></code></pre>
                  <p>Anda akan mendapatkan perilaku yang sama yang Anda lakukan jika Anda menentukan set konfigurasi <code class="code">test2</code>.</p>
               </li></ul></div>
          
       
    
      <h2 id="aws-resource-init-commands">Perintah</h2>

      <p>Anda dapat menggunakan kunci perintah untuk menjalankan perintah pada instans EC2. Perintah dijalankan sebagai dalam urutan abjad berdasarkan nama.</p>
      <div class="table-container"><div class="table-contents"><table id="w1348aac17c17c17c19c17b5"><thead>
               <tr>
                  <th>Kunci</th>
                  <th>Diperlukan</th>
                  <th>Deskripsi</th>
               </tr>
            </thead>
               <tr>
                  <td tabindex="-1">
                     <p>perintah</p>
                  </td>
                  <td tabindex="-1">Diperlukan</td>
                  <td tabindex="-1">
                     <p>Array atau string yang menentukan perintah yang akan dijalankan. Jika Anda menggunakan array, Anda tidak perlu menghindari karakter spasi atau melampirkan parameter perintah pada kutipan. Jangan gunakan array untuk menentukan beberapa perintah.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>env</p>
                  </td>
                  <td tabindex="-1">Opsional</td>
                  <td tabindex="-1">
                     <p>Atur variabel lingkungan untuk perintah. Properti ini menimpa, alih-alih menambahkan, lingkungan yang ada.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>cwd</p>
                  </td>
                  <td tabindex="-1">Opsional</td>
                  <td tabindex="-1">
                     <p>Direktori kerja saat ini.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>pengujian</p>
                  </td>
                  <td tabindex="-1">Opsional</td>
                  <td tabindex="-1">
                     <p>Perintah uji yang menentukan apakah cfn-init menjalankan perintah yang ditentukan dalam kunci perintah. Jika tes berlalu, cfn-init menjalankan perintah. Skrip cfn-init menjalankan tes dalam penerjemah perintah, seperti Bash atau <code>cmd.exe</code>. Apakah tes berlalu tergantung pada kode keluar bahwa interpreter kembali.</p>
                     <p>Untuk Linux, perintah tes harus mengembalikan kode keluar dari <code class="code">0</code> agar bisa lulus tes. Untuk Windows, perintah tes harus mengembalikan %ErrorLevel% dari <code class="code">0</code>.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>ignoreErrors</p>
                  </td>
                  <td tabindex="-1">Opsional</td>
                  <td tabindex="-1">
                     <p>Nilai Boolean yang menentukan apakah cfn-init terus berjalan jika perintah yang terkandung dalam kunci perintah gagal (mengembalikan nilai bukan nol). Tetapkan ke <code class="code">true</code> jika Anda ingin cfn-init terus menjalankan perintah meskipun perintah gagal. Tetapkan ke <code class="code">false</code> jika Anda ingin cfn-init berhenti menjalankan perintah jika perintah gagal. Nilai default-nya adalah <code class="code">false</code>.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>waitAfterCompletion</p>
                  </td>
                  <td tabindex="-1">Opsional</td>
                  <td tabindex="-1">
                     <p>Untuk sistem Windows saja. Menentukan berapa lama menunggu (dalam detik) setelah perintah selesai dalam hal perintah menyebabkan reboot. Nilai default adalah 60 detik dan nilai "selamanya" mengarahkan cfn-init untuk keluar dan melanjutkannya lagi setelah reboot selesai. Tetapkan nilai ini ke <code class="code">0</code> Jika Anda tidak ingin menunggu setiap perintah.</p>
                  </td>
               </tr>
            </table></div></div>
       
         <h3 id="w9aac23c15c15c23c15b7">Contoh</h3>

         <p>Contoh cuplikan berikut memanggil perintah echo jika <code class="code">~/test.txt</code> file tidak ada.</p>
         <div id="JSON" name="JSON" class="section langfilter">
            <h4 id="aws-resource-init-commands-example.json">JSON</h4>

            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"commands" : <span>{</span>
    "test" : <span>{</span>
        "command" : "echo \"$MAGIC\" &gt; test.txt",
        "env" : <span>{</span> "MAGIC" : "I come from the environment!" },
        "cwd" : "~",
        "test" : "test ! -e ~/test.txt",
        "ignoreErrors" : "false"
    },
    "test2" : <span>{</span>
        "command" : "echo \"$MAGIC2\" &gt; test2.txt",
        "env" : <span>{</span> "MAGIC2" : "I come from the environment!" },
        "cwd" : "~",
        "test" : "test ! -e ~/test2.txt",
        "ignoreErrors" : "false"
    }
}</code></pre>
         </div>
         <div id="YAML" name="YAML" class="section langfilter">
            <h4 id="aws-resource-init-commands-example.yaml">YAML</h4>

            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">commands:
  test:
    command: "echo \"$MAGIC\" &gt; test.txt"
    env:
      MAGIC: "I come from the environment!"
    cwd: "~"
    test: "test ! -e ~/test.txt"
    ignoreErrors: "false"
  test2:
    command: "echo \"$MAGIC2\" &gt; test2.txt"
    env:
      MAGIC2: "I come from the environment!"
    cwd: "~"
    test: "test ! -e ~/test2.txt"
    ignoreErrors: "false"</code></pre>
         </div>
       
    
      <h2 id="aws-resource-init-files">Berkas</h2>

      <p>Anda dapat menggunakan <code class="code">files</code> kunci untuk membuat file di instans EC2. Konten dapat berupa inline dalam templat atau konten dapat ditarik dari URL. File ditulis ke disk dalam urutan leksikografis. Tabel berikut mencantumkan kunci yang didukung.</p>
      <div class="table-container"><div class="table-contents"><table id="w1348aac17c17c17c19c19b5"><thead>
               <tr>
                  <th>Kunci</th>
                  <th>Deskripsi</th>
               </tr>
            </thead>
               <tr>
                  <td tabindex="-1">
                     <p>content</p>
                  </td>
                  <td tabindex="-1">
                     <p>Baik string maupun objek JSON diformat dengan benar. Jika Anda menggunakan objek JSON sebagai konten Anda, JSON akan ditulis ke file pada disk. Setiap fungsi intrinsik seperti <code class="code">Fn::GetAtt</code> atau <code class="code">Ref</code> dievaluasi sebelum objek JSON ditulis ke disk. Saat Anda membuat symlink, tentukan target symlink sebagai konten.</p>
                     <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>catatan</h6></div><div class="awsdocs-note-text"><p>Jika Anda membuat symlink, skrip pembantu memodifikasi izin dari file target. Saat ini, Anda tidak dapat membuat symlink tanpa mengubah izin dari file target.</p></div></div>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>sumber</p>
                  </td>
                  <td tabindex="-1">
                     <p>Sebuah URL untuk memuat file dari. Opsi ini tidak dapat ditentukan dengan kunci konten.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>encoding</p>
                  </td>
                  <td tabindex="-1">
                     <p>Format pengkodean. Hanya digunakan jika konten adalah string. Pengkodean tidak diterapkan jika Anda menggunakan sumber.</p>
                     <p>Nilai yang valid: <code class="code">plain</code> | <code class="code">base64</code></p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>grup</p>
                  </td>
                  <td tabindex="-1">
                     <p>Nama grup yang memiliki file ini. Tidak mendukung sistem Windows.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>owner</p>
                  </td>
                  <td tabindex="-1">
                     <p>Nama pengguna yang memiliki file ini. Tidak mendukung sistem Windows.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>Mode</p>
                  </td>
                  <td tabindex="-1">
                     <p>Nilai oktal enam digit yang mewakili mode untuk file ini. Tidak mendukung sistem Windows. Gunakan tiga digit pertama untuk symlink dan tiga digit terakhir untuk pengaturan izin. Untuk membuat symlink, tentukan <code class="userinput">120<code class="replaceable">xxx</code></code>, tempat <code class="code">xxx</code> mendefinisikan izin file target. Untuk menentukan izin file, gunakan tiga digit terakhir, seperti <code class="userinput">000644</code>.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>autentikasi</p>
                  </td>
                  <td tabindex="-1">
                     <p>Nama metode autentikasi yang akan digunakan. Ini menimpa autentikasi default apapun. Anda dapat menggunakan properti ini untuk memilih metode auentikasi yang Anda tentukan dengan <a href="./aws-resource-authentication.html">AWS::CloudFormation::Authentication</a> sumber daya.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>konteks</p>
                  </td>
                  <td tabindex="-1">
                     <p>Menentukan konteks untuk file yang akan diproses sebagai <a href="http://mustache.github.io/mustache.5.html" rel="noopener noreferrer" target="_blank"><span>Templat mustache</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. Untuk menggunakan kunci ini, Anda harus menginstal <code class="code">aws-cfn-bootstrap</code> 1.3 —11 atau yang lebih baru selain <a href="https://github.com/defunkt/pystache" rel="noopener noreferrer" target="_blank"><span>pystache</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
                  </td>
               </tr>
            </table></div></div>
       
         <h3 id="w9aac23c15c15c23c17b7">Contoh-contoh</h3>

         <p>Contoh potongan berikut membuat file bernama setup.mysql sebagai bagian dari instalasi yang lebih besar.</p>
         <div id="JSON" name="JSON" class="section langfilter">
            <h4 id="aws-resource-init-setup-mysql.json">JSON</h4>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"files" : <span>{</span>
  "/tmp/setup.mysql" : <span>{</span>
    "content" : <span>{</span> "Fn::Join" : ["", [
      "CREATE DATABASE ", <span>{</span> "Ref" : "DBName" }, ";\n",
      "CREATE USER '", <span>{</span> "Ref" : "DBUsername" }, "'@'localhost' IDENTIFIED BY '",
                       <span>{</span> "Ref" : "DBPassword" }, "';\n",
      "GRANT ALL ON ", <span>{</span> "Ref" : "DBName" }, ".* TO '", <span>{</span> "Ref" : "DBUsername" },
                       "'@'localhost';\n",
      "FLUSH PRIVILEGES;\n"
      ]]},
    "mode"  : "000644",
    "owner" : "root",
    "group" : "root"
  }
}</code></pre>
         </div>
         <div id="YAML" name="YAML" class="section langfilter">
            <h4 id="aws-resource-init-setup-mysql.yaml">YAML</h4>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">files: 
  /tmp/setup.mysql: 
    content: !Sub |
      CREATE DATABASE $<span>{</span>DBName};
      CREATE USER '$<span>{</span>DBUsername}'@'localhost' IDENTIFIED BY '$<span>{</span>DBPassword}';
      GRANT ALL ON $<span>{</span>DBName}.* TO '$<span>{</span>DBUsername}'@'localhost';
      FLUSH PRIVILEGES;
    mode: "000644"
    owner: "root"
    group: "root"</code></pre>
         </div>
         <p>Template lengkap tersedia di: <a href="https://s3.amazonaws.com/cloudformation-templates-us-east-1/Drupal_Single_Instance.template" rel="noopener noreferrer" target="_blank"><span>https://s3.amazonaws.com/ cloudformation-templates-us-east -1/Drupal_single_instance.Template</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a></p>
         <p>Contoh potongan berikut membuat symlink <code class="code">/tmp/myfile2.txt</code> yang menunjuk pada file yang ada <code class="code">/tmp/myfile1.txt</code>. Izin file target <code class="code">/tmp/myfile1.txt</code> didefinisikan oleh nilai modus <code class="code">644</code>.</p>
         <div id="JSON" name="JSON" class="section langfilter">
            <h4 id="aws-resource-init-symlink.json">JSON</h4>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"files" : <span>{</span>
  "/tmp/myfile2.txt" : <span>{</span>
    "content" : "/tmp/myfile1.txt",
    "mode" : "120644"
  }
}</code></pre>
         </div>
         <div id="YAML" name="YAML" class="section langfilter">
            <h4 id="aws-resource-init-symlink.yaml">YAML</h4>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">files:
  /tmp/myfile2.txt:
    content: "/tmp/myfile1.txt"
    mode: "120644"</code></pre>
         </div>
         <p>Templat kumis digunakan terutama untuk membuat file konfigurasi. Misalnya, Anda dapat menyimpan file konfigurasi dalam bucket S3 dan menginterpolasi Refs dan  GetAtts  dari template, alih-alih menggunakan. <a href="./intrinsic-function-reference-join.html">Fn::Join</a> Contoh cuplikan berikut mengeluarkan "Konten untuk test9" untuk <code>/tmp/test9.txt</code>.</p>
         <div id="JSON" name="JSON" class="section langfilter">
            <h4 id="aws-resource-init-test9.json">JSON</h4>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">
"files" : <span>{</span>
    "/tmp/test9.txt" : <span>{</span>
        "content" : "Content for <span>{</span><span>{</span>name}}",
        "context" : <span>{</span> "name" : "test9" }
    }
} </code></pre>
         </div>
         <div id="YAML" name="YAML" class="section langfilter">
            <h4 id="aws-resource-init-test9.yaml">YAML</h4>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">files:
  /tmp/test9.txt:
    content: "Content for <span>{</span><span>{</span>name}}"
    context:
      name: "test9"</code></pre>
         </div>
         <p>Saat bekerja dengan templat kumis, perhatikan hal berikut ini:</p>
         <div class="itemizedlist">
             
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>Kunci konteks harus hadir untuk file yang akan diproses.</p>
            </li><li class="listitem">
               <p>Kunci konteks harus menjadi peta nilai kunci, tetapi dapat bersarang.</p>
            </li><li class="listitem">
               <p>Anda dapat memproses file dengan konten inline menggunakan kunci konten dan file remote dengan menggunakan kunci sumber.</p>
            </li><li class="listitem">
               <p>Dukungan kumis tergantung pada versi pystache. Versi 0.5.2 mendukung <a href="https://github.com/mustache/spec/tree/v1.1.2" rel="noopener noreferrer" target="_blank"><span>Spesifikasi mustache 1.1.2</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
            </li></ul></div>
       
    
      <h2 id="aws-resource-init-groups">Grup</h2>

      <p>Anda dapat menggunakan kunci grup untuk membuat grup Linux/UNIX dan untuk menetapkan ID grup. Kunci grup tidak didukung untuk sistem Windows.</p>
      <p>Untuk membuat grup, tambahkan pasangan nilai kunci baru yang memetakan nama grup baru untuk ID grup opsional. Kunci grup dapat berisi satu nama grup atau beberapa. Tabel berikut menjelaskan kunci yang tersedia.</p>
      <div class="table-container"><div class="table-contents"><table id="w1348aac17c17c17c19c21b7"><thead>
               <tr>
                  <th>Kunci</th>
                  <th>Deskripsi</th>
               </tr>
            </thead>
               <tr>
                  <td tabindex="-1">
                     <p>
                        <code class="code">gid</code></p>
                  </td>
                  <td tabindex="-1">
                     <p>Nomor ID grup.</p>
                     <p>Jika ID grup ditentukan, dan grup sudah ada berdasarkan nama, pembuatan grup akan gagal. Jika grup lain memiliki ID grup tertentu, OS dapat menolak pembuatan grup.</p>
                     <p>Contoh: <code class="code"><span>{</span> "gid" : "23" }</code></p>
                  </td>
               </tr>
            </table></div></div>
      
       
         <h3 id="aws-resource-init-groups-snippet">Contoh potongan</h3>

         <p>Potongan berikut menentukan grup bernama <code class="code">groupOne</code> tanpa menetapkan ID grup dan grup bernama <code class="code">groupTwo</code> yang menentukan nilai ID grup <code class="code">45</code>.</p>
         <div id="JSON" name="JSON" class="section langfilter">
            <h4 id="aws-resource-init-groups-snippet.json">JSON</h4>

            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"groups" : <span>{</span>
    "groupOne" : <span>{</span>},
    "groupTwo" : <span>{</span> "gid" : "45" }
}</code></pre>
         </div>
         
         <div id="YAML" name="YAML" class="section langfilter">
            <h4 id="aws-resource-init-groups-snippet.yaml">YAML</h4>

            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">groups:
  groupOne: <span>{</span>}
  groupTwo:
    gid: "45"</code></pre>
         </div>
       
    
      <h2 id="aws-resource-init-packages">Paket</h2>

      <p>Anda dapat menggunakan kunci untuk mengunduh dan memasang aplikasi dan komponen yang telah dikemas sebelumnya. Pada sistem Windows, kunci paket hanya mendukung penginstal MSI.</p>
       
         <h3 id="aws-resource-init-packages-formats">Format paket yang didukung</h3>

         <p>Skrip cfn-init saat ini mendukung format paket berikut: apt, msi, python, rpm, rubygems, yum, dan Zypper. Paket diproses dalam urutan sebagai berikut: rpm, yum/apt/zypper, dan kemudian rubygems dan python. Tidak ada pemesanan antara rubygems dan python, dan paket dalam setiap manajer paket tidak dijamin akan diinstal dalam urutan apapun.</p>
       
       
         <h3 id="aws-resource-init-packages-versions">Menentukan versi</h3>

         <p>Dalam setiap manajer paket, setiap paket ditetapkan sebagai nama paket dan daftar versi. Versi ini bisa berupa string, daftar versi, atau string atau daftar kosong. String atau daftar kosong menunjukkan bahwa Anda menginginkan versi terbaru. Untuk manajer rpm, versi ditentukan sebagai jalur menuju file pada disk atau URL.</p>
         <p>Jika Anda menentukan versi paket, cfn-init mencoba untuk memasang versi tersebut meskipun versi paket yang lebih baru sudah dipasang pada instans. Beberapa manajer paket men-support beberapa versi, tetapi yang lain mungkin tidak. Verifikasi dokumentasi manajer paket Anda untuk informasi selengkapnya. Jika Anda tidak menentukan versi dan versi paket sudah diinstal, skrip cfn-init tidak akan menginstal versi baru— itu akan menganggap bahwa Anda ingin menyimpan dan menggunakan versi yang ada.</p>
       
       
         <h3 id="aws-resource-init-packages-snippet">Contoh potongan</h3>

          
            <h4 id="w9aac23c15c15c23c21b9b3">RPM, yum, Rubygems, dan Zypper</h4>

            <p>Cuplikan berikut menentukan URL versi untuk rpm, meminta versi terbaru dari yum dan Zypper, dan versi 0.10.2 koki dari rubygems:</p>
            <div id="JSON" name="JSON" class="section langfilter">
               <h5 id="aws-resource-init-packages-example1.json">JSON</h5>

               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"rpm" : <span>{</span>
  "epel" : "http://download.fedoraproject.org/pub/epel/5/i386/epel-release-5-4.noarch.rpm"
},
"yum" : <span>{</span>
  "httpd" : [],
  "php" : [],
  "wordpress" : []
},
"rubygems" : <span>{</span>
  "chef" : [ "0.10.2" ]
},
"zypper" : <span>{</span>
  "git" : []
}</code></pre>
            </div>
            <div id="YAML" name="YAML" class="section langfilter">
               <h5 id="aws-resource-init-packages-example1.yaml">YAML</h5>

               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">rpm:
  epel: "http://download.fedoraproject.org/pub/epel/5/i386/epel-release-5-4.noarch.rpm"
yum:
  httpd: []
  php: []
  wordpress: []
rubygems:
  chef:
    - "0.10.2"
zypper:
  git: []</code></pre>
            </div>
          
          
            <h4 id="w9aac23c15c15c23c21b9b5">Paket MSI</h4>

            <p>Potongan berikut menentukan URL untuk paket MSI:</p>
            <div id="JSON" name="JSON" class="section langfilter">
               <h5 id="aws-resource-init-packages-example2.json">JSON</h5>

               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"msi" : <span>{</span>
  "awscli" : "https://s3.amazonaws.com/aws-cli/AWSCLI64.msi"
}</code></pre>
            </div>
            <div id="YAML" name="YAML" class="section langfilter">
               <h5 id="aws-resource-init-packages-example2.yaml">YAML</h5>

               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">msi:
  awscli: "https://s3.amazonaws.com/aws-cli/AWSCLI64.msi"</code></pre>
            </div>
          
       
    
      <h2 id="aws-resource-init-services">Layanan </h2>

      <p>Anda dapat menggunakan kunci layanan untuk menentukan layanan mana yang harus diaktifkan atau dinonaktifkan ketika instans diluncurkan. Pada sistem Linux, kunci ini didukung dengan menggunakan sysvinit atau systemd. Pada sistem Windows, didukung dengan menggunakan manajer layanan Windows.</p>
      <p>Kunci tersebut juga mengizinkan Anda untuk menentukan dependensi pada sumber, paket, dan file sehingga jika mulai ulang diperlukan karena file yang diinstal, cfn-init akan mengurus layanan mulai ulang. Misalnya, jika Anda mengunduh paket Apache HTTP Server, instalasi paket secara otomatis akan memulai Apache HTTP Server selama proses pembuatan tumpukan. Namun, jika konfigurasi Apache HTTP Server diperbarui kemudian dalam proses pembuatan tumpukan, pembaruan tidak akan berlaku kecuali server Apache dimulai ulang. Anda dapat menggunakan kunci layanan untuk memastikan bahwa layanan HTTP Apache dimulai ulang.</p>
      <p>Tabel berikut mencantumkan kunci yang didukung.</p>
      <div class="table-container"><div class="table-contents"><table id="w1348aac17c17c17c19c25b9"><thead>
               <tr>
                  <th>Kunci</th>
                  <th>Deskripsi</th>
               </tr>
            </thead>
               <tr>
                  <td tabindex="-1">
                     <p>ensureRunning</p>
                  </td>
                  <td tabindex="-1">
                     <p>Atur ke betul untuk memastikan layanan berjalan setelah cfn-init selesai.</p>
                     <p>Atur ke salah untuk memastikan layanan tidak berjalan setelah cfn-init selesai.</p>
                     <p>Abaikan kunci ini untuk tidak membuat perubahan pada status layanan.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>diaktifkan</p>
                  </td>
                  <td tabindex="-1">
                     <p>Atur ke betul untuk memastikan layanan dimulai secara otomatis setelah boot.</p>
                     <p>Atur ke salah untuk memastikan layanan dimulai secara otomatis setelah boot.</p>
                     <p>Abaikan kunci ini untuk tidak membuat perubahan pada properti ini.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>file</p>
                  </td>
                  <td tabindex="-1">
                     <p>Daftar file. Jika cfn-init mengubahnya secara langsung melalui blok file, layanan ini akan dimulai ulang.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>sumber</p>
                  </td>
                  <td tabindex="-1">
                     <p>Daftar direktori. Jika cfn-init memperluas arsip ke salah satu direktori ini, layanan akan dimulai ulang.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>paket</p>
                  </td>
                  <td tabindex="-1">
                     <p>Peta manajer paket akan mendata nama paket. Jika cfn-init menginstal atau memperbarui salah satu paket ini, layanan ini akan dimulai ulang.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>perintah</p>
                  </td>
                  <td tabindex="-1">
                     <p>Daftar nama perintah. Jika cfn-init menjalankan perintah yang ditentukan, layanan ini akan dimulai ulang.</p>
                  </td>
               </tr>
            </table></div></div>
       
         <h3 id="w9aac23c15c15c23c23c11">Contoh-contoh</h3>

          
            <h4 id="w9aac23c15c15c23c23c11b3">Linux</h4>

            <p>Potongan Linux berikut mengonfigurasi layanan sebagai berikut:</p>
            <div class="itemizedlist">
                
                
                
            <ul class="itemizedlist"><li class="listitem">
                  <p>Layanan nginx akan dimulai ulang jika salah satu <code class="code">/etc/nginx/nginx.conf</code> atau <code class="code">/var/www/html</code> dimodifikasi oleh cfn-init.</p>
               </li><li class="listitem">
                  <p>Layanan php-fastcgi akan dimulai ulang jika cfn-init menginstal atau memperbarui php atau spawn-fcgi menggunakan yum.</p>
               </li><li class="listitem">
                  <p>Layanan sendmail akan dihentikan dan dinonaktifkan menggunakan systemd.</p>
               </li></ul></div>
            <div id="JSON" name="JSON" class="section langfilter">
               <h5 id="aws-resource-init-services-example1.json">JSON</h5>

               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"services" : <span>{</span>
  "sysvinit" : <span>{</span>
    "nginx" : <span>{</span>
      "enabled" : "true",
      "ensureRunning" : "true",
      "files" : ["/etc/nginx/nginx.conf"],
      "sources" : ["/var/www/html"]
    },
    "php-fastcgi" : <span>{</span>
      "enabled" : "true",
      "ensureRunning" : "true",
      "packages" : <span>{</span> "yum" : ["php", "spawn-fcgi"] }
    }
  },
  "systemd": <span>{</span>
    "sendmail" : <span>{</span>
      "enabled" : "false",
      "ensureRunning" : "false"
    }
  }
}</code></pre>
            </div>
            <div id="YAML" name="YAML" class="section langfilter">
               <h5 id="aws-resource-init-services-example1.yaml">YAML</h5>

               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">services:
  sysvinit:
    nginx:
      enabled: "true"
      ensureRunning: "true"
      files:
        - "/etc/nginx/nginx.conf"
      sources:
        - "/var/www/html"
    php-fastcgi:
      enabled: "true"
      ensureRunning: "true"
      packages:
        yum:
          - "php"
          - "spawn-fcgi"
  systemd:
    sendmail:
      enabled: "false"
      ensureRunning: "false"</code></pre>
               <p>Untuk menggunakan systemd dengan layanan, layanan harus memiliki file unit systemd yang dikonfigurasi. File unit berikut memungkinkan systemd untuk memulai dan menghentikan <a href="./cfn-hup.html">cfn-hup</a> daemon di target layanan multi-pengguna:</p>
                  
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="conf ">[Unit]
Description=cfn-hup daemon
[Service]
ExecStart=/usr/bin/cfn-hup -v
PIDFile=/var/run/cfn-hup.pid
[Install]
WantedBy=multi-user.target</code></pre>
               <p><em>Konfigurasi ini mengasumsikan bahwa cfn-hup diinstal di bawah direktori /usr/bin.</em> Namun, lokasi sebenarnya di mana cfn-hup diinstal mungkin berbeda pada platform yang berbeda. Anda dapat mengganti konfigurasi ini dengan membuat file override di <em>/etc/systemd/system/cfn-hup.service.d/override.conf</em> sebagai berikut:</p>
                  
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="conf "># In this example, cfn-hup executable is available under /usr/local/bin
[Service]
ExecStart=
ExecStart=/usr/local/bin/cfn-hup -v</code></pre>
            </div>
          
          
            <h4 id="aws-resource-init-windows-example">Windows</h4>

            <p>Potongan Windows berikut memulai <a href="./cfn-hup.html">cfn-hup</a> layanan, mengaturnya ke otomatis, dan memulai ulang layanan jika <code class="code">cfn-init</code> memodifikasi file konfigurasi yang ditentukan:</p>
            <div id="JSON" name="JSON" class="section langfilter">
               <h5 id="aws-resource-init-services-example2.json">JSON</h5>

               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"services" : <span>{</span>
  "windows" : <span>{</span>
    "cfn-hup" : <span>{</span>
      "enabled" : "true",
      "ensureRunning" : "true",
      "files" : ["c:\\cfn\\cfn-hup.conf", "c:\\cfn\\hooks.d\\cfn-auto-reloader.conf"]
    }
  }
}</code></pre>
            </div>
            <div id="YAML" name="YAML" class="section langfilter">
               <h5 id="aws-resource-init-services-example2.yaml">YAML</h5>

               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">services:
  windows:
    cfn-hup:
      enabled: "true"
      ensureRunning: "true"
      files:
        - "c:\\cfn\\cfn-hup.conf"
        - "c:\\cfn\\hooks.d\\cfn-auto-reloader.conf"</code></pre>
            </div>
          
       
    
      <h2 id="aws-resource-init-sources">Sumber</h2>

      <p>Anda dapat menggunakan kunci sumber untuk mengunduh file arsip dan membukanya di direktori target pada instans EC2. Kunci ini didukung sepenuhnya untuk sistem Linux dan Windows.</p>
       
         <h6>Format yang didukung</h6>
         <p>Format yang didukung adalah:</p>
       
      <div class="itemizedlist">
          
          
          
          
      <ul class="itemizedlist"><li class="listitem">
            <p><code class="code">tar</code></p>
         </li><li class="listitem">
            <p><code class="code">tar+gzip</code></p>
         </li><li class="listitem">
            <p><code class="code">tar+bz2</code></p>
         </li><li class="listitem">
            <p><code class="code">zip</code></p>
         </li></ul></div>
     
         <h3 id="aws-resource-init-sources-examples">Contoh-contoh</h3>
      
            <h4 id="aws-resource-init-sources-examples-github">GitHub</h4>
            <p>Jika Anda menggunakan  GitHub  sebagai sistem kontrol sumber, Anda dapat menggunakan cfn-init dan mekanisme paket sumber untuk menarik versi tertentu dari aplikasi Anda.  GitHub memungkinkan Anda untuk membuat .zip atau .tar dari versi tertentu melalui URL sebagai berikut:</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="text ">https://github.com/&lt;your directory&gt;/(zipball|tarball)/&lt;version&gt;</code></pre>
            <p>Sebagai contoh, potongan berikut menarik ke bawah versi <em>utama</em> sebagai <code>.tar</code> file.</p>
            <div id="JSON" name="JSON" class="section langfilter">
               <h5 id="aws-resource-init-sources-example1.json">JSON</h5>

               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"sources" : <span>{</span>
  "/etc/puppet" : "https://github.com/user1/cfn-demo/tarball/main"
  }</code></pre>
            </div>
            <div id="YAML" name="YAML" class="section langfilter">
               <h5 id="aws-resource-init-sources-example1.yaml">YAML</h5>

               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">sources:
  /etc/puppet: "https://github.com/user1/cfn-demo/tarball/main"</code></pre>
            </div>
          
      
            <h4 id="aws-resource-init-sources-examples-s3">Bucket S3</h4>
            <p>Contoh berikut mengunduh tarball dari bucket S3 dan membongkarnya menjadi: <code class="code">/etc/myapp</code></p>
            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>catatan</h6></div><div class="awsdocs-note-text"><p>Anda dapat menggunakan kredensial autentikasi untuk sumber. Namun, Anda tidak dapat menempatkan kunci autentikasi di blok sumber. Sebagai gantinya, sertakan kunci bucket di <code class="code">S3AccessCreds</code> blok. Untuk informasi selengkapnya tentang kredensi autentikasi Amazon S3, lihat. <a href="./aws-resource-authentication.html">AWS::CloudFormation::Authentication</a></p><p><span>Sebagai contoh, lihat <a href="https://s3.amazonaws.com/cloudformation-templates-us-east-1/S3Bucket_SourceAuth.template" rel="noopener noreferrer" target="_blank"><span>contoh template</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</span></p></div></div>
            <div id="JSON" name="JSON" class="section langfilter">
               <h5 id="aws-resource-init-sources-example2.json">JSON</h5>

               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"sources" : <span>{</span>
  "/etc/myapp" : "https://s3.amazonaws.com/mybucket/myapp.tar.gz"
  }</code></pre>
               
               
               

            </div>
            <div id="YAML" name="YAML" class="section langfilter">
               <h5 id="aws-resource-init-sources-example2.yaml">YAML</h5>

               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">sources:
  /etc/myapp: "https://s3.amazonaws.com/mybucket/myapp.tar.gz"</code></pre>
               
               
               


            </div>
          
       
    
      <h2 id="aws-resource-init-users">Pengguna</h2>

      <p>Anda dapat menggunakan kunci pengguna untuk membuat pengguna Linux/UNIX pada instans EC2. Kunci pengguna tidak didukung untuk sistem Windows.</p>
      <p>Tabel berikut mencantumkan kunci yang didukung.</p>
      <div class="table-container"><div class="table-contents"><table id="w1348aac17c17c17c19c29b7"><thead>
               <tr>
                  <th>Kunci</th>
                  <th>Deskripsi</th>
               </tr>
            </thead>
               <tr>
                  <td tabindex="-1">
                     <p>uid</p>
                  </td>
                  <td tabindex="-1">
                     <p>ID pengguna. Proses pembuatan gagal jika nama pengguna ada dengan ID pengguna yang berbeda. Jika ID pengguna sudah ditetapkan untuk pengguna yang sudah ada, sistem operasi dapat menolak permintaan pembuatan.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>grup</p>
                  </td>
                  <td tabindex="-1">
                     <p>Daftar nama grup. Pengguna ditambahkan ke setiap grup dalam daftar.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>homeDir</p>
                  </td>
                  <td tabindex="-1">
                     <p>Direktori beranda pengguna.</p>
                  </td>
               </tr>
            </table></div></div>
       
         <h3 id="aws-resource-init-users-example">Contoh</h3>

         <p>Pengguna dibuat sebagai pengguna sistem noninteraktif dengan shell <code class="code">/sbin/nologin</code>. Hal ini sudah sesuai dengan tujuannya dan tidak dapat dimodifikasi.</p>
         <div id="JSON" name="JSON" class="section langfilter">
            <h4 id="aws-resource-init-users-example.json">JSON</h4>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"users" : <span>{</span>
    "myUser" : <span>{</span>
        "groups" : ["groupOne", "groupTwo"],
        "uid" : "50",
        "homeDir" : "/tmp"
    }
}</code></pre>
         </div>
         <div id="YAML" name="YAML" class="section langfilter">
            <h4 id="aws-resource-init-users-example.yaml">YAML</h4>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">users:
  myUser:
    groups:
      - "groupOne"
      - "groupTwo"
    uid: "50"
    homeDir: "/tmp"</code></pre>
         </div>
       
   <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Awas" /> <strong>Javascript dinonaktifkan atau tidak tersedia di browser Anda.</strong></p><p>Untuk menggunakan Dokumentasi AWS, Javascript harus diaktifkan. Lihat halaman Bantuan browser Anda untuk petunjuk.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Konvensi Dokumen</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./aws-resource-authentication.html">AWS::CloudFormation::Authentication</div><div id="next" class="next-link" accesskey="n" href="./aws-resource-cloudformation-interface.html">AWS::CloudFormation::Interface</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Apakah halaman ini membantu Anda? - Ya</div><div class="content"><p>Terima kasih telah memberitahukan bahwa hasil pekerjaan kami sudah baik.</p><p>Jika Anda memiliki waktu luang, beri tahu kami aspek apa saja yang sudah bagus, agar kami dapat menerapkannya secara lebih luas.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Umpan Balik" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-init.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Apakah halaman ini membantu Anda? - Tidak</div><div class="content"><p>Terima kasih telah memberi tahu kami bahwa halaman ini perlu ditingkatkan. Maaf karena telah mengecewakan Anda.</p><p>Jika Anda memiliki waktu luang, beri tahu kami bagaimana dokumentasi ini dapat ditingkatkan.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Umpan Balik" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-init.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>