<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="id-ID"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Contoh set perubahan - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="using-cfn-updating-stacks-changesets-samples" /><meta name="default_state" content="using-cfn-updating-stacks-changesets-samples" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" /><meta name="description" content="Belajar dari contoh set AWS CloudFormation perubahan." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Panduan Pengguna" /><meta name="abstract" content="Membuat dan mengelola penyebaran AWS infrastruktur dapat diprediksi dan berulang kali menggunakan Panduan Pengguna AWS CloudFormation ini." /><meta name="guide-locale" content="id_id" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Panduan Pengguna" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Panduan Pengguna" /><meta id="panorama-serviceConsolePage" value="Contoh set perubahan" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Contoh set perubahan - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,penyediaan sumber daya,konfigurasi sumber daya,manajemen infrastruktur,CloudFormer,CloudFormation tumpukan,CloudFormation stackset,CloudFormation Template,ubah set" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Panduan Pengguna",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Menggunakan tumpukan",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/stacks.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Pembaruan tumpukan AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Memperbarui tumpukan menggunakan set perubahan",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Contoh set perubahan",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Dokumentasi</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Panduan Pengguna</a></div><div id="page-toc-src"><a href="#using-cfn-updating-stacks-changesets-samples-directly-editing-a-template">Mengedit templat secara langsung</a><a href="#using-cfn-updating-stacks-changesets-samples-modifying-a-single-input-parameter-value">Memodifikasi nilai parameter input</a><a href="#using-cfn-updating-stacks-changesets-samples-determining-the-value-of-the-replacement-field">Menentukan nilai bidang penggantian</a><a href="#using-cfn-updating-stacks-changesets-samples-adding-and-removing-resources">Menambahkan dan menghapus sumber daya</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Terjemahan disediakan oleh mesin penerjemah. Jika konten terjemahan yang diberikan bertentangan dengan versi bahasa Inggris aslinya, utamakan versi bahasa Inggris.</p></awsui-alert><h1 class="topictitle" id="using-cfn-updating-stacks-changesets-samples">Contoh set perubahan</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Bagian ini memberikan contoh set perubahan yang  CloudFormation  akan dibuat untuk perubahan tumpukan umum. Contoh tersebut menunjukkan cara mengedit templat secara langsung; memodifikasi parameter input tunggal; merencanakan untuk pembuatan kembali sumber daya (penggantian), yang mencegah Anda kehilangan data yang tidak dicadangkan atau mengganggu aplikasi yang sedang berjalan di tumpukan Anda; dan menambah dan menghapus sumber daya. Untuk menggambarkan bagaimana set perubahan bekerja, kita akan berjalan melalui perubahan yang dikirimkan dan membahas set perubahan yang dihasilkan. Karena setiap contoh dibuat berdasarkan dan mengasumsikan bahwa Anda memahami contoh sebelumnya, kami sarankan Anda membacanya secara berurutan. Untuk deskripsi setiap bidang dalam kumpulan perubahan, lihat <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_Change.html">Mengubah</a> tipe data di <em>ReferensiAWS CloudFormation API</em>.</p><p>Anda dapat menggunakan <a href="./using-cfn-updating-stacks-changesets-view.html">konsol</a>, AWS CLI, atau operasi  CloudFormation <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_DescribeChangeSet.html"><code class="code">DescribeChangeSet</code></a>API untuk melihat detail set perubahan.</p><p>Kita menghasilkan setiap set perubahan berikut dari tumpukan dengan <a href="https://s3.amazonaws.com/cloudformation-examples/user-guide/changesets/ec2-instance.txt" rel="noopener noreferrer" target="_blank"><span>templat sampel</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> berikut:</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "AWSTemplateFormatVersion" : "2010-09-09",
  "Description" : "A sample EC2 instance template for testing change sets.",
  "Parameters" : <span>{</span>
    "Purpose" : <span>{</span>
      "Type" : "String",
      "Default" : "testing",
      "AllowedValues" : ["testing", "production"],
      "Description" : "The purpose of this instance."
    },
    "KeyPairName" : <span>{</span>
      "Type": "AWS::EC2::KeyPair::KeyName",
      "Description" : "Name of an existing EC2 KeyPair to enable SSH access to the instance"
    },
    "InstanceType" : <span>{</span>
      "Type" : "String",
      "Default" : "t2.micro",
      "AllowedValues" : ["t2.micro", "t2.small", "t2.medium"],
      "Description" : "The EC2 instance type."
    }
  },
  "Resources" : <span>{</span>
    "MyEC2Instance" : <span>{</span>
      "Type" : "AWS::EC2::Instance",
      "Properties" : <span>{</span>
        "KeyName" : <span>{</span> "Ref" : "KeyPairName" },
        "InstanceType" : <span>{</span> "Ref" : "InstanceType" },
        "ImageId" : "ami-8fcee4e5",
        "Tags" : [
          <span>{</span>
            "Key" : "Purpose",
            "Value" : <span>{</span> "Ref" : "Purpose" }
          }
        ]
      }
    }
  }
}</code></pre>
      <h2 id="using-cfn-updating-stacks-changesets-samples-directly-editing-a-template">Mengedit templat secara langsung</h2>

      <p>Ketika Anda secara langsung memodifikasi sumber daya dalam templat tumpukan untuk menghasilkan set perubahan,  CloudFormation mengklasifikasikan perubahan sebagai modifikasi langsung, dibandingkan dengan perubahan yang dimulai oleh nilai parameter yang diperbarui. Set perubahan berikut, yang menambahkan tanda baru ke instans <code class="code">i-1abc23d4</code>, adalah contoh dari modifikasi langsung. Semua nilai input lainnya, seperti nilai dan kemampuan parameter, tidak berubah, jadi kita akan fokus pada struktur <code class="code">Changes</code>.</p>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "StackId": "arn:aws:cloudformation:us-east-1:123456789012:stack/SampleStack/1a2345b6-0000-00a0-a123-00abc0abc000",
    "Status": "CREATE_COMPLETE",
    "ChangeSetName": "SampleChangeSet-direct",
    "Parameters": [
        <span>{</span>
            "ParameterValue": "testing",
            "ParameterKey": "Purpose"
        },
        <span>{</span>
            "ParameterValue": "MyKeyName",
            "ParameterKey": "KeyPairName"
        },
        <span>{</span>
            "ParameterValue": "t2.micro",
            "ParameterKey": "InstanceType"
        }
    ],
    "Changes": [
        <span>{</span>
            "ResourceChange": <span>{</span>
                "ResourceType": "AWS::EC2::Instance",
                "PhysicalResourceId": "i-1abc23d4",
                "Details": [
                    <span>{</span>
                        "ChangeSource": "DirectModification",
                        "Evaluation": "Static",
                        "Target": <span>{</span>
                            "Attribute": "Tags",
                            "RequiresRecreation": "Never"
                        }
                    }
                ],
                "Action": "Modify",
                "Scope": [
                    "Tags"
                ],
                "LogicalResourceId": "MyEC2Instance",
                "Replacement": "False"
            },
            "Type": "Resource"
        }
    ],
    "CreationTime": "2020-11-18T23:35:25.813Z",
    "Capabilities": [],
    "StackName": "SampleStack",
    "NotificationARNs": [],
    "ChangeSetId": "arn:aws:cloudformation:us-east-1:123456789012:changeSet/SampleChangeSet-direct/1a2345b6-0000-00a0-a123-00abc0abc000"
}</code></pre>
      <p>Di struktur <code class="code">Changes</code>, hanya ada satu struktur <code class="code">ResourceChange</code>. Struktur ini menjelaskan informasi seperti jenis sumber daya  CloudFormation  akan berubah, tindakan  CloudFormation  akan diambil, ID sumber daya, ruang lingkup perubahan, dan apakah perubahan memerlukan penggantian (di mana  CloudFormation  membuat sumber daya baru dan kemudian menghapus yang lama). Dalam contoh, set perubahan menunjukkan bahwa  CloudFormation  akan memodifikasi <code class="code">Tags</code> atribut instans <code class="code">i-1abc23d4</code> EC2, dan tidak memerlukan instance untuk diganti.</p>
      <p>Dalam <code class="code">Details</code> struktur,  CloudFormation  label perubahan ini sebagai modifikasi langsung yang tidak akan pernah memerlukan instance untuk dibuat ulang (diganti). Anda dapat dengan percaya diri menjalankan perubahan ini, mengetahui bahwa itu  CloudFormation  tidak akan menggantikan instance.</p>
      <p>CloudFormation menunjukkan perubahan ini sebagai <code class="code">Static</code> evaluasi. Evaluasi statis berarti  CloudFormation  dapat menentukan nilai tag sebelum mengeksekusi set perubahan. Dalam beberapa kasus,  CloudFormation  dapat menentukan nilai hanya setelah Anda menjalankan set perubahan.  CloudFormationmelabeli perubahan tersebut sebagai <code class="code">Dynamic</code> evaluasi. Misalnya, jika Anda mereferensikan sumber daya yang diperbarui yang diganti secara kondisional, tidak  CloudFormation  dapat menentukan apakah referensi ke sumber daya yang diperbarui akan berubah.</p>
     
      <h2 id="using-cfn-updating-stacks-changesets-samples-modifying-a-single-input-parameter-value">Memodifikasi nilai parameter input</h2>

      <p>Saat Anda memodifikasi nilai parameter input,  CloudFormation  menghasilkan dua perubahan untuk setiap sumber daya yang menggunakan nilai parameter yang diperbarui. Dalam contoh ini, kita ingin menyoroti seperti apa perubahan tersebut dan informasi mana yang harus Anda fokuskan. Contoh berikut dihasilkan dengan hanya mengubah nilai parameter input <code class="code">Purpose</code>.</p>
      <p>Parameter <code class="code">Purpose</code> menentukan nilai kunci tanda untuk instans EC2. Dalam contoh, nilai parameter diubah dari <code class="code">testing</code> ke <code class="code">production</code>. Nilai baru ditunjukkan dalam struktur <code class="code">Parameters</code>.</p>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "StackId": "arn:aws:cloudformation:us-east-1:123456789012:stack/SampleStack/1a2345b6-0000-00a0-a123-00abc0abc000",
    "Status": "CREATE_COMPLETE",
    "ChangeSetName": "SampleChangeSet",
    "Parameters": [
        <span>{</span>
            "ParameterValue": "production",
            "ParameterKey": "Purpose"
        },
        <span>{</span>
            "ParameterValue": "MyKeyName",
            "ParameterKey": "KeyPairName"
        },
        <span>{</span>
            "ParameterValue": "t2.micro",
            "ParameterKey": "InstanceType"
        }
    ],
    "Changes": [
        <span>{</span>
            "ResourceChange": <span>{</span>
                "ResourceType": "AWS::EC2::Instance",
                "PhysicalResourceId": "i-1abc23d4",
                "Details": [
                    <span>{</span>
                        "ChangeSource": "DirectModification",
                        "Evaluation": "Dynamic",
                        "Target": <span>{</span>
                            "Attribute": "Tags",
                            "RequiresRecreation": "Never"
                        }
                    },
                    <span>{</span>
                        "CausingEntity": "Purpose",
                        "ChangeSource": "ParameterReference",
                        "Evaluation": "Static",
                        "Target": <span>{</span>
                            "Attribute": "Tags",
                            "RequiresRecreation": "Never"
                        }
                    }
                ],
                "Action": "Modify",
                "Scope": [
                    "Tags"
                ],
                "LogicalResourceId": "MyEC2Instance",
                "Replacement": "False"
            },
            "Type": "Resource"
        }
    ],
    "CreationTime": "2020-11-18T23:59:18.447Z",
    "Capabilities": [],
    "StackName": "SampleStack",
    "NotificationARNs": [],
    "ChangeSetId": "arn:aws:cloudformation:us-east-1:123456789012:changeSet/SampleChangeSet/1a2345b6-0000-00a0-a123-00abc0abc000"
}</code></pre>
      <p>Fungsi struktur <code class="code">Changes</code> serupa dengan cara pada contoh <a href="#using-cfn-updating-stacks-changesets-samples-directly-editing-a-template">Mengedit Templat Secara Langsung</a>. Hanya ada satu struktur <code class="code">ResourceChange</code>; menjelaskan perubahan ke atribut <code class="code">Tags</code> pada Instans EC2 <code class="code">i-1abc23d4</code>.</p>
      <p>Namun, dalam struktur <code class="code">Details</code>, set perubahan menunjukkan dua perubahan untuk atribut <code class="code">Tags</code>, meskipun hanya satu nilai parameter yang diubah. Sumber daya yang mereferensikan nilai parameter yang diubah (menggunakan fungsi intrinsik <code class="code">Ref</code>) selalu menghasilkan dua perubahan: satu dengan evaluasi <code class="code">Dynamic</code> dan lainnya dengan evaluasi <code class="code">Static</code>.  Anda dapat melihat tipe perubahan ini dengan melihat bidang berikut:</p>
      <div class="itemizedlist">
         
         
      <ul class="itemizedlist"><li class="listitem">
          <p>Untuk perubahan evaluasi <code class="code">Static</code>, lihat bidang <code class="code">ChangeSource</code>. Dalam contoh ini, bidang <code class="code">ChangeSource</code> sama dengan <code class="code">ParameterReference</code>, yang berarti bahwa perubahan ini adalah hasil dari nilai referensi parameter yang diperbarui. Set perubahan harus berisi perubahan evaluasi <code class="code">Dynamic</code> yang serupa.</p>
        </li><li class="listitem">
          <p>Anda dapat menemukan perubahan evaluasi <code class="code">Dynamic</code> yang cocok dengan membandingkan struktur <code class="code">Target</code> untuk kedua perubahan, yang akan berisi informasi yang sama. Dalam contoh ini, struktur <code class="code">Target</code> untuk kedua perubahan berisi nilai yang sama untuk bidang <code class="code">Attribute</code> dan <code class="code">RequireRecreation</code>.</p>
        </li></ul></div>
      <p>Untuk tipe perubahan ini, fokuskan pada evaluasi statis, yang memberi Anda informasi paling rinci tentang perubahan. Dalam contoh ini, evaluasi statis menunjukkan bahwa perubahan adalah hasil perubahan pada nilai referensi parameter (<code class="code">ParameterReference</code>). Parameter yang tepat yang diubah ditunjukkan oleh bidang <code class="code">CauseEntity</code> (parameter <code class="code">Purpose</code>).</p>
     
      <h2 id="using-cfn-updating-stacks-changesets-samples-determining-the-value-of-the-replacement-field">Menentukan nilai bidang penggantian</h2>

      <p><code class="code">Replacement</code>Bidang dalam <code class="code">ResourceChange</code> struktur menunjukkan apakah  CloudFormation  akan membuat ulang sumber daya. Merencanakan pembuatan ulang sumber daya (penggantian) mencegah Anda kehilangan data yang tidak dicadangkan atau mengganggu aplikasi yang berjalan di tumpukan Anda.</p>
      <p>Nilai dalam bidang <code class="code">Replacement</code> tergantung pada apakah perubahan memerlukan penggantian, ditunjukkan dengan bidang <code class="code">RequiresRecreation</code> dalam struktur <code class="code">Target</code> perubahan. Sebagai contoh, jika bidang <code class="code">RequiresRecreation</code> adalah <code class="code">Never</code>, bidang <code class="code">Replacement</code> adalah <code class="code">False</code>. Namun, jika ada beberapa perubahan pada satu sumber daya dan setiap perubahan memiliki nilai yang berbeda untuk <code class="code">RequiresRecreation</code> bidang tersebut,  CloudFormation  perbarui sumber daya menggunakan perilaku yang paling mengganggu. Dengan kata lain, jika hanya satu dari banyak perubahan memerlukan penggantian,  CloudFormation  harus mengganti sumber daya dan, oleh karena itu, mengatur bidang <code class="code">Replacement</code> ke <code class="code">True</code>.</p>
      <p>Set perubahan berikut dihasilkan dengan mengubah nilai untuk setiap parameter (<code class="code">Purpose</code>, <code class="code">InstanceType</code>, dan <code class="code">KeyPairName</code>), yang semuanya digunakan oleh instans EC2. Dengan perubahan ini,  CloudFormation  akan diperlukan untuk mengganti instance karena <code class="code">Replacement</code> bidang sama dengan<code class="code">True</code>.</p>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "StackId": "arn:aws:cloudformation:us-east-1:123456789012:stack/SampleStack/1a2345b6-0000-00a0-a123-00abc0abc000",
    "Status": "CREATE_COMPLETE",
    "ChangeSetName": "SampleChangeSet-multiple",
    "Parameters": [
        <span>{</span>
            "ParameterValue": "production",
            "ParameterKey": "Purpose"
        },
        <span>{</span>
            "ParameterValue": "MyNewKeyName",
            "ParameterKey": "KeyPairName"
        },
        <span>{</span>
            "ParameterValue": "t2.small",
            "ParameterKey": "InstanceType"
        }
    ],
    "Changes": [
        <span>{</span>
            "ResourceChange": <span>{</span>
                "ResourceType": "AWS::EC2::Instance",
                "PhysicalResourceId": "i-7bef86f8",
                "Details": [
                    <span>{</span>
                        "ChangeSource": "DirectModification",
                        "Evaluation": "Dynamic",
                        "Target": <span>{</span>
                            "Attribute": "Properties",
                            "Name": "KeyName",
                            "RequiresRecreation": "Always"
                        }
                    },
                    <span>{</span>
                        "ChangeSource": "DirectModification",
                        "Evaluation": "Dynamic",
                        "Target": <span>{</span>
                            "Attribute": "Properties",
                            "Name": "InstanceType",
                            "RequiresRecreation": "Conditionally"
                        }
                    },
                    <span>{</span>
                        "ChangeSource": "DirectModification",
                        "Evaluation": "Dynamic",
                        "Target": <span>{</span>
                            "Attribute": "Tags",
                            "RequiresRecreation": "Never"
                        }
                    },
                    <span>{</span>
                        "CausingEntity": "KeyPairName",
                        "ChangeSource": "ParameterReference",
                        "Evaluation": "Static",
                        "Target": <span>{</span>
                            "Attribute": "Properties",
                            "Name": "KeyName",
                            "RequiresRecreation": "Always"
                        }
                    },
                    <span>{</span>
                        "CausingEntity": "InstanceType",
                        "ChangeSource": "ParameterReference",
                        "Evaluation": "Static",
                        "Target": <span>{</span>
                            "Attribute": "Properties",
                            "Name": "InstanceType",
                            "RequiresRecreation": "Conditionally"
                        }
                    },
                    <span>{</span>
                        "CausingEntity": "Purpose",
                        "ChangeSource": "ParameterReference",
                        "Evaluation": "Static",
                        "Target": <span>{</span>
                            "Attribute": "Tags",
                            "RequiresRecreation": "Never"
                        }
                    }
                ],
                "Action": "Modify",
                "Scope": [
                    "Tags",
                    "Properties"
                ],
                "LogicalResourceId": "MyEC2Instance",
                "Replacement": "True"
            },
            "Type": "Resource"
        }
    ],
    "CreationTime": "2020-11-18T00:39:35.974Z",
    "Capabilities": [],
    "StackName": "SampleStack",
    "NotificationARNs": [],
    "ChangeSetId": "arn:aws:cloudformation:us-east-1:123456789012:changeSet/SampleChangeSet-multiple/1a2345b6-0000-00a0-a123-00abc0abc000"
}</code></pre>
      <p>Identifikasi perubahan yang memerlukan sumber daya untuk diganti dengan melihat setiap perubahan (evaluasi statis di struktur <code class="code">Details</code>). Dalam contoh ini, setiap perubahan memiliki nilai yang berbeda untuk <code class="code">RequireRecreation</code> bidang tersebut, tetapi perubahan pada <code class="code">KeyName</code> properti memiliki perilaku pembaruan yang paling mengganggu, selalu membutuhkan rekreasi.  CloudFormation akan menggantikan instance karena nama kunci diubah.</p>
      <p>Jika nama kunci tidak berubah, perubahan ke properti <code class="code">InstanceType</code> akan memiliki perilaku pembaruan yang paling mengganggu (<code class="code">Conditionally</code>), sehingga bidang <code class="code">Replacement</code> akan <code class="code">Conditionally</code>. Untuk menemukan kondisi yang  CloudFormation  menggantikan instance, lihat perilaku pembaruan untuk <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-instance.html#cfn-ec2-instance-instancetype"><code class="code">InstanceType</code></a>properti.</p>
     
      <h2 id="using-cfn-updating-stacks-changesets-samples-adding-and-removing-resources">Menambahkan dan menghapus sumber daya</h2>

      <p>Contoh berikut dihasilkan dengan mengirimkan template yang dimodifikasi yang menghapus instans EC2 dan menambahkan grup Auto Scaling dan konfigurasi peluncuran.</p>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "StackId": "arn:aws:cloudformation:us-east-1:123456789012:stack/SampleStack/1a2345b6-0000-00a0-a123-00abc0abc000",
    "Status": "CREATE_COMPLETE",
    "ChangeSetName": "SampleChangeSet-addremove",
    "Parameters": [
        <span>{</span>
            "ParameterValue": "testing",
            "ParameterKey": "Purpose"
        },
        <span>{</span>
            "ParameterValue": "MyKeyName",
            "ParameterKey": "KeyPairName"
        },
        <span>{</span>
            "ParameterValue": "t2.micro",
            "ParameterKey": "InstanceType"
        }
    ],
    "Changes": [
        <span>{</span>
            "ResourceChange": <span>{</span>
                "Action": "Add",
                "ResourceType": "AWS::AutoScaling::AutoScalingGroup",
                "Scope": [],
                "Details": [],
                "LogicalResourceId": "AutoScalingGroup"
            },
            "Type": "Resource"
        },
        <span>{</span>
            "ResourceChange": <span>{</span>
                "Action": "Add",
                "ResourceType": "AWS::AutoScaling::LaunchConfiguration",
                "Scope": [],
                "Details": [],
                "LogicalResourceId": "LaunchConfig"
            },
            "Type": "Resource"
        },
        <span>{</span>
            "ResourceChange": <span>{</span>
                "ResourceType": "AWS::EC2::Instance",
                "PhysicalResourceId": "i-1abc23d4",
                "Details": [],
                "Action": "Remove",
                "Scope": [],
                "LogicalResourceId": "MyEC2Instance"
            },
            "Type": "Resource"
        }
    ],
    "CreationTime": "2020-11-18T01:44:08.444Z",
    "Capabilities": [],
    "StackName": "SampleStack",
    "NotificationARNs": [],
    "ChangeSetId": "arn:aws:cloudformation:us-east-1:123456789012:changeSet/SampleChangeSet-addremove/1a2345b6-0000-00a0-a123-00abc0abc000"
}</code></pre>
      <p>Di struktur <code class="code">Changes</code>, ada tiga struktur <code class="code">ResourceChange</code>, satu untuk setiap sumber daya. Untuk setiap sumber daya, <code class="code">Action</code> bidang menunjukkan apakah  CloudFormation  menambah atau menghapus sumber daya. Bidang <code class="code">Scope</code> dan <code class="code">Details</code> kosong karena hanya berlaku untuk sumber daya yang dimodifikasi.</p>
      <p>Untuk sumber daya baru, tidak  CloudFormation  dapat menentukan nilai beberapa bidang hingga Anda menjalankan set perubahan. Misalnya,  CloudFormation  tidak menyediakan ID fisik grup Auto Scaling dan konfigurasi peluncuran karena belum ada.  CloudFormation membuat sumber daya baru saat Anda menjalankan set perubahan.</p>
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Awas" /> <strong>Javascript dinonaktifkan atau tidak tersedia di browser Anda.</strong></p><p>Untuk menggunakan Dokumentasi AWS, Javascript harus diaktifkan. Lihat halaman Bantuan browser Anda untuk petunjuk.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Konvensi Dokumen</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./using-cfn-updating-stacks-changesets-delete.html">Menghapus set perubahan</div><div id="next" class="next-link" accesskey="n" href="./using-cfn-updating-stacks-direct.html">Memperbarui tumpukan secara langsung</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Apakah halaman ini membantu Anda? - Ya</div><div class="content"><p>Terima kasih telah memberitahukan bahwa hasil pekerjaan kami sudah baik.</p><p>Jika Anda memiliki waktu luang, beri tahu kami aspek apa saja yang sudah bagus, agar kami dapat menerapkannya secara lebih luas.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Umpan Balik" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Apakah halaman ini membantu Anda? - Tidak</div><div class="content"><p>Terima kasih telah memberi tahu kami bahwa halaman ini perlu ditingkatkan. Maaf karena telah mengecewakan Anda.</p><p>Jika Anda memiliki waktu luang, beri tahu kami bagaimana dokumentasi ini dapat ditingkatkan.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Umpan Balik" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>