<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="id-ID"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Templat sampel - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="conditions-sample-templates" /><meta name="default_state" content="conditions-sample-templates" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/conditions-sample-templates.html" /><meta name="description" content="Gunakan templat sampel ini sebagai titik awal untuk membuat templat serupa guna memenuhi kebutuhan Anda." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Panduan Pengguna" /><meta name="abstract" content="Membuat dan mengelola penyebaran AWS infrastruktur dapat diprediksi dan berulang kali menggunakan Panduan Pengguna AWS CloudFormation ini." /><meta name="guide-locale" content="id_id" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/conditions-sample-templates.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/conditions-sample-templates.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/conditions-sample-templates.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/conditions-sample-templates.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/conditions-sample-templates.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/conditions-sample-templates.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/conditions-sample-templates.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/conditions-sample-templates.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/conditions-sample-templates.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/conditions-sample-templates.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/conditions-sample-templates.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/conditions-sample-templates.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/conditions-sample-templates.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/conditions-sample-templates.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/conditions-sample-templates.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/conditions-sample-templates.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/conditions-sample-templates.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/conditions-sample-templates.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/conditions-sample-templates.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/conditions-sample-templates.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/conditions-sample-templates.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/conditions-sample-templates.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Panduan Pengguna" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Panduan Pengguna" /><meta id="panorama-serviceConsolePage" value="Templat sampel" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Templat sampel - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/conditions-sample-templates.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/conditions-sample-templates.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/conditions-sample-templates.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,penyediaan sumber daya,konfigurasi sumber daya,manajemen infrastruktur,CloudFormer,CloudFormation tumpukan,CloudFormation stackset,CloudFormation Template,ubah set" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Panduan Pengguna",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Referensi templat",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/template-reference.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Referensi fungsi intrinsik",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Fungsi syarat",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-conditions.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Templat sampel",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-conditions.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Dokumentasi</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Panduan Pengguna</a></div><div id="page-toc-src"><a href="#w9aac34c28c21c31b3">Membuat sumber daya secara kondisional untuk tumpukan produksi, pengembangan, atau tes</a><a href="#w9aac34c28c21c31b5">Menetapkan properti sumber daya secara bersyarat</a><a href="#w9aac34c28c21c31b7">Menggunakan sumber daya yang sudah ada secara bersyarat</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Terjemahan disediakan oleh mesin penerjemah. Jika konten terjemahan yang diberikan bertentangan dengan versi bahasa Inggris aslinya, utamakan versi bahasa Inggris.</p></awsui-alert><h1 class="topictitle" id="conditions-sample-templates">Templat sampel</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div>
      <h2 id="w9aac34c28c21c31b3">Membuat sumber daya secara kondisional untuk tumpukan produksi, pengembangan, atau tes</h2>

      <p>Dalam beberapa kasus, Anda mungkin ingin membuat tumpukan yang mirip tetapi dengan tweak kecil. Misalnya, Anda mungkin memiliki templat yang Anda gunakan untuk aplikasi produksi. Anda ingin membuat tumpukan produksi yang sama agar Anda dapat menggunakannya untuk pengembangan atau pengujian. Namun, untuk pengembangan dan pengujian, Anda mungkin tidak memerlukan semua kapasitas tambahan yang disertakan dalam tumpukan tingkat produksi. Sebaliknya, Anda dapat menggunakan parameter input jenis lingkungan guna membuat sumber daya tumpukan secara kondisional yang khusus untuk produksi, pengembangan, atau pengujian, seperti yang ditunjukkan dalam contoh berikut:</p>
      <div class="example"><h6>contoh JSON</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "AWSTemplateFormatVersion" : "2010-09-09",

  "Mappings" : <span>{</span>
    "RegionMap" : <span>{</span>
      "us-east-1"      : <span>{</span> "AMI" : "ami-0ff8a91507f77f867"},
      "us-west-1"      : <span>{</span> "AMI" : "ami-0bdb828fd58c52235"},
      "us-west-2"      : <span>{</span> "AMI" : "ami-a0cfeed8"},
      "eu-west-1"      : <span>{</span> "AMI" : "ami-047bb4163c506cd98"},
      "sa-east-1"      : <span>{</span> "AMI" : "ami-07b14488da8ea02a0"},
      "ap-southeast-1" : <span>{</span> "AMI" : "ami-08569b978cc4dfa10"},
      "ap-southeast-2" : <span>{</span> "AMI" : "ami-09b42976632b27e9b"},
      "ap-northeast-1" : <span>{</span> "AMI" : "ami-06cd52961ce9f0d85"}
    }
  },
  
  "Parameters" : <span>{</span>
    "EnvType" : <span>{</span>
      "Description" : "Environment type.",
      "Default" : "test",
      "Type" : "String",
      "AllowedValues" : ["prod", "dev", "test"],
      "ConstraintDescription" : "must specify prod, dev, or test."
    }
  },
  
  "Conditions" : <span>{</span>
    "CreateProdResources" : <span>{</span>"Fn::Equals" : [<span>{</span>"Ref" : "EnvType"}, "prod"]},
    "CreateDevResources" : <span>{</span>"Fn::Equals" : [<span>{</span>"Ref" : "EnvType"}, "dev"]}
  },
  
  "Resources" : <span>{</span>
    "EC2Instance" : <span>{</span>
      "Type" : "AWS::EC2::Instance",
      "Properties" : <span>{</span>
        "ImageId" : <span>{</span> "Fn::FindInMap" : [ "RegionMap", <span>{</span> "Ref" : "AWS::Region" }, "AMI" ]},
        "InstanceType" : <span>{</span> "Fn::If" : [
          "CreateProdResources",
          "c1.xlarge",
          <span>{</span>"Fn::If" : [
            "CreateDevResources",
            "m1.large",
            "m1.small"
          ]}
        ]}
      }
    },
    
    "MountPoint" : <span>{</span>
      "Type" : "AWS::EC2::VolumeAttachment",
      "Condition" : "CreateProdResources",
      "Properties" : <span>{</span>
        "InstanceId" : <span>{</span> "Ref" : "EC2Instance" },
        "VolumeId"  : <span>{</span> "Ref" : "NewVolume" },
        "Device" : "/dev/sdh"
      }
    },

    "NewVolume" : <span>{</span>
      "Type" : "AWS::EC2::Volume",
      "Condition" : "CreateProdResources",
      "Properties" : <span>{</span>
        "Size" : "100",
        "AvailabilityZone" : <span>{</span> "Fn::GetAtt" : [ "EC2Instance", "AvailabilityZone" ]}
      }
    }
  }
}</code></pre></div></div>
      <div class="example"><h6>contoh YAML</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">AWSTemplateFormatVersion: "2010-09-09"

Mappings:
  RegionMap:
    us-east-1:
      AMI: "ami-0ff8a91507f77f867"
    us-west-1:
      AMI: "ami-0bdb828fd58c52235"
    us-west-2:
      AMI: "ami-a0cfeed8"
    eu-west-1:
      AMI: "ami-047bb4163c506cd98"
    sa-east-1:
      AMI: "ami-07b14488da8ea02a0"
    ap-southeast-1:
      AMI: "ami-08569b978cc4dfa10"
    ap-southeast-2:
      AMI: "ami-09b42976632b27e9b"
    ap-northeast-1:
      AMI: "ami-06cd52961ce9f0d85"

Parameters:
  EnvType:
    Description: Environment type.
    Default: test
    Type: String
    AllowedValues: [prod, dev, test]
    ConstraintDescription: must specify prod, dev, or test.
  
Conditions:
  CreateProdResources: !Equals [!Ref EnvType, prod]
  CreateDevResources: !Equals [!Ref EnvType, "dev"]

Resources:
  EC2Instance:
    Type: "AWS::EC2::Instance"
    Properties:
      ImageId: !FindInMap [RegionMap, !Ref "AWS::Region", AMI]
      InstanceType: !If [CreateProdResources, c1.xlarge, !If [CreateDevResources, m1.large, m1.small]]    
  MountPoint:
    Type: "AWS::EC2::VolumeAttachment"
    Condition: CreateProdResources
    Properties:
      InstanceId: !Ref EC2Instance
      VolumeId: !Ref NewVolume
      Device: /dev/sdh
  NewVolume:
    Type: "AWS::EC2::Volume"
    Condition: CreateProdResources
    Properties:
      Size: 100
      AvailabilityZone: !GetAtt EC2Instance.AvailabilityZone</code></pre></div></div>
      <p>Anda dapat menentukan <code class="code">prod</code>, <code class="code">dev</code>, atau <code class="code">test</code> untuk parameter <code class="code">EnvType</code>. Untuk setiap jenis lingkungan, templat menentukan jenis instans yang berbeda. Jenis instans dapat berkisar dari instans besar yang dioptimalkan dengan komputasi hingga instans kecil untuk tujuan umum. Untuk menentukan jenis instans secara kondisional, templat menetapkan dua syarat di bagian Syarat tentang templat: <code class="code">CreateProdResources</code>, yang bernilai true jika nilai parameter <code class="code">EnvType</code> sama dengan <code class="code">prod</code> dan <code class="code">CreateDevResources</code>, yang bernilai true jika nilai parameter sama dengan <code class="code">dev</code>.</p>
      <p>Di properti <code class="code">InstanceType</code>, templat menyimpan dua fungsi intrinsik <code class="code">Fn::If</code> untuk menentukan jenis instans yang akan digunakan. Jika syarat <code class="code">CreateProdResources</code> true, jenis instans adalah <code class="code">c1.xlarge</code>. Jika syarat salah, syarat <code class="code">CreateDevResources</code> dievaluasi. Jika syarat <code class="code">CreateDevResources</code> true, jenis instans adalah <code class="code">m1.large</code> atau <code class="code">m1.small</code>.</p>
      <p>Selain jenis instans, lingkungan produksi membuat dan melampirkan volume Amazon EC2 ke instance. Sumber daya <code class="code">MountPoint</code> dan <code class="code">NewVolume</code> yang terkait dengan syarat <code class="code">CreateProdResources</code> sehingga sumber daya dibuat hanya jika syarat bernilai true.</p>
     
      <h2 id="w9aac34c28c21c31b5">Menetapkan properti sumber daya secara bersyarat</h2>

      <p>Dalam contoh ini, Anda dapat membuat instans Amazon RDS DB dari snapshot. Jika Anda menentukan <code class="code">DBSnapshotName</code> parameter,  CloudFormation  menggunakan nilai parameter sebagai nama snapshot saat membuat instance DB. Jika Anda menyimpan nilai default (string kosong),  CloudFormation menghapus properti <code class="code">DBSnapshotIdentifier</code> dan membuat instans DB dari awal.</p>
      <p>Contoh menetapkan parameter <code class="code">DBUser</code> dan <code class="code">DBPassword</code> dengan properti <code class="code">NoEcho</code>-nya diatur menjadi <code class="code">true</code>. Jika Anda menyetel <code class="code">NoEcho</code> atribut ke<code class="code">true</code>,  CloudFormation  mengembalikan nilai parameter yang disamarkan sebagai tanda bintang (*****) untuk setiap panggilan yang menggambarkan peristiwa tumpukan atau tumpukan, kecuali untuk informasi yang disimpan di lokasi yang ditentukan di bawah ini.</p>
      <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>penting</h6></div><div class="awsdocs-note-text"><p>Menggunakan <code class="code">NoEcho</code> atribut tidak menutupi informasi apa pun yang disimpan sebagai berikut:</p><div class="itemizedlist">
           
           
           
         <ul class="itemizedlist"><li class="listitem">
           <p>Bagian <code class="code">Metadata</code> template.  CloudFormation tidak mengubah, memodifikasi, atau menyunting informasi apa pun yang Anda sertakan di <code class="code">Metadata</code> bagian ini. Untuk informasi selengkapnya, lihat <a href="./metadata-section-structure.html">Metadata</a>.</p>
          </li><li class="listitem">
           <p>Bagian <code class="code">Outputs</code> template. Untuk informasi selengkapnya, lihat <a href="./outputs-section-structure.html">Output</a>.</p>
          </li><li class="listitem">
           <p><code class="code">Metadata</code>Atribut definisi sumber daya. Untuk informasi selengkapnya, lihat <a href="./aws-attribute-metadata.html">Metadataatribut</a>.</p>
          </li></ul></div><p>Kami sangat menyarankan Anda untuk tidak menggunakan mekanisme ini untuk memasukkan informasi sensitif, seperti kata sandi atau rahasia.</p></div></div> <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>penting</h6></div><div class="awsdocs-note-text"><p>Daripada menyematkan informasi sensitif secara langsung di  CloudFormation  template Anda, kami sarankan Anda menggunakan parameter dinamis dalam template tumpukan untuk mereferensikan informasi sensitif yang disimpan dan dikelola di luar CloudFormation, seperti di AWS Systems Manager Parameter Store atau AWS Secrets Manager.</p><p>Untuk informasi lebih lanjut, lihat praktik <a href="./security-best-practices.html#creds">Jangan menanamkan kredensial dalam templat Anda</a> terbaik.</p></div></div> <div class="example"><h6>contoh JSON</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "AWSTemplateFormatVersion" : "2010-09-09",

  "Parameters": <span>{</span>
    "DBUser": <span>{</span>
      "NoEcho": "true",
      "Description" : "The database admin account username",
      "Type": "String",
      "MinLength": "1",
      "MaxLength": "16",
      "AllowedPattern" : "[a-zA-Z][a-zA-Z0-9]*",
      "ConstraintDescription" : "must begin with a letter and contain only alphanumeric characters."
    },
    "DBPassword": <span>{</span>
      "NoEcho": "true",
      "Description" : "The database admin account password",
      "Type": "String",
      "MinLength": "1",
      "MaxLength": "41",
      "AllowedPattern" : "[a-zA-Z0-9]*",
      "ConstraintDescription" : "must contain only alphanumeric characters."
    },
    "DBSnapshotName": <span>{</span>
      "Description": "The name of a DB snapshot (optional)",
      "Default": "",
      "Type": "String"      
    }
  },
  
  "Conditions": <span>{</span>
    "UseDBSnapshot": <span>{</span>"Fn::Not": [<span>{</span>"Fn::Equals" : [<span>{</span>"Ref" : "DBSnapshotName"}, ""]}]}
  },

  "Resources" : <span>{</span>
    "MyDB" : <span>{</span>
      "Type" : "AWS::RDS::DBInstance",
      "Properties" : <span>{</span>
        "AllocatedStorage" : "5",
        "DBInstanceClass" : "db.t2.small",
        "Engine" : "MySQL",
        "EngineVersion" : "5.5",
        "MasterUsername" : <span>{</span> "Ref" : "DBUser" },
        "MasterUserPassword" : <span>{</span> "Ref" : "DBPassword" },
        "DBParameterGroupName" : <span>{</span> "Ref" : "MyRDSParamGroup" },
        "DBSnapshotIdentifier" : <span>{</span>
          "Fn::If" : [
            "UseDBSnapshot",
            <span>{</span>"Ref" : "DBSnapshotName"},
            <span>{</span>"Ref" : "AWS::NoValue"}
          ]
        }
      }
    },

    "MyRDSParamGroup" : <span>{</span>
      "Type": "AWS::RDS::DBParameterGroup",
      "Properties" : <span>{</span>
        "Family" : "MySQL5.5",
        "Description" : "CloudFormation Sample Database Parameter Group",
          "Parameters" : <span>{</span>
            "autocommit" : "1" ,
            "general_log" : "1",
            "old_passwords" : "0"
        }
      }
    }
  }
}</code></pre></div></div>
      <div class="example"><h6>contoh YAML</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">AWSTemplateFormatVersion: "2010-09-09"
Parameters: 
  DBUser: 
    NoEcho: true
    Description: The database admin account username
    Type: String
    MinLength: 1
    MaxLength: 16
    AllowedPattern: "[a-zA-Z][a-zA-Z0-9]*"
    ConstraintDescription: must begin with a letter and contain only alphanumeric characters.
  DBPassword: 
    NoEcho: true
    Description: The database admin account password
    Type: String
    MinLength: 1
    MaxLength: 41
    AllowedPattern: "[a-zA-Z0-9]*"
    ConstraintDescription: must contain only alphanumeric characters.
  DBSnapshotName: 
    Description: The name of a DB snapshot (optional)
    Default: ""
    Type: String
Conditions: 
  UseDBSnapshot: !Not [!Equals [!Ref DBSnapshotName, ""]]
Resources: 
  MyDB: 
    Type: "AWS::RDS::DBInstance"
    Properties: 
      AllocatedStorage: 5
      DBInstanceClass: db.t2.small
      Engine: MySQL
      EngineVersion: 5.5
      MasterUsername: !Ref DBUser
      MasterUserPassword: !Ref DBPassword
      DBParameterGroupName: !Ref MyRDSParamGroup
      DBSnapshotIdentifier: !If [UseDBSnapshot, !Ref DBSnapshotName, !Ref "AWS::NoValue"]
  MyRDSParamGroup: 
    Type: "AWS::RDS::DBParameterGroup"
    Properties: 
      Family: MySQL5.5
      Description: CloudFormation Sample Database Parameter Group
      Parameters: 
        autocommit: 1
        general_log: 1
        old_passwords: 0</code></pre></div></div>
      <p>Syarat <code class="code">UseDBSnapshot</code> bernilai true hanya jika <code class="code">DBSnapshotName</code> bukan sebuah string kosong. Jika <code class="code">UseDBSnapshot</code> kondisi dievaluasi ke true,  CloudFormation  menggunakan nilai <code class="code">DBSnapshotName</code> parameter untuk <code class="code">DBSnapshotIdentifier</code> properti. Jika syarat bernilai salah,  CloudFormation  menghapus properti <code class="code">DBSnapshotIdentifier</code>. Pseudo parameter <code class="code">AWS::NoValue</code> menghapus properti sumber daya yang sesuai ketika digunakan sebagai nilai kembali.</p>
     
      <h2 id="w9aac34c28c21c31b7">Menggunakan sumber daya yang sudah ada secara bersyarat</h2>

      <p>Dalam contoh ini, Anda dapat menggunakan grup keamanan Amazon EC2 yang telah dibuat atau Anda dapat membuat grup keamanan baru, yang ditentukan dalam templat. Untuk parameter <code class="code">ExistingSecurityGroup</code>, Anda dapat menentukan nama grup keamanan <code class="code">default</code> atau <code class="code">NONE</code>. Jika Anda menentukan <code class="code">default</code>,  CloudFormation akan menggunakan grup keamanan yang telah dibuat dan diberi nama <code class="code">default</code>. Jika Anda menentukan<code class="code">NONE</code>,  CloudFormation  membuat grup keamanan yang ditentukan dalam template.</p>
      <div class="example"><h6>contoh JSON</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Parameters" : <span>{</span>
    "ExistingSecurityGroup" : <span>{</span>
      "Description" : "An existing security group ID (optional).",
      "Default" : "NONE",
      "Type" : "String",
      "AllowedValues" : ["default", "NONE"]
    }
  },
 
  "Conditions" : <span>{</span>
    "CreateNewSecurityGroup" : <span>{</span>"Fn::Equals" : [<span>{</span>"Ref" : "ExistingSecurityGroup"}, "NONE"] }
  },

  "Resources" : <span>{</span>
    "MyInstance" : <span>{</span>
      "Type" : "AWS::EC2::Instance",
        "Properties" : <span>{</span>
          "ImageId" : "ami-0ff8a91507f77f867",
          "SecurityGroups" : [<span>{</span>
            "Fn::If" : [
              "CreateNewSecurityGroup",
              <span>{</span>"Ref" : "NewSecurityGroup"},
              <span>{</span>"Ref" : "ExistingSecurityGroup"}
            ]
          }]
        }
    },

    "NewSecurityGroup" : <span>{</span>
      "Type" : "AWS::EC2::SecurityGroup",
      "Condition" : "CreateNewSecurityGroup",
      "Properties" : <span>{</span>
        "GroupDescription" : "Enable HTTP access via port 80",
        "SecurityGroupIngress" : [ <span>{</span>
          "IpProtocol" : "tcp",
          "FromPort" : 80,
          "ToPort" : 80,
          "CidrIp" : "0.0.0.0/0"
        } ]
      }
    }
  },

  "Outputs" : <span>{</span>
    "SecurityGroupId" : <span>{</span>
      "Description" : "Group ID of the security group used.",
      "Value" : <span>{</span>
        "Fn::If" : [
          "CreateNewSecurityGroup",
          <span>{</span>"Ref" : "NewSecurityGroup"},
          <span>{</span>"Ref" : "ExistingSecurityGroup"}
        ]
      }
    }
  }
}</code></pre></div></div>
      <div class="example"><h6>contoh YAML</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Parameters: 
  ExistingSecurityGroup: 
    Description: An existing security group ID (optional).
    Default: NONE
    Type: String
    AllowedValues: 
      - default
      - NONE
Conditions: 
  CreateNewSecurityGroup: !Equals [!Ref ExistingSecurityGroup, NONE]
Resources: 
  MyInstance: 
    Type: "AWS::EC2::Instance"
    Properties: 
      ImageId: "ami-0ff8a91507f77f867"
      SecurityGroups: !If [CreateNewSecurityGroup, !Ref NewSecurityGroup, !Ref ExistingSecurityGroup]
  NewSecurityGroup: 
    Type: "AWS::EC2::SecurityGroup"
    Condition: CreateNewSecurityGroup
    Properties: 
      GroupDescription: Enable HTTP access via port 80
      SecurityGroupIngress: 
        - 
          IpProtocol: tcp
          FromPort: 80
          ToPort: 80
          CidrIp: 0.0.0.0/0
Outputs: 
  SecurityGroupId:
    Description: Group ID of the security group used.
    Value: !If [CreateNewSecurityGroup, !Ref NewSecurityGroup, !Ref ExistingSecurityGroup]</code></pre></div></div>
      <p>Untuk menentukan apakah akan membuat sumber daya <code class="code">NewSecurityGroup</code>, sumber daya terkait dengan syarat <code class="code">CreateNewSecurityGroup</code>. Sumber daya dibuat hanya jika syarat benar (ketika parameter <code class="code">ExistingSecurityGroup</code> sama dengan <code class="code">NONE</code>).</p>
      <p>Di properti <code class="code">SecurityGroups</code>, templat menyimpan dua fungsi intrinsik <code class="code">Fn::If</code> untuk menentukan grup keamanan yang akan digunakan. Jika syarat <code class="code">CreateNewSecurityGroup</code> bernilai true, properti grup keamanan mereferensikan sumber daya <code class="code">NewSecurityGroup</code>. Jika syarat <code class="code">CreateNewSecurityGroup</code> bernilai false, properti grup keamanan mereferensikan parameter <code class="code">ExistingSecurityGroup</code> (grup keamanan <code class="code">default</code>).</p>
      <p>Terakhir, template secara kondisional menghasilkan output ID grup keamanan. Jika <code class="code">CreateNewSecurityGroup</code> kondisi dievaluasi ke true,  CloudFormation  output ID grup keamanan sumber daya. <code class="code">NewSecurityGroup</code> Jika syarat salah,  CloudFormation  menghasilkan output ID grup keamanan ID dari sumber daya <code class="code">ExistingSecurityGroup</code>.</p>
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Awas" /> <strong>Javascript dinonaktifkan atau tidak tersedia di browser Anda.</strong></p><p>Untuk menggunakan Dokumentasi AWS, Javascript harus diaktifkan. Lihat halaman Bantuan browser Anda untuk petunjuk.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Konvensi Dokumen</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./intrinsic-function-reference-conditions.html">Fungsi syarat</div><div id="next" class="next-link" accesskey="n" href="./intrinsic-function-reference-condition.html">Kondisi</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Apakah halaman ini membantu Anda? - Ya</div><div class="content"><p>Terima kasih telah memberitahukan bahwa hasil pekerjaan kami sudah baik.</p><p>Jika Anda memiliki waktu luang, beri tahu kami aspek apa saja yang sudah bagus, agar kami dapat menerapkannya secara lebih luas.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Umpan Balik" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/conditions-sample-templates.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Apakah halaman ini membantu Anda? - Tidak</div><div class="content"><p>Terima kasih telah memberi tahu kami bahwa halaman ini perlu ditingkatkan. Maaf karena telah mengecewakan Anda.</p><p>Jika Anda memiliki waktu luang, beri tahu kami bagaimana dokumentasi ini dapat ditingkatkan.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Umpan Balik" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/conditions-sample-templates.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>