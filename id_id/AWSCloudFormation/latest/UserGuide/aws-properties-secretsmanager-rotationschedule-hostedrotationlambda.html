<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>AWS::SecretsManager::RotationSchedule HostedRotationLambda - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="aws-properties-secretsmanager-rotationschedule-hostedrotationlambda" /><meta name="default_state" content="aws-properties-secretsmanager-rotationschedule-hostedrotationlambda" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-secretsmanager-rotationschedule-hostedrotationlambda.html" /><meta name="description" content="Use the AWS CloudFormation AWS::SecretsManager::RotationSchedule.HostedRotationLambda resource for SecretsManager." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Create and manage AWS infrastructure deployments predictably and repeatedly using AWS CloudFormation with this User Guide." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json;toc-AWS_SecretsManager.json" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-secretsmanager-rotationschedule-hostedrotationlambda.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-properties-secretsmanager-rotationschedule-hostedrotationlambda.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-properties-secretsmanager-rotationschedule-hostedrotationlambda.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-properties-secretsmanager-rotationschedule-hostedrotationlambda.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-properties-secretsmanager-rotationschedule-hostedrotationlambda.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-secretsmanager-rotationschedule-hostedrotationlambda.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-secretsmanager-rotationschedule-hostedrotationlambda.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-properties-secretsmanager-rotationschedule-hostedrotationlambda.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-properties-secretsmanager-rotationschedule-hostedrotationlambda.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-properties-secretsmanager-rotationschedule-hostedrotationlambda.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-properties-secretsmanager-rotationschedule-hostedrotationlambda.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-properties-secretsmanager-rotationschedule-hostedrotationlambda.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-properties-secretsmanager-rotationschedule-hostedrotationlambda.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-properties-secretsmanager-rotationschedule-hostedrotationlambda.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-properties-secretsmanager-rotationschedule-hostedrotationlambda.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-properties-secretsmanager-rotationschedule-hostedrotationlambda.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-properties-secretsmanager-rotationschedule-hostedrotationlambda.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-properties-secretsmanager-rotationschedule-hostedrotationlambda.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-properties-secretsmanager-rotationschedule-hostedrotationlambda.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/aws-properties-secretsmanager-rotationschedule-hostedrotationlambda.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/aws-properties-secretsmanager-rotationschedule-hostedrotationlambda.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-secretsmanager-rotationschedule-hostedrotationlambda.html" hreflang="x-default" /><meta name="feedback-item" content="Secrets Manager" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="AWS::SecretsManager::RotationSchedule HostedRotationLambda" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>AWS::SecretsManager::RotationSchedule HostedRotationLambda - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Secrets%20Manager&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-properties-secretsmanager-rotationschedule-hostedrotationlambda.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-properties-secretsmanager-rotationschedule-hostedrotationlambda.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-properties-secretsmanager-rotationschedule-hostedrotationlambda.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "AWS Secrets Manager resource type reference",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/AWS_SecretsManager.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "AWS::SecretsManager::RotationSchedule",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-secretsmanager-rotationschedule.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "AWS::SecretsManager::RotationSchedule HostedRotationLambda",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-secretsmanager-rotationschedule.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="AWS_SecretsManager.html">User Guide</a></div><div id="page-toc-src"><a href="#aws-properties-secretsmanager-rotationschedule-hostedrotationlambda-syntax">Syntax</a><a href="#aws-properties-secretsmanager-rotationschedule-hostedrotationlambda-properties">Properties</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="aws-properties-secretsmanager-rotationschedule-hostedrotationlambda">AWS::SecretsManager::RotationSchedule HostedRotationLambda</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Creates a new Lambda rotation 
      function based on one of the <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/reference_available-rotation-templates.html">
        Secrets Manager rotation function templates</a>.</p><p>You must specify <code class="code">Transform:
        AWS::SecretsManager-2020-07-23</code> at the beginning of the CloudFormation
      template.</p><p>For Amazon RDS master user credentials, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-rds-dbcluster-masterusersecret.html">AWS::RDS::DBCluster MasterUserSecret</a>.</p><h2 id="aws-properties-secretsmanager-rotationschedule-hostedrotationlambda-syntax">Syntax</h2><p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p><div id="JSON" name="JSON" class="section langfilter"><h3 id="aws-properties-secretsmanager-rotationschedule-hostedrotationlambda-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "<a href="#cfn-secretsmanager-rotationschedule-hostedrotationlambda-excludecharacters">ExcludeCharacters</a>" : <code class="replaceable">String</code>,
  "<a href="#cfn-secretsmanager-rotationschedule-hostedrotationlambda-kmskeyarn">KmsKeyArn</a>" : <code class="replaceable">String</code>,
  "<a href="#cfn-secretsmanager-rotationschedule-hostedrotationlambda-mastersecretarn">MasterSecretArn</a>" : <code class="replaceable">String</code>,
  "<a href="#cfn-secretsmanager-rotationschedule-hostedrotationlambda-mastersecretkmskeyarn">MasterSecretKmsKeyArn</a>" : <code class="replaceable">String</code>,
  "<a href="#cfn-secretsmanager-rotationschedule-hostedrotationlambda-rotationlambdaname">RotationLambdaName</a>" : <code class="replaceable">String</code>,
  "<a href="#cfn-secretsmanager-rotationschedule-hostedrotationlambda-rotationtype">RotationType</a>" : <code class="replaceable">String</code>,
  "<a href="#cfn-secretsmanager-rotationschedule-hostedrotationlambda-runtime">Runtime</a>" : <code class="replaceable">String</code>,
  "<a href="#cfn-secretsmanager-rotationschedule-hostedrotationlambda-superusersecretarn">SuperuserSecretArn</a>" : <code class="replaceable">String</code>,
  "<a href="#cfn-secretsmanager-rotationschedule-hostedrotationlambda-superusersecretkmskeyarn">SuperuserSecretKmsKeyArn</a>" : <code class="replaceable">String</code>,
  "<a href="#cfn-secretsmanager-rotationschedule-hostedrotationlambda-vpcsecuritygroupids">VpcSecurityGroupIds</a>" : <code class="replaceable">String</code>,
  "<a href="#cfn-secretsmanager-rotationschedule-hostedrotationlambda-vpcsubnetids">VpcSubnetIds</a>" : <code class="replaceable">String</code>
}
</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h3 id="aws-properties-secretsmanager-rotationschedule-hostedrotationlambda-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">  <a href="#cfn-secretsmanager-rotationschedule-hostedrotationlambda-excludecharacters">ExcludeCharacters</a>: <code class="replaceable">String</code>
  <a href="#cfn-secretsmanager-rotationschedule-hostedrotationlambda-kmskeyarn">KmsKeyArn</a>: <code class="replaceable">String</code>
  <a href="#cfn-secretsmanager-rotationschedule-hostedrotationlambda-mastersecretarn">MasterSecretArn</a>: <code class="replaceable">String</code>
  <a href="#cfn-secretsmanager-rotationschedule-hostedrotationlambda-mastersecretkmskeyarn">MasterSecretKmsKeyArn</a>: <code class="replaceable">String</code>
  <a href="#cfn-secretsmanager-rotationschedule-hostedrotationlambda-rotationlambdaname">RotationLambdaName</a>: <code class="replaceable">String</code>
  <a href="#cfn-secretsmanager-rotationschedule-hostedrotationlambda-rotationtype">RotationType</a>: <code class="replaceable">String</code>
  <a href="#cfn-secretsmanager-rotationschedule-hostedrotationlambda-runtime">Runtime</a>: <code class="replaceable">String</code>
  <a href="#cfn-secretsmanager-rotationschedule-hostedrotationlambda-superusersecretarn">SuperuserSecretArn</a>: <code class="replaceable">String</code>
  <a href="#cfn-secretsmanager-rotationschedule-hostedrotationlambda-superusersecretkmskeyarn">SuperuserSecretKmsKeyArn</a>: <code class="replaceable">String</code>
  <a href="#cfn-secretsmanager-rotationschedule-hostedrotationlambda-vpcsecuritygroupids">VpcSecurityGroupIds</a>: <code class="replaceable">String</code>
  <a href="#cfn-secretsmanager-rotationschedule-hostedrotationlambda-vpcsubnetids">VpcSubnetIds</a>: <code class="replaceable">String</code>
</code></pre></div><h2 id="aws-properties-secretsmanager-rotationschedule-hostedrotationlambda-properties">Properties</h2><div class="variablelist"><dl><dt id="cfn-secretsmanager-rotationschedule-hostedrotationlambda-excludecharacters"><span class="term"><code class="code">ExcludeCharacters</code></span></dt><dd>
    <p>A string of the characters that you don't want in the password.</p>
  <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-secretsmanager-rotationschedule-hostedrotationlambda-kmskeyarn"><span class="term"><code class="code">KmsKeyArn</code></span></dt><dd>
    <p>The ARN of the KMS key that Secrets Manager uses to encrypt the secret. If you don't
      specify this value, then Secrets Manager uses the key <code class="code">aws/secretsmanager</code>. If
        <code class="code">aws/secretsmanager</code> doesn't yet exist, then Secrets Manager creates it for you
      automatically the first time it encrypts the secret value. </p>
  <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-secretsmanager-rotationschedule-hostedrotationlambda-mastersecretarn"><span class="term"><code class="code">MasterSecretArn</code></span></dt><dd>
    <p>The ARN of the secret that contains superuser credentials, if you use the
      <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/rotating-secrets_strategies.html#rotating-secrets-two-users"> Alternating users rotation strategy</a>. CloudFormation grants the execution role for the Lambda rotation function <code class="code">GetSecretValue</code> permission to the secret in this property. For more information, see <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/rotating-secrets-required-permissions-function.html">Lambda rotation function execution role permissions for Secrets Manager</a>. </p>
    <p>You must create the superuser secret before you can set this property. </p>
    <p>You must also include the superuser secret ARN as a key in the JSON of the rotating secret so that the Lambda rotation function can find it. CloudFormation does not hardcode secret ARNs in the Lambda rotation function, so you can use the function to rotate multiple secrets. For more information, see <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/reference_secret_json_structure.html">JSON structure of Secrets Manager secrets</a>. </p>
    <p>You can specify <code class="code">MasterSecretArn</code> or <code class="code">SuperuserSecretArn</code> but not both. They represent the same superuser secret.</p>
  <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-secretsmanager-rotationschedule-hostedrotationlambda-mastersecretkmskeyarn"><span class="term"><code class="code">MasterSecretKmsKeyArn</code></span></dt><dd>
    <p>The ARN of the KMS key that Secrets Manager used to encrypt the superuser secret, if
      you use the <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/rotating-secrets_strategies.html#rotating-secrets-two-users">alternating users strategy</a> and the superuser secret is encrypted with a customer managed key. You don't need to specify this property if the superuser secret is encrypted using the key <code class="code">aws/secretsmanager</code>. CloudFormation grants the execution role for the Lambda rotation function <code class="code">Decrypt</code>, <code class="code">DescribeKey</code>, and <code class="code">GenerateDataKey</code> permission to the key in this property. For more information, see <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/rotating-secrets-required-permissions-function.html">Lambda rotation function execution role permissions for Secrets Manager</a>. </p>
    <p>You can specify <code class="code">MasterSecretKmsKeyArn</code> or <code class="code">SuperuserSecretKmsKeyArn</code> but not both. They represent the same superuser secret KMS key.</p>
  <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-secretsmanager-rotationschedule-hostedrotationlambda-rotationlambdaname"><span class="term"><code class="code">RotationLambdaName</code></span></dt><dd>
    <p>The name of the Lambda rotation function.</p>
  <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-secretsmanager-rotationschedule-hostedrotationlambda-rotationtype"><span class="term"><code class="code">RotationType</code></span></dt><dd>
    <p>The rotation template to base the rotation function on, one of the following:</p>
    <div class="itemizedlist">
       
       
       
       
       
       
       
       
       
       
       
       
       
       
       
       
    <ul class="itemizedlist"><li class="listitem">
        <p><code class="code">Db2SingleUser</code> to use the template <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/reference_available-rotation-templates.html#sar-template-db2-singleuser">SecretsManagerRDSDb2RotationSingleUser</a>.</p>
      </li><li class="listitem">
        <p><code class="code">Db2MultiUser</code> to use the template <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/reference_available-rotation-templates.html#sar-template-db2-multiuser">SecretsManagerRDSDb2RotationMultiUser</a>. </p>
      </li><li class="listitem">
        <p><code class="code">MySQLSingleUser</code> to use the template <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/reference_available-rotation-templates.html#sar-template-mysql-singleuser">SecretsManagerRDSMySQLRotationSingleUser</a>.</p>
      </li><li class="listitem">
        <p><code class="code">MySQLMultiUser</code> to use the template <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/reference_available-rotation-templates.html#sar-template-mysql-multiuser">SecretsManagerRDSMySQLRotationMultiUser</a>. </p>
      </li><li class="listitem">
        <p><code class="code">PostgreSQLSingleUser</code> to use the template <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/reference_available-rotation-templates.html#sar-template-postgre-singleuser"> SecretsManagerRDSPostgreSQLRotationSingleUser</a></p>
      </li><li class="listitem">
        <p><code class="code">PostgreSQLMultiUser</code> to use the template <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/reference_available-rotation-templates.html#sar-template-postgre-multiuser">SecretsManagerRDSPostgreSQLRotationMultiUser</a>.</p>
      </li><li class="listitem">
        <p><code class="code">OracleSingleUser</code> to use the template <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/reference_available-rotation-templates.html#sar-template-oracle-singleuser">SecretsManagerRDSOracleRotationSingleUser</a>.</p>
      </li><li class="listitem">
        <p><code class="code">OracleMultiUser</code> to use the template <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/reference_available-rotation-templates.html#sar-template-oracle-multiuser">SecretsManagerRDSOracleRotationMultiUser</a>.</p>
      </li><li class="listitem">
        <p><code class="code">MariaDBSingleUser</code> to use the template <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/reference_available-rotation-templates.html#sar-template-mariadb-singleuser">SecretsManagerRDSMariaDBRotationSingleUser</a>.</p>
      </li><li class="listitem">
        <p><code class="code">MariaDBMultiUser</code> to use the template <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/reference_available-rotation-templates.html#sar-template-mariadb-multiuser">SecretsManagerRDSMariaDBRotationMultiUser</a>.</p>
      </li><li class="listitem">
        <p><code class="code">SQLServerSingleUser</code> to use the template <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/reference_available-rotation-templates.html#sar-template-sqlserver-singleuser">SecretsManagerRDSSQLServerRotationSingleUser</a>.</p>
      </li><li class="listitem">
        <p><code class="code">SQLServerMultiUser</code> to use the template <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/reference_available-rotation-templates.html#sar-template-sqlserver-multiuser">SecretsManagerRDSSQLServerRotationMultiUser</a>.</p>
      </li><li class="listitem">
        <p><code class="code">RedshiftSingleUser</code> to use the template <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/reference_available-rotation-templates.html#sar-template-redshift-singleuser">SecretsManagerRedshiftRotationSingleUsr</a>.</p>
      </li><li class="listitem">
        <p><code class="code">RedshiftMultiUser</code> to use the template <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/reference_available-rotation-templates.html#sar-template-redshift-multiuser">SecretsManagerRedshiftRotationMultiUser</a>.</p>
      </li><li class="listitem">
        <p><code class="code">MongoDBSingleUser</code> to use the template <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/reference_available-rotation-templates.html#sar-template-mongodb-singleuser">SecretsManagerMongoDBRotationSingleUser</a>.</p>
      </li><li class="listitem">
        <p><code class="code">MongoDBMultiUser</code> to use the template <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/reference_available-rotation-templates.html#sar-template-mongodb-multiuser">SecretsManagerMongoDBRotationMultiUser</a>.</p>
      </li></ul></div>

  <p><em>Required</em>: Yes</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-secretsmanager-rotationschedule-hostedrotationlambda-runtime"><span class="term"><code class="code">Runtime</code></span></dt><dd>
    <p>By default, CloudFormation deploys Python 3.9 binaries for the rotation function. To use a different version of Python, you must do the following two steps:</p>
    <div class="orderedlist">
       
       
    <ol><li><p>Deploy the matching version Python binaries with your rotation function.</p></li><li><p>Set the version number in this field. For example, for Python 3.7, enter <b>python3.7</b></p></li></ol></div>
    <p>If you only do one of the steps, your rotation function will be incompatible with the binaries. For more information, see <a href="https://repost.aws/knowledge-center/secrets-manager-lambda-rotation" rel="noopener noreferrer" target="_blank"><span>Why did my Lambda rotation function fail with a "pg module not found" error</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
  <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-secretsmanager-rotationschedule-hostedrotationlambda-superusersecretarn"><span class="term"><code class="code">SuperuserSecretArn</code></span></dt><dd>
    <p>The ARN of the secret that contains superuser credentials, if you use the
      <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/rotating-secrets_strategies.html#rotating-secrets-two-users"> Alternating users rotation strategy</a>. CloudFormation grants the execution role for the Lambda rotation function <code class="code">GetSecretValue</code> permission to the secret in this property. For more information, see <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/rotating-secrets-required-permissions-function.html">Lambda rotation function execution role permissions for Secrets Manager</a>. </p>
    <p>You must create the superuser secret before you can set this property. </p>
    <p>You must also include the superuser secret ARN as a key in the JSON of the rotating secret so that the Lambda rotation function can find it. CloudFormation does not hardcode secret ARNs in the Lambda rotation function, so you can use the function to rotate multiple secrets. For more information, see <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/reference_secret_json_structure.html">JSON structure of Secrets Manager secrets</a>. </p>
    <p>You can specify <code class="code">MasterSecretArn</code> or <code class="code">SuperuserSecretArn</code> but not both. They represent the same superuser secret.</p>
  <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-secretsmanager-rotationschedule-hostedrotationlambda-superusersecretkmskeyarn"><span class="term"><code class="code">SuperuserSecretKmsKeyArn</code></span></dt><dd>
    <p>The ARN of the KMS key that Secrets Manager used to encrypt the superuser secret, if
      you use the <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/rotating-secrets_strategies.html#rotating-secrets-two-users">alternating users strategy</a> and the superuser secret is encrypted with a customer managed key. You don't need to specify this property if the superuser secret is encrypted using the key <code class="code">aws/secretsmanager</code>. CloudFormation grants the execution role for the Lambda rotation function <code class="code">Decrypt</code>, <code class="code">DescribeKey</code>, and <code class="code">GenerateDataKey</code> permission to the key in this property. For more information, see <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/rotating-secrets-required-permissions-function.html">Lambda rotation function execution role permissions for Secrets Manager</a>. </p>
    <p>You can specify <code class="code">MasterSecretKmsKeyArn</code> or <code class="code">SuperuserSecretKmsKeyArn</code> but not both. They represent the same superuser secret KMS key.</p>
  <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-secretsmanager-rotationschedule-hostedrotationlambda-vpcsecuritygroupids"><span class="term"><code class="code">VpcSecurityGroupIds</code></span></dt><dd>
    <p>A comma-separated list of security group IDs applied to the target database.</p>
    <p>The template applies the same security groups as on the Lambda rotation function that is
      created as part of this stack.</p>
  <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-secretsmanager-rotationschedule-hostedrotationlambda-vpcsubnetids"><span class="term"><code class="code">VpcSubnetIds</code></span></dt><dd>
    <p>A comma separated list of VPC subnet IDs of the target database network. The Lambda
      rotation function is in the same subnet group.</p>
  <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd></dl></div><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./aws-resource-secretsmanager-rotationschedule.html">AWS::SecretsManager::RotationSchedule</div><div id="next" class="next-link" accesskey="n" href="./aws-properties-secretsmanager-rotationschedule-rotationrules.html">RotationRules</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Secrets Manager&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-properties-secretsmanager-rotationschedule-hostedrotationlambda.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Secrets Manager&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-properties-secretsmanager-rotationschedule-hostedrotationlambda.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>