<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="id-ID"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Menggunakan AWS CloudFormation makro untuk melakukan pemrosesan khusus pada templat - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="template-macros" /><meta name="default_state" content="template-macros" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/template-macros.html" /><meta name="description" content="Gunakan makro untuk melakukan pemrosesan khusus pada templat, mulai dari tindakan sederhana seperti find-and-replace operasi hingga transformasi ekstensif seluruh templat." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Panduan Pengguna" /><meta name="abstract" content="Membuat dan mengelola penyebaran AWS infrastruktur dapat diprediksi dan berulang kali menggunakan Panduan Pengguna AWS CloudFormation ini." /><meta name="guide-locale" content="id_id" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/template-macros.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Panduan Pengguna" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Panduan Pengguna" /><meta id="panorama-serviceConsolePage" value="Menggunakan AWS CloudFormation makro untuk melakukan pemrosesan khusus pada templat" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Menggunakan AWS CloudFormation makro untuk melakukan pemrosesan khusus pada templat - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/template-macros.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/template-macros.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/template-macros.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,penyediaan sumber daya,konfigurasi sumber daya,manajemen infrastruktur,CloudFormer,CloudFormation tumpukan,CloudFormation stackset,CloudFormation Template,ubah set" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Panduan Pengguna",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Bekerja dengan templat AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/template-guide.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Menggunakan AWS CloudFormation makro untuk melakukan pemrosesan khusus pada templat",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/template-guide.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Dokumentasi</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Panduan Pengguna</a></div><div id="page-toc-src"><a href="#template-macros-overview">Bagaimana AWS CloudFormation makro bekerja</a><a href="#template-macros-author">Membuat definisi AWS CloudFormation makro</a><a href="#template-macros-use">Menggunakan AWS CloudFormation makro di template Anda</a><a href="#template-macros-examples-list">Contoh makro</a><a href="#template-macros-seealso">Lihat juga</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Terjemahan disediakan oleh mesin penerjemah. Jika konten terjemahan yang diberikan bertentangan dengan versi bahasa Inggris aslinya, utamakan versi bahasa Inggris.</p></awsui-alert><h1 class="topictitle" id="template-macros">Menggunakan AWS CloudFormation makro untuk melakukan pemrosesan khusus pada templat</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Makro memungkinkan Anda melakukan pemrosesan khusus pada templat, mulai dari tindakan sederhana seperti  find-and-replace  operasi hingga transformasi ekstensif dari seluruh templat.</p><p>Untuk mendapatkan gambaran tentang luasnya kemungkinan, pertimbangkan <code class="code">AWS::Include</code> dan <code class="code">AWS::Serverless</code> transformasi, yang merupakan makro yang dihosting oleh: AWS CloudFormation</p><div class="itemizedlist">
         
         
    <ul class="itemizedlist"><li class="listitem">
            <p><code class="code"><a href="./create-reusable-transform-function-snippets-and-add-to-your-template-with-aws-include-transform.html">Tansformasi AWS::Include</a></code> memungkinkan Anda untuk memasukkan snippet templat boilerplate ke dalam templat.</p>
        </li><li class="listitem">
            <p><code class="code"><a href="./transform-aws-serverless.html">Tansformasi AWS::Serverless</a></code>mengambil seluruh template yang ditulis dalam sintaks AWS Serverless Application Model (AWS SAM) dan mengubah dan memperluasnya menjadi template yang sesuai. AWS CloudFormation <em>(Untuk informasi selengkapnya tentang aplikasi tanpa server dan AWS SAM, lihat <a href="https://docs.aws.amazon.com/lambda/latest/dg/deploying-lambda-apps.html">Menyebarkan aplikasi berbasis Lambda</a> di Panduan Pengembang.)AWS Lambda </em></p>
        </li></ul></div><h2 id="template-macros-overview">Bagaimana AWS CloudFormation makro bekerja</h2><p>Ada dua langkah utama untuk memproses templat menggunakan makro: <em>membuat</em> makro itu sendiri, lalu <em>menggunakan</em> makro untuk melakukan pemrosesan pada templat Anda.</p><p>Untuk membuat definisi makro, Anda perlu membuat hal berikut:</p><div class="itemizedlist">
         
         
    <ul class="itemizedlist"><li class="listitem">
            <p> AWS Lambda Fungsi untuk melakukan pemrosesan template. Fungsi Lambda ini menerima cuplikan atau seluruh templat, dan parameter tambahan apa pun yang Anda tentukan. Fungsi ini mengembalikan snippet templat yang diproses atau seluruh templat sebagai respons.</p>
        </li><li class="listitem">
            <p>Sumber daya tipe<code class="code"><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-macro.html">AWS::CloudFormation::Macro</a></code>, yang memungkinkan pengguna untuk memanggil fungsi Lambda dari dalam AWS CloudFormation templat. Sumber daya ini menentukan ARN dari fungsi Lambda untuk memanggil makro ini, dan properti opsional tambahan untuk membantu debugging. Untuk membuat sumber daya ini di dalam akun, buat templat yang menyertakan <code class="code"><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-macro.html">AWS::CloudFormation::Macro</a></code> sumber daya, lalu buat tumpukan atau kumpulan tumpukan dengan izin yang dikelola sendiri dari templat. AWS CloudFormation StackSetssaat ini tidak mendukung pembuatan atau pembaruan kumpulan tumpukan dengan izin yang dikelola layanan dari templat yang mereferensikan makro.</p>
        </li></ul></div><p>Untuk menggunakan makro, referensikan makro dalam templat Anda:</p><div class="itemizedlist">
         
         
    <ul class="itemizedlist"><li class="listitem">
            <p>Untuk memproses bagian, atau <em>snippet</em>, dari sebuah templat, referensikan makro dalam fungsi <code class="code"><a href="./intrinsic-function-reference-transform.html">Fn::Transform</a></code> yang terletak relatif terhadap konten templat yang ingin Anda ubah. Saat menggunakan <code class="code">Fn::Transform</code>, Anda juga dapat melewati parameter tertentu yang diperlukan.</p>
        </li><li class="listitem">
            <p>Untuk memproses seluruh template, referensikan makro di bagian <a href="./transform-section-structure.html">Transformasi</a> dari templat.</p>
        </li></ul></div><p>Selanjutnya, Anda biasanya membuat set perubahan dan kemudian menjalankannya. (Memproses makro dapat menambahkan beberapa sumber daya yang mungkin tidak Anda sadari. Untuk memastikan bahwa Anda mengetahui semua perubahan yang diperkenalkan oleh makro, kami sangat menyarankan agar Anda menggunakan set perubahan.) AWS CloudFormation meneruskan konten template yang ditentukan, bersama dengan parameter tambahan yang ditentukan, ke fungsi Lambda yang ditentukan dalam sumber daya makro. Fungsi Lambda mengembalikan konten template yang diproses, baik itu cuplikan atau seluruh template.</p><p>Setelah semua makro dalam template dipanggil, AWS CloudFormation menghasilkan set perubahan yang menyertakan konten template yang diproses. Setelah Anda meninjau set perubahan, jalankan untuk menerapkan perubahan.</p><div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>penting</h6></div><div class="awsdocs-note-text"><p>Jika templat set tumpukan Anda mereferensikan satu atau beberapa makro, Anda harus membuat set tumpukan langsung dari templat yang diproses, tanpa terlebih dahulu meninjau perubahan yang dihasilkan dalam set perubahan. Untuk membuat atau memperbarui kumpulan tumpukan secara langsung, Anda harus menggunakan <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_UpdateStackSet.html"><code class="code">UpdateStackSet</code></a>tindakan <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_CreateStackSet.html"><code class="code">CreateStackSet</code></a>atau dan menentukan <code class="code">CAPABILITY_AUTO_EXPAND</code> kemampuannya. Sebelum Anda membuat atau memperbarui set tumpukan dari templat yang mereferensikan makro secara langsung, pastikan Anda mengetahui apa yang dilakukan pemrosesan makro.</p></div></div><div class="mediaobject">
         
            
            <img src="images/template-macro-use.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;            Gunakan fungsi Fn::Transform intrinsik atau Transform bagian template, untuk meneruskan konten template dan parameter terkait ke Lambda fungsi dasar makro, yang mengembalikan konten template yang diproses.&#xA;        " style="max-width:100%" />
         
         
    </div><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>catatan</h6></div><div class="awsdocs-note-text"><p>Jika Anda merasa nyaman membuat atau memperbarui tumpukan langsung dari templat yang diproses, tanpa terlebih dahulu meninjau perubahan yang diusulkan dalam set perubahan, Anda dapat melakukannya dengan menentukan kemampuan <code class="code">CAPABILITY_AUTO_EXPAND</code> selama permintaan <code class="code">CreateStack</code> atau <code class="code">UpdateStack</code>. Anda hanya boleh membuat tumpukan langsung dari templat yang mereferensikan makro jika Anda tahu apa yang dilakukan pemrosesan makro.</p><p>Untuk informasi selengkapnya, lihat <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_CreateStack.html">CreateStack</a>atau <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_UpdateStack.html">UpdateStack</a>di <em>ReferensiAWS CloudFormation API</em>.</p></div></div><h2 id="template-macros-author">Membuat definisi AWS CloudFormation makro</h2>
        <p>Saat Anda membuat definisi makro, definisi makro membuat fungsi Lambda yang mendasarinya tersedia di akun yang ditentukan sehingga AWS CloudFormation memanggilnya untuk memproses templat.</p>
        
        <h3 id="template-macros-lambda-interface">AWS CloudFormation antarmuka fungsi makro</h3>
            <p>Untuk makro, AWS CloudFormation memanggil fungsi Lambda yang mendasarinya dengan pemetaan peristiwa berikut. AWS CloudFormation mengirimkan permintaannya dalam format JSON, dan mengharapkan respons fungsi diformat sebagai JSON juga.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "region" : "<code class="replaceable">us-east-1</code>",
    "accountId" : "<code class="replaceable">$ACCOUNT_ID</code>",
    "fragment" : <span>{</span> <code class="replaceable">...</code> },
    "transformId" : "<code class="replaceable">$TRANSFORM_ID</code>",
    "params" : <span>{</span> <code class="replaceable">...</code> },
    "requestId" : "<code class="replaceable">$REQUEST_ID</code>",
    "templateParameterValues" : <span>{</span> <code class="replaceable">...</code> }
}</code></pre>

            <div class="itemizedlist">
                 
                 
                 
                 
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem"><p><b>region</b></p>
                    <p>Wilayah tempat makro berada.</p>
                </li><li class="listitem"><p><b>AccountID</b></p>
                    <p>ID akun akun tempat makro menjalankan fungsi Lambda.</p>
                </li><li class="listitem"><p><b>fragmen</b></p>
                    <p>Konten templat yang tersedia untuk pemrosesan kustom, dalam format JSON.</p>
                    <div class="itemizedlist">
                         
                         
                    <ul class="itemizedlist"><li class="listitem"><p>Untuk makro yang termasuk dalam bagian templat <code class="code">Transform</code>, ini adalah seluruh templat kecuali untuk bagian <code class="code">Transform</code>.</p></li><li class="listitem"><p>Untuk makro yang disertakan dalam panggilan fungsi intrinsik <code class="code">Fn::Transform</code>, ini mencakup semua node saudara (dan turunannya) berdasarkan lokasi fungsi intrinsik dalam templat kecuali untuk fungsi <code class="code">Fn::Transform</code> tersebut. Untuk informasi selengkapnya, lihat <a href="#template-macros-scope">AWS CloudFormation ruang lingkup makro</a>.</p></li></ul></div>
                </li><li class="listitem"><p><b>transformID</b></p>
                    <p>Nama makro yang memanggil fungsi ini.</p>
                </li><li class="listitem"><p><b>params</b></p>
                    <p>Untuk panggilan <code class="code">Fn::Transform</code> fungsi, parameter apa pun yang ditentukan untuk fungsi tersebut. AWS CloudFormation tidak mengevaluasi parameter ini sebelum meneruskannya ke fungsi.</p>
                    <p>Untuk makro yang termasuk dalam bagian templat <code class="code">Transform</code>, bagian ini kosong.</p>
                </li><li class="listitem"><p><b>RequesTid</b></p>
                    <p>ID permintaan yang memanggil fungsi ini.</p>
                </li><li class="listitem"><p><b>templateParameterValues</b></p>
                    <p>Setiap parameter yang ditentukan dalam bagian <a href="./parameters-section-structure.html">Parameter</a> dari templat. AWS CloudFormation mengevaluasi parameter ini sebelum meneruskannya ke fungsi.</p>
                </li></ul></div>
            <p>AWS CloudFormation mengharapkan fungsi yang mendasarinya mengembalikan respons dalam format JSON berikut:</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "requestId" : "<code class="replaceable">$REQUEST_ID</code>",
    "status" : "<code class="replaceable">$STATUS</code>",
    "fragment" : <span>{</span> <code class="replaceable">...</code> }
    "errorMessage": "optional error message for failures"
}</code></pre>
            <div class="itemizedlist">
                 
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem"><p><b>RequesTid</b></p>
                    <p>ID permintaan yang memanggil fungsi ini. Ini harus sesuai dengan ID permintaan yang diberikan AWS CloudFormation saat menjalankan fungsi.</p>
                </li><li class="listitem"><p><b>status</b></p>
                    <p>Status permintaan (peka huruf besar kecil). Harus diatur ke <code class="code">success</code>. AWS CloudFormation memperlakukan respons lain sebagai kegagalan.</p>
                </li><li class="listitem"><p><b>fragmen</b></p>
                    <p>Konten template yang diproses AWS CloudFormation untuk disertakan dalam template yang diproses, termasuk saudara kandung. AWS CloudFormation menggantikan konten template yang diteruskan ke fungsi Lambda dengan fragmen template yang diterimanya dalam respons Lambda.</p>
                    <p>Konten templat yang diproses harus berupa JSON yang valid, dan penyertaannya dalam templat yang diproses harus menghasilkan templat yang valid.</p>
                    <p>Jika fungsi Anda tidak benar-benar mengubah konten template yang AWS CloudFormation
diteruskan ke sana, tetapi Anda masih perlu menyertakan konten tersebut dalam template yang diproses, fungsi Anda harus mengembalikan konten template tersebut sebagai responsnya. AWS CloudFormation </p>
                </li><li class="listitem">
                    <p><b>ErrorMessage</b></p>
                    <p>Pesan kesalahan yang menjelaskan mengapa transformasi gagal.  CloudFormation menampilkan pesan kesalahan ini di panel <b>Peristiwa</b> di halaman <b>Detail tumpukan</b> untuk tumpukan Anda.</p>
                    <p>Misalnya, "Kesalahan saat membuat set perubahan: Mengubah <code class="replaceable">nomor akunAkun AWS
</code>::<code class="replaceable">nama makro</code> gagal dengan: <code class="replaceable">string pesan kesalahan</code>".</p>
                </li></ul></div>
            <p>Untuk informasi tentang pertimbangan tambahan saat membuat makro, lihat <a href="#template-macros-considerations">Pertimbangan saat membuat definisi AWS CloudFormation makro</a>.</p>
         
        
        <h3 id="template-macros-permissions">AWS CloudFormation cakupan akun makro dan izin</h3>
            <p>Anda dapat menggunakan makro hanya di akun tempat mereka dibuat sebagai sumber daya. Nama makro harus unik dalam akun tertentu. Namun, Anda dapat membuat fungsionalitas yang sama tersedia di beberapa akun dengan mengaktifkan akses lintas akun pada fungsi Lambda yang mendasarinya, dan kemudian membuat definisi makro yang merujuk fungsi tersebut di beberapa akun. Dalam contoh di bawah ini, tiga akun berisi definisi makro yang masing-masing menunjuk ke fungsi Lambda yang sama.</p>
            <div class="mediaobject">
                 
                    <img src="images/template-macro-accounts.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;                    Dengan mengizinkan akses lintas akun pada Lambda fungsi, AWS memungkinkan Anda membuat makro di beberapa akun yang mereferensikan fungsi tersebut.&#xA;                " style="max-width:100%" />
                 
                 
            </div>
            <p>Untuk informasi selengkapnya, lihat <a href="https://docs.aws.amazon.com/lambda/latest/dg/access-control-overview.html">Ringkasan mengelola izin akses ke sumber daya AWS Lambda Anda</a> di Panduan <em>AWS Lambda Pengembang</em>.</p>
            <p>Untuk membuat definisi makro, pengguna harus memiliki izin untuk membuat tumpukan atau tumpukan yang ditetapkan dalam akun yang ditentukan.</p>
            <p>Agar AWS CloudFormation berhasil menjalankan makro yang disertakan dalam template, pengguna harus memiliki <code class="code">Invoke</code> izin untuk fungsi Lambda yang mendasarinya. Untuk mencegah potensi eskalasi izin, AWS CloudFormation meniru pengguna saat menjalankan makro. Untuk informasi selengkapnya, lihat <a href="https://docs.aws.amazon.com/lambda/latest/dg/intro-permission-model.html">Model izin Lambda</a> di <em>PanduanAWS Lambda Pengembang</em> dan <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/list_lambda.html">kunci konteks Tindakan dan kondisi AWS Lambdadi Panduan Pengguna</a> <em>IAM</em>.</p>
            <p>The <a href="./transform-aws-serverless.html">Tansformasi AWS::Serverless</a> and <a href="./create-reusable-transform-function-snippets-and-add-to-your-template-with-aws-include-transform.html">Tansformasi AWS::Include</a> transforms adalah makro yang dihosting oleh. AWS CloudFormationTidak ada izin khusus yang diperlukan untuk menggunakannya, dan izin tersebut tersedia dari dalam akun apa pun di AWS CloudFormation.</p>
          
        <h3 id="template-macros-debug">Debugging AWS CloudFormation makro</h3>
            <p>Untuk membantu dalam debugging, Anda juga dapat menentukan <code class="code">LogGroupName</code> dan <code class="code">LogRoleArn</code> properti saat membuat jenis <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-macro.html">AWS::CloudFormation::Macro</a>sumber daya untuk makro Anda. Properti ini memungkinkan Anda menentukan grup  CloudWatch  log yang AWS CloudFormation mengirimkan informasi pencatatan kesalahan saat menjalankan AWS Lambda fungsi dasar makro, dan peran AWS CloudFormation harus diambil saat mengirim entri log ke log tersebut.</p>
          
        <h3 id="template-macros-billing">Penagihan</h3>
            <p>Saat makro berjalan, pemilik fungsi Lambda ditagih untuk biaya apa pun yang terkait dengan eksekusi fungsi tersebut.</p>
            <p>The <a href="./transform-aws-serverless.html">Tansformasi AWS::Serverless</a> and <a href="./create-reusable-transform-function-snippets-and-add-to-your-template-with-aws-include-transform.html">Tansformasi AWS::Include</a> transforms adalah makro yang dihosting oleh. AWS CloudFormationTidak ada biaya untuk menggunakannya.</p>
         
        <h3 id="template-macros-considerations">Pertimbangan saat membuat definisi AWS CloudFormation makro</h3>
            <p>Saat membuat definisi makro, perhatikan hal berikut:</p>
            <div class="itemizedlist">
                 
                 
                 
                 
                
                 
                 
                 
                
                 
                 
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem"><p>Makro hanya didukung di Wilayah AWS tempat yang AWS Lambda tersedia. Untuk daftar Wilayah di mana Lambda tersedia, lihat <a href="https://docs.aws.amazon.com/general/latest/gr/lambda-service.html">AWS Lambda titik akhir</a> dan kuota.</p></li><li class="listitem"><p>Setiap snippet templat yang diproses harus berupa JSON  yang valid.</p></li><li class="listitem"><p>Setiap snippet templat yang diproses harus lulus pemeriksaan validasi untuk operasi membuat tumpukan, memperbarui tumpukan, membuat set tumpukan, atau memperbarui set tumpukan.</p></li><li class="listitem"><p>AWS CloudFormation menyelesaikan makro terlebih dahulu, dan kemudian memproses template. Templat yang dihasilkan harus berupa  JSON yang valid dan tidak boleh melebihi batas ukuran templat.</p></li><li class="listitem"><p>Karena urutan  CloudFormation  proses elemen dalam template, makro tidak dapat menyertakan modul dalam konten template yang diproses yang dikembalikan.  CloudFormation Untuk informasi selengkapnya tentang modul, lihat <a href="https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/modules.html">Mengembangkan modul</a> di <em>Panduan Pengguna CloudFormation  CLI</em>.</p></li><li class="listitem"><p>Saat menggunakan fitur update rollback, AWS CloudFormation gunakan salinan template asli. Itu memutar kembali ke templat asli bahkan jika snippet yang disertakan diubah.</p></li><li class="listitem"><p>Menyertakan makro dalam makro tidak berfungsi karena kami tidak memproses makro secara iteratif.</p></li><li class="listitem"><p>Fungsi intrinsik <code class="code">Fn::ImportValue</code> saat ini tidak didukung dalam makro.</p></li><li class="listitem"><p>Fungsi intrinsik yang termasuk dalam templat dievaluasi setelah makro apapun. Oleh karena itu, konten template yang diproses yang dikembalikan makro Anda dapat menyertakan panggilan ke fungsi intrinsik, dan mereka dievaluasi seperti biasa.</p></li><li class="listitem"><p>StackSets saat ini tidak mendukung pembuatan atau pembaruan kumpulan tumpukan dengan izin yang dikelola layanan dari templat yang mereferensikan makro. AWS CloudFormation </p></li><li class="listitem"><p>Jika templat set tumpukan Anda mereferensikan satu atau beberapa makro, Anda harus membuat atau memperbarui set tumpukan langsung dari templat yang diproses, tanpa terlebih dahulu meninjau perubahan yang dihasilkan dalam set perubahan. Untuk membuat atau memperbarui kumpulan tumpukan secara langsung, gunakan <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_UpdateStackSet.html"><code class="code">UpdateStackSet</code></a>tindakan <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_CreateStackSet.html"><code class="code">CreateStackSet</code></a>atau dan tentukan <code class="code">CAPABILITY_AUTO_EXPAND</code> kemampuannya. Memproses makro dapat menambahkan beberapa sumber daya yang mungkin tidak Anda sadari. Sebelum Anda membuat atau memperbarui set tumpukan dari templat yang mereferensikan makro secara langsung, pastikan Anda mengetahui apa yang dilakukan pemrosesan makro.</p></li><li class="listitem">
                    
                    <p>Set perubahan saat ini tidak mendukung tumpukan bersarang. Jika Anda ingin membuat atau memperbarui tumpukan menggunakan templat yang mereferensikan makro <em>dan</em> berisi tumpukan nested, Anda harus membuat atau memperbarui tumpukan secara langsung. Untuk melakukan ini, gunakan <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_UpdateStack.html"><code class="code">UpdateStack</code></a>tindakan <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_CreateStack.html"><code class="code">CreateStack</code></a>atau dan tentukan <code class="code">CAPABILITY_AUTO_EXPAND</code> kemampuannya.</p>
                </li></ul></div>
         
        <div class="procedure"><h6>Untuk membuat definisi AWS CloudFormation makro:</h6><ol><li>
                <p><a href="https://docs.aws.amazon.com/lambda/latest/dg/lambda-app.html">Membangun AWS Lambda fungsi</a> yang memproses AWS CloudFormation template.</p>
                <p>Fungsi Lambda yang Anda buat melakukan pemrosesan konten template. Fungsi Anda dapat memproses setiap bagian dari templat, hingga seluruh templat. Untuk informasi tentang pemetaan peristiwa yang harus dipatuhi oleh fungsi Anda, lihat <a href="#template-macros-lambda-interface">AWS CloudFormation antarmuka fungsi makro</a>. Untuk informasi tentang pertimbangan tambahan saat membuat makro, lihat <a href="#template-macros-considerations">Pertimbangan saat membuat definisi AWS CloudFormation makro</a>.</p>
            </li><li>
                <p><a href="./template-guide.html">Buat template</a> yang berisi jenis <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-macro.html">AWS::CloudFormation::Macro</a>sumber daya.</p>
                <div class="itemizedlist">
                     
                     
                <ul class="itemizedlist"><li class="listitem"><p>Anda harus menentukan properti <code class="code">Name</code> dan <code class="code">FunctionName</code>. <code class="code">FunctionName</code>Properti menentukan ARN dari fungsi Lambda untuk memanggil ketika menjalankan AWS CloudFormation makro.</p></li><li class="listitem"><p>Untuk membantu dalam debugging, Anda juga dapat menentukan properti <code class="code">LogGroupName</code> dan <code class="code">LogRoleArn</code>.</p></li></ul></div>
            </li><li>
                <p><a href="./cfn-console-create-stack.html">Buat tumpukan</a> dari templat yang berisi makro di akun yang diinginkan, atau <a href="./stacksets-getting-started-create.html#stacksets-getting-started-create-self-managed">buat set tumpukan dengan izin yang dikelola sendiri</a> dari templat yang mereferensikan makro di akun administrator, lalu buat instans tumpukan di akun target yang diinginkan.</p>
                <p>Setelah AWS CloudFormation berhasil membuat tumpukan yang berisi definisi makro, makro tersedia untuk digunakan dalam akun tersebut.</p>
            </li></ol></div>


    <h2 id="template-macros-use">Menggunakan AWS CloudFormation makro di template Anda</h2>
        <p>Setelah AWS CloudFormation berhasil membuat tumpukan yang berisi definisi makro, makro tersedia untuk digunakan dalam akun tersebut. Anda menggunakan makro dengan mereferensikannya di templat, di lokasi yang sesuai yang relevan dengan konten templat yang ingin Anda proses.</p>
        <h3 id="template-macros-order">AWS CloudFormation urutan evaluasi makro</h3>
            <p>Anda dapat mereferensikan beberapa makro dalam templat tertentu, termasuk transformasi yang dihosting oleh AWS CloudFormation, seperti <a href="./create-reusable-transform-function-snippets-and-add-to-your-template-with-aws-include-transform.html">Tansformasi AWS::Include</a> dan. <a href="./transform-aws-serverless.html">Tansformasi AWS::Serverless</a></p>
            <p>Macro dievaluasi secara berurutan, berdasarkan lokasi mereka di templat, dari yang paling dalam hingga yang paling umum. Makro di lokasi yang sama dalam template dievaluasi secara serial berdasarkan urutan daftar.</p>
            <p>Transformasi seperti <code class="code">AWS::Include</code> dan <code class="code">AWS::Transform</code> diperlakukan sama seperti makro lainnya dalam hal urutan tindakan dan cakupan.</p>
            <p>Misalnya, dalam contoh templat di bawah ini, AWS CloudFormation evaluasi <code class="code">PolicyAdder</code> makro terlebih dahulu, karena makro ini adalah makro yang paling dalam di template. AWS CloudFormation kemudian mengevaluasi <code class="code">MyMacro</code> sebelum mengevaluasi <code class="code">AWS::Serverless</code> karena tercantum sebelumnya <code class="code">AWS::Serverless</code> di bagian. <code class="code">Transform</code></p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">AWSTemplateFormatVersion: 2010-09-09
 Transform: [MyMacro, AWS::Serverless]
 Resources:
    WaitCondition:
      Type: AWS::CloudFormation::WaitCondition
    MyBucket:
      Type: 'AWS::S3::Bucket'
      Properties:
        BucketName: MyBucket
        Tags: [<span>{</span>"key":"value"}]
        'Fn::Transform':
          - Name: PolicyAdder
        CorsConfiguration:[]
    MyEc2Instance:
      Type: 'AWS::EC2::Instance'
      Properties:
        ImageID: "ami-123"</code></pre>
          
        
        <h3 id="template-macros-scope">AWS CloudFormation ruang lingkup makro</h3>
            <p>Makro yang direferensikan di bagian <code class="code">Transform</code> dari templat dapat memproses seluruh konten templat tersebut.</p>
            <p>Makro yang direferensikan dalam suatu fungsi <code class="code">Fn::Transform</code> dapat memproses konten salah satu elemen saudara (termasuk anak-anak) dari fungsi <code class="code">Fn::Transform</code> tersebut dalam templat.</p>
            <p>Misalnya, pada contoh templat di bawah ini, <code class="code">AWS::Include</code> dapat memproses properti <code class="code">MyBucket</code>, berdasarkan lokasi fungsi <code class="code">Fn::Transform</code> yang memuatnya. <code class="code">MyMacro</code> dapat memproses konten seluruh templat karena penyertaannya di bagian <code class="code">Transform</code>.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">
// Start of processable content for MyMacro
AWSTemplateFormatVersion: 2010-09-09 
 Transform: [MyMacro]
 Resources:
    WaitCondition:
      Type: AWS::CloudFormation::WaitCondition
    MyBucket:
      Type: 'AWS::S3::Bucket'  //Start of processable content for AWS::Include
      Properties:
        BucketName: MyBucket 
        Tags: [<span>{</span>"key":"value"}] 
        'Fn::Transform':
          - Name: 'AWS::Include'
              Parameters:
                Location: s3://<code class="replaceable">DOC-EXAMPLE-BUCKET</code>/MyFileName.yaml
        CorsConfiguration:[]   //End of processable content for AWS::Include
    MyEc2Instance:
      Type: 'AWS::EC2::Instance' 
      Properties:
        ImageID: "ami-123"
// End of processable content for MyMacro         </code></pre>
          
        
         
         <h3 id="template-macros-change-sets">Ubah set dan AWS CloudFormation makro</h3>
            <p>Untuk membuat atau memperbarui tumpukan menggunakan templat yang mereferensikan makro, Anda biasanya membuat set perubahan, lalu menjalankannya. Set perubahan menjelaskan tindakan yang akan diambil  CloudFormation  berdasarkan templat yang diproses. Memproses makro dapat menambahkan beberapa sumber daya yang mungkin tidak Anda sadari. Untuk memastikan bahwa Anda mengetahui semua perubahan yang diperkenalkan oleh makro, kami sangat menyarankan Anda menggunakan set perubahan. Setelah Anda meninjau set perubahan, Anda dapat menjalankannya untuk benar-benar menerapkan perubahan.</p>
            <p>Makro dapat menambahkan sumber daya IAM ke template Anda. Untuk sumber daya ini, AWS CloudFormation
mengharuskan Anda untuk <a href="./using-iam-template.html#using-iam-capabilities">mengakui kemampuan mereka</a>. Karena tidak AWS CloudFormation dapat mengetahui sumber daya mana yang ditambahkan sebelum memproses template Anda, Anda mungkin perlu mengakui kemampuan IAM saat membuat set perubahan, tergantung pada apakah makro yang direferensikan berisi sumber daya IAM. Dengan begitu, ketika Anda menjalankan set perubahan, AWS CloudFormation memiliki kemampuan yang diperlukan untuk membuat sumber daya IAM.</p>
            <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>penting</h6></div><div class="awsdocs-note-text"><p>Jika templat set tumpukan Anda mereferensikan satu atau beberapa makro, Anda harus membuat set tumpukan langsung dari templat yang diproses, tanpa terlebih dahulu meninjau perubahan yang dihasilkan dalam set perubahan. Untuk membuat atau memperbarui kumpulan tumpukan secara langsung, Anda harus menggunakan <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_UpdateStackSet.html"><code class="code">UpdateStackSet</code></a>tindakan <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_CreateStackSet.html"><code class="code">CreateStackSet</code></a>atau dan menentukan <code class="code">CAPABILITY_AUTO_EXPAND</code> kemampuannya. Sebelum Anda membuat atau memperbarui set tumpukan dari templat yang mereferensikan makro secara langsung, pastikan Anda mengetahui apa yang dilakukan pemrosesan makro.</p></div></div>
            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>catatan</h6></div><div class="awsdocs-note-text"><p>Jika Anda merasa nyaman membuat atau memperbarui tumpukan langsung dari templat yang diproses, tanpa terlebih dahulu meninjau perubahan yang diusulkan dalam set perubahan, Anda dapat melakukannya dengan menentukan kemampuan <code class="code">CAPABILITY_AUTO_EXPAND</code> selama permintaan <code class="code">CreateStack</code> atau <code class="code">UpdateStack</code>. Anda hanya boleh membuat tumpukan langsung dari templat tumpukan yang berisi makro jika Anda tahu apa yang dilakukan pemrosesan makro. Anda tidak dapat menggunakan set perubahan dengan makro set tumpukan; Anda harus memperbarui set tumpukan Anda secara langsung.</p><p>Untuk informasi selengkapnya, lihat <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_CreateStack.html"><code class="code">CreateStack</code></a>atau <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_UpdateStack.html"><code class="code">UpdateStack</code></a>di <em>ReferensiAWS CloudFormation API</em>.</p></div></div>
            <p>Jika Anda menggunakan AWS CLI, Anda dapat menggunakan <code class="code">deploy</code> perintah <code class="code">package</code> and untuk mengurangi jumlah langkah untuk meluncurkan tumpukan dari template yang mereferensikan makro. <em>Untuk informasi selengkapnya, lihat <a href="https://docs.aws.amazon.com/lambda/latest/dg/deploying-lambda-apps.html">Menerapkan aplikasi berbasis Lambda di Panduan</a> Pengembang.AWS Lambda </em></p>
         
   
        <h3 id="template-macros-template-stage">Tahap template dan  CloudFormation  makro</h3>
            <p><em>Tahap</em> template menunjukkan apakah template adalah template asli yang dikirimkan pengguna atau yang AWS CloudFormation telah memproses makro.</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem"><p><code class="code">Original</code>: Templat yang awalnya dikirimkan pengguna untuk membuat atau memperbarui tumpukan atau set tumpukan.</p></li><li class="listitem"><p><code class="code">Processed</code>: Template yang AWS CloudFormation digunakan untuk membuat atau memperbarui tumpukan atau set tumpukan setelah memproses makro yang direferensikan. Templat yang diproses diformat sebagai JSON, bahkan jika templat asli diformat sebagai YAML.</p></li></ul></div>
            <p>Gunakan templat yang diproses untuk memecahkan masalah tumpukan. Jika template tidak mereferensikan makro, templat asli dan yang diproses akan serupa.</p>
            <p>Anda dapat menggunakan AWS CloudFormation <a href="./cfn-console-view-stack-data-resources.html">konsol</a> atau <a href="./using-cfn-get-template.html">AWS CLI</a>untuk melihat tahap template tumpukan.</p>
            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>catatan</h6></div><div class="awsdocs-note-text"><p>Ukuran maksimum untuk template tumpukan yang diproses adalah 51.200 byte ketika diteruskan langsung ke,, atau <code class="code">ValidateTemplate</code> permintaan <code class="code">CreateStack</code><code class="code">UpdateStack</code>, atau 1 MB saat diteruskan sebagai objek S3 menggunakan URL template Amazon S3. Namun, selama pemrosesan  CloudFormation  memperbarui status sementara template karena secara serial memproses makro yang terkandung dalam template. Karena itu, ukuran template <em>selama pemrosesan</em> dapat sementara melebihi ukuran yang diizinkan dari templat yang diproses sepenuhnya.  CloudFormation memungkinkan beberapa buffer untuk template dalam proses ini. Namun, Anda harus mendesain templat dan makro dengan mengingat ukuran maksimum yang diizinkan untuk templat tumpukan yang diproses.</p><p>Jika  CloudFormation  mengembalikan <code class="code">Transformation data limit exceeded</code> kesalahan saat memproses template Anda, template Anda telah melebihi ukuran template maksimum yang  CloudFormation  memungkinkan selama pemrosesan.</p><p>Untuk mengatasi masalah ini, pertimbangkan untuk melakukan hal berikut:</p><div class="itemizedlist">
                     
                     
                <ul class="itemizedlist"><li class="listitem"><p>Susun ulang templat Anda menjadi beberapa templat untuk menghindari melebihi ukuran maksimum untuk templat dalam proses. Sebagai contoh:</p>
                        <div class="itemizedlist">
                             
                             
                        <ul class="itemizedlist"><li class="listitem"><p>Gunakan templat tumpukan nested untuk merangkum bagian dari templat. Untuk informasi selengkapnya, lihat <a href="./using-cfn-nested-stacks.html">Bekerja dengan tumpukan nest</a>.</p></li><li class="listitem"><p>Buat beberapa tumpukan dan gunakan referensi lintas tumpukan untuk saling bertukar informasi. Untuk informasi selengkapnya, lihat <a href="./walkthrough-crossstackref.html">Panduan: Merujuk output sumber daya di tumpukan AWS CloudFormation lainnya</a>.</p></li></ul></div>
                    </li><li class="listitem"><p>Kurangi ukuran fragmen template yang dikembalikan oleh makro tertentu.  CloudFormation tidak merusak isi fragmen yang dikembalikan oleh makro.</p></li></ul></div></div></div>
         
        
        <div class="procedure"><h6>Untuk menggunakan AWS CloudFormation makro di template Anda</h6><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>catatan</h6></div><div class="awsdocs-note-text"><p>Agar AWS CloudFormation berhasil menjalankan makro yang direferensikan dalam template, pengguna harus memiliki <code class="code">Invoke</code> izin untuk fungsi Lambda yang mendasarinya. Untuk informasi selengkapnya, lihat <a href="https://docs.aws.amazon.com/lambda/latest/dg/access-control-overview.html">Ringkasan mengelola izin akses ke sumber daya AWS Lambda Anda</a> di Panduan <em>AWS Lambda Pengembang</em>.</p></div></div><ol><li>
                <p>Sertakan referensi ke makro dalam templat.</p>
                <div class="itemizedlist">
                     
                      
                <ul class="itemizedlist"><li class="listitem">
                        <p>Untuk memproses snippet templat, referensikan makro dalam fungsi <code class="code"><a href="./intrinsic-function-reference-transform.html">Fn::Transform</a></code> yang terletak relatif terhadap konten templat yang ingin Anda proses.</p>
                    </li><li class="listitem">
                        <p>Untuk memproses seluruh templat, referensikan makro di bagian <a href="./transform-section-structure.html">Transformasi</a> dari templat.</p>
                    </li></ul></div>
            </li><li>
                <p><a href="./using-cfn-updating-stacks-changesets-create.html">Buat set perubahan</a> menggunakan templat.</p>
                <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>penting</h6></div><div class="awsdocs-note-text"><p>Jika templat set tumpukan Anda mereferensikan satu atau beberapa makro, Anda harus membuat set tumpukan langsung dari templat yang diproses, tanpa terlebih dahulu meninjau perubahan yang dihasilkan dalam set perubahan. Untuk membuat atau memperbarui kumpulan tumpukan secara langsung, Anda harus menggunakan <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_UpdateStackSet.html"><code class="code">UpdateStackSet</code></a>tindakan <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_CreateStackSet.html"><code class="code">CreateStackSet</code></a>atau dan menentukan <code class="code">CAPABILITY_AUTO_EXPAND</code> kemampuannya. Sebelum Anda membuat atau memperbarui set tumpukan dari templat yang mereferensikan makro secara langsung, pastikan Anda mengetahui apa yang dilakukan pemrosesan makro.</p></div></div>
            </li><li>
                <p>Tinjau dan <a href="./using-cfn-updating-stacks-changesets-execute.html">jalankan set perubahan</a>.</p>
                <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>penting</h6></div><div class="awsdocs-note-text"><p>Jika templat set tumpukan Anda mereferensikan satu atau beberapa makro, Anda harus membuat set tumpukan langsung dari templat yang diproses, tanpa terlebih dahulu meninjau perubahan yang dihasilkan dalam set perubahan. Untuk membuat atau memperbarui kumpulan tumpukan secara langsung, Anda harus menggunakan <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_UpdateStackSet.html"><code class="code">UpdateStackSet</code></a>tindakan <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_CreateStackSet.html"><code class="code">CreateStackSet</code></a>atau dan menentukan <code class="code">CAPABILITY_AUTO_EXPAND</code> kemampuannya. Sebelum Anda membuat atau memperbarui set tumpukan dari templat yang mereferensikan makro secara langsung, pastikan Anda mengetahui apa yang dilakukan pemrosesan makro.</p></div></div>
            </li></ol></div>

     
        <h2 id="template-macros-examples-list">Contoh makro</h2>
        <p>Selain panduan dalam panduan ini, Anda dapat menemukan contoh makro, termasuk kode sumber dan templat, di bagian <a href="https://github.com/awslabs/aws-cloudformation-templates/tree/master/aws/services/CloudFormation/MacrosExamples/" rel="noopener noreferrer" target="_blank"><span>contoh Makro</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> di <a href="https://github.com/awslabs" rel="noopener noreferrer" target="_blank"><span>Amazon Web Services -</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> Labs repo on. <a href="./macros-example.html">Contoh makro: Membuat dan menggunakan makro</a>  GitHub Contoh-contoh ini disediakan 'sebagaimana adanya' untuk tujuan instruksional.</p>
    <h2 id="template-macros-seealso">Lihat juga</h2>
        <p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-macro.html">AWS::CloudFormation::Macro</a></p>

        <p><a href="./transform-section-structure.html">Transformasi</a></p>
        <p><a href="./intrinsic-function-reference-transform.html">Fn::Transform</a></p>
        
        <p><a href="./transform-aws-serverless.html">Tansformasi AWS::Serverless</a></p>
        <p><a href="./create-reusable-transform-function-snippets-and-add-to-your-template-with-aws-include-transform.html">Tansformasi AWS::Include</a></p>
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Awas" /> <strong>Javascript dinonaktifkan atau tidak tersedia di browser Anda.</strong></p><p>Untuk menggunakan Dokumentasi AWS, Javascript harus diaktifkan. Lihat halaman Bantuan browser Anda untuk petunjuk.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Konvensi Dokumen</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./crpg-ref-requesttypes-update.html">Perbarui</div><div id="next" class="next-link" accesskey="n" href="./macros-example.html">Contoh makro: Membuat dan menggunakan makro</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Apakah halaman ini membantu Anda? - Ya</div><div class="content"><p>Terima kasih telah memberitahukan bahwa hasil pekerjaan kami sudah baik.</p><p>Jika Anda memiliki waktu luang, beri tahu kami aspek apa saja yang sudah bagus, agar kami dapat menerapkannya secara lebih luas.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Umpan Balik" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/template-macros.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Apakah halaman ini membantu Anda? - Tidak</div><div class="content"><p>Terima kasih telah memberi tahu kami bahwa halaman ini perlu ditingkatkan. Maaf karena telah mengecewakan Anda.</p><p>Jika Anda memiliki waktu luang, beri tahu kami bagaimana dokumentasi ini dapat ditingkatkan.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Umpan Balik" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/template-macros.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>