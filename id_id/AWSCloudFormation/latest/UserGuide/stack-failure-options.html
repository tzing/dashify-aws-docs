<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="id-ID"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Opsi kegagalan tumpukan - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="stack-failure-options" /><meta name="default_state" content="stack-failure-options" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" /><meta name="description" content="Kembangkan aplikasi Anda secara berulang saat kegagalan penyediaan ditemui dengan memulai dari titik kegagalan tanpa memutar kembali sumber daya yang berhasil disediakan." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Panduan Pengguna" /><meta name="abstract" content="Membuat dan mengelola penyebaran AWS infrastruktur dapat diprediksi dan berulang kali menggunakan Panduan Pengguna AWS CloudFormation ini." /><meta name="guide-locale" content="id_id" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Panduan Pengguna" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Panduan Pengguna" /><meta id="panorama-serviceConsolePage" value="Opsi kegagalan tumpukan" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Opsi kegagalan tumpukan - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,penyediaan sumber daya,konfigurasi sumber daya,manajemen infrastruktur,CloudFormer,CloudFormation tumpukan,CloudFormation stackset,CloudFormation Template,ubah set" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Panduan Pengguna",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Menggunakan tumpukan",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/stacks.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Opsi kegagalan tumpukan",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/stacks.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Dokumentasi</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Panduan Pengguna</a></div><div id="page-toc-src"><a href="#stack-failure-options-overview">Ikhtisar opsi kegagalan tumpukan</a><a href="#stack-failure-options-conditions">Kondisi untuk menjeda rollback tumpukan</a><a href="#stack-failure-options-console">Pertahankan sumber daya yang berhasil disediakan (konsol)</a><a href="#stack-failure-options-cli">Pertahankan sumber daya yang berhasil disediakan (AWS CLI)</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Terjemahan disediakan oleh mesin penerjemah. Jika konten terjemahan yang diberikan bertentangan dengan versi bahasa Inggris aslinya, utamakan versi bahasa Inggris.</p></awsui-alert><h1 class="topictitle" id="stack-failure-options">Opsi kegagalan tumpukan</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Anda dapat mengembangkan aplikasi secara berulang saat kegagalan penyediaan ditemui dengan memulai dari titik kegagalan tanpa memutar kembali sumber daya yang berhasil disediakan. Dengan menentukan opsi kegagalan tumpukan, Anda dapat memecahkan masalah sumber daya dalam<code class="code">CREATE_FAILED</code> atau<code class="code">UPDATE_FAILED</code> status. Anda dapat menyediakan opsi kegagalan untuk semua penyebaran tumpukan dan mengubah operasi yang ditetapkan.</p><div class="itemizedlist">
   
   
  
 <ul class="itemizedlist"><li class="listitem">
   <p>Buat operasi yang disetel ke <b>Pertahankan sumber daya yang berhasil disediakan</b> mempertahankan status sumber daya yang berhasil, sementara sumber daya yang gagal akan tetap dalam keadaan gagal hingga operasi pembaruan berikutnya dilakukan.</p>
  </li><li class="listitem">
   <p>Perbarui dan ubah operasi set disetel ke <b>Preserve sumber daya yang berhasil disediakan</b> mempertahankan status sumber daya yang berhasil saat memutar kembali sumber daya yang gagal ke status stabil terakhir yang diketahui. Sumber daya yang gagal akan berada dalam<code class="code">UPDATE_FAILED</code> keadaan. Sumber daya tanpa status stabil terakhir yang diketahui akan dihapus pada operasi tumpukan berikutnya.</p>
  </li></ul></div><p>Lihat bagian berikut untuk detail selengkapnya tentang menjeda pengembalian sumber daya yang gagal:</p><div class="itemizedlist">
   
   
   
   
 <ul class="itemizedlist"><li class="listitem">
   <p><a href="#stack-failure-options-overview">Ikhtisar opsi kegagalan tumpukan</a></p>
  </li><li class="listitem">
   <p><a href="#stack-failure-options-conditions">Kondisi untuk menjeda rollback tumpukan</a></p>
  </li><li class="listitem">
   <p><a href="#stack-failure-options-console">Pertahankan sumber daya yang berhasil disediakan (konsol)</a></p>
  </li><li class="listitem">
   <p><a href="#stack-failure-options-cli">Pertahankan sumber daya yang berhasil disediakan (AWS CLI)</a></p>
  </li></ul></div>
  <h2 id="stack-failure-options-overview">Ikhtisar opsi kegagalan tumpukan</h2>
  <p>Sebelum mengeluarkan operasi dariAWS CloudFormation konsol, API, atauAWS Command Line Interface (AWS CLI), tentukan perilaku kegagalan sumber daya yang disediakan. Kemudian, lanjutkan dengan proses penyebaran sumber daya Anda tanpa modifikasi lainnya. Jika terjadi kegagalan operasional, CloudFormation berhenti pada kegagalan pertama di setiap jalur penyediaan independen.  CloudFormation mengidentifikasi dependensi antara sumber daya untuk memparalelkan tindakan penyediaan independen. Kemudian ia melanjutkan penyediaan sumber daya pada setiap jalur penyediaan independen sampai mengalami kegagalan. Kegagalan dalam satu jalur tidak memengaruhi jalur penyediaan lainnya.  CloudFormation akan terus menyediakan sumber daya sampai selesai atau berhenti pada kegagalan yang berbeda.</p>
  <p>Memperbaiki masalah apa pun untuk melanjutkan proses penyebaran.  CloudFormation melakukan pembaruan yang diperlukan sebelum mencoba ulang tindakan penyediaan pada sumber daya yang tidak dapat berhasil disediakan sebelumnya. Anda memulihkan masalah dengan mengirimkan operasi <b>Coba Ulang</b>, <b>Pembaruan</b>, atau <b>Putar kembali</b>. Misalnya, jika Anda menyediakan instans Amazon EC2 dan instans EC2 gagal selama operasi pembuatan, Anda mungkin ingin menyelidiki kesalahan tersebut, daripada segera memutar kembali sumber daya yang gagal. Anda dapat meninjau pemeriksaan status sistem dan pemeriksaan status instance, lalu pilih operasi <b>Coba</b> lagi setelah masalah teratasi.</p>
  
  
  <p>Ketika operasi tumpukan gagal, dan Anda telah menentukan <b>Preserve berhasil menyediakan sumber daya</b> dari menu <b>Opsi kegagalan Stack</b>, Anda dapat memilih opsi berikut.</p>
  <div class="itemizedlist">
    
    
    
  <ul class="itemizedlist"><li class="listitem">
    <p><b>Coba</b> lagi - Mencoba lagi operasi penyediaan pada sumber daya yang gagal dan melanjutkan penyediaan template hingga berhasil menyelesaikan operasi tumpukan atau kegagalan berikutnya. Pilih opsi ini jika sumber daya gagal disediakan karena masalah yang tidak memerlukan modifikasi template, seperti izinAWS Identity and Access Management (IAM).</p>
   </li><li class="listitem">
    <p><b>Update</b> - Sumber daya yang telah disediakan diperbarui pada pembaruan template. Sumber daya yang gagal dibuat atau diperbarui akan dicoba ulang. Pilih opsi ini jika sumber daya gagal disediakan karena kesalahan cetakan, dan Anda telah memodifikasi template. Saat memperbarui tumpukan yang berada dalam<code class="code">FAILED</code> keadaan, Anda harus memilih <b>Preserve resource yang berhasil disediakan</b> untuk <b>opsi kegagalan Stack</b> untuk terus memperbarui stack Anda.</p>
   </li><li class="listitem">
    <p><b>Gulung kembali</b> - CloudFormation  memutar kembali tumpukan ke keadaan stabil terakhir yang diketahui.</p>
   </li></ul></div>

 
  
  <h2 id="stack-failure-options-conditions">Kondisi untuk menjeda rollback tumpukan</h2>
  <p>Agar ketentuan berikut harus dipenuhi.</p>
  <div class="itemizedlist">
    
    
  <ul class="itemizedlist"><li class="listitem">
    <p>Anda harus menentukan parameter <b>sumber daya Preserve yang berhasil disediakan</b> selama operasi tumpukan. Untuk informasi selengkapnya tentang perilaku rollback, lihat <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-console-add-tags.html#rollback">Menyetel opsiAWS CloudFormation tumpukan</a>.</p>
   </li><li class="listitem">
    <p>Sebuah operasi stack harus memiliki status stack<code class="code">CREATE_FAILED</code> atau<code class="code">UPDATE_FAILED</code>. Untuk informasi tentang status stack, lihat <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-describing-stacks.html#w2ab1c23c15c17c11">Stack kode status</a>.</p>
   </li></ul></div>
  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>catatan</h6></div><div class="awsdocs-note-text"><p>Jenis pembaruan yang tidak berubah tidak didukung.</p></div></div>
  
  <h2 id="stack-failure-options-console">Pertahankan sumber daya yang berhasil disediakan (konsol)</h2>
  <awsdocs-tabs><dl style="display: none">
   <dt>Create stack</dt><dd tab-id="create-stack">
     <div class="procedure"><h6>Untuk mempertahankan sumber daya berhasil disediakan selama operasi membuat tumpukan</h6><ol><li><p>Masuk ke AWS Management Console dan buka konsol AWS CloudFormation di <a href="https://console.aws.amazon.com/cloudformation/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/cloudformation</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
       <p>Pilih <b>Buat tumpukan</b> dan pilih <b>Dengan sumber daya baru (standar)</b>.</p>
      </li><li>
       <p>Di halaman <b>Tentukan templat</b>, pilih templat tumpukan dengan menggunakan salah satu opsi berikut:</p>
       <div class="itemizedlist">
         
         
         
       <ul class="itemizedlist"><li class="listitem">
         <p><b>Templat sudah siap</b></p>
        </li><li class="listitem">
         <p><b>Gunakan templat contoh</b></p>
        </li><li class="listitem">
         <p><b>Membuat templat di Designer</b></p>
        </li></ul></div>
       <p>Terima pengaturan Anda dan pilih <b>Berikutnya</b>.</p>
      </li><li>
       <p>Pada halaman <b>Tentukan detail tumpukan</b>, masukkan nama tumpukan di kotak <b>Nama tumpukan</b>.</p>
      </li><li>
       <p>Di bagian <b>Parameter</b>, tentukan parameter yang ditentukan di templat tumpukan Anda.</p>
       <p>Anda dapat menggunakan atau mengubah parameter dengan nilai default.</p>
      </li><li>
       <p>Setelah Anda puas dengan nilai parameter, pilih <b>Berikutnya</b>.</p>
      </li><li>
       <p>Pada halaman <b>Mengatur pilihan tumpukan</b>, Anda dapat mengatur opsi tambahan untuk tumpukan Anda.</p>
      </li><li>
       <p>Untuk <b>opsi kegagalan Stack</b>, pilih <b>Pertahankan sumber daya yang berhasil disediakan</b>.</p>
      </li><li>
       <p>Setelah Anda puas dengan opsi tumpukan, pilih <b>Berikutnya</b>.</p>
      </li><li>
       <p>Tinjau tumpukan Anda di halaman <b>Review</b> dan pilih <b>Create stack</b>.</p>
      </li></ol></div>
     <p><em>Hasil</em>: Sumber daya yang gagal membuat transisi status tumpukan<code class="code">CREATE_FAILED</code> untuk mencegah tumpukan bergulir kembali saat operasi tumpukan mengalami kegagalan. Sumber daya yang berhasil disediakan berada dalam<code class="code">CREATE_COMPLETE</code> keadaan. Anda dapat memantau tumpukan di tab <b>Stack events</b>.</p>
    </dd>
   <dt>Update stack</dt><dd tab-id="update-stack">
     <div class="procedure"><h6>Untuk mempertahankan sumber daya yang berhasil disediakan selama operasi tumpukan pembaruan</h6><ol><li><p>Masuk ke AWS Management Console dan buka konsol AWS CloudFormation di <a href="https://console.aws.amazon.com/cloudformation/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/cloudformation</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
       <p>Pilih tumpukan yang ingin Anda perbarui dan kemudian pilih <b>Perbarui</b>.</p>
      </li><li>
       <p>Pada halaman <b>tumpukan pembaruan</b>, pilih templat tumpukan dengan menggunakan salah satu opsi berikut:</p>
       <div class="itemizedlist">
         
         
         
       <ul class="itemizedlist"><li class="listitem">
         <p><b>Gunakan template saat ini</b></p>
        </li><li class="listitem">
         <p><b>Ganti template saat ini</b></p>
        </li><li class="listitem">
         <p><b>Edit template di desainer</b></p>
        </li></ul></div>
       <p>Terima pengaturan Anda dan pilih <b>Berikutnya</b>.</p>
      </li><li>
       <p>Pada halaman <b>Tentukan detail tumpukan</b>, tentukan parameter yang ditentukan di templat tumpukan Anda.</p>
       <p>Anda dapat menggunakan atau mengubah parameter dengan nilai default.</p>
      </li><li>
       <p>Setelah Anda puas dengan nilai parameter, pilih <b>Berikutnya</b>.</p>
      </li><li>
       <p>Pada halaman <b>Mengatur pilihan tumpukan</b>, Anda dapat mengatur opsi tambahan untuk tumpukan Anda.</p>
      </li><li>
       <p>Untuk <b>Perilaku pada kegagalan penyediaan</b>, pilih <b>Pertahankan sumber daya yang berhasil disediakan</b>.</p>
      </li><li>
       <p>Setelah Anda puas dengan opsi tumpukan, pilih <b>Berikutnya</b>.</p>
      </li><li>
       <p>Tinjau tumpukan Anda di halaman <b>Review</b> dan pilih <b>Update stack</b>.</p>
      </li></ol></div>
     <p><em>Hasil</em>: Sumber daya yang gagal memperbarui transisi status tumpukan ke<code class="code">UPDATE_FAILED</code> dan memutar kembali ke status stabil terakhir yang diketahui. Sumber daya tanpa status stabil terakhir yang diketahui akan dihapus oleh CloudFormation  pada operasi tumpukan berikutnya. Sumber daya yang berhasil disediakan berada dalam<code class="code">UPDATE_COMPLETE</code> keadaan<code class="code">CREATE_COMPLETE</code> atau. Anda dapat memantau tumpukan di tab <b>Stack events</b>.</p>
    </dd>
   <dt>Change set</dt><dd tab-id="change-set">
     <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>catatan</h6></div><div class="awsdocs-note-text"><p>Anda dapat memulai set perubahan untuk tumpukan dengan status<code class="code">CREATE_FAILED</code> atau<code class="code">UPDATE_FAILED</code>, tetapi tidak untuk status<code class="code">UPDATE_ROLLBACK_FAILED</code>.</p></div></div>
     <div class="procedure"><h6>Untuk mempertahankan sumber daya berhasil disediakan selama operasi set perubahan</h6><ol><li><p>Masuk ke AWS Management Console dan buka konsol AWS CloudFormation di <a href="https://console.aws.amazon.com/cloudformation/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/cloudformation</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
       <p>Pilih tumpukan yang berisi set perubahan yang ingin Anda mulai, dan kemudian pilih tab <b>Ubah set</b>.</p>
      </li><li>
       <p>Pilih set perubahan dan kemudian pilih <b>Jalankan</b>.</p>
      </li><li>
       <p>Untuk <b>Jalankan set perubahan</b>, pilih opsi <b>Pertahankan sumber daya yang berhasil disediakan</b>.</p>
      </li><li>
       <p>Pilih <b>Jalankan set perubahan</b>.</p>
      </li></ol></div>
     <p><em>Hasil</em>: Sumber daya yang gagal memperbarui transisi status tumpukan ke<code class="code">UPDATE_FAILED</code> dan memutar kembali ke status stabil terakhir yang diketahui. Sumber daya tanpa status stabil terakhir yang diketahui akan dihapus oleh CloudFormation  pada operasi tumpukan berikutnya. Sumber daya yang berhasil disediakan berada dalam<code class="code">UPDATE_COMPLETE</code> keadaan<code class="code">CREATE_COMPLETE</code> atau. Anda dapat memantau tumpukan di tab <b>Stack events</b>.</p>
    </dd>
  </dl></awsdocs-tabs>
  
  <h2 id="stack-failure-options-cli">Pertahankan sumber daya yang berhasil disediakan (AWS CLI)</h2>
  <awsdocs-tabs><dl style="display: none">
   <dt>Create stack</dt><dd tab-id="create-stack">
     <div class="procedure"><h6>Untuk mempertahankan sumber daya yang berhasil disediakan selama operasi pembuatan tumpukan</h6><p>Tentukan<code class="code">disable-rollback</code> opsi atau<code class="code">on-failure DO_NOTHING</code> pencacahan selama operasi <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/create-stack.html">create-stack</a>.</p><ol><li>
       <p>Berikan nama stack dan template ke<code class="code">create-stack</code> perintah dengan<code class="code">disable-rollback</code> opsi.</p>
       <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">aws cloudformation create-stack --stack-name <code class="code" copy="true">myteststack</code> --template-body <code class="replaceable">file://DOC-EXAMPLE-BUCKET.json</code> --disable-rollback</code></pre>
       <p>Perintah tersebut mengembalikan output berikut.</p>
       <pre class="screen"><span>{</span>
    "StackId": "arn:aws:cloudformation:us-east-1:123456789012:stack/myteststack/466df9e0-0dff-08e3-8e2f-5088487c4896"
}</pre>
      </li><li>
       <p>Jelaskan keadaan tumpukan menggunakan<code class="code">describe-stacks</code> opsi.</p>
       <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">aws cloudformation describe-stacks --stack-name <code class="replaceable">myteststack</code></code></pre>
       <p>Perintah tersebut mengembalikan output berikut.</p>
       <pre class="screen"><span>{</span>
    "Stacks":  [
        <span>{</span>
            "StackId": "arn:aws:cloudformation:us-east-1:123456789012:stack/myteststack/466df9e0-0dff-08e3-8e2f-5088487c4896",
            "Description": "AWS CloudFormation Sample Template",
            "Tags": [],
            "Outputs": [],
            "StackStatusReason": “The following resource(s) failed to create: [MyBucket]”,
            "CreationTime": "2013-08-23T01:02:15.422Z",
            "Capabilities": [],
            "StackName": "myteststack",
            "StackStatus": "CREATE_FAILED",
            "DisableRollback": true
        }
    ]
}</pre>
      </li></ol></div>
    </dd>
   <dt>Update stack</dt><dd tab-id="update-stack">
     <div class="procedure"><h6>Untuk mempertahankan sumber daya yang berhasil disediakan selama operasi pembaruan tumpukan.</h6><ol><li>
       <p>Berikan nama stack dan template yang ada ke<code class="code">update-stack</code> perintah dengan<code class="code">disable-rollback</code> opsi.</p>
       <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">aws cloudformation update-stack --stack-name <code class="replaceable">myteststack</code> --template-url <code class="replaceable">DOC-EXAMPLE-BUCKET.template</code> --disable-rollback</code></pre>
       <p>Perintah tersebut mengembalikan output berikut.</p>
       <pre class="screen"><span>{</span>
    "StackId": "arn:aws:cloudformation:us-east-1:123456789012:stack/myteststack/466df9e0-0dff-08e3-8e2f-5088487c4896"
}</pre>
      </li><li>
       <p>Jelaskan keadaan tumpukan menggunakan<code class="code">describe-stack-events</code> opsi<code class="code">describe-stacks</code> or.</p>
       <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">aws cloudformation describe-stacks --stack-name <code class="replaceable">myteststack</code></code></pre>
       <p>Perintah tersebut mengembalikan output berikut.</p>
       <pre class="screen"><span>{</span>
    "Stacks":  [
        <span>{</span>
            "StackId": "arn:aws:cloudformation:us-east-1:123456789012:stack/myteststack/466df9e0-0dff-08e3-8e2f-5088487c4896",
            "Description": "AWS CloudFormation Sample Template",
            "Tags": [],
            "Outputs": [],
            "CreationTime": "2013-08-23T01:02:15.422Z",
            "Capabilities": [],
            "StackName": "myteststack",
            "StackStatus": "UPDATE_COMPLETE",
            "DisableRollback": true
        }
    ]
}</pre>
      </li></ol></div>
    </dd>
   <dt>Change set</dt><dd tab-id="change-set">
     <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>catatan</h6></div><div class="awsdocs-note-text"><p>Anda dapat memulai set perubahan untuk tumpukan dengan status<code class="code">CREATE_FAILED</code> atau<code class="code">UPDATE_FAILED</code> tetapi tidak untuk status<code class="code">UPDATE_ROLLBACK_FAILED</code>.</p></div></div>
     <div class="procedure"><h6>Untuk mempertahankan sumber daya yang berhasil disediakan selama operasi set perubahan</h6><p>Tentukan<code class="code">disable-rollback</code> opsi selama <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/execute-change-set.html">execute-change-set</a>operasi.</p><ol><li>
       <p>Berikan nama stack dan template ke<code class="code">execute-change-set</code> perintah dengan<code class="code">disable-rollback</code> opsi.</p>
       <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">aws cloudformation execute-change-set --stack-name <code class="replaceable">myteststack</code> --change-set-name <code class="replaceable">my-change-set</code> --template-body file://template.yaml</code></pre>
       <p>Perintah tersebut mengembalikan output berikut.</p>
       <pre class="screen"><span>{</span>
 "Id": "arn:aws:cloudformation:us-east-1:123456789012:changeSet/my-change-set/bc9555ba-a949-xmpl-bfb8-f41d04ec5784",
 "StackId": "arn:aws:cloudformation:us-east-1:123456789012:stack/myteststack/466df9e0-0dff-08e3-8e2f-5088487c4896"
}</pre>
      </li><li>
       <p>Memulai perubahan set dengan<code class="code">disable-rollback</code> pilihan.</p>
       <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">aws cloudformation execute-change-set --stack-name <code class="replaceable">myteststack</code> --change-set-name <code class="replaceable">my-change-set</code> -–disable-rollback</code></pre>
      </li><li>
       <p>Menentukan status stack menggunakan salah satu<code class="code">describe-stacks</code> atau<code class="code">describe-stack-events</code> pilihan.</p>
       <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "StackEvents": [
     <span>{</span>
        "StackId": "arn:aws:cloudformation:us-east-1:123456789012:stack/myteststack/466df9e0-0dff-08e3-8e2f-5088487c4896",
        "EventId": "49c966a0-7b74-11ea-8071-024244bb0672",
        "StackName": "myteststack",
        "LogicalResourceId": " MyBucket",
        "PhysicalResourceId": "MyBucket",
        "ResourceType": "AWS::S3::Bucket",
        "Timestamp": "2020-04-10T21:43:17.015Z",
        "ResourceStatus": "UPDATE_FAILED"
        "ResourceStatusReason": "User XYZ is not allowed to perform S3::UpdateBucket on MyBucket"
     }
}</code></pre>
      </li><li>
       <p>Perbaiki kesalahan izin dan coba lagi operasi.</p>
       <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">aws cloudformation update-stack --stack-name <code class="replaceable">myteststack</code> --use-previous-template --disable-rollback</code></pre>
       <p>Perintah tersebut mengembalikan output berikut.</p>
       <pre class="screen"><span>{</span>
    "StackId": "arn:aws:cloudformation:us-east-1:123456789012:stack/myteststack/466df9e0-0dff-08e3-8e2f-5088487c4896"
}</pre>
      </li><li>
       <p>Jelaskan keadaan tumpukan menggunakan<code class="code">describe-stack-events</code> opsi<code class="code">describe-stacks</code> or.</p>
       <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">aws cloudformation describe-stacks --stack-name <code class="replaceable">myteststack</code></code></pre>
       <p>Perintah tersebut mengembalikan output berikut.</p>
       <pre class="screen"><span>{</span>
    "Stacks":  [
        <span>{</span>
            "StackId": "arn:aws:cloudformation:us-east-1:123456789012:stack/myteststack/466df9e0-0dff-08e3-8e2f-5088487c4896",
            "Description": "AWS CloudFormation Sample Template",
            "Tags": [],
            "Outputs": [],
            "CreationTime": "2013-08-23T01:02:15.422Z",
            "Capabilities": [],
            "StackName": "myteststack",
            "StackStatus": "UPDATE_COMPLETE",
            "DisableRollback": true
        }
    ]
}</pre>
      </li></ol></div>
    </dd>
  </dl></awsdocs-tabs>
  
   
   <h3 id="roll-back-stack-cli">Gulung kembali tumpukan</h3>
   
   <div class="procedure"><h6>Untuk memutar kembali tumpukan dari status tumpukan CREATE_FAILED atau UPDATE_FAILED</h6><p>Tentukan<code class="code">rollback-stack</code> operasi untuk memutar kembali tumpukan ke keadaan stabil terakhirnya.</p><ul><li>
     <p>Memulai rollback dengan<code class="code">rollback-stack</code> operasi dan menentukan nama stack.</p>
     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">aws cloudformation rollback-stack --stack-name <code class="replaceable">myteststack</code></code></pre>
     <p>Perintah tersebut mengembalikan output berikut.</p>
     <pre class="screen"><span>{</span>
    "StackId": "arn:aws:cloudformation:us-east-1:123456789012:stack/myteststack/466df9e0-0dff-08e3-8e2f-5088487c4896"
}</pre>
    </li></ul></div>
   <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>catatan</h6></div><div class="awsdocs-note-text"><p><code class="code">rollback-stack</code>Operasi akan menghapus tumpukan jika tidak berisi status stabil terakhir yang diketahui.</p></div></div>
   
  
 <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Awas" /> <strong>Javascript dinonaktifkan atau tidak tersedia di browser Anda.</strong></p><p>Untuk menggunakan Dokumentasi AWS, Javascript harus diaktifkan. Lihat halaman Bantuan browser Anda untuk petunjuk.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Konvensi Dokumen</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./stack-resource-configuration-complete.html">Penyebaran tumpukan</div><div id="next" class="next-link" accesskey="n" href="./refactor-stacks.html">Memindahkan sumber daya antar tumpukan</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Apakah halaman ini membantu Anda? - Ya</div><div class="content"><p>Terima kasih telah memberitahukan bahwa hasil pekerjaan kami sudah baik.</p><p>Jika Anda memiliki waktu luang, beri tahu kami aspek apa saja yang sudah bagus, agar kami dapat menerapkannya secara lebih luas.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Umpan Balik" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/stack-failure-options.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Apakah halaman ini membantu Anda? - Tidak</div><div class="content"><p>Terima kasih telah memberi tahu kami bahwa halaman ini perlu ditingkatkan. Maaf karena telah mengecewakan Anda.</p><p>Jika Anda memiliki waktu luang, beri tahu kami bagaimana dokumentasi ini dapat ditingkatkan.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Umpan Balik" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/stack-failure-options.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>