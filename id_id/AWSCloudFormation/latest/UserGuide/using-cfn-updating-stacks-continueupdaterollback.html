<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="id-ID"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Terus mengembalikan pembaruan - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="using-cfn-updating-stacks-continueupdaterollback" /><meta name="default_state" content="using-cfn-updating-stacks-continueupdaterollback" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-continueupdaterollback.html" /><meta name="description" content="Untuk tumpukan di status UPDATE_ROLLBACK_FAILED, perbaiki kesalahan yang menyebabkan kegagalan dan terus mengembalikan pembaruan untuk mengembalikan tumpukan ke status kerja (UPDATE_ROLLBACK_COMPLETE)." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Panduan Pengguna" /><meta name="abstract" content="Membuat dan mengelola penyebaran AWS infrastruktur dapat diprediksi dan berulang kali menggunakan Panduan Pengguna AWS CloudFormation ini." /><meta name="guide-locale" content="id_id" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-continueupdaterollback.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-continueupdaterollback.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-continueupdaterollback.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-continueupdaterollback.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-continueupdaterollback.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-continueupdaterollback.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-continueupdaterollback.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-continueupdaterollback.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-continueupdaterollback.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-continueupdaterollback.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-continueupdaterollback.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-continueupdaterollback.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-continueupdaterollback.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-continueupdaterollback.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-continueupdaterollback.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-continueupdaterollback.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-continueupdaterollback.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-continueupdaterollback.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-continueupdaterollback.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-continueupdaterollback.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-continueupdaterollback.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-continueupdaterollback.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Panduan Pengguna" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Panduan Pengguna" /><meta id="panorama-serviceConsolePage" value="Terus mengembalikan pembaruan" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Terus mengembalikan pembaruan - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-continueupdaterollback.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-continueupdaterollback.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-continueupdaterollback.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,penyediaan sumber daya,konfigurasi sumber daya,manajemen infrastruktur,CloudFormer,CloudFormation tumpukan,CloudFormation stackset,CloudFormation Template,ubah set" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Panduan Pengguna",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Menggunakan tumpukan",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/stacks.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Pembaruan tumpukan AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Terus mengembalikan pembaruan",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Dokumentasi</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Panduan Pengguna</a></div><div id="page-toc-src"><a href="#nested-stacks">Menggunakan ResourcesToSkip untuk memulihkan hierarki tumpukan bersarang</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Terjemahan disediakan oleh mesin penerjemah. Jika konten terjemahan yang diberikan bertentangan dengan versi bahasa Inggris aslinya, utamakan versi bahasa Inggris.</p></awsui-alert><h1 class="topictitle" id="using-cfn-updating-stacks-continueupdaterollback">Terus mengembalikan pembaruan</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Tumpukan masuk ke <code class="code">UPDATE_ROLLBACK_FAILED</code> status ketika tidak AWS CloudFormation dapat memutar kembali semua perubahan selama pembaruan. Misalnya, Anda mungkin memiliki tumpukan yang mulai memutar kembali ke instance database lama yang dihapus di luar CloudFormation. Karena  CloudFormation  tidak tahu bahwa database telah dihapus, itu mengasumsikan bahwa instance database masih ada dan mencoba untuk memutar kembali ke sana, menyebabkan pembaruan rollback gagal.</p><p>Ketika tumpukan dalam status <code class="code">UPDATE_ROLLBACK_FAILED</code>, Anda dapat terus melanjutkan ke status kerja (<code class="code">UPDATE_ROLLBACK_COMPLETE</code>). Anda tidak dapat memperbarui tumpukan yang ada dalam status <code class="code">UPDATE_ROLLBACK_FAILED</code>. Namun, jika Anda dapat terus mengembalikan, Anda dapat mengembalikan tumpukan ke pengaturan aslinya dan kemudian mencoba memperbaruinya lagi.</p><p>Dalam sebagian besar kasus, Anda harus memperbaiki kesalahan yang menyebabkan pembaruan rollback gagal sebelum dapat melanjutkan untuk mengembalikan tumpukan Anda. Lihat informasi yang lebih lengkap di . Dalam kasus lain, Anda dapat terus mengembalikan pembaruan tanpa perubahan apa pun, misalnya saat waktu operasi tumpukan habis.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>catatan</h6></div><div class="awsdocs-note-text"><p>Jika Anda menggunakan tumpukan bersarang, mengembalikan tumpukan induk akan mencoba untuk mengembalikan semua tumpukan anak juga.</p></div></div><div class="procedure"><h6>Untuk terus mengembalikan pembaruan (konsol)</h6><ol><li><p>Buka AWS CloudFormation konsol di <a href="https://console.aws.amazon.com/cloudformation/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/cloudformation</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
      <p>Pilih tumpukan yang ingin Anda perbarui, pilih <b>Tindakan tumpukan</b>, lalu pilih <b>Lanjutkan rollback pembaruan</b>.</p>

      <p>Jika tidak ada solusi yang <a href="./troubleshooting.html#troubleshooting-errors">Memecahkan masalah kesalahan</a> berhasil, Anda dapat menggunakan opsi lanjutan untuk melewati sumber daya yang  CloudFormation tidak berhasil diputar kembali. Anda harus <a href="./cfn-console-view-stack-data-resources.html">mencari</a> dan mengetik ID logis sumber daya yang ingin Anda lewati. Tentukan hanya sumber daya yang masuk ke <code class="code">UPDATE_FAILED</code> status selama <code class="code">UpdateRollback</code> dan tidak selama pembaruan penerusan.</p>
      <div class="awsdocs-note awsdocs-warning"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Awas</h6></div><div class="awsdocs-note-text"><p>CloudFormation menetapkan status sumber daya yang ditentukan ke <code class="code">UPDATE_COMPLETE</code> dan terus memutar kembali tumpukan. Setelah rollback selesai, status sumber daya yang dilewati akan tidak konsisten dengan status sumber daya di templat tumpukan. Sebelum Anda melakukan pembaruan tumpukan lain, Anda harus memperbarui tumpukan atau sumber daya agar konsisten satu sama lain. Jika tidak, pembaruan tumpukan berikutnya mungkin akan gagal dan tumpukan tidak akan dapat dipulihkan.</p></div></div>
      <p>Tentukan jumlah minimum sumber daya yang diperlukan untuk berhasil mengembalikan tumpukan Anda. Sebagai contoh, pembaruan sumber daya yang gagal dapat menyebabkan kegagalan sumber daya dependen. Dalam hal ini, mungkin tidak perlu untuk melewatkan sumber daya dependen.</p>
      <p>Untuk melewatkan sumber daya yang merupakan bagian dari tumpukan bersarang, gunakan format berikut: <code class="code"><code class="replaceable">NestedStackName</code>.<code class="replaceable">ResourceLogicalID</code></code>. Jika Anda ingin menentukan ID logis dari sumber daya tumpukan (<code class="code">Type: AWS::CloudFormation::Stack</code>) di daftar <code class="code">ResourcesToSkip</code>, tumpukan tertanam yang terkait harus berada dalam salah satu status berikut: <code class="code">DELETE_IN_PROGRESS</code>, <code class="code">DELETE_COMPLETE</code>, atau <code class="code">DELETE_FAILED</code>.</p>
    </li></ol></div><div class="procedure"><h6>Untuk terus mengembalikan pembaruan (AWS CLI)</h6><ul><li>
   <p>Gunakan perintah <code class="code"><a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/continue-update-rollback.html">aws cloudformation continue-update-rollback</a></code> dengan opsi <code class="code">stack-name</code> untuk menentukan ID dari tumpukan yang ingin Anda lanjutkan untuk mengembalikan.</p></li></ul></div><h2 id="nested-stacks">Menggunakan <code class="code">ResourcesToSkip</code> untuk memulihkan hierarki tumpukan bersarang</h2>
    
    <p>Diagram berikut menunjukkan hierarki tumpukan bersarang yang berada dalam status <code class="code">UPDATE_ROLLBACK_FAILED</code>. Dalam contoh ini, tumpukan root <code class="code">WebInfra</code> memiliki dua tumpukan bersarang: <code class="code">WebInfra-Compute</code> dan <code class="code">WebInfra-Storage</code>, yang pada gilirannya memiliki satu atau lebih tumpukan bersarang.</p>
    <div class="mediaobject">
       
        <img src="images/cfn-update-stack-continue-update-rollback_nested-stacks.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;        Diagram yang menunjukkan hierarki tumpukan bersarang tiga tingkat.&#xA;      " style="max-width:100%" />
       
       
    </div>
    <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>catatan</h6></div><div class="awsdocs-note-text"><p>Nama tumpukan dalam contoh ini dipotong agar memudahkan. Nama tumpukan anak biasanya dihasilkan oleh  CloudFormation  dan berisi string acak yang unik, jadi nama sebenarnya mungkin tidak ramah pengguna.</p></div></div>      
    <p>Untuk berhasil memasukkan tumpukan root ke status yang dapat dioperasikan menggunakan <code class="code">continue-update-rollback</code>, Anda harus menggunakan parameter <code class="code">resources-to-skip</code> untuk melewati sumber daya yang gagal di-rollback. Dalam contoh ini, <code class="code">resources-to-skip</code> menyertakan item berikut:</p>
    <div class="orderedlist">
       
       
       
       
    <ol><li><p>myCustom</p></li><li><p>WebInfra-Kompute-ASG.myASG</p></li><li><p>WebInfra-Komputasi-lb. myLoadBalancer</p></li><li><p>WebInfra-Storage.DB</p></li></ol></div>
    <p>Contoh berikut adalah AWS CLI perintah lengkap:</p>
    <pre class="programlisting"><div class="code-btn-container"></div><code class="sh "><code class="prompt" copy="false">$ </code><code class="userinput">aws cloudformation continue-update-rollback --stack-name WebInfra \
    --resources-to-skip myCustom WebInfra-Compute-Asg.myAsg WebInfra-Compute-LB.myLoadBalancer WebInfra-Storage.DB</code></code></pre>
    <p>Kami menentukan sumber daya dari tumpukan bersarang dengan menggunakan format <code class="code"><code class="replaceable">NestedStackName</code>.<code class="replaceable">ResourceLogicalID</code></code>, tetapi untuk sumber daya tumpukan root, seperti <em>myCustom</em>, kami hanya menetapkan ID logis.</p>
    <p><b>Menemukan nama tumpukan tumpukan bersarang</b></p>
    <p>Anda dapat menemukan nama tumpukan anak dalam ID tumpukan atau Amazon Resource Name (ARN). Dalam contoh berikut, nama tumpukan adalah <em>WebInfra-Storage-Z2VKC706xKXT</em>:</p>
    <p><code class="code">arn:aws:cloudformation:us-east-1:123456789012:stack/WebInfra-Storage-Z2VKC706XKXT/ea9e7f90-54f7-11e6-a032-028f3d2330bd</code></p>  
    <p><b>Menemukan ID logis dari tumpukan bersarang</b></p>
    <p>Anda dapat menemukan ID logis tumpukan anak dalam definisi templat induknya. Dalam diagram tersebut, <code class="code">LogicalId</code> dari tumpukan anak <code class="code">WebInfra-Storage-DB</code> adalah <em>DB</em> dalam induknya <code class="code">WebInfra-Storage</code>.</p>
    <p>Di  CloudFormation  konsol, Anda juga dapat menemukan ID logis di kolom <b>Logical ID</b> untuk sumber daya tumpukan pada tab <b>Resources</b> atau tab <b>Events</b>.</p>
<awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Awas" /> <strong>Javascript dinonaktifkan atau tidak tersedia di browser Anda.</strong></p><p>Untuk menggunakan Dokumentasi AWS, Javascript harus diaktifkan. Lihat halaman Bantuan browser Anda untuk petunjuk.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Konvensi Dokumen</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./protect-stack-resources.html">Mencegah pembaruan ke sumber daya tumpukan</div><div id="next" class="next-link" accesskey="n" href="./using-cfn-stack-drift.html">Mendeteksi perubahan konfigurasi tidak terkelola ke tumpukan dan sumber daya</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Apakah halaman ini membantu Anda? - Ya</div><div class="content"><p>Terima kasih telah memberitahukan bahwa hasil pekerjaan kami sudah baik.</p><p>Jika Anda memiliki waktu luang, beri tahu kami aspek apa saja yang sudah bagus, agar kami dapat menerapkannya secara lebih luas.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Umpan Balik" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-continueupdaterollback.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Apakah halaman ini membantu Anda? - Tidak</div><div class="content"><p>Terima kasih telah memberi tahu kami bahwa halaman ini perlu ditingkatkan. Maaf karena telah mengecewakan Anda.</p><p>Jika Anda memiliki waktu luang, beri tahu kami bagaimana dokumentasi ini dapat ditingkatkan.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Umpan Balik" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-continueupdaterollback.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>