<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="id-ID"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Konfigurasikan sumber daya Application Auto Scaling dengan AWS CloudFormation - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="quickref-application-auto-scaling" /><meta name="default_state" content="quickref-application-auto-scaling" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" /><meta name="description" content="Gunakan contoh cuplikan template ini untuk mengonfigurasi sumber daya Application Auto Scaling dengan. AWS CloudFormation" /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Panduan Pengguna" /><meta name="abstract" content="Membuat dan mengelola penyebaran AWS infrastruktur dapat diprediksi dan berulang kali menggunakan Panduan Pengguna AWS CloudFormation ini." /><meta name="guide-locale" content="id_id" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Panduan Pengguna" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Panduan Pengguna" /><meta id="panorama-serviceConsolePage" value="Konfigurasikan sumber daya Application Auto Scaling dengan AWS CloudFormation" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Konfigurasikan sumber daya Application Auto Scaling dengan AWS CloudFormation - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,penyediaan sumber daya,konfigurasi sumber daya,manajemen infrastruktur,CloudFormer,CloudFormation tumpukan,CloudFormation stackset,CloudFormation Template,ubah set" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Panduan Pengguna",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Bekerja dengan templat AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/template-guide.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Cuplikan templat",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/CHAP_TemplateQuickRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Cuplikan CloudFormation templat penskalaan otomatis",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/quickref-autoscaling.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Konfigurasikan sumber daya Application Auto Scaling dengan AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/quickref-autoscaling.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Dokumentasi</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Panduan Pengguna</a></div><div id="page-toc-src"><a href="#w9aac23c21c15c19b9">Membuat kebijakan penskalaan untuk armada  AppStream </a><a href="#w9aac23c21c15c19c11">Buat kebijakan penskalaan untuk klaster Aurora DB</a><a href="#w9aac23c21c15c19c13">Membuat kebijakan penskalaan untuk tabel DynamoDB</a><a href="#w9aac23c21c15c19c15">Membuat kebijakan penskalaan untuk layanan Amazon ECS (metrik: CPU dan memori rata-rata)</a><a href="#w9aac23c21c15c19c17">Membuat kebijakan penskalaan untuk layanan Amazon ECS (metrik: jumlah permintaan rata-rata per target)</a><a href="#w9aac23c21c15c19c19">Buat tindakan terjadwal dengan ekspresi cron untuk fungsi Lambda</a><a href="#w9aac23c21c15c19c21">Membuat tindakan terjadwal dengan at ekspresi untuk Armada Spot</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Terjemahan disediakan oleh mesin penerjemah. Jika konten terjemahan yang diberikan bertentangan dengan versi bahasa Inggris aslinya, utamakan versi bahasa Inggris.</p></awsui-alert><h1 class="topictitle" id="quickref-application-auto-scaling">Konfigurasikan sumber daya Application Auto Scaling dengan AWS CloudFormation</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Bagian ini memberikan contoh AWS CloudFormation templat untuk kebijakan penskalaan Application Auto Scaling dan tindakan terjadwal untuk sumber daya yang berbeda. AWS</p><div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>penting</h6></div><div class="awsdocs-note-text"><p>Ketika cuplikan Application Auto Scaling disertakan dalam template, Anda mungkin perlu mendeklarasikan dependensi pada sumber daya tertentu yang dapat diskalakan yang dibuat melalui template menggunakan file. <a href="./aws-attribute-dependson.html">DependsOnatribut</a> Ini menimpa paralelisme default dan mengarahkan AWS CloudFormation untuk beroperasi pada sumber daya dalam urutan tertentu. Jika tidak, konfigurasi penskalaan mungkin diterapkan sebelum sumber daya telah disiapkan sepenuhnya.</p></div></div><div class="highlights" id="inline-topiclist"><h6>Kategori Snippet</h6><ul><li><a href="#w9aac23c21c15c19b9">Membuat kebijakan penskalaan untuk armada  AppStream </a></li><li><a href="#w9aac23c21c15c19c11">Buat kebijakan penskalaan untuk klaster Aurora DB</a></li><li><a href="#w9aac23c21c15c19c13">Membuat kebijakan penskalaan untuk tabel DynamoDB</a></li><li><a href="#w9aac23c21c15c19c15">Membuat kebijakan penskalaan untuk layanan Amazon ECS (metrik: CPU dan memori rata-rata)</a></li><li><a href="#w9aac23c21c15c19c17">Membuat kebijakan penskalaan untuk layanan Amazon ECS (metrik: jumlah permintaan rata-rata per target)</a></li><li><a href="#w9aac23c21c15c19c19">Buat tindakan terjadwal dengan ekspresi cron untuk fungsi Lambda</a></li><li><a href="#w9aac23c21c15c19c21">Membuat tindakan terjadwal dengan at ekspresi untuk Armada Spot</a></li></ul></div>
      <h2 id="w9aac23c21c15c19b9">Membuat kebijakan penskalaan untuk armada  AppStream </h2>
      <p>Cuplikan ini menunjukkan cara membuat kebijakan dan menerapkannya ke <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-appstream-fleet.html"><code class="code">AWS::AppStream::Fleet</code></a>sumber daya menggunakan sumber daya. <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-applicationautoscaling-scalingpolicy.html"><code class="code">AWS::ApplicationAutoScaling::ScalingPolicy</code></a> <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-applicationautoscaling-scalabletarget.html"><code class="code">AWS::ApplicationAutoScaling::ScalableTarget</code></a>Sumber daya mendeklarasikan target yang dapat diskalakan tempat kebijakan ini diterapkan. Application Auto Scaling dapat menskalakan jumlah instance armada minimal 1 instans dan maksimal 20 instans. Kebijakan tersebut menjaga pemanfaatan kapasitas rata-rata armada pada 75 persen, dengan periode cooldown scale-out dan scale-in 300 detik (5 menit).</p>
      <p>Ini menggunakan fungsi <a href="./intrinsic-function-reference-join.html">Fn::Join</a> dan <a href="./intrinsic-function-reference-ref.html">Ref</a> intrinsik untuk membangun <code class="code">ResourceId</code> properti dengan nama logis dari <code class="code">AWS::AppStream::Fleet</code> sumber daya yang ditentukan dalam template yang sama.</p>
      <div id="JSON" name="JSON" class="section langfilter">
        <h3 id="quickref-autoscaling-example-6.json">JSON</h3>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Resources" : <span>{</span>
    "ScalableTarget" : <span>{</span>
      "Type" : "AWS::ApplicationAutoScaling::ScalableTarget",
      "Properties" : <span>{</span>
        "MaxCapacity" : 20,
        "MinCapacity" : 1,
        "RoleARN" : <span>{</span> "Fn::Sub" : "arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/appstream.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_AppStreamFleet" },
        "ServiceNamespace" : "appstream",
        "ScalableDimension" : "appstream:fleet:DesiredCapacity",
        "ResourceId" : <span>{</span>
          "Fn::Join" : [
            "/",
            [
              "fleet",
              <span>{</span>
                "Ref" : "<code class="replaceable">logicalName</code>"
              }
            ]
          ]
        }
      }
    },
    "ScalingPolicyAppStreamFleet" : <span>{</span>
      "Type" : "AWS::ApplicationAutoScaling::ScalingPolicy",
      "Properties" : <span>{</span>
        "PolicyName" : <span>{</span> "Fn::Sub" : "$<span>{</span>AWS::StackName}-target-tracking-cpu75" },
        "PolicyType" : "TargetTrackingScaling",
        "ServiceNamespace" : "appstream",
        "ScalableDimension" : "appstream:fleet:DesiredCapacity",
        "ResourceId" : <span>{</span>
          "Fn::Join" : [
            "/",
            [
              "fleet",
              <span>{</span>
                "Ref" : "<code class="replaceable">logicalName</code>"
              }
            ]
          ]
        },
        "TargetTrackingScalingPolicyConfiguration" : <span>{</span>
          "TargetValue" : 75,
          "PredefinedMetricSpecification" : <span>{</span>
            "PredefinedMetricType" : "AppStreamAverageCapacityUtilization"
          },
          "ScaleInCooldown" : 300,
          "ScaleOutCooldown" : 300
        }
      }
    } 
  }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h3 id="quickref-autoscaling-example-6.yaml">YAML</h3>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">---
Resources:
  ScalableTarget:
    Type: AWS::ApplicationAutoScaling::ScalableTarget
    Properties:
      MaxCapacity: 20
      MinCapacity: 1
      RoleARN: 
        Fn::Sub: 'arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/appstream.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_AppStreamFleet'
      ServiceNamespace: appstream
      ScalableDimension: appstream:fleet:DesiredCapacity
      ResourceId: !Join
        - /
        - - fleet
          - !Ref <code class="replaceable">logicalName</code>
  ScalingPolicyAppStreamFleet:
    Type: AWS::ApplicationAutoScaling::ScalingPolicy
    Properties:
      PolicyName: !Sub $<span>{</span>AWS::StackName}-target-tracking-cpu75
      PolicyType: TargetTrackingScaling
      ServiceNamespace: appstream
      ScalableDimension: appstream:fleet:DesiredCapacity
      ResourceId: !Join
        - /
        - - fleet
          - !Ref <code class="replaceable">logicalName</code>
      TargetTrackingScalingPolicyConfiguration:
        TargetValue: 75
        PredefinedMetricSpecification:
          PredefinedMetricType: AppStreamAverageCapacityUtilization
        ScaleInCooldown: 300
        ScaleOutCooldown: 300</code></pre>
      </div>
     
      <h2 id="w9aac23c21c15c19c11">Buat kebijakan penskalaan untuk klaster Aurora DB</h2>
      <p>Dalam cuplikan ini, Anda mendaftarkan sumber daya. <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-rds-dbcluster.html"><code class="code">AWS::RDS::DBCluster</code></a> <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-applicationautoscaling-scalabletarget.html"><code class="code">AWS::ApplicationAutoScaling::ScalableTarget</code></a>Sumber daya menunjukkan bahwa cluster DB harus diskalakan secara dinamis untuk memiliki dari satu hingga delapan Replika Aurora. Anda juga menerapkan kebijakan penskalaan pelacakan target ke klaster menggunakan <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-applicationautoscaling-scalingpolicy.html"><code class="code">AWS::ApplicationAutoScaling::ScalingPolicy</code></a>sumber daya.</p>
      <p>Dalam konfigurasi ini, metrik standar <code class="code">RDSReaderAverageCPUUtilization</code> digunakan untuk menyesuaikan klaster DB Aurora berdasarkan pemanfaatan CPU rata-rata sebesar 40 persen di seluruh Replika Aurora dalam klaster DB Aurora tersebut. Konfigurasi ini menyediakan periode pendinginan penskalaan ke dalam selama 10 menit dan periode pendinginan penskalaan ke luar selama 5 menit.</p>
      <p>Contoh ini menggunakan fungsi <a href="./intrinsic-function-reference-sub.html">Fn::Sub</a> intrinsik untuk membangun <code class="code">ResourceId</code> properti dengan nama logis <code class="code">AWS::RDS::DBCluster</code> sumber daya yang ditentukan dalam template yang sama.</p>
      <div id="JSON" name="JSON" class="section langfilter">
        <h3 id="quickref-autoscaling-example-7.json">JSON</h3>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Resources" : <span>{</span>
    "ScalableTarget" : <span>{</span>
      "Type" : "AWS::ApplicationAutoScaling::ScalableTarget",
      "Properties" : <span>{</span>
        "MaxCapacity" : 8,
        "MinCapacity" : 1,
        "RoleARN" : <span>{</span> "Fn::Sub" : "arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/rds.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_RDSCluster" },
        "ServiceNamespace" : "rds",
        "ScalableDimension" : "rds:cluster:ReadReplicaCount",
        "ResourceId" : <span>{</span> "Fn::Sub" : "cluster:$<span>{</span><code class="replaceable">logicalName</code>}" }
      }
    },
    "ScalingPolicyDBCluster" : <span>{</span>
      "Type" : "AWS::ApplicationAutoScaling::ScalingPolicy",
      "Properties" : <span>{</span>
        "PolicyName" : <span>{</span> "Fn::Sub" : "$<span>{</span>AWS::StackName}-target-tracking-cpu40" },
        "PolicyType" : "TargetTrackingScaling",
        "ServiceNamespace" : "rds",
        "ScalableDimension" : "rds:cluster:ReadReplicaCount",
        "ResourceId" : <span>{</span> "Fn::Sub" : "cluster:$<span>{</span><code class="replaceable">logicalName</code>}" }, 
        "TargetTrackingScalingPolicyConfiguration" : <span>{</span>
          "TargetValue" : 40,
          "PredefinedMetricSpecification" : <span>{</span>
            "PredefinedMetricType" : "RDSReaderAverageCPUUtilization"
          },
          "ScaleInCooldown" : 600,
          "ScaleOutCooldown" : 300
        }
      }
    }
  }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h3 id="quickref-autoscaling-example-7.yaml">YAML</h3>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">---
Resources:
  ScalableTarget:
    Type: AWS::ApplicationAutoScaling::ScalableTarget
    Properties:
      MaxCapacity: 8
      MinCapacity: 1
      RoleARN: 
        Fn::Sub: 'arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/rds.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_RDSCluster'
      ServiceNamespace: rds
      ScalableDimension: rds:cluster:ReadReplicaCount
      ResourceId: !Sub cluster:$<span>{</span><code class="replaceable">logicalName</code>}
  ScalingPolicyDBCluster:
    Type: AWS::ApplicationAutoScaling::ScalingPolicy
    Properties:
      PolicyName: !Sub $<span>{</span>AWS::StackName}-target-tracking-cpu40
      PolicyType: TargetTrackingScaling
      ServiceNamespace: rds
      ScalableDimension: rds:cluster:ReadReplicaCount
      ResourceId: !Sub cluster:$<span>{</span><code class="replaceable">logicalName</code>}
      TargetTrackingScalingPolicyConfiguration:
        TargetValue: 40
        PredefinedMetricSpecification:
          PredefinedMetricType: RDSReaderAverageCPUUtilization
        ScaleInCooldown: 600
        ScaleOutCooldown: 300</code></pre>
      </div>
     
      <h2 id="w9aac23c21c15c19c13">Membuat kebijakan penskalaan untuk tabel DynamoDB</h2>

      <p>Cuplikan ini menunjukkan cara membuat kebijakan dengan tipe <code class="code">TargetTrackingScaling</code> kebijakan dan menerapkannya ke <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-dynamodb-table.html"><code class="code">AWS::DynamoDB::Table</code></a>sumber daya menggunakan sumber daya. <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-applicationautoscaling-scalingpolicy.html"><code class="code">AWS::ApplicationAutoScaling::ScalingPolicy</code></a> <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-applicationautoscaling-scalabletarget.html"><code class="code">AWS::ApplicationAutoScaling::ScalableTarget</code></a>Sumber daya menyatakan target yang dapat diskalakan yang diterapkan kebijakan ini, dengan minimal lima unit kapasitas tulis dan maksimum 15. Kebijakan penskalaan menskalakan throughput kapasitas tulis tabel untuk mempertahankan pemanfaatan target pada 50 persen berdasarkan metrik <code class="code">DynamoDBWriteCapacityUtilization</code> yang sudah ditentukan sebelumnya.</p>
      <p>Ini menggunakan fungsi <a href="./intrinsic-function-reference-join.html">Fn::Join</a> dan <a href="./intrinsic-function-reference-ref.html">Ref</a> intrinsik untuk membangun <code class="code">ResourceId</code> properti dengan nama logis dari <code class="code">AWS::DynamoDB::Table</code> sumber daya yang ditentukan dalam template yang sama.</p>
      <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>catatan</h6></div><div class="awsdocs-note-text"><p>Untuk informasi selengkapnya tentang cara membuat AWS CloudFormation template untuk sumber daya DynamoDB, lihat <a href="https://aws.amazon.com/blogs/database/how-to-use-aws-cloudformation-to-configure-auto-scaling-for-amazon-dynamodb-tables-and-indexes/" rel="noopener noreferrer" target="_blank"><span>posting blog Cara menggunakan untuk mengonfigurasi penskalaan otomatis AWS CloudFormation untuk tabel dan indeks Amazon DynamoDB di Blog Database</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. AWS</p></div></div>
      <div id="JSON" name="JSON" class="section langfilter">
        <h3 id="quickref-autoscaling-example-8.json">JSON</h3>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Resources" : <span>{</span>
    "WriteCapacityScalableTarget" : <span>{</span>
      "Type" : "AWS::ApplicationAutoScaling::ScalableTarget",
      "Properties" : <span>{</span>
        "MaxCapacity" : 15,
        "MinCapacity" : 5,
        "RoleARN" : <span>{</span> "Fn::Sub" : "arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/dynamodb.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_DynamoDBTable" },
        "ServiceNamespace" : "dynamodb",
        "ScalableDimension" : "dynamodb:table:WriteCapacityUnits",
        "ResourceId" : <span>{</span>
          "Fn::Join" : [
            "/",
            [
              "table",
              <span>{</span>
                "Ref" : "<code class="replaceable">logicalName</code>"
              }
            ]
          ]
        }
      }
    },
    "WriteScalingPolicy" : <span>{</span>
      "Type" : "AWS::ApplicationAutoScaling::ScalingPolicy",
      "Properties" : <span>{</span>
        "PolicyName" : "WriteScalingPolicy",
        "PolicyType" : "TargetTrackingScaling",
        "ScalingTargetId" : <span>{</span> "Ref" : "WriteCapacityScalableTarget" },
        "TargetTrackingScalingPolicyConfiguration" : <span>{</span>
          "TargetValue" : 50.0,
          "ScaleInCooldown" : 60,
          "ScaleOutCooldown" : 60,
          "PredefinedMetricSpecification" : <span>{</span>
            "PredefinedMetricType" : "DynamoDBWriteCapacityUtilization"
          }
        }
      }
    }
  }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h3 id="quickref-autoscaling-example-8.yaml">YAML</h3>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">---
Resources:
  WriteCapacityScalableTarget:
    Type: AWS::ApplicationAutoScaling::ScalableTarget
    Properties:
      MaxCapacity: 15
      MinCapacity: 5
      RoleARN: 
        Fn::Sub: 'arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/dynamodb.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_DynamoDBTable'
      ServiceNamespace: dynamodb
      ScalableDimension: dynamodb:table:WriteCapacityUnits
      ResourceId: !Join
        - /
        - - table
          - !Ref <code class="replaceable">logicalName</code>
  WriteScalingPolicy:
    Type: AWS::ApplicationAutoScaling::ScalingPolicy
    Properties:
      PolicyName: WriteScalingPolicy
      PolicyType: TargetTrackingScaling
      ScalingTargetId: !Ref WriteCapacityScalableTarget
      TargetTrackingScalingPolicyConfiguration:
        TargetValue: 50.0
        ScaleInCooldown: 60
        ScaleOutCooldown: 60
        PredefinedMetricSpecification:
          PredefinedMetricType: DynamoDBWriteCapacityUtilization</code></pre>
      </div>
     
      <h2 id="w9aac23c21c15c19c15">Membuat kebijakan penskalaan untuk layanan Amazon ECS (metrik: CPU dan memori rata-rata)</h2>

      <p>Cuplikan ini menunjukkan cara membuat kebijakan dan menerapkannya ke <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ecs-service.html"><code class="code">AWS::ECS::Service</code></a>sumber daya menggunakan sumber daya. <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-applicationautoscaling-scalingpolicy.html"><code class="code">AWS::ApplicationAutoScaling::ScalingPolicy</code></a> <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-applicationautoscaling-scalabletarget.html"><code class="code">AWS::ApplicationAutoScaling::ScalableTarget</code></a>Sumber daya mendeklarasikan target yang dapat diskalakan tempat kebijakan ini diterapkan. Application Auto Scaling dapat menskalakan jumlah tugas minimal 1 tugas dan maksimal 6.</p>
      <p>Hal itu membuat dua kebijakan penskalaan dengan jenis kebijakan <code class="code">TargetTrackingScaling</code>. Kebijakan yang digunakan untuk menskalakan layanan ECS berdasarkan penggunaan rata-rata CPU dan memori layanan. Ini menggunakan fungsi <a href="./intrinsic-function-reference-join.html">Fn::Join</a> dan <a href="./intrinsic-function-reference-ref.html">Ref</a> intrinsik untuk membangun <code class="code">ResourceId</code> properti dengan nama logis dari <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ecs-cluster.html"><code class="code">AWS::ECS::Cluster</code></a>(<code class="code">myContainerCluster</code>) dan <code class="code">AWS::ECS::Service</code> (<code class="code">myService</code>) sumber daya yang ditentukan dalam template yang sama.</p>
      <div id="JSON" name="JSON" class="section langfilter">
        <h3 id="quickref-autoscaling-example-9.json">JSON</h3>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Resources" : <span>{</span>
    "ECSScalableTarget" : <span>{</span>
      "Type" : "AWS::ApplicationAutoScaling::ScalableTarget",
      "Properties" : <span>{</span>
        "MaxCapacity" : "6",
        "MinCapacity" : "1",
        "RoleARN" : <span>{</span> "Fn::Sub" : "arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/ecs.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_ECSService" },
        "ServiceNamespace" : "ecs",
        "ScalableDimension" : "ecs:service:DesiredCount",
        "ResourceId" : <span>{</span>
          "Fn::Join" : [
            "/",
            [
              "service",
              <span>{</span>
                "Ref" : "<code class="replaceable">myContainerCluster</code>"
              },
              <span>{</span>
                "Fn::GetAtt" : [
                  "<code class="replaceable">myService</code>",
                  "Name"
                ]
              }
            ]
          ]
        }
      }
    },
    "ServiceScalingPolicyCPU" : <span>{</span>
      "Type" : "AWS::ApplicationAutoScaling::ScalingPolicy",
      "Properties" : <span>{</span>
        "PolicyName" : <span>{</span> "Fn::Sub" : "$<span>{</span>AWS::StackName}-target-tracking-cpu70" },
        "PolicyType" : "TargetTrackingScaling",
        "ScalingTargetId" : <span>{</span> "Ref" : "ECSScalableTarget" },
        "TargetTrackingScalingPolicyConfiguration" : <span>{</span>
          "TargetValue" : 70.0,
          "ScaleInCooldown" : 180,
          "ScaleOutCooldown" : 60,
          "PredefinedMetricSpecification" : <span>{</span>
            "PredefinedMetricType" : "ECSServiceAverageCPUUtilization"
          }
        }
      }
    },
    "ServiceScalingPolicyMem" : <span>{</span>
      "Type" : "AWS::ApplicationAutoScaling::ScalingPolicy",
      "Properties" : <span>{</span>
        "PolicyName" : <span>{</span> "Fn::Sub" : "$<span>{</span>AWS::StackName}-target-tracking-mem90" },
        "PolicyType" : "TargetTrackingScaling",
        "ScalingTargetId" : <span>{</span> "Ref" : "ECSScalableTarget" },
        "TargetTrackingScalingPolicyConfiguration" : <span>{</span>
          "TargetValue" : 90.0,
          "ScaleInCooldown" : 180,
          "ScaleOutCooldown" : 60,
          "PredefinedMetricSpecification" : <span>{</span>
            "PredefinedMetricType" : "ECSServiceAverageMemoryUtilization"
          }
        }
      }
    }
  }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h3 id="quickref-autoscaling-example-9.yaml">YAML</h3>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">---
Resources:
  ECSScalableTarget:
    Type: AWS::ApplicationAutoScaling::ScalableTarget
    Properties:
      MaxCapacity: 6
      MinCapacity: 1  
      RoleARN: 
        Fn::Sub: 'arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/ecs.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_ECSService'
      ServiceNamespace: ecs
      ScalableDimension: 'ecs:service:DesiredCount'
      ResourceId: !Join 
        - /
        - - service
          - !Ref <code class="replaceable">myContainerCluster</code>
          - !GetAtt <code class="replaceable">myService</code>.Name
  ServiceScalingPolicyCPU:
    Type: AWS::ApplicationAutoScaling::ScalingPolicy
    Properties:
      PolicyName: !Sub $<span>{</span>AWS::StackName}-target-tracking-cpu70
      PolicyType: TargetTrackingScaling
      ScalingTargetId: !Ref ECSScalableTarget
      TargetTrackingScalingPolicyConfiguration:
        TargetValue: 70.0
        ScaleInCooldown: 180
        ScaleOutCooldown: 60
        PredefinedMetricSpecification:
          PredefinedMetricType: ECSServiceAverageCPUUtilization
  ServiceScalingPolicyMem:
    Type: AWS::ApplicationAutoScaling::ScalingPolicy
    Properties:
      PolicyName: !Sub $<span>{</span>AWS::StackName}-target-tracking-mem90
      PolicyType: TargetTrackingScaling
      ScalingTargetId: !Ref ECSScalableTarget
      TargetTrackingScalingPolicyConfiguration:
        TargetValue: 90.0
        ScaleInCooldown: 180
        ScaleOutCooldown: 60
        PredefinedMetricSpecification:
          PredefinedMetricType: ECSServiceAverageMemoryUtilization</code></pre>
      </div>
     
      <h2 id="w9aac23c21c15c19c17">Membuat kebijakan penskalaan untuk layanan Amazon ECS (metrik: jumlah permintaan rata-rata per target)</h2>

      <p>Contoh berikut menerapkan kebijakan penskalaan pelacakan target dengan metrik <code class="code">ALBRequestCountPerTarget</code> yang telah ditetapkan ke layanan ECS. Kebijakan ini digunakan untuk menambah kapasitas layanan ECS ketika jumlah permintaan per target (per menit) melebihi nilai target. Karena nilai <code class="code">DisableScaleIn</code> diatur menjadi <code class="code">true</code>, kebijakan pelacakan target tidak akan menghapus kapasitas dari target yang dapat diskalakan.</p>
      <p>Ini menggunakan fungsi <a href="./intrinsic-function-reference-join.html">Fn::Join</a> dan <a href="./intrinsic-function-reference-getatt.html">Fn::GetAtt</a> intrinsik untuk membangun <code class="code">ResourceLabel</code> properti dengan nama logis dari <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-elasticloadbalancingv2-loadbalancer.html"><code class="code">AWS::ElasticLoadBalancingV2::LoadBalancer</code></a>(<code class="code">myLoadBalancer</code>) dan <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-elasticloadbalancingv2-targetgroup.html"><code class="code">AWS::ElasticLoadBalancingV2::TargetGroup</code></a>(<code class="code">myTargetGroup</code>) sumber daya yang ditentukan dalam template yang sama.</p>
      <p>Properti <code class="code">MaxCapacity</code> dan <code class="code">MinCapacity</code> pada target yang dapat diskalakan dan properti <code class="code">TargetValue</code> nilai parameter referensi kebijakan penskalaan yang Anda teruskan ke templat saat membuat atau memperbarui tumpukan.</p>
      <div id="JSON" name="JSON" class="section langfilter">
        <h3 id="quickref-autoscaling-example-10.json">JSON</h3>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Resources" : <span>{</span>
    "ECSScalableTarget" : <span>{</span>
      "Type" : "AWS::ApplicationAutoScaling::ScalableTarget",
      "Properties" : <span>{</span>
        "MaxCapacity" : <span>{</span> "Ref" : "MaxCount" },
        "MinCapacity" : <span>{</span> "Ref" : "MinCount" },
        "RoleARN" : <span>{</span> "Fn::Sub" : "arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/ecs.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_ECSService" },
        "ServiceNamespace" : "ecs",
        "ScalableDimension" : "ecs:service:DesiredCount",
        "ResourceId" : <span>{</span>
          "Fn::Join" : [
            "/",
            [
              "service",
              <span>{</span>
                "Ref" : "<code class="replaceable">myContainerCluster</code>"
              },
              <span>{</span>
                "Fn::GetAtt" : [
                  "<code class="replaceable">myService</code>",
                  "Name"
                ]
              }
            ]
          ]
        }
      }
    },
    "ServiceScalingPolicyALB" : <span>{</span>
      "Type" : "AWS::ApplicationAutoScaling::ScalingPolicy",
      "Properties" : <span>{</span>
        "PolicyName" : "alb-requests-per-target-per-minute",
        "PolicyType" : "TargetTrackingScaling",
        "ScalingTargetId" : <span>{</span> "Ref" : "ECSScalableTarget" },
        "TargetTrackingScalingPolicyConfiguration" : <span>{</span>
          "TargetValue" : <span>{</span> "Ref" : "ALBPolicyTargetValue" },
          "ScaleInCooldown" : 180,
          "ScaleOutCooldown" : 30,
          "DisableScaleIn" : true,
          "PredefinedMetricSpecification" : <span>{</span>
            "PredefinedMetricType" : "ALBRequestCountPerTarget",
            "ResourceLabel" : <span>{</span>
              "Fn::Join" : [
                "/",
                [
                  <span>{</span>
                    "Fn::GetAtt" : [
                      "<code class="replaceable">myLoadBalancer</code>",
                      "LoadBalancerFullName"
                    ]
                  },
                  <span>{</span>
                    "Fn::GetAtt" : [
                      "<code class="replaceable">myTargetGroup</code>",
                      "TargetGroupFullName"
                    ]
                  }
                ]
              ]
            }
          }
        }
      }
    }
  }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h3 id="quickref-autoscaling-example-10.yaml">YAML</h3>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">---
Resources:
  ECSScalableTarget:
    Type: AWS::ApplicationAutoScaling::ScalableTarget
    Properties:
      MaxCapacity: !Ref MaxCount
      MinCapacity: !Ref MinCount  
      RoleARN: 
        Fn::Sub: 'arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/ecs.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_ECSService'
      ServiceNamespace: ecs
      ScalableDimension: 'ecs:service:DesiredCount'
      ResourceId: !Join 
        - /
        - - service
          - !Ref <code class="replaceable">myContainerCluster</code>
          - !GetAtt <code class="replaceable">myService</code>.Name
  ServiceScalingPolicyALB:
    Type: AWS::ApplicationAutoScaling::ScalingPolicy
    Properties:
      PolicyName: alb-requests-per-target-per-minute
      PolicyType: TargetTrackingScaling
      ScalingTargetId: !Ref ECSScalableTarget
      TargetTrackingScalingPolicyConfiguration:
        TargetValue: !Ref ALBPolicyTargetValue
        ScaleInCooldown: 180
        ScaleOutCooldown: 30
        DisableScaleIn: true
        PredefinedMetricSpecification:
          PredefinedMetricType: ALBRequestCountPerTarget
          ResourceLabel: !Join 
            - '/' 
            - - !GetAtt <code class="replaceable">myLoadBalancer</code>.LoadBalancerFullName
              - !GetAtt <code class="replaceable">myTargetGroup</code>.TargetGroupFullName</code></pre>
      </div>
     
      <h2 id="w9aac23c21c15c19c19">Buat tindakan terjadwal dengan ekspresi cron untuk fungsi Lambda</h2>

      <p>Cuplikan ini mendaftarkan konkurensi yang disediakan untuk fungsi alias () bernama menggunakan sumber daya. <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-lambda-alias.html"><code class="code">AWS::Lambda::Alias</code><code class="code">BLUE</code><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-applicationautoscaling-scalabletarget.html"><code class="code">AWS::ApplicationAutoScaling::ScalableTarget</code></a></a> Hal itu juga membuat tindakan terjadwal dengan jadwal berulang menggunakan ekspresi cron. Zona waktu untuk jadwal berulang adalah UTC.</p>
      <p>Ini menggunakan fungsi <a href="./intrinsic-function-reference-ref.html">Ref</a> intrinsik <a href="./intrinsic-function-reference-join.html">Fn::Join</a> dan intrinsik di <code class="code">RoleARN</code> properti untuk menentukan ARN dari peran terkait layanan. Ini menggunakan fungsi <a href="./intrinsic-function-reference-sub.html">Fn::Sub</a> intrinsik untuk membangun <code class="code">ResourceId</code> properti dengan nama logis dari <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-lambda-function.html"><code class="code">AWS::Lambda::Function</code></a>atau <a href="https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/sam-resource-function.html"><code class="code">AWS::Serverless::Function</code></a>sumber daya yang ditentukan dalam template yang sama.</p>
      <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>catatan</h6></div><div class="awsdocs-note-text"><p>Anda tidak dapat mengalokasikan konkurensi yang disediakan pada alias yang menunjuk ke versi () yang tidak dipublikasikan. <code class="code">$LATEST</code></p><p>Untuk informasi selengkapnya tentang cara membuat AWS CloudFormation template untuk sumber daya Lambda, lihat posting blog <a href="https://aws.amazon.com/blogs/compute/scheduling-aws-lambda-provisioned-concurrency-for-recurring-peak-usage/" rel="noopener noreferrer" target="_blank"><span>Menjadwalkan Konkurensi Penyediaan AWS Lambda untuk</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> penggunaan puncak berulang di Blog Komputasi. AWS</p></div></div>


      <div id="JSON" name="JSON" class="section langfilter">
        <h3 id="quickref-autoscaling-example-11.json">JSON</h3>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "ScalableTarget" : <span>{</span>
    "Type" : "AWS::ApplicationAutoScaling::ScalableTarget",
    "Properties" : <span>{</span>
      "MaxCapacity" : 250,
      "MinCapacity" : 0,
      "RoleARN" : <span>{</span>
        "Fn::Join" : [
          ":",
          [
            "arn:aws:iam:",
            <span>{</span>
              "Ref" : "AWS::AccountId"
            },
            "role/aws-service-role/lambda.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_LambdaConcurrency"
          ]
        ]
      },
      "ServiceNamespace" : "lambda",
      "ScalableDimension" : "lambda:function:ProvisionedConcurrency",
      "ResourceId" : <span>{</span> "Fn::Sub" : "function:$<span>{</span><code class="replaceable">logicalName</code>}:BLUE" },
      "ScheduledActions" : [
        <span>{</span>
          "ScalableTargetAction" : <span>{</span>
            "MinCapacity" : "250"
          },
          "ScheduledActionName" : "my-scale-out-scheduled-action",
          "Schedule" : "cron(0 18 * * ? *)",
          "EndTime" : "2022-12-31T12:00:00.000Z"
        }
      ]
    }
  }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h3 id="quickref-autoscaling-example-11.yaml">YAML</h3>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">ScalableTarget:
  Type: AWS::ApplicationAutoScaling::ScalableTarget
  Properties:
    MaxCapacity: 250
    MinCapacity: 0
    RoleARN: !Join 
      - ':'
      - - 'arn:aws:iam:'
        - !Ref 'AWS::AccountId'
        - role/aws-service-role/lambda.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_LambdaConcurrency
    ServiceNamespace: lambda
    ScalableDimension: lambda:function:ProvisionedConcurrency
    ResourceId: !Sub function:$<span>{</span><code class="replaceable">logicalName</code>}:BLUE
    ScheduledActions:
      - ScalableTargetAction:
          MinCapacity: 250
        ScheduledActionName: my-scale-out-scheduled-action
        Schedule: 'cron(0 18 * * ? *)'
        EndTime: '2022-12-31T12:00:00.000Z'</code></pre>
      </div>
     
      <h2 id="w9aac23c21c15c19c21">Membuat tindakan terjadwal dengan <code class="code">at</code> ekspresi untuk Armada Spot</h2>

      <p>Cuplikan ini menunjukkan cara membuat dua tindakan terjadwal yang terjadi hanya sekali untuk <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-spotfleet.html"><code class="code">AWS::EC2::SpotFleet</code></a>sumber daya yang menggunakan sumber daya. <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-applicationautoscaling-scalabletarget.html"><code class="code">AWS::ApplicationAutoScaling::ScalableTarget</code></a> Zona waktu untuk setiap tindakan terjadwal satu kali adalah UTC.</p>
      <p>Ini menggunakan fungsi <a href="./intrinsic-function-reference-join.html">Fn::Join</a> dan <a href="./intrinsic-function-reference-ref.html">Ref</a> intrinsik untuk membangun <code class="code">ResourceId</code> properti dengan nama logis dari <code class="code">AWS::EC2::SpotFleet</code> sumber daya yang ditentukan dalam template yang sama.</p>
      <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>catatan</h6></div><div class="awsdocs-note-text"><p>Permintaan Armada Spot harus memiliki jenis permintaan <code class="code">maintain</code>. Penskalaan otomatis tidak didukung untuk permintaan tipe , atau blok Spot.</p></div></div>
      <div id="JSON" name="JSON" class="section langfilter">
        <h3 id="quickref-autoscaling-example-12.json">JSON</h3>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Resources" : <span>{</span>
    "SpotFleetScalableTarget" : <span>{</span>
      "Type" : "AWS::ApplicationAutoScaling::ScalableTarget",
      "Properties" : <span>{</span>
        "MaxCapacity" : 0,
        "MinCapacity" : 0,
        "RoleARN" : <span>{</span> "Fn::Sub" : "arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/ec2.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_EC2SpotFleetRequest" },
        "ServiceNamespace" : "ec2",
        "ScalableDimension" : "ec2:spot-fleet-request:TargetCapacity",
        "ResourceId" : <span>{</span>
          "Fn::Join" : [
            "/",
            [
              "spot-fleet-request",
              <span>{</span>
                "Ref" : "<code class="replaceable">logicalName</code>"
              }
            ]
          ]
        },
        "ScheduledActions" : [
          <span>{</span>
            "ScalableTargetAction" : <span>{</span>
              "MaxCapacity" : "10",
              "MinCapacity" : "10"
            },
            "ScheduledActionName" : "my-scale-out-scheduled-action",
            "Schedule" : "at(2022-05-20T13:00:00)"
          },
          <span>{</span>
            "ScalableTargetAction" : <span>{</span>
              "MaxCapacity" : "0",
              "MinCapacity" : "0"
            },
            "ScheduledActionName" : "my-scale-in-scheduled-action",
            "Schedule" : "at(2022-05-20T21:00:00)"
          }
        ]
      }
    }
  }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h3 id="quickref-autoscaling-example-12.yaml">YAML</h3>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">---
Resources:
  SpotFleetScalableTarget:
    Type: AWS::ApplicationAutoScaling::ScalableTarget
    Properties:
      MaxCapacity: 0
      MinCapacity: 0
      RoleARN: 
        Fn::Sub: 'arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/ec2.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_EC2SpotFleetRequest'
      ServiceNamespace: ec2
      ScalableDimension: 'ec2:spot-fleet-request:TargetCapacity'
      ResourceId: !Join 
        - /
        - - spot-fleet-request
          - !Ref <code class="replaceable">logicalName</code>
      ScheduledActions:
        - ScalableTargetAction:
            MaxCapacity: 10
            MinCapacity: 10
          ScheduledActionName: my-scale-out-scheduled-action
          Schedule: 'at(2022-05-20T13:00:00)'
        - ScalableTargetAction:
            MaxCapacity: 0
            MinCapacity: 0
          ScheduledActionName: my-scale-in-scheduled-action
          Schedule: 'at(2022-05-20T21:00:00)'</code></pre>
      </div>
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Awas" /> <strong>Javascript dinonaktifkan atau tidak tersedia di browser Anda.</strong></p><p>Untuk menggunakan Dokumentasi AWS, Javascript harus diaktifkan. Lihat halaman Bantuan browser Anda untuk petunjuk.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Konvensi Dokumen</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./quickref-ec2-auto-scaling.html">Konfigurasikan sumber daya Auto Scaling Amazon EC2</div><div id="next" class="next-link" accesskey="n" href="./quickref-billingconductor.html">AWSKonsol Penagihan</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Apakah halaman ini membantu Anda? - Ya</div><div class="content"><p>Terima kasih telah memberitahukan bahwa hasil pekerjaan kami sudah baik.</p><p>Jika Anda memiliki waktu luang, beri tahu kami aspek apa saja yang sudah bagus, agar kami dapat menerapkannya secara lebih luas.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Umpan Balik" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Apakah halaman ini membantu Anda? - Tidak</div><div class="content"><p>Terima kasih telah memberi tahu kami bahwa halaman ini perlu ditingkatkan. Maaf karena telah mengecewakan Anda.</p><p>Jika Anda memiliki waktu luang, beri tahu kami bagaimana dokumentasi ini dapat ditingkatkan.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Umpan Balik" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>