<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="id-ID"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Mencegah pembaruan ke sumber daya tumpukan - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="protect-stack-resources" /><meta name="default_state" content="protect-stack-resources" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/protect-stack-resources.html" /><meta name="description" content="Mencegah sumber daya tumpukan agar tidak diperbarui atau dihapus secara tidak sengaja selama pembaruan tumpukan dengan menggunakan kebijakan AWS CloudFormation tumpukan." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Panduan Pengguna" /><meta name="abstract" content="Membuat dan mengelola penyebaran AWS infrastruktur dapat diprediksi dan berulang kali menggunakan Panduan Pengguna AWS CloudFormation ini." /><meta name="guide-locale" content="id_id" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/protect-stack-resources.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/protect-stack-resources.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/protect-stack-resources.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/protect-stack-resources.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/protect-stack-resources.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/protect-stack-resources.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/protect-stack-resources.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/protect-stack-resources.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/protect-stack-resources.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/protect-stack-resources.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/protect-stack-resources.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/protect-stack-resources.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/protect-stack-resources.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/protect-stack-resources.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/protect-stack-resources.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/protect-stack-resources.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/protect-stack-resources.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/protect-stack-resources.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/protect-stack-resources.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/protect-stack-resources.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/protect-stack-resources.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/protect-stack-resources.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Panduan Pengguna" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Panduan Pengguna" /><meta id="panorama-serviceConsolePage" value="Mencegah pembaruan ke sumber daya tumpukan" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Mencegah pembaruan ke sumber daya tumpukan - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/protect-stack-resources.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/protect-stack-resources.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/protect-stack-resources.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,penyediaan sumber daya,konfigurasi sumber daya,manajemen infrastruktur,CloudFormer,CloudFormation tumpukan,CloudFormation stackset,CloudFormation Template,ubah set" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Panduan Pengguna",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Menggunakan tumpukan",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/stacks.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Pembaruan tumpukan AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Mencegah pembaruan ke sumber daya tumpukan",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Dokumentasi</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Panduan Pengguna</a></div><div id="page-toc-src"><a href="#stack-policy-intro-example">Contoh kebijakan tumpukan</a><a href="#stack-policy-reference">Menetapkan kebijakan tumpukan</a><a href="#protect-stack-resources-protecting">Mengatur kebijakan tumpukan</a><a href="#protect-stack-resources-updating">Memperbarui sumber daya dilindungi</a><a href="#protect-stack-resources-modifying">Mengubah kebijakan tumpukan </a><a href="#stack-policy-samples">Lebih banyak contoh kebijakan tumpukan</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Terjemahan disediakan oleh mesin penerjemah. Jika konten terjemahan yang diberikan bertentangan dengan versi bahasa Inggris aslinya, utamakan versi bahasa Inggris.</p></awsui-alert><h1 class="topictitle" id="protect-stack-resources">Mencegah pembaruan ke sumber daya tumpukan</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Saat Anda membuat tumpukan, semua tindakan pembaruan diizinkan di semua sumber daya. Secara default, siapa pun yang memiliki izin pembaruan tumpukan dapat memperbarui semua sumber daya di tumpukan. Selama pembaruan, beberapa sumber daya mungkin memerlukan gangguan atau diganti sepenuhnya, menghasilkan ID fisik baru atau penyimpanan yang sama sekali baru. Anda dapat mencegah <a href="./aws-template-resource-type-ref.html">sumber daya tumpukan</a> tidak sengaja diperbarui atau dihapus selama pembaruan tumpukan dengan menggunakan kebijakan tumpukan . Kebijakan tumpukan adalah dokumen JSON yang mendefinisikan tindakan pembaruan yang dapat dilakukan pada sumber daya yang ditentukan.</p><p>Setelah Anda menetapkan kebijakan tumpukan, semua sumber daya di tumpukan dilindungi secara default. Untuk mengizinkan pembaruan pada sumber daya tertentu, Anda menentukan pernyataan eksplisit <code class="code">Allow</code> untuk sumber daya tersebut dalam kebijakan tumpukan Anda. Anda hanya dapat menentukan satu kebijakan tumpukan per tumpukan, tetapi, Anda dapat melindungi beberapa sumber daya dalam satu kebijakan. Kebijakan tumpukan berlaku untuk semua AWS CloudFormation pengguna yang mencoba memperbarui tumpukan. Anda tidak dapat mengaitkan kebijakan tumpukan yang berbeda dengan pengguna yang berbeda.</p><p>Kebijakan tumpukan berlaku hanya selama pembaruan tumpukan. Itu tidak menyediakan kontrol akses seperti kebijakan AWS Identity and Access Management (IAM). Gunakan kebijakan tumpukan hanya sebagai mekanisme gagal-aman untuk mencegah pembaruan yang tidak disengaja untuk sumber daya tumpukan tertentu. Untuk mengontrol akses ke AWS sumber daya atau tindakan, gunakan IAM.</p><div class="highlights" id="inline-topiclist"><h6>Topik</h6><ul><li><a href="#stack-policy-intro-example">Contoh kebijakan tumpukan</a></li><li><a href="#stack-policy-reference">Menetapkan kebijakan tumpukan</a></li><li><a href="#protect-stack-resources-protecting">Mengatur kebijakan tumpukan</a></li><li><a href="#protect-stack-resources-updating">Memperbarui sumber daya dilindungi</a></li><li><a href="#protect-stack-resources-modifying">Mengubah kebijakan tumpukan </a></li><li><a href="#stack-policy-samples">Lebih banyak contoh kebijakan tumpukan</a></li></ul></div>
   <h2 id="stack-policy-intro-example">Contoh kebijakan tumpukan</h2>
    <p>Kebijakan tumpukan contoh berikut mencegah pembaruan ke sumber daya <code class="code">ProductionDatabase</code>:</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Statement" : [
    <span>{</span>
      "Effect" : "Allow",
      "Action" : "Update:*",
      "Principal": "*",
      "Resource" : "*"
    },
    <span>{</span>
      "Effect" : "Deny",
      "Action" : "Update:*",
      "Principal": "*",
      "Resource" : "LogicalResourceId/ProductionDatabase"
    }
  ]
}</code></pre>
    <p>Saat Anda menetapkan kebijakan tumpukan, semua sumber daya dilindungi secara default. Untuk mengizinkan pembaruan pada semua sumber daya, kami menambahkan pernyataan <code class="code">Allow</code> yang mengizinkan semua tindakan pada semua sumber daya. Meskipun pernyataan <code class="code">Allow</code> menentukan semua sumber daya, pernyataan eksplisit <code class="code">Deny</code> menimpanya untuk sumber daya dengan ID logis <code class="code">ProductionDatabase</code>. Pernyataan <code class="code">Deny</code> ini mencegah semua tindakan pembaruan, seperti penggantian atau penghapusan, pada sumber daya <code class="code">ProductionDatabase</code>.</p>
    <p>Elemen <code class="code">Principal</code> diperlukan, tetapi hanya mendukung wild card (<code class="code">*</code>), yang berarti bahwa pernyataan tersebut berlaku untuk semua <a href="https://docs.aws.amazon.com/glossary/latest/reference/glos-chap.html#principal">yang utama</a>.</p>
    <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>catatan</h6></div><div class="awsdocs-note-text"><p>Selama pembaruan tumpukan, AWS CloudFormation secara otomatis memperbarui sumber daya yang bergantung pada sumber daya yang diperbarui lainnya. Misalnya, AWS CloudFormation memperbarui sumber daya yang mereferensikan sumber daya yang diperbarui. AWS CloudFormation Tidak membuat perubahan fisik, seperti ID sumber daya, untuk memperbarui sumber daya secara otomatis, tetapi jika kebijakan tumpukan dikaitkan dengan sumber daya tersebut, Anda harus memiliki izin untuk memperbaruinya.</p></div></div>
   
   <h2 id="stack-policy-reference">Menetapkan kebijakan tumpukan</h2>
    <p>Saat Anda membuat tumpukan, tidak ada kebijakan tumpukan yang diatur, jadi semua tindakan pembaruan diizinkan di semua sumber daya. Untuk melindungi sumber daya tumpukan dari tindakan pembaruan, tentukan kebijakan tumpukan, lalu tetapkan di tumpukan Anda. Kebijakan tumpukan adalah dokumen JSON yang mendefinisikan tindakan pembaruan AWS CloudFormation tumpukan yang dapat dilakukan AWS CloudFormation pengguna dan sumber daya yang diterapkan tindakan tersebut. Anda mengatur kebijakan tumpukan saat Anda membuat tumpukan, dengan menentukan file teks yang berisi kebijakan tumpukan Anda atau mengetiknya. Saat Anda menetapkan kebijakan tumpukan di tumpukan Anda, pembaruan apa pun yang tidak diizinkan secara eksplisit akan ditolak secara default.</p>
    <p>Anda menentukan kebijakan tumpukan dengan lima elemen: <code class="code">Effect</code>, <code class="code">Action</code>, <code class="code">Principal</code>, <code class="code">Resource</code>, dan <code class="code">Condition</code>. Kode semu berikut menunjukkan sintaks kebijakan tumpukan.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Statement" : [
    <span>{</span>
      "Effect" : "<code class="replaceable">Deny_or_Allow</code>",
      "Action" : "<code class="replaceable">update_actions</code>",
      "Principal" : "*",
      "Resource" : "LogicalResourceId/<code class="replaceable">resource_logical_ID</code>",
      "Condition" : <span>{</span>
        "<code class="replaceable">StringEquals_or_StringLike</code>" : <span>{</span>
          "ResourceType" : [<code class="replaceable">resource_type, ...</code>]
        }
      }
    }
  ]
}</code></pre>
    <div class="variablelist">
       
       
       
       
       
    <dl>
        <dt><span class="term"><code class="code">Effect</code></span></dt>
        <dd>
          <p>Menentukan apakah tindakan yang Anda tentukan ditolak atau diizinkan pada sumber daya yang Anda tentukan. Anda hanya dapat menentukan <code class="code">Deny</code> atau <code class="code">Allow</code>, seperti:</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Effect" : "Deny"</code></pre>
          <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>penting</h6></div><div class="awsdocs-note-text"><p>Jika kebijakan tumpukan menyertakan pernyataan yang tumpang tindih (mengizinkan dan menolak pembaruan pada sumber daya), pernyataan <code class="code">Deny</code> selalu menimpa pernyataan<code class="code">Allow</code>. Untuk memastikan bahwa sumber daya dilindungi, gunakan pernyataan <code class="code">Deny</code> untuk sumber daya tersebut.</p></div></div>
        </dd>
       
        <dt><span class="term">Tindakan</span></dt>
        <dd>
          <p>Menentukan tindakan pembaruan yang ditolak atau diizinkan:</p><div class="variablelist">
               
               
               
               
            <dl>
                <dt><span class="term">Pembaruan:Ubah</span></dt>
                <dd>
                  <p>Menentukan tindakan pembaruan selama sumber daya mungkin tidak mengalami gangguan atau beberapa gangguan saat perubahan diterapkan. Semua sumber daya mempertahankan ID fisik mereka.</p>
                </dd>
               
                <dt><span class="term">Pembaruan:Ganti</span></dt>
                <dd>
                  <p>Menentukan tindakan update selama sumber daya diciptakan kembali. AWS CloudFormation membuat sumber daya baru dengan pembaruan yang ditentukan dan kemudian menghapus sumber daya lama. Karena sumber daya diciptakan kembali, ID fisik sumber daya baru mungkin berbeda.</p>
                </dd>
               
                <dt><span class="term">Pembaruan:Hapus</span></dt>
                <dd>
                  <p>Menentukan tindakan pembaruan selama sumber daya yang dihapus. Pembaruan yang benar-benar menghapus sumber daya dari template tumpukan memerlukan tindakan ini.</p>
                </dd>
               
                <dt><span class="term">Perbarui:*</span></dt>
                <dd>
                  <p>Menentukan semua tindakan pembaruan. Tanda bintang adalah wild card yang mewakili semua tindakan pembaruan.</p>
                </dd>
              </dl></div>
          <p>Contoh berikut menunjukkan cara menentukan hanya mengganti dan menghapus tindakan:</p>
          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Action" : ["Update:Replace", "Update:Delete"]</code></pre>
          <p>Untuk mengizinkan semua tindakan pembaruan kecuali satu, gunakan <code class="code">NotAction</code>. Misalnya, untuk mengizinkan semua tindakan pembaruan kecuali untuk <code class="code">Update:Delete</code>, gunakan <code class="code">NotAction</code>, seperti yang ditunjukkan dalam contoh ini:</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Statement" : [
    <span>{</span>
      "Effect" : "Allow",
      "NotAction" : "Update:Delete",
      "Principal": "*",
      "Resource" : "*"
    }
  ]
}</code></pre>
          <p>Untuk informasi selengkapnya tentang pembaruan tumpukan, lihat <a href="./using-cfn-updating-stacks.html">Pembaruan tumpukan AWS CloudFormation</a>.</p>
        </dd>
       
        <dt><span class="term">Utama</span></dt>
        <dd>
          <p>Eleme <code class="code">Principal</code> menentukan entitas tempat kebijakan tersebut diterapkan. Elemen ini diperlukan, tetapi hanya mendukung wild card (<code class="code">*</code>), yang berarti bahwa pernyataan tersebut berlaku untuk semua yang <a href="https://docs.aws.amazon.com/glossary/latest/reference/glos-chap.html#principal">utama</a>.</p>
        </dd>
       
        <dt><span class="term">Sumber daya</span></dt>
        <dd>
          <p>Menentukan ID logis dari sumber daya yang menerapkan kebijakan. Untuk menentukan <a href="./aws-template-resource-type-ref.html">jenis sumber daya</a>, gunakan elemen <code class="code">Condition</code>.</p>
          <p>Untuk menentukan sumber daya tunggal, gunakan ID logisnya. Sebagai contoh:</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Resource" : ["LogicalResourceId/myEC2instance"]</code></pre>
          <p>Anda dapat menggunakan wild card dengan ID logis. Misalnya, jika Anda menggunakan prefiks ID logis umum untuk semua sumber daya terkait, Anda dapat menentukan semuanya dengan wild card:</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Resource" : ["LogicalResourceId/CriticalResource*"]</code></pre>
          <p>Anda juga dapat menggunakan elemen <code class="code">Not</code> dengan sumber daya. Misalnya, untuk mengizinkan pembaruan ke semua sumber daya kecuali untuk satu, gunakan elemen <code class="code">NotResource</code> untuk melindungi sumber daya tersebut:</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Statement" : [
    <span>{</span>
      "Effect" : "Allow",
      "Action" : "Update:*",
      "Principal": "*",
      "NotResource" : "LogicalResourceId/ProductionDatabase"
    }
  ]
}</code></pre>
          <p>Saat Anda menetapkan kebijakan tumpukan, pembaruan apa pun yang tidak diizinkan secara eksplisit akan ditolak. Dengan mengizinkan pembaruan untuk semua sumber daya kecuali untuk sumber daya <code class="code">ProductionDatabase</code>, Anda menolak pembaruan untuk sumber daya <code class="code">ProductionDatabase</code>.</p>
        </dd>
       
        <dt><span class="term">Kondisi</span></dt>
        <dd>
          <p>Menentukan jenis <a href="./aws-template-resource-type-ref.html">sumber daya</a> tempat kebijakan tersebut diterapkan. Untuk menentukan ID logis sumber daya tertentu, gunakan elemen <code class="code">Resource</code>.</p>
          <p>Anda dapat menentukan jenis sumber daya, seperti semua instans EC2 dan RDS DB, seperti yang ditunjukkan dalam contoh berikut:</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Statement" : [
  <span>{</span>
    "Effect" : "Deny",
    "Principal" : "*",
    "Action" : "Update:*",
    "Resource" : "*",
    "Condition" : <span>{</span>
      "StringEquals" : <span>{</span>
        "ResourceType" : ["AWS::EC2::Instance", "AWS::RDS::DBInstance"]
      }
    }
  },
  <span>{</span>
    "Effect" : "Allow",
    "Principal" : "*",
    "Action" : "Update:*",
    "Resource" : "*"
  }
  ]
}</code></pre>
          <p>Pernyataan <code class="code">Allow</code> memberikan izin pembaruan ke semua sumber daya dan pernyataan <code class="code">Deny</code> menolak pembaruan untuk instans DB EC2 dan RDS. Pernyataan <code class="code">Deny</code> selalu menimpa tindakan izinkan.</p>
          <p>Anda dapat menggunakan wild card dengan jenis sumber daya. Misalnya, Anda dapat menolak izin pembaruan ke semua sumber daya Amazon EC2—seperti instans, grup keamanan, dan subnet—dengan menggunakan wild card, seperti yang ditunjukkan pada contoh berikut:</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Condition" : <span>{</span>
  "StringLike" : <span>{</span>
    "ResourceType" : ["AWS::EC2::*"]
  }
}</code></pre>
          <p>Anda harus menggunakan syarat <code class="code">StringLike</code> ketika Anda menggunakan wild card.</p>
        </dd>
      </dl></div>
   
   <h2 id="protect-stack-resources-protecting">Mengatur kebijakan tumpukan</h2>
    <p>Anda dapat menggunakan konsol atau AWS CLI menerapkan kebijakan tumpukan saat membuat tumpukan. Anda juga dapat menggunakan AWS CLI untuk menerapkan kebijakan tumpukan ke tumpukan yang ada. Setelah menerapkan kebijakan tumpukan, Anda tidak dapat menghapusnya dari tumpukan, tetapi Anda dapat menggunakannya AWS CLI untuk memodifikasinya.</p>
    <p>Kebijakan tumpukan berlaku untuk semua AWS CloudFormation pengguna yang mencoba memperbarui tumpukan. Anda tidak dapat mengaitkan kebijakan tumpukan yang berbeda dengan pengguna yang berbeda.</p>
    <p>Untuk informasi selengkapnya tentang kebijakan tumpukan tulis, lihat <a href="#stack-policy-reference">Menetapkan kebijakan tumpukan</a>.</p>
    <div class="procedure"><h6>Untuk mengatur kebijakan tumpukan saat Anda membuat tumpukan (konsol)</h6><ol><li><p>Buka AWS CloudFormation konsol di <a href="https://console.aws.amazon.com/cloudformation/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/cloudformation</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
        <p>Pada halaman <b>CloudFormation Stacks</b>, pilih <b>Create stack</b>.</p>
      </li><li>
        <p>Dalam panduan Membuat Tumpukan, di halaman <b>Mengkonfigurasi opsi tumpukan</b>, perluas bagian <b>Lanjutan</b> dan kemudian pilih <b>Kebijakan tumpukan</b>.</p>
      </li><li>
        <p>Tentukan kebijakan tumpukan:</p>
        <div class="itemizedlist">
           
           
        <ul class="itemizedlist"><li class="listitem"><p>Untuk menulis kebijakan secara langsung di konsol, pilih <b>Masukkan kebijakan tumpukan</b>, kemudian ketikkan kebijakan tumpukan secara langsung di kolom teks.</p></li><li class="listitem"><p>Untuk menggunakan kebijakan yang ditetapkan dalam file terpisah, pilih <b>Unggah file</b>, kemudian <b>Pilih file</b>untuk memilih file yang berisi kebijakan tumpukan.</p></li></ul></div>
      </li></ol></div>
    <div class="procedure"><h6>Untuk mengatur kebijakan tumpukan saat Anda membuat tumpukan (AWS CLI)</h6><ul><li>
        <p>Gunakan perintah <code class="code"><a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/create-stack.html">aws cloudformation create-stack</a></code> dengan opsi <code class="code">--stack-policy-body</code> untuk mengetik dalam kebijakan yang dimodifikasi atau opsi <code class="code">--stack-policy-url</code> untuk menentukan file yang berisi kebijakan. </p>
      </li></ul></div>
    <div class="procedure"><h6>Untuk menetapkan kebijakan tumpukan pada tumpukan yang ada (AWS CLI hanya)</h6><ul><li>
        <p>Gunakan perintah <code class="code"><a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/set-stack-policy.html">aws cloudformation set-stack-policy</a></code> dengan opsi <code class="code">--stack-policy-body</code> untuk mengetik dalam kebijakan yang dimodifikasi atau opsi <code class="code">--stack-policy-url</code> untuk menentukan file yang berisi kebijakan.</p>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>catatan</h6></div><div class="awsdocs-note-text"><p>Untuk menambahkan kebijakan ke tumpukan yang ada, Anda harus memiliki izin untuk AWS CloudFormation <code class="code"><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_SetStackPolicy.html">SetStackPolicy</a></code> tindakan tersebut.</p></div></div>
      </li></ul></div>
   
   <h2 id="protect-stack-resources-updating">Memperbarui sumber daya dilindungi</h2>
    <p>Untuk memperbarui sumber daya yang dilindungi, buat kebijakan sementara yang menimpa kebijakan tumpukan dan memungkinkan pembaruan pada sumber daya tersebut. Tentukan kebijakan timpa saat Anda memperbarui tumpukan. Kebijakan timpa tidak secara permanen mengubah kebijakan tumpukan.</p>
    <p>Untuk memperbarui sumber daya yang dilindungi, Anda harus memiliki izin untuk menggunakan AWS CloudFormation
<code class="code"><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_SetStackPolicy.html">SetStackPolicy</a></code> tindakan. Untuk informasi tentang menyetel AWS CloudFormation izin, lihat<a href="./using-iam-template.html">Mengontrol akses dengan AWS Identity and Access Management</a>.</p>
    <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>catatan</h6></div><div class="awsdocs-note-text"><p>Selama pembaruan tumpukan, AWS CloudFormation secara otomatis memperbarui sumber daya yang bergantung pada sumber daya yang diperbarui lainnya. Misalnya, AWS CloudFormation memperbarui sumber daya yang mereferensikan sumber daya yang diperbarui. AWS CloudFormation Tidak membuat perubahan fisik, seperti ID sumber daya, untuk memperbarui sumber daya secara otomatis, tetapi jika kebijakan tumpukan dikaitkan dengan sumber daya tersebut, Anda harus memiliki izin untuk memperbaruinya.</p></div></div>
    <div class="procedure"><h6>Untuk memperbarui sumber daya yang dilindungi (konsol)</h6><ol><li><p>Buka AWS CloudFormation konsol di <a href="https://console.aws.amazon.com/cloudformation/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/cloudformation</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
        <p>Pilih tumpukan yang ingin Anda perbarui, pilih <b>Tindakan tumpukan</b>, lalu pilih <b>Perbarui tumpukan</b>.</p>
      </li><li>
        <p>Jika Anda <em>belum</em> mengubah tumpukan templat, pilih <b>Gunakan templat saat ini</b>, lalu klik <b>Selanjutnya</b>. Jika Anda telah mengubah templat, pilih <b>Ganti templat saat ini</b> dan tentukan lokasi templat yang diperbarui di bagian <b>Tentukan templat</b>:</p>
        <div class="itemizedlist">
           
           
        <ul class="itemizedlist"><li class="listitem">
            <p>Untuk templat yang disimpan secara lokal di komputer Anda, pilih <b>Unggah file templat</b>. Pilih <b>Pilih File</b> untuk menavigasi ke file dan memilihnya, dan kemudian klik <b>Selanjutnya</b>.</p>
          </li><li class="listitem">
            <p>Untuk template yang disimpan dalam bucket Amazon S3, pilih URL <b>Amazon S3</b>. Masukkan atau tempel URL untuk templat, dan kemudian klik <b>Selanjutnya</b>.</p>
            <p>Jika Anda memiliki templat di bucket yang diaktifkan versioning-nya, Anda dapat menentukan versi khusus templat, seperti <code class="code">https://s3.amazonaws.com/templates/myTemplate.template?versionId=123ab1cdeKdOW5IH4GAcYbEngcpTJTDW</code>. Untuk informasi selengkapnya, lihat <a href="https://docs.aws.amazon.com/AmazonS3/latest/user-guide/managing-objects-versioned-bucket.html">Mengelola objek dalam bucket berkemampuan versi</a> di Panduan Pengguna <em>Layanan Penyimpanan Sederhana Amazon</em>.</p>
          </li></ul></div>
      </li><li>
        <p>Jika templat Anda berisi parameter, di halaman <b>Tentukan detail tumpukan</b>, masukkan atau ubah nilai parameter, lalu pilih <b>Selanjutnya</b>.</p>
        <p>AWS CloudFormation mengisi setiap parameter dengan nilai yang saat ini diatur dalam tumpukan kecuali untuk parameter yang dideklarasikan dengan <code class="code">NoEcho</code> atribut. Anda dapat menggunakan nilai saat ini untuk parameter tersebut dengan memilih <b>Gunakan nilai yang ada</b>.</p>
        <p>Untuk informasi selengkapnya tentang menggunakan <code class="code">NoEcho</code> untuk menutupi informasi sensitif, serta menggunakan parameter dinamis untuk mengelola rahasia, lihat praktik terbaik <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/best-practices.html#creds">Jangan menyematkan kredensial di templat Anda</a>.</p>
      </li><li>
        <p>Tentukan kebijakan timpa tumpukan.</p>
        <ol><li><p>Di halaman <b>Mengonfigurasi opsi tumpukan</b>, di bagian <b>Opsi lanjutan</b>, pilih <b>Kebijakan tumpukan </b>.</p></li><li><p>Pilih <b>Unggah file</b>.</p></li><li><p>Klik <b>Pilih file</b>dan arahkan ke arahkan ke file yang berisi kebijakan tumpukan utama atau ketik kebijakan.</p></li><li><p>Pilih <b>Berikutnya</b>.</p></li></ol>
        
        <p>Kebijakan timpa harus menentukan sebuah pernyataan <code class="code">Allow</code> untuk sumber daya yang dilindungi yang ingin Anda perbarui. Misalnya, untuk memperbarui semua sumber daya yang dilindungi, tentukan kebijakan timpa sementara yang memungkinkan semua pembaruan:</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Statement" : [
    <span>{</span>
      "Effect" : "Allow",
      "Action" : "Update:*",
      "Principal": "*",
      "Resource" : "*"
    }
  ]
}</code></pre>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>catatan</h6></div><div class="awsdocs-note-text"><p>AWS CloudFormation menerapkan kebijakan penggantian hanya selama pembaruan ini. Kebijakan timpa tidak secara permanen mengubah kebijakan tumpukan. Untuk mengubah kebijakan tumpukan, lihat <a href="#protect-stack-resources-modifying">Mengubah kebijakan tumpukan </a>.</p></div></div>
      </li><li>
        <p>Tinjau informasi tumpukan dan perubahan yang Anda kirimkan.</p>
        <p>Periksa bahwa Anda telah mengirimkan informasi yang benar, seperti nilai parameter atau URL templat yang benar. Jika template Anda berisi sumber daya IAM, pilih <b>Saya mengakui bahwa template ini dapat membuat sumber daya IAM</b> untuk menentukan bahwa Anda ingin menggunakan sumber daya IAM dalam template. Untuk informasi selengkapnya tentang penggunaan sumber daya IAM dalam templat, lihat<a href="./using-iam-template.html">Mengontrol akses dengan AWS Identity and Access Management</a>.</p>
        <p>Di bagian <b>Pratinjau perubahan Anda</b>, periksa apakah AWS CloudFormation akan membuat semua perubahan yang Anda harapkan. Misalnya, periksa apakah AWS CloudFormation menambahkan, menghapus, dan memodifikasi sumber daya yang ingin Anda tambahkan, hapus, atau modifikasi. AWS CloudFormation menghasilkan pratinjau ini dengan membuat set perubahan untuk tumpukan. Untuk informasi selengkapnya, lihat <a href="./using-cfn-updating-stacks-changesets.html">Memperbarui tumpukan menggunakan set perubahan</a>.</p>
      </li><li>
        <p>Setelah Anda puas dengan perubahan Anda, klik <b>Perbarui</b>.</p>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>catatan</h6></div><div class="awsdocs-note-text"><p>Pada titik ini, Anda juga memiliki opsi untuk melihat set perubahan untuk meninjau pembaruan yang diajukan dengan lebih teliti. Untuk melakukannya, klik <b>Lihat set perubahan</b>, bukan <b>Perbarui</b>.  CloudFormation menampilkan set perubahan yang dihasilkan berdasarkan pembaruan Anda. Jika Anda siap untuk melakukan pembaruan tumpukan, klik <b>Jalankan</b>.</p></div></div>
        <p>CloudFormation menampilkan halaman <b>detail Stack</b> untuk tumpukan Anda. Tumpukan Anda sekarang memiliki status <b>UPDATE_IN_PROGRESS</b>. Setelah  CloudFormation  berhasil selesai memperbarui tumpukan, ia menetapkan status tumpukan ke <b>UPDATE_COMPLETE</b>.</p>
        <p>Jika pembaruan tumpukan gagal, CloudFormation; secara otomatis memutar kembali perubahan, dan menetapkan status tumpukan ke <b>UPDATE_ROLLBACK_COMPLETE</b>.</p>
      </li></ol></div>
    <div class="procedure"><h6>Untuk memperbarui sumber daya yang dilindungi (AWS CLI)</h6><ul><li>
        <p>Gunakan perintah <code class="code"><a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/update-stack.html">aws cloudformation update-stack</a></code> dengan opsi <code class="code">--stack-policy-during-update-body</code> untuk mengetik dalam kebijakan yang dimodifikasi atau opsi <code class="code">--stack-policy-during-update-url</code> untuk menentukan file yang berisi kebijakan.</p>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>catatan</h6></div><div class="awsdocs-note-text"><p>AWS CloudFormation menerapkan kebijakan penggantian hanya selama pembaruan ini. Kebijakan timpa tidak secara permanen mengubah kebijakan tumpukan. Untuk mengubah kebijakan tumpukan, lihat <a href="#protect-stack-resources-modifying">Mengubah kebijakan tumpukan </a>.</p></div></div>
      </li></ul></div>
   
   <h2 id="protect-stack-resources-modifying">Mengubah kebijakan tumpukan </h2>
    <p>Untuk melindungi sumber daya tambahan atau untuk menghapus perlindungan dari sumber daya, ubah kebijakan tumpukan. Misalnya, saat Anda menambahkan basis data yang ingin Anda lindungi ke tumpukan Anda, tambahkan pernyataan <code class="code">Deny</code> untuk basis data tersebut ke kebijakan tumpukan. Untuk mengubah kebijakan, Anda harus memiliki izin untuk menggunakan tindakan <code class="code"><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_SetStackPolicy.html">SetStackPolicy</a></code>.</p>
    <p>Gunakan AWS CLI untuk memodifikasi kebijakan tumpukan.</p>
    <div class="procedure"><h6>Untuk mengubah kebijakan tumpukan, lihat (AWS CLI)</h6><ul><li>
        <p>Gunakan perintah <code class="code"><a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/set-stack-policy.html">aws cloudformation set-stack-policy</a></code> dengan opsi <code class="code">--stack-policy-body</code> untuk mengetik dalam kebijakan yang dimodifikasi atau opsi <code class="code">--stack-policy-url</code> untuk menentukan file yang berisi kebijakan.</p>
      </li></ul></div>
    <p>Anda tidak dapat menghapus kebijakan tumpukan. Untuk menghapus semua perlindungan dari semua sumber daya, Anda mengubah kebijakan untuk secara eksplisit mengizinkan semua tindakan pada semua sumber daya. Kebijakan berikut ini mengizinkan semua pembaruan pada semua sumber daya:</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Statement" : [
    <span>{</span>
      "Effect" : "Allow",
      "Action" : "Update:*",
      "Principal": "*",
      "Resource" : "*"
    }
  ]
}</code></pre>
   
   <h2 id="stack-policy-samples">Lebih banyak contoh kebijakan tumpukan</h2>
    <p>Contoh kebijakan berikut menunjukkan cara mencegah pembaruan ke semua sumber daya tumpukan dan sumber daya tertentu, serta mencegah jenis pembaruan tertentu.</p>
     
     <h3 id="w9aac25c17c29c21b5">Mencegah pembaruan ke semua sumber daya tumpukan</h3>
      <p>Untuk mencegah pembaruan ke semua sumber daya tumpukan, kebijakan berikut menetapkan pernyataan <code class="code">Deny</code> untuk semua tindakan pembaruan pada semua sumber daya.</p>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Statement" : [
    <span>{</span>
      "Effect" : "Deny",
      "Action" : "Update:*",
      "Principal": "*",
      "Resource" : "*"
    }
  ]
}</code></pre>
     
     
     <h3 id="w9aac25c17c29c21b7">Mencegah pembaruan ke sumber daya tunggal</h3>
      <p>Kebijakan berikut menolak semua tindakan pembaruan pada basis data dengan ID logis <code class="code">MyDatabase</code>. Hal ini memungkinkan semua tindakan pembaruan pada semua sumber daya tumpukan lainnya dengan pernyataan <code class="code">Allow</code>. Pernyataan <code class="code">Allow</code> tidak berlaku untuk sumber daya <code class="code">MyDatabase</code> karena pernyataan <code class="code">Deny</code> selalu menimpa tindakan izinkan.</p>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Statement" : [
    <span>{</span>
      "Effect" : "Deny",
      "Action" : "Update:*",
      "Principal": "*",
      "Resource" : "LogicalResourceId/MyDatabase"
    },
    <span>{</span>
      "Effect" : "Allow",
      "Action" : "Update:*",
      "Principal": "*",
      "Resource" : "*"
    }
  ]
}</code></pre>
      <p>Anda dapat mencapai hasil yang sama seperti contoh sebelumnya dengan menggunakan penolakan default. Saat Anda menetapkan kebijakan tumpukan, tolak AWS CloudFormation pembaruan apa pun yang tidak diizinkan secara eksplisit. Kebijakan berikut ini mengizinkan pembaruan untuk semua sumber daya kecuali untuk sumber daya <code class="code">ProductionDatabase</code>, yang ditolak secara default.</p>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Statement" : [
    <span>{</span>
      "Effect" : "Allow",
      "Action" : "Update:*",
      "Principal": "*",
      "NotResource" : "LogicalResourceId/ProductionDatabase"
    }
  ]
}</code></pre>
      <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>penting</h6></div><div class="awsdocs-note-text"><p>Ada risiko dalam menggunakan penolakan default. Jika Anda memiliki pernyataan <code class="code">Allow</code> di bagian lain dalam kebijakan (seperti pernyataan <code class="code">Allow</code> yang menggunakan wild card), Anda mungkin secara tidak sadar memberikan izin pembaruan ke sumber daya yang tidak Anda inginkan. Karena penolakan eksplisit menimpa tindakan izinkan, Anda bisa memastikan bahwa sumber daya dilindungi dengan menggunakan pernyataan <code class="code">Deny</code>.</p></div></div>
     
     
     <h3 id="w9aac25c17c29c21b9">Mencegah pembaruan untuk semua instans dari jenis sumber daya</h3>
      <p>Kebijakan berikut menolak semua tindakan pembaruan pada jenis sumber daya instans DB RDS. Hal ini memungkinkan semua tindakan pembaruan pada semua sumber daya tumpukan lainnya dengan pernyataan <code class="code">Allow</code>. Pernyataan <code class="code">Allow</code> tidak berlaku untuk sumber daya instans DB RDS karena pernyataan <code class="code">Deny</code> selalu menimpa tindakan izinkan.</p>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Statement" : [
    <span>{</span>
      "Effect" : "Deny",
      "Action" : "Update:*",
      "Principal": "*",
      "Resource" : "*",
      "Condition" : <span>{</span>
        "StringEquals" : <span>{</span>
          "ResourceType" : ["AWS::RDS::DBInstance"]
        }
      }
    },
    <span>{</span>
      "Effect" : "Allow",
      "Action" : "Update:*",
      "Principal": "*",
      "Resource" : "*"
    }
  ]
}</code></pre>
     
     
     <h3 id="w9aac25c17c29c21c11">Mencegah pembaruan pengganti untuk sebuah instans</h3>
      <p>Kebijakan berikut menolak pembaruan yang akan menyebabkan penggantian instans dengan ID logis <code class="code">MyInstance</code>. Hal ini memungkinkan semua tindakan pembaruan pada semua sumber daya tumpukan lainnya dengan pernyataan <code class="code">Allow</code>. Pernyataan <code class="code">Allow</code> tidak berlaku untuk sumber daya <code class="code">MyInstance</code> karena pernyataan <code class="code">Deny</code> selalu menimpa tindakan izinkan.</p>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Statement" : [
    <span>{</span>
      "Effect" : "Deny",
      "Action" : "Update:Replace",
      "Principal": "*",
      "Resource" : "LogicalResourceId/MyInstance"
    },
    <span>{</span>
      "Effect" : "Allow",
      "Action" : "Update:*",
      "Principal": "*",
      "Resource" : "*"
    }
  ]
}</code></pre>
     
     
     <h3 id="w9aac25c17c29c21c13">Mencegah pembaruan pada tumpukan nested</h3>
      <p>Kebijakan berikut menyangkal semua tindakan pembaruan pada jenis sumber daya AWS CloudFormation tumpukan (tumpukan bersarang). Hal ini memungkinkan semua tindakan pembaruan pada semua sumber daya tumpukan lainnya dengan pernyataan <code class="code">Allow</code>. <code class="code">Allow</code>Pernyataan tersebut tidak berlaku untuk sumber daya AWS CloudFormationtumpukan karena <code class="code">Deny</code> pernyataan selalu mengesampingkan tindakan allow.</p>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Statement" : [
    <span>{</span>
      "Effect" : "Deny",
      "Action" : "Update:*",
      "Principal": "*",
      "Resource" : "*",
      "Condition" : <span>{</span>
        "StringEquals" : <span>{</span>
          "ResourceType" : ["AWS::CloudFormation::Stack"]
        }
      }
    },
    <span>{</span>
      "Effect" : "Allow",
      "Action" : "Update:*",
      "Principal": "*",
      "Resource" : "*"
    }
  ]
}</code></pre>
     
  <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Awas" /> <strong>Javascript dinonaktifkan atau tidak tersedia di browser Anda.</strong></p><p>Untuk menggunakan Dokumentasi AWS, Javascript harus diaktifkan. Lihat halaman Bantuan browser Anda untuk petunjuk.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Konvensi Dokumen</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./using-cfn--stack-update-cancel.html">Membatalkan pembaruan tumpukan</div><div id="next" class="next-link" accesskey="n" href="./using-cfn-updating-stacks-continueupdaterollback.html">Terus mengembalikan pembaruan</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Apakah halaman ini membantu Anda? - Ya</div><div class="content"><p>Terima kasih telah memberitahukan bahwa hasil pekerjaan kami sudah baik.</p><p>Jika Anda memiliki waktu luang, beri tahu kami aspek apa saja yang sudah bagus, agar kami dapat menerapkannya secara lebih luas.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Umpan Balik" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/protect-stack-resources.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Apakah halaman ini membantu Anda? - Tidak</div><div class="content"><p>Terima kasih telah memberi tahu kami bahwa halaman ini perlu ditingkatkan. Maaf karena telah mengecewakan Anda.</p><p>Jika Anda memiliki waktu luang, beri tahu kami bagaimana dokumentasi ini dapat ditingkatkan.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Umpan Balik" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/protect-stack-resources.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>