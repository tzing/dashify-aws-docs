<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>AWS::KinesisFirehose::DeliveryStream - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="aws-resource-kinesisfirehose-deliverystream" /><meta name="default_state" content="aws-resource-kinesisfirehose-deliverystream" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-kinesisfirehose-deliverystream.html" /><meta name="description" content="Use the AWS CloudFormation AWS::KinesisFirehose::DeliveryStream resource for KinesisFirehose." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Create and manage AWS infrastructure deployments predictably and repeatedly using AWS CloudFormation with this User Guide." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json;toc-AWS_KinesisFirehose.json" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-kinesisfirehose-deliverystream.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-kinesisfirehose-deliverystream.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-kinesisfirehose-deliverystream.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-kinesisfirehose-deliverystream.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-kinesisfirehose-deliverystream.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-kinesisfirehose-deliverystream.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-kinesisfirehose-deliverystream.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-resource-kinesisfirehose-deliverystream.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-resource-kinesisfirehose-deliverystream.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-resource-kinesisfirehose-deliverystream.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-resource-kinesisfirehose-deliverystream.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-resource-kinesisfirehose-deliverystream.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-resource-kinesisfirehose-deliverystream.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-resource-kinesisfirehose-deliverystream.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-resource-kinesisfirehose-deliverystream.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-kinesisfirehose-deliverystream.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-kinesisfirehose-deliverystream.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-resource-kinesisfirehose-deliverystream.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-resource-kinesisfirehose-deliverystream.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/aws-resource-kinesisfirehose-deliverystream.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/aws-resource-kinesisfirehose-deliverystream.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-kinesisfirehose-deliverystream.html" hreflang="x-default" /><meta name="feedback-item" content="Firehose" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="AWS::KinesisFirehose::DeliveryStream" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>AWS::KinesisFirehose::DeliveryStream - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Firehose&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-kinesisfirehose-deliverystream.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-kinesisfirehose-deliverystream.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-kinesisfirehose-deliverystream.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Amazon Data Firehose resource type reference",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/AWS_KinesisFirehose.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "AWS::KinesisFirehose::DeliveryStream",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/AWS_KinesisFirehose.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="AWS_KinesisFirehose.html">User Guide</a></div><div id="page-toc-src"><a href="#aws-resource-kinesisfirehose-deliverystream-syntax">Syntax</a><a href="#aws-resource-kinesisfirehose-deliverystream-properties">Properties</a><a href="#aws-resource-kinesisfirehose-deliverystream-return-values">Return values</a><a href="#aws-resource-kinesisfirehose-deliverystream--examples">Examples</a><a href="#aws-resource-kinesisfirehose-deliverystream--seealso">See also</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="aws-resource-kinesisfirehose-deliverystream">AWS::KinesisFirehose::DeliveryStream</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>The <code class="code">AWS::KinesisFirehose::DeliveryStream</code> resource specifies an Amazon
         Kinesis Data Firehose (Kinesis Data Firehose) delivery stream that delivers real-time
         streaming data to an Amazon Simple Storage Service (Amazon S3), Amazon Redshift, or Amazon
         Elasticsearch Service (Amazon ES) destination. For more information, see <a href="https://docs.aws.amazon.com/firehose/latest/dev/basic-create.html">Creating an Amazon
            Kinesis Data Firehose Delivery Stream</a> in the <em>Amazon Kinesis Data
            Firehose Developer Guide</em>.</p><h2 id="aws-resource-kinesisfirehose-deliverystream-syntax">Syntax</h2><p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p><div id="JSON" name="JSON" class="section langfilter"><h3 id="aws-resource-kinesisfirehose-deliverystream-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Type" : "AWS::KinesisFirehose::DeliveryStream",
  "Properties" : <span>{</span>
      "<a href="#cfn-kinesisfirehose-deliverystream-amazonopensearchserverlessdestinationconfiguration">AmazonOpenSearchServerlessDestinationConfiguration</a>" : <code class="replaceable"><a href="./aws-properties-kinesisfirehose-deliverystream-amazonopensearchserverlessdestinationconfiguration.html">AmazonOpenSearchServerlessDestinationConfiguration</a></code>,
      "<a href="#cfn-kinesisfirehose-deliverystream-amazonopensearchservicedestinationconfiguration">AmazonopensearchserviceDestinationConfiguration</a>" : <code class="replaceable"><a href="./aws-properties-kinesisfirehose-deliverystream-amazonopensearchservicedestinationconfiguration.html">AmazonopensearchserviceDestinationConfiguration</a></code>,
      "<a href="#cfn-kinesisfirehose-deliverystream-deliverystreamencryptionconfigurationinput">DeliveryStreamEncryptionConfigurationInput</a>" : <code class="replaceable"><a href="./aws-properties-kinesisfirehose-deliverystream-deliverystreamencryptionconfigurationinput.html">DeliveryStreamEncryptionConfigurationInput</a></code>,
      "<a href="#cfn-kinesisfirehose-deliverystream-deliverystreamname">DeliveryStreamName</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-kinesisfirehose-deliverystream-deliverystreamtype">DeliveryStreamType</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-kinesisfirehose-deliverystream-elasticsearchdestinationconfiguration">ElasticsearchDestinationConfiguration</a>" : <code class="replaceable"><a href="./aws-properties-kinesisfirehose-deliverystream-elasticsearchdestinationconfiguration.html">ElasticsearchDestinationConfiguration</a></code>,
      "<a href="#cfn-kinesisfirehose-deliverystream-extendeds3destinationconfiguration">ExtendedS3DestinationConfiguration</a>" : <code class="replaceable"><a href="./aws-properties-kinesisfirehose-deliverystream-extendeds3destinationconfiguration.html">ExtendedS3DestinationConfiguration</a></code>,
      "<a href="#cfn-kinesisfirehose-deliverystream-httpendpointdestinationconfiguration">HttpEndpointDestinationConfiguration</a>" : <code class="replaceable"><a href="./aws-properties-kinesisfirehose-deliverystream-httpendpointdestinationconfiguration.html">HttpEndpointDestinationConfiguration</a></code>,
      "<a href="#cfn-kinesisfirehose-deliverystream-kinesisstreamsourceconfiguration">KinesisStreamSourceConfiguration</a>" : <code class="replaceable"><a href="./aws-properties-kinesisfirehose-deliverystream-kinesisstreamsourceconfiguration.html">KinesisStreamSourceConfiguration</a></code>,
      "<a href="#cfn-kinesisfirehose-deliverystream-msksourceconfiguration">MSKSourceConfiguration</a>" : <code class="replaceable"><a href="./aws-properties-kinesisfirehose-deliverystream-msksourceconfiguration.html">MSKSourceConfiguration</a></code>,
      "<a href="#cfn-kinesisfirehose-deliverystream-redshiftdestinationconfiguration">RedshiftDestinationConfiguration</a>" : <code class="replaceable"><a href="./aws-properties-kinesisfirehose-deliverystream-redshiftdestinationconfiguration.html">RedshiftDestinationConfiguration</a></code>,
      "<a href="#cfn-kinesisfirehose-deliverystream-s3destinationconfiguration">S3DestinationConfiguration</a>" : <code class="replaceable"><a href="./aws-properties-kinesisfirehose-deliverystream-s3destinationconfiguration.html">S3DestinationConfiguration</a></code>,
      "<a href="#cfn-kinesisfirehose-deliverystream-snowflakedestinationconfiguration">SnowflakeDestinationConfiguration</a>" : <code class="replaceable"><a href="./aws-properties-kinesisfirehose-deliverystream-snowflakedestinationconfiguration.html">SnowflakeDestinationConfiguration</a></code>,
      "<a href="#cfn-kinesisfirehose-deliverystream-splunkdestinationconfiguration">SplunkDestinationConfiguration</a>" : <code class="replaceable"><a href="./aws-properties-kinesisfirehose-deliverystream-splunkdestinationconfiguration.html">SplunkDestinationConfiguration</a></code>,
      "<a href="#cfn-kinesisfirehose-deliverystream-tags">Tags</a>" : <code class="replaceable">[ <a href="./aws-properties-kinesisfirehose-deliverystream-tag.html">Tag</a>, ... ]</code>
    }
}
</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h3 id="aws-resource-kinesisfirehose-deliverystream-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Type: AWS::KinesisFirehose::DeliveryStream
Properties:
  <a href="#cfn-kinesisfirehose-deliverystream-amazonopensearchserverlessdestinationconfiguration">AmazonOpenSearchServerlessDestinationConfiguration</a>: <code class="replaceable">
    <a href="./aws-properties-kinesisfirehose-deliverystream-amazonopensearchserverlessdestinationconfiguration.html">AmazonOpenSearchServerlessDestinationConfiguration</a></code>
  <a href="#cfn-kinesisfirehose-deliverystream-amazonopensearchservicedestinationconfiguration">AmazonopensearchserviceDestinationConfiguration</a>: <code class="replaceable">
    <a href="./aws-properties-kinesisfirehose-deliverystream-amazonopensearchservicedestinationconfiguration.html">AmazonopensearchserviceDestinationConfiguration</a></code>
  <a href="#cfn-kinesisfirehose-deliverystream-deliverystreamencryptionconfigurationinput">DeliveryStreamEncryptionConfigurationInput</a>: <code class="replaceable">
    <a href="./aws-properties-kinesisfirehose-deliverystream-deliverystreamencryptionconfigurationinput.html">DeliveryStreamEncryptionConfigurationInput</a></code>
  <a href="#cfn-kinesisfirehose-deliverystream-deliverystreamname">DeliveryStreamName</a>: <code class="replaceable">String</code>
  <a href="#cfn-kinesisfirehose-deliverystream-deliverystreamtype">DeliveryStreamType</a>: <code class="replaceable">String</code>
  <a href="#cfn-kinesisfirehose-deliverystream-elasticsearchdestinationconfiguration">ElasticsearchDestinationConfiguration</a>: <code class="replaceable">
    <a href="./aws-properties-kinesisfirehose-deliverystream-elasticsearchdestinationconfiguration.html">ElasticsearchDestinationConfiguration</a></code>
  <a href="#cfn-kinesisfirehose-deliverystream-extendeds3destinationconfiguration">ExtendedS3DestinationConfiguration</a>: <code class="replaceable">
    <a href="./aws-properties-kinesisfirehose-deliverystream-extendeds3destinationconfiguration.html">ExtendedS3DestinationConfiguration</a></code>
  <a href="#cfn-kinesisfirehose-deliverystream-httpendpointdestinationconfiguration">HttpEndpointDestinationConfiguration</a>: <code class="replaceable">
    <a href="./aws-properties-kinesisfirehose-deliverystream-httpendpointdestinationconfiguration.html">HttpEndpointDestinationConfiguration</a></code>
  <a href="#cfn-kinesisfirehose-deliverystream-kinesisstreamsourceconfiguration">KinesisStreamSourceConfiguration</a>: <code class="replaceable">
    <a href="./aws-properties-kinesisfirehose-deliverystream-kinesisstreamsourceconfiguration.html">KinesisStreamSourceConfiguration</a></code>
  <a href="#cfn-kinesisfirehose-deliverystream-msksourceconfiguration">MSKSourceConfiguration</a>: <code class="replaceable">
    <a href="./aws-properties-kinesisfirehose-deliverystream-msksourceconfiguration.html">MSKSourceConfiguration</a></code>
  <a href="#cfn-kinesisfirehose-deliverystream-redshiftdestinationconfiguration">RedshiftDestinationConfiguration</a>: <code class="replaceable">
    <a href="./aws-properties-kinesisfirehose-deliverystream-redshiftdestinationconfiguration.html">RedshiftDestinationConfiguration</a></code>
  <a href="#cfn-kinesisfirehose-deliverystream-s3destinationconfiguration">S3DestinationConfiguration</a>: <code class="replaceable">
    <a href="./aws-properties-kinesisfirehose-deliverystream-s3destinationconfiguration.html">S3DestinationConfiguration</a></code>
  <a href="#cfn-kinesisfirehose-deliverystream-snowflakedestinationconfiguration">SnowflakeDestinationConfiguration</a>: <code class="replaceable">
    <a href="./aws-properties-kinesisfirehose-deliverystream-snowflakedestinationconfiguration.html">SnowflakeDestinationConfiguration</a></code>
  <a href="#cfn-kinesisfirehose-deliverystream-splunkdestinationconfiguration">SplunkDestinationConfiguration</a>: <code class="replaceable">
    <a href="./aws-properties-kinesisfirehose-deliverystream-splunkdestinationconfiguration.html">SplunkDestinationConfiguration</a></code>
  <a href="#cfn-kinesisfirehose-deliverystream-tags">Tags</a>: <code class="replaceable">
    - <a href="./aws-properties-kinesisfirehose-deliverystream-tag.html">Tag</a></code>
</code></pre></div><h2 id="aws-resource-kinesisfirehose-deliverystream-properties">Properties</h2><div class="variablelist"><dl><dt id="cfn-kinesisfirehose-deliverystream-amazonopensearchserverlessdestinationconfiguration"><span class="term"><code class="code">AmazonOpenSearchServerlessDestinationConfiguration</code></span></dt><dd>
         <p>Describes the configuration of a destination in the Serverless offering for Amazon
         OpenSearch Service.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: <a href="./aws-properties-kinesisfirehose-deliverystream-amazonopensearchserverlessdestinationconfiguration.html">AmazonOpenSearchServerlessDestinationConfiguration</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-kinesisfirehose-deliverystream-amazonopensearchservicedestinationconfiguration"><span class="term"><code class="code">AmazonopensearchserviceDestinationConfiguration</code></span></dt><dd>
      <p>The destination in Amazon OpenSearch Service. You can specify only one
         destination.</p>
   <p><em>Required</em>: Conditional</p><p><em>Type</em>: <a href="./aws-properties-kinesisfirehose-deliverystream-amazonopensearchservicedestinationconfiguration.html">AmazonopensearchserviceDestinationConfiguration</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-kinesisfirehose-deliverystream-deliverystreamencryptionconfigurationinput"><span class="term"><code class="code">DeliveryStreamEncryptionConfigurationInput</code></span></dt><dd>
      <p>Specifies the type and Amazon Resource Name (ARN) of the CMK to use for Server-Side
         Encryption (SSE).</p>
   <p><em>Required</em>: No</p><p><em>Type</em>: <a href="./aws-properties-kinesisfirehose-deliverystream-deliverystreamencryptionconfigurationinput.html">DeliveryStreamEncryptionConfigurationInput</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-kinesisfirehose-deliverystream-deliverystreamname"><span class="term"><code class="code">DeliveryStreamName</code></span></dt><dd>
         <p>The name of the delivery stream.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Pattern</em>: <code class="code">[a-zA-Z0-9._-]+</code></p><p><em>Minimum</em>: <code class="code">1</code></p><p><em>Maximum</em>: <code class="code">64</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-kinesisfirehose-deliverystream-deliverystreamtype"><span class="term"><code class="code">DeliveryStreamType</code></span></dt><dd>
         <p>The delivery stream type. This can be one of the following values:</p>
         <div class="itemizedlist">
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>
                  <code class="code">DirectPut</code>: Provider applications access the delivery stream
               directly.</p>
            </li><li class="listitem">
               <p>
                  <code class="code">KinesisStreamAsSource</code>: The delivery stream uses a Kinesis data
               stream as a source.</p>
            </li></ul></div>
      <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Allowed values</em>: <code class="code">DirectPut | KinesisStreamAsSource | MSKAsSource</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-kinesisfirehose-deliverystream-elasticsearchdestinationconfiguration"><span class="term"><code class="code">ElasticsearchDestinationConfiguration</code></span></dt><dd>
      <p>An Amazon ES destination for the delivery stream.</p>
      <p>Conditional. You must specify only one destination configuration.</p>
      <p>If you change the delivery stream destination from an Amazon ES destination to an
         Amazon S3 or Amazon Redshift destination, update requires <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-some-interrupt">some interruptions</a>.</p>
   <p><em>Required</em>: Conditional</p><p><em>Type</em>: <a href="./aws-properties-kinesisfirehose-deliverystream-elasticsearchdestinationconfiguration.html">ElasticsearchDestinationConfiguration</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-kinesisfirehose-deliverystream-extendeds3destinationconfiguration"><span class="term"><code class="code">ExtendedS3DestinationConfiguration</code></span></dt><dd>
      <p>An Amazon S3 destination for the delivery stream.</p>
      <p>Conditional. You must specify only one destination configuration.</p>
      <p>If you change the delivery stream destination from an Amazon Extended S3 destination
         to an Amazon ES destination, update requires <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-some-interrupt">some interruptions</a>.</p>

   <p><em>Required</em>: Conditional</p><p><em>Type</em>: <a href="./aws-properties-kinesisfirehose-deliverystream-extendeds3destinationconfiguration.html">ExtendedS3DestinationConfiguration</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-kinesisfirehose-deliverystream-httpendpointdestinationconfiguration"><span class="term"><code class="code">HttpEndpointDestinationConfiguration</code></span></dt><dd>
      <p>Enables configuring Kinesis Firehose to deliver data to any HTTP endpoint
         destination. You can specify only one destination.</p>
   <p><em>Required</em>: No</p><p><em>Type</em>: <a href="./aws-properties-kinesisfirehose-deliverystream-httpendpointdestinationconfiguration.html">HttpEndpointDestinationConfiguration</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-kinesisfirehose-deliverystream-kinesisstreamsourceconfiguration"><span class="term"><code class="code">KinesisStreamSourceConfiguration</code></span></dt><dd>
      <p>When a Kinesis stream is used as the source for the delivery stream, a <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-kinesisfirehose-deliverystream-kinesisstreamsourceconfiguration.html">KinesisStreamSourceConfiguration</a> containing the Kinesis stream ARN and the role
         ARN for the source stream.</p>
   <p><em>Required</em>: No</p><p><em>Type</em>: <a href="./aws-properties-kinesisfirehose-deliverystream-kinesisstreamsourceconfiguration.html">KinesisStreamSourceConfiguration</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-kinesisfirehose-deliverystream-msksourceconfiguration"><span class="term"><code class="code">MSKSourceConfiguration</code></span></dt><dd>
         <p>The configuration for the Amazon MSK cluster to be used as the source for a delivery
         stream.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: <a href="./aws-properties-kinesisfirehose-deliverystream-msksourceconfiguration.html">MSKSourceConfiguration</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-kinesisfirehose-deliverystream-redshiftdestinationconfiguration"><span class="term"><code class="code">RedshiftDestinationConfiguration</code></span></dt><dd>
      <p>An Amazon Redshift destination for the delivery stream.</p>
      <p>Conditional. You must specify only one destination configuration.</p>
      <p>If you change the delivery stream destination from an Amazon Redshift destination to
         an Amazon ES destination, update requires <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-some-interrupt">some interruptions</a>. </p>
   <p><em>Required</em>: Conditional</p><p><em>Type</em>: <a href="./aws-properties-kinesisfirehose-deliverystream-redshiftdestinationconfiguration.html">RedshiftDestinationConfiguration</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-kinesisfirehose-deliverystream-s3destinationconfiguration"><span class="term"><code class="code">S3DestinationConfiguration</code></span></dt><dd>
      <p>The <code class="code">S3DestinationConfiguration</code> property type specifies an Amazon Simple
         Storage Service (Amazon S3) destination to which Amazon Kinesis Data Firehose (Kinesis Data
         Firehose) delivers data.</p>
      <p>Conditional. You must specify only one destination configuration.</p>
      <p>If you change the delivery stream destination from an Amazon S3 destination to an
         Amazon ES destination, update requires <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-some-interrupt">some interruptions</a>.</p>
   <p><em>Required</em>: Conditional</p><p><em>Type</em>: <a href="./aws-properties-kinesisfirehose-deliverystream-s3destinationconfiguration.html">S3DestinationConfiguration</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-kinesisfirehose-deliverystream-snowflakedestinationconfiguration"><span class="term"><code class="code">SnowflakeDestinationConfiguration</code></span></dt><dd>
         <p>Configure Snowflake destination</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: <a href="./aws-properties-kinesisfirehose-deliverystream-snowflakedestinationconfiguration.html">SnowflakeDestinationConfiguration</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-kinesisfirehose-deliverystream-splunkdestinationconfiguration"><span class="term"><code class="code">SplunkDestinationConfiguration</code></span></dt><dd>
      <p>The configuration of a destination in Splunk for the delivery stream.</p>
   <p><em>Required</em>: No</p><p><em>Type</em>: <a href="./aws-properties-kinesisfirehose-deliverystream-splunkdestinationconfiguration.html">SplunkDestinationConfiguration</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-kinesisfirehose-deliverystream-tags"><span class="term"><code class="code">Tags</code></span></dt><dd>
         <p>A set of tags to assign to the delivery stream. A tag is a key-value pair that you can
         define and assign to AWS resources. Tags are metadata. For example, you can
         add friendly names and descriptions or other types of information that can help you
         distinguish the delivery stream. For more information about tags, see <a href="https://docs.aws.amazon.com/awsaccountbilling/latest/aboutv2/cost-alloc-tags.html">Using
            Cost Allocation Tags</a> in the AWS Billing and Cost Management User
         Guide.</p>
         <p>You can specify up to 50 tags when creating a delivery stream.</p>
         <p>If you specify tags, Amazon Data Firehose performs an additional authorization on the
            <code class="code">firehose:TagDeliveryStream</code> action to verify if users have permissions to
         create tags.</p>
         <p>For an example IAM policy, see <a href="https://docs.aws.amazon.com/firehose/latest/APIReference/API_CreateDeliveryStream.html#API_CreateDeliveryStream_Examples">Tag example.</a>
         </p>
      <p><em>Required</em>: No</p><p><em>Type</em>: Array of <a href="./aws-properties-kinesisfirehose-deliverystream-tag.html">Tag</a></p><p><em>Minimum</em>: <code class="code">1</code></p><p><em>Maximum</em>: <code class="code">50</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd></dl></div><h2 id="aws-resource-kinesisfirehose-deliverystream-return-values">Return values</h2><h3 id="aws-resource-kinesisfirehose-deliverystream-return-values-ref">Ref</h3><p>When the logical ID of this resource is provided to the Ref intrinsic function, Ref
         returns the delivery stream name, such as
         <code class="code">mystack-deliverystream-1ABCD2EF3GHIJ</code>. </p><p>For more information about using the Ref function, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-ref.html">Ref</a>.</p><h3 id="aws-resource-kinesisfirehose-deliverystream-return-values-fn--getatt">Fn::GetAtt</h3><p>Fn::GetAtt returns a value for a specified attribute of this type. The following are
         the available attributes and sample return values. </p><p>For more information about using Fn::GetAtt, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-getatt.html">Fn::GetAtt</a>.</p><h4 id="aws-resource-kinesisfirehose-deliverystream-return-values-fn--getatt-fn--getatt"></h4><div class="variablelist"><dl><dt id="Arn-fn::getatt"><span class="term"><code class="code">Arn</code></span></dt><dd>
      <p>The Amazon Resource Name (ARN) of the delivery stream, such as
            <code class="code">arn:aws:firehose:us-east-2:123456789012:deliverystream/delivery-stream-name</code>.
      </p>
   </dd></dl></div><h2 id="aws-resource-kinesisfirehose-deliverystream--examples">Examples</h2><div class="highlights" id="inline-topiclist"><h6> </h6><ul><li><a href="#aws-resource-kinesisfirehose-deliverystream--examples--Create_a_Kinesis_Data_Firehose_Delivery_Stream">Create a Kinesis Data Firehose Delivery Stream</a></li><li><a href="#aws-resource-kinesisfirehose-deliverystream--examples--Convert_Record_Format">Convert Record Format</a></li><li><a href="#aws-resource-kinesisfirehose-deliverystream--examples--Specify_an_Amazon_S3_Destination_for_the_Delivery_Stream">Specify an Amazon S3 Destination for the Delivery Stream</a></li><li><a href="#aws-resource-kinesisfirehose-deliverystream--examples--Specify_a_Kinesis_Stream_as_the_Source_for_the_Delivery_Stream">Specify a Kinesis Stream as the Source for the Delivery Stream</a></li></ul></div><h3 id="aws-resource-kinesisfirehose-deliverystream--examples--Create_a_Kinesis_Data_Firehose_Delivery_Stream">Create a Kinesis Data Firehose Delivery Stream</h3><p>The following example creates a Kinesis Data Firehose delivery stream that
               delivers data to an Amazon ES destination. Kinesis Data Firehose backs up all data
               sent to the destination in an Amazon S3 bucket.</p><div id="JSON" name="JSON" class="section langfilter"><h4 id="aws-resource-kinesisfirehose-deliverystream--examples--Create_a_Kinesis_Data_Firehose_Delivery_Stream--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"ElasticSearchDeliveryStream": <span>{</span>
   "Type": "AWS::KinesisFirehose::DeliveryStream",
   "Properties": <span>{</span>
      "ElasticsearchDestinationConfiguration": <span>{</span>
         "BufferingHints": <span>{</span>
            "IntervalInSeconds": 60,
            "SizeInMBs": 50
      },
      "CloudWatchLoggingOptions": <span>{</span>
         "Enabled": true,
         "LogGroupName": "deliverystream",
         "LogStreamName": "elasticsearchDelivery"
      },
      "DomainARN": <span>{</span> "Ref" : "MyDomainARN" },
      "IndexName": <span>{</span> "Ref" : "MyIndexName" },
      "IndexRotationPeriod": "NoRotation",
      "TypeName" : "fromFirehose",
      "RetryOptions": <span>{</span>
         "DurationInSeconds": "60"
      },
      "RoleARN": <span>{</span> "Fn::GetAtt" : ["ESdeliveryRole", "Arn"] },
      "S3BackupMode": "AllDocuments",
      "S3Configuration": <span>{</span> 
         "BucketARN": <span>{</span> "Ref" : "MyBackupBucketARN" },
         "BufferingHints": <span>{</span>
            "IntervalInSeconds": "60",
            "SizeInMBs": "50"
         },
         "CompressionFormat": "UNCOMPRESSED",
         "Prefix": "firehose/",
         "RoleARN": <span>{</span> "Fn::GetAtt" : ["S3deliveryRole", "Arn"] },
         "CloudWatchLoggingOptions" : <span>{</span>
            "Enabled" : true,
            "LogGroupName" : "deliverystream",
            "LogStreamName" : "s3Backup"
         }
      }
    }              
  }
}</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-resource-kinesisfirehose-deliverystream--examples--Create_a_Kinesis_Data_Firehose_Delivery_Stream--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">ElasticSearchDeliveryStream: 
   Type: AWS::KinesisFirehose::DeliveryStream
   Properties: 
      ElasticsearchDestinationConfiguration: 
         BufferingHints: 
            IntervalInSeconds: 60
            SizeInMBs: 50
         CloudWatchLoggingOptions: 
            Enabled: true
            LogGroupName: "deliverystream"
            LogStreamName: "elasticsearchDelivery"
         DomainARN: 
            Ref: "MyDomainARN"
         IndexName: 
            Ref: "MyIndexName"
         IndexRotationPeriod: "NoRotation"
         TypeName: "fromFirehose"
         RetryOptions: 
            DurationInSeconds: "60"
         RoleARN: 
            Fn::GetAtt: 
               - "ESdeliveryRole"
               - "Arn"
         S3BackupMode: "AllDocuments"
         S3Configuration: 
            BucketARN: 
               Ref: "MyBackupBucketARN"
            BufferingHints: 
               IntervalInSeconds: "60"
               SizeInMBs: "50"
            CompressionFormat: "UNCOMPRESSED"
            Prefix: "firehose/"
            RoleARN: 
               Fn::GetAtt: 
                  - "S3deliveryRole"
                  - "Arn"
            CloudWatchLoggingOptions: 
               Enabled: true
               LogGroupName: "deliverystream"
               LogStreamName: "s3Backup"</code></pre></div><h3 id="aws-resource-kinesisfirehose-deliverystream--examples--Convert_Record_Format">Convert Record Format</h3><p>The following example shows record format conversion.</p><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-resource-kinesisfirehose-deliverystream--examples--Convert_Record_Format--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">AWSTemplateFormatVersion: 2010-09-09
Description: Stack for Firehose DeliveryStream S3 Destination.
Resources:

  GlueDatabase:
    Type: AWS::Glue::Database
    Properties: 
      CatalogId: !Ref AWS::AccountId
      DatabaseInput: <span>{</span>}

  GlueTable:
    Type: AWS::Glue::Table
    Properties:
      CatalogId: !Ref AWS::AccountId
      DatabaseName: !Ref GlueDatabase
      TableInput:
        Owner: owner
        Retention: 0
        StorageDescriptor:
          Columns:
          - Name: pickup_latitude
            Type: double
          - Name: pickup_longitude
            Type: double
          - Name: dropoff_latitude
            Type: double
          - Name: dropoff_longitude
            Type: double
          - Name: trip_id
            Type: int
          - Name: trip_distance
            Type: double
          - Name: passenger_count
            Type: int
          - Name: pickup_datetime
            Type: timestamp
          - Name: dropoff_datetime
            Type: timestamp
          - Name: total_amount
            Type: double
          InputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetInputFormat
          OutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat
          Compressed: false
          NumberOfBuckets: -1
          SerdeInfo:
            SerializationLibrary: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe
            Parameters:
              serialization.format: '1'
          BucketColumns: []
          SortColumns: []
          StoredAsSubDirectories: false
        PartitionKeys:
        - Name: year
          Type: string
        - Name: month
          Type: string
        - Name: day
          Type: string
        - Name: hour
          Type: string
        TableType: EXTERNAL_TABLE

  deliverystream:
    Type: AWS::KinesisFirehose::DeliveryStream
    Properties: 
      DeliveryStreamType: DirectPut
      ExtendedS3DestinationConfiguration:
        RoleARN: !GetAtt deliveryRole.Arn
        BucketARN: !Join 
          - ''
          - - 'arn:aws:s3:::'
            - !Ref s3bucket
        Prefix: !Join 
          - ''
          - - !Ref GlueTable
            -  '/year=!<span>{</span>timestamp:YYYY}/month=!<span>{</span>timestamp:MM}/day=!<span>{</span>timestamp:dd}/hour=!<span>{</span>timestamp:HH}/'
        ErrorOutputPrefix: !Join 
          - ''
          - - !Ref GlueTable
            -  'error/!<span>{</span>firehose:error-output-type}/year=!<span>{</span>timestamp:YYYY}/month=!<span>{</span>timestamp:MM}/day=!<span>{</span>timestamp:dd}/hour=!<span>{</span>timestamp:HH}/'
        BufferingHints:
          SizeInMBs: 128
          IntervalInSeconds: 300
        CompressionFormat: UNCOMPRESSED
        EncryptionConfiguration:
          NoEncryptionConfig: NoEncryption
        CloudWatchLoggingOptions:
          Enabled: true
          LogGroupName: !Join
            - ''
            - - 'KDF-'
              - !Ref GlueTable
          LogStreamName: S3Delivery
        S3BackupMode: Disabled
        DataFormatConversionConfiguration:
          SchemaConfiguration:
            CatalogId: !Ref AWS::AccountId
            RoleARN: !GetAtt deliveryRole.Arn
            DatabaseName: !Ref GlueDatabase
            TableName: !Ref GlueTable
            Region: !Ref AWS::Region
            VersionId: LATEST
          InputFormatConfiguration:
            Deserializer:
              OpenXJsonSerDe: <span>{</span>}
          OutputFormatConfiguration:
            Serializer:
              ParquetSerDe: <span>{</span>}
          Enabled: True

  s3bucket:
    Type: AWS::S3::Bucket
    Properties:
      VersioningConfiguration:
        Status: Enabled

  deliveryRole:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Version: 2012-10-17
        Statement:
          - Sid: ''
            Effect: Allow
            Principal:
              Service: firehose.amazonaws.com
            Action: 'sts:AssumeRole'
            Condition:
              StringEquals:
                'sts:ExternalId': !Ref 'AWS::AccountId'
      Path: "/"
      Policies:
        - PolicyName: firehose_delivery_policy
          PolicyDocument:
            Version: 2012-10-17
            Statement:
              - Effect: Allow
                Action:
                  - 's3:AbortMultipartUpload'
                  - 's3:GetBucketLocation'
                  - 's3:GetObject'
                  - 's3:ListBucket'
                  - 's3:ListBucketMultipartUploads'
                  - 's3:PutObject'
                Resource:
                  - !Join 
                    - ''
                    - - 'arn:aws:s3:::'
                      - !Ref s3bucket
                  - !Join 
                    - ''
                    - - 'arn:aws:s3:::'
                      - !Ref s3bucket
                      - '/*'
              - Effect: Allow
                Action: 'glue:GetTableVersions'
                Resource: '*'
              - Effect: Allow
                Action: 'logs:PutLogEvents'
                Resource: 
                - !Join 
                    - ''
                    - - 'arn:aws:logs:'
                      - !Ref 'AWS::Region'
                      - ':'
                      - !Ref 'AWS::AccountId'
                      - 'log-group:/aws/kinesisfirehose/KDF-'
                      - !Ref GlueTable
                      - ':log-stream:*'
Outputs:
  deliverysreamARN:
    Description: The ARN of the firehose delivery stream
    Value: !GetAtt deliverystream.Arn</code></pre></div><h3 id="aws-resource-kinesisfirehose-deliverystream--examples--Specify_an_Amazon_S3_Destination_for_the_Delivery_Stream">Specify an Amazon S3 Destination for the Delivery Stream</h3><p>The following example uses the <code class="code">ExtendedS3DestinationConfiguration</code>
               property to specify an Amazon S3 destination for the delivery stream.</p><div id="JSON" name="JSON" class="section langfilter"><h4 id="aws-resource-kinesisfirehose-deliverystream--examples--Specify_an_Amazon_S3_Destination_for_the_Delivery_Stream--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Resources":<span>{</span> 
    "Firehose":<span>{</span>
      "Type" : "AWS::KinesisFirehose::DeliveryStream",
      "Properties" : <span>{</span>
          "DeliveryStreamName" : "tester-partitioning-delimiter",
          "DeliveryStreamType" : "DirectPut",
          "ExtendedS3DestinationConfiguration": 
            <span>{</span>
              "BucketARN": "arn:aws:s3:::dp-firehose-test",
              "BufferingHints": <span>{</span>
                "SizeInMBs": 128,
                "IntervalInSeconds": 900
              },
              "CompressionFormat": "UNCOMPRESSED",
              "ErrorOutputPrefix": "table/error/!<span>{</span>firehose:error-output-type}/dt=!<span>{</span>timestamp:yyyy'-'MM'-'dd}/h=!<span>{</span>timestamp:HH}/",
              "Prefix": "YYYY=!<span>{</span>partitionKeyFromQuery:YYYY}/MM=!<span>{</span>partitionKeyFromQuery:MM}//DD=!<span>{</span>partitionKeyFromQuery:DD}/HH=!<span>{</span>partitionKeyFromQuery:HH}/REGION=!<span>{</span>partitionKeyFromQuery:REGION}/SITEID=!<span>{</span>partitionKeyFromQuery:SITEID}/",
              "RoleARN": "arn:aws:iam::012345678912:role/service-role/KinesisFirehoseServiceRole-dp-kinesis-f-us-east-1-012345678912", 
              "DynamicPartitioningConfiguration": 
              <span>{</span>
                "Enabled": true,
                "RetryOptions": <span>{</span>
                  "DurationInSeconds": 300
                  }
                },
                "ProcessingConfiguration": <span>{</span>
                  "Enabled": true,
                  "Processors": [
                  <span>{</span>
                    "Type": "MetadataExtraction",
                    "Parameters": [
                      <span>{</span>
                      "ParameterName": "MetadataExtractionQuery",
                      "ParameterValue": "<span>{</span>YYYY : (.ts/1000) | strftime(\"%Y\"), MM : (.ts/1000) | strftime(\"%m\"), DD : (.ts/1000) | strftime(\"%d\"), HH: (.ts/1000) | strftime(\"%H\")}"
                      },
                      <span>{</span>
                        "ParameterName": "JsonParsingEngine",
                        "ParameterValue": "JQ-1.6"
                      }
                    ]
                  },
				    <span>{</span>
                    "Type": "AppendDelimiterToRecord",
                    "Parameters": [
                        <span>{</span>
                        "ParameterName": "Delimiter",
                        "ParameterValue": "\\n"
                      }
                    ]
                  }
                ] 
                }
              }
            }
          }
        }
      }</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-resource-kinesisfirehose-deliverystream--examples--Specify_an_Amazon_S3_Destination_for_the_Delivery_Stream--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">---
Resources:
  Firehose:
    Type: AWS::KinesisFirehose::DeliveryStream
    Properties:
      DeliveryStreamName: tester-partitioning-delimiter
      DeliveryStreamType: DirectPut
      ExtendedS3DestinationConfiguration:
        BucketARN: arn:aws:s3:::dp-firehose-test
        BufferingHints:
          SizeInMBs: 128
          IntervalInSeconds: 900
        CompressionFormat: UNCOMPRESSED
        ErrorOutputPrefix: table/error/!<span>{</span>firehose:error-output-type}/dt=!<span>{</span>timestamp:yyyy'-'MM'-'dd}/h=!<span>{</span>timestamp:HH}/
        Prefix: YYYY=!<span>{</span>partitionKeyFromQuery:YYYY}/MM=!<span>{</span>partitionKeyFromQuery:MM}//DD=!<span>{</span>partitionKeyFromQuery:DD}/HH=!<span>{</span>partitionKeyFromQuery:HH}/REGION=!<span>{</span>partitionKeyFromQuery:REGION}/SITEID=!<span>{</span>partitionKeyFromQuery:SITEID}/
        RoleARN: arn:aws:iam::012345678912:role/service-role/KinesisFirehoseServiceRole-dp-kinesis-f-us-east-1-012345678912
        DynamicPartitioningConfiguration:
          Enabled: true
          RetryOptions:
            DurationInSeconds: 300
        ProcessingConfiguration:
          Enabled: true
          Processors:
          - Type: MetadataExtraction
            Parameters:
            - ParameterName: MetadataExtractionQuery
              ParameterValue: '<span>{</span>YYYY : (.ts/1000) | strftime("%Y"), MM : (.ts/1000)
                | strftime("%m"), DD : (.ts/1000) | strftime("%d"), HH: (.ts/1000)
                | strftime("%H")}'
            - ParameterName: JsonParsingEngine
              ParameterValue: JQ-1.6
          - Type: AppendDelimiterToRecord
            Parameters:
            - ParameterName: Delimiter
              ParameterValue: "\\n"
         </code></pre></div><h3 id="aws-resource-kinesisfirehose-deliverystream--examples--Specify_a_Kinesis_Stream_as_the_Source_for_the_Delivery_Stream">Specify a Kinesis Stream as the Source for the Delivery Stream</h3><p>The following example uses the <code class="code">KinesisStreamSourceConfiguration</code>
               property to specify a Kinesis stream as the source for the delivery stream.</p><div id="JSON" name="JSON" class="section langfilter"><h4 id="aws-resource-kinesisfirehose-deliverystream--examples--Specify_a_Kinesis_Stream_as_the_Source_for_the_Delivery_Stream--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Parameters": <span>{</span>
        "deliveryRoleArn": <span>{</span>
            "Type": "String"
        },
        "deliveryStreamName": <span>{</span>
            "Type": "String"
        },
        "kinesisStreamARN": <span>{</span>
            "Type": "String"
        },
        "kinesisStreamRoleArn": <span>{</span>
            "Type": "String"
        },
        "s3bucketArn": <span>{</span>
            "Type": "String"
        }
    },
    "Resources": <span>{</span>
        "Deliverystream": <span>{</span>
            "Type": "AWS::KinesisFirehose::DeliveryStream",
            "Properties": <span>{</span>
                "DeliveryStreamName": <span>{</span>
                    "Ref": "deliveryStreamName"
                },
                "DeliveryStreamType": "KinesisStreamAsSource",
                "KinesisStreamSourceConfiguration": <span>{</span>
                    "KinesisStreamARN": <span>{</span>
                        "Ref": "kinesisStreamARN"
                    },
                    "RoleARN": <span>{</span>
                        "Ref": "kinesisStreamRoleArn"
                    }
                },
                "ExtendedS3DestinationConfiguration": <span>{</span>
                    "BucketARN": <span>{</span>
                        "Ref": "s3bucketArn"
                    },
                    "BufferingHints": <span>{</span>
                        "IntervalInSeconds": 60,
                        "SizeInMBs": 50
                    },
                    "CompressionFormat": "UNCOMPRESSED",
                    "Prefix": "firehose/",
                    "RoleARN": <span>{</span>
                        "Ref": "deliveryRoleArn"
                    }
                }
            }
        }
    }
}</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-resource-kinesisfirehose-deliverystream--examples--Specify_a_Kinesis_Stream_as_the_Source_for_the_Delivery_Stream--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Parameters:
    deliveryRoleArn:
        Type: String
    deliveryStreamName:
        Type: String
    kinesisStreamARN :
        Type : String
    kinesisStreamRoleArn:
        Type : String
    s3bucketArn:
        Type: String
Resources :
    Deliverystream: 
        Type: AWS::KinesisFirehose::DeliveryStream
        Properties: 
            DeliveryStreamName: !Ref deliveryStreamName
            DeliveryStreamType: KinesisStreamAsSource
            KinesisStreamSourceConfiguration: 
                KinesisStreamARN: !Ref kinesisStreamARN
                RoleARN: !Ref kinesisStreamRoleArn
            ExtendedS3DestinationConfiguration: 
                BucketARN: !Ref s3bucketArn
                BufferingHints: 
                    IntervalInSeconds: 60
                    SizeInMBs: 50
                CompressionFormat: UNCOMPRESSED
                Prefix: firehose/
                RoleARN: !Ref deliveryRoleArn</code></pre></div><h2 id="aws-resource-kinesisfirehose-deliverystream--seealso">See also</h2><div class="itemizedlist">
             
         <ul class="itemizedlist"><li class="listitem">
               <p>
                  <a href="https://docs.aws.amazon.com/firehose/latest/APIReference/API_CreateDeliveryStream.html">CreateDeliveryStream</a> in the <em>Amazon Kinesis Data Firehose API
                     Reference</em>.</p>
            </li></ul></div><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./AWS_KinesisFirehose.html">Amazon Data Firehose</div><div id="next" class="next-link" accesskey="n" href="./aws-properties-kinesisfirehose-deliverystream-amazonopensearchserverlessbufferinghints.html">AmazonOpenSearchServerlessBufferingHints</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Firehose&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-kinesisfirehose-deliverystream.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Firehose&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-kinesisfirehose-deliverystream.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>