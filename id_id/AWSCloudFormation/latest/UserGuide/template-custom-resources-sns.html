<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="id-ID"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Sumber daya kustom yang didukung Layanan Pemberitahuan Sederhana Amazon - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="template-custom-resources-sns" /><meta name="default_state" content="template-custom-resources-sns" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" /><meta name="description" content="Pelajari tentang sumber daya kustom yang didukung Amazon SNS di. AWS CloudFormation" /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Panduan Pengguna" /><meta name="abstract" content="Membuat dan mengelola penyebaran AWS infrastruktur dapat diprediksi dan berulang kali menggunakan Panduan Pengguna AWS CloudFormation ini." /><meta name="guide-locale" content="id_id" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Panduan Pengguna" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Panduan Pengguna" /><meta id="panorama-serviceConsolePage" value="Sumber daya kustom yang didukung Layanan Pemberitahuan Sederhana Amazon" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Sumber daya kustom yang didukung Layanan Pemberitahuan Sederhana Amazon - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,penyediaan sumber daya,konfigurasi sumber daya,manajemen infrastruktur,CloudFormer,CloudFormation tumpukan,CloudFormation stackset,CloudFormation Template,ubah set" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Panduan Pengguna",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Bekerja dengan templat AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/template-guide.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Sumber daya khusus",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/template-custom-resources.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Sumber daya kustom yang didukung Layanan Pemberitahuan Sederhana Amazon",
        "item" : "https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/template-custom-resources.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Dokumentasi</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Panduan Pengguna</a></div><div id="page-toc-src"><a href="#walkthrough-custom-resources-sns-adding-nonaws-resource">Walkthrough: Menggunakan Amazon Simple Notification Service untuk membuat sumber daya khusus</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Terjemahan disediakan oleh mesin penerjemah. Jika konten terjemahan yang diberikan bertentangan dengan versi bahasa Inggris aslinya, utamakan versi bahasa Inggris.</p></awsui-alert><h1 class="topictitle" id="template-custom-resources-sns">Sumber daya kustom yang didukung Layanan Pemberitahuan Sederhana Amazon</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Saat Anda mengaitkan topik Amazon SNS dengan sumber daya khusus, Anda menggunakan notifikasi Amazon SNS untuk menjalankan logika penyediaan khusus. Dengan sumber daya khusus dan Amazon SNS, Anda dapat mengaktifkan skenario seperti menambahkan sumber daya baru ke tumpukan dan menyuntikkan data dinamis ke dalam tumpukan. Misalnya, saat Anda membuat tumpukan, AWS CloudFormation dapat mengirim <code class="code">create</code> permintaan ke topik yang dipantau oleh aplikasi yang berjalan di instans Amazon Elastic Compute Cloud. Notifikasi Amazon SNS memicu aplikasi untuk melakukan tugas penyediaan tambahan, seperti mengambil kumpulan alamat IP Elastis yang terdaftar yang diizinkan. Setelah selesai, aplikasi mengirimkan respons (dan setiap data output) yang memberitahukan AWS CloudFormation untuk melanjutkan dengan operasi tumpukan.</p><h2 id="walkthrough-custom-resources-sns-adding-nonaws-resource">Walkthrough: Menggunakan Amazon Simple Notification Service untuk membuat sumber daya khusus</h2>
      
      
      <p>Walkthrough ini akan melangkah melalui proses sumber daya kustom, menjelaskan urutan peristiwa serta pesan yang dikirim dan diterima sebagai hasil dari pembuatan, pembaruan, dan penghapusan tumpukan sumber daya kustom.</p>
      <h3 id="crpg-walkthrough-stack-creation">Langkah 1: Pembuatan tumpukan</h3>
         
         <div class="orderedlist">
             
             
             
             
         <ol style="list-style-type:arabic ! important;"><li>
               <p>Pengembang template membuat AWS CloudFormation tumpukan yang berisi sumber daya khusus; dalam contoh templat di bawah ini, kami menggunakan nama tipe sumber daya khusus <code class="code">Custom::SeleniumTester</code> untuk sumber daya kustom<code class="code">MySeleniumTest</code>.</p>
               <p>Jenis sumber daya kustom dideklarasikan dengan <em>token layanan</em>, <em>properti khusus penyedia</em> opsional, dan <a href="./intrinsic-function-reference-getatt.html">Fn::GetAtt</a>atribut opsional yang ditentukan oleh penyedia sumber daya kustom. Properti dan atribut ini dapat digunakan untuk meneruskan informasi dari pengembang template ke penyedia sumber daya khusus dan sebaliknya. Nama jenis sumber daya kustom harus alfanumerik dan dapat memiliki panjang maksimum 60 karakter.</p>
               <p>Contoh berikut menunjukkan templat yang memiliki properti kustom dan atribut kembali:</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "AWSTemplateFormatVersion" : "2010-09-09",
   "Resources" : <span>{</span>
      "MySeleniumTest" : <span>{</span>
         "Type": "Custom::SeleniumTester",
         "Version" : "1.0",
         "Properties" : <span>{</span>
            "ServiceToken": "arn:aws:sns:us-west-2:123456789012:CRTest",
            "seleniumTester" : "SeleniumTest()",
            "endpoints" : [ "http://mysite.com", "http://myecommercesite.com/", "http://search.mysite.com" ],
            "frequencyOfTestsPerHour" : [ "3", "2", "4" ]
         }
      }
   },
   "Outputs" : <span>{</span>
      "topItem" : <span>{</span>
         "Value" : <span>{</span> "Fn::GetAtt" : ["MySeleniumTest", "resultsPage"] }
      },
      "numRespondents" : <span>{</span>
         "Value" : <span>{</span> "Fn::GetAtt" : ["MySeleniumTest", "lastUpdate"] }
      }
   }
}</code></pre>
               <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>catatan</h6></div><div class="awsdocs-note-text"><p>Nama dan nilai data yang diakses <code class="code"><code class="code">Fn::GetAtt</code></code> dikembalikan oleh penyedia sumber daya kustom selama respons penyediaAWS CloudFormation. Jika penyedia sumber daya khusus adalah pihak ketiga, maka pengembang templat harus mendapatkan nama nilai pengembalian ini dari penyedia sumber daya khusus.</p></div></div>
            </li><li>
               <p>AWS CloudFormationmengirimkan Amazon SNS pemberitahuan ke penyedia sumber daya dengan <code class="code">"RequestType" : "Create"</code> yang berisi informasi tentang tumpukan, properti sumber daya khusus dari template tumpukan, dan URL S3 untuk respons.</p>
               <p>Topik SNS yang digunakan untuk mengirim notifikasi disematkan dalam template di <code class="code">ServiceToken</code> properti. Untuk menghindari penggunaan nilai hardcode, pengembang template dapat menggunakan parameter template sehingga nilai dimasukkan pada saat tumpukan diluncurkan.</p>
               <p>Contoh berikut menunjukkan permintaan <code class="code">Create</code> sumber daya kustom yang mencakup nama jenis sumber daya kustom, <code class="code">Custom::SeleniumTester</code>, yang dibuat dengan <code class="code">LogicalResourceId</code> dari <code class="code">MySeleniumTester</code>:</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "RequestType" : "Create",
   "ResponseURL" : "http://pre-signed-S3-url-for-response",
   "StackId" : "arn:aws:cloudformation:us-west-2:123456789012:stack/stack-name/guid",
   "RequestId" : "unique id for this create request",
   "ResourceType" : "Custom::SeleniumTester",
   "LogicalResourceId" : "MySeleniumTester",
   "ResourceProperties" : <span>{</span>
      "seleniumTester" : "SeleniumTest()",
      "endpoints" : [ "http://mysite.com", "http://myecommercesite.com/", "http://search.mysite.com" ],
      "frequencyOfTestsPerHour" : [ "3", "2", "4" ]
   }
}</code></pre>
            </li><li>
               <p>Penyedia sumber daya kustom memproses data yang dikirim oleh pengembang template dan menentukan apakah <code class="code">Create</code> permintaan berhasil. Penyedia sumber daya kemudian menggunakan URL S3 yang dikirim oleh AWS CloudFormation untuk mengirim tanggapan <code class="code">SUCCESS</code> atau <code class="code">FAILED</code>.</p>
               <p>Tergantung pada jenis respons, bidang respon yang berbeda akan diperkirakan oleh AWS CloudFormation. Lihat bagian Tanggapan di topik referensi untuk  RequestType yang sedang diproses.</p>
               <p>Menanggapi permintaan buat atau perbarui, penyedia sumber daya kustom dapat mengembalikan elemen data di <a href="./crpg-ref-responses.html#crpg-ref-responses-data">Data</a> bidang respons. Ini adalah pasangan nilai nama, dan <em>nama</em> sesuai dengan atribut <code class="code"><code class="code">Fn::GetAtt</code></code> yang digunakan dengan sumber daya kustom dalam templat tumpukan. <em>Nilai</em> adalah data yang dikembalikan ketika pengembang template memanggil <code class="code"><code class="code">Fn::GetAtt</code></code> sumber daya dengan nama atribut.</p>
               <p>Berikut ini adalah contoh respons sumber daya kustom:</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Status" : "SUCCESS",
   "PhysicalResourceId" : "Tester1",
   "StackId" : "arn:aws:cloudformation:us-west-2:123456789012:stack/stack-name/guid",
   "RequestId" : "unique id for this create request",
   "LogicalResourceId" : "MySeleniumTester",
   "Data" : <span>{</span>
      "resultsPage" : "http://www.myexampledomain/test-results/guid",
      "lastUpdate" : "2012-11-14T03:30Z",
   }
}           </code></pre>
               <p><code class="code">LogicalResourceId</code>Bidang <code class="code">StackId</code><code class="code">RequestId</code>,, dan harus disalin kata demi kata dari permintaan.</p>
            </li><li>
               <p> AWS CloudFormation menyatakan status tumpukan sebagai <code class="code">CREATE_COMPLETE</code> atau <code class="code">CREATE_FAILED</code>. Jika tumpukan berhasil dibuat, pengembang template dapat menggunakan nilai output dari sumber daya kustom yang dibuat dengan mengaksesnya. <a href="./intrinsic-function-reference-getatt.html">Fn::GetAtt</a></p>
               <p>Sebagai contoh, templat sumber daya kustom yang digunakan untuk ilustrasi menggunakan <code class="code"><code class="code">Fn::GetAtt</code></code> untuk menyalin output sumber daya ke dalam output tumpukan:</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Outputs" : <span>{</span>
   "topItem" : <span>{</span>
      "Value" : <span>{</span> "Fn::GetAtt" : ["MySeleniumTest", "resultsPage"] }
   },
   "numRespondents" : <span>{</span>
      "Value" : <span>{</span> "Fn::GetAtt" : ["MySeleniumTest", "lastUpdate"] }
   }
}           </code></pre>
            </li></ol></div>
         <p>Untuk informasi terperinci tentang objek permintaan dan respons yang terlibat dalam permintaan <code class="code">Create</code>, lihat <a href="./crpg-ref-requesttypes-create.html">Buat</a> dalam <a href="./crpg-ref.html">Referensi Sumber Daya Kustom</a>.</p>
       
      <h3 id="crpg-walkthrough-stack-updates">Langkah 2: Pembaruan tumpukan</h3>
         
         <p>Untuk memperbarui tumpukan yang ada, Anda harus mengirimkan templat yang menentukan pembaruan untuk properti sumber daya dalam tumpukan, seperti yang ditunjukkan pada contoh di bawah ini. AWS CloudFormation hanya memperbarui sumber daya yang memiliki perubahan yang ditentukan dalam templat. Untuk informasi lebih lanjut tentang memperbarui tumpukan, lihat <a href="./using-cfn-updating-stacks.html">Pembaruan tumpukan AWS CloudFormation</a>.</p>
         <p>Anda dapat memperbarui sumber daya kustom yang memerlukan penggantian sumber daya fisik pokok. Ketika Anda memperbarui sumber daya kustom di templat AWS CloudFormation, AWS CloudFormation mengirimkan permintaan pembaruan ke sumber daya kustom tersebut. Jika sumber daya kustom memerlukan pengganti, sumber daya kustom baru harus mengirim respons dengan ID fisik baru. Saat AWS CloudFormation menerima respons, itu membandingkan <code class="code">PhysicalResourceId</code> antara sumber daya kustom lama dan baru. Jika berbeda, AWS CloudFormation mengenali pembaruan sebagai pengganti dan mengirimkan permintaan hapus ke sumber daya lama, seperti yang ditunjukkan pada<a href="#crpg-walkthrough-stack-deletion">Langkah 3: Penghapusan tumpukan</a>.</p>
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>catatan</h6></div><div class="awsdocs-note-text"><p>Jika Anda tidak membuat perubahan pada sumber daya kustom, AWS CloudFormation tidak akan mengirim permintaan untuk sumber daya tersebut selama pembaruan tumpukan.</p></div></div>
         <div class="orderedlist">
             
             
             
             
         <ol style="list-style-type:arabic ! important;"><li>
               <p>Pengembang template memulai pembaruan ke tumpukan yang berisi sumber daya khusus. Selama pembaruan, pengembang template dapat menentukan Properti baru di template tumpukan.</p>
               <p>Berikut ini adalah contoh <code class="code">Update</code> ke templat tumpukan menggunakan jenis sumber daya kustom:</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "AWSTemplateFormatVersion" : "2010-09-09",
   "Resources" : <span>{</span>
      "MySeleniumTest" : <span>{</span>
         "Type": "Custom::SeleniumTester",
         "Version" : "1.0",
         "Properties" : <span>{</span>
            "ServiceToken": "arn:aws:sns:us-west-2:123456789012:CRTest",
            "seleniumTester" : "SeleniumTest()",
            "endpoints" : [ "http://mysite.com", "http://myecommercesite.com/", "http://search.mysite.com",
               "http://mynewsite.com" ],
            "frequencyOfTestsPerHour" : [ "3", "2", "4", "3" ]
         }
      }
   },
   "Outputs" : <span>{</span>
      "topItem" : <span>{</span>
         "Value" : <span>{</span> "Fn::GetAtt" : ["MySeleniumTest", "resultsPage"] }
      },
      "numRespondents" : <span>{</span>
         "Value" : <span>{</span> "Fn::GetAtt" : ["MySeleniumTest", "lastUpdate"] }
      }
   }
}           </code></pre>
            </li><li>
               <p>AWS CloudFormationmengirimkan Amazon SNS pemberitahuan ke penyedia sumber daya dengan <code class="code">"RequestType" : "Update"</code> yang berisi informasi serupa dengan <code class="code">Create</code> panggilan, kecuali bahwa <code class="code">OldResourceProperties</code> bidang berisi properti sumber daya lama, dan  ResourceProperties  berisi properti sumber daya yang diperbarui (jika ada).</p>
               <p>Berikut ini adalah contoh permintaan <code class="code">Update</code>:</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "RequestType" : "Update",
   "ResponseURL" : "http://pre-signed-S3-url-for-response",
   "StackId" : "arn:aws:cloudformation:us-west-2:123456789012:stack/stack-name/guid",
   "RequestId" : "uniqueid for this update request",
   "LogicalResourceId" : "MySeleniumTester",
   "ResourceType" : "Custom::SeleniumTester",  
   "PhysicalResourceId" : "Tester1",
   "ResourceProperties" : <span>{</span>
      "seleniumTester" : "SeleniumTest()",
      "endpoints" : [ "http://mysite.com", "http://myecommercesite.com/", "http://search.mysite.com",
         "http://mynewsite.com" ],
      "frequencyOfTestsPerHour" : [ "3", "2", "4", "3" ]
   },
   "OldResourceProperties" : <span>{</span>
      "seleniumTester" : "SeleniumTest()",
      "endpoints" : [ "http://mysite.com", "http://myecommercesite.com/", "http://search.mysite.com" ],
      "frequencyOfTestsPerHour" : [ "3", "2", "4" ]
   }
}          </code></pre>
            </li><li>
               <p>Penyedia sumber daya khusus memproses data yang dikirim olehAWS CloudFormation. Sumber daya kustom melakukan pembaruan dan mengirimkan respons dari <code class="code">SUCCESS</code> atau <code class="code">FAILED</code> ke URL S3. AWS CloudFormation kemudian membandingkan <code class="code">PhysicalResourceIDs</code> pada sumber daya kustom lama dan baru. Jika berbeda, AWS CloudFormation mengakui bahwa pembaruan memerlukan penggantian dan mengirimkan permintaan hapus ke sumber daya lama. Contoh berikut menunjukkan respon penyedia sumber daya kustom untuk <code class="code">Update</code> permintaan.</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Status" : "SUCCESS",
   "StackId" : "arn:aws:cloudformation:us-west-2:123456789012:stack/stack-name/guid",
   "RequestId" : "uniqueid for this update request",
   "LogicalResourceId" : "MySeleniumTester",
   "PhysicalResourceId" : "Tester2"
}           </code></pre>
               <p><code class="code">LogicalResourceId</code>Bidang <code class="code">StackId</code><code class="code">RequestId</code>,, dan harus disalin kata demi kata dari permintaan.</p>
            </li><li>
               <p>AWS CloudFormation menyatakan status tumpukan sebagai <code class="code">UPDATE_COMPLETE</code> atau <code class="code">UPDATE_FAILED</code>. Jika pembaruan gagal, tumpukan akan kembali. Jika tumpukan berhasil diperbarui, pengembang templat dapat mengakses nilai keluaran baru apa pun dari sumber daya kustom yang dibuat dengannya<code class="code"><code class="code">Fn::GetAtt</code></code>.</p>
            </li></ol></div>
         <p>Untuk informasi terperinci tentang permintaan dan respons objek yang terlibat dalam permintaan <code class="code">Update</code>, lihat <a href="./crpg-ref-requesttypes-update.html">Perbarui</a> dalam <a href="./crpg-ref.html">Referensi Sumber Daya</a>.</p>
       
      <h3 id="crpg-walkthrough-stack-deletion">Langkah 3: Penghapusan tumpukan</h3>
         
         <div class="orderedlist">
             
             
             
             
         <ol style="list-style-type:arabic ! important;"><li>
               <p>Pengembang template menghapus tumpukan yang berisi sumber daya khusus. AWS CloudFormationmendapatkan properti saat ini yang ditentukan dalam template tumpukan bersama dengan topik SNS, dan bersiap untuk membuat permintaan ke penyedia sumber daya khusus.</p>
            </li><li>
               <p>AWS CloudFormationmengirimkan Amazon SNS pemberitahuan ke penyedia sumber daya dengan <code class="code">"RequestType" : "Delete"</code> yang berisi informasi terkini tentang tumpukan, properti sumber daya khusus dari template tumpukan, dan URL S3 untuk respons.</p>
               <p>Setiap kali Anda menghapus tumpukan atau membuat pembaruan yang menghapus atau menggantikan sumber daya kustom, AWS CloudFormation membandingkan <code class="code">PhysicalResourceId</code> antara sumber daya kustom lama dan baru. Jika berbeda, AWS CloudFormation mengenali pembaruan sebagai pengganti dan mengirimkan permintaan hapus untuk sumber daya lama (<code class="code">OldPhysicalResource</code>), seperti yang ditunjukkan pada contoh <code class="code">Delete</code> permintaan berikut.</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "RequestType" : "Delete",
   "ResponseURL" : "http://pre-signed-S3-url-for-response",
   "StackId" : "arn:aws:cloudformation:us-west-2:123456789012:stack/stack-name/guid",
   "RequestId" : "unique id for this delete request",
   "ResourceType" : "Custom::SeleniumTester",
   "LogicalResourceId" : "MySeleniumTester",
   "PhysicalResourceId" : "Tester1",
   "ResourceProperties" : <span>{</span>
      "seleniumTester" : "SeleniumTest()",
      "endpoints" : [ "http://mysite.com", "http://myecommercesite.com/", "http://search.mysite.com",
         "http://mynewsite.com" ],
      "frequencyOfTestsPerHour" : [ "3", "2", "4", "3" ]
   }
}    
            </code></pre>
               <p><code class="code">DescribeStackResource</code>, <code class="code">DescribeStackResources</code>, dan <code class="code">ListStackResources</code> menampilkan nama yang ditetapkan pengguna jika telah ditentukan.</p>
            </li><li>
               <p>Penyedia sumber daya kustom memproses data yang dikirim oleh AWS CloudFormation dan menentukan apakah <code class="code">Delete</code> permintaan berhasil. Penyedia sumber daya kemudian menggunakan URL S3 yang dikirim oleh AWS CloudFormation untuk mengirim tanggapan <code class="code">SUCCESS</code> atau <code class="code">FAILED</code>. Agar berhasil menghapus tumpukan dengan sumber daya kustom, penyedia sumber daya kustom harus berhasil merespons permintaan penghapusan.</p>
               <p>Berikut ini adalah contoh respons penyedia sumber daya kustom terhadap <code class="code">Delete</code> permintaan:</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Status" : "SUCCESS",
   "StackId" : "arn:aws:cloudformation:us-west-2:123456789012:stack/stack-name/guid",
   "RequestId" : "unique id for this delete request",
   "LogicalResourceId" : "MySeleniumTester",
   "PhysicalResourceId" : "Tester1"
}         </code></pre>
               <p><code class="code">LogicalResourceId</code>Bidang <code class="code">StackId</code><code class="code">RequestId</code>,, dan harus disalin kata demi kata dari permintaan.</p>
            </li><li>
               <p>AWS CloudFormation menyatakan status tumpukan sebagai <code class="code">DELETE_COMPLETE</code> atau <code class="code">DELETE_FAILED</code>.</p>
            </li></ol></div>
         <p>Untuk informasi terperinci tentang objek permintaan dan respons yang terlibat dalam permintaan <code class="code">Delete</code>, lihat <a href="./crpg-ref-requesttypes-delete.html">Hapus</a> dalam <a href="./crpg-ref.html">Referensi sumber daya kustom</a>.</p>
       
      <h3 id="w9aac23c26c14b5c12">Lihat juga</h3>
         
         <div class="itemizedlist">
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p><a href="./crpg-ref.html">AWS CloudFormationReferensi Sumber Daya Kustom</a></p>
            </li><li class="listitem">
               <p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-customresource.html"><code class="code">AWS::CloudFormation::CustomResource</code></a></p>
            </li><li class="listitem">
               <p><a href="./intrinsic-function-reference-getatt.html">Fn:: GetAtt</a></p>
            </li></ul></div>
       
   <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Awas" /> <strong>Javascript dinonaktifkan atau tidak tersedia di browser Anda.</strong></p><p>Untuk menggunakan Dokumentasi AWS, Javascript harus diaktifkan. Lihat halaman Bantuan browser Anda untuk petunjuk.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Konvensi Dokumen</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./template-custom-resources.html">Sumber daya khusus</div><div id="next" class="next-link" accesskey="n" href="./template-custom-resources-lambda.html">Sumber daya kustom yang didukung AWS Lambda</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Apakah halaman ini membantu Anda? - Ya</div><div class="content"><p>Terima kasih telah memberitahukan bahwa hasil pekerjaan kami sudah baik.</p><p>Jika Anda memiliki waktu luang, beri tahu kami aspek apa saja yang sudah bagus, agar kami dapat menerapkannya secara lebih luas.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Umpan Balik" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Apakah halaman ini membantu Anda? - Tidak</div><div class="content"><p>Terima kasih telah memberi tahu kami bahwa halaman ini perlu ditingkatkan. Maaf karena telah mengecewakan Anda.</p><p>Jika Anda memiliki waktu luang, beri tahu kami bagaimana dokumentasi ini dapat ditingkatkan.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Umpan Balik" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>