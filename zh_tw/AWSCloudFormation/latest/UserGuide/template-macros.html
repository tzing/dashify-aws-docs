<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="zh-TW"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>使用 AWS CloudFormation 巨集對範本執行自訂處理 - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="template-macros" /><meta name="default_state" content="template-macros" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/template-macros.html" /><meta name="description" content="使用巨集對範本執行自訂處理，從簡單的動作 (例如作 find-and-replace 業) 到整個範本的大量轉換。" /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="使用者指南" /><meta name="abstract" content="使 AWS CloudFormation 用本使用者指南可預測並重複地建立和管理 AWS 基礎架構部署。" /><meta name="guide-locale" content="zh_tw" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/template-macros.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-macros.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="使用者指南" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="使用者指南" /><meta id="panorama-serviceConsolePage" value="使用 AWS CloudFormation 巨集對範本執行自訂處理" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>使用 AWS CloudFormation 巨集對範本執行自訂處理 - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/template-macros.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/template-macros.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/template-macros.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,資源佈建,資源組態,基礎設施管理,CloudFormer,CloudFormation 堆疊,CloudFormation 堆疊集,CloudFormation 範本,變更集合" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "使用者指南",
        "item" : "https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "使用 AWS CloudFormation 範本",
        "item" : "https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/template-guide.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "使用 AWS CloudFormation 巨集對範本執行自訂處理",
        "item" : "https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/template-guide.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">文件</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">使用者指南</a></div><div id="page-toc-src"><a href="#template-macros-overview">AWS CloudFormation 巨集的運作方式</a><a href="#template-macros-author">建立 AWS CloudFormation 巨集定義</a><a href="#template-macros-use">在範本中使用 AWS CloudFormation 巨集</a><a href="#template-macros-examples-list">巨集範例</a><a href="#template-macros-seealso">另請參閱</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>本文為英文版的機器翻譯版本，如內容有任何歧義或不一致之處，概以英文版為準。</p></awsui-alert><h1 class="topictitle" id="template-macros">使用 AWS CloudFormation 巨集對範本執行自訂處理</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>巨集可讓您對範本執行自訂處理，從簡單的動作 (例如作 find-and-replace 業) 到整個範本的大量轉換。</p><p>要了解可能性的廣度，請考慮<code class="code">AWS::Include</code>和<code class="code">AWS::Serverless</code>轉換，它們是由 AWS CloudFormation以下主控的宏：</p><div class="itemizedlist">
         
         
    <ul class="itemizedlist"><li class="listitem">
            <p><code class="code"><a href="./create-reusable-transform-function-snippets-and-add-to-your-template-with-aws-include-transform.html">AWS::Include 轉換程序</a></code> 可讓您將樣板式範本程式碼片段插入範本中。</p>
        </li><li class="listitem">
            <p><code class="code"><a href="./transform-aws-serverless.html">AWS::Serverless 轉換程序</a></code>採用以 AWS 無伺服器應用程式模型 (AWS SAM) 語法撰寫的完整範本，並將其轉換為合規 AWS CloudFormation 範本。(如需有關無伺服器應用程式和 AWS SAM 的詳細資訊，請參閱《AWS Lambda Lambda 開發人員指南》中的<a href="https://docs.aws.amazon.com/lambda/latest/dg/deploying-lambda-apps.html">部署 Lambda 型應用程式</a>。)</p>
        </li></ul></div><h2 id="template-macros-overview">AWS CloudFormation 巨集的運作方式</h2><p>使用巨集處理範本有兩個主要步驟：<em>建立</em>巨集本身，然後<em>使用</em>巨集在您的範本上執行處理。</p><p>若要建立巨集定義，您需要建立下列項目：</p><div class="itemizedlist">
         
         
    <ul class="itemizedlist"><li class="listitem">
            <p>執行範本處理的 AWS Lambda 函數。此 Lambda 函數接受程式碼片段或整個範本，以及您定義的任何其他參數。它會傳回已處理的範本程式碼片段或整個範本作為回應。</p>
        </li><li class="listitem">
            <p>一種類型的資源<code class="code"><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-macro.html">AWS::CloudFormation::Macro</a></code>，可讓使用者從 AWS CloudFormation 範本中呼叫 Lambda 函數。此資源指定針對此巨集叫用的 Lambda 函數的 ARN，以及可協助除錯的其他選用屬性。若要在帳號內建立此資源，請撰寫包含<code class="code"><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-macro.html">AWS::CloudFormation::Macro</a></code>資源的範本，然後從範本建立具有自我管理權限的堆疊或堆疊集。 AWS CloudFormation StackSets目前不支援從參考巨集的範本建立或更新具有服務管理權限的堆疊集。</p>
        </li></ul></div><p>若要使用巨集，請在範本中參考巨集：</p><div class="itemizedlist">
         
         
    <ul class="itemizedlist"><li class="listitem">
            <p>若要處理範本的區段或<em>程式碼片段</em>，請在 <code class="code"><a href="./intrinsic-function-reference-transform.html">Fn::Transform</a></code> 函數 (位置相對於您想要轉換的範本內容) 中參考巨集。當您使用 <code class="code">Fn::Transform</code> 時，您也可以傳遞它需要的任何指定參數。</p>
        </li><li class="listitem">
            <p>若要處理整個範本，請在範本的 <a href="./transform-section-structure.html">轉換</a> 區段中參考巨集。</p>
        </li></ul></div><p>接著，您通常會建立變更集，然後加以執行。（處理宏可以添加多個您可能不知道的資源。 為了確保您知道巨集引入的所有變更，我們強烈建議您使用變更集。) AWS CloudFormation 將指定的範本內容與任何其他指定的參數一起傳遞至巨集資源中指定的 Lambda 函數。Lambda 函數會傳回已處理的範本內容，不論是程式碼片段或整個範本。</p><p>呼叫樣板中的所有巨集之後， AWS CloudFormation 會產生包含已處理範本內容的變更集。檢閱變更集之後，請執行它來套用變更。</p><div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>重要</h6></div><div class="awsdocs-note-text"><p>如果您的堆疊集範本參考了一或多個巨集，您必須直接從處理的範本建立堆疊集，而不必先檢視變更集中產生的變更。若要直接建立或更新堆疊集，您必須使用<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_CreateStackSet.html"><code class="code">CreateStackSet</code></a>或<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_UpdateStackSet.html"><code class="code">UpdateStackSet</code></a>動作並指定<code class="code">CAPABILITY_AUTO_EXPAND</code>功能。從直接參考巨集的範本建立或更新堆疊集之前，請確定您知道巨集會執行哪些處理操作。</p></div></div><div class="mediaobject">
         
            
            <img src="images/template-macro-use.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;            使用Fn::Transform內部函數或模板的Transform部分，將模板內容和關聯參數傳遞給宏的基礎 Lambda 函數，該函數返回處理過的模板內容。&#xA;        " style="max-width:100%" />
         
         
    </div><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注意</h6></div><div class="awsdocs-note-text"><p>如果您可以直接透過處理範本安心建立或更新堆疊，無需先在變更集中審核建議的變更，則可在 <code class="code">CreateStack</code> 或 <code class="code">UpdateStack</code> 請求中指定 <code class="code">CAPABILITY_AUTO_EXPAND</code> 功能這麼做。如果您知道巨集會執行哪些處理，您應只直接透過參考巨集的範本來建立堆疊。</p><p>如需詳細資訊，請參閱 <em>AWS CloudFormation API 參考<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_UpdateStack.html">UpdateStack</a></em>中的<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_CreateStack.html">CreateStack</a>或。</p></div></div><h2 id="template-macros-author">建立 AWS CloudFormation 巨集定義</h2>
        <p>當您建立巨集定義時，巨集定義會在指定的帳戶中使用基礎 Lambda 函數，以便 AWS CloudFormation 叫用它來處理範本。</p>
        
        <h3 id="template-macros-lambda-interface">AWS CloudFormation 宏功能界面</h3>
            <p>對於巨集，請使用下列事件對應 AWS CloudFormation 來叫用基礎 Lambda 函數。 AWS CloudFormation 以 JSON 格式發送其請求，並且它也希望函數響應格式化為 JSON。</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "region" : "<code class="replaceable">us-east-1</code>",
    "accountId" : "<code class="replaceable">$ACCOUNT_ID</code>",
    "fragment" : <span>{</span> <code class="replaceable">...</code> },
    "transformId" : "<code class="replaceable">$TRANSFORM_ID</code>",
    "params" : <span>{</span> <code class="replaceable">...</code> },
    "requestId" : "<code class="replaceable">$REQUEST_ID</code>",
    "templateParameterValues" : <span>{</span> <code class="replaceable">...</code> }
}</code></pre>

            <div class="itemizedlist">
                 
                 
                 
                 
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem"><p><b>region</b></p>
                    <p>巨集所在的區域。</p>
                </li><li class="listitem"><p><b>accountId</b></p>
                    <p>供巨集用來叫用 Lambda 函數的帳戶的帳戶 ID。</p>
                </li><li class="listitem"><p><b>fragment</b></p>
                    <p>可供自訂處理的範本內容 (JSON 格式)。</p>
                    <div class="itemizedlist">
                         
                         
                    <ul class="itemizedlist"><li class="listitem"><p>對於 <code class="code">Transform</code> 範本區段包含的巨集，這是整個範本 (<code class="code">Transform</code> 區段除外)。</p></li><li class="listitem"><p>對於 <code class="code">Fn::Transform</code> 內部函數呼叫包含的巨集，這包括以內部函數 (<code class="code">Fn::Transform</code> 函數除外) 在範本內的位置為基礎的所有同級節點 (及其子系)。如需詳細資訊，請參閱 <a href="#template-macros-scope">AWS CloudFormation 巨集範圍</a>。</p></li></ul></div>
                </li><li class="listitem"><p><b>transformId</b></p>
                    <p>叫用此函數的巨集的名稱。</p>
                </li><li class="listitem"><p><b>params</b></p>
                    <p>對於<code class="code">Fn::Transform</code>函數調用，該函數的任何指定參數。 AWS CloudFormation 在將這些參數傳遞給函數之前，不會評估這些參數。</p>
                    <p>對於 <code class="code">Transform</code> 範本區段包含的巨集，這個區段是空的。</p>
                </li><li class="listitem"><p><b>requestId</b></p>
                    <p>叫用此函數的請求的 ID。</p>
                </li><li class="listitem"><p><b>templateParameterValues</b></p>
                    <p>範本的 <a href="./parameters-section-structure.html">參數</a> 區段中指定的任何參數。 AWS CloudFormation 將這些參數傳遞到函數之前會先評估參數。</p>
                </li></ul></div>
            <p>AWS CloudFormation 預期基礎函數以下列 JSON 格式傳回回應：</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "requestId" : "<code class="replaceable">$REQUEST_ID</code>",
    "status" : "<code class="replaceable">$STATUS</code>",
    "fragment" : <span>{</span> <code class="replaceable">...</code> }
    "errorMessage": "optional error message for failures"
}</code></pre>
            <div class="itemizedlist">
                 
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem"><p><b>requestId</b></p>
                    <p>叫用此函數的請求的 ID。這必須與叫用函數 AWS CloudFormation 時提供的要求 ID 相符。</p>
                </li><li class="listitem"><p><b>status</b></p>
                    <p>請求的狀態 (不區分大小寫)。應該設為 <code class="code">success</code>。 AWS CloudFormation 會將任何其他回應視為失敗。</p>
                </li><li class="listitem"><p><b>fragment</b></p>
                    <p> AWS CloudFormation 要包含在已處理範本中的已處理範本內容，包括同層級。 AWS CloudFormation 將傳遞至 Lambda 函數的範本內容取代為在 Lambda 回應中收到的範本片段。</p>
                    <p>處理過的範本內容必須是有效的 JSON，而納入所處理的範本中之後必須形成有效的範本。</p>
                    <p>如果您的函數實際上並未更改 AWS CloudFormation
傳遞給它的模板內容，但是您仍然需要在處理過的模板中包含該內容，則您的函數需要在其響應 AWS CloudFormation 中將該模板內容返回到該模板內容。</p>
                </li><li class="listitem">
                    <p><b>errorMessage</b></p>
                    <p>說明轉換失敗原因的錯誤訊息。  CloudFormation在堆疊的 [<b>堆疊詳細資料</b>] 頁面的 [<b>事件</b>] 窗格中顯示此錯誤訊息。</p>
                    <p>例如，「建立變更集時發生錯誤：轉換 <code class="replaceable">AWS 帳戶
account number</code>::<code class="replaceable">macro name</code> 失敗：<code class="replaceable">錯誤訊息字串</code>」。</p>
                </li></ul></div>
            <p>如需建立巨集時其他考量的相關資訊，請參閱<a href="#template-macros-considerations">建立 AWS CloudFormation 巨集定義時的考量</a>。</p>
         
        
        <h3 id="template-macros-permissions">AWS CloudFormation 巨集帳戶範圍和權限</h3>
            <p>巨集只能在它們已建立為資源的帳戶中使用。巨集的名稱在給定帳戶內必須是唯一的。不過，您可以在基礎 Lambda 函數上啟用跨帳戶存取，然後建立巨集定義在多個帳戶中參考該函數，就能讓多個帳戶使用相同的功能。在下列範例中，三個帳戶包含巨集定義，各指向相同的 Lambda 函數。</p>
            <div class="mediaobject">
                 
                    <img src="images/template-macro-accounts.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;                    透過允許跨帳戶存取 Lambda 函數， AWS 可讓您在參考該函數的多個帳戶中建立巨集。&#xA;                " style="max-width:100%" />
                 
                 
            </div>
            <p>如需詳細資訊，請參<a href="https://docs.aws.amazon.com/lambda/latest/dg/access-control-overview.html">閱<em>AWS Lambda 開發人員指南</em>中的管理 AWS Lambda 資源存取權限</a>概觀。</p>
            <p>為了建立巨集定義，使用者必須有許可，才能在指定的帳戶內建立堆疊或堆疊集。</p>
            <p> AWS CloudFormation 若要成功執行範本中包含的巨集，使用者必須擁有基礎 Lambda 函數的<code class="code">Invoke</code>權限。若要防止潛在的權限提升，請在執行巨 AWS CloudFormation 集時模擬使用者。如需詳細資訊，請參閱《AWS Lambda 開發人員指南》中的 <a href="https://docs.aws.amazon.com/lambda/latest/dg/intro-permission-model.html">Lambda 許可模型</a>和《IAM 使用者指南》中的 <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/list_lambda.html">AWS Lambda的動作與條件內容索引鍵</a>。</p>
            <p><a href="./transform-aws-serverless.html">AWS::Serverless 轉換程序</a>和轉<a href="./create-reusable-transform-function-snippets-and-add-to-your-template-with-aws-include-transform.html">AWS::Include 轉換程序</a>換是由主控的巨集 AWS CloudFormation。使用它們並不需要特殊許可，在 AWS CloudFormation中可從任何帳戶內使用它們。</p>
          
        <h3 id="template-macros-debug">偵錯 AWS CloudFormation 巨集</h3>
            <p>為了協助除錯，當您為巨集建立 <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-macro.html">AWS::CloudFormation::Macro</a> 資源類型時，您也可以指定 <code class="code">LogGroupName</code> 和 <code class="code">LogRoleArn</code> 屬性。這些內容可讓您指定在叫用巨集的基礎 AWS Lambda 函數時， AWS CloudFormation 將錯誤記錄資訊傳送至的記錄群組，而且在將記錄項目傳送至這些記錄檔時，角色 AWS CloudFormation 應該承擔。 CloudWatch </p>
          
        <h3 id="template-macros-billing">帳單</h3>
            <p>當巨集執行時，Lambda 函數的擁有者需要支付執行該函數的任何相關費用。</p>
            <p><a href="./transform-aws-serverless.html">AWS::Serverless 轉換程序</a>和轉<a href="./create-reusable-transform-function-snippets-and-add-to-your-template-with-aws-include-transform.html">AWS::Include 轉換程序</a>換是由主控的巨集 AWS CloudFormation。可免費使用它們。</p>
         
        <h3 id="template-macros-considerations">建立 AWS CloudFormation 巨集定義時的考量</h3>
            <p>建立巨集定義時，請謹記下列事項：</p>
            <div class="itemizedlist">
                 
                 
                 
                 
                
                 
                 
                 
                
                 
                 
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem"><p>只有在可用的 AWS 區域 地方 AWS Lambda 才支援巨集。如需可使用 Lambda 的區域清單，請參閱 <a href="https://docs.aws.amazon.com/general/latest/gr/lambda-service.html">AWS Lambda 端點與配額</a>。</p></li><li class="listitem"><p>任何處理的範本程式碼片段都必須是有效的 JSON。</p></li><li class="listitem"><p>任何處理的範本程式碼片段都必須通過建立堆疊、更新堆疊、建立堆疊集或更新堆疊集操作的驗證檢查。</p></li><li class="listitem"><p>AWS CloudFormation 先解析巨集，然後處理範本。產生的範本必須是有效的 JSON，且不能超過範本大小上限。</p></li><li class="listitem"><p>由於處理範本中元素的順 CloudFormation 序，巨集無法在其傳回的已處理範本內容中包含模組 CloudFormation。如需有關模組的詳細資訊，請參閱 <em>CloudFormation CLI 使用者指南</em>中的<a href="https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/modules.html">開發模組</a>。</p></li><li class="listitem"><p>使用更新復原功能時， AWS CloudFormation 會使用原始範本的複本。即使加入的程式碼片段有所變更，它也會復原至原始範本。</p></li><li class="listitem"><p>在巨集內包含巨集沒有作用，因為我們不會處理反覆地處理巨集。</p></li><li class="listitem"><p>巨集內目前不支援 <code class="code">Fn::ImportValue</code> 內部函數。</p></li><li class="listitem"><p>範本包含的內部函數是在任何巨集之後評估。因此，巨集傳回的已處理範本內容可能包含內部函數的呼叫，一樣照常評估。</p></li><li class="listitem"><p>StackSets 目前不支援從參考 AWS CloudFormation 巨集的範本建立或更新具有服務管理權限的堆疊集。</p></li><li class="listitem"><p>如果您的堆疊集範本參考一或多個巨集，您必須直接從處理的範本建立或更新堆疊集，而不必先檢視變更集中產生的變更。若要直接建立或更新堆疊集，請使用<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_CreateStackSet.html"><code class="code">CreateStackSet</code></a>或<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_UpdateStackSet.html"><code class="code">UpdateStackSet</code></a>動作並指定<code class="code">CAPABILITY_AUTO_EXPAND</code>功能。處理巨集可能會新增您不了解的多個資源。從直接參考巨集的範本建立或更新堆疊集之前，請確定您知道巨集會執行哪些處理操作。</p></li><li class="listitem">
                    
                    <p>變更集目前不支援巢狀堆疊。如果您要使用參考巨集<em>且</em>包含巢狀堆疊的堆疊範本來建立或更新堆疊，您必須直接建立或更新堆疊。若要執行此操作，請使用<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_CreateStack.html"><code class="code">CreateStack</code></a>或<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_UpdateStack.html"><code class="code">UpdateStack</code></a>動作並指定<code class="code">CAPABILITY_AUTO_EXPAND</code>權能。</p>
                </li></ul></div>
         
        <div class="procedure"><h6>若要建立 AWS CloudFormation 巨集定義：</h6><ol><li>
                <p><a href="https://docs.aws.amazon.com/lambda/latest/dg/lambda-app.html">建立處理 AWS CloudFormation 範本的 AWS Lambda 函數</a>。</p>
                <p>您建置的 Lambda 函數會執行範本內容的處理。您的函數可以處理範本的任何部分，甚至整個範本。如需您的函數必須遵循的事件映射的詳細資訊，請參閱 <a href="#template-macros-lambda-interface">AWS CloudFormation 宏功能界面</a>。如需建立巨集時其他考量的相關資訊，請參閱<a href="#template-macros-considerations">建立 AWS CloudFormation 巨集定義時的考量</a>。</p>
            </li><li>
                <p><a href="./template-guide.html">建立包含AWS::CloudFormation::Macro資源類型的範本</a>。</p>
                <div class="itemizedlist">
                     
                     
                <ul class="itemizedlist"><li class="listitem"><p>您必須指定 <code class="code">Name</code> 和 <code class="code">FunctionName</code> 屬性。<code class="code">FunctionName</code>屬性會指定 AWS CloudFormation 執行巨集時要叫用的 Lambda 函數的 ARN。</p></li><li class="listitem"><p>為了協助除錯，您也可以指定 <code class="code">LogGroupName</code> 和 <code class="code">LogRoleArn</code> 屬性。</p></li></ul></div>
            </li><li>
                <p>從包含所需帳戶中巨集的範本<a href="./cfn-console-create-stack.html">建立堆疊</a>，或從範本<a href="./stacksets-getting-started-create.html#stacksets-getting-started-create-self-managed">建立具有自我管理許可的堆疊集</a>，參考管理員帳戶中的巨集，然後在所需的目標帳戶中建立堆疊執行個體。</p>
                <p> AWS CloudFormation 成功建立包含巨集定義的堆疊後，即可在這些帳戶中使用巨集。</p>
            </li></ol></div>


    <h2 id="template-macros-use">在範本中使用 AWS CloudFormation 巨集</h2>
        <p> AWS CloudFormation 成功建立包含巨集定義的堆疊後，即可在這些帳戶中使用巨集。在範本中，請在您要處理的範本內容的相對適當位置上參考巨集，以此來使用巨集。</p>
        <h3 id="template-macros-order">AWS CloudFormation 巨集評估順序</h3>
            <p>您可以參考指定範本中的多個巨集，包括由主控的轉換 AWS CloudFormation，例如<a href="./create-reusable-transform-function-snippets-and-add-to-your-template-with-aws-include-transform.html">AWS::Include 轉換程序</a>和<a href="./transform-aws-serverless.html">AWS::Serverless 轉換程序</a>。</p>
            <p>巨集是根據在範本中的位置而依序評估，從最深巢狀往外到最通用。範本中同一位置的巨集是根據它們所列順序而按順序評估。</p>
            <p>在動作順序和範圍方面，轉換 (例如 <code class="code">AWS::Include</code> 和 <code class="code">AWS::Transform</code>) 與任何其他巨集視為相同。</p>
            <p>例如，在以下範本範例中， AWS CloudFormation 會先評估<code class="code">PolicyAdder</code>巨集，因為它是範本中巢狀最深的巨集。 AWS CloudFormation 然後在評估<code class="code">MyMacro</code>之前進行評估，<code class="code">AWS::Serverless</code>因為它<code class="code">AWS::Serverless</code>在<code class="code">Transform</code>部分之前列出。</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">AWSTemplateFormatVersion: 2010-09-09
 Transform: [MyMacro, AWS::Serverless]
 Resources:
    WaitCondition:
      Type: AWS::CloudFormation::WaitCondition
    MyBucket:
      Type: 'AWS::S3::Bucket'
      Properties:
        BucketName: MyBucket
        Tags: [<span>{</span>"key":"value"}]
        'Fn::Transform':
          - Name: PolicyAdder
        CorsConfiguration:[]
    MyEc2Instance:
      Type: 'AWS::EC2::Instance'
      Properties:
        ImageID: "ami-123"</code></pre>
          
        
        <h3 id="template-macros-scope">AWS CloudFormation 巨集範圍</h3>
            <p>範本的 <code class="code">Transform</code> 區段中參考的巨集可以處理該範本的整個內容。</p>
            <p><code class="code">Fn::Transform</code> 函數中參考的巨集可以處理該 <code class="code">Fn::Transform</code> 函數在範本中的任何同級元素 (包括子系) 的內容。</p>
            <p>例如，在以下範本範例中，<code class="code">AWS::Include</code> 可以根據其所在 <code class="code">Fn::Transform</code> 函數的位置，而處理所有 <code class="code">MyBucket</code> 屬性。<code class="code">MyMacro</code> 可以處理整個範本的內容，因為它已納入 <code class="code">Transform</code> 區段中。</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">
// Start of processable content for MyMacro
AWSTemplateFormatVersion: 2010-09-09 
 Transform: [MyMacro]
 Resources:
    WaitCondition:
      Type: AWS::CloudFormation::WaitCondition
    MyBucket:
      Type: 'AWS::S3::Bucket'  //Start of processable content for AWS::Include
      Properties:
        BucketName: MyBucket 
        Tags: [<span>{</span>"key":"value"}] 
        'Fn::Transform':
          - Name: 'AWS::Include'
              Parameters:
                Location: s3://<code class="replaceable">DOC-EXAMPLE-BUCKET</code>/MyFileName.yaml
        CorsConfiguration:[]   //End of processable content for AWS::Include
    MyEc2Instance:
      Type: 'AWS::EC2::Instance' 
      Properties:
        ImageID: "ami-123"
// End of processable content for MyMacro         </code></pre>
          
        
         
         <h3 id="template-macros-change-sets">變更集合和 AWS CloudFormation 巨集</h3>
            <p>若要使用參考巨集的範本來建立或更新堆疊，您通常會建立變更集，然後執行它。變更集說明  CloudFormation  將根據處理過的範本所採取的動作。處理巨集可能會新增您不了解的多個資源。為了確保您知道巨集所產生的所有變更，我們強烈建議您使用變更集。檢閱變更集之後，您可以執行它來確實套用變更。</p>
            <p>巨集可以將 IAM 資源新增至您的範本。針對這些資源， AWS CloudFormation
會要求您<a href="./using-iam-template.html#using-iam-capabilities">確認其功能</a>。由於在處理範本之前 AWS CloudFormation 無法知道要新增哪些資源，因此您可能需要在建立變更集時確認 IAM 功能，具體取決於參考的巨集是否包含 IAM 資源。如此一來，當您執行變更集時，就 AWS CloudFormation 具有建立 IAM 資源的必要功能。</p>
            <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>重要</h6></div><div class="awsdocs-note-text"><p>如果您的堆疊集範本參考了一或多個巨集，您必須直接從處理的範本建立堆疊集，而不必先檢視變更集中產生的變更。若要直接建立或更新堆疊集，您必須使用<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_CreateStackSet.html"><code class="code">CreateStackSet</code></a>或<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_UpdateStackSet.html"><code class="code">UpdateStackSet</code></a>動作並指定<code class="code">CAPABILITY_AUTO_EXPAND</code>功能。從直接參考巨集的範本建立或更新堆疊集之前，請確定您知道巨集會執行哪些處理操作。</p></div></div>
            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注意</h6></div><div class="awsdocs-note-text"><p>如果您可以直接透過處理範本安心建立或更新堆疊，無需先在變更集中審核建議的變更，則可在 <code class="code">CreateStack</code> 或 <code class="code">UpdateStack</code> 請求中指定 <code class="code">CAPABILITY_AUTO_EXPAND</code> 功能這麼做。如果您知道巨集執行哪些處理，您應只直接透過包含巨集的堆疊範本來建立堆疊。您不能將變更集與堆疊集巨集一起使用；您必須直接更新堆疊集。</p><p>如需詳細資訊，請參閱 <em>AWS CloudFormation API 參考<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_UpdateStack.html"><code class="code">UpdateStack</code></a></em>中的<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_CreateStack.html"><code class="code">CreateStack</code></a>或。</p></div></div>
            <p>如果您使用 AWS CLI，則可以使用<code class="code">package</code>和<code class="code">deploy</code>指令減少從參考巨集的範本啟動堆疊的步驟數。如需詳細資訊，請參閱《AWS Lambda 開發人員指南》中的<a href="https://docs.aws.amazon.com/lambda/latest/dg/deploying-lambda-apps.html">部署 Lambda 型應用程式</a>。</p>
         
   
        <h3 id="template-macros-template-stage">模板舞台和 CloudFormation 宏</h3>
            <p>範本的<em>階段</em>會指出範本是原始使用者提交的範本，還是 AWS CloudFormation 已經處理巨集的範本。</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem"><p><code class="code">Original</code>：使用者最初提交以建立或更新堆疊或堆疊集的範本。</p></li><li class="listitem"><p><code class="code">Processed</code>： AWS CloudFormation 用於在處理任何引用的宏後創建或更新堆棧或堆棧集的模板。即使原始範本是 YAML 格式，處理過的範本會變成 JSON 格式。</p></li></ul></div>
            <p>使用處理過的範本針對堆疊問題進行故障診斷。如果範本未參考巨集，則原始範本和處理過的範本會相同。</p>
            <p>您可以使用 AWS CloudFormation <a href="./cfn-console-view-stack-data-resources.html">控制台</a>或<a href="./using-cfn-get-template.html">AWS CLI</a>查看堆棧模板的階段。</p>
            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注意</h6></div><div class="awsdocs-note-text"><p>已處理堆疊範本直接傳遞到 <code class="code">CreateStack</code>、<code class="code">UpdateStack</code> 或 <code class="code">ValidateTemplate</code> 請求時的大小上限是 51,200 位元組，當使用 Amazon S3 範本的 URL 作為 S3 物件傳遞時的大小上限是 1 MB。但是，在處理 CloudFormation 期間，範本會依序處理範本中包含的巨集而更新暫時狀態。因此，<em>在處理期間</em>範本的大小可能會暫時超過完整處理範本的允許大小。  CloudFormation 允許這些進程中的模板的一些緩衝區。不過，您在設計範本和巨集時應謹記處理堆疊範本的允許大小上限。</p><p>如果在處理範本時 CloudFormation 傳回<code class="code">Transformation data limit exceeded</code>錯誤，表示您的範本已超過處理期間 CloudFormation 允許的範本大小上限。</p><p>若要解決這個問題，請考量下列解決方案：</p><div class="itemizedlist">
                     
                     
                <ul class="itemizedlist"><li class="listitem"><p>將範本重建為多個範本，以避免超過處理中範本的大小上限。例如：</p>
                        <div class="itemizedlist">
                             
                             
                        <ul class="itemizedlist"><li class="listitem"><p>使用巢狀堆疊範本，來封裝部分範本。如需詳細資訊，請參閱 <a href="./using-cfn-nested-stacks.html">使用巢狀堆疊</a>。</p></li><li class="listitem"><p>建立多個堆疊，並使用跨堆疊參考來在這些堆疊之間交換資訊。如需詳細資訊，請參閱 <a href="./walkthrough-crossstackref.html">演練：參考在另一個 AWS CloudFormation 堆疊中的資源輸出</a>。</p></li></ul></div>
                    </li><li class="listitem"><p>減少給定宏返回的模板片段的大小。  CloudFormation 不會篡改宏返回的片段的內容。</p></li></ul></div></div></div>
         
        
        <div class="procedure"><h6>在範本中使用 AWS CloudFormation 巨集的步驟</h6><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注意</h6></div><div class="awsdocs-note-text"><p> AWS CloudFormation 若要成功執行範本中參考的巨集，使用者必須擁有基礎 Lambda 函數的<code class="code">Invoke</code>權限。如需詳細資訊，請參<a href="https://docs.aws.amazon.com/lambda/latest/dg/access-control-overview.html">閱<em>AWS Lambda 開發人員指南</em>中的管理 AWS Lambda 資源存取權限</a>概觀。</p></div></div><ol><li>
                <p>在範本中包含巨集的參考。</p>
                <div class="itemizedlist">
                     
                      
                <ul class="itemizedlist"><li class="listitem">
                        <p>若要處理範本程式碼片段，請在 <code class="code"><a href="./intrinsic-function-reference-transform.html">Fn::Transform</a></code> 函數 (位置相對於您想要處理的範本內容) 中參考巨集。</p>
                    </li><li class="listitem">
                        <p>若要處理整個範本，請在範本的 <a href="./transform-section-structure.html">轉換</a> 區段中參考巨集。</p>
                    </li></ul></div>
            </li><li>
                <p>使用範本<a href="./using-cfn-updating-stacks-changesets-create.html">建立變更集</a>。</p>
                <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>重要</h6></div><div class="awsdocs-note-text"><p>如果您的堆疊集範本參考了一或多個巨集，您必須直接從處理的範本建立堆疊集，而不必先檢視變更集中產生的變更。若要直接建立或更新堆疊集，您必須使用<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_CreateStackSet.html"><code class="code">CreateStackSet</code></a>或<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_UpdateStackSet.html"><code class="code">UpdateStackSet</code></a>動作並指定<code class="code">CAPABILITY_AUTO_EXPAND</code>功能。從直接參考巨集的範本建立或更新堆疊集之前，請確定您知道巨集會執行哪些處理操作。</p></div></div>
            </li><li>
                <p>檢閱和<a href="./using-cfn-updating-stacks-changesets-execute.html">執行變更集</a>。</p>
                <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>重要</h6></div><div class="awsdocs-note-text"><p>如果您的堆疊集範本參考了一或多個巨集，您必須直接從處理的範本建立堆疊集，而不必先檢視變更集中產生的變更。若要直接建立或更新堆疊集，您必須使用<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_CreateStackSet.html"><code class="code">CreateStackSet</code></a>或<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_UpdateStackSet.html"><code class="code">UpdateStackSet</code></a>動作並指定<code class="code">CAPABILITY_AUTO_EXPAND</code>功能。從直接參考巨集的範本建立或更新堆疊集之前，請確定您知道巨集會執行哪些處理操作。</p></div></div>
            </li></ol></div>

     
        <h2 id="template-macros-examples-list">巨集範例</h2>
        <p>除了本指南中的<a href="./macros-example.html">巨集範例：建立和使用巨集</a>逐步解說之外，您還可以在上的 <a href="https://github.com/awslabs" rel="noopener noreferrer" target="_blank"><span>Amazon Web Services-Labs</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> 存放庫的<a href="https://github.com/awslabs/aws-cloudformation-templates/tree/master/aws/services/CloudFormation/MacrosExamples/" rel="noopener noreferrer" target="_blank"><span>巨集範例區段中找到範例巨集</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>，包括原始程式碼和範本 GitHub。這些範例「按現狀」提供作為教學用途。</p>
    <h2 id="template-macros-seealso">另請參閱</h2>
        <p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-macro.html">AWS::CloudFormation::Macro</a></p>

        <p><a href="./transform-section-structure.html">轉換</a></p>
        <p><a href="./intrinsic-function-reference-transform.html">Fn::Transform</a></p>
        
        <p><a href="./transform-aws-serverless.html">AWS::Serverless 轉換程序</a></p>
        <p><a href="./create-reusable-transform-function-snippets-and-add-to-your-template-with-aws-include-transform.html">AWS::Include 轉換程序</a></p>
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="警告" /> <strong>您的瀏覽器已停用或無法使用 Javascript。</strong></p><p>您必須啟用 Javascript，才能使用 AWS 文件。請參閱您的瀏覽器說明頁以取得說明。</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">文件慣用形式</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./crpg-ref-requesttypes-update.html">更新</div><div id="next" class="next-link" accesskey="n" href="./macros-example.html">巨集範例：建立和使用巨集</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">此頁面是否有幫助？ - 是</div><div class="content"><p>感謝您，讓我們知道我們做得很好！</p><p>若您有空，歡迎您告知我們值得讚許的地方，這樣才能保持良好服務。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="意見回饋" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/template-macros.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">此頁面是否有幫助？ - 否</div><div class="content"><p>感謝讓我們知道此頁面仍須改善。很抱歉，讓您失望。</p><p>若您有空，歡迎您提供改善文件的方式。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="意見回饋" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/template-macros.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>