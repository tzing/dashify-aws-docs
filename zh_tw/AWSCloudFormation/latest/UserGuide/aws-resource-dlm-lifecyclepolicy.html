<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>AWS::DLM::LifecyclePolicy - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="aws-resource-dlm-lifecyclepolicy" /><meta name="default_state" content="aws-resource-dlm-lifecyclepolicy" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-dlm-lifecyclepolicy.html" /><meta name="description" content="Specifies a lifecycle policy, which is used to automate operations on Amazon EBS resources." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Create and manage AWS infrastructure deployments predictably and repeatedly using AWS CloudFormation with this User Guide." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json;toc-AWS_DLM.json" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-dlm-lifecyclepolicy.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-dlm-lifecyclepolicy.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-dlm-lifecyclepolicy.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-dlm-lifecyclepolicy.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-dlm-lifecyclepolicy.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-dlm-lifecyclepolicy.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-dlm-lifecyclepolicy.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-resource-dlm-lifecyclepolicy.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-resource-dlm-lifecyclepolicy.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-resource-dlm-lifecyclepolicy.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-resource-dlm-lifecyclepolicy.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-resource-dlm-lifecyclepolicy.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-resource-dlm-lifecyclepolicy.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-resource-dlm-lifecyclepolicy.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-resource-dlm-lifecyclepolicy.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-dlm-lifecyclepolicy.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-dlm-lifecyclepolicy.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-resource-dlm-lifecyclepolicy.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-resource-dlm-lifecyclepolicy.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/aws-resource-dlm-lifecyclepolicy.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/aws-resource-dlm-lifecyclepolicy.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-dlm-lifecyclepolicy.html" hreflang="x-default" /><meta name="feedback-item" content="EBS" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="AWS::DLM::LifecyclePolicy" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>AWS::DLM::LifecyclePolicy - AWS CloudFormation</title><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=EBS&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-dlm-lifecyclepolicy.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-dlm-lifecyclepolicy.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-dlm-lifecyclepolicy.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Amazon Data Lifecycle Manager resource type reference",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/AWS_DLM.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "AWS::DLM::LifecyclePolicy",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/AWS_DLM.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="AWS_DLM.html">User Guide</a></div><div id="page-toc-src"><a href="#aws-resource-dlm-lifecyclepolicy-syntax">Syntax</a><a href="#aws-resource-dlm-lifecyclepolicy-properties">Properties</a><a href="#aws-resource-dlm-lifecyclepolicy-return-values">Return values</a><a href="#aws-resource-dlm-lifecyclepolicy--examples">Examples</a><a href="#aws-resource-dlm-lifecyclepolicy--seealso">See also</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="aws-resource-dlm-lifecyclepolicy">AWS::DLM::LifecyclePolicy</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Specifies a lifecycle policy, which is used to automate operations on Amazon EBS resources.</p><p>The properties are required when you add a lifecycle policy and optional when you update a lifecycle policy.</p><h2 id="aws-resource-dlm-lifecyclepolicy-syntax">Syntax</h2><p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p><div id="JSON" name="JSON" class="section langfilter"><h3 id="aws-resource-dlm-lifecyclepolicy-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Type" : "AWS::DLM::LifecyclePolicy",
  "Properties" : <span>{</span>
      "<a href="#cfn-dlm-lifecyclepolicy-copytags">CopyTags</a>" : <code class="replaceable">Boolean</code>,
      "<a href="#cfn-dlm-lifecyclepolicy-createinterval">CreateInterval</a>" : <code class="replaceable">Integer</code>,
      "<a href="#cfn-dlm-lifecyclepolicy-crossregioncopytargets">CrossRegionCopyTargets</a>" : <code class="replaceable">Json</code>,
      "<a href="#cfn-dlm-lifecyclepolicy-defaultpolicy">DefaultPolicy</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-dlm-lifecyclepolicy-description">Description</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-dlm-lifecyclepolicy-exclusions">Exclusions</a>" : <code class="replaceable"><a href="./aws-properties-dlm-lifecyclepolicy-exclusions.html">Exclusions</a></code>,
      "<a href="#cfn-dlm-lifecyclepolicy-executionrolearn">ExecutionRoleArn</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-dlm-lifecyclepolicy-extenddeletion">ExtendDeletion</a>" : <code class="replaceable">Boolean</code>,
      "<a href="#cfn-dlm-lifecyclepolicy-policydetails">PolicyDetails</a>" : <code class="replaceable"><a href="./aws-properties-dlm-lifecyclepolicy-policydetails.html">PolicyDetails</a></code>,
      "<a href="#cfn-dlm-lifecyclepolicy-retaininterval">RetainInterval</a>" : <code class="replaceable">Integer</code>,
      "<a href="#cfn-dlm-lifecyclepolicy-state">State</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-dlm-lifecyclepolicy-tags">Tags</a>" : <code class="replaceable">[ <a href="./aws-properties-dlm-lifecyclepolicy-tag.html">Tag</a>, ... ]</code>
    }
}
</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h3 id="aws-resource-dlm-lifecyclepolicy-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Type: AWS::DLM::LifecyclePolicy
Properties:
  <a href="#cfn-dlm-lifecyclepolicy-copytags">CopyTags</a>: <code class="replaceable">Boolean</code>
  <a href="#cfn-dlm-lifecyclepolicy-createinterval">CreateInterval</a>: <code class="replaceable">Integer</code>
  <a href="#cfn-dlm-lifecyclepolicy-crossregioncopytargets">CrossRegionCopyTargets</a>: <code class="replaceable">Json</code>
  <a href="#cfn-dlm-lifecyclepolicy-defaultpolicy">DefaultPolicy</a>: <code class="replaceable">String</code>
  <a href="#cfn-dlm-lifecyclepolicy-description">Description</a>: <code class="replaceable">String</code>
  <a href="#cfn-dlm-lifecyclepolicy-exclusions">Exclusions</a>: <code class="replaceable">
    <a href="./aws-properties-dlm-lifecyclepolicy-exclusions.html">Exclusions</a></code>
  <a href="#cfn-dlm-lifecyclepolicy-executionrolearn">ExecutionRoleArn</a>: <code class="replaceable">String</code>
  <a href="#cfn-dlm-lifecyclepolicy-extenddeletion">ExtendDeletion</a>: <code class="replaceable">Boolean</code>
  <a href="#cfn-dlm-lifecyclepolicy-policydetails">PolicyDetails</a>: <code class="replaceable">
    <a href="./aws-properties-dlm-lifecyclepolicy-policydetails.html">PolicyDetails</a></code>
  <a href="#cfn-dlm-lifecyclepolicy-retaininterval">RetainInterval</a>: <code class="replaceable">Integer</code>
  <a href="#cfn-dlm-lifecyclepolicy-state">State</a>: <code class="replaceable">String</code>
  <a href="#cfn-dlm-lifecyclepolicy-tags">Tags</a>: <code class="replaceable">
    - <a href="./aws-properties-dlm-lifecyclepolicy-tag.html">Tag</a></code>
</code></pre></div><h2 id="aws-resource-dlm-lifecyclepolicy-properties">Properties</h2><div class="variablelist"><dl><dt id="cfn-dlm-lifecyclepolicy-copytags"><span class="term"><code class="code">CopyTags</code></span></dt><dd>
         <p>
            <b>[Default policies only]</b> Indicates whether the policy should copy tags from the source resource 
			to the snapshot or AMI. If you do not specify a value, the default is <code class="code">false</code>.</p>
         <p>Default: false</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: Boolean</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-dlm-lifecyclepolicy-createinterval"><span class="term"><code class="code">CreateInterval</code></span></dt><dd>
         <p>
            <b>[Default policies only]</b> Specifies how often the policy should run and create snapshots or AMIs. 
			The creation frequency can range from 1 to 7 days. If you do not specify a value, the 
			default is 1.</p>
         <p>Default: 1</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: Integer</p><p><em>Minimum</em>: <code class="code">1</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-dlm-lifecyclepolicy-crossregioncopytargets"><span class="term"><code class="code">CrossRegionCopyTargets</code></span></dt><dd>
         <p>
            <b>[Default policies only]</b> Specifies destination Regions for snapshot or AMI copies. You can specify 
			up to 3 destination Regions. If you do not want to create cross-Region copies, omit this 
			parameter.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: Json</p><p><em>Minimum</em>: <code class="code">0</code></p><p><em>Maximum</em>: <code class="code">3</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-dlm-lifecyclepolicy-defaultpolicy"><span class="term"><code class="code">DefaultPolicy</code></span></dt><dd>
         <p>
            <b>[Default policies only]</b> Specify the type of default policy to create.</p>
         <div class="itemizedlist">
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>To create a default policy for EBS snapshots, that creates snapshots of all volumes in the
					Region that do not have recent backups, specify <code class="code">VOLUME</code>.</p>
            </li><li class="listitem">
               <p>To create a default policy for EBS-backed AMIs, that creates EBS-backed 
					AMIs from all instances in the Region that do not have recent backups, specify 
					<code class="code">INSTANCE</code>.</p>
            </li></ul></div>
      <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Allowed values</em>: <code class="code">VOLUME | INSTANCE</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-dlm-lifecyclepolicy-description"><span class="term"><code class="code">Description</code></span></dt><dd>
         <p>A description of the lifecycle policy. The characters ^[0-9A-Za-z _-]+$ are
			supported.</p>
      <p><em>Required</em>: Conditional</p><p><em>Type</em>: String</p><p><em>Pattern</em>: <code class="code">[0-9A-Za-z _-]+</code></p><p><em>Minimum</em>: <code class="code">0</code></p><p><em>Maximum</em>: <code class="code">500</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-dlm-lifecyclepolicy-exclusions"><span class="term"><code class="code">Exclusions</code></span></dt><dd>
         <p>
            <b>[Default policies only]</b> Specifies exclusion parameters for volumes or instances for which you 
			do not want to create snapshots or AMIs. The policy will not create snapshots or AMIs 
			for target resources that match any of the specified exclusion parameters.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: <a href="./aws-properties-dlm-lifecyclepolicy-exclusions.html">Exclusions</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-dlm-lifecyclepolicy-executionrolearn"><span class="term"><code class="code">ExecutionRoleArn</code></span></dt><dd>
         <p>The Amazon Resource Name (ARN) of the IAM role used to run the operations specified by
			the lifecycle policy.</p>
      <p><em>Required</em>: Conditional</p><p><em>Type</em>: String</p><p><em>Pattern</em>: <code class="code">arn:aws(-[a-z]<span>{</span>1,3})<span>{</span>0,2}:iam::\d+:role/.*</code></p><p><em>Minimum</em>: <code class="code">0</code></p><p><em>Maximum</em>: <code class="code">2048</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-dlm-lifecyclepolicy-extenddeletion"><span class="term"><code class="code">ExtendDeletion</code></span></dt><dd>
         <p>
            <b>[Default policies only]</b> Defines the snapshot or AMI retention behavior for the policy if the 
			source volume or instance is deleted, or if the policy enters the error, disabled, or 
			deleted state.</p>
         <p>By default (<b>ExtendDeletion=false</b>):</p>
         <div class="itemizedlist">
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>If a source resource is deleted, Amazon Data Lifecycle Manager will continue to delete previously 
				created snapshots or AMIs, up to but not including the last one, based on the 
				specified retention period. If you want Amazon Data Lifecycle Manager to delete all snapshots or AMIs, 
				including the last one, specify <code class="code">true</code>.</p>
            </li><li class="listitem">
               <p>If a policy enters the error, disabled, or deleted state, Amazon Data Lifecycle Manager stops deleting 
					snapshots and AMIs. If you want Amazon Data Lifecycle Manager to continue deleting snapshots or AMIs, 
					including the last one, if the policy enters one of these states, specify 
					<code class="code">true</code>.</p>
            </li></ul></div>
         <p>If you enable extended deletion (<b>ExtendDeletion=true</b>), 
			you override both default behaviors simultaneously.</p>
         <p>If you do not specify a value, the default is <code class="code">false</code>.</p>
         <p>Default: false</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: Boolean</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-dlm-lifecyclepolicy-policydetails"><span class="term"><code class="code">PolicyDetails</code></span></dt><dd>
         <p>The configuration details of the lifecycle policy.</p>
         <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>If you create a default policy, you can specify the request parameters either in  
				the request body, or in the PolicyDetails request structure, but not both.</p></div></div>
      <p><em>Required</em>: Conditional</p><p><em>Type</em>: <a href="./aws-properties-dlm-lifecyclepolicy-policydetails.html">PolicyDetails</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-dlm-lifecyclepolicy-retaininterval"><span class="term"><code class="code">RetainInterval</code></span></dt><dd>
         <p>
            <b>[Default policies only]</b> Specifies how long the policy should retain snapshots or AMIs before 
			deleting them. The retention period can range from 2 to 14 days, but it must be greater 
			than the creation frequency to ensure that the policy retains at least 1 snapshot or 
			AMI at any given time. If you do not specify a value, the default is 7.</p>
         <p>Default: 7</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: Integer</p><p><em>Minimum</em>: <code class="code">1</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-dlm-lifecyclepolicy-state"><span class="term"><code class="code">State</code></span></dt><dd>
         <p>The activation state of the lifecycle policy.</p>
      <p><em>Required</em>: Conditional</p><p><em>Type</em>: String</p><p><em>Allowed values</em>: <code class="code">ENABLED | DISABLED | ERROR</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-dlm-lifecyclepolicy-tags"><span class="term"><code class="code">Tags</code></span></dt><dd>
         <p>The tags to apply to the lifecycle policy during creation.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: Array of <a href="./aws-properties-dlm-lifecyclepolicy-tag.html">Tag</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd></dl></div><h2 id="aws-resource-dlm-lifecyclepolicy-return-values">Return values</h2><h3 id="aws-resource-dlm-lifecyclepolicy-return-values-ref">Ref</h3><p>
         When you pass the logical ID of this resource to the intrinsic <code class="code">Ref</code> function, <code class="code">Ref</code> returns the ID of the lifecycle policy.</p><p>For more information about using the <code class="code">Ref</code> function, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-ref.html"><code class="code">Ref</code></a>.</p><h3 id="aws-resource-dlm-lifecyclepolicy-return-values-fn--getatt">Fn::GetAtt</h3><p>The <code class="code">Fn::GetAtt</code> intrinsic function returns a value for a specified attribute of this type. The following are the available attributes and sample return values.</p>
<p>For more information about using the <code class="code">Fn::GetAtt</code> intrinsic function, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-getatt.html"><code class="code">Fn::GetAtt</code></a>.</p><h4 id="aws-resource-dlm-lifecyclepolicy-return-values-fn--getatt-fn--getatt"></h4><div class="variablelist"><dl><dt id="Arn-fn::getatt"><span class="term"><code class="code">Arn</code></span></dt><dd>
      <p>The Amazon Resource Name (ARN) of the lifecycle policy.</p>
   </dd></dl></div><h2 id="aws-resource-dlm-lifecyclepolicy--examples">Examples</h2><h3 id="aws-resource-dlm-lifecyclepolicy--examples--Creating_a_Lifecycle_Policy">Creating a Lifecycle Policy</h3><p>The following example demonstrates how to create a basic snapshot lifecycle policy with a cross-Region copy rule.</p><div id="JSON" name="JSON" class="section langfilter"><h4 id="aws-resource-dlm-lifecyclepolicy--examples--Creating_a_Lifecycle_Policy--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Description": "Basic LifecyclePolicy",
    "Resources": <span>{</span>
        "BasicLifecyclePolicy": <span>{</span>
            "Type": "AWS::DLM::LifecyclePolicy",
            "Properties": <span>{</span>
                "Description": "Lifecycle Policy using CloudFormation",
                "State": "ENABLED",
                "ExecutionRoleArn": "arn:aws:iam::123456789012:role/service-role/AWSDataLifecycleManagerDefaultRole",
                "PolicyDetails": <span>{</span>
                    "ResourceTypes": [
                        "VOLUME"
                    ],
                    "TargetTags": [<span>{</span>
                        "Key": "costcenter",
                        "Value": "115"
                    }],
                    "Schedules": [<span>{</span>
                        "Name": "Daily Snapshots",
                        "TagsToAdd": [<span>{</span>
                            "Key": "type",
                            "Value": "DailySnapshot"
                        }],
                        "CreateRule": <span>{</span>
                            "Interval": 12,
                            "IntervalUnit": "HOURS",
                            "Times": [
                                "13:00"
                            ]
                        },
                        "RetainRule": <span>{</span>
                            "Count": 1
                        },
                        "CopyTags": true,
                        "CrossRegionCopyRules": [<span>{</span>
                            "Encrypted": false,
                            "Target": "us-east-1"
                        }]
                   }]
               }
           }
        }
    }
}</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-resource-dlm-lifecyclepolicy--examples--Creating_a_Lifecycle_Policy--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Description: Basic LifecyclePolicy
Resources:
  BasicLifecyclePolicy:
    Type: AWS::DLM::LifecyclePolicy
    Properties:
      Description: Lifecycle Policy using CloudFormation
      State: ENABLED
      ExecutionRoleArn: arn:aws:iam::123456789012:role/service-role/AWSDataLifecycleManagerDefaultRole
      PolicyDetails:
        ResourceTypes:
        - VOLUME
        TargetTags:
        - Key: costcenter
          Value: '115'
        Schedules:
        - Name: Daily Snapshots
          TagsToAdd:
          - Key: type
            Value: DailySnapshot
          CreateRule:
            Interval: 12
            IntervalUnit: HOURS
            Times:
            - '13:00'
          RetainRule:
            Count: 1
          CopyTags: true
          CrossRegionCopyRules:
          - Encrypted: false
            Target: us-east-1</code></pre></div><h2 id="aws-resource-dlm-lifecyclepolicy--seealso">See also</h2><div class="itemizedlist">
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>
                  <a href="https://docs.aws.amazon.com/dlm/latest/APIReference/API_CreateLifecyclePolicy.html">CreateLifecyclePolicy</a> in the
                  <em>Amazon Data Lifecycle Manager API Reference</em>
               </p>
            </li><li class="listitem">
               <p>
                  <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/snapshot-lifecycle.html">Automating the Amazon EBS Snapshot Lifecycle</a>
                  in the <em>Amazon Elastic Compute Cloud User Guide</em>
               </p>
            </li></ul></div><p></p><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./AWS_DLM.html">Amazon Data Lifecycle Manager</div><div id="next" class="next-link" accesskey="n" href="./aws-properties-dlm-lifecyclepolicy-action.html">Action</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=EBS&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-dlm-lifecyclepolicy.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=EBS&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-dlm-lifecyclepolicy.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>