<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>AWS::Logs::LogAnomalyDetector - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="aws-resource-logs-loganomalydetector" /><meta name="default_state" content="aws-resource-logs-loganomalydetector" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-logs-loganomalydetector.html" /><meta name="description" content="Use the AWS CloudFormation AWS::Logs::LogAnomalyDetector resource for Logs." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Create and manage AWS infrastructure deployments predictably and repeatedly using AWS CloudFormation with this User Guide." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json;toc-AWS_Logs.json" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-logs-loganomalydetector.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-logs-loganomalydetector.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-logs-loganomalydetector.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-logs-loganomalydetector.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-logs-loganomalydetector.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-logs-loganomalydetector.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-logs-loganomalydetector.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-resource-logs-loganomalydetector.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-resource-logs-loganomalydetector.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-resource-logs-loganomalydetector.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-resource-logs-loganomalydetector.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-resource-logs-loganomalydetector.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-resource-logs-loganomalydetector.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-resource-logs-loganomalydetector.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-resource-logs-loganomalydetector.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-logs-loganomalydetector.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-logs-loganomalydetector.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-resource-logs-loganomalydetector.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-resource-logs-loganomalydetector.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/aws-resource-logs-loganomalydetector.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/aws-resource-logs-loganomalydetector.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-logs-loganomalydetector.html" hreflang="x-default" /><meta name="feedback-item" content="CloudWatch Logs" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="AWS::Logs::LogAnomalyDetector" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>AWS::Logs::LogAnomalyDetector - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudWatch%20Logs&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-logs-loganomalydetector.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-logs-loganomalydetector.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-logs-loganomalydetector.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Amazon CloudWatch Logs resource type reference",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/AWS_Logs.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "AWS::Logs::LogAnomalyDetector",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/AWS_Logs.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="AWS_Logs.html">User Guide</a></div><div id="page-toc-src"><a href="#aws-resource-logs-loganomalydetector-syntax">Syntax</a><a href="#aws-resource-logs-loganomalydetector-properties">Properties</a><a href="#aws-resource-logs-loganomalydetector-return-values">Return values</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="aws-resource-logs-loganomalydetector">AWS::Logs::LogAnomalyDetector</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Creates or updates an <em>anomaly detector</em> that regularly scans one or more 
      log groups and look for patterns
      and anomalies in the logs.</p><p>An anomaly detector can help surface issues by automatically discovering anomalies in your log event traffic. 
         An anomaly detector uses machine learning algorithms to scan log events and find <em>patterns</em>.
         
         A pattern is a shared text structure that recurs among your log fields.  Patterns provide a useful tool for 
         analyzing large sets of logs because a large number of log events can often be
         compressed into a few patterns.</p><p>The anomaly detector uses pattern recognition to find <code class="code">anomalies</code>, which are unusual log 
         events. It compares current log events and patterns
         with trained baselines. </p><p>Fields within a pattern are called <em>tokens</em>.
         Fields that vary within a pattern, such as a 
         request ID or timestamp, are referred to as <em>dynamic tokens</em> and
         represented by <code class="code">&lt;*&gt;</code>. </p><p>For more information see <a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/LogsAnomalyDetection.html">Log anomaly detection</a>.</p><h2 id="aws-resource-logs-loganomalydetector-syntax">Syntax</h2><p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p><div id="JSON" name="JSON" class="section langfilter"><h3 id="aws-resource-logs-loganomalydetector-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Type" : "AWS::Logs::LogAnomalyDetector",
  "Properties" : <span>{</span>
      "<a href="#cfn-logs-loganomalydetector-accountid">AccountId</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-logs-loganomalydetector-anomalyvisibilitytime">AnomalyVisibilityTime</a>" : <code class="replaceable">Number</code>,
      "<a href="#cfn-logs-loganomalydetector-detectorname">DetectorName</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-logs-loganomalydetector-evaluationfrequency">EvaluationFrequency</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-logs-loganomalydetector-filterpattern">FilterPattern</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-logs-loganomalydetector-kmskeyid">KmsKeyId</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-logs-loganomalydetector-loggrouparnlist">LogGroupArnList</a>" : <code class="replaceable">[ String, ... ]</code>
    }
}
</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h3 id="aws-resource-logs-loganomalydetector-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Type: AWS::Logs::LogAnomalyDetector
Properties:
  <a href="#cfn-logs-loganomalydetector-accountid">AccountId</a>: <code class="replaceable">String</code>
  <a href="#cfn-logs-loganomalydetector-anomalyvisibilitytime">AnomalyVisibilityTime</a>: <code class="replaceable">Number</code>
  <a href="#cfn-logs-loganomalydetector-detectorname">DetectorName</a>: <code class="replaceable">String</code>
  <a href="#cfn-logs-loganomalydetector-evaluationfrequency">EvaluationFrequency</a>: <code class="replaceable">String</code>
  <a href="#cfn-logs-loganomalydetector-filterpattern">FilterPattern</a>: <code class="replaceable">String</code>
  <a href="#cfn-logs-loganomalydetector-kmskeyid">KmsKeyId</a>: <code class="replaceable">String</code>
  <a href="#cfn-logs-loganomalydetector-loggrouparnlist">LogGroupArnList</a>: <code class="replaceable">
    - String</code>
</code></pre></div><h2 id="aws-resource-logs-loganomalydetector-properties">Properties</h2><div class="variablelist"><dl><dt id="cfn-logs-loganomalydetector-accountid"><span class="term"><code class="code">AccountId</code></span></dt><dd>
      <p>The ID of the account to create the anomaly detector in.</p>
   <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-logs-loganomalydetector-anomalyvisibilitytime"><span class="term"><code class="code">AnomalyVisibilityTime</code></span></dt><dd>  <p>The number of days to have visibility on an anomaly. After this time period has elapsed for an anomaly, 
      it will be automatically baselined and the anomaly detector will treat new occurrences of a similar anomaly as 
      normal. Therefore, 
      if you do not correct the cause of an 
      anomaly during the time period specified in <code class="code">AnomalyVisibilityTime</code>, it will be considered normal 
      going forward and will not be detected as an anomaly.</p><p><em>Required</em>: No</p><p><em>Type</em>: Number</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-logs-loganomalydetector-detectorname"><span class="term"><code class="code">DetectorName</code></span></dt><dd><p>A name for this anomaly detector.</p><p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-logs-loganomalydetector-evaluationfrequency"><span class="term"><code class="code">EvaluationFrequency</code></span></dt><dd>
      <p>Specifies how often the anomaly detector is to run and look for anomalies. Set this value
         according to the frequency that the log group receives new logs. For example, if the log group
         receives new log events every 10 minutes, then 15 minutes might be a good setting for 
         <code class="code">EvaluationFrequency</code> .</p><p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Allowed values</em>: <code class="code">FIVE_MIN | TEN_MIN | FIFTEEN_MIN | THIRTY_MIN | ONE_HOUR</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-logs-loganomalydetector-filterpattern"><span class="term"><code class="code">FilterPattern</code></span></dt><dd>
      <p>You can use this parameter to limit the anomaly detection model to examine only log events
         that match the pattern you specify here. For more information, see <a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/FilterAndPatternSyntax.html">Filter and Pattern Syntax</a>.</p>
   <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-logs-loganomalydetector-kmskeyid"><span class="term"><code class="code">KmsKeyId</code></span></dt><dd> <p>Optionally assigns a AWS KMS key to secure this anomaly detector and its findings. If a key is 
      assigned, the anomalies found and the model used by this detector are encrypted at rest with the key. If 
      a key is assigned to an anomaly detector, a user must have permissions for both this key and for the 
      anomaly detector to retrieve information about the anomalies that it finds.</p>
      <p>For more information about using a AWS KMS key and to see the required IAM
         policy, see <a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/LogsAnomalyDetection-KMS.html">Use a AWS KMS key with an anomaly detector</a>.</p>
   <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Maximum</em>: <code class="code">256</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-logs-loganomalydetector-loggrouparnlist"><span class="term"><code class="code">LogGroupArnList</code></span></dt><dd><p>The ARN of the log group that
   is associated with this anomaly detector. You can specify  only one log group ARN.</p><p><em>Required</em>: No</p><p><em>Type</em>: Array of String</p><p><em>Minimum</em>: <code class="code">20</code></p><p><em>Maximum</em>: <code class="code">2048</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd></dl></div><h2 id="aws-resource-logs-loganomalydetector-return-values">Return values</h2><h3 id="aws-resource-logs-loganomalydetector-return-values-ref">Ref</h3><h3 id="aws-resource-logs-loganomalydetector-return-values-fn--getatt">Fn::GetAtt</h3><p>The <code class="code">Fn::GetAtt</code> intrinsic function returns a value for a specified attribute of this type. The following are the available attributes and sample return values.</p>
<p>For more information about using the <code class="code">Fn::GetAtt</code> intrinsic function, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-getatt.html"><code class="code">Fn::GetAtt</code></a>.</p><h4 id="aws-resource-logs-loganomalydetector-return-values-fn--getatt-fn--getatt"></h4><div class="variablelist"><dl><dt id="AnomalyDetectorArn-fn::getatt"><span class="term"><code class="code">AnomalyDetectorArn</code></span></dt><dd><p>The ARN of the anomaly
   detector.</p></dd><dt id="AnomalyDetectorStatus-fn::getatt"><span class="term"><code class="code">AnomalyDetectorStatus</code></span></dt><dd> 
      <p>Specifies whether the anomaly detector is currently active.</p></dd><dt id="CreationTimeStamp-fn::getatt"><span class="term"><code class="code">CreationTimeStamp</code></span></dt><dd><p>The time that
   the anomaly detector was created.</p></dd><dt id="LastModifiedTimeStamp-fn::getatt"><span class="term"><code class="code">LastModifiedTimeStamp</code></span></dt><dd>
      <p>The time that the anomaly detector was most recently modified.</p></dd></dl></div><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./aws-resource-logs-destination.html">AWS::Logs::Destination</div><div id="next" class="next-link" accesskey="n" href="./aws-resource-logs-loggroup.html">AWS::Logs::LogGroup</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudWatch Logs&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-logs-loganomalydetector.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudWatch Logs&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-logs-loganomalydetector.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>