<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="zh-TW"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>使用公用擴充功能 CloudFormation - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="registry-public" /><meta name="default_state" content="registry-public" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/registry-public.html" /><meta name="description" content="公用擴充 CloudFormation 功能是可透過 CloudFormation 登錄提供在範本中使用的擴充功能 (例如資源類型)。公用擴充功能可由第三方發行者和AWS. CloudFormation" /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="使用者指南" /><meta name="abstract" content="使 AWS CloudFormation 用本使用者指南可預測並重複地建立和管理 AWS 基礎架構部署。" /><meta name="guide-locale" content="zh_tw" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/registry-public.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="使用者指南" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="使用者指南" /><meta id="panorama-serviceConsolePage" value="使用公用擴充功能 CloudFormation" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>使用公用擴充功能 CloudFormation - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/registry-public.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/registry-public.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/registry-public.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,資源佈建,資源組態,基礎設施管理,CloudFormer,CloudFormation 堆疊,CloudFormation 堆疊集,CloudFormation 範本,變更集合" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "使用者指南",
        "item" : "https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "使用 AWS CloudFormation 登錄",
        "item" : "https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/registry.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "使用公用擴充功能 CloudFormation",
        "item" : "https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/registry.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">文件</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">使用者指南</a></div><div id="page-toc-src"><a href="#registry-public-enable">啟用公有擴充功能</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>本文為英文版的機器翻譯版本，如內容有任何歧義或不一致之處，概以英文版為準。</p></awsui-alert><h1 class="topictitle" id="registry-public">使用公用擴充功能  CloudFormation</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p><em>公</em>用擴充 CloudFormation 功能是擴充功能 (例如資源類型或模組)，會公開發佈在登錄中供所有使用 CloudFormation者使用。這包括由 AWS 發佈的所有擴充功能。第三方也可以發佈公有擴充功能。</p><p>有兩種公有擴充功能：</p><div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><em>AWS 公有擴充功能</em> – 由 AWS 發佈的擴充功能始終為公有，並且預設已啟用，因此您不必採取動作即可在帳戶中使用它們。此外，AWS 控制擴充功能的版本控制，因此您將始終使用最新的可用版本。</p>
            </li><li class="listitem">
                <p><em>第三方公有擴充功能</em> – 這些是可供 AWS 以外的發佈者普遍使用的擴充功能。若要使用公有擴充功能，您必須先在帳戶和區域中啟用它。</p>
                <p>您可以發佈自己的第三方擴充功能，讓一般 CloudFormation 使用者可以使用它們。若要取得更多資訊，請參閱《指<em>CloudFormation 令行介面使用者指南》</em>中的〈<a href="https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/publish.html">發佈擴充</a></p>
            </li></ul></div><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注意</h6></div><div class="awsdocs-note-text"><p>與私有擴充功能一樣，來自第三方發佈者的公有擴充功能可實作在資源建立、讀取、更新、列出和刪除堆疊操作期間執行的事件處理常式。因此，在 CloudFormation 堆疊中使用這些擴充功能可能會向您的帳戶產生費用。這是在因建立資源所產生任何費用之外的額外費用。如需詳細資訊，請參閱 <a href="https://aws.amazon.com/cloudformation/pricing/" rel="noopener noreferrer" target="_blank"><span>AWS CloudFormation 定價</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>。</p></div></div>
            <h2 id="registry-public-enable">啟用公有擴充功能以在 AWS 帳戶 中使用</h2>
            <p>若要在範本中使用公有第三方擴充功能，您必須先為要在其中使用它的帳戶和區域<em>啟用</em>該擴充功能。啟用擴充功能以便用於啟用該擴充功能之帳戶和區域中的堆疊操作。當您啟用公開的第三方擴充功能時， CloudFormation 會在帳戶的擴充功能登錄中為啟用的擴充功能建立項目，做為私人擴充功能。這允許您透過以下方式<em>在帳戶中啟用擴充功能時</em>對其進行自訂：</p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>指定要使用的別名，而不是公有第三方擴充功能名稱。這有助於避免第三方擴充功能之間的命名衝突。</p>
                </li><li class="listitem">
                    <p>指定新的次要或修補程式版本可用時是否自動更新擴充功能。</p>
                </li><li class="listitem">
                    <p>指定 CloudFormation 用於啟動擴充功能的執行角色，以及設定擴充功能的記錄。</p>
                </li></ul></div>
            <p>啟用公有第三方擴充功能時，您也可以設定擴充功能包含的任何組態屬性。組態屬性定義如何為指定帳戶和區域設定擴充功能。有關組態的詳細資訊，請參閱以下內容：</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><a href="https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-model.html#resource-type-howto-configuration">定義擴充功能的帳戶層級組態</a></p>
                </li><li class="listitem">
                    <p><a href="https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/hooks-structure.html#hook-configuration-schema">掛接組態結構描述</a></p>
                </li></ul></div>
             
                <h3 id="registry-public-enable-auto">設定 CloudFormation 為自動使用新版本的擴充功能</h3>
                <p>啟用擴充功能時，您也可以指定要使用最新次要版本的擴充功能類型。發佈者在已啟用的擴充功能上發佈新版本時，擴充功能類型就會更新次要版本。</p>
                <p>例如，下次您使用包含該擴充功能的範本執行堆疊作業 (例如建立或更新堆疊) 時， CloudFormation 會使用新的次要版本。</p>
                <p>自動或手動更新為新的擴充功能版本，不會影響堆疊中已佈建的任何擴充功能執行個體。</p>
                <p>CloudFormation 將擴充功能的主要版本更新視為可能包含中斷變更，因此需要您手動更新為擴充功能的新主要版本。</p>
                <p>預設情況下，由 AWS 發佈的擴充功能針對所有可用的帳戶和區域啟用，並始終使用每個 AWS 區域 中可用的最新版本。</p>
                <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>重要</h6></div><div class="awsdocs-note-text"><p>由於您可以控制擴充功能是否以及何時更新為帳戶中的最新版本，最終可能會在不同帳戶和區域部署相同擴充功能的不同版本。</p><p>在這些帳戶和區域中使用包含該擴充功能的相同範本時，這可能會產生未預期的結果。</p></div></div>
             
             
                <h3 id="registry-public-enable-alias">指定要用來稱呼擴充功能的別名</h3>
                <p>您無法在指定帳戶和區域中使用指定名稱啟用一個以上的擴充功能。由於不同的發行者可能會提供具有相同副檔名的公用擴充功能，因此可 CloudFormation 讓您為啟用的任何第三方公用擴充功能指定別名。</p>
                <p>如果您指定擴充功能的別名，則 CloudFormation 會將別名視為帳戶和區域內的擴充功能類型名稱。您必須使用別名來參照範本、API 呼叫和 CloudFormation主控台中的擴充功能。</p>
                <p>在指定帳戶和區域中的擴充功能別名必須是唯一的。您可以使用不同類型名稱別名，在同一帳戶和區域中多次啟用相同的公有資源。</p>
                <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>重要</h6></div><div class="awsdocs-note-text"><p>雖然擴充功能別名只需要在指定帳戶和區域中為唯一，但我們強烈建議使用者<em>不要</em>為跨帳戶和區域的不同第三方公有擴充功能指派相同的別名。使用包含跨多個帳戶或區域之擴充功能別名的範本時，這樣做可能會產生未預期的結果。</p></div></div>
             
          
          <h3 id="registry-public-enable-execution-role">啟動擴充功能時指定執行角色</h3>
                <p>啟用資源時，您可以指定在帳戶和區域中叫用該擴充功能時 CloudFormation 要承擔的 IAM 執行角色。</p>
                <p> CloudFormation 若要擔任執行角色，角色必須具有使用定義的信任原則 CloudFormation。此外，透過建立 IAM 政策並連接到執行角色可授與執行操作的許可。在擴充功能結構描述的處理常式區段中定義必要許可。</p>
                <p>以下為資源類型延伸的範例 IAM 角色信任政策：</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement":[
        <span>{</span>
            "Effect": "Allow",
            "Principal":<span>{</span>
                "Service": "<b>resources.cloudformation.amazonaws.com</b>"
            },
            "Action":"sts:AssumeRole",
            "Condition":<span>{</span>
                "StringEquals":<span>{</span>
                    "aws:SourceAccount":"123456789012"
                },
                "StringLike":<span>{</span>
                    "aws:SourceArn":"arn:aws:cloudformation:us-east-1:123456789012:type/resource/Organization-Service-Resource/*"
                }
            }
        }
    ]
}</code></pre>
                <p>以下為勾點延伸的範例 IAM 角色信任政策：</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version":"2012-10-17",
    "Statement":[
        <span>{</span>
            "Effect":"Allow",
            "Principal": <span>{</span>
                "Service": [
                    "<b>resources.cloudformation.amazonaws.com</b>",
                    "<b>hooks.cloudformation.amazonaws.com</b>"
                ]
            },
            "Action":"sts:AssumeRole",
            "Condition":<span>{</span>
                "StringEquals":<span>{</span>
                    "aws:SourceAccount":"123456789012"
                },
                "StringLike":<span>{</span>
                     "aws:SourceArn":"arn:aws:cloudformation:us-east-1:123456789012:type/hook/Organization-Service-Hook/*"
                }
            }
        }
    ]
}</code></pre>
                <p>如需詳細資訊，請參閱《AWS Identity and Access Management 使用者指南》中的<a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/roles-managingrole-editing-console.html#roles-managingrole_edit-trust-policy">修改角色信任政策</a>。</p>
             
          
          <h3 id="registry-public-activate-extension">啟用登錄檔中的公有擴充功能</h3>
          <p>在 AWS CloudFormation 登錄檔中啟用擴充功能，以便使用。</p>
                 
                    <h4 id="registry-public-activate-extension-console">使用 CloudFormation 主控台啟用帳戶中使用的公用擴充功能</h4>
                    <div class="procedure"><ol><li><p>請登入 AWS Management Console，開啟位於 <a href="https://console.aws.amazon.com/cloudformation/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/cloudformation</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> 的 AWS CloudFormation 主控台。</p></li><li>

                            <p>從<b>CloudFormation</b>瀏覽窗格的<b>CloudFormation 登錄</b>下，選取 [<b>公用擴充功能</b>]。</p>
                        </li><li>
                            <p>使用 <b>Filter</b> (篩選條件) 選取擴充功能類型，然後選取 <b>Third party</b> (第三方)。(AWS 發佈的擴充功能預設為已啟用。)</p>
                        </li><li>
                            <p>選取擴充功能，然後選取 <b>Activate</b> (啟用)。</p>
                            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注意</h6></div><div class="awsdocs-note-text"><p>如果擴充功能有多個版本，您可以使用 <b>Version</b> (版本) 選單選取要啟用的擴充功能版本。預設為最新版本。</p></div></div>
                        </li><li>
                            <p>使用 <b>Activate extension</b> (啟用擴充功能) 頁面上的選項，以自訂在此帳戶中啟用擴充功能的方式。</p>
                            <div class="itemizedlist">
                                 
                                 
                                 
                                 

                            <ul class="itemizedlist"><li class="listitem">
                                    <p>若要使用擴充功能類型別名啟用擴充功能：</p>
                                    <div class="orderedlist">
                                         
                                         
                                    <ol><li>
                                            <p>選取 <b>Override default</b> (覆寫預設值)</p>
                                        </li><li>
                                            <p>輸入要搭配此擴充功能使用的擴充功能類型別名。別名必須遵循擴充功能類型的推薦格式。</p>
                                        </li></ol></div>
                                    <p>如需詳細資訊，請參閱<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/registry-public.html#registry-public-enable-alias">指定要用來稱呼擴充功能的別名</a>。</p>
                                </li><li class="listitem">
                                    <p>如果您要啟用私有資源，則可以指定在叫用擴充功能時 CloudFormation 要承擔的 IAM 角色。如需詳細資訊，請參閱<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/registry-private.html#registry-public-enable-execution-role">在啟用擴充功能時指定執行角色</a>。</p>
                                </li><li class="listitem">
                                    <p>在 <b>Logging config</b> (記錄設定) 下，指定擴充功能的記錄組態資訊 (若需要)。例如：</p>
                                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "logRoleArn": "arn:aws:iam::<em>account</em>:role/<em>rolename</em>",
    "logGroupName": "<em>log-group-name</em>"
}</code></pre>
                                    <p>記錄組態資訊不是必需的，但建議作為除錯用途使用。若要使用帶掛鉤的記錄組態，請新增與指定執行角色相同的信任政策，以便日誌角色可以將日誌寫入您的日誌群組。</p>
                                    <p><b>logRoleArn</b>和<b>logGroupName</b>鍵名是區分大小寫的。</p>
                                </li><li class="listitem">
                                    <p>在 <b>Versioning</b> (版本控制) 下，指定接收更新的方式。</p>
                                    <div class="itemizedlist">
                                         
                                         

                                    <ul class="itemizedlist"><li class="listitem">
                                            <p><b>On</b> (打開) – 自動更新為最新次要版本。主要版本需手動更新。</p>
                                        </li><li class="listitem">
                                            <p><b>Off</b> (關閉) – 永不自動更新為最新版本。所有版本需手動更新。</p>
                                        </li></ul></div>
                                    <p>如需詳細資訊，請參<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/registry-public.html#registry-public-enable-auto">閱自動 CloudFormation 使用新版擴充功能的</a>設定。</p>
                                </li></ul></div>
                        </li><li>
                            <p>指定組態資料。</p>
                            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注意</h6></div><div class="awsdocs-note-text"><p>掛鉤需要此步驟。您必須為 <code class="code">TargetStack</code> 屬性指定 <code class="code">ALL</code>。此操作將啟用<a href="https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/hooks-structure.html#hook-configuration-schema">掛鉤結構描述屬性</a>區段中定義的掛鉤屬性。</p></div></div>
                            <p>如果擴充功能需要帳戶和區域層級的其他設定， CloudFormation 請在 [<b>啟用擴充功</b>能] 頁面上加入 [<b>組態</b>] 區段。您可以選擇現在指定組態資料,或在啟用擴充功能之後指定。如果擴充功能不需要組態，您將不會看見 <b>Configuration</b> (組態) 區段。</p>
                            <div class="itemizedlist">
                                 

                                 

                            <ul class="itemizedlist"><li class="listitem">
                                    <p>若在啟用擴充功能時指定組態資料：</p>
                                    <div class="orderedlist">
                                         
                                         
                                         
                                    <ol><li>
                                            <p>選取 <b>Configure now</b> (立即設定)，然後選取 <b>Activate extension</b> (啟用擴充功能)。</p>
                                            <p>CloudFormation 顯示 <b>[設定擴充功</b>能] 頁面。若要檢視擴充功能的目前組態結構描述，請確保已啟用 <b>View configuration schema</b> (檢視組態結構描述)。</p>
                                        </li><li>
                                            <p>在 <b>Configuration JSON</b> (組態 JSON) 文字方塊中，輸入 JSON 字串，代表您要為此擴充功能指定的組態結構描述。</p>
                                        </li><li>
                                            <p>選取 <b>Configure extension</b> (設定擴充功能)。</p>
                                        </li></ol></div>
                                </li><li class="listitem">

                                    <p>若要稍後指定組態資料：</p>
                                    <div class="itemizedlist">
                                         
                                    <ul class="itemizedlist"><li class="listitem">
                                            <p>選取 <b>Configure later</b> (稍後設定)，然後選取 <b>Activate extension</b> (啟用擴充功能)。</p>
                                        </li></ul></div>
                                    <p>若要為已啟用的擴充功能指定組態資料，請造訪已啟用擴充功能的詳細資訊頁面。</p>

                                </li></ul></div>
                            <p>成功啟用擴充功能後， CloudFormation 會顯示該擴充功能的詳細資訊頁面。</p>
                        </li></ol></div>
                 

                 
                    <h4 id="registry-public-update-extension-console">使用 CloudFormation主控台更新帳戶中已啟用的公開擴充功能</h4>
                    <p>在 AWS CloudFormation 登錄檔中更新擴充功能，以便使用。</p>
                    <p>在帳戶和區域中啟用擴充功能後，您可以在啟用該擴充功能時更新下列屬性，包括：</p>
                    <div class="itemizedlist">
                         
                         
                         
                         
                    <ul class="itemizedlist"><li class="listitem">
                            <p>組態結構描述。</p>
                        </li><li class="listitem">
                            <p>是否啟用自動版本更新。</p>
                        </li><li class="listitem">
                            <p>私有已註冊擴充功能要使用的執行角色。</p>
                        </li><li class="listitem">
                            <p>記錄組態資訊。</p>
                        </li></ul></div>
                    <div class="procedure"><ol><li><p>請登入 AWS Management Console，開啟位於 <a href="https://console.aws.amazon.com/cloudformation/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/cloudformation</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> 的 AWS CloudFormation 主控台。</p></li><li>
                            <p>從<b>CloudFormation</b>瀏覽窗格的<b>CloudFormation 登錄</b>下，選取 [<b>公用擴充功能</b>]。</p>
                        </li><li>
                            <p>在 <b>Actions</b> (動作) 選單中，選取 <b>Edit</b> (編輯)，然後選取適當的編輯選項：</p>
                            <div class="itemizedlist">
                                 
                                 
                                 
                                 
                            <ul class="itemizedlist"><li class="listitem">
                                    <p>若要更新組態結構描述，請參閱<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/registry-private.html#registry-set-configuration-procedure">若要在 CloudFormation 主控台中指定擴充功能的組態特性</a></p>
                                </li><li class="listitem">
                                    <p>若要啟用或停用自動更新：</p>
                                    <div class="orderedlist">
                                         
                                         
                                    <ol><li>
                                            <p>選取 <b>Edit automatic updates</b> (編輯自動更新)。</p>
                                        </li><li>
                                            <p>選取 <b>On</b> (打開) 或者 <b>Off</b> (關閉)，然後選取 <b>Save</b> (儲存)。</p>
                                        </li></ol></div>
                                </li><li class="listitem">
                                    <p>若要更新執行角色：</p>
                                    <div class="orderedlist">
                                         
                                         
                                    <ol><li>
                                            <p>選取 <b>Edit execution role</b> (編輯執行角色)。</p>
                                        </li><li>
                                            <p><b>指定呼叫此延伸模組時 CloudFormation 要使用的 IAM 角色的 ARN，然後選取 [儲存]。</b></p>
                                        </li></ol></div>
                                </li><li class="listitem">
                                    <p>若要更新記錄組態：</p>
                                    <div class="orderedlist">
                                         
                                         
                                    <ol><li>
                                            <p>選取 <b>Edit logging config</b> (編輯記錄組態)。</p>
                                        </li><li>
                                            <p>編輯記錄組態 JSON，然後選取 <b>Save</b> (儲存)。</p>
                                        </li></ol></div>
                                </li></ul></div>

                        </li></ol></div>
                 




                 
                    <h4 id="registry-public-activate-extension-cli">使用 AWS CLI 啟用公有擴充功能，以便在帳戶中使用</h4>
                    <p>透過 AWS CLI 在 AWS CloudFormation 登錄檔中啟用擴充功能。</p>
                     
                        <h5 id="registry-public-activate-extension-hooks">啟用掛鉤</h5>
                        <p>開發並註冊掛鉤後，您可以透過將掛鉤發佈到登錄檔來啟用 AWS 帳戶 中的掛鉤。</p>
                        <div class="procedure"><ul><li>
                                <p>若要啟用帳戶中的掛鉤，請使用 <code class="code"><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_SetTypeConfiguration.html">SetTypeConfiguration</a></code> 操作。此操作將啟用掛鉤結構描述 <code class="code">properties</code> 區段中定義的掛鉤屬性。</p>
                                <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注意</h6></div><div class="awsdocs-note-text"><p>透過在帳戶中啟用掛鉤，即表示您授權掛鉤使用 AWS 帳戶 中定義的許可。CloudFormation 在將許可傳遞給掛鉤之前，會移除非必要的許可。CloudFormation 建議客戶或掛鉤使用者在帳戶中啟用掛鉤之前檢閱掛鉤許可，並留意掛鉤允許的許可。</p></div></div>
                                <p>在同一帳戶和 AWS 區域 中指定已註冊掛鉤擴充功能的組態資料。</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="userinput">aws cloudformation --region us-west-2 set-type-configuration \
  --configuration "<span>{</span>"CloudFormationConfiguration":<span>{</span>"HookConfiguration":<span>{</span>"TargetStacks": "<b>ALL</b>", "FailureMode": "FAIL", "Properties":<span>{</span>}}}}" \
  --type-arn $<code class="replaceable">HOOK_TYPE_ARN</code></code></code></pre>
                                <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>重要</h6></div><div class="awsdocs-note-text"><p>若要讓掛鉤主動檢查堆疊的組態，您必須在 <code class="code">HookConfiguration</code> 區段中將 <code class="code">TargetStacks</code> 設定為 <code class="code">ALL</code>。</p></div></div>
                            </li></ul></div>
                     
                     
                        <h5 id="registry-public-activate-extension-type">啟用資源類型和模組</h5>
                        <div class="procedure"><h6>使用 AWS CLI 啟用公有擴充功能，以便在帳戶中使用</h6><ul><li>
                                <p>使用 <code class="code">activate-type</code> 啟用擴充功能，並指定是否在發佈擴充功能的新次要版本時自動更新擴充功能。</p>
                                <p>下列範例指定要為此帳戶啟用之公有擴充功能的公有 Amazon Resource Name (ARN)。此外，它還指定每當發佈新的次要版本時 CloudFormation 更新擴充功能。</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="userinput">aws cloudformation activate-type \
  --public-type-arn <code class="replaceable">public_extension_ARN</code> \
  --auto-update true</code></code></pre>
                                <p>此命令將傳回特定於此帳戶和區域的已啟用擴充功能 ARN。</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><code class="computeroutput" copy="false"><span>{</span>
    "Arn": "624af370-311a-11e8-b6b7-500cexample"
}</code></code></pre>
                            </li></ul></div>
                     
                     
                        <h5 id="registry-public-update-extension-type">使用 AWS CLI 更新公有擴充功能的版本</h5>

                        <p>使用 <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/activate-type.html"><code class="code">activate-type</code></a> 再次啟用擴充功能。</p>
                        <p>使用 <code class="code">--version-bump</code> 參數指定是否將擴充功能更新為最新 <code class="code">MAJOR</code> 版本、最新 <code class="code">MINOR</code> 版本。</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="userinput">aws cloudformation activate-type \
    --region us-west-2 \
    --type RESOURCE \
    --type-name Example::Test::1234567890abcdef0 \
    --type-name-alias Example::Test::Alias \
    --version-bump MAJOR</code></code></pre>

                     
                 
                

             

             
                <h3 id="registry-public-deactivate-extension">停用帳戶中的公有擴充功能</h3>
                <p>下列章節說明如何停用帳戶中的公有擴充功能。</p>
                 
                    <h4 id="registry-public-deactivate-extension-console">使用 CloudFormation 主控台停用帳戶中的公用擴充功能</h4>
                    <div class="procedure"><ol><li>
                            <p>使用 CloudFormation 登錄來<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/registry.html#registry-view">尋找擴充功</a>能。</p>
                        </li><li>
                            <p>在 <b>Actions</b> (動作) 選單中，選取 <b>Deactivate</b> (停用)。</p>
                        </li><li>
                            <p>選取 <b>Deactivate</b> (停用)。</p>
                        </li></ol></div>
                 
                 
                    <h4 id="registry-public-deactivate-extension-cli">使用 AWS CLI 停用帳戶中的公有擴充功能</h4>
                    <p>若要停用帳戶中的公有擴充功能，請指定 <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/deactivate-type.html">deactivate-type</a>。以下是 AWS CLI 停用命令的範例。</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">aws cloudformation deactivate-type \
    --region us-west-2 \
    --type <code class="replaceable">MODULE</code> \
    --type-name <code class="replaceable">Example::Test::Type::MODULE</code></code></pre>

                 
                 
                    <h4 id="registry-public-deactivate-extension-cli-hook">使用 AWS CLI 停用帳戶中的掛鉤</h4>
                    <p>停用掛鉤可以防止掛鉤執行 AWS 帳戶。</p>
                    <p><code class="code">TargetStacks</code> 設定為 <code class="code">NONE</code> 會關閉帳戶中的掛鉤，因此其不適用於堆疊操作。</p>
                    <p>使用 <code class="code"><a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/set-type-configuration.html">set-type-configuration</a></code> 操作並將 <code class="code">TargetStacks</code> 指定為 <code class="code">NONE</code> 以停用掛鉤。</p>
                    <p>以下範例會指定 AWS 區域 和正在進行停用之掛鉤的 Amazon Resource Name (ARN)。</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="userinput">aws cloudformation set-type-configuration \
  --region us-west-2 \
  --configuration "<span>{</span>"CloudFormationConfiguration":<span>{</span>"HookConfiguration":<span>{</span>"TargetStacks": "<b>NONE</b>", "FailureMode": "FAIL", "Properties":<span>{</span>}}}}" \
  --type-arn <code class="replaceable">HOOK_TYPE_ARN</code></code></code></pre>
                 
             
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="警告" /> <strong>您的瀏覽器已停用或無法使用 Javascript。</strong></p><p>您必須啟用 Javascript，才能使用 AWS 文件。請參閱您的瀏覽器說明頁以取得說明。</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">文件慣用形式</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./registry-private.html">使用私有擴充功能</div><div id="next" class="next-link" accesskey="n" href="./template-reference.html">範本參考</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">此頁面是否有幫助？ - 是</div><div class="content"><p>感謝您，讓我們知道我們做得很好！</p><p>若您有空，歡迎您告知我們值得讚許的地方，這樣才能保持良好服務。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="意見回饋" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/registry-public.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">此頁面是否有幫助？ - 否</div><div class="content"><p>感謝讓我們知道此頁面仍須改善。很抱歉，讓您失望。</p><p>若您有空，歡迎您提供改善文件的方式。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="意見回饋" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/registry-public.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>