<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="zh-TW"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>串流擷取 - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="materialized-view-streaming-ingestion" /><meta name="default_state" content="materialized-view-streaming-ingestion" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/materialized-view-streaming-ingestion.html" /><meta name="description" content="了解如何使用串流擷取將資料從串流服務串流到 Amazon Redshift。" /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="資料庫開發人員指南" /><meta name="abstract" content="使用 Amazon Redshift 這項 PB 級的完全受管企業等級資料倉儲服務，來建立和管理資料倉儲。" /><meta name="guide-locale" content="zh_tw" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/materialized-view-streaming-ingestion.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="資料庫開發人員指南" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="資料庫開發人員指南" /><meta id="panorama-serviceConsolePage" value="串流擷取" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>串流擷取 - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#materialized-view-streaming-ingestion" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/materialized-view-streaming-ingestion.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/materialized-view-streaming-ingestion.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/materialized-view-streaming-ingestion.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,叢集,資料倉儲,開發人員,範例資料,database,資料庫開發人員,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "資料庫開發人員指南",
        "item" : "https://docs.aws.amazon.com/zh_tw/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "在 Amazon Redshift 中建立具體化視觀表",
        "item" : "https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/materialized-view-overview.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "串流擷取",
        "item" : "https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/materialized-view-overview.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#materialized-view-streaming-ingestion" target="_blank" rel="noopener noreferrer" title="開啟 PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">文件</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">資料庫開發人員指南</a></div><div id="page-toc-src"><a href="#materialized-view-streaming-ingestion-data-flow">資料流程</a><a href="#materialized-view-streaming-ingestion-use-cases">串流擷取使用案例</a><a href="#materialized-view-streaming-ingestion-considerations">串流擷取考量</a><a href="#materialized-view-streaming-ingestion-limitations">限制</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>本文為英文版的機器翻譯版本，如內容有任何歧義或不一致之處，概以英文版為準。</p></awsui-alert><h1 class="topictitle" id="materialized-view-streaming-ingestion">串流擷取</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p> 串流擷取可從 <a href="https://aws.amazon.com/kinesis/data-streams/" rel="noopener noreferrer" target="_blank"><span>Amazon Kinesis Data Streams</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> 和 <a href="https://aws.amazon.com/msk/" rel="noopener noreferrer" target="_blank"><span>Amazon Managed Streaming for Apache Kafka</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> 提供低延遲、高速擷取的串流資料至由 Amazon Redshift 佈建或 Amazon Redshift Serverless 的具體化視觀表。其可以減少存取資料所需的時間，並降低儲存成本。您可以為 Amazon Redshift 叢集或 Amazon Redshift Serverless 設定串流擷取，並使用 SQL 陳述式建立具體化視觀表，如 <a href="./materialized-view-overview.html">在 Amazon Redshift 中建立具體化視觀表</a> 中所述。之後，使用具體化視觀表重新整理，您可以每秒擷取數百 MB 的資料。如此可快速存取快速重新整理的外部資料。</p>
            <h2 id="materialized-view-streaming-ingestion-data-flow">資料流程</h2>
            <p> Amazon Redshift 佈建的叢集或 Amazon Redshift Serverless 工作群組是串流取用者。具體化視觀表是從串流讀取資料的登陸區域，會在資料到達時進行處理。例如，您可以使用熟悉的 SQL 取用 JSON 值，並對應至具體化視觀表的資料欄。重新整理具體化視觀表時，Amazon Redshift 運算節點會將每個 Kinesis 資料碎片或 Kafka 分割區分配給運算配量。每個配量都會從已配置的碎片中取用資料，直到檢視達到 Kinesis 串流 <code class="code">SEQUENCE_NUMBER</code> 的同位處理或 Kafka 主題的最後一個 <code class="code">Offset</code>。後續具體化視觀表會重新整理上次重新整理的最後一個 <code class="code">SEQUENCE_NUMBER</code> 的讀取資料，直到達到串流或主題資料的同位處理為止。</p>
      
     
         
            <h2 id="materialized-view-streaming-ingestion-use-cases">串流擷取使用案例</h2>
            <p> Amazon Redshift 串流擷取的使用案例包含處理持續產生 (串流) 的資料，而且必須在產生的短時間 (延遲) 內處理。這稱為近乎即時的分析。資料來源可能有所不同，包括 IoT 裝置、系統遙測資料或來自忙碌網站或應用程式的點擊流資料。</p>
         
                <h2 id="materialized-view-streaming-ingestion-considerations">串流擷取考量</h2>
                <p>以下是您設定串流擷取環境時，有關效能和計費的重要考量事項和最佳做法。</p>
                <div class="itemizedlist">
       
                    
                 
                     
                     
      
      
                     
                    
                     
                    
                     
                     
                    
                     
                    
                    
                <ul class="itemizedlist"><li class="listitem"><p><em>自動重新整理使用狀況和啟動</em> - 具體化視觀表或檢視的自動重新整理查詢會視為任何其他使用者工作負載 自動重新整理會在資料到達時從串流載入資料。</p>
                   <p>您可以針對為串流擷取建立的具體化視觀表明確開啟自動重新整理。若要這樣做，請在具體化視觀表定義中指定 <code class="code">AUTO REFRESH</code>。預設為手動重新整理。若要為現有具體化視觀表指定自動重新整理以進行串流擷取，您可以執行 <code class="code">ALTER MATERIALIZED VIEW</code> 以將其開啟。如需詳細資訊，請參閱 <a href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-create-sql-command.html">CREATE MATERIALIZED VIEW</a> 或 <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_ALTER_MATERIALIZED_VIEW.html">ALTER MATERIALIZED VIEW</a>。</p>
                    </li><li class="listitem">
                        <p><em>串流擷取和 Amazon Redshift Serverless</em> - 適用於已佈建叢集上 Amazon Redshift 串流擷取的相同設定和組態指示也適用於 Amazon Redshift Serverless 上的串流擷取。使用必要的 RPU 層級調整 Amazon Redshift Serverless 的大小很重要，可支援具有自動重新整理和其他工作負載的串流擷取。如需詳細資訊，請參閱 <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/serverless-billing.html">Amazon Redshift Serverless 的計費</a>。</p>
              
                    </li><li class="listitem">
                        <p><em>Amazon Redshift 節點位於與 Amazon MSK 叢集不同的可用區域中</em> - 當您設定串流擷取時，如果 Amazon MSK 啟用了機架意識，Amazon Redshift 會嘗試連線到同一可用區域中的 Amazon MSK 叢集。如果所有節點都與 Amazon Redshift 叢集位於不同的可用區域，則可能會產生跨可用區域的資料傳輸費用。為避免這種情況發生，請將至少一個 Amazon MSK 代理程式叢集節點保留在與 Amazon Redshift 叢集相同的可用區域中。</p>
                    </li><li class="listitem">
                        <p><em>重新整理開始位置</em> - 建立具體化視觀表之後，其初始重新整理會從 Kinesis 串流的 <code class="code">TRIM_HORIZON</code> 開始，或從 Amazon MSK 主題的位移 0 開始。</p></li><li class="listitem">
                        <p> <em>資料格式</em> - 支援的資料格式僅限於可以從 <code class="code">VARBYTE</code> 轉換的格式。如需詳細資訊，請參閱 <a href="./r_VARBYTE_type.html">VARBYTE 類型</a> 及 <a href="./r_VARBYTE_OPERATORS.html">VARBYTE 運算子</a>。</p>
                    </li><li class="listitem"><p><em>串流至多個具體化視觀表</em> - 在 Amazon Redshift 中，我們建議您在大多數情況下將每個串流的資料放置在單一具體化視觀表中。但是，您可以擷取串流並將資料放置在多個具體化視觀表中。例如，您可以擷取包含運動資料的串流，但您可以將每項運動的資料組織成個別的具體化視觀表。</p>
                        <p>請注意，當您將資料擷取至多個具體化視觀表並重新整理時，輸出成本可能會較高，特別是從串流提供者讀取資料時。此外，讀取到多個具體化視觀表的較高資源使用量也會影響其他工作負載。另請注意串流提供者的頻寬、輸送量和效能限制。如需有關資料串流定價的詳細資訊，請參閱 <a href="https://aws.amazon.com/kinesis/data-streams/pricing/" rel="noopener noreferrer" target="_blank"><span>Kinesis Data Streams 定價</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>和 <a href="https://aws.amazon.com/msk/pricing/" rel="noopener noreferrer" target="_blank"><span>Amazon Managed Streaming for Apache Kafka 定價</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>。</p>
                    </li><li class="listitem"><p><em>將記錄附加至資料表</em> - 您可以執行 <code class="code">ALTER TABLE APPEND</code> 將資料列從現有的來源具體化視觀表附加至目標資料表。這只有在具體化視觀表設定為串流擷取時才有作用。如需詳細資訊，請參閱 <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_ALTER_TABLE_APPEND.html">ALTER TABLE APPEND</a>。</p></li><li class="listitem"><p><em>執行 TRUNCATE 或 DELETE</em> - 您可以使用下列幾種方法，從用於串流擷取的具體化視觀表中移除記錄：</p>
                        <div class="itemizedlist">
                             
                             
                        <ul class="itemizedlist"><li class="listitem"><p><code class="code">TRUNCATE</code> – 此命令會從針對串流擷取設定的具體化視觀表中刪除所有資料列。其不會執行資料表掃描。如需詳細資訊，請參閱 <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_TRUNCATE.html">TRUNCATE</a>。</p></li><li class="listitem"><p><code class="code">DELETE</code> – 此命令會從針對串流擷取設定的具體化視觀表中刪除所有資料列。如需詳細資訊，請參閱 <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_DELETE.html">DELETE</a>。</p></li></ul></div>
                    </li></ul></div>
                
                 
                    <h3 id="materialized-view-streaming-methods">使用串流擷取與 Amazon S3 中的暫存資料進行比較</h3>
                    <p> 將資料串流至 Amazon Redshift 或 Amazon Redshift Serverless 有多種選項。兩個眾所周知的選項是串流擷取 (如本主題所述)，或使用 Kinesis Data Firehose 設定流向 Amazon S3 的交付串流。以下清單描述了每個方法：</p>  
                    <div class="orderedlist">
                         
                         
                    <ol><li><p> 從 Kinesis Data Streams 或 Amazon Managed Streaming for Apache Kafka 到 Amazon Redshift 或 Amazon Redshift Serverless 的串流擷取涉及設定具體化視觀表以接收資料。</p></li><li><p>使用 Kinesis Data Streams 將資料傳遞到 Amazon Redshift 及透過 Kinesis Data Firehose 串流涉及將來源串流連接到 Amazon Kinesis Data Firehose，並等待 Kinesis Data Firehose 將資料暫存在 Amazon S3 中。這個程序會利用不同大小的批次，並以可變長度的緩衝區作為間隔。串流到 Amazon S3 之後，Kinesis Data Firehose 會啟動 COPY 命令來載入資料。</p></li></ol></div>
                    <p>透過串流擷取，您可以略過第二個程序所需的幾個步驟：</p>
                    <div class="itemizedlist">
                         
                         
                         
                    <ul class="itemizedlist"><li class="listitem"><p>您不必將資料傳送到 Amazon Kinesis Data Firehose 交付串流，因為透過串流擷取，資料可以直接從 Kinesis Data Streams 傳送到 Redshift 資料庫中的具體化視觀表。</p></li><li class="listitem"><p>您不必在 Amazon S3 登陸串流資料，因為串流擷取資料會直接傳送至 Redshift 具體化視觀表。</p></li><li class="listitem"><p>您不需要撰寫和執行 COPY 命令，因為具體化視觀表中的資料會直接從串流重新整理。將資料從 Amazon S3 載入 Redshift 不是程序的一部分。</p></li></ul></div>
                    <p>請注意，串流擷取僅限於來自 Amazon Kinesis Data Streams 的串流及來自 Amazon MSK 的主題。若要從 Kinesis Data Streams 串流至 Amazon Redshift 以外的來源，您可能需要 Kinesis Data Firehose 交付串流。如需詳細資訊，請參閱<a href="https://docs.aws.amazon.com/firehose/latest/dev/basic-write.html">傳送資料至 Amazon Kinesis Data Firehose 交付串流</a>。</p>
                 
             
                    <h2 id="materialized-view-streaming-ingestion-limitations">限制</h2>
                    
                    <div class="table-container"><div class="table-contents"><table id="w319aac21c47c11b3"><thead>
                                <tr>
                                    <th>功能或行為 </th>
                                    <th>描述 </th>
                                </tr>
                            </thead>
                   
                                
                                <tr>
                                    <td tabindex="-1"><b>Kafka 主題長度限制</b> </td>
                                    <td tabindex="-1"><p>Kafka 主題的名稱不得超過 128 個字元 *不包括引號)。如需詳細資訊，請參閱<a href="https://docs.aws.amazon.com/redshift/latest/dg/r_names.html">名稱和識別符</a>。</p></td>
                                </tr>
                                <tr>
                                    <td tabindex="-1"><b>具體化視觀表的累加式重新整理和 JOIN</b></td>
                                    <td tabindex="-1"><p>具體化視觀表必須是可以增量維護的。Kinesis 或 Amazon MSK 無法完整重新計算，因為預設情況下不會保留過去 24 小時或 7 天的串流或主題歷史記錄。您可以在 Kinesis 或 Amazon MSK 中設定較長的資料保留期間。但是，這可能會導致更多的維護和成本。此外，在 Kinesis 串流或 Amazon MSK 主題上建立的具體化視觀表目前不支援 JOIN。在串流或主題上建立具體化視觀表之後，您可以建立另一個具體化視觀表，將串流具體化視觀表結合至其他具體化視觀表、資料表或檢視。</p>
                                        <p>如需詳細資訊，請參閱 <a href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-refresh-sql-command.html">REFRESH MATERIALIZED VIEW</a>。</p></td>
                                </tr>
                                
                   
                                <tr>
                                    <td tabindex="-1"><b>記錄剖析</b></td>
                                    <td tabindex="-1"><p>Amazon Redshift 串流擷取不支援剖析由 inesis Producer Library 彙總的記錄 (<a href="https://docs.aws.amazon.com/kinesis/latest/dev/kinesis-kpl-concepts.html#kinesis-kpl-concepts-aggretation">KPL 關鍵概念 - 彙總</a>)。彙總記錄會被擷取，但會儲存為二進制協定緩衝區資料。(如需詳細資訊，請參閱 <a href="https://developers.google.com/protocol-buffers" rel="noopener noreferrer" target="_blank"><span>協定緩衝區</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>)。視您將資料推送至 Kinesis 的方式而定，您可能需要關閉此功能。</p></td>
                                </tr>
                                
                  
                       
                               
                                <tr>
                                    <td tabindex="-1"><b>解壓縮</b> </td>
                                    <td tabindex="-1"><p><code class="code">VARBYTE</code> 目前不支援任何解壓縮方法。因此，包含壓縮資料的記錄無法在 Redshift 中查詢。在將資料推送到 Kinesis 串流或 Amazon MSK 主題之前，請先將資料解壓縮。</p></td>
                                </tr>
                                
                                <tr>
                                    <td tabindex="-1"><b>記錄大小上限</b> </td>
                                    <td tabindex="-1"><p>Amazon Redshift 可以從 Kinesis 或 Amazon MSK 擷取的任何記錄欄位的大小上限略小於 1MB。以下幾點詳細說明了此行為：</p><div class="itemizedlist">
                                             
                                             
                                        <ul class="itemizedlist"><li class="listitem"><p><b>VARBYTE 長度上限</b> - <code class="code">VARBYTE</code> 類型支援的資料長度上限為 1,024,000 個位元組。由於 Kinesis 將承載量限制為 1MB，因此在進行 Base64 編碼之後，所有 Kinesis 資料都可以透過 Amazon Redshift 擷取。</p></li><li class="listitem"><p><b>訊息限制</b> - 預設的 Amazon MSK 組態會將訊息限制為 1MB。此外，如果訊息包含標頭，則資料量限制為 1,048,470 個位元組。使用預設設定時，擷取沒有問題。但是，您可以將 Kafka 的訊息大小上限更改為更大的值 (Amazon MSK 也是如此)。在這種情況下，可能是 Kafka 記錄的鍵/值欄位 (或標題) 超過大小限制。這些記錄可能會導致錯誤，並且不會被擷取。</p></li></ul></div></td>
                                </tr>
                   
                                
                                <tr>
                                    <td tabindex="-1"><b>錯誤記錄</b> </td>
                                    <td tabindex="-1"><p>在每個記錄因為資料大小超過大小限制而無法擷取至 Redshift 的情況下，就會略過該記錄。在這種情況下，具體化視觀表重新整理仍然會成功，並且每個錯誤記錄的區段都會寫入 <a href="./r_SYS_STREAM_SCAN_ERRORS.html">SYS_STREAM_SCAN_ERRORS</a> 系統表。但不會略過商務邏輯所產生的錯誤，例如計算中的錯誤或類型轉換所產生的錯誤。在將邏輯新增至具體化視觀表定義之前，請仔細測試邏輯，以避免這些問題。</p></td>
                                </tr>
                   
                     
                            </table></div></div>
                    
                    
                    
                    
                    
                    
                    
                    
                <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="警告" /> <strong>您的瀏覽器已停用或無法使用 Javascript。</strong></p><p>您必須啟用 Javascript，才能使用 AWS 文件。請參閱您的瀏覽器說明頁以取得說明。</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">文件慣用形式</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./materialized-view-UDFs.html">在具體化視觀表中使用使用者定義函數 (UDF)</div><div id="next" class="next-link" accesskey="n" href="./materialized-view-streaming-ingestion-getting-started.html">開始使用 Amazon Kinesis Data Streams 中的串流擷取</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">此頁面是否有幫助？ - 是</div><div class="content"><p>感謝您，讓我們知道我們做得很好！</p><p>若您有空，歡迎您告知我們值得讚許的地方，這樣才能保持良好服務。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="意見回饋" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/materialized-view-streaming-ingestion.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">此頁面是否有幫助？ - 否</div><div class="content"><p>感謝讓我們知道此頁面仍須改善。很抱歉，讓您失望。</p><p>若您有空，歡迎您提供改善文件的方式。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="意見回饋" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/materialized-view-streaming-ingestion.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>