<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="zh-TW"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>UNLOAD - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_UNLOAD" /><meta name="default_state" content="r_UNLOAD" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_UNLOAD.html" /><meta name="description" content="將查詢結果卸載至 Amazon Simple Storage Service(Amazon S3) 上的一個或多個檔案。" /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="資料庫開發人員指南" /><meta name="abstract" content="使用 Amazon Redshift 這項 PB 級的完全受管企業等級資料倉儲服務，來建立和管理資料倉儲。" /><meta name="guide-locale" content="zh_tw" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_UNLOAD.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_UNLOAD.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_UNLOAD.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_UNLOAD.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_UNLOAD.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_UNLOAD.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_UNLOAD.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_UNLOAD.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_UNLOAD.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_UNLOAD.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_UNLOAD.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_UNLOAD.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_UNLOAD.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_UNLOAD.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_UNLOAD.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_UNLOAD.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_UNLOAD.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_UNLOAD.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_UNLOAD.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_UNLOAD.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_UNLOAD.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_UNLOAD.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="資料庫開發人員指南" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="資料庫開發人員指南" /><meta id="panorama-serviceConsolePage" value="UNLOAD" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>UNLOAD - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#r_UNLOAD" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_UNLOAD.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_UNLOAD.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_UNLOAD.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,叢集,資料倉儲,開發人員,範例資料,database,資料庫開發人員,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "資料庫開發人員指南",
        "item" : "https://docs.aws.amazon.com/zh_tw/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "SQL 參考",
        "item" : "https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "SQL 命令",
        "item" : "https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "UNLOAD",
        "item" : "https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/c_SQL_commands.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#r_UNLOAD" target="_blank" rel="noopener noreferrer" title="開啟 PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">文件</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">資料庫開發人員指南</a></div><div id="page-toc-src"><a href="#r_UNLOAD-permissions">所需的權限和許可</a><a href="#r_UNLOAD-synopsis">語法</a><a href="#unload-parameters">參數</a><a href="#unload-usage-notes">使用須知</a><a href="#r_UNLOAD-examples">範例</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>本文為英文版的機器翻譯版本，如內容有任何歧義或不一致之處，概以英文版為準。</p></awsui-alert><h1 class="topictitle" id="r_UNLOAD">UNLOAD</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>使用 Amazon S3 伺服器端加密 (SSE-S3)，將查詢的結果卸載至 Amazon S3 上的一或多個文字檔案、JSON 檔案或 Apache Parquet 檔案。您也可以指定伺服器端加密搭配 AWS Key Management Service 金鑰 (SSE-KMS)，或用戶端加密搭配客戶受管金鑰。</p><p>依預設，卸載檔案的格式為以豎線分隔 (<code class="code">|</code>) 的文字。</p><p>您可以設定 MAXFILESIZE 參數來管理 Amazon S3 上檔案的大小，以及藉由副檔名管理檔案數目。確定 S3 IP 範圍已新增至您的允許清單。若要進一步了解所需的 S3 IP 範圍，請參閱<a href="https://docs.aws.amazon.com/redshift/latest/mgmt/security-network-isolation.html#network-isolation">網路隔離</a>。</p><p>您可以將 Amazon Redshift 查詢的結果以 Apache Parquet 卸載至您的 Amazon S3 資料湖，這是一種用於分析的高效率開放單欄式儲存格式。相較於文字格式，Parquet 格式的卸載速度提升達 2 倍，並且在 Amazon S3 中使用的儲存空間減少達 6 倍。這可以讓您將已在 Amazon S3 中執行的資料轉換和資料充實，以開放的格式儲存到您的 Amazon S3 資料湖。然後，您可以使用 Redshift 頻譜和其他AWS服務（例如 Amazon 雅典娜，Amazon EMR 和亞馬遜）來分析數據。 SageMaker</p><p>若要取得有關使用 UNLOAD 命令的更多資訊和範例案例，請參閱 <a href="./c_unloading_data.html">卸載資料</a>。</p>
         <h2 id="r_UNLOAD-permissions">所需的權限和許可</h2>
         <p>為了使 UNLOAD 命令成功執行，至少需要資料庫中資料的 SELECT 權限，以及寫入 Amazon S3 位置的許可。所需的許可類似於 COPY 命令。如需有關 COPY 命令的詳細資訊，請參閱 <a href="./copy-usage_notes-access-permissions.html">存取其他 AWS 資源的許可</a>。</p>
       
         <h2 id="r_UNLOAD-synopsis">語法</h2>
         
         
         
         
         
         
         
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">UNLOAD ('<em>select-statement</em>')
TO '<em>s3://object-path/name-prefix</em>'
<em>authorization</em>
[ <em>option</em>, ...] 

where <em>authorization</em> is
IAM_ROLE <span>{</span> default | 'arn:aws:iam::<code class="replaceable">&lt;AWS 帳戶-id-1&gt;</code>:role/<code class="replaceable">&lt;role-name&gt;</code>[,arn:aws:iam::<code class="replaceable">&lt;AWS 帳戶-id-2&gt;</code>:role/<code class="replaceable">&lt;role-name&gt;</code>][,...]' }
            
where <em>option</em> is
| [ FORMAT [ AS ] ] CSV | PARQUET | JSON
| PARTITION BY ( <em>column_name</em> [, ... ] ) [ INCLUDE ]
| MANIFEST [ VERBOSE ]
| HEADER
| DELIMITER [ AS ] '<em>delimiter-char</em>'
| FIXEDWIDTH [ AS ] '<em>fixedwidth-spec</em>'
| ENCRYPTED [ AUTO ]
| BZIP2
| GZIP
| ZSTD
| ADDQUOTES
| NULL [ AS ] '<em>null-string</em>'
| ESCAPE
| ALLOWOVERWRITE
| CLEANPATH
| PARALLEL [ <span>{</span> ON | TRUE } | <span>{</span> OFF | FALSE } ]
| MAXFILESIZE [AS] <em>max-size</em> [ MB | GB ]
| ROWGROUPSIZE [AS] <em>size</em> [ MB | GB ]
| REGION [AS] '<em>aws-region</em>' }
| EXTENSION '<em>extension-name</em>'

</code></pre>
       
         <h2 id="unload-parameters">參數</h2>
         <div class="variablelist">
             
             
             
             
            
            
             
            
            
            
             
             
             
             
             
             
             
             
             
             
             
             
             
             
             
             
             
            
             
             
             
            
             
         <dl>
               <dt><span class="term">('<em>select-statement</em>') </span></dt>
               <dd>
                  <p>SELECT 查詢。查詢的結果會卸載。大多數情況下，藉由在查詢中指定 ORDER BY 子句依排序順序卸載資料會有其實用性。此方式可節省重新載入資料時，排序資料所需的時間。</p>
                  <p>查詢必須用單引號括住，如下所示：</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="">('select * from venue order by venueid')</code></pre>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注意</h6></div><div class="awsdocs-note-text"><p>如果您的查詢包含引號 (例如為了將常值括住)，請將常值放在兩組單引號內，您也必須將查詢放在單引號之間：</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">('select * from venue where venuestate=''NV''')</code></pre></div></div>
               </dd>
             
               <dt><span class="term">TO 's3://<em>object-path/name-prefix</em>'</span></dt>
               <dd>
                  <p>Amazon S3 上 Amazon Redshift 將寫入輸出檔案物件之位置的完整路徑 (包括儲存貯體名稱在內)，若指定了 MANIFEST，則包括資訊清單檔案。物件名稱前面會加上 <em>name-prefix</em>。如果您使用 <code class="code">PARTITION BY</code>，會自動視需要將一個斜線 (/) 新增到 <em>name-prefix</em> 值的結尾。為了提升安全性，UNLOAD 會使用 HTTPS 連線連接至 Amazon S3。根據預設，UNLOAD 會在每個分割中寫入一個或多個檔案。UNLOAD 會在指定的名稱字首附加分割號碼和部分編號，如下所示：</p>
                  <p><code class="code"><code class="replaceable">&lt;object-path&gt;</code>/<code class="replaceable">&lt;name-prefix&gt;</code><code class="replaceable">&lt;slice-number&gt;</code>_part_<code class="replaceable">&lt;part-number&gt;</code></code>. </p>
                  <p>若指定了 MANIFEST，則會寫入資訊清單檔案，如下所示：</p>
                  <p><code class="code"><code class="replaceable">&lt;object_path&gt;</code>/<code class="replaceable">&lt;name_prefix&gt;</code>manifest</code>. </p>
                  <p>如果指定 PARALLEL 為 OFF，資料檔案會寫入如下：</p>
                  <p><code class="code"><code class="replaceable">&lt;object_path&gt;</code>/<code class="replaceable">&lt;name_prefix&gt;</code><code class="replaceable">&lt;part-number&gt;</code></code>. </p>
                  <p>UNLOAD 會使用 Amazon S3 伺服器端加密 (SSE) 自動建立加密檔案，若使用了 MANIFEST，則也會包括資訊清單檔案。COPY 命令會在載入操作期間自動讀取伺服器端加密檔案。您可以使用 Amazon S3 主控台或 API，透明地從儲存貯體下載伺服器端加密檔案。如需詳細資訊，請參閱<a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/serv-side-encryption.html">使用伺服器端加密保護資料</a>。</p>
                  <p>若要使用 Amazon S3 用戶端加密，請指定 ENCRYPTED 選項。</p>
                  <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>重要</h6></div><div class="awsdocs-note-text"><p>當 Amazon S3 儲存貯體與 Amazon Redshift 資料庫不在相同 AWS 區域 內時，就需要 REGION。</p></div></div>
               </dd>
             
               <dt><span class="term"><em>authorization</em></span></dt>
               <dd>
                  <p>UNLOAD 命令需要授權才能將資料寫入 Amazon S3。UNLOAD 命令會使用與 COPY 命令相同的參數進行授權。如需詳細資訊，請參閱 COPY 命令語法參考中的 <a href="./copy-parameters-authorization.html">授權參數</a>。</p>
               </dd>
             
               <dt id="unload-iam"><span class="term">IAM_ROLE <span>{</span> default | 'arn:aws:iam::<code class="replaceable">&lt;AWS 帳戶-id-1&gt;</code>:role/<code class="replaceable">&lt;role-name&gt;</code>'</span></dt>
               <dd>
                  <p>使用預設關鍵字，讓 Amazon Redshift 使用設定為預設並在執行 UNLOAD 命令時與叢集關聯的 IAM 角色。</p>
                  <p>對叢集進行身分驗證和授權時所使用的 IAM 角色使用 Amazon Resource Name (ARN)。如果指定 IAM_ROLE，則不能使用 ACCESS_KEY_ID 和 SECRET_ACCESS_KEY、SESSION_TOKEN 或 CREDENTIALS。IAM_ROLE 可以鏈結。如需詳細資訊，請參閱《Amazon Redshift 管理指南》<em></em>中的<a href="https://docs.aws.amazon.com/redshift/latest/mgmt/authorizing-redshift-service.html#authorizing-redshift-service-chaining-roles">鏈結 IAM 角色</a>。</p>
               </dd>
             
               <dt id="unload-csv"><span class="term">[ FORMAT [AS] ] CSV | PARQUET | JSON</span></dt>
               <dd>
                  <p>關鍵字，用來指定取代預設格式的卸載格式。</p>
                  <p>使用 CSV 時，會使用逗號 ( , ) 字元做為預設分隔符號卸載至 CSV 格式的文字檔案。如果欄位包含分隔符號、雙引號、新行字元或歸位字元，已卸載檔案中的欄位便會括在雙引號中。資料欄位中的雙引號會使用額外的雙引號進行逸出。卸載零個資料列時，Amazon Redshift 可能會寫入空的 Amazon S3 物件。</p>
                  <p>使用 PARQUET 時，會卸載至 Apache Parquet 1.0 版格式的檔案。根據預設，每個資料列群組都會使用 SNAPPY 壓縮進行壓縮。如需 Apache Parquet 格式的詳細資訊，請參閱 <a href="https://parquet.apache.org/" rel="noopener noreferrer" target="_blank"><span>Parquet</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>。</p>
                  <p>使用 JSON 時會卸載到 JSON 文件，每行都會包含一個 JSON 物件，代表查詢結果中的完整記錄。當查詢結果包含 SUPER 資料欄時，Amazon Redshift 支援編寫巢狀 JSON。若要建立有效的 JSON 物件，查詢中每個資料欄的名稱必須是唯一的。在 JSON 文件中，布林值會卸載為 <code class="code">t</code> 或 <code class="code">f</code>，NULL 值會被卸載為 <code class="code">null</code>。卸載零個資料列時，Amazon Redshift 不會寫入 Amazon S3 物件。</p>
                  <p>FORMAT 和 AS 關鍵字是選用的。您無法使用 CSV 與 FIXEDWIDTH 或 ADDQUOTES 搭配。您無法搭配 DELIMITER、FIXEDWIDTH、ADDQUOTES、ESCAPE、NULL AS、HEADER、GZIP、BZIP2 或 ZSTD 使用 PARQUET。搭配 ENCRYPTED 的 PARQUET 僅支援使用 AWS Key Management Service 金鑰 (SSE-KMS) 進行的伺服器端加密。您無法搭配 DELIMITER、HEADER、FIXEDWIDTH、ADDQUOTES、ESCAPE 或 NULL AS 使用 JSON。</p>
               </dd>
             
               <dt id="unload-partitionby"><span class="term">PARTITION BY ( <em>column_name</em> [, ... ] ) [INCLUDE]</span></dt>
               <dd>
                  <p>指定卸載操作的分割區索引鍵。UNLOAD 會依序根據分割區索引鍵的值和 Apache Hive 慣例，自動將輸出檔案分到分割資料夾。例如，屬於 2019 年分割區和九月分割區的 Parquet 檔案便會具有以下字首：<code>s3://my_bucket_name/my_prefix/year=2019/month=September/000.parquet</code>。</p>
                  <p><em>column_name</em> 的值必須是正在卸載查詢結果中的資料行。</p>
                  <p>如果您指定 PARTITION BY 搭配 INCLUDE 選項，則不會從上傳的檔案中移除分割區資料欄。</p>

                  <p>Amazon Redshift 不支援 PARTITION BY 子句中的字串文字。</p>


               </dd>
             
               <dt><span class="term">MANIFEST [ VERBOSE ]</span></dt>
               <dd>
                  <p>會建立資訊清單檔案，當中明確列出 UNLOAD 程序建立的資料檔案的詳細資訊。清單檔案是 JSON 格式的文字檔，其中列出寫入 Amazon S3 的每個檔案的 URL。</p>
                  <p>如果指定 MANIFEST 時搭配 VERBOSE 選項，則資訊清單會包含下列詳細資訊：</p>
                  <div class="itemizedlist">
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>資料欄名稱和資料類型，以及針對 CHAR、VARCHAR 或 NUMERIC 資料類型，每個資料欄的維度。針對 CHAR 和 VARCHAR 資料類型，維度為長度。針對 DECIMAL 或 NUMERIC 資料類型，維度為精確度和規模。</p>
                     </li><li class="listitem">
                        <p>卸載至每個檔案的資料列計數。如果指定了 HEADER 選項，則資料列計數會包括標題行。</p>
                     </li><li class="listitem">
                        <p>卸載的所有檔案的檔案大小總計以及卸載至所有檔案的資料列計數總計。如果指定了 HEADER 選項，則資料列計數會包括標題行。</p>
                     </li><li class="listitem">
                        <p>作者。作者一律是 "Amazon Redshift"。</p>
                     </li></ul></div>
                  <p>您只能在 MANIFEST 之後指定 VERBOSE。</p>
                  <p>資訊清單檔案會寫入與卸載檔案相同的 Amazon S3 路徑字首，其格式為 <code class="code">&lt;object_path_prefix&gt;manifest</code>。例如，若 UNLOAD 指定 Amazon S3 路徑字首 '<code class="code">s3://mybucket/venue_</code>'，則資訊清單檔案的位置會是 '<code class="code">s3://mybucket/venue_manifest</code>'。</p>
               </dd>
             
               <dt><span class="term">HEADER</span></dt>
               <dd>
                  <p>在每個輸出檔案上方新增包含資料欄名稱的標題行。文字轉換選項，例如 CSV、DELIMITER、ADDQUOTES 和 ESCAPE，也適用標題行。您無法使用 HEADER 與 FIXEDWIDTH 搭配。</p>
               </dd>
             
               <dt><span class="term">DELIMITER AS '<em>delimiter_character</em>'</span></dt>
               <dd>
                  <p>指定單一 ASCII 字元，用以分隔輸出檔案中的欄位，例如縱線字元 ( | )、逗號 ( , ) 或 Tab 字元 ( \t )。文字檔的預設分隔符號為縱線字元。CSV 檔的預設分隔符號為逗號字元。AS 關鍵字為選用。您無法使用 DELIMITER 與 FIXEDWIDTH 搭配。若資料包含分隔符號字元，您需要指定 ESCAPE 選項來逸出分隔符號，或使用 ADDQUOTES 將資料括在雙引號中。或者，指定資料中未包含的分隔符號。</p>
               </dd>
             
               <dt><span class="term">FIXEDWIDTH '<em>fixedwidth_spec</em>'</span></dt>
               <dd>
                  <p>將資料卸載至每個欄寬是固定長度 (而不是以分隔字元隔開) 的檔案。<em>fixedwidth_spec</em> 是字串，指定資料欄數和欄寬。AS 關鍵字為選用。由於 FIXEDWIDTH 不會截斷資料，因此 UNLOAD 陳述式中每個資料欄的規格都必須至少為該資料欄最長項目的長度。<em>fixedwidth_spec</em> 的格式如下所示：</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">'<em>colID1:colWidth1,colID2:colWidth2, ...</em>'</code></pre>
                  <p>您無法使用 FIXEDWIDTH 與 DELIMITER 或 HEADER 搭配。</p>
               </dd>
             
               <dt id="unload-parameters-encrypted"><span class="term">ENCRYPTED [AUTO]</span></dt>
               <dd>
                  <p>指定 Amazon S3 上的輸出檔案將使用 Amazon S3 伺服器端加密或用戶端加密進行加密。若指定了 MANIFEST，則也會加密資訊清單檔案。如需詳細資訊，請參閱<a href="./t_unloading_encrypted_files.html">卸載加密的資料檔案</a>。若您未指定 ENCRYPTED 參數，則 UNLOAD 會使用 Amazon S3 伺服器端加密搭配 AWS 受管加密金鑰 (SSE-S3) 自動建立加密檔案。</p>
                  <p>針對 ENCRYPTED，建議您搭配 AWS KMS 金鑰 (SSE-KMS) 使用伺服器端加密卸載至 Amazon S3。如果是這種情況，請使用 <a href="#unload-parameters-kms-key-id">KMS_KEY_ID</a> 參數來提供金鑰 ID。您無法使用 <a href="./copy-parameters-authorization.html#copy-credentials">CREDENTIALS</a> 參數搭配 KMS_KEY_ID 參數。如果您使用 KMS_KEY_ID 針對資料執行 UNLOAD 命令，您接著便可以針對相同的資料執行 COPY 操作，而無須指定金鑰。</p>
                  <p>如要搭配客戶提供的對稱金鑰使用用戶端加密卸載至 Amazon S3，請透過以下兩種方式中的其中一種來提供金鑰。如要提供金鑰，請使用 <a href="#unload-parameters-master-symmetric-key">MASTER_SYMMETRIC_KEY</a> 參數，或是 <a href="./copy-parameters-authorization.html#copy-credentials">CREDENTIALS</a> 登入資料字串的 <code class="code">master_symmetric_key</code> 部分。如果您使用根對稱金鑰卸載資料，請務必在針對加密資料執行 COPY 操作時提供相同的金鑰。</p>
                  <p>UNLOAD 不支援 Amazon S3 伺服器端加密搭配客戶提供的金鑰 (SSE-C)。</p>
                  <p>如果使用 ENCRYPTED AUTO，UNLOAD 命令會擷取目標 Amazon S3 儲存貯體屬性上的預設 AWS KMS 加密金鑰，並使用 AWS KMS 金鑰加密寫入 Amazon S3 的檔案。如果儲存貯體沒有預設 AWS KMS 加密金鑰，UNLOAD 會自動搭配 AWS 受管加密金鑰 (SSE-S3) 使用 Amazon Redshift 伺服器端加密來建立加密檔案。您無法搭配 KMS_KEY_ID、MASTER_SYMMETRIC_KEY 或包含 master_symmetric_key 的 CREDENTIALS 使用此選項。</p>
               </dd>
             
               <dt id="unload-parameters-kms-key-id"><span class="term">KMS_KEY_ID '<em>key-id</em>'</span></dt>
               <dd>
                  <p>指定 AWS Key Management Service (AWS KMS) 金鑰的金鑰 ID，將用來加密 Amazon S3 上的資料檔案。如需詳細資訊，請參閱<a href="https://docs.aws.amazon.com/kms/latest/developerguide/overview.html">什麼是 AWS Key Management Service？</a> 如果您指定 KMS_KEY_ID，則必須一併指定 <a href="#unload-parameters-encrypted">ENCRYPTED</a> 參數。如果您指定 KMS_KEY_ID，則不能使用 CREDENTIALS 參數進行驗證。請改用 <a href="./copy-parameters-authorization.html#copy-iam-role">IAM_ROLE</a> 或 <a href="./copy-parameters-authorization.html#copy-access-key-id">ACCESS_KEY_ID and SECRET_ACCESS_KEY</a>。</p>

               </dd>
             
               <dt id="unload-parameters-master-symmetric-key"><span class="term">MASTER_SYMMETRIC_KEY '<em>root_key</em>'</span></dt>
               <dd>
                  <p>指定要用來加密 Amazon S3 上資料檔案的根對稱金鑰。如果您指定 MASTER_SYMMETRIC_KEY，則必須一併指定 <a href="#unload-parameters-encrypted">ENCRYPTED</a> 參數。您無法使用 MASTER_SYMMETRIC_KEY 與 CREDENTIALS 參數搭配。如需詳細資訊，請參閱<a href="./c_loading-encrypted-files.html">從 Amazon S3 載入加密的資料檔案</a>。</p>
               </dd>
             
               <dt><span class="term">BZIP2 </span></dt>
               <dd>
                  <p>將資料卸載至每個分割中的一個或多個 bzip2 壓縮檔。產生的每個檔案都會附加 <code class="code">.bz2</code> 副檔名。</p>
               </dd>
             
               <dt><span class="term">GZIP </span></dt>
               <dd>
                  <p>將資料卸載至每個分割中的一個或多個 gzip 壓縮檔。產生的每個檔案都會附加 <code class="code">.gz</code> 副檔名。</p>
               </dd>
             
               <dt><span class="term">ZSTD </span></dt>
               <dd>
                  <p>將資料卸載至每個分割中的一個或多個 Zstandard 壓縮檔。產生的每個檔案都會附加 <code class="code">.zst</code> 副檔名。</p>
               </dd>
             
               <dt><span class="term">ADDQUOTES </span></dt>
               <dd>
                  <p>在每個卸載的資料欄位前後加上引號，如此 Amazon Redshift 就能卸載包含分隔符號本身的資料值。例如，如果分隔符號是逗號，您可以成功卸載並重新載入下列資料：</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class=""> "1","Hello, World" </code></pre>
                  <p>如果沒有新增雙引號，<code class="code">Hello, World</code> 字串將會剖析為兩個不同欄位。</p>
                  <p>某些輸出格式不支援 ADDQUOTES。</p>
                  <p>若您使用 ADDQUOTES，則必須在重新載入資料時，於 COPY 中指定 REMOVEQUOTES。</p>
               </dd>
             
               <dt><span class="term">NULL AS '<em>null-string</em>'</span></dt>
               <dd>
                  <p>指定一個字串，代表卸載檔案中的 null 值。若使用此選項，所有輸出檔案都會包含指定的字串，用以取代所選取資料中找到的任何 null 值。若未指定此選項，則 null 值會卸載為：</p>
                  <div class="itemizedlist">
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>分隔符號輸出的零長度字串 </p>
                     </li><li class="listitem">
                        <p>固定寬度輸出的空白字串</p>
                     </li></ul></div>
                  <p>若針對固定寬度卸載指定 null 字串，而輸出資料欄的寬度小於 null 字串的寬度，則會發生下列行為：</p>
                  <div class="itemizedlist">
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>非字元資料欄的輸出為空欄位 </p>
                     </li><li class="listitem">
                        <p>針對字元資料欄回報錯誤 </p>
                     </li></ul></div>
                  <p>與其他使用者定義字串代表 null 值的資料類型不同，Amazon Redshift 會使用 JSON 格式匯出 SUPER 資料欄，並在 JSON 格式決定時將其表示為 null 值。因此，SUPER 資料欄會忽略 UNLOAD 命令中使用的 NULL [AS] 選項。</p>
               </dd>
             
               <dt><span class="term">ESCAPE </span></dt>
               <dd>
                  <p>分隔符號卸載檔案的 CHAR 和 VARCHAR 資料欄中會放入逸出字元 (<code class="code">\</code>)，位於出現下列字元的每個位置前面：</p>
                  <div class="itemizedlist">
                      
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>換行：<code class="code">\n</code></p>
                     </li><li class="listitem">
                        <p>歸位字元: <code class="code">\r</code></p>
                     </li><li class="listitem">
                        <p>針對卸載資料指定的分隔符號字元。</p>
                     </li><li class="listitem">
                        <p>逸出字元：<code class="code">\</code></p>
                     </li><li class="listitem">
                        <p>引號字元：<code class="code">"</code> 或 <code class="code">'</code> (如果 UNLOAD 命令中同時指定了 ESCAPE 與 ADDQUOTES)。</p>
                     </li></ul></div>
                  <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>重要</h6></div><div class="awsdocs-note-text"><p>如果您使用 COPY 搭配 ESCAPE 選項載入資料，則在 UNLOAD 命令中也必須指定 ESCAPE 選項，以產生具相互關係的輸出檔案。同樣地，如果您使用 ESCAPE 選項執行 UNLOAD，則在 COPY 相同的資料時需要使用 ESCAPE。</p></div></div>
               </dd>
             
               <dt id="allowoverwrite"><span class="term">ALLOWOVERWRITE </span></dt>
               <dd>
                  <p>根據預設，若找到可能會覆寫的檔案，則 UNLOAD 會失敗。若指定了 ALLOWOVERWRITE，UNLOAD 會覆寫現有檔案，包括資訊清單檔案。</p>
               </dd>
             
               <dt id="cleanpath"><span class="term">CLEANPATH</span></dt>
               <dd>
                  <p>在將檔案卸載到指定位置之前，CLEANPATH 選項會移除 TO 子句中指定之 Amazon S3 路徑中的現有檔案。</p>
                  <p>如果您包含 PARTITION BY 子句，則只會從分割區資料夾中移除現有檔案，以接收 UNLOAD 作業所產生的新檔案。</p>
                  <p>您必須具有 Amazon S3 儲存貯體的 <code class="code">s3:DeleteObject</code> 許可。如需詳細資訊，請參閱《Amazon Simple Storage Service 使用者指南》<em></em>中的 <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/access-policy-language-overview.html">Amazon S3 的政策和許可</a>。您使用 CLEANPATH 選項移除的檔案會永久刪除，且無法復原。</p>
                  <p>如果您指定 ALLOWOVERWRITE 選項，則無法指定 CLEANPATH 選項。</p>
               </dd>
             
               <dt id="unload-parallel"><span class="term">PARALLEL </span></dt>
               <dd>
                  <p>依預設，UNLOAD 會根據叢集中的分割數，將資料平行寫入多個檔案。預設選項為 ON 或 TRUE。若 PARALLEL 為 OFF 或 FALSE，則 UNLOAD 會依序寫入一個或多個資料檔案，並絕對會根據 ORDER BY 子句 (如有使用的話) 排序。資料檔案大小上限為 6.2 GB。因此，假如您卸載 13.4 GB 的資料，UNLOAD 會建立下列三個檔案。</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="">s3://mybucket/key000    6.2 GB
s3://mybucket/key001    6.2 GB
s3://mybucket/key002    1.0 GB</code></pre>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注意</h6></div><div class="awsdocs-note-text"><p>UNLOAD 命令是設計為使用平行處理。我們建議在多數的情況將 PARALLEL 保持為啟用，特別是在使用 COPY 命令將檔案是用來載入資料表時。</p></div></div>
               </dd>
             
               <dt id="unload-maxfilesize"><span class="term">MAXFILESIZE [AS] max-size [ MB | GB ] </span></dt>
               <dd>
                  <p>指定 UNLOAD 在 Amazon S3 中建立的檔案大小上限。指定介於 5 MB 和 6.2 GB 之間的小數值。AS 關鍵字為選用。預設單位為 MB。如果未指定 MAXFILESIZE，則預設的檔案大小上限為 6.2 GB。資訊清單檔案的大小 (如有使用的話) 不受 MAXFILESIZE 的影響。</p>
               </dd>
             
               <dt id="unload-rowgroupsize"><span class="term">ROWGROUPSIZE [AS] size [ MB | GB ] </span></dt>
               <dd>
                  <p>指定資料列群組的大小。選擇較大的大小可減少資料列群組的數目，進而減少網路通訊量。請指定介於 32 MB 到 128 MB 之間的整數值。AS 關鍵字為選用。預設單位為 MB。</p>
                  <p>若沒有指定 ROWGROUPSIZE，則預設大小為 32 MB。若要使用此參數，儲存格式必須是 Parquet，且節點類型必須是 ra3.4xlarge、ra3.16xlarge、ds2.8xlarge 或 dc2.8xlarge。</p>
               </dd>
             
               <dt id="unload-region"><span class="term">REGION [AS] '<em>aws-region</em>'</span></dt>
               <dd>
                  <p>指定目標 Amazon S3 儲存貯體所在的 AWS 區域。當 Amazon S3 儲存貯體與 Amazon Redshift 資料庫不在相同 AWS 區域 內時，UNLOAD 就需要 REGION。</p>
                  <p><em>aws_region</em> 的值必須符合 <em>AWS 一般參考</em> 中 <a href="https://docs.aws.amazon.com/general/latest/gr/rande.html#redshift_region">Amazon Redshift 區域和端點</a>資料表中所列 AWS 區域。</p>
                  <p>根據預設，UNLOAD 會假設目標 Amazon S3 儲存貯體與 Amazon Redshift 資料庫位於相同的 AWS 區域。</p>
               </dd>
             
               <dt id="unload-extension"><span class="term">EXTENSION '<em>extension-name</em>'</span></dt>
               <dd>
                  <p>指定要附加到卸載檔案名稱的副檔名。Amazon Redshift 不會執行任何驗證，因此您必須確認指定的副檔名是否正確。如果您使用的是 GZIP 之類的壓縮方法，您仍然必須在副檔名參數中指定 <code class="code">.gz</code>。如果您不提供任何副檔名，Amazon Redshift 不會在文件名中添加任何內容。如果您指定壓縮方法而不提供副檔名，Amazon Redshift 只會將壓縮方法的副檔名新增至檔案名稱。</p>
               </dd>
            </dl></div>
       
         <h2 id="unload-usage-notes">使用須知</h2>
          
            <h3 id="unload-usage-escape">針對所有分隔文字的 UNLOAD 操作使用 ESCAPE</h3>
            <p>當您使用分隔符號執行 UNLOAD，則您的資料中可能包括分隔符號或 ESCAPE 選項說明中列出的任何字元。在這種情況下，則您必須在 UNLOAD 陳述式中使用 ESCAPE 選項。若您未使用 ESCAPE 選項搭配 UNLOAD，則後續使用卸載資料的 COPY 操作可能會失敗。</p>
            <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>重要</h6></div><div class="awsdocs-note-text"><p>強烈建議您一律使用 ESCAPE 搭配 UNLOAD 和 COPY 陳述式。如果您確定資料未包含任何分隔符號或可能需要逸出的其他字元，則為例外。</p></div></div>
          
          
            <h3 id="unload-usage-floating-point-precision">浮點數精確度喪失</h3>
            <p>您可能遇到後續卸載並重新載入的浮點資料精確度喪失的情況。</p>
          
          
            <h3 id="unload-usage-limit-clause">Limit 子句</h3>
            <p>SELECT 查詢無法在外部 SELECT 中使用 LIMIT 子句。例如，以下 UNLOAD 陳述式會失敗。</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">unload ('select * from venue limit 10')
to 's3://mybucket/venue_pipe_' iam_role 'arn:aws:iam::0123456789012:role/MyRedshiftRole'; </code></pre>
            <p>請改為使用巢狀 LIMIT 子句，如下列範例所示。</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">unload ('select * from venue where venueid in
(select venueid from venue order by venueid desc limit 10)')
to 's3://mybucket/venue_pipe_' iam_role 'arn:aws:iam::0123456789012:role/MyRedshiftRole';</code></pre>
            <p>您也可以使用 SELECT…INTO 或使用 LIMIT 子句的 CREATE TABLE AS 填入資料表，然後從該資料表卸載。</p>
          
          
            <h3 id="unload-usage-geometry">卸載 GEOMETRY 資料類型的欄位</h3>
            <p>您只能將 GEOMETRY 資料行卸載至文字或 CSV 格式。您無法卸載包含 <code class="code">FIXEDWIDTH</code> 選項的 GEOMETRY 資料。資料會以擴充已知二進位 (EWKB) 格式的十六進位形式卸載。如果 EWKB 資料的大小超過 4 MB，則會發生警告，因為資料稍後將無法載入資料表。</p>
          


          
            <h3 id="unload-usage-hll">卸載 HLLSKETCH 資料類型</h3>

            <p>您只能將 HLLSKETCH 資料欄卸載至文字或 CSV 格式。您無法卸載包含 <code class="code">FIXEDWIDTH</code> 選項的 HLLSKETCH 資料。如果是密集 HyperLogLog 草圖，則會以 Base64 格式卸載資料，若是稀疏 HyperLogLog 草圖則以 JSON 格式卸載。如需詳細資訊，請參閱<a href="./hyperloglog-functions.html">HyperLogLog 函數</a>。</p>
            <p>下列範例會將包含 HLLSKETCH 資料欄的資料表匯出至檔案。</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">CREATE TABLE a_table(an_int INT, b_int INT);
INSERT INTO a_table VALUES (1,1), (2,1), (3,1), (4,1), (1,2), (2,2), (3,2), (4,2), (5,2), (6,2);

CREATE TABLE hll_table (sketch HLLSKETCH);
INSERT INTO hll_table select hll_create_sketch(an_int) from a_table group by b_int;

UNLOAD ('select * from hll_table') TO 's3://mybucket/unload/'
IAM_ROLE 'arn:aws:iam::0123456789012:role/MyRedshiftRole' NULL AS 'null' ALLOWOVERWRITE CSV;</code></pre>
          

          
            
            <h3 id="unload-usage-varbyte">卸載 VARBYTE 資料類型的資料欄</h3>
            <p>您只能將 VARBYTE 資料欄卸載至文字或 CSV 格式。資料會以十六進位形式卸載。您無法卸載包含 <code class="code">FIXEDWIDTH</code> 選項的 VARBYTE 資料。不支援 UNLOAD CSV 的 <code class="code">ADDQUOTES</code> 選項。VARBYTE 資料欄不能是 PARTITIONED BY 資料欄。</p>
          


          
            <h3 id="unload-parquet-usage">FORMAT AS PARQUET 子句</h3>
            <p>使用 FORMAT AS PARQUET 時，請注意這些考量：</p>
            <div class="itemizedlist">
                
                
                
                
            <ul class="itemizedlist"><li class="listitem">
                  <p>卸載至 Parquet 不會使用檔案層級壓縮。每個資料列群組都會使用 SNAPPY 壓縮。</p>
               </li><li class="listitem">
                  <p>如果未指定 MAXFILESIZE，則預設的檔案大小上限為 6.2 GB。您可以使用 MAXFILESIZE 來指定 5 MB – 6.2 GB 的檔案大小。實際檔案大小會在寫入檔案時估算，因此可能不會與您指定的數字完全相等。</p>
                  <p>為了最大化掃描效能，Amazon Redshift 會嘗試建立包含 32-MB 相等大小資料列群組的 Parquet 檔案。您指定的 MAXFILESIZE 會自動四捨五入至最近的 32 MB 倍數。例如，如果您指定 MAXFILESIZE 為 200 MB，則每個卸載的 Parquet 檔案大約會是 192 MB (32 MB 資料列群組 x 6 = 192 MB)。</p>
               </li><li class="listitem">
                  <p>如果資料行使用 TIMESTAMPTZ 資料格式，則只會卸載時間戳記的值。不會卸載時區資訊。</p>
               </li><li class="listitem">
                  <p>請不要指定以底線 (_) 或句號 (.) 字元開頭的檔案名稱字首。Redshift Spectrum 會將以這些字元開頭的檔案視為隱藏檔案並進行忽略。</p>
               </li></ul></div>
          
          
            <h3 id="unload-partitionby-usage">PARTITION BY 子句</h3>
            <p>使用 PARTITION BY 時，請注意這些考量：</p>
            <div class="itemizedlist">

                
                
                
                
                
                

            <ul class="itemizedlist"><li class="listitem">
                  <p>分割區資料行不會包含在輸出檔案中。</p>
               </li><li class="listitem">
                  <p>請務必在用於 UNLOAD 陳述式的 SELECT 查詢中包含分割區資料行。您可以在 UNLOAD 命令中指定任何數量的分割區資料行。但是，其中一個限制是檔案內至少應包含一個非分割區資料行。</p>
               </li><li class="listitem">
                  <p>如果分割區索引鍵的值為 Null，Amazon Redshift 會自動將該資料卸載至稱為 <code class="code">partition_column=__HIVE_DEFAULT_PARTITION__</code> 的預設分割區。</p>
               </li><li class="listitem">
                  <p>UNLOAD 命令不會對外部目錄進行任何呼叫。如要註冊您新的分割區，使其成為您現有外部資料表的一部分，請使用單獨的 ALTER TABLE … ADD PARTITION … 命令。或者，您可以執行 CREATE EXTERNAL TABLE 命令來將已卸載的資料註冊為新的外部資料表。您也可以使用 AWS Glue 爬蟲程式來填入您的 Data Catalog。如需詳細資訊，請參閱《AWS Glue 開發人員指南》<em></em>中的<a href="https://docs.aws.amazon.com/glue/latest/dg/add-crawler.html">定義爬蟲程式</a>。</p>
               </li><li class="listitem">
                  <p>如果您使用 MANIFEST 選項，Amazon Redshift 只會在根 Amazon S3 資料夾中產生一個資訊清單檔案。</p>
               </li><li class="listitem">
                  <p>您可以用來做為分割區索引鍵的資料欄資料類型為 SMALLINT、INTEGER、BIGINT、DECIMAL、REAL、BOOLEAN、CHAR、VARCHAR、DATE 和 TIMESTAMP。</p>
               </li></ul></div>
          
         

         


         

          
            <h3 id="unload-assumerole-privilege-usage">使用 ASSUMEROLE 權限授予 (IAM) 角色存取權以進行 UNLOAD 操作</h3>

            <p>若要讓特定使用者和群組存取 IAM 角色以進行 UNLOAD 操作，超級使用者可以將 IAM 角色的 ASSUMEROLE 權限授予使用者和群組。如需相關資訊，請參閱 <a href="./r_GRANT.html">GRANT</a>。</p>

          

          
            <h3 id="unload-usage-s3-access-point-alias">UNLOAD 不支援 Amazon S3 Access Points 別名</h3>

            <p>您無法搭配 UNLOAD 命令使用 Amazon S3 Access Points 別名。</p>
          
         
       
            <h2 id="r_UNLOAD-examples">範例</h2>
            <p>如需顯示如何使用 UNLOAD 命令的範例，請參閱 <a href="./r_UNLOAD_command_examples.html">UNLOAD 範例</a>。</p>
         <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="警告" /> <strong>您的瀏覽器已停用或無法使用 Javascript。</strong></p><p>您必須啟用 Javascript，才能使用 AWS 文件。請參閱您的瀏覽器說明頁以取得說明。</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">文件慣用形式</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_TRUNCATE.html">TRUNCATE</div><div id="next" class="next-link" accesskey="n" href="./r_UNLOAD_command_examples.html">UNLOAD 範例</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">此頁面是否有幫助？ - 是</div><div class="content"><p>感謝您，讓我們知道我們做得很好！</p><p>若您有空，歡迎您告知我們值得讚許的地方，這樣才能保持良好服務。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="意見回饋" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_UNLOAD.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">此頁面是否有幫助？ - 否</div><div class="content"><p>感謝讓我們知道此頁面仍須改善。很抱歉，讓您失望。</p><p>若您有空，歡迎您提供改善文件的方式。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="意見回饋" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_UNLOAD.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>