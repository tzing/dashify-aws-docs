<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="zh-TW"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>CREATE TABLE - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_CREATE_TABLE_NEW" /><meta name="default_state" content="r_CREATE_TABLE_NEW" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_CREATE_TABLE_NEW.html" /><meta name="description" content="在目前資料庫中建立新的資料表。資料表的擁有者是 CREATE TABLE 命令的發行者。" /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="資料庫開發人員指南" /><meta name="abstract" content="使用 Amazon Redshift 這項 PB 級的完全受管企業等級資料倉儲服務，來建立和管理資料倉儲。" /><meta name="guide-locale" content="zh_tw" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_CREATE_TABLE_NEW.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_CREATE_TABLE_NEW.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_CREATE_TABLE_NEW.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_CREATE_TABLE_NEW.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_CREATE_TABLE_NEW.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_TABLE_NEW.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_TABLE_NEW.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_CREATE_TABLE_NEW.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_CREATE_TABLE_NEW.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_CREATE_TABLE_NEW.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_CREATE_TABLE_NEW.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_CREATE_TABLE_NEW.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_CREATE_TABLE_NEW.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_CREATE_TABLE_NEW.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_CREATE_TABLE_NEW.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_CREATE_TABLE_NEW.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_CREATE_TABLE_NEW.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_CREATE_TABLE_NEW.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_CREATE_TABLE_NEW.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_CREATE_TABLE_NEW.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_CREATE_TABLE_NEW.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_TABLE_NEW.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="資料庫開發人員指南" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="資料庫開發人員指南" /><meta id="panorama-serviceConsolePage" value="CREATE TABLE" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>CREATE TABLE - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#r_CREATE_TABLE_NEW" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_CREATE_TABLE_NEW.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_CREATE_TABLE_NEW.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_CREATE_TABLE_NEW.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,叢集,資料倉儲,開發人員,範例資料,database,資料庫開發人員,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "資料庫開發人員指南",
        "item" : "https://docs.aws.amazon.com/zh_tw/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "SQL 參考",
        "item" : "https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "SQL 命令",
        "item" : "https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "CREATE TABLE",
        "item" : "https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/c_SQL_commands.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#r_CREATE_TABLE_NEW" target="_blank" rel="noopener noreferrer" title="開啟 PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">文件</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">資料庫開發人員指南</a></div><div id="page-toc-src"><a href="#r_CREATE_TABLE-privileges">所需權限</a><a href="#r_CREATE_TABLE_NEW-synopsis">語法</a><a href="#r_CREATE_TABLE_NEW-parameters">參數</a><a href="#r_CREATE_TABLE_usage">使用須知</a><a href="#r_CREATE_TABLE_usage-examples">範例</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>本文為英文版的機器翻譯版本，如內容有任何歧義或不一致之處，概以英文版為準。</p></awsui-alert><h1 class="topictitle" id="r_CREATE_TABLE_NEW">CREATE TABLE</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>在目前資料庫中建立新的資料表。您可以定義資料欄清單，每個資料欄都會保留不同類型的資料。資料表的擁有者是 CREATE TABLE 命令的發行者。</p>
         <h2 id="r_CREATE_TABLE-privileges">所需權限</h2>
         <p>以下是 CREATE TABLE 所需的權限：</p>
         <div class="itemizedlist">
             
             
         <ul class="itemizedlist"><li class="listitem"><p>超級使用者</p></li><li class="listitem"><p>具有 CREATE TABLE 權限的使用者</p></li></ul></div>
       
         <h2 id="r_CREATE_TABLE_NEW-synopsis">語法</h2>
         
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">CREATE [ [LOCAL ] <span>{</span> TEMPORARY | TEMP } ] TABLE
[ IF NOT EXISTS ] <em>table_name</em>
( <span>{</span> <em>column_name data_type</em> [<em>column_attributes</em>] [ <em>column_constraints</em> ]
  | <em>table_constraints</em>
  | LIKE <em>parent_table</em> [ <span>{</span> INCLUDING | EXCLUDING } DEFAULTS ] }
  [, ... ]  )
[ BACKUP <span>{</span> YES | NO } ]
[<em>table_attributes</em>]

where <em>column_attributes</em> are:
  [ DEFAULT <em>default_expr</em> ]
  [ IDENTITY ( <em>seed</em>, <em>step</em> ) ]
  [ GENERATED BY DEFAULT AS IDENTITY ( <em>seed</em>, <em>step</em> ) ]
  [ ENCODE <em>encoding</em> ]
  [ DISTKEY ]
  [ SORTKEY ]
  [ COLLATE CASE_SENSITIVE | COLLATE CASE_INSENSITIVE  ]

and <em>column_constraints</em> are:
  [ <span>{</span> NOT NULL | NULL } ]
  [ <span>{</span> UNIQUE  |  PRIMARY KEY } ]
  [ REFERENCES <em>reftable</em> [ ( <em>refcolumn</em> ) ] ]

and <em>table_constraints</em>  are:
  [ UNIQUE ( <em>column_name</em> [, ... ] ) ]
  [ PRIMARY KEY ( <em>column_name</em> [, ... ] )  ]
  [ FOREIGN KEY (<em>column_name</em> [, ... ] ) REFERENCES <em>reftable</em> [ ( <em>refcolumn</em> ) ]


and <em>table_attributes</em> are:
  [ DISTSTYLE <span>{</span> AUTO | EVEN | KEY | ALL } ]
  [ DISTKEY ( <em>column_name</em> ) ]
  [ [COMPOUND | INTERLEAVED ] SORTKEY (<em> column_name</em> [,...]) |  [ SORTKEY AUTO ] ]
  [ ENCODE AUTO ]
         </code></pre>
       
         <h2 id="r_CREATE_TABLE_NEW-parameters">參數</h2>
         <div class="variablelist">
             
             
             
             
             
             
             
            
             
            
             
             
             
             

            
             


             
             
             
             
             
             
             
             
             

            
             
             
             
             
         <dl>
               <dt><span class="term">LOCAL </span></dt>
               <dd>
                  <p>選用。雖然陳述式中可接受此關鍵字，但是在 Amazon Redshift 中沒有作用。</p>
               </dd>
             
               <dt><span class="term">TEMPORARY | TEMP </span></dt>
               <dd>
                  <p>建立臨時資料表的關鍵字，只能在目前工作階段中看見。資料表會在建立所在的工作階段結束時自動捨棄。臨時資料表可與永久資料表同名。臨時資料表是以不同的工作階段專屬結構描述建立 (您無法指定此結構描述的名稱)。此臨時結構描述會成為搜尋路徑中的第一個結構描述，因此，除非您以結構描述名稱限定資料表名稱來存取永久資料表，否則臨時資料表的優先順序高於永久資料表。如需結構描述和優先順序的詳細資訊，請參閱 <a href="./r_search_path.html">search_path</a>。</p>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注意</h6></div><div class="awsdocs-note-text"><p>根據預設，資料庫使用者依其 PUBLIC 群組中的自動成員資格，具有建立臨時資料表的許可。若要拒絕使用者的此權限，請撤銷 PUBLIC 群組的 TEMP 權限，然後明確將 TEMP 權限僅授予特定使用者或使用者群組。</p></div></div>
               </dd>
             
               <dt><span class="term">IF NOT EXISTS</span></dt>
               <dd>
                  <p>此子句會指出，若指定的資料表已存在，則命令不應進行任何變更，且應傳回資料表存在的訊息，而不是在發生錯誤的情況下停止。請注意，現有資料表可能與這裡建立的資料表完全不一樣；只有資料表名稱進行比較。</p>
                  <p>此子句在編寫指令碼時很實用，如此指令碼就不會因為 CREATE TABLE 嘗試建立已存在的資料表而失敗。</p>
               </dd>
             
               <dt><span class="term"> <em>table_name</em> </span></dt>
               <dd>
                  <p>要建立的資料表名稱。</p>
                  <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>重要</h6></div><div class="awsdocs-note-text"><p>若您指定 '#' 開頭的資料表名稱，所建立的資料表會是臨時資料表。以下是範例：</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">create table #newtable (id int);</code></pre><p>您也可以使用 '# '參考資料表。例如：</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">select * from #newtable;</code></pre></div></div>
                  <p>資料表名稱的長度上限為 127 個位元組；超過此長度的名稱會截斷至 127 個位元組。您可以使用 UTF-8 多位元組字元，最長可達 4 個位元組。Amazon Redshift 會依節點類型強制執行每個叢集的資料表數目配額限制，包括使用者定義的臨時資料表，以及 Amazon Redshift 在查詢處理或系統維護期間建立的臨時資料表。或者，資料表名稱也可透過資料庫和結構描述名稱來限定。在以下範例中，資料庫名稱為 <code class="code">tickit</code>，結構描述名稱為 <code class="code">public</code>，而資料表名稱為 <code class="code">test</code>。</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="">create table tickit.public.test (c1 int);
</code></pre>
                  <p>如果資料庫或結構描述不存在，則不會建立資料表，而且陳述式會傳回錯誤。您無法在系統資料庫 <code class="code">template0</code>、<code class="code">template1</code>、<code class="code">padb_harvest</code> 或 <code class="code">sys:internal</code> 中建立資料表或視觀表。</p>
                  <p>若提供結構描述名稱，則會在該結構描述中建立新資料表 (假設建立者具有存取結構描述的權限)。資料表名稱對於該結構描述來說必須是唯一的。如果未指定結構描述，則會使用目前資料庫結構描述建立資料表。如果您要建立臨時資料表，就不能指定結構描述名稱，因為臨時資料表會採用特殊結構描述。</p>
                  <p>若臨時資料表是在不同的工作階段中建立的話，在同一個資料庫中可同時有多個同名的臨時資料表存在，因為資料表會指派至不同的結構描述。如需有效名稱的詳細資訊，請參閱 <a href="./r_names.html">名稱與識別符</a>。</p>
               </dd>
             
               <dt><span class="term"> <em>column_name</em> </span></dt>
               <dd>
                  <p>要在新資料表中建立的資料欄名稱。資料欄名稱的長度上限為 127 個位元組；超過此長度的名稱會截斷至 127 個位元組。您可以使用 UTF-8 多位元組字元，最長可達 4 個位元組。單一資料表中可定義的資料欄數目上限為 1,600 個。如需有效名稱的詳細資訊，請參閱 <a href="./r_names.html">名稱與識別符</a>。</p>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注意</h6></div><div class="awsdocs-note-text"><p>若您要建立「寬資料表」，則務必注意，在載入和查詢處理期間，您的資料欄清單未超過中繼結果的資料列寬度界限。如需詳細資訊，請參閱<a href="#r_CREATE_TABLE_usage">使用須知</a>。</p></div></div>
               </dd>
             
               <dt><span class="term"> <em>data_type</em> </span></dt>
               <dd>
                  <p>要建立之資料欄的資料類型。若是 CHAR 和 VARCHAR 資料欄，您可以改用 MAX 關鍵字，而不宣告長度上限。MAX 會將 CHAR 的長度上限設定為 4,096 個位元組，或將 VARCHAR 的長度上限設定為 65535 個位元組。GEOMETRY 物件的大小上限是 1,048,447 位元組。</p>
                  <p>如需有關 Amazon Redshift 支援資料類型的資訊，請參閱 <a href="./c_Supported_data_types.html">資料類型</a>。</p>
               </dd>
             
               <dt id="create-table-default"><span class="term">DEFAULT <em>default_expr</em> </span></dt>
               <dd>
                  <p>此子句會指派資料欄的預設資料值。<em>default_expr</em> 的資料類型必須符合資料欄的資料類型。DEFAULT 值必須是無變數的表達式。不允許子查詢、目前資料表中其他資料欄的交叉參考，以及使用者定義的功能。</p>
                  <p><em>default_expr</em> 表達式是在未指定資料欄值的任何 INSERT 操作中使用。若未指定預設值，則資料欄的預設值為 null。</p>
                  <p>若在既定資料欄清單上進行的 COPY 操作省略有 DEFAULT 值的資料欄，則 COPY 命令會插入 <em>default_expr</em> 的值。</p>
               </dd>
             
               <dt id="identity-clause"><span class="term">IDENTITY(<em>seed</em>, <em>step</em>) </span></dt>
               <dd>
                  <p>此子句會指出資料欄是 IDENTITY 資料欄。IDENTITY 資料欄包含唯一的自動產生值。IDENTITY 資料欄的資料類型必須是 INT 或 BIGINT。</p>
                  <p>當您使用 <code class="code">INSERT</code> 或 <code class="code">INSERT INTO
                        [tablename] VALUES()</code> 陳述式新增資料列時，這些值會從指定為 <em>seed</em> 的值開始，並依指定為 <em>step</em> 的數字遞增。</p>
                  <p>使用 <code class="code">INSERT INTO [tablename] SELECT *
                        FROM</code> 或 <code class="code">COPY</code> 陳述式載入資料表時，會並行載入資料並將其分發至節點片段。為確保身分值是唯一的，Amazon Redshift 會在建立身分值時略過一些值。身分值是唯一的，但順序可能不符合來源檔案中的順序。</p>
               </dd>
             
               <dt id="identity-generated-bydefault-clause"><span class="term">GENERATED BY DEFAULT AS IDENTITY(<em>seed</em>, <em>step</em>) </span></dt>
               <dd>
                  <p>指定資料欄是預設 IDENTITY 資料欄的子句，其可讓您自動將唯一值指派給資料欄。IDENTITY 資料欄的資料類型必須是 INT 或 BIGINT。當您新增沒有值的資料列時，這些值會從指定為 <em>seed</em> 的值開始，並依指定為 <em>step</em> 的數字遞增。如需如何產生值的詳細資訊，請參閱<a href="#identity-clause">IDENTITY</a>。</p>
                  <p>此外，在 INSERT、UPDATE 或 COPY 期間，您可以提供沒有 EXCLIIT_IDS 的值。Amazon Redshift 會使用該值插入身分資料欄，而不是使用系統產生的值。此值可以是複本、小於種子的值，或是介於步驟值之間的值。Amazon Redshift 不會檢查資料欄中的值是否是唯一的。提供一值並不會影響下一個系統產生的值。</p>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注意</h6></div><div class="awsdocs-note-text"><p>如果您需要資料欄中的唯一性，請不要新增複本值。改為新增小於種子或介於步驟值之間的唯一值。</p></div></div>
                  
                  <p>請記住下列有關預設身分資料欄的事項：</p>
                  <div class="itemizedlist">
                      
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>預設身分資料欄為 NOT NULL。無法插入 NULL。</p>
                     </li><li class="listitem">
                        <p>若要將產生的值插入至預設身分資料欄，請使用關鍵字 <code class="code">DEFAULT</code>。</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">INSERT INTO <code class="replaceable">tablename</code> (<code class="replaceable">identity-column-name</code>) VALUES (DEFAULT);</code></pre>
                     </li><li class="listitem">
                        <p>置換預設身分資料欄的值並不會影響下一個產生的值。</p>
                     </li><li class="listitem">
                        <p>您無法利用 ALTER TABLE ADD COLUMN 陳述式來新增預設身分資料欄。</p>
                     </li><li class="listitem">
                        <p>您可以利用 ALTER TABLE APPEND 陳述式來附加預設身分資料欄。</p>
                     </li></ul></div>
               </dd>
             
               <dt id="create-table-encode"><span class="term">ENCODE <em>encoding</em> </span></dt>
               <dd>
                  <p>資料欄的壓縮編碼。ENCODE AUTO 是資料表的預設值。Amazon Redshift 會自動管理資料表中所有資料欄的壓縮編碼。如果您為資料表中的任何資料欄指定壓縮編碼，資料表就不會再設定為 ENCODE AUTO。Amazon Redshift 不再自動管理資料表中所有資料欄的壓縮編碼。您可以為資料表指定 ENCODE AUTO 選項，讓 Amazon Redshift 自動管理資料表中所有資料欄的壓縮編碼。</p>
                  <p></p>


                  <p>Amazon Redshift 會自動將初始壓縮編碼指派給您未指定壓縮編碼的資料欄，如下所示：</p>
                  <div class="itemizedlist">
                      
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>暫時資料表中的所有資料欄預設都會有指派的 RAW 壓縮。</p>
                     </li><li class="listitem">
                        <p>定義為排序索引鍵的資料欄會有指派的 RAW 壓縮。</p>
                     </li><li class="listitem">
                        
                        <p>定義為 BOOLEAN、REAL、DOUBLE PRECISION、GEOMETRY 或 GEOGRAPHY 資料類型的資料行會有指派的 RAW 壓縮。</p>
                     </li><li class="listitem">

                        <p>定義為 SMALLINT、INTEGER、BIGINT、DECIMAL、DATE、TIME、TIMETZ、TIMESTAMP 或 TIMESTAMPTZ 的資料欄會有指派的 AZ64 壓縮。</p>

                     </li><li class="listitem">
                        <p>定義為 CHAR、VARCHAR 或 VARBYTE 的資料欄會有指派的 LZO 壓縮。</p>
                     </li></ul></div>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注意</h6></div><div class="awsdocs-note-text"><p>若您不想要壓縮資料欄，請明確指定 RAW 編碼。</p></div></div>
                  <p> 支援以下 <a href="./c_Compression_encodings.html#compression-encoding-list">compression encodings</a>：</p>
                  <div class="itemizedlist">
                     
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>AZ64</p>
                     </li><li class="listitem">
                        <p>BYTEDICT</p>
                     </li><li class="listitem">
                        <p>DELTA</p>
                     </li><li class="listitem">
                        <p>DELTA32K</p>
                     </li><li class="listitem">
                        <p>LZO</p>
                     </li><li class="listitem">
                        <p>MOSTLY8</p>
                     </li><li class="listitem">
                        <p>MOSTLY16</p>
                     </li><li class="listitem">
                        <p>MOSTLY32</p>
                     </li><li class="listitem">
                        <p>RAW (無壓縮)</p>
                     </li><li class="listitem">
                        <p>RUNLENGTH</p>
                     </li><li class="listitem">
                        <p>TEXT255</p>
                     </li><li class="listitem">
                        <p>TEXT32K</p>
                     </li><li class="listitem">
                        <p>ZSTD</p>
                     </li></ul></div>
               </dd>
             
               <dt><span class="term">DISTKEY</span></dt>
               <dd>
                  <p>此關鍵字會指定資料欄是資料表的分佈索引鍵。資料表中只能有一個資料欄是分佈索引鍵。您可以在資料欄名稱後面使用 DISTKEY 關鍵字，或使用 DISTKEY (<em>column_name</em>) 語法使其成為資料表定義的一部分。兩種方法的效果一樣。如需詳細資訊，請參閱本主題稍後的 DISTSTYLE 參數。</p>
                  
                  <p>分佈索引鍵資料欄的資料類型可以是：BOOLEAN、REAL、DOUBLE PRECISION、SMALLINT、INTEGER、BIGINT、DECIMAL、DATE、TIME、TIMETZ、TIMESTAMP 或 TIMESTAMPTZ、CHAR 或 VARCHAR。</p>
               </dd>
             
               <dt><span class="term">SORTKEY</span></dt>
               <dd>
                  <p>此關鍵字會指定資料欄是資料表的排序索引鍵。當資料載入資料表時，資料會依指定為排序索引鍵的一個或多個資料欄排序。您可以在資料欄名稱後面使用 SORTKEY 關鍵字指定單欄排序索引鍵，或使用 SORTKEY (<em>column_name</em> [, ...]) 語法指定一個或多個資料欄做為資料表的排序索引鍵資料欄。此語法只會建立複合排序索引鍵。</p>
                  <p>您最多可為每個資料表定義 400 個 SORTKEY 資料欄。</p>
                  
                  <p>排序索引鍵資料欄的資料類型可以是：BOOLEAN、REAL、DOUBLE PRECISION、SMALLINT、INTEGER、BIGINT、DECIMAL、DATE、TIME、TIMETZ、TIMESTAMP 或 TIMESTAMPTZ、CHAR 或 VARCHAR。</p>

               </dd>
             
               <dt><span class="term">COLLATE CASE_SENSITIVE | COLLATE CASE_INSENSITIVE</span></dt>
               <dd>
                  <p>指定資料欄上的字串搜尋或比較是 CASE_SENSITIVE 或 CASE_INSENSITIVE 的子句。預設值與資料庫目前的區分大小寫設定相同。</p>

              <p>若要尋找資料庫定序資訊，請使用下列命令：</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">SELECT db_collation();
                     
<code class="computeroutput" copy="false">db_collation
----------------
 case_sensitive
(1 row)</code></code></pre>
                  </dd>
             
               <dt><span class="term">NOT NULL | NULL </span></dt>
               <dd>
                  <p>NOT NULL 會指定不允許資料欄包含 null 值。NULL 是預設值，指出資料欄可接受 null 值。IDENTITY 資料欄預設會宣告為 NOT NULL。</p>
               </dd>
             
               <dt><span class="term">UNIQUE</span></dt>
               <dd>
                  <p>此關鍵字會指定資料欄只能包含唯一值。唯一資料表限制條件的行為與資料欄限制條件的行為相同，但多了可橫跨多個資料欄的額外功能。若要定義唯一資料表限制條件，請使用 UNIQUE (<em>column_name</em> [, ... ]) 語法。</p>
                  <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>重要</h6></div><div class="awsdocs-note-text"><p>唯一限制條件僅供參考，系統不會強制執行它們。</p></div></div>
               </dd>
             
               <dt><span class="term">PRIMARY KEY</span></dt>
               <dd>
                  <p>此關鍵字會指定資料欄是資料表的主索引鍵。只能使用資料欄定義將一個資料欄定義為主索引鍵。若要定義具有多資料欄主索引鍵的資料表限制條件，請使用 PRIMARY KEY (<em>column_name</em> [, ... ]) 語法。</p>
                  <p>將資料欄識別為主索引鍵即可提供有關結構描述設計的中繼資料。主索引鍵表示，其他資料表可倚賴這組資料欄做為資料列的唯一識別符。一個資料表中可指定一個主索引鍵，無論是資料欄限制條件或資料表限制條件都可行。主索引鍵限制條件應命名一組資料欄，這組資料欄有別於由為相同資料表所定義的任何唯一限制條件命名的其他資料欄組。</p>
                  
                  <p>主索引鍵也會定義為 NOT NULL。</p>
                  <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>重要</h6></div><div class="awsdocs-note-text"><p>主索引鍵條件限制僅供參考。系統不會強制執行這些限制，不過規劃器會使用這些限制。</p></div></div>
               </dd>
             
               <dt><span class="term">References <em>reftable</em> [ ( <em>refcolumn</em> ) ]</span></dt>
               <dd>
                  <p>此子句會指定外部索引鍵限制條件，表示資料欄包含的值只能是符合參考資料表中某一資料列之參考資料欄的值。參考資料欄應為參考資料表中唯一或主索引鍵限制條件的資料欄。</p>
                  <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>重要</h6></div><div class="awsdocs-note-text"><p> 外部索引鍵條件限制僅供參考。系統不會強制執行這些限制，不過規劃器會使用這些限制。</p></div></div>
               </dd>
             
               <dt id="create-table-like"><span class="term">LIKE <em>parent_table</em> [ <span>{</span> INCLUDING | EXCLUDING } DEFAULTS ] </span></dt>
               <dd>
                  <p>此子句會指定現有資料表，新資料表會自動從該資料表複製資料欄名稱、資料類型及 NOT NULL 限制條件。新資料表和父資料表是分開的，對父資料表所做的變更不會套用至新資料表。複製資料欄定義的預設表達式只會在指定了 INCLUDING DEFAULTS 時複製。預設行為是執行預設表達式，如此一來，新資料表中所有資料欄的預設值都是 null。</p>
                  <p>使用 LIKE 選項建立的資料表不會繼承主索引鍵和外部索引鍵限制條件。LIKE 資料表會繼承分佈樣式、排序索引鍵、BACKUP 及 NULL 屬性，但您無法明確設定這些屬性在 CREATE TABLE ... LIKE 陳述式。</p>
               </dd>
             
               <dt id="create-table-backup"><span class="term">BACKUP <span>{</span> YES | NO } </span></dt>
               <dd>
                  <p>此子句會指定資料表是否應包含在自動化和手動叢集快照中。若是像臨時資料表這類不會包含重要資料的資料表，指定 BACKUP NO 可以在建立快照以及從快照還原時節省處理時間，並減少 Amazon Simple Storage Service 上的儲存空間。BACKUP NO 設定對於將資料自動複寫到叢集內其他節點的操作並無影響，因此指定了 BACKUP NO 的資料表會在節點故障時還原。預設值為 BACKUP YES。</p>
               </dd>
             
               <dt><span class="term">DISTSTYLE <span>{</span> AUTO | EVEN | KEY | ALL }</span></dt>
               <dd>
                  <p>定義整個資料表的資料分佈樣式的關鍵字。Amazon Redshift 會根據資料表上指定的分佈樣式，將資料表的資料列分散到運算節點。預設值為 AUTO。</p>
                  <p>您為資料表選取的分佈樣式會影響資料庫的整體效能。如需詳細資訊，請參閱<a href="./t_Distributing_data.html">使用資料分佈樣式</a>。可能的分佈樣式如下：</p>
                  <div class="itemizedlist">
                     
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">


                        

                        
                        <p>AUTO：Amazon Redshift 會根據資料表資料來指派最佳分佈樣式。例如，如果指定 AUTO 分佈樣式，Amazon Redshift 一開始會將 ALL 分佈樣式指派給小型資料表。當資料表變大時，Amazon Redshift 可能會將分佈樣式變更為 KEY，並選擇主索引鍵 (或複合主鍵的資料欄) 作為 DISTKEY。如果資料表變大，並且沒有任何資料欄適合作為 DISTKEY，則 Amazon Redshift 會將分佈樣式變更為 EVEN。分佈樣式的變更會發生在背景中，對使用者查詢的影響最小。</p>

                           <p>若要檢視套用至資料表的分佈樣式，請查詢 PG_CLASS 系統目錄資料表。如需詳細資訊，請參閱<a href="./viewing-distribution-styles.html">檢視分佈樣式</a>。</p>

                     </li><li class="listitem">
                        <p>EVEN：資料表中的資料會採循環分佈的方式，均勻分配到叢集中的各個節點。資料列 ID 會用來決定分佈，並且將大致相同的資料列數分佈到每個節點。</p>
                     </li><li class="listitem">
                        <p>KEY：資料是依 DISTKEY 資料欄中的值分佈。當您將聯結資料表的聯結資料欄設定為分佈索引鍵時，兩個資料表的聯結資料列會在運算節點上並存。資料並存時，最佳化工具就能更有效率地執行聯結。若您指定 DISTSTYLE KEY，則必須命名 DISTKEY 資料欄，無論是資料表或做為資料欄定義的一部分皆可。如需詳細資訊，請參閱本主題前段的 DISTKEY 參數。</p>
                     </li><li class="listitem">
                        <p> ALL：整個資料表的副本分佈至每個節點。此分佈樣式可確保每個節點上都有任何聯結所需的所有資料列，但儲存空間的需求也會倍增，並且會增加資料表的負載和維護次數。ALL 分佈在 KEY 分佈不適用的情況下搭配特定維度資料表使用時，可改善執行時間，但必須在效能提升與維護成本之間進行權衡。</p>
                     </li></ul></div>
               </dd>
             
               <dt><span class="term">DISTKEY (<em>column_name</em>)</span></dt>
               <dd>
                  <p>此限制條件會指定要做為資料表分佈索引鍵的資料欄。您可以在資料欄名稱後面使用 DISTKEY 關鍵字，或使用 DISTKEY (<em>column_name</em>) 語法使其成為資料表定義的一部分。兩種方法的效果一樣。如需詳細資訊，請參閱本主題前段的 DISTSTYLE 參數。</p>
               </dd>
             
               
               <dt><span class="term">[COMPOUND | INTERLEAVED ] SORTKEY (<em> column_name</em> [,...]) | [ SORTKEY AUTO ]</span></dt>


               <dd>
                  
                  
                  <p>指定資料表的一個或多個排序索引鍵。當資料載入資料表時，資料會依指定為排序索引鍵的資料欄排序。您可以在資料欄名稱後面使用 SORTKEY 關鍵字指定單欄排序索引鍵，或使用 <code class="code">SORTKEY (column_name [ , ... ] )</code> 語法指定一個或多個資料欄做為資料表的排序索引鍵資料欄。</p>
                  <p>您也可以選擇指定 COMPOUND 或 INTERLEAVED 排序樣式。如果您使用資料欄指定 SORTKEY，則預設值為 COMPOUND。如需詳細資訊，請參閱<a href="./t_Sorting_data.html">使用排序索引鍵</a>。</p>
                  <p>若沒有指定任何排序索引鍵選項，則預設值為 AUTO。</p>
                  <p>您最多可為每個資料表定義 400 個 COMPOUND SORTKEY 資料欄或 8 個 INTERLEAVED SORTKEY 資料欄。</p>

                  <div class="variablelist">
                     
                      

                      
                      
                  <dl>
                        <dt><span class="term">AUTO</span></dt>
                        <dd>
                           <p>指定 Amazon Redshift 會根據資料表資料指派最佳排序索引鍵。例如，如果指定 AUTO 排序索引鍵，Amazon Redshift 一開始就不會為資料表指派任何排序索引鍵。如果 Amazon Redshift 判斷排序索引鍵可以改善查詢效能，那麼 Amazon Redshift 可能會在變更資料表的排序索引鍵。資料表的實際排序是透過自動資料表排序來完成的。如需詳細資訊，請參閱<a href="./t_Reclaiming_storage_space202.html#automatic-table-sort">自動資料表排序</a>。</p>

                           <p>Amazon Redshift 不會修改已具有排序或分佈索引鍵的資料表。有一個例外情況是，如果資料表具有從未在 JOIN 中使用過的分佈索引鍵，則當 Amazon Redshift 判斷有更好的索引鍵時，則索引鍵可能會變更。</p>

                           <p>若要檢視資料表的排序索引鍵，請查詢 SVV_TABLE_INFO 系統目錄檢視。如需詳細資訊，請參閱<a href="./r_SVV_TABLE_INFO.html">SVV_TABLE_INFO</a>。若要檢視資料表的 Amazon Redshift Advisor 建議，請查詢 SVV_ALTER_TABLE_RECOMMENDATIONS 系統目錄檢視。如需詳細資訊，請參閱<a href="./r_SVV_ALTER_TABLE_RECOMMENDATIONS.html">SVV_ALTER_TABLE_RECOMMENDATIONS</a>。若要檢視 Amazon Redshift 所採取的動作，請查詢 SVL_AUTO_WORKER_ACTION 系統目錄檢視。如需詳細資訊，請參閱<a href="./r_SVL_AUTO_WORKER_ACTION.html">SVL_AUTO_WORKER_ACTION</a>。</p>

                        </dd>
                      
                        <dt><span class="term">COMPOUND</span></dt>
                        <dd>
                           <p>指定使用複合索引鍵排序資料，該索引鍵是由列出的所有資料欄組成，並依其列出順序排列。當查詢依據排序資料欄的順序掃描資料列時，複合排序索引鍵最實用。當查詢依賴次要排序資料欄時，使用複合索引鍵排序的效能優勢就會降低。您最多可為每個資料表定義 400 個 COMPOUND SORTKEY 資料欄。</p>
                        </dd>
                      
                        <dt><span class="term">INTERLEAVED</span></dt>
                        <dd>
                           <p>指定使用交錯排序索引鍵排序資料。最多可以為交錯排序索引鍵指定八個資料欄。</p>
                           <p>交錯排序索引鍵對排序索引鍵中的每個資料欄 (或資料欄子集) 都提供相等的權重，所以查詢不會取決於排序索引鍵中資料欄的順序。當查詢使用一個或多個次要排序資料欄時，交錯排序可大幅改善查詢效能。交錯排序在執行資料載入和清空操作時，會產生很少的額外負荷成本，</p>
                           <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>重要</h6></div><div class="awsdocs-note-text"><p>不要在具有依序增加屬性 (如身分資料欄、日期或時間戳記) 的資料欄上使用交錯排序索引鍵。</p></div></div>
                        </dd>
                     </dl></div>
               </dd>
             
               <dt><span class="term">ENCODE AUTO </span></dt>
               <dd><p>讓 Amazon Redshift 能夠自動調整資料表中所有資料欄的編碼類型，以最佳化查詢效能。ENCODE AUTO 會保留您在建立資料表時指定的初始編碼類型。然後，如果 Amazon Redshift 判斷新的編碼類型可以改善查詢效能，Amazon Redshift 就可以變更資料表資料欄的編碼類型。如果您沒有在資料表中的任何資料欄上指定編碼類型，ENCODE AUTO 就是預設值。</p>

               </dd>
             
               <dt><span class="term">UNIQUE ( <em>column_name</em> [,...] )</span></dt>
               <dd>
                  <p>此限制條件會指定，資料表中一個包含一個或多個資料欄的群組只能包含唯一值。唯一資料表限制條件的行為與資料欄限制條件的行為相同，但多了可橫跨多個資料欄的額外功能。在唯一限制條件的細節中，不會將 null 值視為相等。每個唯一資料表限制條件必須命名一組資料欄，這組資料欄有別於為資料表所定義的任何其他唯一或主索引鍵限制條件所命名的資料欄組。</p>
                  <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>重要</h6></div><div class="awsdocs-note-text"><p> 唯一限制條件僅供參考，系統不會強制執行它們。</p></div></div>
               </dd>
             
               <dt><span class="term">PRIMARY KEY ( <em>column_name</em> [,...] )</span></dt>
               <dd>
                  <p>此限制條件會指定，資料表中的一個或多個資料欄只能包含唯一的 (不重複) 非 null 值。將一組資料欄識別為主索引鍵也會提供有關結構描述設計的中繼資料。主索引鍵表示，其他資料表可倚賴這組資料欄做為資料列的唯一識別符。一個資料表中可指定一個主索引鍵，無論是單一資料欄限制條件或資料表限制條件都可行。主索引鍵限制條件應命名一組資料欄，這組資料欄有別於由為相同資料表所定義的任何唯一限制條件命名的其他資料欄組。</p>
                  <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>重要</h6></div><div class="awsdocs-note-text"><p> 主索引鍵條件限制僅供參考。系統不會強制執行這些限制，不過規劃器會使用這些限制。</p></div></div>
               </dd>
             
               <dt><span class="term">FOREIGN KEY ( <em>column_name</em> [, ... ] ) REFERENCES <em>reftable</em> [ ( <em>refcolumn</em> ) ] </span></dt>
               <dd>
                  <p>此限制條件會指定外部索引鍵限制條件，其要求新資料表中一個包含一個或多個資料欄的群組包含的值，只能是符合參考資料表中某一資料列之參考資料欄的值。如果省略 <em>refcolumn</em>，則會使用 <em>reftable</em> 的主索引鍵。參考資料欄必須為參考資料表中唯一或主索引鍵限制條件的資料欄。</p>
                  <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>重要</h6></div><div class="awsdocs-note-text"><p>外部索引鍵條件限制僅供參考。系統不會強制執行這些限制，不過規劃器會使用這些限制。</p></div></div>
               </dd>
            </dl></div>
       
         <h2 id="r_CREATE_TABLE_usage">使用須知</h2>
         
         <p>唯一性、主索引鍵和外部索引鍵限制僅供參考，Amazon Redshift 不會在您填入資料表時<em>強制執行它們</em>。例如，如果您將資料插入具有相依性的資料表中，即使插入違反限制也可以成功執行。儘管如此，主索引鍵和外部索引鍵仍會做為規劃提示，而且如果您的 ETL 程序或應用程式中的某些其他程序強制其完整性，則應該宣告它們。如需如何捨棄具有相依性之資料表的資訊，請參閱 <a href="./r_DROP_TABLE.html">DROP TABLE</a>。</p>
         
          
            <h3 id="r_CREATE_TABLE_usage-limits">限制和配額</h3>
            <p>建立資料表時，請考量下列限制。</p>
            <div class="itemizedlist">
               
                
                
                
                
               
            <ul class="itemizedlist"><li class="listitem">
                  <p>根據節點類型，叢集中的資料表數目上限有所限制。如需詳細資訊，請參閱《Amazon Redshift 管理指南》<em></em>中的<a href="https://docs.aws.amazon.com/redshift/latest/mgmt/amazon-redshift-limits.html">限制</a>。</p>
               </li><li class="listitem">
                  <p>資料表名稱的字元數上限為 127 個。</p>
               </li><li class="listitem">
                  <p>單一資料表中可定義的資料欄數目上限為 1,600 個。</p>
               </li><li class="listitem">
                  <p>單一資料表中可定義的 SORTKEY 資料欄數目上限為 400 個。</p>
               </li></ul></div>
          
          
            <h3 id="r_CREATE_TABLE_usage-summary_of_settings">欄位層級設定和資料表層級設定的摘要</h3>
            <p> 在資料欄層級或資料表層級可設定數種屬性和設定。某些情況下，在資料欄層級或資料表層級設定屬性或限制條件的效果相同。而有些情況下則會產生不同的結果。</p>
            <p> 下列清單摘要說明資料欄層級和資料表層級設定：</p>
            <div class="variablelist">
                
                
               
                
                
                
                
            <dl>
                  <dt><span class="term">DISTKEY</span></dt>
                  <dd>
                     <p>在資料欄層級或資料表層級設定的效果並無差異。</p>
                     <p>如果設定了 DISTKEY，無論是在資料欄層級或資料表層級，DISTSTYLE 都必須設定為 KEY，或完全不設定。DISTSTYLE 只能在資料表層級設定。</p>
                  </dd>
                
                  <dt><span class="term">SORTKEY</span></dt>
                  <dd>
                     <p>若在資料欄層級設定，SORTKEY 必須是單一資料欄。若在資料表層級設定 SORTKEY，可由一個或多個資料欄組成複合或交錯的複合排序索引鍵。</p>
                  </dd>
                
                  <dt><span class="term">COLLATE CASE_SENSITIVE | COLLATE CASE_INSENSITIVE</span></dt>
                  <dd><p>Amazon Redshift 不支援修改資料欄的區分大小寫組態。當您將新的資料欄附加到資料表時，Amazon Redshift 會使用預設值來區分大小寫。Amazon Redshift 在附加新的資料欄時不支援 COLLATE 關鍵字。</p>
                     <p>如需如何使用資料庫定序建立資料庫的資訊，請參閱 <a href="./r_CREATE_DATABASE.html">CREATE DATABASE</a>。</p>
                     <p>如需 COLLATE 函數的詳細資訊，請參閱 <a href="./r_COLLATE.html">COLLATE 函數</a>。</p>
                  </dd>
                  
                
                  <dt><span class="term">UNIQUE</span></dt>
                  <dd>
                     <p>在資料欄層級可將一個或多個索引鍵設定為 UNIQUE；UNIQUE 限制條件會分別套用至每個資料欄。若在資料表層級設定 UNIQUE，可由一個或多個資料欄組成複合 UNIQUE 限制條件。</p>
                  </dd>
                
                  <dt><span class="term">PRIMARY KEY</span></dt>
                  <dd>
                     <p>若在資料欄層級設定，PRIMARY KEY 必須是單一資料欄。若在資料表層級設定 PRIMARY KEY，可由一個或多個資料欄組成複合主索引鍵。</p>
                  </dd>
                
                  <dt><span class="term">FOREIGN KEY</span></dt>
                  <dd>
                     <p>無論 FOREIGN KEY 是在資料欄層級或資料表層級設定，其效果並無差異。在資料欄層級的語法為單純的 <code class="code">REFERENCES</code> <em>reftable</em> [( <em>refcolumn</em> )]。</p>
                  </dd>
               </dl></div>
          
          
            <h3 id="r_CREATE_TABLE_usage-distribution-of-incoming-data">傳入資料的分佈</h3>
            <p>當傳入資料的雜湊分佈機制與目標資料表的機制相同時，不需要在資料載入時實際分佈資料。例如，如果新資料表設定了分佈索引鍵，而且要從另一個分佈在相同索引鍵資料欄上的資料表插入資料，則會使用相同的節點和分割就地載入資料。不過，如果來源和目標資料表都設定為 EVEN 分佈，則資料會重新分佈至目標資料表中。</p>
          
          
            <h3 id="r_CREATE_TABLE_usage-wide-tables">寬資料表</h3>
            <p>您或許能夠建立非常寬的資料表，但無法在資料表上執行查詢處理，像是 INSERT 或 SELECT 陳述式。有固定寬度資料欄 (如 CHAR) 的資料表寬度上限為 64KB - 1 (或 65535 個位元組)。如果資料表包含 VARCHAR 資料欄，資料表就能擁有較大的宣告寬度，而不會傳回錯誤，因為 VARCHARS 資料欄的宣告寬度不會完全計入計算出的查詢處理限制。VARCHAR 資料欄的有效查詢處理限制會因為一些因素而不同。</p>
            <p>如果資料表對於插入或選取操作來說太寬，您會收到下列錯誤。</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="">ERROR:  8001
DETAIL:  The combined length of columns processed in the SQL statement
exceeded the query-processing limit of 65535 characters (pid:7627)</code></pre>
            
          
         
         
         
         
       
         <h2 id="r_CREATE_TABLE_usage-examples">範例</h2>
         <p>如需示範如何使用 CREATE TABLE 命令的範例，請參閱 <a href="./r_CREATE_TABLE_examples.html">範例</a> 主題。</p>
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="警告" /> <strong>您的瀏覽器已停用或無法使用 Javascript。</strong></p><p>您必須啟用 Javascript，才能使用 AWS 文件。請參閱您的瀏覽器說明頁以取得說明。</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">文件慣用形式</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_CREATE_SCHEMA.html">CREATE SCHEMA</div><div id="next" class="next-link" accesskey="n" href="./r_CREATE_TABLE_examples.html">範例</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">此頁面是否有幫助？ - 是</div><div class="content"><p>感謝您，讓我們知道我們做得很好！</p><p>若您有空，歡迎您告知我們值得讚許的地方，這樣才能保持良好服務。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="意見回饋" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_CREATE_TABLE_NEW.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">此頁面是否有幫助？ - 否</div><div class="content"><p>感謝讓我們知道此頁面仍須改善。很抱歉，讓您失望。</p><p>若您有空，歡迎您提供改善文件的方式。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="意見回饋" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_CREATE_TABLE_NEW.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>