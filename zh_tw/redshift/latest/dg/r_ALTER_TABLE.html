<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="zh-TW"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>ALTER TABLE - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_ALTER_TABLE" /><meta name="default_state" content="r_ALTER_TABLE" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_ALTER_TABLE.html" /><meta name="description" content="修改 Amazon Redshift 資料表的定義。此命令會更新 或 設定的值和屬性。" /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="資料庫開發人員指南" /><meta name="abstract" content="使用 Amazon Redshift 這項 PB 級的完全受管企業等級資料倉儲服務，來建立和管理資料倉儲。" /><meta name="guide-locale" content="zh_tw" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_ALTER_TABLE.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="資料庫開發人員指南" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="資料庫開發人員指南" /><meta id="panorama-serviceConsolePage" value="ALTER TABLE" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>ALTER TABLE - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#r_ALTER_TABLE" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_ALTER_TABLE.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_ALTER_TABLE.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_ALTER_TABLE.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,叢集,資料倉儲,開發人員,範例資料,database,資料庫開發人員,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "資料庫開發人員指南",
        "item" : "https://docs.aws.amazon.com/zh_tw/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "SQL 參考",
        "item" : "https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "SQL 命令",
        "item" : "https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "ALTER TABLE",
        "item" : "https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/c_SQL_commands.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#r_ALTER_TABLE" target="_blank" rel="noopener noreferrer" title="開啟 PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">文件</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">資料庫開發人員指南</a></div><div id="page-toc-src"><a href="#r_ALTER_TABLE-privileges">所需權限</a><a href="#r_ALTER_TABLE-synopsis">語法</a><a href="#r_ALTER_TABLE-parameters">參數</a><a href="#r_ALTER_TABLE-examples">範例</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>本文為英文版的機器翻譯版本，如內容有任何歧義或不一致之處，概以英文版為準。</p></awsui-alert><h1 class="topictitle" id="r_ALTER_TABLE">ALTER TABLE</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>此命令會變更 Amazon Redshift 資料表或 Amazon Redshift Spectrum 外部資料表的定義。此命令會更新 <a href="./r_CREATE_TABLE_NEW.html">CREATE TABLE</a> 或 <a href="./r_CREATE_EXTERNAL_TABLE.html">CREATE EXTERNAL TABLE</a> 設定的值和屬性。</p><p>您不能在交易區塊 (BEGIN ... END) 內的外部資料表上執行 ALTER TABLE。如需交易的詳細資訊，請參閱 <a href="./c_serial_isolation.html">可序列化隔離</a>。</p><p>ALTER TABLE 會鎖定用於讀取和寫入操作的資料表，直到封閉 ALTER TABLE 操作的交易完成為止，除非在文件中明確說明您可以在修改資料表時，查詢資料或對資料表執行其他操作。</p>
         <h2 id="r_ALTER_TABLE-privileges">所需權限</h2>
         <p>修改資料表的使用者需要適當的權限，才能成功執行命令。根據 ALTER TABLE 命令的不同，使用者可能需要下列其中一項權限。</p>
         <div class="itemizedlist">
             
             
             
         <ul class="itemizedlist"><li class="listitem"><p>超級使用者</p></li><li class="listitem"><p>具有 ALTER TABLE 權限的使用者</p></li><li class="listitem"><p>具有結構描述的 USAGE 權限的資料表擁有者</p></li></ul></div>
       
         <h2 id="r_ALTER_TABLE-synopsis">語法</h2>
         





         <pre class="screen">ALTER TABLE <em>table_name</em>
<span>{</span>
ADD <em>table_constraint</em>
| DROP CONSTRAINT <em>constraint_name</em> [ RESTRICT | CASCADE ]
| OWNER TO <em>new_owner</em>
| RENAME TO <em>new_name</em>
| RENAME COLUMN <em>column_name</em> TO <em>new_name</em>
| ALTER COLUMN <em>column_name</em> TYPE <em>updated_varchar_data_type_size</em>
| ALTER COLUMN <em>column_name</em> ENCODE <em>new_encode_type</em>
| ALTER COLUMN <em>column_name</em> ENCODE <em>encode_type</em>,
| ALTER COLUMN <em>column_name</em> ENCODE <em>encode_type</em>, .....;
| ALTER DISTKEY <em>column_name</em>
| ALTER DISTSTYLE ALL
| ALTER DISTSTYLE EVEN
| ALTER DISTSTYLE KEY DISTKEY <em>column_name</em>
| ALTER DISTSTYLE AUTO
| ALTER [COMPOUND] SORTKEY ( <em>column_name</em> [,...] )
| ALTER SORTKEY AUTO
| ALTER SORTKEY NONE
| ALTER ENCODE AUTO
| ADD [ COLUMN ] <em>column_name column_type</em>
  [ DEFAULT <em>default_expr</em> ]
  [ ENCODE <em>encoding</em> ]
  [ NOT NULL | NULL ]
  [ COLLATE <span>{</span> CASE_SENSITIVE | CASE_INSENSITIVE } ] |
| DROP [ COLUMN ] <em>column_name</em> [ RESTRICT | CASCADE ] 
| ROW LEVEL SECURITY <span>{</span> ON | OFF } [ CONJUNCTION TYPE <span>{</span> AND | OR } ] [ FOR DATASHARES ]}

where <em>table_constraint</em> is:

[ CONSTRAINT <em>constraint_name</em> ]
<span>{</span> UNIQUE ( <em>column_name</em> [, ... ] )
| PRIMARY KEY ( <em>column_name</em> [, ... ] )
| FOREIGN KEY (<em>column_name</em> [, ... ] )
   REFERENCES  <em>reftable</em> [ ( <em>refcolumn</em> ) ]}

The following options apply only to external tables:

SET LOCATION <span>{</span> 's3://<em>bucket/folder</em>/' | 's3://<em>bucket/manifest_file</em>' }
| SET FILE FORMAT <em>format</em> |
| SET TABLE PROPERTIES ('<em>property_name</em>'='<em>property_value</em>')
| PARTITION ( partition_column=partition_value [, ...] )
  SET LOCATION <span>{</span> 's3://<em>bucket</em>/<em>folder</em>' |'s3://<em>bucket</em>/<em>manifest_file</em>' }
| ADD [IF NOT EXISTS]
    PARTITION ( partition_column=partition_value [, ...] ) LOCATION <span>{</span> 's3://<em>bucket</em>/<em>folder</em>' |'s3://<em>bucket</em>/<em>manifest_file</em>' }
    [, ... ]
| DROP PARTITION ( <em>partition_column</em>=<em>partition_value</em> [, ...] )  </pre>
         
         <p>若要減少執行 ALTER TABLE 命令的時間，你可以結合 ALTER TABLE 命令的部分子句。</p>
         <p>Amazon Redshift 支援 ALTER TABLE 子句的以下組合：</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">ALTER TABLE <em>tablename</em> ALTER SORTKEY (<em>column_list</em>), ALTER DISTKEY <em>column_Id</em>;
ALTER TABLE <em>tablename</em> ALTER DISTKEY <em>column_Id</em>, ALTER SORTKEY (<em>column_list</em>);
ALTER TABLE <em>tablename</em> ALTER SORTKEY (<em>column_list</em>), ALTER DISTSTYLE ALL;
ALTER TABLE <em>tablename</em> ALTER DISTSTYLE ALL, ALTER SORTKEY (<em>column_list</em>);</code></pre>

              
         
         

         

            
         <h2 id="r_ALTER_TABLE-parameters">參數</h2>
         <div class="variablelist">
             
             
             
             
             
             
             
            
             
            
             
            
             
            
             
            
             
            
             


            
             


            
             

            
             
             
            
            
             

             
             
             
             
            
             
             
             
            
             
             
             
         <dl>
               <dt><span class="term"> <em>table_name</em> </span></dt>
               <dd>
                  <p>要修改的資料表名稱。僅指定資料表的名稱，或使用格式 <em>schema_name.table_name</em> 來使用專屬結構描述。外部資料表必須以外部結構描述名稱限定。如果您要使用 ALTER TABLE 陳述式重新命名檢視或變更其擁有者，則也可以指定檢視名稱。資料表名稱的長度上限為 127 個位元組；超過此長度的名稱會截斷至 127 個位元組。您可以使用 UTF-8 多位元組字元，最長可達 4 個位元組。如需有效名稱的詳細資訊，請參閱 <a href="./r_names.html">名稱與識別符</a>。</p>
               </dd>
             
               <dt><span class="term">ADD <em>table_constraint</em> </span></dt>
               <dd>
                  <p>新增指定限制條件至資料表的子句。如需有效 <em>table_constraint</em> 值得說明，請參閱 <a href="./r_CREATE_TABLE_NEW.html">CREATE TABLE</a>。</p>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注意</h6></div><div class="awsdocs-note-text"><p>您無法將主索引鍵限制條件新增至可為 null 的資料欄。如果資料欄原本是以 NOT NULL 限制條件建立，則您可以新增主索引鍵限制條件。</p></div></div>
               </dd>
             
               <dt><span class="term">DROP CONSTRAINT <em>constraint_name</em> </span></dt>
               <dd>
                  <p>從資料表中刪除具名限制條件的子句。若要刪除限制條件，請指定限制條件名稱，而非限制條件類型。若要檢視資料表限制條件名稱，請執行下列查詢。</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select constraint_name, constraint_type
from information_schema.table_constraints;</code></pre>
               </dd>
             
               <dt><span class="term">RESTRICT </span></dt>
               <dd>
                  <p>僅移除指定限制條件的子句。RESTRICT 是 DROP CONSTRAINT 的選項。RESTRICT 不能搭配 CASCADE 使用。</p>
               </dd>
             
               <dt><span class="term">CASCADE </span></dt>
               <dd>
                  <p>此子句會移除指定限制條件及相依於該限制條件的任何項目。CASCADE 是 DROP CONSTRAINT 的選項。CASCADE 不能搭配 RESTRICT 使用。</p>
               </dd>
             
               <dt><span class="term">OWNER TO <em>new_owner</em> </span></dt>
               <dd>
                  <p>此子句會將資料表 (或檢視) 的擁有者變更為 <em>new_owner</em> 值。</p>
               </dd>
             
               <dt><span class="term">RENAME TO <em>new_name</em> </span></dt>
               <dd>
                  <p>此子句會將資料表 (或檢視) 重新命名為 <em>new_name</em> 中指定的值。資料表名稱長度上限為 127 個位元組；超過此長度的名稱會截斷至 127 個位元組。</p>
                  <p>您無法將永久資料表重新命名為開頭為 '#' 的名稱。開頭為 '#' 的資料表名稱代表暫時資料表。</p>
                  <p>您無法重新命名外部資料表。</p>
               </dd>
             
               <dt><span class="term">ALTER COLUMN <em>column_name</em> TYPE <em>updated_varchar_data_type_size</em> </span></dt>
               <dd>
                  
                  
                  
                  <p>子句，會變更定義為 VARCHAR 資料類型的資料欄大小。此子句僅支援修改 VARCHAR 資料類型的大小。考量下列限制：</p>
                  <div class="itemizedlist">
                      
                      
                      
                      
                      
                     
                  <ul class="itemizedlist"><li class="listitem">
                        <p>您無法修改具有以下壓縮編碼的欄位：BYTEDICT、RUNLENGTH、TEXT255 或 TEXT32K。</p>
                     </li><li class="listitem">
                        <p>您無法將大小降低至小於現有資料的大小上限。</p>
                     </li><li class="listitem">
                        <p>您無法修改含預設值的資料欄。</p>
                     </li><li class="listitem">
                        <p>您無法修改具有 UNIQUE、PRIMARY KEY 或 FOREIGN KEY 的資料欄。</p>
                     </li><li class="listitem">
                        <p>您無法在交易區塊 (BEGIN ... END) 內改變資料欄。如需交易的詳細資訊，請參閱 <a href="./c_serial_isolation.html">可序列化隔離</a>。</p>
                     </li></ul></div>
                  
               </dd>
             
               <dt><span class="term">ALTER COLUMN <em>column_name</em> ENCODE <em>new_encode_type</em> </span></dt>
               <dd>

                  <p>變更資料欄壓縮編碼的子句。如果您指定資料欄的壓縮編碼，資料表就不會再設定為 ENCODE AUTO。如需壓縮編碼的詳細資訊，請參閱 <a href="./t_Compressing_data_on_disk.html">使用資料欄壓縮</a>。</p>
                  <p>當您變更資料欄的壓縮編碼時，資料表仍可供查詢。</p>
                  <p>考量下列限制：</p>
                  <div class="itemizedlist">
                      
                      


                  <ul class="itemizedlist"><li class="listitem">
                        <p>您無法將資料欄的編碼修改為目前資料行定義的編碼。</p>
                     </li><li class="listitem">
                        <p>您無法在具有交錯排序索引鍵的資料表中修改資料行的編碼。</p>
                     </li></ul></div>

               </dd>
             
               <dt><span class="term">ALTER COLUMN <em>column_name</em> ENCODE <em>encode_type</em>, ALTER COLUMN <em>column_name</em> ENCODE <em>encode_type</em>, .....;</span></dt>
               <dd>

                  <p>該子句可變更單一命令中多個資料欄的壓縮編碼。如需壓縮編碼的詳細資訊，請參閱 <a href="./t_Compressing_data_on_disk.html">使用資料欄壓縮</a>。</p>
                  <p>當您變更資料欄的壓縮編碼時，資料表仍可供查詢。</p>
                    <p> 考量下列限制：</p>
                  <div class="itemizedlist">
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem"><p>您無法在單一命令中多次將資料欄變更為相同或不同的編碼類型。</p></li><li class="listitem"><p>您無法將資料欄的編碼修改為目前資料行定義的編碼。</p></li><li class="listitem">
                        <p>您無法在具有交錯排序索引鍵的資料表中修改資料行的編碼。</p>
                     </li></ul></div>
               </dd>
             
               <dt><span class="term">ALTER DISTSTYLE ALL</span></dt>
               <dd>
                  <p>將資料表的現有分佈樣式變更為 <code class="code">ALL</code> 的子句。考慮下列各項：</p>
                  <div class="itemizedlist">
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>無法同時在相同資料表上執行 ALTER DISTSTYLE、ALTER SORTKEY 和 VACUUM。</p>
                        <div class="itemizedlist">
                            
                            
                        <ul class="itemizedlist"><li class="listitem">
                              <p>如果 VACUUM 目前執行中，然後執行 ALTER DISTSTYLE ALL 會傳回錯誤。</p>
                           </li><li class="listitem">
                              <p>如果 ALTER DISTSTYLE ALL 執行中，則不會在資料表上啟動背景清空。</p>
                           </li></ul></div>
                     </li><li class="listitem">
                        <p>包含交錯排序索引鍵的資料表和暫存資料表不支援 ALTER DISTSTYLE ALL 命令。</p>
                     </li><li class="listitem"><p>如果分佈樣式先前已定義為 AUTO，則該資料表不再是自動資料表最佳化的候選項目。</p></li></ul></div>
                  <p>如需 DISTSTYLE ALL 的詳細資訊，請參閱 <a href="./r_CREATE_TABLE_NEW.html">CREATE TABLE</a>。</p>
               </dd>
             
               <dt><span class="term">ALTER DISTSTYLE EVEN</span></dt>
               <dd>
                  
                  <p>將資料表的現有分佈樣式變更為 <code class="code">EVEN</code> 的子句。考慮下列各項：</p>
                  <div class="itemizedlist">
                      
                      
                      

                  <ul class="itemizedlist"><li class="listitem">
                        <p>無法同時在相同資料表上執行 ALTER DISTSYTLE、ALTER SORTKEY 和 VACUUM。</p>
                        <div class="itemizedlist">
                            
                            
                        <ul class="itemizedlist"><li class="listitem">
                              <p>如果 VACUUM 目前執行中，然後執行 ALTER DISTSTYLE EVEN 會傳回錯誤。</p>
                           </li><li class="listitem">
                              <p>如果 ALTER DISTSTYLE EVEN 執行中，則不會在資料表上啟動背景清空。</p>
                           </li></ul></div>
                     </li><li class="listitem"><p>包含交錯排序索引鍵的資料表和暫存資料表不支援 ALTER DISTSTYLE EVEN 命令。</p></li><li class="listitem"><p>如果分佈樣式先前已定義為 AUTO，則該資料表不再是自動資料表最佳化的候選項目。</p> </li></ul></div>


                  <p>如需 DISTSTYLE EVEN 的詳細資訊，請參閱 <a href="./r_CREATE_TABLE_NEW.html">CREATE TABLE</a>。</p>

               </dd>
             
               <dt><span class="term">ALTER DISTKEY <em>column_name</em> 或 ALTER DISTSTYLE KEY DISTKEY <em>column_name</em></span></dt>
               <dd>
                  <p>會變更用作資料表的分佈索引鍵的資料欄的子句。考慮下列各項：</p>
                  <div class="itemizedlist">
                     
                      
                      
                     
                     
                      

                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>VACUUM 和 ALTER DISTKEY 無法並行在相同資料表上執行。</p>
                        <div class="itemizedlist">
                            
                            
                            
                        <ul class="itemizedlist"><li class="listitem">
                              <p>如果 VACUUM 已在執行，則 ALTER DISTKEY 會傳回錯誤。</p>
                           </li><li class="listitem">
                              <p>如果 ALTER DISTKEY 執行中，則不會在資料表上啟動背景清空。</p>
                           </li><li class="listitem">
                              <p>如果 ALTER DISTKEY 執行中，則前景清空會傳回錯誤。</p>
                           </li></ul></div>
                     </li><li class="listitem">
                        <p>您一次僅可以在一個資料表上執行一個 ALTER DISTKEY 命令。</p>
                     </li><li class="listitem">
                        <p>包含交錯排序索引鍵的資料表不支援 ALTER DISTKEY 命令。</p>
                     </li><li class="listitem"><p>如果分佈樣式先前已定義為 AUTO，則該資料表不再是自動資料表最佳化的候選項目。</p> </li></ul></div>
                  
                  <p>指定 DISTSTYLE KEY 時，資料是依 DISTKEY 資料欄中的值分佈。如需 DISTSTYLE 的詳細資訊，請參閱 <a href="./r_CREATE_TABLE_NEW.html">CREATE TABLE</a>。</p>
               </dd>
             
               <dt><span class="term">ALTER DISTSTYLE AUTO</span></dt>
               <dd>
                  <p>將資料表的現有分佈樣式變更為 AUTO 的子句。</p>

                  <p>將分佈樣式變更為 AUTO 時，資料表的分佈樣式會設定為下列內容：</p>
                     
                    <div class="itemizedlist">
                        
                        
                        
                        
                        
                        
                    <ul class="itemizedlist"><li class="listitem"><p>將具有 DISTSTYLE ALL 的小型資料表轉換為 AUTO(ALL)。</p></li><li class="listitem"><p>將具有 DISTSTYLE EVEN 的小型資料表轉換為 AUTO(ALL)。</p></li><li class="listitem"><p>將具有 DISTSTYLE KEY 的小型資料表轉換為 AUTO(ALL)。</p></li><li class="listitem"><p>將具有 DISTSTYLE ALL 的大型資料表轉換為 AUTO(EVEN)。</p></li><li class="listitem"><p>將具有 DISTSTYLE EVEN 的大型資料表轉換為 AUTO(EVEN)。</p></li><li class="listitem"><p>將具有 DISTSTYLE KEY 的大型資料表轉換為 AUTO(KEY) 並保留 DISTKEY 。在這種情況下，Amazon Redshift 不會對資料表進行任何變更。</p></li></ul></div>

                  <p>如果 Amazon Redshift 判斷新的分佈樣式或索引鍵可以改善查詢效能，那麼 Amazon Redshift 可能會在未來變更資料表的分佈樣式或索引鍵。例如，Amazon Redshift 可能會將 DISTSTYLE 為 AUTO(KEY) 的資料表轉換為 AUTO(EVEN)，反之亦然。如需修改分佈索引鍵時行為 (包括資料重新分佈和鎖定) 的詳細資訊，請參閱 <a href="https://docs.aws.amazon.com/redshift/latest/dg/advisor-recommendations.html#alter-diststyle-distkey-recommendation">Amazon Redshift Advisor 建議</a>。</p>

                  <p>如需有關 DISTSTYLE AUTO 的詳細資訊，請參閱 <a href="./r_CREATE_TABLE_NEW.html">CREATE TABLE</a>。</p>


                  <p>若要檢視資料表的分佈樣式，請查詢 SVV_TABLE_INFO 系統目錄檢視。如需詳細資訊，請參閱<a href="./r_SVV_TABLE_INFO.html">SVV_TABLE_INFO</a>。若要檢視資料表的 Amazon Redshift Advisor 建議，請查詢 SVV_ALTER_TABLE_RECOMMENDATIONS 系統目錄檢視。如需詳細資訊，請參閱<a href="./r_SVV_ALTER_TABLE_RECOMMENDATIONS.html">SVV_ALTER_TABLE_RECOMMENDATIONS</a>。若要檢視 Amazon Redshift 所採取的動作，請查詢 SVL_AUTO_WORKER_ACTION 系統目錄檢視。如需詳細資訊，請參閱<a href="./r_SVL_AUTO_WORKER_ACTION.html">SVL_AUTO_WORKER_ACTION</a>。</p>

               </dd>
             
               <dt><span class="term">ALTER [COMPOUND] SORTKEY ( <em>column_name</em> [,...] )</span></dt>
               <dd>
                  <p>此子句可變更或新增用於資料表的排序索引鍵。</p>
                  <p>當您變更排序索引鍵時，新排序索引鍵或原始排序索引鍵中欄的壓縮編碼可能會變更。如果沒有明確定義資料表的編碼，則 Amazon Redshift 會自動指定壓縮編碼，如下所示：</p>
                  <div class="itemizedlist">
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>定義為排序索引鍵的資料欄會有指派的 RAW 壓縮。</p>
                     </li><li class="listitem">
                        <p>定義為 BOOLEAN、REAL 或 DOUBLE PRECISION 資料類型的資料欄會有指派的 RAW 壓縮。</p>
                     </li><li class="listitem">

                        <p>定義為 SMALLINT、INTEGER、BIGINT、DECIMAL、DATE、TIME、TIMETZ、TIMESTAMP 或 TIMESTAMPTZ 的資料欄會有指派的 AZ64 壓縮。</p>

                     </li><li class="listitem">
                        <p>定義為 CHAR 或 VARCHAR 的資料欄會有指派的 LZO 壓縮。</p>
                     </li></ul></div>
                  <p>考慮下列各項：</p>
                  <div class="itemizedlist">
                      
                     
                      
                     
                      
                     
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>每個資料表的排序索引鍵最多可定義 400 個資料欄。</p>
                     </li><li class="listitem">
                        <p>您可以將交錯排序索引鍵修改為複合排序索引鍵或無排序索引鍵。但是，您無法將複合排序索引鍵修改為交錯排序索引鍵。</p>
                        
                     </li><li class="listitem"><p>如果排序索引鍵先前已定義為 AUTO，則該資料表不再是自動資料表最佳化的候選項目。</p> </li><li class="listitem">
                        <p>Amazon Redshift 建議對定義為排序索引鍵的資料欄使用 RAW 編碼 (不壓縮)。當您變更資料欄以選擇其做為排序索引鍵時，資料欄的壓縮會變更為 RAW 壓縮 (不壓縮)。這可能會增加資料表所需的儲存空間。資料表大小的增加幅度取決於特定的資料表定義和資料表內容。如需有關壓縮的資訊，請參閱 <a href="./c_Compression_encodings.html">壓縮編碼</a>。</p>
                     </li></ul></div>
                  <p>當資料載入資料表之後，資料就會依據排序索引鍵的排序載入。當您修改排序索引鍵時，Amazon Redshift 會重新排列資料。如需 SORTKEY 的詳細資訊，請參閱<a href="./r_CREATE_TABLE_NEW.html">CREATE TABLE</a>。</p>
               </dd>
             
               <dt><span class="term">ALTER SORTKEY AUTO</span></dt>
               <dd>
                  <p>將目標資料表的排序索引鍵變更或新增為 AUTO 的子句。</p>

                  <p>當您將排序索引鍵修改為 AUTO 時，Amazon Redshift 會保留資料表的現有排序索引鍵。</p>

                  


                  <p>如果 Amazon Redshift 判斷新的排序索引鍵可以改善查詢效能，那麼 Amazon Redshift 可能會在未來變更資料表的排序索引鍵。</p>

                  <p>如需 SORTKEY AUTO 的詳細資訊，請參閱 <a href="./r_CREATE_TABLE_NEW.html">CREATE TABLE</a>。</p>

                     <p>若要檢視資料表的排序索引鍵，請查詢 SVV_TABLE_INFO 系統目錄檢視。如需詳細資訊，請參閱<a href="./r_SVV_TABLE_INFO.html">SVV_TABLE_INFO</a>。若要檢視資料表的 Amazon Redshift Advisor 建議，請查詢 SVV_ALTER_TABLE_RECOMMENDATIONS 系統目錄檢視。如需詳細資訊，請參閱<a href="./r_SVV_ALTER_TABLE_RECOMMENDATIONS.html">SVV_ALTER_TABLE_RECOMMENDATIONS</a>。若要檢視 Amazon Redshift 所採取的動作，請查詢 SVL_AUTO_WORKER_ACTION 系統目錄檢視。如需詳細資訊，請參閱<a href="./r_SVL_AUTO_WORKER_ACTION.html">SVL_AUTO_WORKER_ACTION</a>。</p>
               </dd>
             
               <dt><span class="term">ALTER SORTKEY NONE</span></dt>
               <dd>
                  <p>移除目標資料表的排序索引鍵的子句。</p>

                  <p>如果排序索引鍵先前已定義為 AUTO，則該資料表不再是自動資料表最佳化的候選項目。</p>
               </dd>
             
               <dt><span class="term">ALTER ENCODE AUTO</span></dt>
               <dd>
                  <p>將目標資料表資料欄的編碼類型變更為 AUTO 的子句。當您將編碼修改為 AUTO 時，Amazon Redshift 會保留資料表中資料欄的現有編碼類型。然後，如果 Amazon Redshift 判斷新的編碼類型可以改善查詢效能，Amazon Redshift 就可以變更資料表資料欄的編碼類型。</p>
                  <p>如果您修改一個或多個欄以指定編碼，則 Amazon Redshift 不會再自動調整資料表中所有資料欄的編碼。這些資料欄會保留目前的編碼設定。</p>
                  <p>下列動作不會影響資料表的 ENCODE AUTO 設定：</p>
                  <div class="itemizedlist">
                      
                      
                      
                      

                  <ul class="itemizedlist"><li class="listitem"><p>重新命名資料表。</p></li><li class="listitem"><p>修改資料表的 DISTSTYLE 或 SORTKEY 設定。</p></li><li class="listitem"><p>使用 ENCODE 設定新增或捨棄資料列。</p></li><li class="listitem"><p>使用 COPY 命令的 COMPUPDATE 選項。如需詳細資訊，請參閱<a href="./copy-parameters-data-load.html"> 資料載入操作</a>。</p></li></ul></div>
                  <p>若要檢視資料表的編碼，請查詢 SVV_TABLE_INFO 系統目錄檢視。如需詳細資訊，請參閱<a href="./r_SVV_TABLE_INFO.html">SVV_TABLE_INFO</a>。</p>
            </dd>

             
               <dt><span class="term">RENAME COLUMN <em>column_name</em> TO <em>new_name</em> </span></dt>
               <dd>
                  <p>此子句會將資料欄重新命名為 <em>new_name</em> 中指定的值。資料欄名稱長度上限為 127 個位元組；超過此長度的名稱會截斷至 127 個位元組。如需有效名稱的詳細資訊，請參閱 <a href="./r_names.html">名稱與識別符</a>。</p>
               </dd>
             
               <dt><span class="term">ADD [ COLUMN ] <em>column_name</em> </span></dt>
               <dd>
                  <p>將指定名稱的資料欄新增至資料表的子句。您只能在每個 ALTER TABLE 陳述式中新增一個資料欄。</p>
                  <p>您無法新增本身為資料表的分佈索引鍵 (DISTKEY) 或排序索引鍵 (SORTKEY) 的資料欄。</p>
                  <p> 您無法使用 ALTER TABLE ADD COLUMN 命令修改以下資料表和資料欄屬性：</p>
                  <div class="itemizedlist">
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>UNIQUE</p>
                     </li><li class="listitem">
                        <p>PRIMARY KEY</p>
                     </li><li class="listitem">
                        <p>REFERENCES (外部索引鍵)</p>
                     </li><li class="listitem">
                        <p>IDENTITY 或 GENERATED BY DEFAULT AS IDENTITY</p>
                     </li></ul></div>
                  <p>資料欄名稱長度上限為 127 個位元組；超過此長度的名稱會截斷至 127 個位元組。單一資料表中可定義的資料欄數目上限為 1,600 個。</p>
                  <p>以下限制適用於新增資料欄至外部資料表時：</p>
                  <div class="itemizedlist">
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>您無法將資料欄新增至具有資料欄限制條件 DEFAULT、ENCODE、NOT NULL 或 NULL 的外部資料表。</p>
                     </li><li class="listitem">
                        <p>您無法將資料欄新增至使用 AVRO 檔案格式定義的外部資料表。</p>
                     </li><li class="listitem">
                        <p>若啟用虛擬資料欄，則單一外部資料表中可定義的資料欄數目上限為 1,598 個。若未啟用虛擬資料欄，則單一資料表中可定義的資料欄數目上限為 1,600 個。</p>
                     </li></ul></div>
                  <p>如需詳細資訊，請參閱<a href="./r_CREATE_EXTERNAL_TABLE.html">CREATE EXTERNAL TABLE</a>。</p>
               </dd>
             
               <dt><span class="term"> <em>column_type</em> </span></dt>
               <dd>
                  <p>要新增之資料欄的資料類型。若是 CHAR 和 VARCHAR 資料欄，您可以改用 MAX 關鍵字，而不宣告長度上限。MAX 會將 CHAR 的長度上限設定為 4,096 個位元組，或將 VARCHAR 的長度上限設定為 65,535 個位元組。GEOMETRY 物件的大小上限是 1,048,447 位元組。</p>
                  <p>如需有關 Amazon Redshift 支援資料類型的資訊，請參閱 <a href="./c_Supported_data_types.html">資料類型</a>。</p>
               </dd>
             
               <dt id="alter-table-default"><span class="term">DEFAULT <em>default_expr</em> </span></dt>
               <dd>
                  <p>此子句會指派資料欄的預設資料值。<em>default_expr</em> 的資料類型必須符合資料欄的資料類型。DEFAULT 值必須是無變數的表達式。不允許子查詢、目前資料表中其他資料欄的交叉參考，以及使用者定義的功能。</p>
                  <p><em>default_expr</em> 是在未指定資料欄值的任何 INSERT 操作中使用。若未指定預設值，則資料欄的預設值為 null。</p>
                  <p>若 COPY 操作在資料欄上遇到有 DEFAULT 值和 NOT NULL 限制條件的 null 欄位，則 COPY 命令會插入 <em>default_expr</em> 的值。</p>
                  <p>外部資料表不支援 DEFAULT。</p>
               </dd>
             
               <dt id="alter-table-encode"><span class="term">ENCODE <em>encoding</em> </span></dt>
               <dd>
                  <p>資料欄的壓縮編碼。根據預設，如果您未為資料表中的任何資料欄指定壓縮編碼，或者您指定資料表的 ENCODE AUTO 選項，Amazon Redshift 會自動管理資料表中所有資料欄的壓縮編碼。</p>
                  <p>如果您為資料表中的任何資料欄指定壓縮編碼，或者未為資料表指定 ENCODE AUTO 選項，Amazon Redshift 會自動將壓縮編碼指派給您未指定壓縮編碼的資料欄，如下所示：</p>
                  <div class="itemizedlist">
                      
                      
                      
                      
                      
                     
                  <ul class="itemizedlist"><li class="listitem">
                        <p>暫時資料表中的所有資料欄預設都會有指派的 RAW 壓縮。</p>
                     </li><li class="listitem">
                        <p>定義為排序索引鍵的資料欄會有指派的 RAW 壓縮。</p>
                     </li><li class="listitem">
                        
                        <p>定義為 BOOLEAN、REAL、DOUBLE PRECISION、GEOMETRY 或 GEOGRAPHY 資料類型的資料行會有指派的 RAW 壓縮。</p>
                     </li><li class="listitem">

                        <p>定義為 SMALLINT、INTEGER、BIGINT、DECIMAL、DATE、TIME、TIMETZ、TIMESTAMP 或 TIMESTAMPTZ 的資料欄會有指派的 AZ64 壓縮。</p>

                     </li><li class="listitem">
                        <p>定義為 CHAR、VARCHAR 或 VARBYTE 的資料欄會有指派的 LZO 壓縮。</p>
                     </li></ul></div>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注意</h6></div><div class="awsdocs-note-text"><p>若您不想要壓縮資料欄，請明確指定 RAW 編碼。</p></div></div>
                  <p>支援以下 <a href="./c_Compression_encodings.html#compression-encoding-list">compression encodings</a>：</p>
                  <div class="itemizedlist">
                     
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>AZ64</p>
                     </li><li class="listitem">
                        <p>BYTEDICT</p>
                     </li><li class="listitem">
                        <p>DELTA</p>
                     </li><li class="listitem">
                        <p>DELTA32K</p>
                     </li><li class="listitem">
                        <p>LZO</p>
                     </li><li class="listitem">
                        <p>MOSTLY8</p>
                     </li><li class="listitem">
                        <p>MOSTLY16</p>
                     </li><li class="listitem">
                        <p>MOSTLY32</p>
                     </li><li class="listitem">
                        <p>RAW (無壓縮)</p>
                     </li><li class="listitem">
                        <p>RUNLENGTH</p>
                     </li><li class="listitem">
                        <p>TEXT255</p>
                     </li><li class="listitem">
                        <p>TEXT32K</p>
                     </li><li class="listitem">
                        <p>ZSTD</p>
                     </li></ul></div>
                  <p>外部資料表不支援 ENCODE。</p>
               </dd>
             
               <dt><span class="term">NOT NULL | NULL </span></dt>
               <dd>
                  <p>NOT NULL 會指定不允許資料欄包含 null 值。NULL 是預設值，指出資料欄可接受 null 值。</p>
                  <p>外部資料表不支援 NOT NULL 和 NULL。</p>
               </dd>
             
               <dt><span class="term">COLLATE <span>{</span> CASE_SENSITIVE | CASE_INSENSITIVE }</span></dt>
               <dd>
                  <p>指定資料欄上的字串搜尋或比較是 CASE_SENSITIVE 或 CASE_INSENSITIVE 的子句。預設值與資料庫目前的區分大小寫設定相同。</p>
                  
                  <p>若要尋找資料庫定序資訊，請使用下列命令：</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">SELECT db_collation();
                     
<code class="computeroutput" copy="false">db_collation
----------------
 case_sensitive
(1 row)</code></code></pre>
               </dd>
             
               <dt><span class="term">DROP [ COLUMN ] <em>column_name</em> </span></dt>
               <dd>
                  <p>要從資料表中刪除的資料欄名稱。</p>
                  <p>您無法刪除資料表中的最後一個資料欄。資料表至少必須有一個資料欄。</p>
                  <p>您無法刪除本身為資料表的分佈索引鍵 (DISTKEY) 或排序索引鍵 (SORTKEY) 的資料欄。若資料欄有任何相依物件，像是檢視、主索引鍵、外部索引鍵或 UNIQUE 限制條件，則 DROP COLUMN 的預設行為是 RESTRICT。</p>
                  <p>以下限制適用於從外部資料表刪除資料欄時：</p>
                  <div class="itemizedlist">
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>若資料欄做為分割區使用，則無法從外部資料表刪除該資料欄。</p>
                     </li><li class="listitem">
                        <p>您無法從使用 AVRO 檔案格式定義的外部資料表中刪除資料欄。</p>
                     </li><li class="listitem">
                        <p>外部資料表的 RESTRICT 和 CASCADE 會遭到忽略。</p>
                     </li><li class="listitem"><p>除非您將政策捨棄或中斷連結，否則您無法捨棄政策定義中參照的政策資料表資料欄。這也適用於指定 CASCADE 選項時。您可以捨棄政策資料表中的其他資料欄。</p></li></ul></div>

                  <p>如需詳細資訊，請參閱<a href="./r_CREATE_EXTERNAL_TABLE.html">CREATE EXTERNAL TABLE</a>。</p>


               </dd>
             
               <dt><span class="term">RESTRICT </span></dt>
               <dd>
                  <p>搭配 DROP COLUMN 使用時，RESTRICT 表示要捨棄的資料欄未捨棄，在以下這些情況中：</p>
                  <div class="itemizedlist">
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>如果定義的檢視參考要捨棄的資料欄</p>
                     </li><li class="listitem">
                        <p>如果外部索引鍵參考資料欄</p>
                     </li><li class="listitem">
                        <p>如果資料欄為分段索引鍵的一部分</p>
                     </li></ul></div>
                  <p>RESTRICT 不能搭配 CASCADE 使用。</p>
                  <p>外部資料表的 RESTRICT 和 CASCADE 會遭到忽略。</p>
               </dd>
             
               <dt><span class="term">CASCADE </span></dt>
               <dd>
                  <p>搭配 DROP COLUMN 使用時，會移除指定的資料欄及相依於該資料欄的任何項目。CASCADE 不能搭配 RESTRICT 使用。</p>
                  <p>外部資料表的 RESTRICT 和 CASCADE 會遭到忽略。</p>
               </dd>
            </dl></div>
         <p>以下選項只適用於外部資料表。</p>
         <div class="variablelist">
             
             
             
             
             
             

             




            

            



         <dl>
               <dt><span class="term">SET LOCATION <span>{</span> 's3://<em>bucket/folder</em>/' | 's3://<em>bucket/manifest_file</em>' }</span></dt>
               <dd>
                  <p>包含資料檔案的 Amazon S3 資料夾路徑，或包含 Amazon S3 物件路徑清單的資訊清單檔案。儲存貯體必須位於 Amazon Redshift 叢集所在的同一 AWS 區域。如需支援的 AWS 區域清單，請參閱 <a href="./c-using-spectrum.html#c-spectrum-considerations">Amazon Redshift Spectrum 考量事項</a>。如需使用資訊清單檔案的詳細資訊，請參閱 CREATE EXTERNAL TABLE <a href="./r_CREATE_EXTERNAL_TABLE.html#r_CREATE_EXTERNAL_TABLE-parameters">參數</a> 參考中的 LOCATION。</p>
               </dd>
             
               <dt><span class="term">SET FILE FORMAT <em>format</em></span></dt>
               <dd>
                  <p>外部資料檔案的檔案格式。</p>
                  <p>有效格式如下：</p>
                  <div class="itemizedlist">
                      
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>AVRO </p>
                     </li><li class="listitem">
                        <p>PARQUET</p>
                     </li><li class="listitem">
                        <p>RCFILE</p>
                     </li><li class="listitem">
                        <p>SEQUENCEFILE</p>
                     </li><li class="listitem">
                        <p>TEXTFILE </p>
                     </li></ul></div>
               </dd>
             
               <dt><span class="term">SET TABLE PROPERTIES ( '<em>property_name</em>'='<em>property_value</em>') </span></dt>
               <dd>
                  <p>此子句會設定外部資料表的資料表屬性的資料表定義。</p>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注意</h6></div><div class="awsdocs-note-text"><p>資料表屬性區分大小寫。</p></div></div>
                  <div class="variablelist">
                      
                      
                  <dl>
                        <dt><span class="term">'numRows'='<em>row_count</em>'</span></dt>
                        <dd>
                           <p>此屬性會設定資料表定義的 numRows 值。若要明確更新外部資料表的統計資料，請設定 numRows 屬性以指出資料表的大小。Amazon Redshift 不會分析外部資料表來產生查詢最佳化工具用來產生查詢計劃的資料表統計資料。如果未設定外部資料表的資料表統計資料，則 Amazon Redshift 會產生查詢執行計畫。此計畫是根據外部資料表為較大資料表，而本機資料表為較小資料表的假設。</p>
                        </dd>
                      
                        <dt><span class="term">'skip.header.line.count'='<em>line_count</em>'</span></dt>
                        <dd>
                           <p>此屬性會設定每個來源檔案開頭要略過的資料列數。</p>
                        </dd>
                     </dl></div>
               </dd>
             
               <dt><span class="term">PARTITION ( <em>partition_column</em>=<em>partition_value</em> [, ...] SET LOCATION <span>{</span> 's3://<em>bucket</em>/<em>folder</em>' | 's3://<em>bucket</em>/<em>manifest_file</em>' }</span></dt>
               <dd>
                  <p>此子句會設定一個或多個分割區資料欄的新位置。</p>
               </dd>
             
               <dt><span class="term">ADD [ IF NOT EXISTS ] PARTITION ( <em>partition_column</em>=<em>partition_value</em> [, ...] ) LOCATION <span>{</span> 's3://<em>bucket</em>/<em>folder</em>' | 's3://<em>bucket</em>/<em>manifest_file</em>' } [, ... ]</span></dt>
               <dd>
                  <p>新增一或多個分割區的子句。您可以使用單一 ALTER TABLE … ADD 陳述式來指定多個 PARTITION 子句。</p>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注意</h6></div><div class="awsdocs-note-text"><p>如果您使用 AWS Glue 目錄，則可以使用 ALTER TABLE 陳述式新增最多 100 個分割區。</p></div></div>
                  <p>IF NOT EXISTS 子句指出，若指定的分割區已存在，則命令不應進行任何變更。也指出命令應該傳回分割區已存在的訊息，而不是在發生錯誤的情況下終止。此子句在編寫指令碼時很實用，如此指令碼就不會因為 ALTER TABLE 嘗試新增已存在的分割區而失敗。</p>
               </dd>
             
               <dt><span class="term">DROP PARTITION (<em>partition_column</em>=<em>partition_value</em> [, ...] ) </span></dt>
               <dd>
                  <p>刪除指定分割區的子句。刪除分割區只會修改外部資料表中繼資料。Amazon S3 上的資料不受影響。</p>
               </dd>
             
               <dt><span class="term">ROW LEVEL SECURITY <span>{</span> ON | OFF } [ CONJUNCTION TYPE <span>{</span> AND | OR } ] [ FOR DATASHARES ]</span></dt>
                     <dd><p>開啟或關閉關係的資料列層級安全性的子句。</p>
                        <p>開啟關係的資料列層級安全性時，您只能讀取資料列層級安全政策允許您存取的資料列。如果沒有任何政策授予您關係存取權，您就無法看到關聯中的任何資料列。只有超級使用者和具有 <code class="code">sys:secadmin</code> 角色的使用者或角色可以設定 ROW LEVEL SECURITY 子句。如需詳細資訊，請參閱<a href="./t_rls.html">資料列層級安全性</a>。</p>
                  <div class="itemizedlist">
                      
                      
                  <ul class="itemizedlist"><li class="listitem"><p>[ CONJUNCTION TYPE <span>{</span> AND | OR } ] </p>
                        <p>一個子句，讓您為關係選擇資料列層級安全政策的結合類型。將多個資料列層級安全政策附加至關係時，您可以將政策與 AND 或 OR 子句結合使用。根據預設，Amazon Redshift 將 RLS 政策與 AND 子句結合在一起。具有 <code class="code">sys:secadmin</code> 角色的超級使用者、使用者或角色可以使用此子句來定義關係之資料列層級安全政策的組合類型。如需詳細資訊，請參閱<a href="./t_rls_combine_policies.html">每個使用者結合多個政策</a>。</p></li><li class="listitem"><p>FOR DATASHARES</p>
                        <p>該子句會決定是否可透過資料共用存取受 RLS 保護的關係。預設的情況是無法透過資料共用存取受 RLS 保護的關係。搭配此子句執行的 ALTER TABLE ROW LEVEL SECURITY 命令只會影響關係的資料共用存取屬性。ROW LEVEL SECURITY 屬性並未變更。</p>
                        <p> 如果您讓受 RLS 保護的關係可以透過資料庫存取，則該關係在取用者端資料庫中不會有資料列層級的安全性。關係會在生產者端保留其 RLS 屬性。</p>
                     </li></ul></div>
               </dd>
            </dl></div>
       
            <h2 id="r_ALTER_TABLE-examples">範例</h2>
            <p>如需示範如何使用 ALTER TABLE 命令的範例，請參閱下列內容。</p>
               <div class="itemizedlist">
                   
                   
                   
               <ul class="itemizedlist"><li class="listitem"><p><a href="./r_ALTER_TABLE_examples_basic.html">ALTER TABLE 範例</a></p></li><li class="listitem"><p><a href="./r_ALTER_TABLE_external-table.html">ALTER EXTERNAL TABLE 範例</a></p></li><li class="listitem"><p><a href="./r_ALTER_TABLE_COL_ex-add-drop.html">ALTER TABLE ADD 和 DROP COLUMN 範例</a></p></li></ul></div>       
         <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="警告" /> <strong>您的瀏覽器已停用或無法使用 Javascript。</strong></p><p>您必須啟用 Javascript，才能使用 AWS 文件。請參閱您的瀏覽器說明頁以取得說明。</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">文件慣用形式</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_ALTER_SYSTEM.html">ALTER SYSTEM</div><div id="next" class="next-link" accesskey="n" href="./r_ALTER_TABLE_examples_basic.html">ALTER TABLE 範例</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">此頁面是否有幫助？ - 是</div><div class="content"><p>感謝您，讓我們知道我們做得很好！</p><p>若您有空，歡迎您告知我們值得讚許的地方，這樣才能保持良好服務。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="意見回饋" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_ALTER_TABLE.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">此頁面是否有幫助？ - 否</div><div class="content"><p>感謝讓我們知道此頁面仍須改善。很抱歉，讓您失望。</p><p>若您有空，歡迎您提供改善文件的方式。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="意見回饋" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_ALTER_TABLE.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>