<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="fr-FR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Utilisation d’unités de partage des données gérées par Lake Formation en tant que consommateur - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="lake-formation-getting-started-consumer" /><meta name="default_state" content="lake-formation-getting-started-consumer" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/lake-formation-getting-started-consumer.html" /><meta name="description" content="Une fois que l’administrateur AWS Lake Formation a découvert l’invitation à l’unité de partage des données et créé une base de données dans le AWS Glue Data Catalog lié à l’unité de partage des données, l’administrateur du cluster consommateur ou du groupe de travail peut associer le cluster à l’unité de partage des données et à la base de données dans le AWS Glue Data Catalog, créer une base de données locale dans le cluster consommateur ou groupe de travail, et accorder l’accès aux utilisateurs et aux rôles du cluster consommateur Amazon Redshift pour qu’ils commencent à effectuer des requêtes. Suivez ces étapes pour configurer les autorisations d’interrogation." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guide du développeur de base de données" /><meta name="abstract" content="Créez et gérez un entrepôt de données avec Amazon Redshift, service d’entrepôt de données au niveau de l’entreprise, pouvant atteindre plusieurs Po et entièrement géré." /><meta name="guide-locale" content="fr_fr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/lake-formation-getting-started-consumer.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/lake-formation-getting-started-consumer.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/lake-formation-getting-started-consumer.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/lake-formation-getting-started-consumer.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/lake-formation-getting-started-consumer.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/lake-formation-getting-started-consumer.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/lake-formation-getting-started-consumer.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/lake-formation-getting-started-consumer.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/lake-formation-getting-started-consumer.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/lake-formation-getting-started-consumer.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/lake-formation-getting-started-consumer.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/lake-formation-getting-started-consumer.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/lake-formation-getting-started-consumer.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/lake-formation-getting-started-consumer.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/lake-formation-getting-started-consumer.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/lake-formation-getting-started-consumer.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/lake-formation-getting-started-consumer.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/lake-formation-getting-started-consumer.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/lake-formation-getting-started-consumer.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/lake-formation-getting-started-consumer.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/lake-formation-getting-started-consumer.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/lake-formation-getting-started-consumer.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guide du développeur de base de données" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guide du développeur de base de données" /><meta id="panorama-serviceConsolePage" value="Utilisation d’unités de partage des données gérées par Lake Formation en tant que consommateur" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Utilisation d’unités de partage des données gérées par Lake Formation en tant que consommateur - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#lake-formation-getting-started-consumer" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/lake-formation-getting-started-consumer.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/lake-formation-getting-started-consumer.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/lake-formation-getting-started-consumer.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,entrepôt de données,développeur,exemples de données,database,développeur de base de données,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guide du développeur de base de données",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Partage de données entre clusters dans Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/datashare-overview.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Gestion des tâches de partage de données",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/getting-started-datashare.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Gestion du partage de données à l’aide de l’interface SQL",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/getting-started-datashare-sql.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Utilisation des unités de partage des données gérées par AWS Lake Formation",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/lake-formation-getting-started.html"
      },
      {
        "@type" : "ListItem",
        "position" : 8,
        "name" : "Utilisation d’unités de partage des données gérées par Lake Formation en tant que consommateur",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/lake-formation-getting-started.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#lake-formation-getting-started-consumer" target="_blank" rel="noopener noreferrer" title="Ouvrir le PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guide du développeur de base de données</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Les traductions sont fournies par des outils de traduction automatique. En cas de conflit entre le contenu d'une traduction et celui de la version originale en anglais, la version anglaise prévaudra.</p></awsui-alert><h1 class="topictitle" id="lake-formation-getting-started-consumer">Utilisation d’unités de partage des données gérées par Lake Formation en tant que consommateur</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p> Une fois que l’administrateur AWS Lake Formation a découvert l’invitation à l’unité de partage des données et créé une base de données dans le AWS Glue Data Catalog lié à l’unité de partage des données, l’administrateur du cluster consommateur ou du groupe de travail peut associer le cluster à l’unité de partage des données et à la base de données dans le AWS Glue Data Catalog, créer une base de données locale dans le cluster consommateur ou groupe de travail, et accorder l’accès aux utilisateurs et aux rôles du cluster consommateur Amazon Redshift pour qu’ils commencent à effectuer des requêtes. Suivez ces étapes pour configurer les autorisations d’interrogation. </p><div class="procedure"><ol><li>
                     <p>Dans la console Amazon Redshift, créez un cluster Amazon Redshift qui fera office de cluster consommateur de groupe de travail, le cas échéant. Pour plus d’informations sur la création d’un cluster, consultez <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/managing-clusters-console.html#create-cluster">Création d’un cluster</a>.</p>
                  </li><li>
                     <p>Pour répertorier les bases de données du AWS Glue Data Catalog auxquelles les utilisateurs du cluster consommateur ou du groupe de travail ont accès, exécutez la commande <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_SHOW_DATABASES.html">SHOW DATABASES</a>.</p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql "><code class="userinput">SHOW DATABASES FROM DATA CATALOG [ACCOUNT &lt;account-id&gt;,&lt;account-id2&gt;] [LIKE &lt;expression&gt;]</code></code></pre>
                  <p>Cela répertorie les ressources disponibles dans le catalogue de données, telles que l’ARN de la base de données AWS Glue, le nom de la base de données et les informations relatives à l’unité de partage des données.</p>
                  </li><li>
                     <p>À l’aide de l’ARN de la base de données AWS Glue issu de SHOW DATABASES, créez une base de données locale dans le cluster consommateur. Pour plus d’informations, consultez <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_DATABASE.html">CREATE DATABASE</a>.</p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql "><code class="userinput">CREATE DATABASE lf_db FROM ARN &lt;lake-formation-database-ARN&gt; WITH [NO] DATA CATALOG SCHEMA [&lt;schema&gt;];</code></code></pre>
                  </li><li>
                     <p>Accordez l’accès aux bases de données et aux références de schéma créées à partir des unités de partage des données aux utilisateurs et rôles du cluster consommateur ou du groupe de travail selon les besoins. Pour plus d’informations, consultez <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_GRANT.html">GRANT</a> ou <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_REVOKE.html">REVOKE</a>. Notez que les utilisateurs créés à l’aide de la commande <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_USER.html">CREATE USER</a> ne peuvent pas accéder aux objets de l’unité de partage des données qui ont été partagés avec Lake Formation. Seuls les utilisateurs ayant accès à la fois à Redshift et à Lake Formation peuvent accéder aux unités de partage des données qui ont été partagées avec Lake Formation. </p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql "><code class="userinput">GRANT USAGE ON DATABASE sales_db TO IAM:Bob;</code></code></pre>
                     <p> En tant qu’administrateur de cluster consommateur ou de groupe de travail, vous ne pouvez attribuer des autorisations sur l’ensemble de la base de données créée à partir de l’unité de partage des données qu’à vos utilisateurs et groupes. Dans certains cas, vous avez besoin de contrôles précis sur un sous-ensemble d’objets de base de données créés à partir de l’unité de partage des données. </p>
                     <p> Vous pouvez également créer des vues à liaison tardive sur les objets partagés et les utiliser pour attribuer des autorisations détaillées. Vous pouvez également envisager que les clusters producteur ou les groupes de travails créent des unité de partage des données supplémentaires pour vous avec la précision requise. Vous pouvez créer autant de références de schéma à la base de données créée à partir de l’unité de partage des données. </p>
                  </li><li>
                     <p>Les utilisateurs de base de données peuvent utiliser les vues SVV_EXTERNAL_TABLES et SVV_EXTERNAL_COLUMNS pour rechercher toutes les tables ou colonnes partagées dans la base de données AWS Glue.</p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql "><code class="userinput">SELECT * from svv_external_tables WHERE redshift_database_name = 'lf_db';
                        
SELECT * from svv_external_columns WHERE redshift_database_name = 'lf_db';</code>
</code></pre>
                  </li><li>
                     <p>Interroger les données dans les objets partagés dans les unités de partage des données.</p>
                     <p>Les utilisateurs et les rôles disposant d’autorisations sur les bases de données consommateur et les schémas sur les clusters consommateur peuvent explorer et naviguer entre les métadonnées de tous les objets partagés. Ils peuvent également explorer les objets locaux dans un cluster consommateur ou un groupe de travail. Pour ce faire, ils peuvent utiliser les pilotes JDBC ou ODBC ou les vues SVV_ALL et SVV_EXTERNAL.</p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql "><code class="userinput">SELECT * FROM lf_db.schema.table;</code></code></pre>
                     <p>Vous ne pouvez utiliser les instructions SELECT que sur les objets partagés. Toutefois, vous pouvez créer des tables dans le cluster consommateur en interrogeant les données des objets partagés dans une base de données locale différente.</p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">// Connect to a local cluster database
            
// Create a view on shared objects and access it.
<code class="userinput">
CREATE VIEW sales_data 
AS SELECT * 
FROM sales_db.public.tickit_sales_redshift 
WITH NO SCHEMA BINDING;

SELECT * FROM sales_data;
</code>
</code></pre>
                  </li></ol></div><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avertissement" /> <strong>JavaScript est désactivé ou n'est pas disponible dans votre navigateur.</strong></p><p>Pour que vous puissiez utiliser la documentation AWS, Javascript doit être activé. Vous trouverez des instructions sur les pages d'aide de votre navigateur.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Conventions de rédaction</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./lake-formation-getting-started-producer.html">Utilisation d’unités de partage des données gérées par Lake Formation en tant que producteur</div><div id="next" class="next-link" accesskey="n" href="./getting-started-datashare-console.html">Gestion du partage de données à l’aide de la console</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Oui</div><div class="content"><p>Merci de nous avoir fait part de votre satisfaction.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer ce qui vous a plu afin que nous puissions nous améliorer davantage.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/lake-formation-getting-started-consumer.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Non</div><div class="content"><p>Merci de nous avoir avertis que cette page avait besoin d'être retravaillée. Nous sommes désolés de ne pas avoir répondu à vos attentes.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer comment nous pourrions améliorer cette documentation.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/lake-formation-getting-started-consumer.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>