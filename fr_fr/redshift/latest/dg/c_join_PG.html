<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="fr-FR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Interrogation des tables catalogue - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="c_join_PG" /><meta name="default_state" content="c_join_PG" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c_join_PG.html" /><meta name="description" content="Interrogez les tables du catalogue pour joindre les tables et les vues du catalogue à l'aide d'Amazon Redshift." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guide du développeur de base de données" /><meta name="abstract" content="Créez et gérez un entrepôt de données avec Amazon Redshift, service d’entrepôt de données au niveau de l’entreprise, pouvant atteindre plusieurs Po et entièrement géré." /><meta name="guide-locale" content="fr_fr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c_join_PG.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/c_join_PG.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/c_join_PG.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/c_join_PG.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/c_join_PG.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/c_join_PG.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/c_join_PG.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/c_join_PG.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/c_join_PG.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c_join_PG.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c_join_PG.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/c_join_PG.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/c_join_PG.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/c_join_PG.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/c_join_PG.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/c_join_PG.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/c_join_PG.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c_join_PG.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c_join_PG.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/c_join_PG.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/c_join_PG.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/c_join_PG.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guide du développeur de base de données" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guide du développeur de base de données" /><meta id="panorama-serviceConsolePage" value="Interrogation des tables catalogue" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Interrogation des tables catalogue - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#c_join_PG" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c_join_PG.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c_join_PG.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c_join_PG.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,entrepôt de données,développeur,exemples de données,database,développeur de base de données,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guide du développeur de base de données",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Informations de référence sur les tables et les vues système",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/cm_chap_system-tables.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Tables catalogue système",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c_intro_catalog_views.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Interrogation des tables catalogue",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c_intro_catalog_views.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#c_join_PG" target="_blank" rel="noopener noreferrer" title="Ouvrir le PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guide du développeur de base de données</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Les traductions sont fournies par des outils de traduction automatique. En cas de conflit entre le contenu d'une traduction et celui de la version originale en anglais, la version anglaise prévaudra.</p></awsui-alert><h1 class="topictitle" id="c_join_PG">Interrogation des tables catalogue</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><div class="highlights"><h6>Rubriques</h6><ul><li><a href="./c_join_PG_examples.html">Exemples de requêtes de catalogue</a></li></ul></div><p>En général, vous pouvez joindre des tables et des vues du catalogue (relations dont les noms commencent par <code class="userinput">PG_</code>) à des tables et des vues Amazon Redshift. </p><p>Les tables du catalogue utilisent un certain nombre de types de données non pris en charge par Amazon Redshift. Les types de données suivants sont pris en charge lorsque des requêtes joignent des tables de catalogue à des tables Amazon Redshift : </p><div class="itemizedlist">
             
             
             
             
             
             
             
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>bool</p>
            </li><li class="listitem">
                <p>"char"</p>
            </li><li class="listitem">
                <p>float4</p>
            </li><li class="listitem">
                <p>int2</p>
            </li><li class="listitem">
                <p>int4</p>
            </li><li class="listitem">
                <p>int8</p>
            </li><li class="listitem">
                <p>name</p>
            </li><li class="listitem">
                <p>oid</p>
            </li><li class="listitem">
                <p>text</p>
            </li><li class="listitem">
                <p>varchar</p>
            </li></ul></div><p>Si vous écrivez une requête de jointure qui fait référence explicitement ou implicitement à une colonne avec un type de données non pris en charge, la requête renvoie une erreur. Les fonctions SQL qui sont utilisées dans certaines des tables catalogue ne sont également pas prises en charge, à l'exception de celles utilisées par les tables PG_SETTINGS et PG_LOCKS.</p><p>Par exemple, la table PG_STATS ne peut pas être interrogée dans une jointure avec une table Amazon Redshift en raison de fonctions non prises en charge.</p><p>Les tables et vues du catalogue suivantes fournissent des informations utiles qui peuvent être jointes à des informations dans les tables Amazon Redshift. Certaines de ces tables autorisent uniquement un accès partiel en raison de restrictions de type de données et de fonction. Lorsque vous interrogez les tables partiellement accessibles, sélectionnez ou faites référence à leurs colonnes avec soin.</p><p>Les tables suivantes sont totalement accessibles et ne contiennent pas les types ou fonctions non pris en charge : </p><div class="itemizedlist">
             
             
             
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p> <a href="https://www.postgresql.org/docs/8.0/static/catalog-pg-attribute.html" rel="noopener noreferrer" target="_blank"><span>pg_attribute</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> </p>
            </li><li class="listitem">
                <p> <a href="https://www.postgresql.org/docs/8.0/static/catalog-pg-cast.html" rel="noopener noreferrer" target="_blank"><span>pg_cast </span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> </p>
            </li><li class="listitem">
                <p> <a href="https://www.postgresql.org/docs/8.0/static/catalog-pg-depend.html" rel="noopener noreferrer" target="_blank"><span>pg_depend</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> </p>
            </li><li class="listitem">
                <p> <a href="https://www.postgresql.org/docs/8.0/static/catalog-pg-description.html" rel="noopener noreferrer" target="_blank"><span>pg_description </span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> </p>
            </li><li class="listitem">
                <p> <a href="https://www.postgresql.org/docs/8.0/static/view-pg-locks.html" rel="noopener noreferrer" target="_blank"><span>pg_locks </span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> </p>
            </li><li class="listitem">
                <p> <a href="https://www.postgresql.org/docs/8.0/static/catalog-pg-opclass.html" rel="noopener noreferrer" target="_blank"><span>pg_opclass </span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> </p>
            </li></ul></div><p>Les tables suivantes sont partiellement accessibles et contiennent certains types, fonctions et colonnes de texte tronquées non pris en charge. Les valeurs dans les colonnes de texte sont tronquées en valeurs varchar(256). </p><div class="itemizedlist">
             
             
             
             
             
             
             
             
             
             
             
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p> <a href="https://www.postgresql.org/docs/8.0/static/catalog-pg-class.html" rel="noopener noreferrer" target="_blank"><span>pg_class</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> </p>
            </li><li class="listitem">
                <p> <a href="https://www.postgresql.org/docs/8.0/static/catalog-pg-constraint.html" rel="noopener noreferrer" target="_blank"><span>pg_constraint</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> </p>
            </li><li class="listitem">
                <p> <a href="https://www.postgresql.org/docs/8.0/static/catalog-pg-database.html" rel="noopener noreferrer" target="_blank"><span>pg_database</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> </p>
            </li><li class="listitem">
                <p> <a href="https://www.postgresql.org/docs/8.0/static/catalog-pg-group.html" rel="noopener noreferrer" target="_blank"><span>pg_group</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> </p>
            </li><li class="listitem">
                <p> <a href="https://www.postgresql.org/docs/8.0/static/catalog-pg-language.html" rel="noopener noreferrer" target="_blank"><span>pg_language </span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> </p>
            </li><li class="listitem">
                <p> <a href="https://www.postgresql.org/docs/8.0/static/catalog-pg-namespace.html" rel="noopener noreferrer" target="_blank"><span>pg_namespace</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> </p>
            </li><li class="listitem">
                <p> <a href="https://www.postgresql.org/docs/8.0/static/catalog-pg-operator.html" rel="noopener noreferrer" target="_blank"><span>pg_operator</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> </p>
            </li><li class="listitem">
                <p> <a href="https://www.postgresql.org/docs/8.0/static/catalog-pg-proc.html" rel="noopener noreferrer" target="_blank"><span>pg_proc</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> </p>
            </li><li class="listitem">
                <p> <a href="https://www.postgresql.org/docs/8.0/static/view-pg-settings.html" rel="noopener noreferrer" target="_blank"><span>pg_settings</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> </p>
            </li><li class="listitem">
                <p> <a href="https://www.postgresql.org/docs/8.0/static/catalog-pg-statistic.html" rel="noopener noreferrer" target="_blank"><span>pg_statistic</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> </p>
            </li><li class="listitem">
                <p> <a href="https://www.postgresql.org/docs/8.0/static/view-pg-tables.html" rel="noopener noreferrer" target="_blank"><span>pg_tables</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> </p>
            </li><li class="listitem">
                <p> <a href="https://www.postgresql.org/docs/8.0/static/catalog-pg-type.html" rel="noopener noreferrer" target="_blank"><span>pg_type </span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> </p>
            </li><li class="listitem">
                <p> <a href="https://www.postgresql.org/docs/8.0/static/view-pg-user.html" rel="noopener noreferrer" target="_blank"><span>pg_user</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> </p>
            </li><li class="listitem">
                <p> <a href="https://www.postgresql.org/docs/8.0/static/view-pg-views.html" rel="noopener noreferrer" target="_blank"><span>pg_views</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> </p>
            </li></ul></div><p>Les tables du catalogue qui ne sont pas répertoriées ici sont inaccessibles ou probablement inutiles pour les administrateurs Amazon Redshift. Cependant, vous pouvez interroger librement une table ou une vue du catalogue si votre requête n'implique pas de jointure avec une table Amazon Redshift.</p><p>Vous pouvez utiliser les colonnes OID dans les tables catalogue Postgres en tant que colonnes de jointure. Par exemple, la condition de jointure <code class="code">pg_database.oid = stv_tbl_perm.db_id</code> correspond à l'ID d'objet de base de données interne de chaque ligne PG_DATABASE avec la colonne DB_ID visible dans la table STV_TBL_PERM. Les colonnes OID sont des clés primaires internes qui ne sont pas visibles lorsque vous effectuez la sélection depuis la table. Les vues catalogue ne disposent pas de colonnes OID.</p><p>Certaines fonctions Amazon Redshift ne doivent s'exécuter que sur les nœuds de calcul. Si une requête fait référence à une table créée par un utilisateur, l'instruction SQL s'exécute sur les nœuds de calcul.</p><p>Une requête qui ne fait référence qu'aux tables catalogue (tables avec le préfixe PG, comme PG_TABLE_DEF) ou qui ne fait référence à aucune table, s'exécute exclusivement sur le nœud principal.</p><p>Si une requête qui utilise une fonction de nœud de calcul ne fait pas référence à une table définie par un utilisateur ou à une table système Amazon Redshift, elle renvoie l'erreur suivante.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">[Amazon](500310) Invalid operation: One or more of the used functions must be applied on at least one user created table.</code></pre><p>Les fonctions Amazon Redshift suivantes sont des fonctions qui s'exécutent uniquement sur un nœud de calcul :</p><p>Fonctions d'informations système</p><div class="itemizedlist">
             
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>LISTAGG</p>
            </li><li class="listitem">
                <p>MEDIAN</p>
            </li><li class="listitem">
                <p>PERCENTILE_CONT</p>
            </li><li class="listitem">
                <p>PERCENTILE_DISC et APPROXIMATE PERCENTILE_DISC</p>
            </li></ul></div><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avertissement" /> <strong>JavaScript est désactivé ou n'est pas disponible dans votre navigateur.</strong></p><p>Pour que vous puissiez utiliser la documentation AWS, Javascript doit être activé. Vous trouverez des instructions sur les pages d'aide de votre navigateur.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Conventions de rédaction</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./pg_user_info.html">PG_USER_INFO</div><div id="next" class="next-link" accesskey="n" href="./c_join_PG_examples.html">Exemples de requêtes de catalogue</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Oui</div><div class="content"><p>Merci de nous avoir fait part de votre satisfaction.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer ce qui vous a plu afin que nous puissions nous améliorer davantage.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c_join_PG.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Non</div><div class="content"><p>Merci de nous avoir avertis que cette page avait besoin d'être retravaillée. Nous sommes désolés de ne pas avoir répondu à vos attentes.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer comment nous pourrions améliorer cette documentation.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c_join_PG.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>