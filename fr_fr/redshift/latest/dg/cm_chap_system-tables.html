<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="fr-FR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Informations de référence sur les tables et les vues système - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="cm_chap_system-tables" /><meta name="default_state" content="cm_chap_system-tables" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/cm_chap_system-tables.html" /><meta name="description" content="Décrit en détail les tables et les vues système." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guide du développeur de base de données" /><meta name="abstract" content="Créez et gérez un entrepôt de données avec Amazon Redshift, service d’entrepôt de données au niveau de l’entreprise, pouvant atteindre plusieurs Po et entièrement géré." /><meta name="guide-locale" content="fr_fr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/cm_chap_system-tables.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/cm_chap_system-tables.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/cm_chap_system-tables.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/cm_chap_system-tables.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/cm_chap_system-tables.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/cm_chap_system-tables.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/cm_chap_system-tables.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/cm_chap_system-tables.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/cm_chap_system-tables.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/cm_chap_system-tables.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/cm_chap_system-tables.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/cm_chap_system-tables.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/cm_chap_system-tables.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/cm_chap_system-tables.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/cm_chap_system-tables.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/cm_chap_system-tables.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/cm_chap_system-tables.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm_chap_system-tables.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm_chap_system-tables.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/cm_chap_system-tables.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/cm_chap_system-tables.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/cm_chap_system-tables.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guide du développeur de base de données" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guide du développeur de base de données" /><meta id="panorama-serviceConsolePage" value="Informations de référence sur les tables et les vues système" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Informations de référence sur les tables et les vues système - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#cm_chap_system-tables" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/cm_chap_system-tables.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/cm_chap_system-tables.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/cm_chap_system-tables.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,entrepôt de données,développeur,exemples de données,database,développeur de base de données,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guide du développeur de base de données",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Informations de référence sur les tables et les vues système",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/cm_chap_system-tables.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#cm_chap_system-tables" target="_blank" rel="noopener noreferrer" title="Ouvrir le PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guide du développeur de base de données</a></div><div id="page-toc-src"><a href="#c_intro_system_tables">Tables et vues système</a><a href="#c_types-of-system-tables-and-views">Types de tables et de vues système</a><a href="#c_visibility-of-data">Visibilité des données dans les tables et vues système</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Les traductions sont fournies par des outils de traduction automatique. En cas de conflit entre le contenu d'une traduction et celui de la version originale en anglais, la version anglaise prévaudra.</p></awsui-alert><h1 class="topictitle" id="cm_chap_system-tables">Informations de référence sur les tables et les vues système</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><div class="highlights"><h6>Rubriques</h6><ul><li><a href="#c_intro_system_tables">Tables et vues système</a></li><li><a href="#c_types-of-system-tables-and-views">Types de tables et de vues système </a></li><li><a href="#c_visibility-of-data">Visibilité des données dans les tables et vues système</a></li><li><a href="./svv_views.html">Vues de métadonnées SVV</a></li><li><a href="./serverless_views-monitoring.html">Vues de surveillance SYS</a></li><li><a href="./sys_view_migration.html">Migration vers les vues de surveillance SYS</a></li><li><a href="./c_intro_system_views.html">Surveillance système (clusters mis en service uniquement)</a></li><li><a href="./c_intro_catalog_views.html">Tables catalogue système</a></li></ul></div>
        <h2 id="c_intro_system_tables">Tables et vues système</h2>


        <p>Amazon Redshift comporte de nombreuses tables et vues système contenant des informations sur le fonctionnement du système. Vous pouvez interroger ces tables et vues système de la même manière que vous interrogez toute autre table de base de données. Cette section présente des exemples de requêtes de table système et explique : </p>
        <div class="itemizedlist">
             
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>comment les différents types de tables et de vues système sont générés ;</p>
            </li><li class="listitem">
                <p>quels types d'informations vous pouvez obtenir à partir de ces tables ;</p>
            </li><li class="listitem">
                <p>comment joindre des tables système Amazon Redshift à des tables de catalogue ;</p>
            </li><li class="listitem">
                <p>comment gérer la croissance des fichiers journaux de table système.</p>
            </li></ul></div>
        <p>Certaines tables système peuvent uniquement être utilisées par le personnel AWS à des fins de diagnostic. Les sections suivantes décrivent les tables système qui peuvent être interrogées par les administrateurs système ou d'autres utilisateurs de base de données afin d'obtenir des informations utiles. </p>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Les tables système ne sont pas incluses dans les sauvegardes de cluster automatiques ou manuelles (instantanés). Les vues du système STL conservent sept jours d'historique des journaux. La conservation des journaux ne nécessite aucune intervention du client, mais si vous souhaitez conserver les données du journal pendant plus de 7 jours, vous devrez les copier régulièrement sur d'autres tables ou les décharger sur Amazon S3.</p></div></div>
     
        <h2 id="c_types-of-system-tables-and-views">Types de tables et de vues système </h2>
        <p>Il existe plusieurs types de tables et de vues système : </p>
        <div class="itemizedlist">
             
             
             
             
             
             
        <ul class="itemizedlist"><li class="listitem"><p>Les vues SVV contiennent des informations sur les objets de base de données faisant référence à des tables STV temporaires.</p></li><li class="listitem"><p>Les vues SYS permettent de surveiller l'utilisation de requêtes et de charges de travail pour les clusters mis en service et les groupes de travail sans serveur.</p></li><li class="listitem"><p>Les vues STL sont générées à partir des journaux stockés durablement sur le disque pour fournir un historique du système.</p></li><li class="listitem"><p>Les tables STV sont des tables système virtuelles contenant les instantanés des données système actuelles. Elles sont basées sur des données en mémoire temporaires et ne sont pas stockées durablement sous forme de journaux sur disque ou de tables standard.</p></li><li class="listitem"><p>Les vues SVCS fournissent des détails sur les requêtes effectuées sur les clusters principaux et les clusters de mise à l'échelle de simultanéité.</p></li><li class="listitem"><p>Les détails fournis par les vues SVL portent sur les requêtes exécutées sur les clusters principaux.</p></li></ul></div>
        
        <p>Les tables et les vues système n'utilisent pas le même modèle de cohérence que les tables standard. Il est important d'être conscient de ce problème lors de leur interrogation, surtout pour les tables STV et les vues SVV. Par exemple, prenons une table standard t1 avec une colonne c1. Vous pourriez vous attendre à ce que la requête suivante ne renvoie aucune ligne :</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select * from t1
where c1 &gt; (select max(c1) from t1)</code></pre>
        <p>Toutefois, la requête suivante sur une table système peut très bien renvoyer des lignes :</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select * from stv_exec_state
where currenttime &gt; (select max(currenttime) from stv_exec_state)</code></pre>
        <p> La raison pour laquelle cette requête peut renvoyer des lignes est que currenttime est temporaire et que les deux références dans la requête peuvent ne pas renvoyer la même valeur lors de l'évaluation.</p>
        <p>En revanche, la requête suivante ne peut très bien ne renvoyer aucune ligne :</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select * from stv_exec_state
where currenttime = (select max(currenttime) from stv_exec_state)</code></pre>
     
        <h2 id="c_visibility-of-data">Visibilité des données dans les tables et vues système</h2>


        <p>Il existe deux classes de visibilité pour les données dans les tables et les vues système : la visibilité des utilisateurs et la visibilité des super-utilisateurs.</p>
        <p>Seuls les utilisateurs disposant de privilèges peuvent afficher les données de ces tables qui se trouvent dans la catégorie visible du super-utilisateur. Les utilisateurs standard peuvent afficher les données des tableaux visibles de l'utilisateur. Pour permettre à un utilisateur standard d'avoir accès aux tableaux visibles du super-utilisateur, <a href="./r_GRANT.html">GRANT</a>-lui le privilège SELECT sur ce tableau.</p>
        <p>Par défaut, dans la plupart des tableaux visibles des utilisateurs, les lignes générées par un autre utilisateur sont invisibles pour un utilisateur standard. Si un utilisateur standard obtient un <a href="./r_ALTER_USER.html#alter-user-syslog-access">SYSLOG ACCESS</a> illimité, celui-ci peut voir toutes les lignes des tableaux visibles des utilisateurs, y compris les lignes générées par un autre utilisateur. Pour plus d'informations, consultez <a href="./r_ALTER_USER.html">ALTER USER</a> ou <a href="./r_CREATE_USER.html">CREATE USER</a>. Toutes les lignes de SVV_TRANSACTIONS sont visibles de tous les utilisateurs. </p>
        <p>Pour les vues de métadonnées, Amazon Redshift n'autorise pas la visibilité aux utilisateurs avec SYSLOG ACCESS illimité.</p>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Accorder à un utilisateur un accès illimité aux tableaux système permet à celui-ci de voir les données générées par d'autres utilisateurs. Par exemple, STL_QUERY et STL_QUERY_TEXT contiennent le texte complet des instructions INSERT, UPDATE et DELETE, qui peuvent contenir des données confidentielles générées par l'utilisateur. </p></div></div>
        <p>Un super-utilisateur peut afficher toutes les lignes de toutes les tables. Pour permettre à un utilisateur standard d'avoir accès aux tableaux visibles du super-utilisateur, <a href="./r_GRANT.html">GRANT</a>-lui le privilège SELECT sur ce tableau.</p>
         
            <h3 id="sub-c_visibility-of-data-filtering">Filtrage des requêtes générées par le système</h3>
            <p>Les tables et vues système associées à une requête, telles que SVL_QUERY_SUMMARY, SVL_QLOG et d'autres, contiennent généralement un grand nombre d'instructions générées automatiquement qu'Amazon Redshift utilise pour surveiller le statut de la base de données. Ces requêtes générées par le système sont visibles par un super-utilisateur, mais sont rarement utiles. Pour les filtrer lors de la sélection d'une table ou d'une vue système qui utilise la colonne <code class="code">userid</code>, ajoutez la condition <code class="code">userid &gt; 1</code> à la clause WHERE. Par exemple :</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class=""> select * from svl_query_summary where userid &gt; 1</code></pre>
         
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avertissement" /> <strong>JavaScript est désactivé ou n'est pas disponible dans votre navigateur.</strong></p><p>Pour que vous puissiez utiliser la documentation AWS, Javascript doit être activé. Vous trouverez des instructions sur les pages d'aide de votre navigateur.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Conventions de rédaction</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_pg_keywords.html">Mots réservés</div><div id="next" class="next-link" accesskey="n" href="./svv_views.html">Vues de métadonnées SVV</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Oui</div><div class="content"><p>Merci de nous avoir fait part de votre satisfaction.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer ce qui vous a plu afin que nous puissions nous améliorer davantage.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/cm_chap_system-tables.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Non</div><div class="content"><p>Merci de nous avoir avertis que cette page avait besoin d'être retravaillée. Nous sommes désolés de ne pas avoir répondu à vos attentes.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer comment nous pourrions améliorer cette documentation.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/cm_chap_system-tables.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>