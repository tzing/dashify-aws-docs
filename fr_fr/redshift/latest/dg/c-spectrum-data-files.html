<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="fr-FR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Création de fichiers de données pour les requêtes dans Amazon Redshift Spectrum - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="c-spectrum-data-files" /><meta name="default_state" content="c-spectrum-data-files" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-spectrum-data-files.html" /><meta name="description" content="Les fichiers de données que vous utilisez pour les requêtes dans Amazon Redshift Spectrum sont généralement les mêmes types de fichiers que vous utilisez pour d’autres applications. Par exemple, les mêmes types de fichiers sont utilisés avec Amazon Athena, Amazon EMR et Amazon. QuickSight Vous pouvez interroger les données dans leur format original directement depuis Amazon S3. Pour ce faire, les fichiers de données doivent être dans un format pris en charge par Redshift Spectrum et être situés dans un compartiment Amazon S3 auquel votre cluster peut accéder." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guide du développeur de base de données" /><meta name="abstract" content="Créez et gérez un entrepôt de données avec Amazon Redshift, service d’entrepôt de données au niveau de l’entreprise, pouvant atteindre plusieurs Po et entièrement géré." /><meta name="guide-locale" content="fr_fr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-spectrum-data-files.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/c-spectrum-data-files.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/c-spectrum-data-files.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/c-spectrum-data-files.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/c-spectrum-data-files.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/c-spectrum-data-files.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/c-spectrum-data-files.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/c-spectrum-data-files.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/c-spectrum-data-files.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-spectrum-data-files.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-spectrum-data-files.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/c-spectrum-data-files.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/c-spectrum-data-files.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/c-spectrum-data-files.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/c-spectrum-data-files.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/c-spectrum-data-files.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/c-spectrum-data-files.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c-spectrum-data-files.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c-spectrum-data-files.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/c-spectrum-data-files.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/c-spectrum-data-files.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/c-spectrum-data-files.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guide du développeur de base de données" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guide du développeur de base de données" /><meta id="panorama-serviceConsolePage" value="Création de fichiers de données pour les requêtes dans Amazon Redshift Spectrum" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Création de fichiers de données pour les requêtes dans Amazon Redshift Spectrum - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#c-spectrum-data-files" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-spectrum-data-files.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-spectrum-data-files.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-spectrum-data-files.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,entrepôt de données,développeur,exemples de données,database,développeur de base de données,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guide du développeur de base de données",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Interroger des données externes avec Amazon Redshift Spectrum",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-using-spectrum.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Création de fichiers de données pour les requêtes dans Amazon Redshift Spectrum",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-using-spectrum.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#c-spectrum-data-files" target="_blank" rel="noopener noreferrer" title="Ouvrir le PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guide du développeur de base de données</a></div><div id="page-toc-src"><a href="#c-spectrum-data-files-formats">Formats de données pour Redshift Spectrum </a><a href="#c-spectrum-data-files-compression">Types de compression pour Redshift Spectrum </a><a href="#c-spectrum-data-files-encryption">Chiffrement pour Redshift Spectrum </a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Les traductions sont fournies par des outils de traduction automatique. En cas de conflit entre le contenu d'une traduction et celui de la version originale en anglais, la version anglaise prévaudra.</p></awsui-alert><h1 class="topictitle" id="c-spectrum-data-files">Création de fichiers de données pour les requêtes dans Amazon Redshift Spectrum</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Les fichiers de données que vous utilisez pour les requêtes dans Amazon Redshift Spectrum sont généralement les mêmes types de fichiers que vous utilisez pour d’autres applications. Par exemple, les mêmes types de fichiers sont utilisés avec Amazon Athena, Amazon EMR et Amazon.  QuickSight Vous pouvez interroger les données dans leur format original directement depuis Amazon S3. Pour ce faire, les fichiers de données doivent être dans un format pris en charge par Redshift Spectrum et être situés dans un compartiment Amazon S3 auquel votre cluster peut accéder. </p><p>Le compartiment Amazon S3 contenant les fichiers de données et le cluster Amazon Redshift doivent se trouver dans la même région AWS. Pour plus d’informations sur les régions AWS prises en charge, consultez <a href="./c-using-spectrum.html#c-spectrum-regions">Régions Amazon Redshift Spectrum</a>.</p>
         <h2 id="c-spectrum-data-files-formats">Formats de données pour Redshift Spectrum </h2>
      <p>Redshift Spectrum prend en charge les formats de données structurées et semi-structurées suivants.</p>

      <div class="table-container"><div class="table-contents"><table id="w319aac29c15b7b5"><thead>
               <tr>
                  <th>Format de fichier</th>
                  <th>Colonne</th>
                  <th>Prend en charge les lectures parallèles</th>
                  <th>Unité fractionnée</th>
               </tr>
            </thead>
               <tr>
                  <td tabindex="-1">Parquet</td>
                  <td tabindex="-1">Oui </td>
                  <td tabindex="-1">Oui</td>
                  <td tabindex="-1">Groupe de lignes</td>
               </tr>
               <tr>
                  <td tabindex="-1">ORC</td>
                  <td tabindex="-1">Oui </td>
                  <td tabindex="-1">Oui</td>
                  <td tabindex="-1">Stripe</td>
               </tr>
               <tr>
                  <td tabindex="-1">RCFile</td>
                  <td tabindex="-1">Oui </td>
                  <td tabindex="-1">Oui</td>
                  <td tabindex="-1">Groupe de lignes</td>
               </tr>
               <tr>
                  <td tabindex="-1">TextFile</td>
                  <td tabindex="-1">Non</td>
                  <td tabindex="-1">Oui</td>
                  <td tabindex="-1">Rangée</td>
               </tr>
               <tr>
                  <td tabindex="-1">SequenceFile</td>
                  <td tabindex="-1">Non</td>
                  <td tabindex="-1">Oui</td>
                  <td tabindex="-1">Ligne ou bloc</td>
               </tr>
               <tr>
                  <td tabindex="-1">RegexSerde</td>
                  <td tabindex="-1">Non</td>
                  <td tabindex="-1">Oui</td>
                  <td tabindex="-1">Rangée</td>
               </tr>
               <tr>
                  <td tabindex="-1">OpenCSV</td>
                  <td tabindex="-1">Non</td>
                  <td tabindex="-1">Oui</td>
                  <td tabindex="-1">Rangée</td>
               </tr>
               <tr>
                  <td tabindex="-1">AVRO</td>
                  <td tabindex="-1">Non</td>
                  <td tabindex="-1">Oui</td>
                  <td tabindex="-1">Bloc</td>
               </tr>
               <tr>
                  <td tabindex="-1">Ion</td>
                  <td tabindex="-1">Non</td>
                  <td tabindex="-1">Non</td>
                  <td tabindex="-1">N/A</td>
               </tr>
               <tr>
                  <td tabindex="-1">JSON</td>
                  <td tabindex="-1">Non</td>
                  <td tabindex="-1">Non</td>
                  <td tabindex="-1">N/A</td>
               </tr>
            </table></div></div>

      <p>Dans le tableau précédent, les titres indiquent ce qui suit :</p>
      <div class="itemizedlist">
          
          
          
      <ul class="itemizedlist"><li class="listitem">
                     <p><b>Colonnaire</b> – Si le format de fichier stocke physiquement les données dans une structure orientée colonnes par opposition à une structure orientée lignes.</p>

         </li><li class="listitem">
            <p><b>Prise en charge des lectures parallèles</b> – Indique si le format de fichier prend en charge la lecture de blocs individuels dans le fichier. La lecture de blocs individuels permet de répartir le traitement d’un fichier sur plusieurs requêtes Redshift Spectrum indépendantes, au lieu de devoir lire le fichier complet en une seule requête.</p>
         </li><li class="listitem">
            <p><b>Unité de fractionnement</b> – Pour les formats de fichiers qui peuvent être lus en parallèle, l’unité de fractionnement est le plus petit morceau de données qu’une seule requête Redshift Spectrum peut traiter.</p>
      
               <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Les valeurs d’horodatage dans les fichiers texte doivent être au format <code class="code">yyyy-MM-dd HH:mm:ss.SSSSSS</code>, comme illustré par la valeur d’horodatage suivante : <code class="code">2017-05-01 11:30:59.000000</code>.</p></div></div>
      <p>Nous recommandons d’utiliser un format de fichier de stockage en colonnes, tel qu’Apache Parquet. Avec un format de fichier de stockage en colonnes, vous pouvez minimiser le transfert de données hors d’Amazon S3 en ne sélectionnant que les colonnes dont vous avez besoin. </p></li></ul></div>
       
         <h2 id="c-spectrum-data-files-compression">Types de compression pour Redshift Spectrum </h2>

                  <p>Il est vivement recommandé de compresser vos fichiers de données afin de réduire l’espace de stockage, d’améliorer les performances et de diminuer les coûts. Redshift Spectrum reconnaît les types de compression de fichiers en fonction de l’extension de fichier.</p>
      
      <p>Redshift Spectrum prend en charge les types de compression et extensions suivants.</p>
      <div class="table-container"><div class="table-contents"><table id="w319aac29c15b9b7"><thead>
               <tr>
                  <th>Algorithme de compression</th>
                  <th>Extension de fichier</th>
                  <th>Prend en charge les lectures parallèles</th>
               </tr>
            </thead>
               <tr>
                  <td tabindex="-1">Gzip</td>
                  <td tabindex="-1">.gz</td>
                  <td tabindex="-1">Non</td>
               </tr>
               <tr>
                  <td tabindex="-1">Bzip2</td>
                  <td tabindex="-1">.bz2</td>
                  <td tabindex="-1">Oui</td>
               </tr>
               <tr>
                  <td tabindex="-1">Snappy</td>
                  <td tabindex="-1">.snappy</td>
                  <td tabindex="-1">Non</td>
               </tr>
            </table></div></div>
      
  
      <p>Vous pouvez appliquer la compression à différents niveaux. Le plus souvent, vous compressez un fichier entier ou des blocs individuels dans un fichier. La compression des formats de colonnes au niveau du fichier n’entraîne pas d’avantages en termes de performances. </p>
         
      <p>Pour que Redshift Spectrum puisse lire un fichier en parallèle, les conditions suivantes doivent être remplies :</p>
         <div class="itemizedlist">
          
          
         <ul class="itemizedlist"><li class="listitem">
            <p>Le format de fichier prend en charge les lectures parallèles.</p>
         </li><li class="listitem">
         <p>La compression au niveau du fichier, le cas échéant, prend en charge les lectures parallèles.</p>
         </li></ul></div>

      <p>Il importe peu que les unités de fractionnement individuelles d’un fichier soient compressées à l’aide d’un algorithme de compression pouvant être lu en parallèle, car chaque unité de fractionnement est traitée par une seule requête Redshift Spectrum. Les fichiers Parquet compressés par Snappy illustrent ce cas de figure. Les groupes de lignes individuels dans le fichier Parquet sont compressés à l’aide de Snappy, mais la structure de niveau supérieur du fichier reste non compressée. Dans ce cas, le fichier peut être lu en parallèle car chaque requête Redshift Spectrum peut lire et traiter des groupes de lignes individuels depuis Amazon S3.</p>

       
         <h2 id="c-spectrum-data-files-encryption">Chiffrement pour Redshift Spectrum </h2>

      <p>Redshift Spectrum déchiffre de manière transparente les fichiers de données chiffrés à l’aide des options de chiffrement suivantes :</p>
      <div class="itemizedlist">
          
          
      <ul class="itemizedlist"><li class="listitem">
            <p>Chiffrement côté serveur (SSE-S3) à l’aide d’une clé de chiffrement AES-256 gérée par Amazon S3.</p>
         </li><li class="listitem">
            <p>Chiffrement côté serveur avec les clés gérées par AWS Key Management Service (SSE-KMS).  </p>
         </li></ul></div>
         <p>Redshift Spectrum ne prend pas en charge le chiffrement côté client d’Amazon S3. Pour plus d’informations sur le chiffrement côté serveur, consultez <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/serv-side-encryption.html">Protection des données à l’aide du chiffrement côté serveur</a> dans le <em>Guide de l’utilisateur Amazon Simple Storage Service</em>.</p>
      <p>Amazon Redshift utilise le traitement massivement parallèle (MPP) pour obtenir une exécution rapide de requêtes complexes opérant sur de grandes quantités de données. Redshift Spectrum applique le même principe pour interroger les données externes, en utilisant si nécessaire plusieurs instances Redshift Spectrum pour analyser les fichiers. Placez les fichiers dans un dossier distinct pour chaque table. </p>
      <p>Vous pouvez optimiser vos données pour un traitement parallèle en procédant comme suit :</p>
      <div class="itemizedlist">
          
          
      <ul class="itemizedlist"><li class="listitem">
            <p>Si votre format de fichier ou votre compression ne prend pas en charge la lecture en parallèle, divisez les fichiers volumineux en plusieurs fichiers plus petits. Nous vous recommandons d’utiliser des fichiers d’une taille comprise entre 64 Mo et 1 Go.</p>
         </li><li class="listitem">
            <p>Faites en sorte que tous les fichiers aient à peu près la même taille. Redshift Spectrum ne peut pas distribuer équitablement la charge de travail si certains fichiers sont beaucoup plus volumineux que d’autres. </p>
         </li></ul></div>
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avertissement" /> <strong>JavaScript est désactivé ou n'est pas disponible dans votre navigateur.</strong></p><p>Pour que vous puissiez utiliser la documentation AWS, Javascript doit être activé. Vous trouverez des instructions sur les pages d'aide de votre navigateur.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Conventions de rédaction</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./spectrum-lake-formation.html">Utiliser Redshift Spectrum avec Lake Formation</div><div id="next" class="next-link" accesskey="n" href="./c-spectrum-external-schemas.html">Création de schémas externes</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Oui</div><div class="content"><p>Merci de nous avoir fait part de votre satisfaction.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer ce qui vous a plu afin que nous puissions nous améliorer davantage.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-spectrum-data-files.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Non</div><div class="content"><p>Merci de nous avoir avertis que cette page avait besoin d'être retravaillée. Nous sommes désolés de ne pas avoir répondu à vos attentes.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer comment nous pourrions améliorer cette documentation.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-spectrum-data-files.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>