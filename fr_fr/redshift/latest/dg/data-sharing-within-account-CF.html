<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="fr-FR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Gestion du partage de données avec AWS CloudFormation - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="data-sharing-within-account-CF" /><meta name="default_state" content="data-sharing-within-account-CF" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/data-sharing-within-account-CF.html" /><meta name="description" content="Automatisez la configuration du partage de données dans Amazon Redshift à l’aide d’une pile AWS CloudFormation." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guide du développeur de base de données" /><meta name="abstract" content="Créez et gérez un entrepôt de données avec Amazon Redshift, service d’entrepôt de données au niveau de l’entreprise, pouvant atteindre plusieurs Po et entièrement géré." /><meta name="guide-locale" content="fr_fr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/data-sharing-within-account-CF.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/data-sharing-within-account-CF.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/data-sharing-within-account-CF.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/data-sharing-within-account-CF.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/data-sharing-within-account-CF.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/data-sharing-within-account-CF.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/data-sharing-within-account-CF.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/data-sharing-within-account-CF.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/data-sharing-within-account-CF.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/data-sharing-within-account-CF.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/data-sharing-within-account-CF.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/data-sharing-within-account-CF.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/data-sharing-within-account-CF.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/data-sharing-within-account-CF.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/data-sharing-within-account-CF.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/data-sharing-within-account-CF.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/data-sharing-within-account-CF.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/data-sharing-within-account-CF.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/data-sharing-within-account-CF.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/data-sharing-within-account-CF.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/data-sharing-within-account-CF.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/data-sharing-within-account-CF.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guide du développeur de base de données" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guide du développeur de base de données" /><meta id="panorama-serviceConsolePage" value="Gestion du partage de données avec AWS CloudFormation" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Gestion du partage de données avec AWS CloudFormation - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#data-sharing-within-account-CF" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/data-sharing-within-account-CF.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/data-sharing-within-account-CF.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/data-sharing-within-account-CF.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,entrepôt de données,développeur,exemples de données,database,développeur de base de données,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guide du développeur de base de données",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Partage de données entre clusters dans Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/datashare-overview.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Gestion des tâches de partage de données",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/getting-started-datashare.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Gestion du partage de données avec AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/getting-started-datashare.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#data-sharing-within-account-CF" target="_blank" rel="noopener noreferrer" title="Ouvrir le PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guide du développeur de base de données</a></div><div id="page-toc-src"><a href="#data-sharing-within-account-CF-querying">Interrogation de l’unité de partage des données que vous avez créée</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Les traductions sont fournies par des outils de traduction automatique. En cas de conflit entre le contenu d'une traduction et celui de la version originale en anglais, la version anglaise prévaudra.</p></awsui-alert><h1 class="topictitle" id="data-sharing-within-account-CF">Gestion du partage de données avec AWS CloudFormation</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Vous pouvez automatiser la configuration du partage de données à l’aide d’une pile AWS CloudFormation, qui alloue les ressources AWS. La  CloudFormation  pile configure le partage de données entre deux clusters Amazon Redshift d'un même AWS compte. Ainsi, vous pouvez commencer à partager des données sans exécuter d’instructions SQL pour mettre en service vos ressources.</p><p>La pile crée une unité de partage des données sur le cluster que vous désignez. L’unité de partage des données inclut une table et des exemples de données en lecture seule. Ces données peuvent être lues par votre autre cluster Amazon Redshift.</p><p>Si vous souhaitez commencer à partager des données dans un AWS compte en exécutant des instructions SQL pour configurer un partage de données et octroyer des autorisations, sans les utiliser CloudFormation, consultez. <a href="./within-account.html">Partage de données au sein d’un Compte AWS</a></p><p>Avant d'exécuter la  CloudFormation  pile de partage de données, vous devez être connecté avec un utilisateur autorisé à créer un rôle IAM et une fonction Lambda. Vous avez également besoin de deux clusters Amazon Redshift dans le même compte. Vous en utilisez un, le <em>producteur</em>, pour partager les exemples de données, et l’autre, le <em>consommateur</em>, pour les lire. La principale exigence pour ces clusters est que chacun utilise des nœuds RA3. Pour des prérequis supplémentaires, consultez <a href="./considerations.html">Éléments à prendre en compte lors de l’utilisation du partage de données dans Amazon Redshift</a>.</p><p>Pour plus d’informations sur le démarrage de la configuration d’un cluster Amazon Redshift, consultez <a href="https://docs.aws.amazon.com/redshift/latest/gsg/getting-started.html">Premiers pas avec Amazon Redshift</a>. Pour plus d'informations sur l'automatisation de la configuration avec CloudFormation, voir <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/Welcome.html">Qu'est-ce que c'est ? AWS  CloudFormation</a></p>
        
            
            
            <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>Avant de lancer votre  CloudFormation  stack, assurez-vous que vous disposez de deux clusters Amazon Redshift dans le même compte et que les clusters utilisent des nœuds RA3. Assurez-vous que chaque cluster possède une base de données et un super-utilisateur. Pour plus d’informations, consultez <a href="./r_CREATE_DATABASE.html">CREATE DATABASE</a> et <a href="./r_superusers.html">superuser</a>.</p></div></div>
            
            <div class="procedure"><h6>Pour lancer votre  CloudFormation  stack pour le partage de données Amazon Redshift, procédez comme suit :</h6><ol><li><p>Cliquez sur <a href="https://console.aws.amazon.com/cloudformation/home?#/stacks/new?stackName=DataShare&amp;templateURL=https://s3.amazonaws.com/redshift-downloads/docs-downloads/DataShare.yml" rel="noopener noreferrer" target="_blank"><span><b>Lancer la pile CFN</b></span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>, qui vous amène au  CloudFormation  service dans leAWS Management Console.</p>
                  <p>Si vous y êtes invité, connectez-vous. </p>
                  <p>Le processus de création de la pile démarre en faisant référence à un fichier  CloudFormation  modèle, qui est stocké dans Amazon S3. Un  CloudFormation  <em>modèle</em> est un fichier texte au format JSON qui déclare AWS les ressources qui constituent une pile. Pour plus d'informations sur les  CloudFormation  modèles, voir <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html">Apprendre les principes de base des modèles</a>.</p>
               </li><li><p>Choisissez <b>Next (Suivant)</b> pour saisir les détails de la pile.</p></li><li>
                  <p>Sous <b>Parameters (Paramètres)</b>, pour chaque cluster, saisissez les éléments suivants :</p>
                  
                  <div class="itemizedlist">
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>Le nom de votre cluster Amazon Redshift, par exemple <code class="userinput">ra3-consumer-cluster</code></p>
                     </li><li class="listitem">
                        <p>Le nom de votre base de données, par exemple <code class="userinput">dev</code></p>
                     </li><li class="listitem">
                        <p>Le nom de l’utilisateur de votre base de données, par exemple <code class="userinput">consumeruser</code></p>
                     </li></ul></div>
                  
                  
                  <p>Nous vous recommandons d’utiliser des clusters de test, car la pile crée plusieurs objets de base de données.</p>
                  <p>Choisissez <b>Suivant</b>. </p></li><li><p>Les options de pile apparaissent. </p>
                  <p>Choisissez <b>Next (Suivant)</b> pour accepter les paramètres par défaut.</p></li><li><p><b>Sous Capabilities (Capacités)</b>, choisissez <b>I acknowledge that AWS CloudFormation might create IAM resources (Je comprends qu’AWS CloudFormation peut créer des ressources IAM)</b>.</p></li><li><p>Sélectionnez <b>Créer la pile</b>. </p></li></ol></div>
            <p>CloudFormation il faut environ 10 minutes pour créer la pile Amazon Redshift à l'aide du modèle, en créant un partage de données appelé. <code class="code">myproducer_share</code> La pile crée l’unité de partage des données dans la base de données spécifiée dans les détails de la pile. Seuls les objets de cette base de données peuvent être partagés.</p>
            <p>Si une erreur se produit pendant la création de la pile, procédez comme suit :</p>
            <div class="itemizedlist">
                
                
                
            <ul class="itemizedlist"><li class="listitem"><p>Assurez-vous d’avoir saisi le nom de cluster Amazon Redshift, le nom de base de données et le nom d’utilisateur de la base de données corrects pour chaque cluster Redshift. </p></li><li class="listitem"><p>Assurez-vous que votre cluster possède des nœuds RA3.</p>
                  </li><li class="listitem"><p>Assurez-vous d’être connecté avec un utilisateur qui a l’autorisation de créer un rôle IAM et une fonction Lambda.. Pour plus d’informations sur la création de rôles IAM, consultez <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create.html">Création de rôles IAM</a>. Pour plus d’informations sur les politiques de création de fonctions Λ, consultez <a href="https://docs.aws.amazon.com/lambda/latest/dg/access-control-identity-based.html#permissions-user-function">Développement des fonctions</a>.</p></li></ul></div> 
          
            <h2 id="data-sharing-within-account-CF-querying">Interrogation de l’unité de partage des données que vous avez créée</h2> 
            <p>Pour utiliser la procédure suivante, vérifiez que vous disposez des autorisations requises pour exécuter des requêtes sur chaque cluster décrit.</p>
            <div class="procedure"><h6>Pour interroger votre unité de partage des données :</h6><ol><li>
                  <p>Connectez-vous au cluster de producteurs sur la base de données saisie lors de la création de votre  CloudFormation stack, à l'aide d'un outil client tel que l'éditeur de requêtes Amazon Redshift v2.</p>
               </li><li><p>Requête pour les unités de partage des données.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql "><code class="userinput">SHOW DATASHARES;</code>
                  
<code class="computeroutput" copy="false">+------------------+-------------+-----------------+-------------------+------------+------------+---------------------+-----------+------------------+--------------------------------------+
|    share_name    | share_owner | source_database | consumer_database | share_type | createdate | is_publicaccessible | share_acl | producer_account |          producer_namespace          |
+------------------+-------------+-----------------+-------------------+------------+------------+---------------------+-----------+------------------+--------------------------------------+
| myproducer_share | 100         | sample_data_dev | myconsumer_db     | INBOUND    | NULL       | true                | NULL      |  <code class="replaceable">producer-acct</code>   |        <code class="replaceable">your-producer-namespace</code>       |
+------------------+-------------+-----------------+-------------------+------------+------------+---------------------+-----------+------------------+--------------------------------------+</code></code></pre>
                  <p>La commande précédente renvoie le nom de l’unité de partage des données créée par la pile, appelée <code class="code">myproducer_share</code>. Elle renvoie également le nom de base de données associé à l’unité de partage des données <code class="code">myconsumer_db</code>. </p>
                  <p>Copiez l’identifiant de l’espace de noms du producteur à utiliser lors d’une étape ultérieure.</p>
               </li><li><p>Décrivez les objets dans l’unité de partage des données.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql "><code class="userinput">DESC DATASHARE myproducer_share;</code>
                  
<code class="computeroutput" copy="false">+------------------+--------------------------------------+------------+------------------+-------------+-------------------------------------+-------------+
| producer_account |          producer_namespace          | share_type |    share_name    | object_type |             object_name             | include_new |
+------------------+--------------------------------------+------------+------------------+-------------+-------------------------------------+-------------+
|   <code class="replaceable">producer-acct</code>  |        <code class="replaceable">your-producer-namespace</code>       | OUTBOUND   | myproducer_share | schema      | myproducer_schema                   | true        |
|   <code class="replaceable">producer-acct</code>  |        <code class="replaceable">your-producer-namespace</code>       | OUTBOUND   | myproducer_share | table       | myproducer_schema.tickit_sales      | NULL        |
|   <code class="replaceable">producer-acct</code>  |        <code class="replaceable">your-producer-namespace</code>       | OUTBOUND   | myproducer_share | view        | myproducer_schema.ticket_sales_view | NULL        |
+------------------+--------------------------------------+------------+------------------+-------------+-------------------------------------+-------------+</code></code></pre>
                  <p>Lorsque vous décrivez l’unité de partage des données, il renvoie les propriétés des tables et des vues. La pile ajoute des tables et des vues contenant des exemples de données à la base de données producteur, par exemple <code class="code">tickit_sales</code> et <code class="code">tickit_sales_view</code>. Pour plus d’informations sur l’exemple de base de données TICKIT, consultez <a href="./c_sampledb.html">Exemple de base de données</a>.</p>
                  <p>Il n’est pas nécessaire de déléguer des autorisations sur l’unité de partage des données pour exécuter des requêtes. La pile accorde les autorisations nécessaires.</p>
               </li><li><p>Connectez-vous au cluster consommateur à l’aide de votre outil client. Décrivez l’unité de partage des données, en spécifiant l’espace de noms du producteur.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">DESC DATASHARE myproducer_share OF NAMESPACE '&lt;namespace id&gt;'; --specify the unique identifier for the producer namespace
                  
<code class="computeroutput" copy="false">+------------------+--------------------------------------+------------+------------------+-------------+-------------------------------------+-------------+
| producer_account |          producer_namespace          | share_type |    share_name    | object_type |             object_name             | include_new |
+------------------+--------------------------------------+------------+------------------+-------------+-------------------------------------+-------------+
|   <code class="replaceable">producer-acct</code>  |        <code class="replaceable">your-producer-namespace</code>       | INBOUND    | myproducer_share | schema      | myproducer_schema                   | NULL        |
|   <code class="replaceable">producer-acct</code>  |        <code class="replaceable">your-producer-namespace</code>       | INBOUND    | myproducer_share | table       | myproducer_schema.tickit_sales      | NULL        |
|   <code class="replaceable">producer-acct</code>  |        <code class="replaceable">your-producer-namespace</code>       | INBOUND    | myproducer_share | view        | myproducer_schema.ticket_sales_view | NULL        |
+------------------+--------------------------------------+------------+------------------+-------------+-------------------------------------+-------------+</code></code></pre></li><li><p>Vous pouvez interroger des tables dans l’unité de partage des données en spécifiant la base de données et le schéma du partage de données. Pour plus d'informations, consultez <a href="./cross-database_example.html">Exemples d’utilisation d’une requête entre bases de données</a>. Les requêtes suivantes renvoient les données de vente et de vendeurs à partir de la table SALES de l’exemple de base de données TICKIT. Pour plus d'informations, consultez <a href="./r_salestable.html">Table SALES</a>.</p>
                         
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql "><code class="userinput">SELECT * FROM myconsumer_db.myproducer_schema.tickit_sales_view;</code>
                  
<code class="computeroutput" copy="false">+---------+--------+----------+---------+---------+--------+---------+-----------+------------+---------------------+
| salesid | listid | sellerid | buyerid | eventid | dateid | qtysold | pricepaid | commission |      saletime       |
+---------+--------+----------+---------+---------+--------+---------+-----------+------------+---------------------+
|       1 |      1 |    36861 |   21191 |    7872 |   1875 |       4 |       728 |      109.2 | 2008-02-18 02:36:48 |
|       2 |      4 |     8117 |   11498 |    4337 |   1983 |       2 |        76 |       11.4 | 2008-06-06 05:00:16 |
|       3 |      5 |     1616 |   17433 |    8647 |   1983 |       2 |       350 |       52.5 | 2008-06-06 08:26:17 |
|       4 |      5 |     1616 |   19715 |    8647 |   1986 |       1 |       175 |      26.25 | 2008-06-09 08:38:52 |
|       5 |      6 |    47402 |   14115 |    8240 |   2069 |       2 |       154 |       23.1 | 2008-08-31 09:17:02 |
+---------+--------+----------+---------+---------+--------+---------+-----------+------------+---------------------+</code></code></pre>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>La requête s’exécute sur la vue dans le schéma partagé. Vous ne pouvez pas vous connecter directement aux bases de données créées à partir d’unités de partage des données. Elles sont en lecture seule.</p></div></div>
                  
               </li><li><p>Pour exécuter une requête incluant des agrégations, utilisez l’exemple suivant.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql "><code class="userinput">SELECT * FROM myconsumer_db.myproducer_schema.tickit_sales ORDER BY 1,2 LIMIT 5;</code>
                  
<code class="computeroutput" copy="false">+---------+--------+----------+---------+---------+--------+---------+-----------+------------+---------------------+
| salesid | listid | sellerid | buyerid | eventid | dateid | qtysold | pricepaid | commission |      saletime       |
+---------+--------+----------+---------+---------+--------+---------+-----------+------------+---------------------+
|       1 |      1 |    36861 |   21191 |    7872 |   1875 |       4 |       728 |      109.2 | 2008-02-18 02:36:48 |
|       2 |      4 |     8117 |   11498 |    4337 |   1983 |       2 |        76 |       11.4 | 2008-06-06 05:00:16 |
|       3 |      5 |     1616 |   17433 |    8647 |   1983 |       2 |       350 |       52.5 | 2008-06-06 08:26:17 |
|       4 |      5 |     1616 |   19715 |    8647 |   1986 |       1 |       175 |      26.25 | 2008-06-09 08:38:52 |
|       5 |      6 |    47402 |   14115 |    8240 |   2069 |       2 |       154 |       23.1 | 2008-08-31 09:17:02 |
+---------+--------+----------+---------+---------+--------+---------+-----------+------------+---------------------+</code></code></pre>
                  <p>La requête renvoie les données de vente et de vendeurs à partir des exemples de données TICKIT.</p>
                  <p>Pour obtenir des exemples de requêtes d’unités de partage des données supplémentaires, consultez <a href="./within-account.html">Partage de données au sein d’un Compte AWS</a>.</p>
                  </li></ol></div>
              <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avertissement" /> <strong>JavaScript est désactivé ou n'est pas disponible dans votre navigateur.</strong></p><p>Pour que vous puissiez utiliser la documentation AWS, Javascript doit être activé. Vous trouverez des instructions sur les pages d'aide de votre navigateur.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Conventions de rédaction</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./manage-adx-datashare-console.html">Gestion d’unités de partage des données AWS Data Exchange</div><div id="next" class="next-link" accesskey="n" href="./multi-warehouse-writes-data-sharing.html">Partage de données en lecture et en écriture au sein d’un Compte AWS ou de plusieurs comptes (version préliminaire)</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Oui</div><div class="content"><p>Merci de nous avoir fait part de votre satisfaction.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer ce qui vous a plu afin que nous puissions nous améliorer davantage.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/data-sharing-within-account-CF.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Non</div><div class="content"><p>Merci de nous avoir avertis que cette page avait besoin d'être retravaillée. Nous sommes désolés de ne pas avoir répondu à vos attentes.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer comment nous pourrions améliorer cette documentation.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/data-sharing-within-account-CF.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>