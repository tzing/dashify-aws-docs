<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="fr-FR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>EXPLAIN - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_EXPLAIN" /><meta name="default_state" content="r_EXPLAIN" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_EXPLAIN.html" /><meta name="description" content="Affiche le plan d’exécution d’une instruction de requête sans exécution de la requête." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guide du développeur de base de données" /><meta name="abstract" content="Créez et gérez un entrepôt de données avec Amazon Redshift, service d’entrepôt de données au niveau de l’entreprise, pouvant atteindre plusieurs Po et entièrement géré." /><meta name="guide-locale" content="fr_fr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_EXPLAIN.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_EXPLAIN.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_EXPLAIN.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_EXPLAIN.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_EXPLAIN.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_EXPLAIN.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_EXPLAIN.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_EXPLAIN.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_EXPLAIN.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_EXPLAIN.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_EXPLAIN.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_EXPLAIN.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_EXPLAIN.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_EXPLAIN.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_EXPLAIN.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_EXPLAIN.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_EXPLAIN.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_EXPLAIN.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_EXPLAIN.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_EXPLAIN.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_EXPLAIN.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_EXPLAIN.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guide du développeur de base de données" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guide du développeur de base de données" /><meta id="panorama-serviceConsolePage" value="EXPLAIN" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>EXPLAIN - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#r_EXPLAIN" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_EXPLAIN.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_EXPLAIN.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_EXPLAIN.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,entrepôt de données,développeur,exemples de données,database,développeur de base de données,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guide du développeur de base de données",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Référence SQL",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Commandes SQL",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "EXPLAIN",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c_SQL_commands.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#r_EXPLAIN" target="_blank" rel="noopener noreferrer" title="Ouvrir le PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guide du développeur de base de données</a></div><div id="page-toc-src"><a href="#r_EXPLAIN-synopsis">Syntaxe</a><a href="#r_EXPLAIN-parameters">Paramètres</a><a href="#r_EXPLAIN-usage-notes">Notes d’utilisation</a><a href="#r_EXPLAIN-query-planning-and-execution-steps">Étapes de planification et d’exécution de la requête</a><a href="#r_EXPLAIN-RLS">Utilisation d’EXPLAIN pour RLS </a><a href="#r_EXPLAIN-examples">Exemples</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Les traductions sont fournies par des outils de traduction automatique. En cas de conflit entre le contenu d'une traduction et celui de la version originale en anglais, la version anglaise prévaudra.</p></awsui-alert><h1 class="topictitle" id="r_EXPLAIN">EXPLAIN</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Affiche le plan d’exécution d’une instruction de requête sans exécution de la requête. Pour plus d’informations sur le flux de travail d’analyse des requêtes, consultez <a href="./c-query-analysis-process.html">Flux de travail d’analyse des requêtes</a>.</p>
         <h2 id="r_EXPLAIN-synopsis">Syntaxe</h2>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">EXPLAIN [ VERBOSE ] <em>query</em>
                  </code></pre>
       
         <h2 id="r_EXPLAIN-parameters">Paramètres</h2>
         <div class="variablelist">
             
             
         <dl>
               <dt><span class="term">VERBOSE </span></dt>
               <dd>
                  <p>Affiche le plan de requête complet au lieu d’un simple résumé.</p>
               </dd>
             
               <dt><span class="term"> <em>query</em> </span></dt>
               <dd>
                  <p>Instruction de la requête à expliquer. La requête peut être une instruction SELECT, INSERT, CREATE TABLE AS, UPDATE ou DELETE.</p>
               </dd>
            </dl></div>
       
         <h2 id="r_EXPLAIN-usage-notes">Notes d’utilisation</h2>
         <p>Les performances d’EXPLAIN sont parfois influencées par le temps nécessaire à la création de tables temporaires. Par exemple, une requête qui utilise l’optimisation courante des sous-expressions nécessite la création et l’analyse de tables temporaires pour renvoyer la sortie EXPLAIN. Le plan de requête dépend du schéma et des statistiques des tables temporaires. Par conséquent, la commande EXPLAIN pour ce type de requête peut prendre plus de temps pour s’exécuter que prévu.</p>
         <p>Vous pouvez utiliser EXPLAIN uniquement pour les commandes suivantes :</p>
         <div class="itemizedlist">
             
             
             
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>SELECT</p>
            </li><li class="listitem">
               <p>SELECT INTO</p>
            </li><li class="listitem">
               <p>CREATE TABLE AS</p>
            </li><li class="listitem">
               <p>INSERT</p>
            </li><li class="listitem">
               <p>UPDATE</p>
            </li><li class="listitem">
               <p>DELETE</p>
            </li></ul></div>
         <p>La commande EXPLAIN échoue si vous l’utilisez pour d’autres commandes SQL, telles que le langage de définition de données (DDL) ou les opérations de base de données.</p>
         
         <p>Les coûts unitaires relatifs de sortie EXPLAIN sont utilisés par Amazon Redshift pour choisir un plan de requête. Amazon Redshift compare les tailles de différentes estimations de ressources pour déterminer le plan.</p>
       
         <h2 id="r_EXPLAIN-query-planning-and-execution-steps">Étapes de planification et d’exécution de la requête</h2>
         <p>Le plan d’exécution d’une instruction de requête Amazon Redshift spécifique ventile l’exécution et le calcul d’une requête en une séquence discrète d’étapes et d’opérations de table qui produisent un ensemble de résultats final pour la requête. Pour obtenir des informations sur la planification des requêtes, consultez <a href="./c-query-processing.html">Traitement des requêtes</a>.</p>
            <p>Le tableau suivant fournit un résumé des étapes qu’Amazon Redshift peut utiliser dans le développement d’un plan d’exécution dans le cas d’une requête qu’un utilisateur soumet pour l’exécution.</p>
         <div class="table-container"><div class="table-contents"><table id="w319aac47b9d163c11b7"><thead>
                  <tr>
                     <th>Opérateurs EXPLAIN </th>
                     <th>Étapes de l’exécution d’une requête </th>
                     <th>Description </th>
                  </tr>
               </thead>
                  <tr>
                     <td colspan="3" style="vertical-align: top;" tabindex="-1"><b>SCAN :</b> </td>
                  </tr>
                  <tr>
                     <td style="vertical-align: top;" tabindex="-1"> Analyse séquentielle </td>
                     <td style="vertical-align: top;" tabindex="-1">scan </td>
                     <td tabindex="-1">Opérateur ou étape d’analyse de table ou d’analyse de relation Amazon Redshift. Analyse toute la table de manière séquentielle du début à la fin ; analyse aussi les contraintes de requête pour chaque ligne (Filter) si la clause WHERE est spécifiée. Permet aussi d’exécuter les instructions INSERT, UPDATE et DELETE. </td>
                  </tr>
                  <tr>
                     <td colspan="3" style="vertical-align: top;" tabindex="-1"><b>JOINS :</b> Amazon Redshift utilise différents opérateurs de jointure basés sur la conception physique des tables jointes, l’emplacement des données requises pour la jointure et les attributs spécifiques de la requête elle-même. Analyse de sous-requête : l’analyse et l’ajout de sous-requête permettent d’exécuter les requêtes UNION. </td>
                  </tr>
                  <tr>
                     <td style="vertical-align: top;" tabindex="-1">Boucle imbriquée </td>
                     <td style="vertical-align: top;" tabindex="-1">nloop </td>
                     <td tabindex="-1">Jointure la moins optimale ; principalement utilisée pour les jointures croisées (produits cartésiens, sans condition de jointure) et certaines jointures d’inégalité. </td>
                  </tr>
                  <tr>
                     <td style="vertical-align: top;" tabindex="-1">Joindre par hachage </td>
                     <td style="vertical-align: top;" tabindex="-1">hjoin </td>
                     <td tabindex="-1">Également utilisé pour les jointures internes et les jointures externes gauche et droite, et généralement plus rapide qu’une jointure de boucle imbriquée. La jointure de hachage lit la table externe, hache la colonne de jointure et recherche les correspondances de la table de hachage interne. L’étape peut déverser sur le disque. (L’entrée interne de hjoin est une étape de hachage qui peut être basée sur le disque.) </td>
                  </tr>
                  <tr>
                     <td style="vertical-align: top;" tabindex="-1">Joindre par fusion </td>
                     <td style="vertical-align: top;" tabindex="-1">mjoin </td>
                     <td style="vertical-align: top;" tabindex="-1">Également utilisé pour les jointures internes et les jointures externes (pour les tables de jointure qui sont distribuées et triées sur les colonnes de jointure). Généralement, l’algorithme de jointure Amazon Redshift le plus rapide, sans inclure d’autres considérations de coût. </td>
                  </tr>
                  <tr>
                     <td colspan="3" style="vertical-align: top;" tabindex="-1"><b>AGGREGATION :</b> opérateurs et étapes utilisés pour les requêtes impliquant les fonctions d’agrégation et les opérations GROUP BY. </td>
                  </tr>
                  <tr>
                     <td style="vertical-align: top;" tabindex="-1">Regrouper </td>
                     <td style="vertical-align: top;" tabindex="-1">aggr </td>
                     <td tabindex="-1">Opérateur/étape pour les fonctions d’agrégation scalaires. </td>
                  </tr>
                  <tr>
                     <td style="vertical-align: top;" tabindex="-1">HashAggregate </td>
                     <td style="vertical-align: top;" tabindex="-1">aggr </td>
                     <td tabindex="-1">Opérateur/étape pour les fonctions d’agrégation groupées. Peut fonctionner à partir du disque en raison du déversement de la table de hachage sur le disque. </td>
                  </tr>
                  <tr>
                     <td style="vertical-align: top;" tabindex="-1">GroupAggregate </td>
                     <td style="vertical-align: top;" tabindex="-1">aggr </td>
                     <td tabindex="-1">Opérateur parfois choisi pour les requêtes agrégation groupées si le paramètre de configuration Amazon Redshift pour le paramètre force_hash_grouping est désactivé. </td>
                  </tr>
                  <tr>
                     <td colspan="3" style="vertical-align: top;" tabindex="-1"><b>SORT :</b> opérateurs et étapes utilisés lorsque les requêtes doivent trier ou fusionner des jeux de résultats. </td>
                  </tr>
                  <tr>
                     <td style="vertical-align: top;" tabindex="-1">Tri </td>
                     <td style="vertical-align: top;" tabindex="-1">sort </td>
                     <td tabindex="-1">Exécute le tri spécifiée par la clause ORDER BY ainsi que d’autres opérations telles que les jointures et UNION. Peut fonctionner à partir du disque. </td>
                  </tr>
                  <tr>
                     <td style="vertical-align: top;" tabindex="-1">Fusionner </td>
                     <td style="vertical-align: top;" tabindex="-1">merge </td>
                     <td tabindex="-1">Produit les résultats finaux triés d’une requête basée sur les résultats intermédiaires triés provenant d’opérations effectuées en parallèle. </td>
                  </tr>
                  <tr>
                     <td colspan="3" style="vertical-align: top;" tabindex="-1"><b>Opérations EXCEPT, INTERSECT et UNION :</b> </td>
                  </tr>
                  <tr>
                     <td style="vertical-align: top;" tabindex="-1">SetOp Sauf [Distinct] </td>
                     <td style="vertical-align: top;" tabindex="-1">hjoin </td>
                     <td tabindex="-1">Utilisé pour les requêtes EXCEPT. Peut fonctionner à partir du disque en fonction du fait que l’entrée de hachage peut être basée sur le disque. </td>
                  </tr>
                  <tr>
                     <td style="vertical-align: top;" tabindex="-1">Hash Intersect [Distinct] </td>
                     <td style="vertical-align: top;" tabindex="-1">hjoin </td>
                     <td tabindex="-1">Utilisé pour les requêtes INTERSECT. Peut fonctionner à partir du disque en fonction du fait que l’entrée de hachage peut être basée sur le disque. </td>
                  </tr>
                  <tr>
                     <td style="vertical-align: top;" tabindex="-1">Append [All |Distinct] </td>
                     <td style="vertical-align: top;" tabindex="-1">enregistrer </td>
                     <td tabindex="-1">Utilisé avec l’analyse de sous-requête pour implémenter les requêtes UNION et UNION ALL. Peut fonctionner à partir du disque grâce à « save ». </td>
                  </tr>
                  <tr>
                     <td colspan="3" style="vertical-align: top;" tabindex="-1"><b>Divers/autres :</b> </td>
                  </tr>
                  <tr>
                     <td style="vertical-align: top;" tabindex="-1">Hachage </td>
                     <td style="vertical-align: top;" tabindex="-1">hachage </td>
                     <td tabindex="-1">Utilisé pour les jointures internes et les jointures externes gauche et droite (fournit une entrée à une jointure de hachage). L’opérateur de hachage crée la table de hachage pour la table interne d’une jointure. (La table interne est celle dans laquelle les correspondances sont vérifiées et, dans une jointure de deux tables, elle est généralement la plus petite des deux.) </td>
                  </tr>
                  <tr>
                     <td style="vertical-align: top;" tabindex="-1">Limite </td>
                     <td style="vertical-align: top;" tabindex="-1">limite </td>
                     <td tabindex="-1">Évalue la clause LIMIT. </td>
                  </tr>
                  <tr>
                     <td style="vertical-align: top;" tabindex="-1">Materialize </td>
                     <td style="vertical-align: top;" tabindex="-1">enregistrer </td>
                     <td tabindex="-1">Matérialise les lignes pour l’entrée des jointures de boucles imbriquées et quelques autres jointures de fusion. Peut fonctionner à partir du disque. </td>
                  </tr>
                  <tr>
                     <td style="vertical-align: top;" tabindex="-1">-- </td>
                     <td style="vertical-align: top;" tabindex="-1">parse </td>
                     <td tabindex="-1">Utilisé pour analyser les données d’entrée texte pendant un chargement. </td>
                  </tr>
                  <tr>
                     <td style="vertical-align: top;" tabindex="-1">-- </td>
                     <td style="vertical-align: top;" tabindex="-1">project </td>
                     <td tabindex="-1">Permet de réorganiser les colonnes et les expressions de calcul, à savoir les données du projet. </td>
                  </tr>
                  <tr>
                     <td style="vertical-align: top;" tabindex="-1">Résultat </td>
                     <td style="vertical-align: top;" tabindex="-1">-- </td>
                     <td tabindex="-1">Exécute les fonctions scalaires qui n’impliquent pas un accès aux tables. </td>
                  </tr>
                  <tr>
                     <td style="vertical-align: top;" tabindex="-1">-- </td>
                     <td style="vertical-align: top;" tabindex="-1">return </td>
                     <td tabindex="-1">renvoie les lignes au principal ou au client. </td>
                  </tr>
                  <tr>
                     <td style="vertical-align: top;" tabindex="-1">Subplan </td>
                     <td style="vertical-align: top;" tabindex="-1">-- </td>
                     <td tabindex="-1">Utilisé pour certaines sous-requêtes. </td>
                  </tr>
                  <tr>
                     <td style="vertical-align: top;" tabindex="-1">Unique </td>
                     <td style="vertical-align: top;" tabindex="-1">unique </td>
                     <td tabindex="-1">Supprime les doublons des requêtes SELECT DISTINCT et UNION. </td>
                  </tr>
                  <tr>
                     <td style="vertical-align: top;" tabindex="-1">Fenêtre </td>
                     <td style="vertical-align: top;" tabindex="-1">window </td>
                     <td tabindex="-1">Fonctions d’agrégation de calcul et de fenêtrage de classement. Peut fonctionner à partir du disque. </td>
                  </tr>
                  <tr>
                     <td colspan="3" style="vertical-align: top;" tabindex="-1"><b>Opérations de réseau :</b> </td>
                  </tr>
                  <tr>
                     <td style="vertical-align: top;" tabindex="-1">Network (Broadcast) </td>
                     <td style="vertical-align: top;" tabindex="-1">bcast </td>
                     <td tabindex="-1">Broadcast est également un attribut des opérateurs et des étapes Join Explain. </td>
                  </tr>
                  <tr>
                     <td style="vertical-align: top;" tabindex="-1">Network (Distribute) </td>
                     <td style="vertical-align: top;" tabindex="-1">dist </td>
                     <td tabindex="-1">Distribue les lignes sur les nœuds de calcul pour le traitement parallèle par cluster d’entrepôt de données. </td>
                  </tr>
                  <tr>
                     <td style="vertical-align: top;" tabindex="-1">Network (Send to Leader) </td>
                     <td style="vertical-align: top;" tabindex="-1">return </td>
                     <td tabindex="-1">Renvoie les résultats vers le principal en vue d’un traitement ultérieur. </td>
                  </tr>
                  <tr>
                     <td colspan="3" style="vertical-align: top;" tabindex="-1"><b>Opérations DML (opérateurs qui modifient les données) :</b> </td>
                  </tr>
                  <tr>
                     <td style="vertical-align: top;" tabindex="-1">Insert (using Result) </td>
                     <td style="vertical-align: top;" tabindex="-1">insert </td>
                     <td tabindex="-1">Insère les données. </td>
                  </tr>
                  <tr>
                     <td style="vertical-align: top;" tabindex="-1">Delete (Scan + Filter) </td>
                     <td style="vertical-align: top;" tabindex="-1">supprimer </td>
                     <td tabindex="-1">Supprime les données. Peut fonctionner à partir du disque. </td>
                  </tr>
                  <tr>
                     <td style="vertical-align: top;" tabindex="-1">Update (Scan + Filter) </td>
                     <td style="vertical-align: top;" tabindex="-1">delete, insert </td>
                     <td tabindex="-1">Implémenté comme Delete et Insert. </td>
                  </tr>
               </table></div></div>
       
         <h2 id="r_EXPLAIN-RLS">Utilisation d’EXPLAIN pour RLS </h2>
        
         <p>Si une requête contient une table soumise à des politiques de sécurité au niveau des lignes (RLS), EXPLAIN affiche un nœud RLS spécial.  SecureScan  Amazon Redshift enregistre également le même type de nœud dans la table système STL_EXPLAIN. EXPLAIN ne révèle pas le prédicat RLS qui s’applique à dim_tbl. Le type de  SecureScan  nœud RLS indique que le plan d'exécution contient des opérations supplémentaires invisibles pour l'utilisateur actuel.</p>
         <p>L'exemple suivant illustre un  SecureScan  nœud RLS.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">EXPLAIN
SELECT D.cint
FROM fact_tbl F INNER JOIN dim_tbl D ON F.k_dim = D.k
WHERE F.k_dim / 10 &gt; 0;
                               QUERY PLAN
------------------------------------------------------------------------
 XN Hash Join DS_DIST_ALL_NONE  (cost=0.08..0.25 rows=1 width=4)
   Hash Cond: ("outer".k_dim = "inner"."k")
   -&gt;  *XN* *RLS SecureScan f  (cost=0.00..0.14 rows=2 width=4)*
         Filter: ((k_dim / 10) &gt; 0)
   -&gt;  XN Hash  (cost=0.07..0.07 rows=2 width=8)
         -&gt;  XN Seq Scan on dim_tbl d  (cost=0.00..0.07 rows=2 width=8)
               Filter: (("k" / 10) &gt; 0)</code></pre>

         <p>Pour permettre une enquête complète des plans de requêtes soumis au RLS, Amazon Redshift propose les autorisations système EXPLAIN RLS. Les utilisateurs auxquels cette autorisation a été accordée peuvent inspecter des plans de requêtes complets qui comprennent également des prédicats RLS. </p>
         <p>L'exemple suivant illustre un Seq Scan supplémentaire situé sous le  SecureScan  nœud RLS et inclut également le prédicat de politique RLS (k_dim &gt; 1).</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">EXPLAIN SELECT D.cint
FROM fact_tbl F INNER JOIN dim_tbl D ON F.k_dim = D.k
WHERE F.k_dim / 10 &gt; 0;
                                   QUERY PLAN
---------------------------------------------------------------------------------
 XN Hash Join DS_DIST_ALL_NONE  (cost=0.08..0.25 rows=1 width=4)
   Hash Cond: ("outer".k_dim = "inner"."k")
   *-&gt;  XN RLS SecureScan f  (cost=0.00..0.14 rows=2 width=4)
         Filter: ((k_dim / 10) &gt; 0)*
         -&gt;  *XN* *Seq Scan on fact_tbl rls_table  (cost=0.00..0.06 rows=5 width=8)
               Filter: (k_dim &gt; 1)*
   -&gt;  XN Hash  (cost=0.07..0.07 rows=2 width=8)
         -&gt;  XN Seq Scan on dim_tbl d  (cost=0.00..0.07 rows=2 width=8)
               Filter: (("k" / 10) &gt; 0)</code></pre>
         <p>Lorsque l’autorisation EXPLAIN RLS est accordée à un utilisateur, Amazon Redshift enregistre le plan de requêtes complet, y compris les prédicats RLS dans la table système STL_EXPLAIN. Les requêtes qui sont exécutées alors que cette autorisation n’est pas accordée seront enregistrées sans les données internes RLS. Accorder ou supprimer l’autorisation EXPLAIN RLS ne changera pas ce qu’Amazon Redshift a enregistré dans STL_EXPLAIN pour les requêtes précédentes.</p>

          
            <h3 id="r_EXPLAIN_RLS-LF">Relations Redshift protégées par AWS Lake Formation-RLS</h3>
            <p>L'exemple suivant illustre un  SecureScan  nœud LF, que vous pouvez utiliser pour visualiser les relations Lake Formation-RLS.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">EXPLAIN
SELECT *
FROM lf_db.public.t_share
WHERE a &gt; 1;
QUERY PLAN
---------------------------------------------------------------
XN LF SecureScan t_share  (cost=0.00..0.02 rows=2 width=11)
(2 rows)</code></pre>
          
       
         <h2 id="r_EXPLAIN-examples">Exemples</h2>
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Pour ces exemples, l’exemple de sortie peut varier selon la configuration d’Amazon Redshift.</p></div></div>
         <p>L’exemple suivant renvoie le plan de requête pour une requête qui sélectionne EVENTID, EVENTNAME, VENUEID et VENUENAME à partir des tables EVENT et VENUE :</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">explain
select eventid, eventname, event.venueid, venuename
from event, venue
where event.venueid = venue.venueid;</code></pre>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">                                QUERY PLAN
--------------------------------------------------------------------------
XN Hash Join DS_DIST_OUTER  (cost=2.52..58653620.93 rows=8712 width=43)
Hash Cond: ("outer".venueid = "inner".venueid)
-&gt;  XN Seq Scan on event  (cost=0.00..87.98 rows=8798 width=23)
-&gt;  XN Hash  (cost=2.02..2.02 rows=202 width=22)
-&gt;  XN Seq Scan on venue  (cost=0.00..2.02 rows=202 width=22)
(5 rows)</code></pre>
         <p>L’exemple suivant renvoie le plan de requête pour la même requête avec la sortie des commentaires :</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">explain verbose
select eventid, eventname, event.venueid, venuename
from event, venue
where event.venueid = venue.venueid;</code></pre>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">                                QUERY PLAN
--------------------------------------------------------------------------
<span>{</span>HASHJOIN
:startup_cost 2.52
:total_cost 58653620.93
:plan_rows 8712
:plan_width 43
:best_pathkeys &lt;&gt;
:dist_info DS_DIST_OUTER
:dist_info.dist_keys (
TARGETENTRY
<span>{</span>
VAR
:varno 2
:varattno 1
...

XN Hash Join DS_DIST_OUTER  (cost=2.52..58653620.93 rows=8712 width=43)
Hash Cond: ("outer".venueid = "inner".venueid)
-&gt;  XN Seq Scan on event  (cost=0.00..87.98 rows=8798 width=23)
-&gt;  XN Hash  (cost=2.02..2.02 rows=202 width=22)
-&gt;  XN Seq Scan on venue  (cost=0.00..2.02 rows=202 width=22)
(519 rows)</code></pre>
         <p>L’exemple suivant renvoie le plan de requête pour une instruction CREATE TABLE AS (CTAS) : </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">explain create table venue_nonulls as
select * from venue
where venueseats is not null;

QUERY PLAN
-----------------------------------------------------------
XN Seq Scan on venue  (cost=0.00..2.02 rows=187 width=45)
Filter: (venueseats IS NOT NULL)
(2 rows)</code></pre>
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avertissement" /> <strong>JavaScript est désactivé ou n'est pas disponible dans votre navigateur.</strong></p><p>Pour que vous puissiez utiliser la documentation AWS, Javascript doit être activé. Vous trouverez des instructions sur les pages d'aide de votre navigateur.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Conventions de rédaction</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_EXECUTE.html">EXECUTE</div><div id="next" class="next-link" accesskey="n" href="./fetch.html">FETCH</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Oui</div><div class="content"><p>Merci de nous avoir fait part de votre satisfaction.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer ce qui vous a plu afin que nous puissions nous améliorer davantage.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_EXPLAIN.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Non</div><div class="content"><p>Merci de nous avoir avertis que cette page avait besoin d'être retravaillée. Nous sommes désolés de ne pas avoir répondu à vos attentes.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer comment nous pourrions améliorer cette documentation.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_EXPLAIN.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>