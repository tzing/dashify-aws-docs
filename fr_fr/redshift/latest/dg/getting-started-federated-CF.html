<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="fr-FR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Commencer à utiliser les requêtes fédérées vers PostgreSQL avec AWS CloudFormation - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="getting-started-federated-CF" /><meta name="default_state" content="getting-started-federated-CF" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/getting-started-federated-CF.html" /><meta name="description" content="Automatisez la configuration de requête fédérée dans Amazon Redshift à l’aide d’une pile AWS CloudFormation." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guide du développeur de base de données" /><meta name="abstract" content="Créez et gérez un entrepôt de données avec Amazon Redshift, service d’entrepôt de données au niveau de l’entreprise, pouvant atteindre plusieurs Po et entièrement géré." /><meta name="guide-locale" content="fr_fr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/getting-started-federated-CF.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/getting-started-federated-CF.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/getting-started-federated-CF.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/getting-started-federated-CF.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/getting-started-federated-CF.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/getting-started-federated-CF.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/getting-started-federated-CF.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/getting-started-federated-CF.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/getting-started-federated-CF.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/getting-started-federated-CF.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/getting-started-federated-CF.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/getting-started-federated-CF.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/getting-started-federated-CF.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/getting-started-federated-CF.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/getting-started-federated-CF.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/getting-started-federated-CF.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/getting-started-federated-CF.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/getting-started-federated-CF.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/getting-started-federated-CF.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/getting-started-federated-CF.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/getting-started-federated-CF.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/getting-started-federated-CF.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guide du développeur de base de données" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guide du développeur de base de données" /><meta id="panorama-serviceConsolePage" value="Commencer à utiliser les requêtes fédérées vers PostgreSQL avec AWS CloudFormation" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Commencer à utiliser les requêtes fédérées vers PostgreSQL avec AWS CloudFormation - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#getting-started-federated-CF" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/getting-started-federated-CF.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/getting-started-federated-CF.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/getting-started-federated-CF.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,entrepôt de données,développeur,exemples de données,database,développeur de base de données,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guide du développeur de base de données",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Interrogation de données avec requête fédérée dans Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/federated-overview.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Commencer à utiliser les requêtes fédérées vers PostgreSQL avec AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/federated-overview.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#getting-started-federated-CF" target="_blank" rel="noopener noreferrer" title="Ouvrir le PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guide du développeur de base de données</a></div><div id="page-toc-src"><a href="#getting-started-federated-CF-stack">Lancement d'une  CloudFormation  pile pour les requêtes fédérées Redshift</a><a href="#getting-started-federated-CF-stack-query">Interrogation de données à partir du schéma externe</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Les traductions sont fournies par des outils de traduction automatique. En cas de conflit entre le contenu d'une traduction et celui de la version originale en anglais, la version anglaise prévaudra.</p></awsui-alert><h1 class="topictitle" id="getting-started-federated-CF">Commencer à utiliser les requêtes fédérées vers PostgreSQL avec AWS CloudFormation</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Vous pouvez utiliser des requêtes fédérées pour interroger des bases de données opérationnelles. Dans ce guide de démarrage, vous pouvez automatiser la configuration à l’aide d’un exemple de pile AWS CloudFormation pour activer une requête fédérée d’un cluster Amazon Redshift vers une base de données Aurora PostgreSQL sans serveur. Vous pouvez être rapidement opérationnel sans avoir à exécuter des instructions SQL pour allouer vos ressources.</p><p>La pile crée un schéma externe, faisant référence à votre instance Aurora PostgreSQL, qui inclut des tables contenant des exemples de données. Vous pouvez interroger des tables dans le schéma externe à partir de votre cluster Redshift.</p><p>Si vous souhaitez plutôt commencer à utiliser des requêtes fédérées en exécutant des instructions SQL pour configurer un schéma externe, sans utiliser CloudFormation, consultez<a href="./getting-started-federated.html">Commencer à utiliser les requêtes fédérées vers PostgreSQL</a>.</p><p>Avant d'exécuter la  CloudFormation  pile pour les requêtes fédérées, assurez-vous que vous disposez d'une base de données sans serveur Amazon Aurora PostgreSQL Edition avec l'API Data activée. Vous pouvez activer l’API de données dans les propriétés de la base de données. Si vous ne trouvez pas le paramètre, vérifiez à nouveau que vous exécutez une instance sans serveur d’Aurora PostgreSQL. Assurez-vous également que vous disposez d’un cluster Amazon Redshift qui utilise des nœuds RA3. Nous recommandons que votre cluster Redshift et votre instance PostgreSQL d’Aurora sans serveur ou Aurora soient dans le même cloud privé virtuel (VPC) et le même groupe de sous-réseaux. De cette façon, vous pouvez ajouter le groupe de sécurité du cluster Amazon Redshift aux règles entrantes du groupe de sécurité pour votre instance de base de données Aurora PostgreSQL.</p><p>Pour plus d’informations sur le démarrage de la configuration d’un cluster Amazon Redshift, consultez <a href="https://docs.aws.amazon.com/redshift/latest/gsg/getting-started.html">Premiers pas avec Amazon Redshift</a>. Pour plus d'informations sur la configuration des ressources avec CloudFormation, voir <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/Welcome.html">Qu'est-ce que c'est AWS CloudFormation ?</a> . Pour plus d’informations sur la configuration d’une base de données Aurora, consultez <a href="https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/aurora-serverless.create.html">Création d’un cluster de bases de données Aurora sans serveur v1</a>.</p>
         <h2 id="getting-started-federated-CF-stack">Lancement d'une  CloudFormation  pile pour les requêtes fédérées Redshift</h2>
         <p>Utilisez la procédure suivante pour lancer votre  CloudFormation  stack pour Amazon Redshift afin d'activer les requêtes fédérées. Avant de le faire, assurez-vous que votre cluster Amazon Redshift et votre instance Aurora PostgreSQL sans serveur sont configurés.</p>
         
         
         <div class="procedure"><h6>Pour lancer votre  CloudFormation  stack pour les requêtes fédérées</h6><ol><li><p>Cliquez sur <a href="https://console.aws.amazon.com/cloudformation/home?#/stacks/new?stackName=FederatedQuery&amp;templateURL=https://s3.amazonaws.com/redshift-downloads/docs-downloads/FederatedQuery.yml" rel="noopener noreferrer" target="_blank"><span><b>Lancer la pile CFN</b></span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> ici pour lancer le  CloudFormation service dans leAWS Management Console. </p>
               <p>Si vous y êtes invité, connectez-vous.</p>
               <p>Le processus de création de la pile démarre en faisant référence à un fichier  CloudFormation  modèle, qui est stocké dans Amazon S3. Un  CloudFormation  <em>modèle</em> est un fichier texte au format JSON qui déclare les AWS ressources constituant une pile. </p></li><li><p>Choisissez <b>Next (Suivant)</b> pour saisir les détails de la pile.</p></li><li>
               <p>Sous <b>Parameters (Paramètres)</b>, pour le cluster, saisissez les éléments suivants :</p>
               
               <div class="itemizedlist">
                   
                   
                   
               <ul class="itemizedlist"><li class="listitem">
                     <p>Le nom du cluster Amazon Redshift, par exemple <code class="userinput">ra3-consumer-cluster</code></p>
                  </li><li class="listitem">
                     <p>Un nom de base de données spécifique, par exemple <code class="userinput">dev</code></p>
                  </li><li class="listitem">
                     <p>Le nom d’un utilisateur de base de données, par exemple <code class="userinput">consumeruser</code></p>
                  </li></ul></div>
               <p>Entrez également les paramètres de la base de données Aurora, y compris l’utilisateur, le nom de base de données, le port et le point de terminaison. Nous vous recommandons d’utiliser un cluster de test et une base de données sans serveur de test, car la pile crée plusieurs objets de base de données.</p>
               <p>Choisissez <b>Suivant</b>. </p>
               <p>Les options de pile apparaissent. </p></li><li><p>Choisissez <b>Next (Suivant)</b> pour accepter les paramètres par défaut.</p></li><li><p><b>Sous Capabilities (Capacités)</b>, choisissez <b>I acknowledge that AWS CloudFormation might create IAM resources (Je comprends qu’AWS CloudFormation peut créer des ressources IAM)</b>.</p></li><li><p>Sélectionnez <b>Créer la pile</b>. </p></li></ol></div>

         <p>Choisissez <b>Create stack</b>.  CloudFormation approvisionne les ressources du modèle, ce qui prend environ 10 minutes, et crée un schéma externe.</p>
         
         
         <p>Si une erreur se produit pendant la création de la pile, procédez comme suit :</p>
         <div class="itemizedlist">
             
             
             
             
         <ul class="itemizedlist"><li class="listitem"><p>Consultez l'onglet  CloudFormation  <b>Événements</b> pour obtenir des informations qui peuvent vous aider à résoudre l'erreur.</p></li><li class="listitem"><p>Assurez-vous d’avoir saisi le nom, le nom de base de données et le nom d’utilisateur de la base de données corrects pour le cluster Redshift. Vérifiez également les paramètres de l’instance Aurora PostgreSQL.</p></li><li class="listitem"><p>Assurez-vous que votre cluster possède des nœuds RA3.</p></li><li class="listitem"><p>Assurez-vous que votre base de données et votre cluster Redshift se trouvent dans le même sous-réseau et le même groupe de sécurité.</p></li></ul></div>
       
         <h2 id="getting-started-federated-CF-stack-query">Interrogation de données à partir du schéma externe</h2>
     
         <p>Pour utiliser la procédure ci-dessous, vérifiez que vous disposez des autorisations requises pour exécuter des requêtes sur le cluster et sur la base de données décrits.</p>
         
         <div class="procedure"><h6>Pour interroger une base de données externe avec une requête fédérée</h6><ol><li><p>Connectez-vous à la base de données Redshift que vous avez entrée lorsque vous avez créé la pile, à l’aide d’un outil client tel que l’éditeur de requêtes Redshift. </p></li><li><p>Interrogez le schéma externe créé par la pile.</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select * from svv_external_schemas;</code></pre>
               <p>La vue <a href="./r_SVV_EXTERNAL_SCHEMAS.html">SVV_EXTERNAL_SCHEMAS</a> renvoie des informations sur les schémas externes disponibles. Dans ce cas, le schéma externe créé par la pile est renvoyé, <code class="code">myfederated_schema</code>. D’autres schémas externes peuvent également être renvoyés, si vous en avez configurés. La vue renvoie également la base de données associée du schéma. La base de données est la base de données Aurora que vous avez entrée lorsque vous avez créé la pile. La pile ajoute une table à la base de données Aurora, appelée <code class="code">category</code>, ainsi qu’une autre table appelée <code class="code">sales</code>.</p>
            </li><li>
               <p>Exécutez des requêtes SQL sur des tables dans le schéma externe qui fait référence à votre base de données Aurora PostgreSQL. L’exemple suivant montre une requête.</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT count(*) FROM myfederated_schema.category;</code></pre>
               <p>La table <code class="code">category</code> renvoie plusieurs enregistrements. Vous pouvez également renvoyer des enregistrements à partir de la table <code class="code">sales</code>.</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT count(*) FROM myfederated_schema.sales;</code></pre>
               <p>Pour obtenir plus d’exemples, consultez <a href="./federated_query_example.html">Exemples d’utilisation d’une requête fédérée</a>.</p>
            </li></ol></div>
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avertissement" /> <strong>JavaScript est désactivé ou n'est pas disponible dans votre navigateur.</strong></p><p>Pour que vous puissiez utiliser la documentation AWS, Javascript doit être activé. Vous trouverez des instructions sur les pages d'aide de votre navigateur.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Conventions de rédaction</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./getting-started-federated.html">Commencer à utiliser les requêtes fédérées vers PostgreSQL</div><div id="next" class="next-link" accesskey="n" href="./getting-started-federated-mysql.html">Commencer à utiliser des requêtes fédérées vers MySQL</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Oui</div><div class="content"><p>Merci de nous avoir fait part de votre satisfaction.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer ce qui vous a plu afin que nous puissions nous améliorer davantage.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/getting-started-federated-CF.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Non</div><div class="content"><p>Merci de nous avoir avertis que cette page avait besoin d'être retravaillée. Nous sommes désolés de ne pas avoir répondu à vos attentes.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer comment nous pourrions améliorer cette documentation.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/getting-started-federated-CF.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>