<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="fr-FR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Création de schémas externes pour Amazon Redshift Spectrum - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="c-spectrum-external-schemas" /><meta name="default_state" content="c-spectrum-external-schemas" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-spectrum-external-schemas.html" /><meta name="description" content="Toutes les tables externes doivent être créées dans un schéma externe, que vous créez à l’aide d’une instruction ." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guide du développeur de base de données" /><meta name="abstract" content="Créez et gérez un entrepôt des données avec Amazon Redshift, service d’entrepôt des données au niveau de l’entreprise, pouvant atteindre plusieurs Po et entièrement géré." /><meta name="guide-locale" content="fr_fr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-spectrum-external-schemas.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guide du développeur de base de données" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guide du développeur de base de données" /><meta id="panorama-serviceConsolePage" value="Création de schémas externes pour Amazon Redshift Spectrum" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Création de schémas externes pour Amazon Redshift Spectrum - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#c-spectrum-external-schemas" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-spectrum-external-schemas.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-spectrum-external-schemas.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-spectrum-external-schemas.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,entrepôt des données,développeur,exemples de données,database,développeur de base de données,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guide du développeur de base de données",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Interroger des données externes avec Amazon Redshift Spectrum",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-using-spectrum.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Création de schémas externes pour Amazon Redshift Spectrum",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-using-spectrum.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#c-spectrum-external-schemas" target="_blank" rel="noopener noreferrer" title="Ouvrir le PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guide du développeur de base de données</a></div><div id="page-toc-src"><a href="#c-spectrum-external-catalogs">Utilisation des catalogues externes</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Les traductions sont fournies par des outils de traduction automatique. En cas de conflit entre le contenu d'une traduction et celui de la version originale en anglais, la version anglaise prévaudra.</p></awsui-alert><h1 class="topictitle" id="c-spectrum-external-schemas">Création de schémas externes pour Amazon Redshift Spectrum</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Toutes les tables externes doivent être créées dans un schéma externe, que vous créez à l’aide d’une instruction <a href="./r_CREATE_EXTERNAL_SCHEMA.html">CREATE EXTERNAL SCHEMA</a>. </p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Dans certaines applications, les termes <em>base de données</em> et <em>schéma</em> sont utilisés indifféremment. Dans Amazon Redshift, nous utilisons le terme <em>schéma</em>. </p></div></div><p>Un schéma externe Amazon Redshift fait référence à une base de données externe dans un catalogue de données externe. Vous pouvez créer la base de données externe dans Amazon Redshift, dans <a href="https://docs.aws.amazon.com/athena/latest/ug/catalog.html">Amazon Athena</a>, dans <a href="https://docs.aws.amazon.com/glue/latest/dg/components-overview.html#data-catalog-intro">AWS Glue Data Catalog</a> ou dans un métastore Apache Hive, tel qu’<a href="https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-what-is-emr.html">Amazon EMR</a>. Si vous la créez une base de données externe dans Amazon Redshift, elle réside dans le catalogue de données Athena. Pour créer une base de données dans un metastore Hive, vous devez la créer dans votre application Hive.</p><p>Amazon Redshift a besoin d’une autorisation pour accéder au catalogue de données dans Athena et aux fichiers de données dans Amazon S3 en votre nom. Pour fournir cette autorisation, vous commencez par créer un rôle AWS Identity and Access Management (IAM), Ensuite, vous attachez le rôle à votre cluster et fournissez le Amazon Resource Name (ARN) pour le rôle dans la déclaration Amazon Redshift <code class="code">CREATE EXTERNAL SCHEMA</code>. Pour de plus amples informations concernant l’autorisation, consultez <a href="./c-spectrum-iam-policies.html">Politiques IAM pour Amazon Redshift Spectrum</a>.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Si vous avez actuellement des tables externes Redshift Spectrum dans le catalogue de données Athena, vous pouvez migrer votre catalogue de données Athena vers un catalogue de données AWS Glue. Pour utiliser un catalogue de données AWS Glue avec Redshift Spectrum, vous devrez peut-être modifier vos politiques IAM. Pour plus d’informations, consultez <a href="https://docs.aws.amazon.com/athena/latest/ug/glue-athena.html#glue-upgrade">Mise à niveau vers le catalogue de données AWS Glue</a> dans le <em>guide de l’utilisateur d’Amazon Athena</em>.</p></div></div><p>Pour créer une base de données externe en même temps que vous créez un schéma externe, spécifiez <code class="code">FROM DATA CATALOG</code> et incluez la clause <code class="code">CREATE EXTERNAL DATABASE</code> dans l’instruction <code class="code">CREATE EXTERNAL SCHEMA</code>. </p><p>L’exemple suivant permet de créer un schéma externe nommé <code class="code">spectrum_schema</code> en utilisant la base de données externe <code class="code">spectrum_db</code>.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">create external schema spectrum_schema from data catalog 
database 'spectrum_db' 
iam_role 'arn:aws:iam::123456789012:role/MySpectrumRole'
create external database if not exists;</code></pre><p>Si vous gérez votre catalogue de données à l’aide d’Athena, indiquez le nom de la base de données Athena et la région AWS dans laquelle se trouve le catalogue de données Athena. </p><p>L’exemple suivant crée un schéma externe en utilisant la base de données <code class="code">sampledb</code> par défaut dans le catalogue de données Athena.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">create external schema athena_schema from data catalog 
database 'sampledb' 
iam_role 'arn:aws:iam::123456789012:role/MySpectrumRole' 
region 'us-east-2';</code></pre><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Le paramètre <code class="code">region</code> fait référence à la région AWS où se trouve le catalogue de données Athena, et non à l’emplacement des fichiers de données dans Amazon S3.</p></div></div><p>Si vous gérez votre catalogue de données à l’aide d’un métastore Hive, comme Amazon EMR, vos groupes de sécurité doivent être configurés pour autoriser le trafic entre les clusters. </p><p>Dans l’instruction CREATE EXTERNAL SCHEMA, spécifiez <code class="code">FROM HIVE METASTORE</code> et incluez l’URI et le numéro de port du metastore. L’exemple suivant permet de créer un schéma externe en utilisant une base de données de metastore Hive nommée <code class="code">hive_db</code>.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">create external schema hive_schema
from hive metastore
database 'hive_db'
uri '172.10.10.10' port 99
iam_role 'arn:aws:iam::123456789012:role/MySpectrumRole'</code></pre><p>Pour afficher les schémas externes correspondant à votre cluster, interrogez la table de catalogue PG_EXTERNAL_SCHEMA ou la vue SVV_EXTERNAL_SCHEMAS. L’exemple suivant interroge SVV_EXTERNAL_SCHEMAS qui joint PG_EXTERNAL_SCHEMA et PG_NAMESPACE.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select * from svv_external_schemas</code></pre><p>Pour connaître la syntaxe complète de la commande et voir des exemples, consultez <a href="./r_CREATE_EXTERNAL_SCHEMA.html">CREATE EXTERNAL SCHEMA</a>.</p>
         <h2 id="c-spectrum-external-catalogs">Utiliser des catalogues externes dans Amazon Redshift Spectrum</h2>


         <p>Les métadonnées des bases de données externes et des tables externes d’Amazon Redshift Spectrum sont stockées dans un catalogue de données externes. Par défaut, les métadonnées de Redshift Spectrum sont stockées dans un catalogue de données Athena. Vous pouvez afficher et gérer les bases de données et les tables Redshift Spectrum dans votre console Athena. </p>
         <p>Vous pouvez également créer et gérer des bases de données et des tables externes à l’aide du langage de définition de données (DDL) Hive en utilisant Athena ou un métastore Hive, tel que Amazon EMR. </p>
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Nous vous recommandons d’utiliser Amazon Redshift pour créer et gérer des bases de données externes et des tables externes dans Redshift Spectrum.</p></div></div>
          
            <h3 id="c-spectrum-athena-external-catalogs">Affichage des bases de données Redshift Spectrum dans Athena et AWS Glue</h3>

            <p>Vous pouvez créer une base de données externe en incluant la clause CREATE EXTERNAL DATABASE IF NOT EXISTS dans votre instruction CREATE EXTERNAL SCHEMA. Le cas échéant, les métadonnées de la base de données externe sont stockées dans votre catalogue de données. Tout comme les métadonnées relatives aux tables externes que vous créez qui sont qualifiées par le schéma externe sont également stockées dans votre catalogue de données . </p>
            
            <p>Athena et AWS Glue maintiennent un catalogue de données pour chaque Région AWS prise en charge. Pour afficher les métadonnées des tables, connectez-vous à la console Athena ou AWS Glue. Dans Athena, choisissez <b>Data sources</b> (Sources de données), votre source AWS Glue, puis affichez les détails de votre base de données. Dans AWS Glue, choisissez <b>Databases</b> (Bases de données), votre base de données externe, puis affichez les détails de votre base de données. </p>
               
            <p>Si vous créez et gérez vos tables externes à l’aide d’Athena, enregistrez la base de données en utilisant CREATE EXTERNAL SCHEMA. Par exemple, la commande suivante enregistre la base de données Athena nommée <code class="code">sampledb</code>.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">create external schema athena_sample
from data catalog
database 'sampledb'
iam_role 'arn:aws:iam::123456789012:role/mySpectrumRole'
region 'us-east-1';</code></pre>
            <p>Lorsque vous interrogez la vue système SVV_EXTERNAL_TABLES, vous voyez les tables dans la base de données Athena <code class="code">sampledb</code> et également celles que vous avez créées dans Amazon Redshift.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select * from svv_external_tables;</code></pre>

            <pre class="screen">schemaname    | tablename        | location                                               
--------------+------------------+--------------------------------------------------------
athena_sample | elb_logs         | s3://athena-examples/elb/plaintext           
athena_sample | lineitem_1t_csv  | s3://myspectrum/tpch/1000/lineitem_csv                
athena_sample | lineitem_1t_part | s3://myspectrum/tpch/1000/lineitem_partition          
spectrum      | sales            | s3://redshift-downloads/tickit/spectrum/sales          
spectrum      | sales_part       | s3://redshift-downloads/tickit/spectrum/sales_part
</pre>
          
          
            <h3 id="c-spectrum-hive-metastore">Enregistrement d’une base de données de metastore Apache Hive</h3>


            <p>Si vous créez des tables externes dans un metastore Apache Hive, vous pouvez les enregistrer dans Redshift Spectrum à l’aide de l’instruction CREATE EXTERNAL SCHEMA. </p>
            <p>Dans l’instruction CREATE EXTERNAL SCHEMA, spécifiez la clause FROM HIVE METASTORE, ainsi que l’URI et le numéro de port du metastore Hive. Le rôle IAM doit inclure l’autorisation d’accéder à Amazon S3 mais ne nécessite aucune autorisation Athena. L’exemple suivant enregistre un metastore Hive. </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">create external schema if not exists hive_schema
from hive metastore
database 'hive_database'
uri 'ip-10-0-111-111.us-west-2.compute.internal' port 9083 
iam_role 'arn:aws:iam::123456789012:role/mySpectrumRole';</code></pre>
          
          
            <h3 id="c-spectrum-enabling-emr-access">Permettre à votre cluster Amazon Redshift d’accéder à votre cluster Amazon EMR</h3>


            <p>Si votre métastore Hive se trouve dans Amazon EMR, vous devez donner à votre cluster Amazon Redshift l’accès à votre cluster Amazon EMR. Pour ce faire, vous créez un groupe de sécurité Amazon EC2. Vous autorisez ensuite tout le trafic entrant vers le groupe de sécurité EC2 à partir du groupe de sécurité de votre cluster Amazon Redshift et du groupe de sécurité de votre cluster Amazon EMR. Ensuite, vous ajoutez la sécurité EC2 à votre cluster Amazon Redshift et à votre cluster Amazon EMR.</p>
            
            <div class="procedure"><h6>Afficher le nom du groupe de sécurité du cluster Amazon Redshift</h6><p>Pour afficher un groupe de sécurité, procédez comme suit :</p><ol><li> <p>Connectez-vous à la AWS Management Console et ouvrez la console Amazon Redshift à l'adresse <a href="https://console.aws.amazon.com/redshift/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/redshift/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p> 
               </li><li>
                     <p>Dans le menu de navigation, choisissez <b>Clusters</b>, puis choisissez le cluster dans la liste pour ouvrir ses détails.</p>
                  </li><li>
                  <p>Choisissez <b>Properties (Propriétés)</b> et affichez la section <b>Network and security settings (Paramètres de réseau et de sécurité)</b>. </p>
               </li><li>
                     <p>Recherchez votre groupe de sécurité dans <b>VPC security group (Groupe de sécurité VPC)</b> et prenez-en note. </p>
                  </li></ol></div>
                                            
                       
         
 
                  <p><b></b></p>
                  
                  

                        
                                                                                                
            <div class="procedure"><h6>Afficher le nom du groupe de sécurité du nœud principal Amazon EMR</h6><ol><li><p>Ouvrez votre cluster Amazon EMR. Pour plus d’informations, consultez <a href="https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-security-configurations.html">Utiliser des configurations de sécurité pour configurer la sécurité du cluster</a> dans le <em>Guide de gestion Amazon EMR</em>.</p></li><li><p>Sous <b>Security and access (Sécurité et accès)</b>, notez le nom du groupe de sécurité du nœud principal Amazon EMR.</p>
                  <div class="mediaobject">
                      
                        <img src="images/spectrum-emr-security-groups.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="Capture d’écran mettant en évidence le nom du groupe de sécurité du nœud principal Amazon EMR dans la console Amazon EMR." />
                      
                      
                  </div>
               </li></ol></div>
            
            <div class="procedure"><h6>Pour créer ou modifier un groupe de sécurité Amazon EC2 pour autoriser la connexion entre Amazon Redshift et Amazon EMR</h6><ol><li><p>Dans le tableau de bord Amazon EC2, choisissez <b>Security groups (Groupes de sécurité)</b>. Pour plus d’informations, consultez <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/security-group-rules.html">Security group rules (Règles du groupe de sécurité)</a> dans le <em>Guide de l’utilisateur Amazon EC2 pour les instances Linux</em>. </p>
               </li><li><p>Sélectionnez <b>Create security group</b> (Créer un groupe de sécurité). </p>
               </li><li><p>Si vous utilisez VPC, choisissez le VPC dans lequel se trouvent vos clusters Amazon Redshift et Amazon EMR. </p>
               </li><li><p>Ajoutez une règle entrante. </p>
               <div class="orderedlist">
                   
                   
                   
               <ol><li><p>Pour <b>Type</b>, choisissez <b>Custom TCP (TCP personnalisé)</b>. </p>
                  </li><li><p>Pour <b>Source</b>, choisissez <b>Personnalisé</b>. </p>
                  </li><li><p>Entrez le nom de votre groupe de sécurité Amazon Redshift. </p></li></ol></div></li><li><p>Ajoutez une autre règle entrante. </p>
               <div class="orderedlist">
                   
                   
                                                      
               <ol><li><p>Pour <b>Type</b>, choisissez <b>TCP</b>. </p>
                  </li><li><p>Pour <b>Plage de ports</b>, entrez <b>9083</b>.</p>
                     <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Le port par défaut pour un HMS EMR est 9083. Si votre HMS utilise un port distinct, spécifiez ce port dans la règle entrante et dans la définition de schéma externe. </p></div></div>
                  </li><li><p>Pour <b>Source</b>, choisissez <b>Personnalisé</b>. </p>
                  </li></ol></div>
               </li><li><p>Saisissez un nom et une description pour le groupe de sécurité. </p></li><li><p>Sélectionnez <b>Create security group</b> (Créer un groupe de sécurité). </p>                  
               </li></ol></div>
            
            <div class="procedure"><h6>Pour ajouter le groupe de sécurité Amazon EC2 que vous avez créé dans la procédure précédente à votre cluster Amazon Redshift</h6><ol><li><p>Dans Amazon Redshift, choisissez votre cluster. </p></li><li><p>Choisissez <b>Propriétés</b>. </p></li><li><p>Affichez les <b>paramètres réseau et de sécurité</b> et choisissez <b>Edit (Modifier)</b>. </p></li><li><p>Dans <b>VPC security group (Groupe de sécurité VPC)</b>, choisissez le nouveau nom du groupe de sécurité. </p></li><li><p>Sélectionnez <b>Enregistrer les modifications</b>. </p></li></ol></div>
            
            <div class="procedure"><h6>Pour ajouter le groupe de sécurité Amazon EC2 à votre cluster Amazon EMR</h6><ol><li><p>Dans Amazon EMR, choisissez votre cluster. Pour plus d’informations, consultez <a href="https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-security-configurations.html">Utiliser des configurations de sécurité pour configurer la sécurité du cluster</a> dans le <em>Guide de gestion Amazon EMR</em>.</p></li><li><p>Sous <b>Hardware (Matériel)</b>, choisissez le lien correspondant au nœud principal. </p></li><li><p>Choisissez le lien dans la colonne <b>ID d’instance EC2</b>. </p>
                  <div class="mediaobject">
                      
                        <img src="images/spectrum-emr-add-security-group.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;                        Capture d’écran mettant en évidence une valeur d’identifiant d’instance Amazon EC2 dans la console Amazon EMR.&#xA;                     " />
                      
                      
                  </div></li><li><p>Choisissez <b>Actions</b>, <b>Security (Sécurité)</b>, <b>Change security groups (Modifier les groupes de sécurité)</b>. </p></li><li><p>Dans <b>Associated sercurity groups (Groupes de sécurité associés)</b>, choisissez le nouveau groupe de sécurité, puis choisissez <b>Add security group (Ajouter un groupe de sécurité)</b>. </p></li><li><p>Choisissez <b>Enregistrer</b>. </p>
                  </li></ol></div>
          
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avertissement" /> <strong>JavaScript est désactivé ou n'est pas disponible dans votre navigateur.</strong></p><p>Pour que vous puissiez utiliser la documentation AWS, Javascript doit être activé. Vous trouverez des instructions sur les pages d'aide de votre navigateur.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Conventions de rédaction</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./c-spectrum-data-files.html">Création de fichiers de données pour les requêtes dans Amazon Redshift Spectrum</div><div id="next" class="next-link" accesskey="n" href="./c-spectrum-external-tables.html">Création de tables externes</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Oui</div><div class="content"><p>Merci de nous avoir fait part de votre satisfaction.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer ce qui vous a plu afin que nous puissions nous améliorer davantage.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-spectrum-external-schemas.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Non</div><div class="content"><p>Merci de nous avoir avertis que cette page avait besoin d'être retravaillée. Nous sommes désolés de ne pas avoir répondu à vos attentes.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer comment nous pourrions améliorer cette documentation.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-spectrum-external-schemas.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>