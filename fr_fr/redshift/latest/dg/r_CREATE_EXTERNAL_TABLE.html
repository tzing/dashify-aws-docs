<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="fr-FR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>CREATE EXTERNAL TABLE - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_CREATE_EXTERNAL_TABLE" /><meta name="default_state" content="r_CREATE_EXTERNAL_TABLE" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" /><meta name="description" content="Crée une table externe dans la base de données actuelle." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guide du développeur de base de données" /><meta name="abstract" content="Créez et gérez un entrepôt de données avec Amazon Redshift, service d’entrepôt de données au niveau de l’entreprise, pouvant atteindre plusieurs Po et entièrement géré." /><meta name="guide-locale" content="fr_fr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guide du développeur de base de données" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guide du développeur de base de données" /><meta id="panorama-serviceConsolePage" value="CREATE EXTERNAL TABLE" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>CREATE EXTERNAL TABLE - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#r_CREATE_EXTERNAL_TABLE" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,entrepôt de données,développeur,exemples de données,database,développeur de base de données,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guide du développeur de base de données",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Référence SQL",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Commandes SQL",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "CREATE EXTERNAL TABLE",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c_SQL_commands.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#r_CREATE_EXTERNAL_TABLE" target="_blank" rel="noopener noreferrer" title="Ouvrir le PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guide du développeur de base de données</a></div><div id="page-toc-src"><a href="#r_CREATE_EXTERNAL_TABLE-privileges">Privilèges requis</a><a href="#r_CREATE_EXTERNAL_TABLE-synopsis">Syntaxe</a><a href="#r_CREATE_EXTERNAL_TABLE-parameters">Paramètres</a><a href="#r_CREATE_EXTERNAL_TABLE_examples_link">Exemples</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Les traductions sont fournies par des outils de traduction automatique. En cas de conflit entre le contenu d'une traduction et celui de la version originale en anglais, la version anglaise prévaudra.</p></awsui-alert><h1 class="topictitle" id="r_CREATE_EXTERNAL_TABLE">CREATE EXTERNAL TABLE</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Crée une table externe dans le schéma spécifié. Toutes les tables externes doivent être créées dans un schéma externe. Le chemin de recherche n’est pas pris en charge pour les schémas et tables externes. Pour plus d'informations, consultez <a href="./r_CREATE_EXTERNAL_SCHEMA.html">CREATE EXTERNAL SCHEMA</a>.</p><p>Outre les tables externes créées à l’aide de la commande CREATE EXTERNAL TABLE, Amazon Redshift peut référencer les tables externes définies dans un AWS Glue ou AWS Lake Formation, ou un métastore Apache Hive. Utilisez la commande <a href="./r_CREATE_EXTERNAL_SCHEMA.html">CREATE EXTERNAL SCHEMA</a> pour enregistrer une base de données externe définie dans un catalogue de données externe, et faites en sorte que les tables externes puissent être utilisées dans Amazon Redshift. Si la table externe existe dans un catalogue de données AWS Glue ou AWS Lake Formation, ou un métastore Hive, vous n’avez pas à créer la table à l’aide de la commande CREATE EXTERNAL TABLE. Pour afficher les tables externes, interrogez la vue système <a href="./r_SVV_EXTERNAL_TABLES.html">SVV_EXTERNAL_TABLES</a>. </p><p>En exécutant la commande CREATE EXTERNAL TABLE AS, vous pouvez créer une table externe basée sur la définition de colonne d’une requête et écrire les résultats de cette requête dans Amazon S3. Les résultats sont au format Apache Parquet ou au format texte délimité. Si la table externe possède une ou plusieurs clés de partition, Amazon Redshift partitionne les nouveaux fichiers en fonction de ces clés de partition et enregistre automatiquement les nouvelles partitions dans le catalogue externe. Pour plus d’informations sur la commande CREATE EXTERNAL TABLE AS, consultez <a href="./r_CREATE_EXTERNAL_TABLE_usage.html">Notes d’utilisation</a>. </p><p>Vous pouvez interroger une table externe en utilisant la même syntaxe SELECT que celle que vous utilisez avec d’autres tables Amazon Redshift. Vous pouvez également utiliser la syntaxe INSERT pour écrire de nouveaux fichiers à l’emplacement de la table externe sur Amazon S3. Pour plus d'informations, consultez <a href="./r_INSERT_external_table.html">INSERT (table externe)</a>.</p><p>Pour créer une vue avec une table externe, incluez la clause WITH NO SCHEMA BINDING dans l’instruction <a href="./r_CREATE_VIEW.html">CREATE VIEW</a>.</p><p>Vous ne pouvez pas exécuter CREATE EXTERNAL TABLE à l’intérieur d’une transaction (BEGIN ... END). Pour plus d’informations sur les transactions, consultez <a href="./c_serial_isolation.html">Isolement sérialisable</a>. </p>
         <h2 id="r_CREATE_EXTERNAL_TABLE-privileges">Privilèges requis</h2>
         <p>Pour créer des tables externes, vous devez être le propriétaire du schéma externe ou un superutilisateur. Pour transférer la propriété d’un schéma externe, utilisez ALTER SCHEMA pour modifier le propriétaire. L’accès aux tables externes est contrôlé par l’accès au schéma externe. Vous ne pouvez pas accorder <a href="./r_GRANT.html">GRANT</a> ni révoquer <a href="./r_REVOKE.html">REVOKE</a> des autorisations pour une table externe. A la place, accordez ou révoquez USAGE sur le schéma externe.</p>
         <p>Vous trouverez dans les <a href="./r_CREATE_EXTERNAL_TABLE_usage.html">Notes d’utilisation</a> des informations complémentaires sur les autorisations spécifiques des tables externes.</p>
       
         <h2 id="r_CREATE_EXTERNAL_TABLE-synopsis">Syntaxe</h2>
         <pre class="screen">CREATE EXTERNAL TABLE
<em>external_schema.table_name</em>
(<em>column_name</em> <em>data_type</em> [, …] )
[ PARTITIONED BY (<em>col_name</em> <em>data_type</em> [, … ] )]
[ <span>{</span> ROW FORMAT DELIMITED <em>row_format</em> |
  ROW FORMAT SERDE '<em>serde_name</em>'
  [ WITH SERDEPROPERTIES ( '<em>property_name</em>' = '<em>property_value</em>' [, ...] ) ] } ]
STORED AS <em>file_format</em>
LOCATION <span>{</span> 's3://<em>bucket/folder</em>/' | 's3://<em>bucket/manifest_file</em>' }
[ TABLE PROPERTIES ( '<em>property_name</em>'='<em>property_value</em>' [, ...] ) ]</pre>
         <p>Voici la syntaxe de la commande CREATE EXTERNAL TABLE AS.</p>
         <pre class="screen">CREATE EXTERNAL TABLE
<em>external_schema.table_name</em>
[ PARTITIONED BY (<em>col_name</em> [, … ] ) ]
[ ROW FORMAT DELIMITED <em>row_format</em> ]
STORED AS <em>file_format</em>
LOCATION <span>{</span> 's3://<em>bucket/folder</em>/' }
[ TABLE PROPERTIES ( '<em>property_name</em>'='<em>property_value</em>' [, ...] ) ]
 AS
 <span>{</span> select_statement }
         </pre>
       
         <h2 id="r_CREATE_EXTERNAL_TABLE-parameters">Paramètres</h2>
         <div class="variablelist">
             
             
             
             
             
             
             
             
            
             
         <dl>
               <dt><span class="term"> <em>schéma_externe.nom_table</em> </span></dt>
               <dd>
                  <p>Nom de la table à créer, qualifié par un nom de schéma externe. Les tables externes doivent être créées dans un schéma externe. Pour plus d'informations, consultez <a href="./r_CREATE_EXTERNAL_SCHEMA.html">CREATE EXTERNAL SCHEMA</a>.</p>
                  <p>La longueur maximale d’un nom de table est de 127 octets ; les noms plus longs sont tronqués à 127 octets. Vous pouvez utiliser des caractères multioctets UTF-8 jusqu’à un maximum de quatre octets. Amazon Redshift impose une limite de 9 900 tables par cluster, y compris les tables temporaires définies par l’utilisateur et les tables temporaires créées par Amazon Redshift lors du traitement des requêtes ou de la maintenance du système. Le cas échéant, le nom de la table peut être qualifié avec le nom de la base de données. Dans l’exemple suivant, le nom de base de données est <code class="code">spectrum_db</code>, le nom du schéma externe est <code class="code">spectrum_schema</code> et le nom de la table est <code class="code">test</code>.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">create external table spectrum_db.spectrum_schema.test (c1 int)
stored as parquet
location 's3://mybucket/myfolder/';</code></pre>
                  <p>Si la base de données ou le schéma spécifié n’existe pas, la table n’est pas créée et l’instruction renvoie une erreur. Vous ne pouvez pas créer de tables ni de vues dans les bases de données système <code class="code">template0</code>, <code class="code">template1</code>, <code class="code">padb_harvest</code> ou <code class="code">sys:internal</code>.</p>
                  <p>Le nom de la table doit être un nom unique pour le schéma spécifié. </p>
                  <p>Pour plus d’informations sur les noms valides, consultez <a href="./r_names.html">Noms et identificateurs</a>.</p>
               </dd>
             
               <dt><span class="term">( <em>nom_colonne</em> <em>type_données</em> )</span></dt>
               <dd>
                  <p>Nom et type de données de chaque colonne en cours de création.</p>
                  <p>La longueur maximale d’un nom de colonne est de 127 octets ; les noms plus longs sont tronqués à 127 octets. Vous pouvez utiliser des caractères multioctets UTF-8 jusqu’à un maximum de quatre octets. Vous ne pouvez pas spécifier de noms de colonne <code class="code">"$path"</code> ou <code class="code">"$size"</code>. Pour plus d’informations sur les noms valides, consultez <a href="./r_names.html">Noms et identificateurs</a>.</p>
                  <p>Par défaut, Amazon Redshift crée les tables externes avec les pseudo-colonnes <code class="code">$path</code> et <code class="code">$size</code>. Vous pouvez désactiver la création de pseudo-colonnes d’une séance en définissant le paramètre de configuration <code class="code">spectrum_enable_pseudo_columns</code> avec la valeur <code class="code">false</code>. Pour plus d'informations, consultez <a href="./r_CREATE_EXTERNAL_TABLE_usage.html#r_CREATE_EXTERNAL_TABLE_usage-pseudocolumns">Pseudocolonnes </a>.</p>
                  <p>Si les pseudo-colonnes sont activées, le nombre maximal de colonnes que vous pouvez définir dans une seule table est 1 598. Si les pseudo-colonnes ne sont pas activées, le nombre maximal de colonnes que vous pouvez définir dans une seule table est 1 600. </p>


                     <p>Si vous créez une grande table, assurez-vous que la liste de colonnes ne dépasse pas les limites de largeur de ligne pour les résultats intermédiaires pendant le traitement des charges et des requêtes. Pour plus d'informations, consultez <a href="./r_CREATE_TABLE_NEW.html#r_CREATE_TABLE_usage">Notes d’utilisation</a>.</p>


                  
                  <p>Pour une commande CREATE EXTERNAL TABLE AS, aucune liste de colonnes n’est requise, car les colonnes sont dérivées de la requête.</p>
               </dd>
             
               <dt><span class="term"> <em>data_type</em> </span></dt>
               <dd>
                  <p>Les encodages <a href="./c_Supported_data_types.html">Types de données</a> suivants sont pris en charge :</p>
                  <div class="itemizedlist">
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>SMALLINT (INT2)</p>
                     </li><li class="listitem">
                        <p>INTEGER (INT, INT4)</p>
                     </li><li class="listitem">
                        <p>BIGINT (INT8)</p>
                     </li><li class="listitem">
                        <p>DECIMAL (NUMERIC)</p>
                     </li><li class="listitem">
                        <p>REAL (FLOAT4)</p>
                     </li><li class="listitem">
                        <p>DOUBLE PRECISION (FLOAT8)</p>
                     </li><li class="listitem">
                        <p>BOOLEAN (BOOL)</p>
                     </li><li class="listitem">
                        <p>CHAR (CHARACTER)</p>
                     </li><li class="listitem">
                        <p>VARCHAR (CHARACTER VARYING)</p>
                     </li><li class="listitem">
                        
                        <p>VARBYTE (CHARACTER VARYING) : peut être utilisé avec des fichiers de données Parquet et ORC, et uniquement avec des tables non partitionnées.</p>
                     </li><li class="listitem">

                        <p>DATE : peut être utilisé uniquement avec du texte ou des fichiers de données Parquet ou ORC, ou comme colonne de partition.</p>
                     </li><li class="listitem">
                        <p>TIMESTAMP</p>
                     </li></ul></div>
                  
                  <p></p>
                  <p>Pour DATE, vous pouvez utiliser les formats décrits ci-dessous. Pour les valeurs de mois représentées à l’aide de chiffres, les formats suivants sont pris en charge :</p>
                  <div class="itemizedlist">
                      

                      
                  <ul class="itemizedlist"><li class="listitem"><p><code class="code">mm-dd-yyyy</code> Par exemple, <code class="code">05-01-2017</code>. Il s’agit de l’option par défaut.</p></li><li class="listitem"><p><code class="code">yyyy-mm-dd</code>, où l’année est représentée par plus de deux chiffres. Par exemple, <code class="code">2017-05-01</code>.</p>
                        </li></ul></div>
                  <p>Pour les valeurs de mois représentées à l’aide de l’abréviation de trois lettres, les formats suivants sont pris en charge :</p>
                  <div class="itemizedlist">
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem"><p><code class="code">mmm-dd-yyyy</code> Par exemple, <code class="code">may-01-2017</code>. Il s’agit de l’option par défaut.</p></li><li class="listitem"><p><code class="code">dd-mmm-yyyy</code>, où l’année est représentée par plus de deux chiffres. Par exemple, <code class="code">01-may-2017</code>.</p>
                     </li><li class="listitem"><p><code class="code">yyyy-mmm-dd</code>, où l’année est représentée par plus de deux chiffres. Par exemple, <code class="code">2017-may-01</code>.</p>
                     </li></ul></div>
                     <p>Pour les valeurs d’années qui sont constamment inférieures à 100, l’année est calculée de la manière suivante :</p>
                     <div class="itemizedlist">
                         
                         
                         
                     <ul class="itemizedlist"><li class="listitem"><p>Si l’année est inférieure à 70, elle est calculée comme l’année plus 2000. Par exemple, la date 05-01-17 au format <code class="code">mm-dd-yyyy</code> est convertie au format <code class="code">05-01-2017</code>.</p></li><li class="listitem"><p>Si l’année est inférieure à 100 et supérieure à 69, l’année est calculée comme l’année plus 1900. Par exemple, la date 05-01-89 au format <code class="code">mm-dd-yyyy</code> est convertie au format <code class="code">05-01-1989</code>.</p></li><li class="listitem"><p>Pour les valeurs d’année représentées par deux chiffres, ajoutez les zéros de tête pour représenter l’année en quatre chiffres.</p></li></ul></div>


                  <p>Les valeurs d’horodatage dans les fichiers texte doivent être au format <code class="code">yyyy-mm-dd
                        HH:mm:ss.SSSSSS</code>, comme illustré par la valeur d’horodatage suivante : <code class="code">2017-05-01 11:30:59.000000</code>.</p>
                  <p>La longueur d’une colonne VARCHAR est définie en octets et non pas en caractères. Par exemple, une colonne VARCHAR(12) peut contenir 12 caractères codés sur un octet ou 6 caractères codés sur deux octets. Lorsque vous interrogez une table externe, les résultats sont tronqués pour s’adapter à la taille définie de la colonne sans renvoyer d’erreur. Pour plus d'informations, consultez <a href="./r_Character_types.html#r_Character_types-storage-and-ranges">Stockage et plages</a>. </p>
                  <p>Pour de meilleures performances, nous vous recommandons de spécifier la plus petite taille de colonne adaptée à vos données. Pour rechercher la taille maximale en octets des valeurs d’une colonne, utilisez la fonction <a href="./r_OCTET_LENGTH.html">OCTET_LENGTH</a>. L’exemple suivant renvoie la taille maximale des valeurs de la colonne EMAIL.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="userinput">select max(octet_length(email)) from users;</code>

max
---
 62</code></pre>
               </dd>
             
               <dt><span class="term">PARTITIONED BY (<em>nom_col</em> <em>type_données</em> [, … ] )</span></dt>
               <dd>
                  <p>Clause qui définit une table partitionnée avec une ou plusieurs colonnes de partition. Un répertoire de données distinct est utilisé pour chaque combinaison spécifiée, ce qui dans certains cas améliore la performance des requêtes. Les colonnes partitionnées n’existent pas au sein même des données de la table. Si la valeur de <em>nom_col</em> est identique à celle d’une colonne de table, une erreur est renvoyée. </p>
                  <p>Après avoir créé une table partitionnée, modifiez-la à l’aide d’une instruction <a href="./r_ALTER_TABLE.html">ALTER TABLE</a> ... ADD PARTITION pour enregistrer de nouvelles partitions dans le catalogue externe. Lorsque vous ajoutez une partition, vous définissez l’emplacement du sous-dossier sur Amazon S3 qui contient les données de partition.</p>
                  <p>Par exemple, si la table <code class="code">spectrum.lineitem_part</code> est définie avec <code class="code">PARTITIONED BY (l_shipdate date)</code>, exécutez la commande ALTER TABLE suivante pour ajouter une partition.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">ALTER TABLE spectrum.lineitem_part ADD PARTITION (l_shipdate='1992-01-29')
LOCATION 's3://spectrum-public/lineitem_partition/l_shipdate=1992-01-29';</code></pre>
                  <p>Si vous utilisez la commande CREATE EXTERNAL TABLE AS, vous n’avez pas besoin d’exécuter la commande ALTER TABLE...ADD PARTITION. Amazon Redshift enregistre automatiquement les nouvelles partitions dans le catalogue externe. Amazon Redshift écrit également automatiquement les données correspondantes dans les partitions d’Amazon S3 en fonction de la ou des clés de partition définies dans la table.</p>

                  <p>Pour afficher les partitions, interrogez la vue système <a href="./r_SVV_EXTERNAL_PARTITIONS.html">SVV_EXTERNAL_PARTITIONS</a>.</p>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Pour une commande CREATE EXTERNAL TABLE AS, vous n’avez pas besoin de spécifier le type de données de la colonne de partition car cette colonne est dérivée de la requête. </p></div></div>

               </dd>
             
               <dt><span class="term">ROW FORMAT DELIMITED <em>format_ligne</em></span></dt>
               <dd>
                  <p>Clause qui spécifie le format des données sous-jacentes. Les valeurs possibles pour <em>format_ligne</em> sont les suivantes :</p>
                  <div class="itemizedlist">
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>LINES TERMINATED BY ’<em>délimiteur</em>’ </p>
                     </li><li class="listitem">
                        <p>FIELDS TERMINATED BY ’<em>délimiteur</em>’ </p>
                     </li></ul></div>
                  <p>Spécifiez un caractère ASCII unique pour ’<em>délimiteur</em>’. Vous pouvez spécifier des caractères ASCII non imprimables en octal, au format <code class="code">'\</code><em><code class="code">ddd</code></em><code class="code">'</code>, où <em><code class="code">d</code></em> est un chiffre octal (de 0 à 7) jusqu’à ‘\177’. L’exemple suivant spécifie le caractère BEL (bell) en octal. </p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">ROW FORMAT DELIMITED FIELDS TERMINATED BY '\007'</code></pre>
                  <p>Si ROW FORMAT est omis, le format par défaut est DELIMITED FIELDS TERMINATED BY ’\A’ (début d’en-tête)et LINES TERMINATED BY ’\n’ (nouvelle ligne). </p>
                  
               </dd>
             
               <dt><span class="term">ROW FORMAT SERDE ’<em>nom_sérialisation_désérialisation</em>’ </span></dt>
               <dt><span class="term">[WITH SERDEPROPERTIES ( ’<em>nom_propriété</em>’ = ’<em>valeur_propriété</em>’ [, ...] ) ]</span></dt>
               <dd>
                  <p>Clause qui spécifie le format SERDE des données sous-jacentes. </p>
                  <div class="variablelist">
                      
                  <dl>
                        <dt><span class="term">’<em>nom_sérialisation_désérialisation</em>’</span></dt>
                        <dd>
                           <p>Le nom de l' SerDe. Vous pouvez spécifier les formats suivants :</p>
                           <div class="itemizedlist">
                               
                               
                              
                               
                               
                              
                               
                           <ul class="itemizedlist"><li class="listitem">
                                 <p>org.apache.hadoop.hive.serde2. RegexSerDe </p>
                              </li><li class="listitem">
                                 <p>com.amazonaws.glue.serde. GrokSerDe </p>
                              </li><li class="listitem">
                                 <p>org.apache.hadoop.hive.serde2.OpenCSVSerde </p>
                                 <p>Ce paramètre prend en charge la  SerDe  propriété suivante pour OpenCSVSerde : </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">'wholeFile' = 'true' </code></pre>
                                 <p>Définissez la propriété <code class="code">wholeFile</code> sur <code class="code">true</code> pour analyser correctement les caractères de nouvelle ligne (\n) dans les chaînes entre guillemets pour les requêtes OpenCSV. </p>

                              </li><li class="listitem">
                                 <p>org.openx.data.json. JsonSerDe</p>
                                 <div class="itemizedlist">
                                     
                                     
                                    
                                     
                                     

                                 <ul class="itemizedlist"><li class="listitem">
                                       <p>Le SERDE JSON prend également en charge les fichiers Ion. </p>
                                    </li><li class="listitem">
                                       <p>Le JSON doit être dans un format correct. </p>
                                    </li><li class="listitem">
                                       <p>Les horodatages dans Ion et JSON doivent utiliser le format ISO8601.</p>
                                    </li><li class="listitem">
                                       <p>Ce paramètre prend en charge les  SerDe  propriétés suivantes pour  JsonSerDe : </p>
                                       <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">'strip.outer.array'='true' </code></pre>
                                       <p>Traite les fichiers Ion/JSON contenant un très grand tableau entre les crochets extérieurs ( [ … ] ) comme s’il contient plusieurs enregistrements JSON au sein du tableau. </p>
                                    </li></ul></div>
                              </li><li class="listitem">
                                 <p>com.amazon.ionhiveserde. IonHiveSerDe</p>
                                 <p>Le format Amazon ION fournit des formats texte et binaire, en plus des types de données. Pour une table externe qui fait référence à des données au format ION, vous mappez chaque colonne de la table externe à l’élément correspondant dans les données au format ION. Pour plus d’informations, consultez <a href="https://amzn.github.io/ion-docs/" rel="noopener noreferrer" target="_blank"><span>Amazon Ion</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. Vous devez également spécifier les formats d’entrée et de sortie.</p>

                              </li></ul></div>
                        </dd>
                     </dl></div>
                  <div class="variablelist">
                      
                  <dl>
                        <dt><span class="term">WITH SERDEPROPERTIES ( ’<em>nom_propriété</em>’ = ’<em>valeur_propriété</em>’ [, ...] ) ]</span></dt>
                        <dd>
                           <p>À titre facultatif, spécifiez les noms et valeurs des propriétés, séparés par des virgules.</p>
                        </dd>
                     </dl></div>
                  <p>Si ROW FORMAT est omis, le format par défaut est DELIMITED FIELDS TERMINATED BY ’\A’ (début d’en-tête)et LINES TERMINATED BY ’\n’ (nouvelle ligne). </p>
                  
               </dd>
             
               <dt><span class="term">STORED AS <em>format_fichier</em></span></dt>
               <dd>
                  <p>Format des fichiers de données. </p>
                  <p>Les formats valides sont les suivants :</p>
                  <div class="itemizedlist">
                      
                      
                      
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>PARQUET</p>
                     </li><li class="listitem">
                        <p>RCFILE (pour l'utilisation des données  ColumnarSerDe  uniquement, pas LazyBinaryColumnarSerDe)</p>
                     </li><li class="listitem">
                        <p>SEQUENCEFILE</p>
                     </li><li class="listitem">
                        <p>TEXTFILE (pour les fichiers texte, y compris les fichiers JSON).</p> 
                     </li><li class="listitem">
                        <p>ORC </p>
                     </li><li class="listitem">
                        <p>AVRO </p>
                     </li><li class="listitem">
                        <p>INPUTFORMAT ’<em>nom_classe_format_entrée</em>’ OUTPUTFORMAT ’<em>nom_classe_format_sortie</em>’ </p>
                     </li></ul></div>
                  <p>La commande CREATE EXTERNAL TABLE AS prend uniquement en charge deux formats de fichiers, TEXTFILE et PARQUET.</p>
                  <p>Pour INPUTFORMAT et OUTPUTFORMAT, indiquez un nom de classe comme dans l’exemple suivant. </p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">'org.apache.hadoop.mapred.TextInputFormat'</code></pre>
               </dd>
             
               <dt id="create-external-table-location"><span class="term">LOCATION <span>{</span> ’s3://<em>bucket/folder</em>/’ | ’s3://<em>bucket/manifest_file</em>’}</span></dt>
               <dd>
                  <p>Chemin menant au compartiment Amazon S3 ou au dossier qui contient les fichiers de données ou un fichier manifeste qui contient une liste de chemins d’objets Amazon S3. Les compartiments doivent se trouver dans la même région AWS que le cluster Amazon Redshift. Pour obtenir une liste des régions AWS prises en charge, consultez <a href="./c-using-spectrum.html#c-spectrum-considerations">Considérations relatives à Amazon Redshift Spectrum</a>.</p>


                  
                  <p>Si le chemin précise un compartiment ou un dossier, par exemple, <code class="code">'s3://mybucket/custdata/'</code>, Redshift Spectrum analyse les fichiers qui se trouvent dans le compartiment ou dossier spécifié et dans tous les sous-dossiers. Redshift Spectrum ignore les fichiers masqués ainsi que les fichiers dont le nom commence par un point ou un trait de soulignement. </p>
                  <p>Si le chemin indique un fichier manifeste, l’argument <code class="code">'s3://bucket/manifest_file'</code> doit explicitement faire référence à un seul fichier, par exemple, <code class="code">'s3://mybucket/manifest.txt'</code>. Il ne peut pas faire référence à un préfixe de clé. </p>
                  
                  <p>Le manifeste est un fichier texte au format JSON qui répertorie l’URL de chaque fichier qui doit être chargé à partir d’Amazon S3, ainsi que la taille du fichier, en octets. L’URL inclut le nom du compartiment et le chemin d’objet complet du fichier. Les fichiers qui sont spécifiés dans le manifeste peuvent être dans des compartiments distincts, mais tous les compartiments doivent être dans la même région AWS que le cluster Amazon Redshift. Si un fichier est répertorié deux fois, le fichier est chargé deux fois. L’exemple suivant illustre le format JSON pour un manifeste qui charge trois fichiers. </p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
  "entries": [
    <span>{</span>"url":"s3://mybucket-alpha/custdata.1", "meta": <span>{</span> "content_length": 5956875 } },
    <span>{</span>"url":"s3://mybucket-alpha/custdata.2", "meta": <span>{</span> "content_length": 5997091 } },
    <span>{</span>"url":"s3://mybucket-beta/custdata.1", "meta": <span>{</span> "content_length": 5978675 } }
  ]
}</code></pre>
                  
                  
                  <p>Vous pouvez rendre obligatoire l’inclusion d’un fichier particulier. Pour ce faire, incluez une option <code class="code">mandatory</code> au niveau du fichier dans le manifeste. Lorsque vous interrogez une table externe avec un fichier obligatoire manquant, l’instruction SELECT échoue. Assurez-vous que tous les fichiers inclus dans la définition de la table externe sont présents. S’ils ne sont pas tous présents, une erreur apparaît, indiquant le premier fichier obligatoire introuvable. L’exemple suivant montre le fichier JSON d’un manifeste dont l’ <code class="code">mandatory</code> option est définie sur <code class="code">true</code>.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
  "entries": [
    <span>{</span>"url":"s3://mybucket-alpha/custdata.1", "mandatory":true, "meta": <span>{</span> "content_length": 5956875 } },
    <span>{</span>"url":"s3://mybucket-alpha/custdata.2", "mandatory":false, "meta": <span>{</span> "content_length": 5997091 } },
    <span>{</span>"url":"s3://mybucket-beta/custdata.1", "meta": <span>{</span> "content_length": 5978675 } }
  ]
}</code></pre>
                  <p>Pour référencer les fichiers créés à l’aide de la commande UNLOAD, vous devez utiliser le manifeste créé à l’aide de la commande <a href="./r_UNLOAD.html">UNLOAD</a> avec le paramètre MANIFEST. Le fichier manifeste est compatible avec un fichier manifeste pour <a href="./copy-parameters-data-source-s3.html">Commande COPY depuis Amazon S3</a>, mais il n’utilise pas les mêmes clés. Les clés inutilisées sont ignorées. </p>
               </dd>
             
               <dt><span class="term">TABLE PROPERTIES ( ’<em>nom_propriété</em>’=’<em>valeur_propriété</em>’ [, ...] ) </span></dt>
               <dd>
                  <p>Clause qui définit la définition de table pour des propriétés de table. </p>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Les propriétés de table sont sensibles à la casse.</p></div></div>
                  <div class="variablelist">
                     



                      

                      

                      
                      

                      


                      

                      

                      


                      
                      
                      


                      
                      
                      
                     
                      

                      
                  <dl>
                        <dt><span class="term"> ’compression_type’=’<em>valeur</em>’ </span></dt>
                        <dd>
                           <p> Propriété qui définit le type de compression à utiliser si le nom de fichier ne contient aucune extension. Si vous définissez cette propriété et que le nom de fichier contient une extension, celle-ci est ignorée et la valeur définie par la propriété est utilisée. Les valeurs valides pour chaque type de compression sont les suivantes :</p>
                           <div class="itemizedlist">
                               
                              
                               
                               
                               
                           <ul class="itemizedlist"><li class="listitem">
                                 <p>bzip2</p>
                              </li><li class="listitem">
                                 <p>gzip</p>
                              </li><li class="listitem">
                                 <p>none</p>
                              </li><li class="listitem">
                                 <p>snappy</p>
                              </li></ul></div>
                        </dd>
                      
                        <dt><span class="term">’data_cleansing_enabled’=’true / false’</span></dt>
                        <dd>
                           <p>Cette propriété définit si la gestion des données est activée pour la table. Lorsque ’data_cleansing_enabled’ est définie sur « true », la gestion des données est activée pour la table. Lorsque ’data_cleansing_enabled’ est définie sur « false », la gestion des données est désactivée pour la table. Vous trouverez ci-dessous la liste des propriétés de gestion des données au niveau de la table contrôlées par cette propriété :</p>
                           <div class="itemizedlist">
                               
                               
                               
                               
                               
                           <ul class="itemizedlist"><li class="listitem"><p>column_count_mismatch_handling</p></li><li class="listitem"><p>invalid_char_handling</p></li><li class="listitem"><p>numeric_overflow_handling</p></li><li class="listitem"><p>replacement_char</p></li><li class="listitem"><p>surplus_char_handling</p></li></ul></div>
                           <p>Pour obtenir des exemples, consultez <a href="./r_CREATE_EXTERNAL_TABLE_examples.html#r_CREATE_EXTERNAL_TABLE_examples-data-handling">Exemples de gestion des données</a>.</p>
                        </dd>

                      
                        <dt><span class="term">’invalid_char_handling’=’<em>value</em>’ </span></dt>
                        <dd>
                           <p>Spécifie l’action à effectuer lorsque les résultats de la requête contiennent des valeurs de caractères UTF-8 non valides. Vous pouvez spécifier les actions suivantes :</p>
                           <div class="variablelist">
                               
                               
                               
                               
                               

                           <dl>
                                 <dt><span class="term">DISABLED</span></dt>
                                 <dd><p>N’effectue pas de gestion des caractères non valides.</p></dd>
                               
                                 <dt><span class="term">FAIL</span></dt>
                                 <dd><p>Annule les requêtes renvoyant des données contenant des valeurs UTF-8 non valides.</p></dd>
                               
                                 <dt><span class="term">SET_TO_NULL </span></dt>
                                 <dd><p>Remplace les valeurs UTF-8 non valides par null.</p></dd>
                               
                                 <dt><span class="term">DROP_ROW</span></dt>
                                 <dd><p>Remplace chaque valeur de la ligne par null.</p></dd>
                               
                                 <dt><span class="term">REPLACE</span></dt>
                                 <dd><p>Remplace le caractère non valide par le caractère de remplacement que vous spécifiez à l’aide de <code class="code">replacement_char</code>.</p></dd>
                              </dl></div>
                        </dd>
                      
                        <dt><span class="term">’replacement_char’=’<em>character</em>’</span></dt>
                        <dd>
                           <p>Spécifie le caractère de remplacement à utiliser lorsque vous définissez <code class="code">invalid_char_handling</code> sur <code class="code">REPLACE</code>.</p>
                        </dd>
                      
                        <dt><span class="term">’numeric_overflow_handling’=’value’</span></dt>
                        <dd>
                           <p>Spécifie l’action à effectuer lorsque les données ORC contiennent un entier (par exemple, BIGINT ou int64) supérieur à la définition de colonne (par exemple, SMALLINT ou int16). Vous pouvez spécifier les actions suivantes :</p>
                           <div class="variablelist">
                               
                               
                               
                               
                           <dl>
                                 <dt><span class="term">DISABLED</span></dt>
                                 <dd><p>La gestion des caractères non valide est désactivée.</p></dd>
                               
                                 <dt><span class="term">FAIL</span></dt>
                                 <dd><p>Annulez la requête lorsque les données contiennent des caractères non valides.</p></dd>
                               
                                 <dt><span class="term">SET_TO_NULL</span></dt>
                                 <dd><p>Définissez les caractères non valides sur null.</p></dd>
                               
                                 <dt><span class="term">DROP_ROW</span></dt>
                                 <dd><p>Définissez chaque valeur de la ligne sur null.</p></dd>
                              </dl></div>

                        </dd>

                      
                        
                        <dt><span class="term">’surplus_bytes_handling’=’<em>value</em>’</span></dt>
                        <dd>
                           <p>Spécifie comment traiter les données chargées qui dépassent la longueur du type de données défini pour les colonnes contenant des données VARBYTE. Par défaut, Redshift Spectrum définit la valeur sur null pour les données qui dépassent la largeur de la colonne.</p>
                           <p>Vous pouvez spécifier les actions suivantes à effectuer lorsque la requête renvoie des données qui dépassent la longueur du type de données :</p>
                           <div class="variablelist">
                               
                               
                               
                               
                               
                           <dl>
                                 <dt><span class="term">SET_TO_NULL</span></dt>
                                 <dd><p>Remplace les données qui dépassent la largeur de colonne par null.</p></dd>
                               
                                 <dt><span class="term">DISABLED</span></dt>
                                 <dd><p>N’effectue pas de gestion des octets excédentaires.</p></dd>
                               
                                 <dt><span class="term">FAIL</span></dt>
                                 <dd><p>Annule les requêtes qui renvoient des données dépassant la largeur de colonne.</p></dd>
                               
                                 <dt><span class="term">DROP_ROW</span></dt>
                                 <dd><p>Supprime toutes les lignes qui contiennent des données qui dépassent la largeur de la colonne.</p></dd>
                               
                                 <dt><span class="term">TRUNCATE</span></dt>
                                 <dd><p>Supprime les caractères qui dépassent le nombre maximal de caractères défini pour la colonne.</p></dd>
                              </dl></div>
                        </dd>
                      
                        <dt><span class="term">’surplus_char_handling’=’<em>value</em>’</span></dt>
                        <dd>
                           <p>Spécifie comment gérer les données chargées qui dépassent la longueur du type de données défini pour les colonnes contenant des données VARCHAR, CHAR ou chaîne. Par défaut, Redshift Spectrum définit la valeur sur null pour les données qui dépassent la largeur de la colonne.</p>
                           <p>Vous pouvez spécifier les actions suivantes à effectuer lorsque la requête renvoie des données qui dépassent la largeur de la colonne :</p>
                           <div class="variablelist">
                               
                               
                               
                               
                               
                           <dl>
                                 <dt><span class="term">SET_TO_NULL</span></dt>
                                 <dd><p>Remplace les données qui dépassent la largeur de colonne par null.</p></dd>
                               
                                 <dt><span class="term">DISABLED</span></dt>
                                 <dd><p>N’effectue pas de gestion des caractères excédentaires.</p></dd>
                               
                                 <dt><span class="term">FAIL</span></dt>
                                 <dd><p>Annule les requêtes qui renvoient des données dépassant la largeur de colonne.</p></dd>
                               
                                 <dt><span class="term">DROP_ROW</span></dt>
                                 <dd><p>Remplace chaque valeur de la ligne par null.</p></dd>
                               
                                 <dt><span class="term">TRUNCATE</span></dt>
                                 <dd><p>Supprime les caractères qui dépassent le nombre maximal de caractères défini pour la colonne.</p></dd>
                              </dl></div>
                        </dd>
                      
                        
                        <dt><span class="term">’column_count_mismatch_handling’=’value’</span></dt>
                        <dd>
                           <p>Indique si le fichier contient moins ou plus de valeurs pour une ligne que le nombre de colonnes spécifié dans la définition de la table externe. Cette propriété est disponible uniquement pour un format de fichier texte non compressé. Vous pouvez spécifier les actions suivantes :</p>
                           <div class="variablelist">
                               
                               
                               
                               
                           <dl>
                                 <dt><span class="term">DISABLED</span></dt>
                                 <dd><p>La gestion des non-correspondances du nombre de colonnes est désactivée.</p></dd>
                               
                                 <dt><span class="term">FAIL</span></dt>
                                 <dd><p>Fait échouer la requête si la non-correspondance du nombre de colonnes est détectée.</p></dd>
                               
                                 <dt><span class="term">SET_TO_NULL</span></dt>
                                 <dd><p>Remplit les valeurs manquantes avec NULL et ignore les valeurs supplémentaires de chaque ligne.</p></dd>
                               
                                 <dt><span class="term">DROP_ROW</span></dt>
                                 <dd><p>Supprime de l’analyse toutes les lignes qui contiennent une erreur de non-correspondance du nombre de colonnes.</p></dd>
                              </dl></div>
                        </dd>
                      
                        <dt><span class="term">’numRows’=’<em>nombre_lignes</em>’ </span></dt>
                        <dd>
                           <p>Propriété qui définit la valeur numRows de la définition de table. Afin de mettre à jour explicitement les statistiques d’une table externe, définissez la propriété numRows pour indiquer la taille de la table. Amazon Redshift n'analyse pas les tables externes pour générer les statistiques de table utilisées par l'optimiseur de requête afin de générer un plan de requête. Si des statistiques de table ne sont pas définies pour une table externe, Amazon Redshift génère un plan d’exécution de requête d’après l’hypothèse selon laquelle les tables externes sont les tables les plus volumineuses et les tables locales les tables les plus petites.</p>
                        </dd>
                      
                        <dt><span class="term">’skip.header.line.count’=’<em>nombre_lignes</em>’</span></dt>
                        <dd>
                           <p>Propriété qui définit le nombre de lignes à ignorer au début de chaque fichier source.</p>
                        </dd>
                      
                        <dt><span class="term">’serialization.null.format’=’ ’</span></dt>
                        <dd>
                           <p>Propriété qui spécifie que Spectrum doit renvoyer une valeur <code class="code">NULL</code> lorsqu’il y a une correspondance exacte avec le texte fourni dans un champ.</p>
                        </dd>
                      
                        <dt><span class="term">’orc.schema.resolution’=’type_mappage’</span></dt>
                        <dd>
                           <p>Propriété qui définit le type de mappage de colonne sur le mappage pour des tables qui utilisent le format de données ORC. Cette propriété est ignorée pour tous les autres formats de données.</p>
                           <p>Les valeurs valides pour le type de mappage de colonne sont les suivantes : </p>
                           <div class="itemizedlist">
                               
                               
                           <ul class="itemizedlist"><li class="listitem">
                                 <p>name </p>
                              </li><li class="listitem">
                                 <p>position </p>
                              </li></ul></div>
                           <p>Si la propriété <em>orc.schema.resolution</em> est omise, les colonnes sont mappées par nom par défaut. Si la propriété <em>orc.schema.resolution</em> est définie sur une autre valeur que <em>’name’</em> ou <em>’position’</em>, les colonnes sont mappées par position. Pour en savoir plus sur le mappage des colonnes, consultez <a href="./c-spectrum-external-tables.html#c-spectrum-column-mapping-orc">Mappage de colonnes de table externe à des colonnes ORC</a>.</p>
                           <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>La commande COPY mappe aux fichiers de données ORC uniquement par position. La propriété de table <em>orc.schema.resolution</em> n’a aucun effet sur le comportement de la commande COPY. </p></div></div>
                        </dd>
                      
                        <dt><span class="term">’write.parallel’=’on / off’</span></dt>
                        <dd>
                           <p>Propriété qui définit si la commande CREATE EXTERNAL TABLE AS doit écrire les données en parallèle. Par défaut, CREATE EXTERNAL TABLE AS écrit les données en parallèle dans plusieurs fichiers, en fonction du nombre de tranches du cluster. Par défaut, l’option est activée. Lorsque ’write.parallel’ est désactivé, CREATE EXTERNAL TABLE AS écrit en série dans un ou plusieurs fichiers de données sur Amazon S3. Cette propriété de table s’applique également à toute instruction INSERT ultérieure dans la même table externe.</p>
                        </dd>
                      
                        <dt><span class="term">‘write.maxfilesize.mb’=‘size’</span></dt>
                        <dd>
                           <p>Propriété qui définit la taille maximale (en Mo) de chaque fichier écrit dans Amazon S3 par la commande CREATE EXTERNAL TABLE AS. La taille doit être un entier valide compris entre 5 et 6 200. La taille maximale par défaut du fichier est de 6 200 Mo. Cette propriété de table s’applique également à toute instruction INSERT ultérieure dans la même table externe.</p>
                        </dd>
                      
                        <dt><span class="term">‘write.kms.key.id’=‘<em>value</em>’</span></dt>
                        <dd>
                           <p>Vous pouvez spécifier une clé AWS Key Management Service pour activer le chiffrement côté serveur (SSE) pour les objets Amazon S3, où <em>valeur</em> est l’un des éléments suivants : </p>
                           <div class="itemizedlist">
                               
                                                                     <ul class="itemizedlist"><li class="listitem"><p><code class="code">auto</code> pour utiliser la clé AWS KMS par défaut stockée dans le compartiment Amazon S3.</p></li><li class="listitem"><p><em>kms-key</em> que vous spécifiez pour chiffrer les données.</p></li></ul></div>
                        </dd>
                      
                        <dt><span class="term"><em>select_statement</em></span></dt>
                        <dd>
                           <p>Instruction qui insère une ou plusieurs lignes dans la table externe en définissant une requête. Toutes les lignes produites par la requête sont écrites dans Amazon S3 au format texte ou Parquet en fonction de la définition de la table.</p>
                        </dd>
                     </dl></div>
               </dd>
            </dl></div>
       
         <h2 id="r_CREATE_EXTERNAL_TABLE_examples_link">Exemples</h2>
         <p>Divers exemples sont disponibles à la page <a href="./r_CREATE_EXTERNAL_TABLE_examples.html">Exemples</a>.</p>
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avertissement" /> <strong>JavaScript est désactivé ou n'est pas disponible dans votre navigateur.</strong></p><p>Pour que vous puissiez utiliser la documentation AWS, Javascript doit être activé. Vous trouverez des instructions sur les pages d'aide de votre navigateur.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Conventions de rédaction</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_CREATE_EXTERNAL_SCHEMA.html">CREATE EXTERNAL SCHEMA</div><div id="next" class="next-link" accesskey="n" href="./r_CREATE_EXTERNAL_TABLE_usage.html">Notes d’utilisation</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Oui</div><div class="content"><p>Merci de nous avoir fait part de votre satisfaction.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer ce qui vous a plu afin que nous puissions nous améliorer davantage.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Non</div><div class="content"><p>Merci de nous avoir avertis que cette page avait besoin d'être retravaillée. Nous sommes désolés de ne pas avoir répondu à vos attentes.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer comment nous pourrions améliorer cette documentation.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>