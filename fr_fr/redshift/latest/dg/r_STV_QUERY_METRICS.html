<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="fr-FR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>STV_QUERY_METRICS - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_STV_QUERY_METRICS" /><meta name="default_state" content="r_STV_QUERY_METRICS" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_STV_QUERY_METRICS.html" /><meta name="description" content="Affichez les performances de la vitesse du disque et l’utilisation du disque pour Amazon Redshift." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guide du développeur de base de données" /><meta name="abstract" content="Créez et gérez un entrepôt de données avec Amazon Redshift, service d’entrepôt de données au niveau de l’entreprise, pouvant atteindre plusieurs Po et entièrement géré." /><meta name="guide-locale" content="fr_fr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_STV_QUERY_METRICS.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guide du développeur de base de données" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guide du développeur de base de données" /><meta id="panorama-serviceConsolePage" value="STV_QUERY_METRICS" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>STV_QUERY_METRICS - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#r_STV_QUERY_METRICS" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_STV_QUERY_METRICS.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_STV_QUERY_METRICS.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_STV_QUERY_METRICS.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,entrepôt de données,développeur,exemples de données,database,développeur de base de données,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guide du développeur de base de données",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Informations de référence sur les tables et les vues système",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/cm_chap_system-tables.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Surveillance système (clusters mis en service uniquement)",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c_intro_system_views.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Tables STV pour les données d’instantanés",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c_intro_STV_tables.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "STV_QUERY_METRICS",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c_intro_STV_tables.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#r_STV_QUERY_METRICS" target="_blank" rel="noopener noreferrer" title="Ouvrir le PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guide du développeur de base de données</a></div><div id="page-toc-src"><a href="#r_STV_QUERY_METRICS-table-rows2">Colonnes de la table</a><a href="#r_STV_QUERY_METRICS-step-type">Types d’étapes</a><a href="#r_STV_QUERY_METRICS-sample-query2">Exemple de requête</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Les traductions sont fournies par des outils de traduction automatique. En cas de conflit entre le contenu d'une traduction et celui de la version originale en anglais, la version anglaise prévaudra.</p></awsui-alert><h1 class="topictitle" id="r_STV_QUERY_METRICS">STV_QUERY_METRICS</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Contient des informations sur les métriques, telles que le nombre total de lignes traitées et d’opérations d’entrée/sortie, l’utilisation de l’UC et l’utilisation du disque pour les requêtes actives s’exécutant dans les files d’attente de requêtes définies par l’utilisateur (classes de service). Pour afficher les métriques des requêtes qui ont été terminées, consultez la table système <a href="./r_STL_QUERY_METRICS.html">STL_QUERY_METRICS</a>. </p><p>Les métriques de requête sont échantillonnées toutes les secondes. Par conséquent, la même requête exécutée plusieurs fois peut renvoyer des heures légèrement différentes. En outre, il est possible que les segments de requête qui s’exécutent en moins d’une seconde ne soient pas enregistrés. </p><p>STV_QUERY_METRICS suit et regroupe les métriques au niveau de la requête, du segment et de l’étape. Pour plus d’informations sur les segments et les étapes de requête, consultez <a href="./c-query-planning.html">Workflow d’exécution et de planification de requête</a>. De nombreuses métriques (<code class="code">max_rows</code>, <code class="code">cpu_time</code>, etc.) sont additionnées entre les tranches de nœuds. Pour plus d’informations sur les tranches de nœuds, consultez <a href="./c_high_level_system_architecture.html">Architecture système de l’entrepôt de données</a>. </p><p>Pour déterminer le niveau auquel la ligne communique les métriques, observez les colonnes <code class="code">segment</code> et <code class="code">step_type</code> :</p><div class="itemizedlist">
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>Si <code class="code">segment</code> et <code class="code">step_type</code> sont définis sur <code class="code">-1</code>, la ligne communique les métriques au niveau de la requête. </p>
            </li><li class="listitem">
                <p>Si <code class="code">segment</code> n’est pas défini sur <code class="code">-1</code> et si <code class="code">step_type</code> est défini sur <code class="code">-1</code>, la ligne communique les métriques au niveau du segment. </p>
            </li><li class="listitem">
                <p>Si <code class="code">segment</code> et <code class="code">step_type</code> ne sont pas définis sur <code class="code">-1</code>, la ligne communique les métriques au niveau de l’étape. </p>
            </li></ul></div><p>STV_QUERY_METRICS est visible par tous les utilisateurs. Les super-utilisateurs peuvent voir toutes les lignes, tandis que les utilisateurs standard peuvent voir uniquement leurs propres données. Pour plus d'informations, consultez <a href="./cm_chap_system-tables.html#c_visibility-of-data">Visibilité des données dans les tables et vues système</a>.</p><p>Tout ou partie des données de cette table sont également disponibles dans la vue de surveillance SYS <a href="./SYS_QUERY_DETAIL.html">SYS_QUERY_DETAIL</a>. Les données de la vue de surveillance SYS sont formatées pour être plus faciles à utiliser et à comprendre. Nous vous recommandons d’utiliser la vue de surveillance SYS pour vos requêtes.</p>
            <h2 id="r_STV_QUERY_METRICS-table-rows2">Colonnes de la table</h2>



            <div class="table-container"><div class="table-contents"><table id="w319aac49c17c11c33c17b3"><thead>
                        <tr>
                            <th>Nom de la colonne </th>
                            <th>Type de données </th>
                            <th>Description </th>
                        </tr>
                    </thead>
                        <tr>
                            <td tabindex="-1">userid </td>
                            <td tabindex="-1">entier </td>
                            <td tabindex="-1">ID de l’utilisateur qui a exécuté la requête qui a généré l’entrée. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">service_class </td>
                            <td tabindex="-1">entier </td>
                            <td tabindex="-1">ID de la file d’attente de requêtes WLM (classe de service). Les files d’attente de requêtes sont définies dans la configuration WLM. Les métriques sont communiquées uniquement pour les files d’attente définies par l’utilisateur.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">query</td>
                            <td tabindex="-1">entier </td>
                            <td tabindex="-1">ID de requête. La colonne de requête peut servir à joindre les autres tables système et les vues.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">starttime </td>
                            <td tabindex="-1">timestamp </td>
                            <td tabindex="-1">Heure au format UTC de début de l’exécution de la requête, avec 6 chiffres de précision pour les fractions de secondes. Par exemple : <code class="code">2009-06-12 11:29:19.131358</code>. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">slices </td>
                            <td tabindex="-1">entier </td>
                            <td tabindex="-1">Nombre de tranches du cluster. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">segment </td>
                            <td tabindex="-1">entier </td>
                            <td tabindex="-1">Numéro de segment. Une requête se compose de plusieurs segments et chaque segment d’une ou de plusieurs étapes. Les segments de requête peuvent s’exécuter en parallèle. Chaque segment s’exécute dans un processus unique. Si le segment a une valeur de -1, les valeurs du segment de métriques sont reportées au niveau de la requête.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">step_type </td>
                            <td tabindex="-1">entier </td>
                            <td tabindex="-1">Type de l’étape exécutée. Pour obtenir une description des types d’étapes, consultez <a href="#r_STV_QUERY_METRICS-step-type">Types d’étapes</a>. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">rows </td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">Nombre de lignes traitées par une étape. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">max_rows </td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">Nombre maximal de lignes produites pour une étape, regroupées entre toutes les tranches.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">cpu_time </td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">Durée d’utilisation de l’UC, en microsecondes. Au niveau du segment, durée totale d’utilisation de l’UC pour le segment entre toutes les tranches. Au niveau de la requête, somme des durées d’utilisation de l’UC pour la requête entre toutes les tranches et tous les segments. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">max_cpu_time </td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">Durée maximale d’utilisation de l’UC, en microsecondes. Au niveau du segment, durée maximale d’utilisation de l’UC par le segment entre toutes les tranches. Au niveau de la requête, durée maximale d’utilisation de l’UC par n’importe quel segment de requête. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">blocks_read </td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">Nombre de blocs d’1 Mo lus par la requête ou le segment. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">max_blocks_read </td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">Nombre maximal de blocs d’1 Mo lus par le segment, regroupés entre toutes les tranches. Au niveau du segment, nombre maximal de blocs d’1 Mo lus pour le segment entre toutes les tranches. Au niveau de la requête, nombre maximal de blocs d’1 Mo lus par n’importe quel segment de la requête. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">run_time </td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">
                                <p>Somme des durées totales d’exécution, entre les tranches. La durée d’attente n’est pas incluse dans le délai d’exécution. </p>
                                <p>Au niveau du segment, somme des durées d’exécution pour le segment entre toutes les tranches. Au niveau de la requête, somme des durées d’exécution pour la requête entre toutes les tranches et tous les segments. Puisqu’il s’agit d’une somme, le délai d’exécution n’est pas lié au délai d’exécution de la requête. </p>
                            </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">max_run_time </td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">Durée maximale écoulée pour un segment (en microsecondes). Au niveau du segment, durée maximale d’exécution pour le segment entre toutes les tranches. Au niveau de la requête, durée maximale d’exécution pour n’importe quel segment de requête. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">max_blocks_to_disk </td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">Quantité maximale d’espace disque utilisé pour écrire des résultats intermédiaires, en blocs de 1 Mo. Au niveau du segment, quantité maximale d’espace disque utilisé par le segment entre toutes les tranches. Au niveau de la requête, quantité maximale d’espace disque utilisé par n’importe quel segment de requête. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">blocks_to_disk </td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">Quantité d’espace disque utilisé par une requête ou un segment pour écrire des résultats intermédiaires, en blocs de 1 Mo.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">étape</td>
                            <td tabindex="-1">entier </td>
                            <td tabindex="-1">Étape de la requête exécutée.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">max_query_scan_size</td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">Taille maximale des données analysées par une requête, en Mo. Au niveau du segment, taille maximale des données analysées par le segment entre toutes les tranches. Au niveau de la requête, taille maximale des données analysées par n’importe quel segment de requête. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">query_scan_size</td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">Taille des données analysées par une requête, en Mo. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">query_priority </td>
                            <td tabindex="-1">entier </td>
                            <td tabindex="-1">Priorité de la requête. Les valeurs possibles sont <code class="code">-1</code>, <code class="code">0</code>, <code class="code">1</code>, <code class="code">2</code>, <code class="code">3</code> et <code class="code">4</code>, où <code class="code">-1</code> signifie que cette priorité de requête n’est pas prise en charge. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">query_queue_time</td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">Durée, en microsecondes, pendant laquelle la requête a été mise en file d’attente. </td>
                        </tr>
                    </table></div></div>
         
            <h2 id="r_STV_QUERY_METRICS-step-type">Types d’étapes</h2>


            <p>Le tableau suivant répertorie les types d’étapes relatifs aux utilisateurs des bases de données. Les types d’étapes relatifs à un usage interne uniquement ne sont pas inclus. Si le type d’étape est -1, la métrique n’est pas communiquée au niveau de l’étape.</p>
            <div class="table-container"><div class="table-contents"><table id="w319aac49c17c11c33c19b5"><thead>
                        <tr>
                            <th>Type d’étape</th>
                            <th>Description </th>
                        </tr>
                    </thead>
                        <tr>
                            <td tabindex="-1">1 </td>
                            <td tabindex="-1">Analyser la table</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">2</td>
                            <td tabindex="-1">Insérer des lignes</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">3 </td>
                            <td tabindex="-1">Regrouper les lignes</td>
                        </tr>

                        <tr>
                            <td tabindex="-1">6 </td>
                            <td tabindex="-1">Étape de tri</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">7</td>
                            <td tabindex="-1">Étape de fusion</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">8</td>
                            <td tabindex="-1">Étape de distribution</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">9 </td>
                            <td tabindex="-1">Étape de distribution de diffusion</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">10</td>
                            <td tabindex="-1">Joindre par hachage</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">11</td>
                            <td tabindex="-1">Joindre par fusion</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">12</td>
                            <td tabindex="-1">Étape d’enregistrement</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">14</td>
                            <td tabindex="-1">Hachage</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">15</td>
                            <td tabindex="-1">Jointure de boucle imbriquée </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">16</td>
                            <td tabindex="-1">Champs et expressions du projet</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">17</td>
                            <td tabindex="-1">Limite le nombre de lignes retournées </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">18</td>
                            <td tabindex="-1">Unique</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">20</td>
                            <td tabindex="-1">Supprimer les lignes</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">26</td>
                            <td tabindex="-1">Limite le nombre de lignes triées retournées</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">29</td>
                            <td tabindex="-1">Calcule une fonction de fenêtre</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">32</td>
                            <td tabindex="-1">UDF</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">33</td>
                            <td tabindex="-1">Unique</td>
                        </tr>

                        <tr>
                            <td tabindex="-1">37</td>
                            <td tabindex="-1">Retourne au client les lignes issues du nœud principal</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">38</td>
                            <td tabindex="-1">Retourne au nœud principal les lignes issues des nœuds de calcul</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">40</td>
                            <td tabindex="-1">Analyse du spectre</td>
                        </tr>
                    </table></div></div>

         
            <h2 id="r_STV_QUERY_METRICS-sample-query2">Exemple de requête</h2>


            <p>Pour rechercher des requêtes actives avec un temps UC élevé (plus de 1 000 secondes), exécutez la requête suivante.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select query, cpu_time / 1000000 as cpu_seconds
from stv_query_metrics where segment = -1 and cpu_time &gt; 1000000000
order by cpu_time;

query | cpu_seconds
------+------------
25775 |        9540</code></pre>
            <p>Pour rechercher des requêtes actives avec une jonction de boucles imbriquées qui a renvoyé plus d’un million de lignes, exécutez la requête suivante.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select query, rows 
from stv_query_metrics 
where step_type = 15 and rows &gt; 1000000
order by rows;

query | rows      
------+-----------
25775 | 1580225854</code></pre>
            <p>Pour rechercher des requêtes actives qui se sont exécutées pendant plus de 60 secondes et ont utilisé moins de 10 secondes de temps UC, exécutez la requête suivante. </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select query, run_time/1000000 as run_time_seconds
from stv_query_metrics 
where segment = -1 and run_time &gt; 60000000 and cpu_time &lt; 10000000;

query | run_time_seconds
------+-----------------
25775 |              114</code></pre>
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avertissement" /> <strong>JavaScript est désactivé ou n'est pas disponible dans votre navigateur.</strong></p><p>Pour que vous puissiez utiliser la documentation AWS, Javascript doit être activé. Vous trouverez des instructions sur les pages d'aide de votre navigateur.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Conventions de rédaction</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_STV_PARTITIONS.html">STV_PARTITIONS</div><div id="next" class="next-link" accesskey="n" href="./r_STV_RECENTS.html">STV_RECENTS</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Oui</div><div class="content"><p>Merci de nous avoir fait part de votre satisfaction.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer ce qui vous a plu afin que nous puissions nous améliorer davantage.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_STV_QUERY_METRICS.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Non</div><div class="content"><p>Merci de nous avoir avertis que cette page avait besoin d'être retravaillée. Nous sommes désolés de ne pas avoir répondu à vos attentes.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer comment nous pourrions améliorer cette documentation.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_STV_QUERY_METRICS.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>