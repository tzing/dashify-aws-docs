<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="fr-FR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>CREATE MATERIALIZED VIEW - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="materialized-view-create-sql-command" /><meta name="default_state" content="materialized-view-create-sql-command" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/materialized-view-create-sql-command.html" /><meta name="description" content="Crée une vue matérialisée." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guide du développeur de base de données" /><meta name="abstract" content="Créez et gérez un entrepôt de données avec Amazon Redshift, service d’entrepôt de données au niveau de l’entreprise, pouvant atteindre plusieurs Po et entièrement géré." /><meta name="guide-locale" content="fr_fr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/materialized-view-create-sql-command.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guide du développeur de base de données" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guide du développeur de base de données" /><meta id="panorama-serviceConsolePage" value="CREATE MATERIALIZED VIEW" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>CREATE MATERIALIZED VIEW - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#materialized-view-create-sql-command" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/materialized-view-create-sql-command.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/materialized-view-create-sql-command.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/materialized-view-create-sql-command.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,entrepôt de données,développeur,exemples de données,database,développeur de base de données,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guide du développeur de base de données",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Référence SQL",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Commandes SQL",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "CREATE MATERIALIZED VIEW",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c_SQL_commands.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#materialized-view-create-sql-command" target="_blank" rel="noopener noreferrer" title="Ouvrir le PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guide du développeur de base de données</a></div><div id="page-toc-src"><a href="#mv_CREATE_MATERIALIZED_VIEW-synopsis">Syntaxe</a><a href="#mv_CREATE_MATERIALIZED_VIEW-parameters">Paramètres</a><a href="#mv_CREATE_MARTERIALIZED_VIEW_usage">Notes d’utilisation</a><a href="#materialized-view-ddl">Mises à jour DDL des vues matérialisées ou des tables de base</a><a href="#mv_CREATE_MATERIALIZED_VIEW-limitations">Limites</a><a href="#mv_CREATE_MARTERIALIZED_VIEW_examples">Exemples</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Les traductions sont fournies par des outils de traduction automatique. En cas de conflit entre le contenu d'une traduction et celui de la version originale en anglais, la version anglaise prévaudra.</p></awsui-alert><h1 class="topictitle" id="materialized-view-create-sql-command">CREATE MATERIALIZED VIEW</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Crée une vue matérialisée basée sur une ou plusieurs tables Amazon Redshift. Vous pouvez également baser les vues matérialisées sur des tables externes créées à l’aide de Spectrum ou d’une requête fédérée. Pour obtenir des informations sur Spectrum, consultez <a href="./c-using-spectrum.html">Interroger des données externes avec Amazon Redshift Spectrum</a>. Pour obtenir des informations sur la requête fédérée, consultez <a href="./federated-overview.html">Interrogation de données avec requête fédérée dans Amazon Redshift</a>.</p>
         <h2 id="mv_CREATE_MATERIALIZED_VIEW-synopsis">Syntaxe</h2>
         <pre class="screen">CREATE MATERIALIZED VIEW mv_name
[ BACKUP <span>{</span> YES | NO } ]
[ table_attributes ]
[ AUTO REFRESH <span>{</span> YES | NO } ]
AS query </pre>
       
         <h2 id="mv_CREATE_MATERIALIZED_VIEW-parameters">Paramètres</h2>
         <div class="variablelist">
             
             
             

            <dl>
               <dt><span class="term">BACKUP</span></dt>
               <dd>
                  <p>Clause qui spécifie si la vue matérialisée est incluse dans des instantanés de cluster manuels et automatisés, stockés dans Amazon S3.</p>
                  <p>La valeur par défaut de <code class="code">BACKUP</code> est <code class="code">YES</code>.</p>
                  <p>Vous pouvez spécifier <code class="code">BACKUP NO</code> pour enregistrer la durée de traitement lors de la création des instantanés et de la restauration à partir d’instantanés, et pour réduire la quantité de stockage requise dans Amazon S3.</p>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Le paramètre <code class="code">BACKUP NO</code> n’ayant aucun effet sur la réplication automatique des données sur d’autres nœuds au sein du cluster, les tables pour lesquelles <code class="code">BACKUP
                           NO</code> est spécifié sont restaurées dans une défaillance de nœud.</p></div></div>
               </dd>
             
               <dt><span class="term"> <em>table_attributes</em> </span></dt>
               <dd>
                  
                  <p>Clause qui spécifie la manière dont les données de la vue matérialisée sont distribuées, notamment :</p>
                  <div class="itemizedlist">
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p> Style de distribution de la vue matérialisée, au format <code class="code">DISTSTYLE <span>{</span> EVEN | ALL | KEY }</code>. Si vous omettez cette clause, le style de distribution est <code class="code">EVEN</code>. Pour plus d'informations, consultez <a href="./c_choosing_dist_sort.html">Styles de distribution</a>.</p>
                     </li><li class="listitem">
                        <p>Clé de distribution de la vue matérialisée, au format <code class="code">DISTKEY ( <em>distkey_identifier</em> )</code>. Pour plus d'informations, consultez <a href="./t_designating_distribution_styles.html">Détermination des styles de distribution</a>.</p>
                     </li><li class="listitem">
                        <p>Clé de tri de la vue matérialisée, au format <code class="code">SORTKEY ( <em>column_name</em> [, ...] )</code>. Pour plus d'informations, consultez <a href="./t_Sorting_data.html">Utilisation des clés de tri</a>.</p>

                     </li></ul></div>
               </dd>
             
               <dt><span class="term">AS <em>requête</em></span></dt>
               <dd>
                  <p>Une instruction <code class="code">SELECT</code> valide qui définit la vue matérialisée et son contenu. L’ensemble de résultats de la requête définit les colonnes et les lignes de la vue matérialisée. Pour obtenir des informations sur les limitations lors de la création de vues matérialisées, consultez <a href="#mv_CREATE_MATERIALIZED_VIEW-limitations">Limites</a>.</p>
                  <p>En outre, des constructions de langage SQL spécifiques utilisées dans la requête déterminent si la vue matérialisée peut être reproduite de manière incrémentielle ou complète. Pour obtenir des informations sur la méthode d’actualisation, consultez <a href="./materialized-view-refresh-sql-command.html">REFRESH MATERIALIZED VIEW</a>. Pour obtenir des informations sur les limitations de l’actualisation progressive, consultez <a href="./materialized-view-refresh-sql-command.html#mv_REFRESH_MARTERIALIZED_VIEW_limitations">Limites d’actualisation incrémentielle</a>.</p>

                  <p>Si la requête contient une commande SQL qui ne prend pas en charge l’actualisation incrémentielle, Amazon Redshift affiche un message indiquant que la vue matérialisée utilisera une actualisation complète. Le message peut ou non s’afficher, selon l’application cliente SQL. Cochez la colonne <code class="code">state</code> de <a href="./r_STV_MV_INFO.html">STV_MV_INFO</a> pour voir le type d’actualisation utilisé par une vue matérialisée.</p></dd>
               <dt><span class="term">AUTO REFRESH</span></dt>
               <dd>
                  <p>Clause qui définit si la vue matérialisée doit être automatiquement actualisée avec les dernières modifications de ses tables de base ou non. La valeur par défaut est <code class="code">NO</code>. Pour plus d'informations, consultez <a href="./materialized-view-refresh.html">Actualisation d’une vue matérialisée</a>.</p>

               </dd>
            </dl></div>
       
         <h2 id="mv_CREATE_MARTERIALIZED_VIEW_usage">Notes d’utilisation</h2>
         <p>Pour créer une vue matérialisée, vous devez disposer des privilèges suivants :</p>
         <div class="itemizedlist">
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>Privilèges CREATE pour un schéma.</p>
            </li><li class="listitem">
     
               <p>Privilège SELECT au niveau de la table ou d’une colonne sur les tables de base pour créer une vue matérialisée. Si vous disposez de privilèges au niveau de colonnes spécifiques, vous pouvez créer une vue matérialisée uniquement avec ces colonnes.</p>
            </li></ul></div>
       
         <h2 id="materialized-view-ddl">Mises à jour DDL des vues matérialisées ou des tables de base</h2>
         <p>Lorsque vous utilisez des vues matérialisées dans Amazon Redshift, suivez ces notes d’utilisation pour les mises à jour du langage de définition de données (DDL) vers des vues matérialisées ou des tables de base.</p>
         <div class="itemizedlist">
             
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>Vous pouvez ajouter des colonnes à une table de base sans affecter les vues matérialisées qui référencent cette table.</p>
            </li><li class="listitem">
               <p>Certaines opérations peuvent laisser la vue matérialisée dans un état qui ne peut pas du tout être actualisé. Par exemple, des opérations telles que le renommage ou la suppression d’une colonne, le modification d’un type de colonne et le changement de nom d’un schéma. Ce type de vue matérialisée peut être interrogé mais pas actualisé. Dans ce cas, vous devez annuler et recréer la vue matérialisée. </p>
            </li><li class="listitem">
               <p>En général, vous ne pouvez pas modifier la définition d’une vue matérialisée (son instruction SQL).</p>
            </li><li class="listitem">
               <p>Vous ne pouvez pas renommer une vue matérialisée. </p>
            </li></ul></div>
       
         <h2 id="mv_CREATE_MATERIALIZED_VIEW-limitations">Limites</h2>
         <p>Vous ne pouvez pas définir de vue matérialisée qui référence ou comprend l’un des éléments suivants :</p>
         <div class="itemizedlist">
             
             
             
             
             
            
           
             
             
             
         
         <ul class="itemizedlist"><li class="listitem">
               <p>Vues standard ou tables et vues système.</p>
            </li><li class="listitem">
               <p>Tables temporaires.</p>
            </li><li class="listitem">
               <p>Fonctions définies par l’utilisateur.</p>
            </li><li class="listitem">
               <p>La clause ORDER BY, LIMIT ou OFFFET.</p>
            </li><li class="listitem">
               <p>Références de liaison tardive aux tables de base. En d’autres termes, toute table de base ou colonne associée référencée dans la définition de la requête SQL de la vue matérialisée doit exister et être valide. </p>
            </li><li class="listitem">
               <p>Fonctions de nœud leader uniquement : CURRENT_SCHEMA, CURRENT_SCHEMAS, HAS_DATABASE_PRIVILEGE, HAS_SCHEMA_PRIVILEGE, HAS_TABLE_PRIVILEGE.</p>
            </li><li class="listitem"><p>Vous ne pouvez pas utiliser l’option AUTO REFRESH YES lorsque la définition de la vue matérialisée inclut des fonctions mutables ou des schémas externes. Vous ne pouvez pas non plus l’utiliser lorsque vous définissez une vue matérialisée sur une autre vue matérialisée.</p></li><li class="listitem"><p>Vous n’avez pas besoin d’exécuter manuellement <a href="./r_ANALYZE.html">ANALYSE</a> sur les vues matérialisées. Pour l’heure, l’analyse s’effectue uniquement via AUTO ANALYZE. Pour plus d'informations, consultez <a href="./t_Analyzing_tables.html">Analyse des tables</a>.</p></li></ul></div>
         
         
       
         <h2 id="mv_CREATE_MARTERIALIZED_VIEW_examples">Exemples</h2>
         <p>L’exemple suivant montre comment créer une vue matérialisée à partir de trois tables de base qui sont jointes et agrégées. Chaque ligne représente une catégorie avec le nombre de billets vendus. Lorsque vous interrogez la vue matérialisée tickets_mv, vous accédez directement aux données précalculées dans la vue matérialisée tickets_mv.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE MATERIALIZED VIEW tickets_mv AS
    select   catgroup,
    sum(qtysold) as sold
    from     category c, event e, sales s
    where    c.catid = e.catid
    and      e.eventid = s.eventid
    group by catgroup;</code></pre>
         <p>L’exemple suivant crée une vue matérialisée similaire à l’exemple précédent et utilise la fonction d’agrégation MAX(). </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE MATERIALIZED VIEW tickets_mv_max AS
    select   catgroup,
    max(qtysold) as sold
    from     category c, event e, sales s
    where    c.catid = e.catid
    and      e.eventid = s.eventid
    group by catgroup;

SELECT name, state FROM STV_MV_INFO;</code></pre>

         <p>L’exemple suivant utilise une clause UNION ALL pour joindre la table <code class="code">public_sales</code> Amazon Redshift et la table <code class="code">spectrum.sales</code> Redshift Spectrum pour créer une vue matérialisée <code class="code">mv_sales_vw</code>. Pour obtenir des informations sur la commande CREATE EXTERNAL TABLE pour Amazon Redshift Spectrum, consultez <a href="./r_CREATE_EXTERNAL_TABLE.html">CREATE EXTERNAL TABLE</a>. La table externe Redshift Spectrum fait référence aux données sur Amazon S3.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE MATERIALIZED VIEW mv_sales_vw as
select salesid, qtysold, pricepaid, commission, saletime from public.sales
union all
select salesid, qtysold, pricepaid, commission, saletime from spectrum.sales
</code></pre>
         <p>L’exemple suivant crée une vue matérialisée <code class="code">mv_fq</code> basée sur une table externe de requête fédérée. Pour obtenir des informations sur la requête fédérée, consultez <a href="./r_CREATE_EXTERNAL_SCHEMA.html">CREATE EXTERNAL SCHEMA</a>.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE MATERIALIZED VIEW mv_fq as select firstname, lastname from apg.mv_fq_example;

select firstname, lastname from mv_fq;
 firstname | lastname
-----------+----------
 John      | Day
 Jane      | Doe
(2 rows)</code></pre>
         <p>L’exemple suivant montre la définition d’une vue matérialisée.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT pg_catalog.pg_get_viewdef('mv_sales_vw'::regclass::oid, true);

pg_get_viewdef
---------------------------------------------------
create materialized view mv_sales_vw as select a from t;</code></pre>
         <p> L’exemple suivant montre comment définir AUTO REFRESH dans la définition de la vue matérialisée et indique également un DISTSTYLE. Commencez par créer une table de base simple. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE TABLE baseball_table (ball int, bat int);</code></pre>
         <p>Créez ensuite une vue matérialisée.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE MATERIALIZED VIEW mv_baseball DISTSTYLE ALL AUTO REFRESH YES AS SELECT ball AS baseball FROM baseball_table;</code></pre>
         <p>Vous pouvez maintenant interroger la vue matérialisée mv_baseball. Pour vérifier si AUTO REFRESH est activé pour une vue matérialisée, consultez <a href="./r_STV_MV_INFO.html">STV_MV_INFO</a>.</p>

         <p>L’exemple suivant crée une vue matérialisée qui fait référence à une table source dans une autre base de données. Cela suppose que la base de données contenant la table source, database_A, se trouve dans le même cluster ou groupe de travail que votre vue matérialisée, que vous créez dans database_B. (Vous pouvez remplacer vos propres bases de données par l’exemple.) Tout d’abord, créez une table dans database_A appelée <em>cities</em> pour les villes, avec une colonne <em>cityname</em> pour les noms de villes. Définissez le type de données de la colonne comme VARCHAR. Après avoir créé la table source, exécutez la commande suivante dans database_B pour créer une vue matérialisée dont la source est votre table <em>cities</em>. Assurez-vous de spécifier la base de données et le schéma de la table source dans la clause FROM :</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE MATERIALIZED VIEW cities_mv AS
SELECT  cityname
FROM    database_A.public.cities;</code></pre>
         <p>Interrogez la vue matérialisée que vous avez créée. La requête extrait les enregistrements dont la source d’origine est la table <em>cities</em> dans database_A :</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select * from cities_mv;</code></pre>
         <p>Lorsque vous exécutez l’instruction SELECT, <em>cities_mv</em> renvoie les enregistrements. Les enregistrements sont actualisés à partir de la table source uniquement lorsqu’une instruction REFRESH est exécutée. Notez également que vous ne pouvez pas mettre à jour les enregistrements directement dans la vue matérialisée. Pour plus d’informations sur l’actualisation des données dans une vue matérialisée, consultez <a href="./materialized-view-refresh-sql-command.html">REFRESH MATERIALIZED VIEW</a>.</p>
         
      


         <p>Pour en savoir plus sur la présentation des vues matérialisées et les commandes SQL utilisées pour actualiser et supprimer les vues matérialisées, consultez les rubriques suivantes :</p>

         <div class="itemizedlist">
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p><a href="./materialized-view-overview.html">Création de vues matérialisées dans Amazon Redshift</a></p>
            </li><li class="listitem">
               <p><a href="./materialized-view-refresh-sql-command.html">REFRESH MATERIALIZED VIEW</a></p>
            </li><li class="listitem">
               <p><a href="./materialized-view-drop-sql-command.html">DROP MATERIALIZED VIEW</a></p>
            </li></ul></div>
         
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avertissement" /> <strong>JavaScript est désactivé ou n'est pas disponible dans votre navigateur.</strong></p><p>Pour que vous puissiez utiliser la documentation AWS, Javascript doit être activé. Vous trouverez des instructions sur les pages d'aide de votre navigateur.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Conventions de rédaction</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_CREATE_MASKING_POLICY.html">CREATE MASKING POLICY</div><div id="next" class="next-link" accesskey="n" href="./r_CREATE_MODEL.html">CREATE MODEL</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Oui</div><div class="content"><p>Merci de nous avoir fait part de votre satisfaction.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer ce qui vous a plu afin que nous puissions nous améliorer davantage.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/materialized-view-create-sql-command.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Non</div><div class="content"><p>Merci de nous avoir avertis que cette page avait besoin d'être retravaillée. Nous sommes désolés de ne pas avoir répondu à vos attentes.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer comment nous pourrions améliorer cette documentation.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/materialized-view-create-sql-command.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>