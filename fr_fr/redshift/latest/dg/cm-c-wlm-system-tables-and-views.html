<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="fr-FR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tables et vues système WLM - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="cm-c-wlm-system-tables-and-views" /><meta name="default_state" content="cm-c-wlm-system-tables-and-views" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" /><meta name="description" content="Visualiser l’état des requêtes, des files d’attente et des classes de service Amazon Redshift en utilisant les tables système spécifiques à WLM." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guide du développeur de base de données" /><meta name="abstract" content="Créez et gérez un entrepôt de données avec Amazon Redshift, service d’entrepôt de données au niveau de l’entreprise, pouvant atteindre plusieurs Po et entièrement géré." /><meta name="guide-locale" content="fr_fr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guide du développeur de base de données" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guide du développeur de base de données" /><meta id="panorama-serviceConsolePage" value="Tables et vues système WLM" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Tables et vues système WLM - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#cm-c-wlm-system-tables-and-views" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,entrepôt de données,développeur,exemples de données,database,développeur de base de données,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guide du développeur de base de données",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Implémentation de la gestion de la charge de travail",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/cm-c-implementing-workload-management.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Tables et vues système WLM",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/cm-c-implementing-workload-management.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#cm-c-wlm-system-tables-and-views" target="_blank" rel="noopener noreferrer" title="Ouvrir le PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guide du développeur de base de données</a></div><div id="page-toc-src"><a href="#wlm-service-class-ids">ID de classe de service WLM.</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Les traductions sont fournies par des outils de traduction automatique. En cas de conflit entre le contenu d'une traduction et celui de la version originale en anglais, la version anglaise prévaudra.</p></awsui-alert><h1 class="topictitle" id="cm-c-wlm-system-tables-and-views">Tables et vues système WLM</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>WLM configure les files d’attente de requêtes en fonction des classes de service WLM, qui sont définies en interne. Amazon Redshift crée plusieurs files d’attente internes en fonction de ces classes de service, ainsi que des files d’attente définies dans la configuration de WLM. Les termes <em>file d’attente</em> et <em>classe de service</em> sont souvent utilisés indifféremment dans les tables système. La file d’attente du super-utilisateur utilise la classe de service 5. Les files d’attente définies par l’utilisateur utilisent la classe de service 6 et plus.</p><p>Vous pouvez afficher le statut de requêtes, des files d’attente et des classes de service à l’aide de tables système WLM spécifiques. Interrogez les tables système suivantes pour effectuer les opérations suivantes :</p><div class="itemizedlist">
          
          
          
      <ul class="itemizedlist"><li class="listitem">
            <p>Afficher les requêtes dont le suivi est effectué et les ressources qui sont allouées par le responsable de la charge de travail.</p>
         </li><li class="listitem">
            <p>Afficher à quelle file d’attente une requête a été affectée.</p>
         </li><li class="listitem">
            <p>Afficher le statut d’une requête qui est suivie actuellement par le responsable de la charge de travail.</p>
         </li></ul></div><div class="table-container"><div class="table-contents"><table id="w319aac43c59b9"><thead>
               <tr>
                  <th>Nom de la table </th>
                  <th>Description </th>
               </tr>
            </thead>
               <tr>
                  <td tabindex="-1">
                     <a href="./r_STL_WLM_ERROR.html">STL_WLM_ERROR</a>
                  </td>
                  <td tabindex="-1">Contient un journal des événements d’erreurs liés à WLM. </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <a href="./r_STL_WLM_QUERY.html">STL_WLM_QUERY</a>
                  </td>
                  <td tabindex="-1">Répertorie les requêtes qui sont suivies par WLM. </td>
               </tr>

               <tr>
                  <td tabindex="-1">
                     <a href="./r_STV_WLM_CLASSIFICATION_CONFIG.html">STV_WLM_CLASSIFICATION_CONFIG</a>
                  </td>
                  <td tabindex="-1">Affiche les règles de classification actuelles pour WLM. </td>
               </tr>

               <tr>
                  <td tabindex="-1">
                     <a href="./r_STV_WLM_QUERY_QUEUE_STATE.html">STV_WLM_QUERY_QUEUE_STATE</a>
                  </td>
                  <td tabindex="-1">Enregistre l’état actuel des files d’attente des requêtes. </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <a href="./r_STV_WLM_QUERY_STATE.html">STV_WLM_QUERY_STATE</a>
                  </td>
                  <td tabindex="-1">Fournit un instantané de l’état actuel des requêtes qui sont suivies par WLM. </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <a href="./r_STV_WLM_QUERY_TASK_STATE.html">STV_WLM_QUERY_TASK_STATE</a>
                  </td>
                  <td tabindex="-1">Contient l’état actuel des tâches des requêtes. </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <a href="./r_STV_WLM_SERVICE_CLASS_CONFIG.html">STV_WLM_SERVICE_CLASS_CONFIG</a>
                  </td>
                  <td tabindex="-1">Enregistre les configurations de classe de service pour WLM. </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <a href="./r_STV_WLM_SERVICE_CLASS_STATE.html">STV_WLM_SERVICE_CLASS_STATE</a>
                  </td>
                  <td tabindex="-1">Contient l’état actuel des classes de service.</td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <a href="./r_STL_WLM_RULE_ACTION.html">STL_WLM_RULE_ACTION</a>
                  </td>
                  <td tabindex="-1">Enregistre des détails relatifs aux actions résultant des règles de surveillance de requête WLM associées aux files d’attente définies par l’utilisateur.</td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <a href="./r_STV_WLM_QMR_CONFIG.html">STV_WLM_QMR_CONFIG</a>
                  </td>
                  <td tabindex="-1">Enregistre la configuration des règles de surveillance de requête (QRM) WLM.</td>
               </tr>
            </table></div></div><p> L’ID de tâche vous permet d’effectuer le suivi d’une requête dans les tables système. L’exemple suivant illustre comment obtenir l’ID de tâche de la requête d’utilisateur soumise le plus récemment : </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select task from stl_wlm_query where exec_start_time =(select max(exec_start_time) from stl_wlm_query); 

task 
------ 
137 
(1 row)</code></pre><p> L’exemple suivant affiche les requêtes qui sont en cours ou en attente d’exécution dans différentes classes de service (files d’attente). Cette requête est utile pour suivre la charge de travail simultanée globale pour Amazon Redshift : </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
select * from stv_wlm_query_state order by query;


xid |task|query|service_| wlm_start_  |  state  |queue_ | exec_
    |    |     |class   | time        |         |time   | time
----+----+-----+--------+-------------+---------+-------+--------
2645| 84 | 98  | 3      | 2010-10-... |Returning|   0   | 3438369
2650| 85 | 100 | 3      | 2010-10-... |Waiting  |   0   | 1645879
2660| 87 | 101 | 2      | 2010-10-... |Executing|   0   | 916046
2661| 88 | 102 | 1      | 2010-10-... |Executing|   0   | 13291
(4 rows)
</code></pre>
         <h2 id="wlm-service-class-ids">ID de classe de service WLM.</h2>
         
       <p>Le tableau suivant répertorie les ID attribuées aux classes de service.</p>  
         
         <div class="table-container"><div class="table-contents"><table id="w319aac43c59c19b5"><thead>
                  <tr>
                     <th>ID </th>
                     <th>Classe de service </th>
                  </tr>
               </thead>
                  <tr>
                     <td tabindex="-1">1 – 4</td>
                     <td tabindex="-1">Réservé au système. </td>
                  </tr> 
                  <tr>
                     <td tabindex="-1">5</td>
                     <td tabindex="-1">Utilisé par la file d’attente de super-utilisateur. </td>
                  </tr> 
                  <tr>
                     <td tabindex="-1">6 – 13</td>
                     <td tabindex="-1">Utilisé par les files d’attente de la gestion manuelle de la charge de travail définies dans la configuration WLM. </td>
                  </tr> 
                  <tr>
                     <td tabindex="-1">14</td>
                     <td tabindex="-1">Utilisé par l’accélération des requêtes courtes. </td>
                  </tr> 
                  <tr>
                     <td tabindex="-1">15</td>
                     <td tabindex="-1">Réservé pour les activités de maintenance exécutées par Amazon Redshift. </td>
                  </tr>  
                  <tr>
                     <td tabindex="-1">100 – 107</td>
                     <td tabindex="-1">Utilisé par la file d’attente de la gestion automatique de la charge de travail lorsque <b>auto_wlm</b> a la valeur true. </td>
                  </tr>                     

               </table></div></div>                  
         
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avertissement" /> <strong>JavaScript est désactivé ou n'est pas disponible dans votre navigateur.</strong></p><p>Pour que vous puissiez utiliser la documentation AWS, Javascript doit être activé. Vous trouverez des instructions sur les pages d'aide de votre navigateur.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Conventions de rédaction</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./cm-c-wlm-query-monitoring-rules.html">Règles de surveillance de requête</div><div id="next" class="next-link" accesskey="n" href="./r_Database_objects.html">Gestion de la sécurité de la base de données</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Oui</div><div class="content"><p>Merci de nous avoir fait part de votre satisfaction.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer ce qui vous a plu afin que nous puissions nous améliorer davantage.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Non</div><div class="content"><p>Merci de nous avoir avertis que cette page avait besoin d'être retravaillée. Nous sommes désolés de ne pas avoir répondu à vos attentes.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer comment nous pourrions améliorer cette documentation.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>