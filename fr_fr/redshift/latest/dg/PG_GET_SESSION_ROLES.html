<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="fr-FR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>PG_GET_SESSION_ROLES - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="PG_GET_SESSION_ROLES" /><meta name="default_state" content="PG_GET_SESSION_ROLES" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/PG_GET_SESSION_ROLES.html" /><meta name="description" content="Renvoie des informations sur les rôles de session." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guide du développeur de base de données" /><meta name="abstract" content="Créez et gérez un entrepôt de données avec Amazon Redshift, service d’entrepôt de données au niveau de l’entreprise, pouvant atteindre plusieurs Po et entièrement géré." /><meta name="guide-locale" content="fr_fr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/PG_GET_SESSION_ROLES.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guide du développeur de base de données" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guide du développeur de base de données" /><meta id="panorama-serviceConsolePage" value="PG_GET_SESSION_ROLES" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>PG_GET_SESSION_ROLES - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#PG_GET_SESSION_ROLES" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/PG_GET_SESSION_ROLES.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/PG_GET_SESSION_ROLES.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/PG_GET_SESSION_ROLES.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,entrepôt de données,développeur,exemples de données,database,développeur de base de données,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guide du développeur de base de données",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Référence SQL",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Référence sur les fonctions SQL",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c_SQL_functions.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Fonctions d’informations système",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_System_information_functions.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "PG_GET_SESSION_ROLES",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_System_information_functions.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#PG_GET_SESSION_ROLES" target="_blank" rel="noopener noreferrer" title="Ouvrir le PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guide du développeur de base de données</a></div><div id="page-toc-src"><a href="#PG_GET_LATE_BINDING_VIEW_COLS-synopsis">Syntaxe</a><a href="#PG_GET_SESSION_ROLES-return-type">Type de retour</a><a href="#PG_GET_SESSION_ROLES-usage-notes">Notes d’utilisation</a><a href="#PG_GET_SESSION_ROLES-example">Exemples</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Les traductions sont fournies par des outils de traduction automatique. En cas de conflit entre le contenu d'une traduction et celui de la version originale en anglais, la version anglaise prévaudra.</p></awsui-alert><h1 class="topictitle" id="PG_GET_SESSION_ROLES">PG_GET_SESSION_ROLES</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Renvoie les rôles de session de l’utilisateur actuellement connecté. Les rôles de session d’un utilisateur sont les groupes définis par un fournisseur d’identité (IdP) pour l’utilisateur connecté. Par exemple, un fournisseur d’identité (IdP) tel que <a href="https://azure.microsoft.com/en-us/services/active-directory/" rel="noopener noreferrer" target="_blank"><span>Microsoft Azure Active Directory (Azure AD)</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> vérifie l’identité de l’utilisateur et fournit tous les groupes externes auxquels l’utilisateur appartient pendant le processus de connexion de l’utilisateur. Ces groupes externes sont transformés en rôles Amazon Redshift et sont disponibles pendant la session en cours. Ces rôles sont appelés rôles de session. Un administrateur peut accorder des privilèges à un rôle de session de la même façon qu’aux autres rôles Amazon Redshift. Pour plus d’informations sur l’utilisation des rôles, consultez <a href="./t_Roles.html">Contrôle d’accès basé sur les rôles (RBAC)</a>. Pour obtenir des informations sur la gestion des identités auprès d’un fournisseur d’identité (IdP), consultez <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/redshift-iam-access-control-native-idp.html">Fédération de fournisseurs d’identité natifs pour Amazon Redshift</a> dans le <em>Guide de gestion Amazon Redshift</em>.</p><p>Pour voir les rôles définis dans le catalogue Amazon Redshift, connectez-vous à la base de données en tant qu’administrateur ou super-utilisateur et interrogez la vue système <a href="./r_SVV_ROLES.html">SVV_ROLES</a>.</p>
            <h2 id="PG_GET_LATE_BINDING_VIEW_COLS-synopsis">Syntaxe</h2>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">pg_get_session_roles()</code></pre>
          
            <h2 id="PG_GET_SESSION_ROLES-return-type">Type de retour</h2>
            <p>Ensemble de lignes composé de deux valeurs. La première valeur comporte deux parties séparées par deux points (:) et contient <code class="code">idp-namespace:role-name</code>. <code class="code">idp-namespace</code> est l’espace de noms du fournisseur d’identité (IdP). <code class="code">role-name</code> est le nom du groupe externe figurant dans le fournisseur d’identité (IdP). La deuxième valeur contient un <code class="code">role-id</code> qui est l’identifiant du rôle.</p>
          
            <h2 id="PG_GET_SESSION_ROLES-usage-notes">Notes d’utilisation</h2>
            
            <p>La fonction <code class="code">PG_GET_SESSION_ROLES</code> renvoie une ligne pour chaque rôle de session renvoyé.</p>
          
            <h2 id="PG_GET_SESSION_ROLES-example">Exemples</h2>
            
            <p>L’exemple suivant renvoie une ligne pour chaque rôle à partir du fournisseur d’identité Azure Active Directory. Les colonnes renvoyées sont converties en <code class="code">sess_roles</code> avec des colonnes <code class="code">name</code> et <code class="code">roleid</code>. Chaque <code class="code">name</code> se compose de l’espace de noms Azure Active Directory et d’un nom de groupe dans Azure Active Directory.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql "><code class="userinput">SELECT * FROM pg_get_session_roles() AS sess_roles(name name, roleid integer);</code>
<code class="computeroutput" copy="false">
name                  roleid
--------------------------------
my_aad:test_group_1   106204
my_aad:test_group_2   106205
my_aad:test_group_3   106206
my_aad:test_group_4   106207
my_aad:test_group_5   106208   
</code></code></pre>
            
            <p>L’exemple suivant renvoie une ligne pour chaque groupe IAM dont l’utilisateur IAM actuellement connecté est membre. Les colonnes renvoyées sont converties en <code class="code">sess_roles</code> avec des colonnes <code class="code">name</code> et <code class="code">roleid</code>. Chaque <code class="code">name</code> se compose de l’espace de noms IAM et du nom du groupe IAM.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql "><code class="userinput">SELECT * FROM pg_get_session_roles() AS sess_roles(name name, roleid integer);</code>
<code class="computeroutput" copy="false">
name                  roleid
--------------------------------
IAM:myGroup           110332
</code></code></pre>
            
            
            
         <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avertissement" /> <strong>JavaScript est désactivé ou n'est pas disponible dans votre navigateur.</strong></p><p>Pour que vous puissiez utiliser la documentation AWS, Javascript doit être activé. Vous trouverez des instructions sur les pages d'aide de votre navigateur.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Conventions de rédaction</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./PG_GET_LATE_BINDING_VIEW_COLS.html">PG_GET_LATE_BINDING_VIEW_COLS</div><div id="next" class="next-link" accesskey="n" href="./PG_LAST_COPY_COUNT.html">PG_LAST_COPY_COUNT</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Oui</div><div class="content"><p>Merci de nous avoir fait part de votre satisfaction.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer ce qui vous a plu afin que nous puissions nous améliorer davantage.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/PG_GET_SESSION_ROLES.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Non</div><div class="content"><p>Merci de nous avoir avertis que cette page avait besoin d'être retravaillée. Nous sommes désolés de ne pas avoir répondu à vos attentes.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer comment nous pourrions améliorer cette documentation.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/PG_GET_SESSION_ROLES.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>