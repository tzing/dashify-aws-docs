<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="fr-FR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Révision des alertes de requêtes - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="c-reviewing-query-alerts" /><meta name="default_state" content="c-reviewing-query-alerts" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-reviewing-query-alerts.html" /><meta name="description" content="Décrit comment utiliser la table STL_ALERT_EVENT_LOG pour identifier les problèmes de performances de requête." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guide du développeur de base de données" /><meta name="abstract" content="Créez et gérez un entrepôt de données avec Amazon Redshift, service d’entrepôt de données au niveau de l’entreprise, pouvant atteindre plusieurs Po et entièrement géré." /><meta name="guide-locale" content="fr_fr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-reviewing-query-alerts.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/c-reviewing-query-alerts.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/c-reviewing-query-alerts.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/c-reviewing-query-alerts.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/c-reviewing-query-alerts.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/c-reviewing-query-alerts.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/c-reviewing-query-alerts.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/c-reviewing-query-alerts.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/c-reviewing-query-alerts.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-reviewing-query-alerts.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-reviewing-query-alerts.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/c-reviewing-query-alerts.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/c-reviewing-query-alerts.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/c-reviewing-query-alerts.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/c-reviewing-query-alerts.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/c-reviewing-query-alerts.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/c-reviewing-query-alerts.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c-reviewing-query-alerts.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c-reviewing-query-alerts.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/c-reviewing-query-alerts.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/c-reviewing-query-alerts.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/c-reviewing-query-alerts.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guide du développeur de base de données" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guide du développeur de base de données" /><meta id="panorama-serviceConsolePage" value="Révision des alertes de requêtes" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Révision des alertes de requêtes - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#c-reviewing-query-alerts" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-reviewing-query-alerts.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-reviewing-query-alerts.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-reviewing-query-alerts.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,entrepôt de données,développeur,exemples de données,database,développeur de base de données,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guide du développeur de base de données",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Réglage de performances des requêtes",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-optimizing-query-performance.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Analyse et amélioration des requêtes",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-query-tuning.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Révision des alertes de requêtes",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-query-tuning.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#c-reviewing-query-alerts" target="_blank" rel="noopener noreferrer" title="Ouvrir le PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guide du développeur de base de données</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Les traductions sont fournies par des outils de traduction automatique. En cas de conflit entre le contenu d'une traduction et celui de la version originale en anglais, la version anglaise prévaudra.</p></awsui-alert><h1 class="topictitle" id="c-reviewing-query-alerts">Révision des alertes de requêtes</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Pour utiliser la table système <a href="./r_STL_ALERT_EVENT_LOG.html">STL_ALERT_EVENT_LOG</a> afin d’identifier et de corriger d’éventuels problèmes de performances avec votre requête, procédez comme suit :</p><div class="orderedlist">
             
             
             
         <ol><li>
               <p>Exécutez la commande suivante pour déterminer l’ID de votre requête :</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select query, elapsed, substring
from svl_qlog
order by query
desc limit 5;               </code></pre>

               <p>Examinez le texte de la requête tronquée dans le champ <code class="code">substring</code> pour déterminer quelle valeur de <code class="code">query</code> sélectionner. Si vous avez exécuté la requête plusieurs fois, utilisez la valeur de <code class="code">query</code> de la ligne avec la valeur de <code class="code">elapsed</code> inférieure. Il s’agit de la ligne de la version compilée. Si vous avez exécuté un grand nombre de requêtes, vous pouvez augmenter la valeur utilisée par la clause LIMIT utilisée pour vous assurer que votre requête est incluse.</p>
            </li><li>
               <p>Sélectionnez des lignes dans STL_ALERT_EVENT_LOG pour votre requête :</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">Select * from stl_alert_event_log where query = <em>MyQueryID</em>;               </code></pre>
               <div class="mediaobject">
                   
                     <img src="images/stl_alert_event_log_results.png" class="aws-docs-img-whiteBg aws-docs-img-padding" />
                   
               </div>
            </li><li>
               <p>Evaluez les résultats de votre requête. Utilisez le tableau suivant pour rechercher des solutions possibles aux problèmes que vous avez identifiés.</p>
               <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Toutes les requêtes ne contiennent pas des lignes dans STL_ALERT_EVENT_LOG, seules celles ayant des problèmes identifiés.</p></div></div>
               <div class="table-container"><div class="table-contents"><table id="w319aac41c15b9b5b5b5"><thead>
                        <tr>
                           <th>Problème</th>
                           <th>Valeur de l’événement</th>
                           <th>Valeur de la solution</th>
                           <th>Solution recommandée</th>
                        </tr>
                     </thead>
                        <tr>
                           <td tabindex="-1">Les statistiques des tables de la requête sont manquantes ou ne sont pas à jour.</td>
                           <td tabindex="-1">Statistiques du planificateur de requête manquantes</td>
                           <td tabindex="-1">Exécuter la commande ANALYZE </td>
                           <td tabindex="-1">veuillez consulter <a href="./query-performance-improvement-opportunities.html#table-statistics-missing-or-out-of-date">Statistiques de table manquantes ou obsolètes</a>.</td>
                        </tr>
                        <tr>
                           <td tabindex="-1">Le plan de requête contient une jointure de boucle imbriquée (la jointure la moins optimale).</td>
                           <td tabindex="-1">Jointure de boucle imbriquée dans le plan de requête</td>
                           <td tabindex="-1">Vérifiez les prédicats de jointure pour éviter les produits cartésiens </td>
                           <td tabindex="-1">veuillez consulter <a href="./query-performance-improvement-opportunities.html#nested-loop">Boucle imbriquée</a>.</td>
                        </tr>
                        
                        <tr>
                           <td tabindex="-1">L’analyse a ignoré un certain nombre de lignes qui sont marquées comme supprimées, mais pas vidées, ou des lignes qui ont été ajoutées mais pas la validées. </td>
                           <td tabindex="-1">Analyse d’un grand nombre de lignes supprimées</td>
                           <td tabindex="-1">Exécutez la commande VACUUM pour récupérer l’espace supprimé </td>
                           <td tabindex="-1"> veuillez consulter <a href="./query-performance-improvement-opportunities.html#ghost-rows-or-uncommitted-rows">Lignes fantômes ou non validées</a>. </td>
                        </tr>
                        <tr>
                           <td tabindex="-1">Plus de 1 000 000 de lignes ont été redistribuées pour une jointure par hachage ou une agrégation. </td>
                           <td tabindex="-1">Distribution d'un grand nombre de lignes sur le réseau : des RowCount  lignes ont été distribuées afin de traiter l'agrégation</td>
                           <td tabindex="-1">Vérifiez le choix de clé de distribution pour colocaliser la jointure ou l’agrégation </td>
                           <td tabindex="-1"> veuillez consulter <a href="./query-performance-improvement-opportunities.html#suboptimal-data-distribution">Distribution des données sous-optimales</a>. </td>
                        </tr>
                        <tr>
                           <td tabindex="-1">Plus de 1 000 000 de lignes ont été diffusées pour une jointure par hachage. </td>
                           <td tabindex="-1">Diffusion d’un grand nombre de lignes sur le réseau</td>
                           <td tabindex="-1">Vérifiez le choix de clé de distribution pour colocaliser la jointure et pensez à utiliser des tables distribuées </td>
                           <td tabindex="-1"> veuillez consulter <a href="./query-performance-improvement-opportunities.html#suboptimal-data-distribution">Distribution des données sous-optimales</a>. </td>
                        </tr>
                        <tr>
                           <td tabindex="-1">Un style de redistribution DS_DIST_ALL_INNER a été indiqué dans le plan de requête, ce qui force une exécution en série, car la totalité de la table interne a été redistribuée sur un seul nœud.</td>
                           <td tabindex="-1">DS_DIST_ALL_INNER pour la jointure par hachage dans le plan de requête</td>
                           <td tabindex="-1">Vérifiez le choix de stratégie de distribution pour distribuer la table interne, plutôt qu’externe </td>
                           <td tabindex="-1"> veuillez consulter <a href="./query-performance-improvement-opportunities.html#suboptimal-data-distribution">Distribution des données sous-optimales</a>. </td>
                        </tr>
                     </table></div></div>
            </li></ol></div><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avertissement" /> <strong>JavaScript est désactivé ou n'est pas disponible dans votre navigateur.</strong></p><p>Pour que vous puissiez utiliser la documentation AWS, Javascript doit être activé. Vous trouverez des instructions sur les pages d'aide de votre navigateur.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Conventions de rédaction</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./c-query-analysis-process.html">Flux de travail d’analyse des requêtes</div><div id="next" class="next-link" accesskey="n" href="./c-analyzing-the-query-plan.html">Analyse du plan de requête</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Oui</div><div class="content"><p>Merci de nous avoir fait part de votre satisfaction.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer ce qui vous a plu afin que nous puissions nous améliorer davantage.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-reviewing-query-alerts.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Non</div><div class="content"><p>Merci de nous avoir avertis que cette page avait besoin d'être retravaillée. Nous sommes désolés de ne pas avoir répondu à vos attentes.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer comment nous pourrions améliorer cette documentation.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-reviewing-query-alerts.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>