<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="fr-FR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Vues matérialisées automatisées - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="materialized-view-auto-mv" /><meta name="default_state" content="materialized-view-auto-mv" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/materialized-view-auto-mv.html" /><meta name="description" content="Découvrez les vues matérialisées automatisées." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guide du développeur de base de données" /><meta name="abstract" content="Créez et gérez un entrepôt de données avec Amazon Redshift, service d’entrepôt de données au niveau de l’entreprise, pouvant atteindre plusieurs Po et entièrement géré." /><meta name="guide-locale" content="fr_fr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/materialized-view-auto-mv.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guide du développeur de base de données" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guide du développeur de base de données" /><meta id="panorama-serviceConsolePage" value="Vues matérialisées automatisées" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Vues matérialisées automatisées - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#materialized-view-auto-mv" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/materialized-view-auto-mv.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/materialized-view-auto-mv.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/materialized-view-auto-mv.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,entrepôt de données,développeur,exemples de données,database,développeur de base de données,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guide du développeur de base de données",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Création de vues matérialisées dans Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/materialized-view-overview.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Vues matérialisées automatisées",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/materialized-view-overview.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#materialized-view-auto-mv" target="_blank" rel="noopener noreferrer" title="Ouvrir le PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guide du développeur de base de données</a></div><div id="page-toc-src"><a href="#materialized-view-auto-mv-important">Portée et considérations SQL pour les vues matérialisées automatisées</a><a href="#materialized-view-auto-mv-limitations">Vues matérialisées automatisées</a><a href="#materialized-view-auto-mv-billing">Facturation pour les vues matérialisées automatisées</a><a href="#materialized-view-auto-mv-resources">Ressources supplémentaires</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Les traductions sont fournies par des outils de traduction automatique. En cas de conflit entre le contenu d'une traduction et celui de la version originale en anglais, la version anglaise prévaudra.</p></awsui-alert><h1 class="topictitle" id="materialized-view-auto-mv">Vues matérialisées automatisées</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Les vues matérialisées sont un outil performant pour améliorer les performances des requêtes dans Amazon Redshift. Pour ce faire, elles stockent un ensemble de résultats précalculé. Les requêtes similaires n’ont pas besoin de réexécuter la même logique à chaque fois, car elles peuvent récupérer les enregistrements de l’ensemble de résultats existant. Les développeurs et les analystes créent des vues matérialisées après avoir analysé leurs charges de travail afin de déterminer quelles requêtes seraient bénéfiques et si le coût de maintenance de chaque vue matérialisée en vaut la peine. À mesure que les charges de travail augmentent ou changent, ces vues matérialisées doivent être examinées pour s’assurer qu’elles continuent d’offrir des avantages tangibles en matière de performances.</p><p>La fonction Vues matérialisées automatisées (AutoMV) de Redshift offre les mêmes avantages en termes de performances que les vues matérialisées créées par l’utilisateur. Amazon Redshift surveille constamment la charge de travail à l’aide du machine learning et crée des vues matérialisées lorsqu’elles sont bénéfiques. La fonction AutoMV équilibre les coûts de création et de mise à jour des vues matérialisées par rapport aux avantages attendus liés à la latence des requêtes. Le système surveille également les vues matérialisées automatisées créés précédemment et les supprime lorsqu’ils ne sont plus bénéfiques.</p><p>Le comportement et les capacités d’AutoMV sont les mêmes que les vues matérialisées créées par l’utilisateur. Elles sont actualisées automatiquement et progressivement, en utilisant les mêmes critères et restrictions. Tout comme les vues matérialisées créées par les utilisateurs, <a href="./materialized-view-auto-rewrite.html">Réécriture automatique des requêtes pour utiliser des vues matérialisées</a> identifie les requêtes qui peuvent bénéficier des vues matérialisées automatisées créées par le système. Il réécrit automatiquement ces requêtes pour utiliser les AutoMVS, améliorant ainsi les performances des requêtes. Les développeurs n’ont pas besoin de corriger les requêtes pour tirer parti d’AutoMV.</p><p></p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Les vues matérialisées automatisées sont actualisées par intermittence. Les requêtes réécrites pour utiliser AutoMV renvoient toujours les derniers résultats. Lorsque Redshift détecte que les données ne sont pas à jour, les requêtes ne sont pas réécrites pour être lues à partir de vues matérialisées automatisées. Les requêtes sélectionnent plutôt les données les plus récentes à partir des tables de base.</p></div></div><p>Toute charge de travail comportant des requêtes utilisées à plusieurs reprises peut bénéficier d’AutoMV. Cas d’utilisation courants :</p><div class="itemizedlist">
             

             
        <ul class="itemizedlist"><li class="listitem"><p><em>Tableaux de bord</em> : les tableaux de bord sont largement utilisés pour fournir des vues rapides des indicateurs de performance clés (KPI), des événements, des tendances et d’autres métriques. Ils ont souvent une disposition commune avec des diagrammes et des tableaux, mais présentent des vues différentes pour le filtrage ou pour les opérations de sélection de dimensions, comme l’exploration vers le bas. Les tableaux de bord ont souvent un ensemble commun de requêtes utilisées à plusieurs reprises avec différents paramètres. Les requêtes de tableau de bord peuvent bénéficier grandement des vues matérialisées automatisées.</p></li><li class="listitem">
                <p> <em>Rapports</em> : les requêtes de rapport peuvent être planifiées à diverses fréquences, en fonction des besoins métier et du type de rapport. En outre, elles peuvent être automatisées ou à la demande. L’une des caractéristiques courantes des requêtes de rapport est qu’elles peuvent s’avérer longues et gourmandes en ressources. Avec AutoMV, ces requêtes n’ont pas besoin d’être recalculées à chacune de leur exécution, ce qui réduit le temps d’exécution pour chaque requête ainsi que l’utilisation de ressources dans Redshift. </p>
            </li></ul></div><p>Pour désactiver les vues matérialisées automatisées, vous mettez à jour le groupe de paramètres <code class="code">auto_mv</code> sur <code class="code">false</code>. Pour plus d’informations, consultez <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/working-with-parameter-groups.html">Groupes de paramètres Amazon Redshift</a> dans le Guide de gestion du cluster Amazon Redshift.</p>
            <h2 id="materialized-view-auto-mv-important">Portée et considérations SQL pour les vues matérialisées automatisées</h2>
            <div class="itemizedlist">
                 
                 
                
                 
   
   
                 
            <ul class="itemizedlist"><li class="listitem"><p>Une vue matérialisée automatisée peut être déclenchée et créée par une requête ou une sous-requête, à condition qu’elle contienne une clause <code class="code">GROUP BY</code> ou l’une des fonctions d’agrégation suivantes : SUM, COUNT, MIN, MAX ou AVG. Cependant, elle ne peut contenir aucun des éléments suivants :</p>
                <div class="itemizedlist">
                     
                     
                     
                     
                     
                
                     
                <ul class="itemizedlist"><li class="listitem"><p>Outer join left, right ou full</p></li><li class="listitem"><p>Fonctions d’agrégation autres que SUM, COUNT, MIN, MAX et AVG. (Ces fonctions particulières font appel à la réécriture automatique des requêtes).</p></li><li class="listitem"><p>Toute fonction d’agrégation qui inclut DISTINCT</p></li><li class="listitem"><p>Toutes les fonctions de fenêtrage</p></li><li class="listitem"><p>Clauses SELECT DISTINCT ou HAVING</p></li><li class="listitem"><p>Toute autre vue matérialisée</p></li></ul></div>
                    <p>Une requête qui répond aux critères ne lancera pas nécessairement la création d’une vue matérialisée automatisée. Le système détermine les candidats à partir desquels créer une vue, en fonction de l’avantage escompté pour la charge de travail et du coût en ressources à maintenir, ce qui inclut le coût d’actualisation du système. Chaque vue matérialisée qui en résulte est utilisable par la réécriture automatique de requêtes.</p></li><li class="listitem"><p>Même si AutoMV peut être lancé par le biais d’une sous-requête ou par des tronçons individuels d’opérateurs d’ensembles, la vue matérialisée qui en résulte ne contiendra pas de sous-requêtes ou d’opérateurs d’ensemble.</p></li><li class="listitem"><p>Pour déterminer si AutoMV a été utilisé pour les requêtes, consultez le plan EXPLAIN et cherchez l’élément <code class="code">%_auto_mv_%</code> dans la sortie. Pour obtenir plus d’informations, consultez <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_EXPLAIN.html">EXPLAIN</a>.</p></li><li class="listitem"><p>Les vues matérialisées automatisées ne sont pas prises en charge sur les tables externes, telles que les unités de partage des données et les tables fédérées.</p></li></ul></div>
         
            <h2 id="materialized-view-auto-mv-limitations">Vues matérialisées automatisées</h2>
            <p>Voici les limites de l’utilisation des vues matérialisées automatisées :</p>
            <div class="itemizedlist">
                 
        

                 

            <ul class="itemizedlist"><li class="listitem"><p><em>Maximum number of AutoMVs</em> (Nombre maximum d’AutoMV) : la limite des vues matérialisées automatisées est de 200 par base de données dans le cluster.</p></li><li class="listitem"><p><em>Storage space and capacity</em> (Espace et capacité de stockage) : une caractéristique importante d’AutoMV est qu’il s’exécute à l’aide de cycles en arrière-plan de secours pour aider à ce que les charges de travail des utilisateurs ne soient pas affectées. Si le cluster est occupé ou manque d’espace de stockage, AutoMV interrompt son activité. Plus précisément, à 80 % de la capacité totale du cluster, aucune nouvelle vue matérialisée automatisée n’est créée. À 90 % de la capacité totale, elles peuvent être supprimées afin que les charges de travail des utilisateurs se poursuivent sans dégradation des performances. Pour plus d’informations sur comment déterminer la capacité de cluster, consultez <a href="./r_STV_NODE_STORAGE_CAPACITY.html">STV_NODE_STORAGE_CAPACITY</a>.</p></li></ul></div>
         
            <h2 id="materialized-view-auto-mv-billing">Facturation pour les vues matérialisées automatisées</h2>
            <p> La fonctionnalité d’optimisation automatique d’Amazon Redshift crée et actualise les vues matérialisées automatisées. Les ressources de calcul utilisées dans le cadre de ce processus n’entraînent pas de frais. Le stockage des vues matérialisées automatisées est facturé au tarif normal du stockage. Pour plus d’informations, consultez <a href="https://aws.amazon.com/redshift/pricing/" rel="noopener noreferrer" target="_blank"><span>Tarification d’Amazon Redshift</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
         
            <h2 id="materialized-view-auto-mv-resources">Ressources supplémentaires</h2>
            <p> Le billet de blog suivant fournit des explications supplémentaires concernant les vues matérialisées automatisées, notamment sur la façon de les créer, de les gérer et de les supprimer. Il décrit également les algorithmes sous-jacents qui sous-tendent ces décisions : <a href="https://aws.amazon.com/blogs//big-data/optimize-your-amazon-redshift-query-performance-with-automated-materialized-views/" rel="noopener noreferrer" target="_blank"><span>Optimize your Amazon Redshift query performance with automated materialized views</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
      
            <p> Cette vidéo commence par une description des vues matérialisées et montre en quoi elles améliorent les performances et préservent les ressources. Elle décrit ensuite de manière approfondie les vues matérialisées automatisées avec une animation de flux de processus et une démonstration en direct. </p> 
            <div class="mediaobject">
                 
                    <iframe width="560" height="315" frameborder="0" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen="" sandbox="allow-scripts allow-same-origin allow-popups" src="https://www.youtube-nocookie.com/embed/-85GSBQOBTA"></iframe>
                 
            </div>
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avertissement" /> <strong>JavaScript est désactivé ou n'est pas disponible dans votre navigateur.</strong></p><p>Pour que vous puissiez utiliser la documentation AWS, Javascript doit être activé. Vous trouverez des instructions sur les pages d'aide de votre navigateur.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Conventions de rédaction</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./materialized-view-refresh.html">Actualisation d’une vue matérialisée</div><div id="next" class="next-link" accesskey="n" href="./materialized-view-UDFs.html">Utilisation d’une fonction définie par l’utilisateur (UDF) dans une vue matérialisée</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Oui</div><div class="content"><p>Merci de nous avoir fait part de votre satisfaction.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer ce qui vous a plu afin que nous puissions nous améliorer davantage.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/materialized-view-auto-mv.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Non</div><div class="content"><p>Merci de nous avoir avertis que cette page avait besoin d'être retravaillée. Nous sommes désolés de ne pas avoir répondu à vos attentes.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer comment nous pourrions améliorer cette documentation.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/materialized-view-auto-mv.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>