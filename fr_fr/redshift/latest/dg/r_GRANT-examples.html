<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="fr-FR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Exemples - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_GRANT-examples" /><meta name="default_state" content="r_GRANT-examples" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_GRANT-examples.html" /><meta name="description" content="Exemples d’utilisation de la commande GRANT SQL." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guide du développeur de base de données" /><meta name="abstract" content="Créez et gérez un entrepôt de données avec Amazon Redshift, service d’entrepôt de données au niveau de l’entreprise, pouvant atteindre plusieurs Po et entièrement géré." /><meta name="guide-locale" content="fr_fr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_GRANT-examples.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_GRANT-examples.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_GRANT-examples.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_GRANT-examples.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_GRANT-examples.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_GRANT-examples.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_GRANT-examples.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_GRANT-examples.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_GRANT-examples.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_GRANT-examples.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_GRANT-examples.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_GRANT-examples.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_GRANT-examples.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_GRANT-examples.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_GRANT-examples.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_GRANT-examples.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_GRANT-examples.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_GRANT-examples.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_GRANT-examples.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_GRANT-examples.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_GRANT-examples.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_GRANT-examples.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guide du développeur de base de données" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guide du développeur de base de données" /><meta id="panorama-serviceConsolePage" value="Exemples" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Exemples - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#r_GRANT-examples" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_GRANT-examples.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_GRANT-examples.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_GRANT-examples.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,entrepôt de données,développeur,exemples de données,database,développeur de base de données,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guide du développeur de base de données",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Référence SQL",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Commandes SQL",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "GRANT",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_GRANT.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Exemples",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_GRANT.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#r_GRANT-examples" target="_blank" rel="noopener noreferrer" title="Ouvrir le PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guide du développeur de base de données</a></div><div id="page-toc-src"><a href="#r_GRANT-examples-datashare">Exemples d’octroi du privilège USAGE pour les unités de partage des données</a><a href="#r_GRANT-examples-scoped">Exemples d’octroi d’autorisations étendues</a><a href="#r_GRANT-examples-assumerole">Exemples d’octroi du privilège ASSUMEROLE</a><a href="#r_GRANT-examples-role">Exemples d’octroi de privilèges ROLE</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Les traductions sont fournies par des outils de traduction automatique. En cas de conflit entre le contenu d'une traduction et celui de la version originale en anglais, la version anglaise prévaudra.</p></awsui-alert><h1 class="topictitle" id="r_GRANT-examples">Exemples</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p> L’exemple suivant accorde le privilège SELECT sur la table SALES à l’utilisateur <code class="code">fred</code>. </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql "><code class="userinput">grant select on table sales to fred;</code></code></pre><p>L’exemple suivant accorde le privilège SELECT sur toutes les tables du schéma QA_TICKIT à l’utilisateur <code class="code">fred</code>. </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql "><code class="userinput">grant select on all tables in schema qa_tickit to fred;</code></code></pre><p>L’exemple suivant accorde tous les privilèges de schéma sur le schéma QA_TICKIT au groupe d’utilisateurs QA_USERS. Les privilèges de schéma sont CREATE et USAGE. USAGE accorde aux utilisateurs l’accès aux objets du schéma, mais n’accorde pas les privilèges tels que INSERT or SELECT sur ces objets. Accordez des privilèges sur chaque objet séparément.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql "><code class="userinput">create group qa_users;
grant all on schema qa_tickit to group qa_users;</code></code></pre><p>L’exemple suivant accorde tous les privilèges sur la table SALES du schéma QA_TICKIT à tous les utilisateurs du groupe QA_USERS.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql "><code class="userinput">grant all on table qa_tickit.sales to group qa_users;</code></code></pre><p>L’exemple suivant accorde tous les privilèges sur la table SALES du schéma QA_TICKIT à tous les utilisateurs des groupes QA_USERS et RO_USERS.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql "><code class="userinput">grant all on table qa_tickit.sales to group qa_users, group ro_users;</code></code></pre><p>L’exemple suivant accorde le privilège DROP sur la table SALES du schéma QA_TICKIT à tous les utilisateurs du groupe QA_USERS.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql "><code class="userinput">grant drop on table qa_tickit.sales to group qa_users;&gt;</code></code></pre><p>La séquence de commandes suivante montre comment l’accès à un schéma n’accorde pas de privilèges sur une table du schéma. </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql "><code class="userinput">create user schema_user in group qa_users password 'Abcd1234';
create schema qa_tickit;
create table qa_tickit.test (col1 int);
grant all on schema qa_tickit to schema_user;

set session authorization schema_user;
select current_user;
</code>
<code class="computeroutput" copy="false">
current_user
--------------
schema_user
(1 row)
</code>
<code class="userinput">
select count(*) from qa_tickit.test;
</code>
<code class="computeroutput" copy="false">
ERROR: permission denied for relation test [SQL State=42501]
</code>
<code class="userinput">
set session authorization dw_user;
grant select on table qa_tickit.test to schema_user;
set session authorization schema_user;
select count(*) from qa_tickit.test;
</code>
<code class="computeroutput" copy="false">
count
-------
0
(1 row)</code></code></pre><p>La séquence de commandes suivante montre comment l’accès à une vue n’implique pas l’accès à ses tables sous-jacentes. L’utilisateur appelé VIEW_USER ne peut pas sélectionner à partir de la table DATE, même si cet utilisateur s’est vu accorder tous les privilèges sur VIEW_DATE. </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="userinput">create user view_user password 'Abcd1234';
create view view_date as select * from date;
grant all on view_date to view_user;
set session authorization view_user;
select current_user;
</code>
<code class="computeroutput" copy="false">
current_user
--------------
view_user
(1 row)
</code>
<code class="userinput">
select count(*) from view_date;
</code>
<code class="computeroutput" copy="false">
count
-------
365
(1 row)
</code>
<code class="userinput">
select count(*) from date;
</code>
<code class="computeroutput" copy="false">
ERROR:  permission denied for relation date</code></code></pre><p>L’exemple suivant accorde le privilège SELECT sur les colonnes <code class="code">cust_name</code> et <code class="code">cust_phone</code> de la table <code class="code">cust_profile</code> à l’utilisateur <code class="code">user1</code>. </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">grant select(cust_name, cust_phone) on cust_profile to user1;</code></pre><p>L’exemple suivant accorde le privilège SELECT sur les colonnes <code class="code">cust_name</code> et <code class="code">cust_phone</code> et le privilège UPDATE sur la colonne <code class="code">cust_contact_preference</code> de la table <code class="code">cust_profile</code> au groupe <code class="code">sales_group</code>. </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">grant select(cust_name, cust_phone), update(cust_contact_preference) on cust_profile to group sales_group;</code></pre><p>L’exemple suivant montre l’utilisation du mot-clé ALL pour accorder au groupe <code class="code">sales_admin</code> les privilèges SELECT et UPDATE sur trois colonnes de la table <code class="code">cust_profile</code>. </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">grant ALL(cust_name, cust_phone,cust_contact_preference) on cust_profile to group sales_admin;</code></pre><p>L’exemple suivant accorde à l’utilisateur <code class="code">user2</code> le privilège SELECT sur la colonne <code class="code">cust_name</code> de la vue <code class="code">cust_profile_vw</code>. </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">grant select(cust_name) on cust_profile_vw to user2;</code></pre>
            <h2 id="r_GRANT-examples-datashare">Exemples d’octroi d’accès à des unités de partage des données</h2>
            <p>Les exemples suivants illustrent les autorisations d’utilisation de partage de données GRANT sur une base de données spécifique ou un schéma créé à partir d’une unité de partage des données. </p>
            <p>Dans l’exemple suivant, un administrateur côté producteur accorde à l’espace de noms spécifié l’autorisation USAGE sur l’unité de partage des données <code class="code">salesshare</code>. </p>
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">GRANT USAGE ON DATASHARE salesshare TO NAMESPACE '13b8833d-17c6-4f16-8fe4-1a018f5ed00d';</code></pre>
            <p>Dans l’exemple suivant, un administrateur côté consommateur accorde à <code class="code">Bob</code> l’autorisation USAGE sur la base de données <code class="code">sales_db</code>.</p>
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">GRANT USAGE ON DATABASE sales_db TO Bob;</code></pre>
            <p>Dans l’exemple suivant, un administrateur côté consommateur accorde au rôle <code class="code">Analyst_role</code>l’autorisation GRANT USAGE sur le schéma <code class="code">sales_schema</code>. <code class="code">sales_schema</code> est un schéma externe qui pointe vers sales_db.</p>
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">GRANT USAGE ON SCHEMA sales_schema TO ROLE Analyst_role;</code></pre>
            <p>À ce stade, <code class="code">Bob</code> et <code class="code">Analyst_role</code> peuvent accéder à tous les objets de base de données dans <code class="code">sales_schema</code> et<code class="code">sales_db</code>.</p>
            <p>L’exemple suivant montre comment accorder une autorisation de niveau objet supplémentaire pour les objets d’une base de données partagée. Ces autorisations supplémentaires ne sont nécessaires que si la commande CREATE DATABASE utilisée pour créer la base de données partagée utilisait la clause WITH PERMISSIONS. Si la commande CREATE DATABASE n’a pas utilisé la clause WITH PERMISSIONS, accorder l’autorisation USAGE sur la base de données partagée donne un accès complet à tous les objets de cette base de données.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">GRANT SELECT ON sales_db.sales_schema.tickit_sales_redshift to Bob;</code></pre>
          
            <h2 id="r_GRANT-examples-scoped">Exemples d’octroi d’autorisations étendues</h2>
            
            <p>L’exemple suivant autorise le rôle <code class="code">Sales</code> à utiliser tous les schémas actuels et futurs de la base de données <code class="code">Sales_db</code>.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">GRANT USAGE FOR SCHEMAS IN DATABASE Sales_db TO ROLE Sales;</code></pre>
            <p>L’exemple suivant accorde à l’utilisateur <code class="code">alice</code> l’autorisation SELECT pour toutes les tables actuelles et futures de la base de données <code class="code">Sales_db</code>, et donne aussi à <code class="code">alice</code> l’autorisation d’accorder à d’autres utilisateurs des autorisations étendues sur les tables de <code class="code">Sales_db</code>.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">GRANT SELECT FOR TABLES IN DATABASE Sales_db TO alice WITH GRANT OPTION;</code></pre>
            <p>L’exemple suivant accorde à l’utilisateur <code class="code">bob</code> l’autorisation EXECUTE pour les fonctions du schéma <code class="code">Sales_schema</code>.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">GRANT EXECUTE FOR FUNCTIONS IN SCHEMA Sales_schema TO bob;</code></pre>
            <p>L’exemple suivant accorde au <code class="code">Sales</code> rôle toutes les autorisations pour toutes les tables du schéma <code class="code">ShareSchema</code> de la base de données <code class="code">ShareDb</code>. Lorsque vous spécifiez le schéma, vous pouvez spécifier la base de données du schéma en utilisant le format en deux parties <code class="code">database.schema</code>.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">GRANT ALL FOR TABLES IN SCHEMA ShareDb.ShareSchema TO ROLE Sales;</code></pre>
            <p>L’exemple suivant est le même que le précédent. Vous pouvez spécifier la base de données à l’aide du mot-clé <code class="code">DATABASE</code> au lieu d’utiliser un format en deux parties.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">GRANT ALL FOR TABLES IN SCHEMA ShareSchema DATABASE ShareDb TO ROLE Sales;</code></pre>
            
          
            <h2 id="r_GRANT-examples-assumerole">Exemples d’octroi du privilège ASSUMEROLE </h2>
            <p>Voici des exemples d’octroi du privilège ASSUMEROLE.</p>
            <p>L’exemple suivant montre l’instruction REVOKE qu’un super-utilisateur exécute une fois sur le cluster pour activer l’utilisation du privilège ASSUMEROLE pour les utilisateurs et les groupes. Ensuite, le super-utilisateur accorde le privilège ASSUMEROLE aux utilisateurs et aux groupes pour les commandes appropriées. Pour obtenir des informations sur l’activation du privilège ASSUMEROLE pour les utilisateurs et les groupes, consultez <a href="./r_GRANT-usage-notes.html#r_GRANT-usage-notes-assumerole">Notes d’utilisation pour l’octroi de l’autorisation ASSUMEROLE</a>.</p>
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">revoke assumerole on all from public for all;</code></pre>
            
            <p>L’exemple suivant accorde le privilège ASSUMEROLE à l’utilisateur <code class="code">reg_user1</code> pour le rôle IAM <code class="code">Redshift-S3-Read</code> pour effectuer des opérations COPY. </p>
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">grant assumerole on 'arn:aws:iam::123456789012:role/Redshift-S3-Read'
to reg_user1 for copy;</code></pre>
            
            <p>L’exemple suivant accorde le privilège ASSUMEROLE à l’utilisateur <code class="code">reg_user1</code> pour la chaîne de rôles IAM <code class="code">RoleA</code>, <code class="code">RoleB</code> pour effectuer des opérations UNLOAD. </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">grant assumerole
on 'arn:aws:iam::123456789012:role/RoleA,arn:aws:iam::210987654321:role/RoleB'
to reg_user1
for unload; </code></pre>
            <p>Voici un exemple de commande UNLOAD utilisant la chaîne de rôles IAM <code class="code">RoleA</code>, <code class="code">RoleB</code>.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">unload ('select * from venue limit 10')
to 's3://companyb/redshift/venue_pipe_'
iam_role 'arn:aws:iam::123456789012:role/RoleA,arn:aws:iam::210987654321:role/RoleB';
</code></pre>
            <p>L’exemple suivant accorde le privilège ASMEROLE à l’utilisateur <code class="code">reg_user1</code> pour le rôle IAM <code class="code">Redshift-Exfunc</code> pour créer des fonctions externes. </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">grant assumerole on 'arn:aws:iam::123456789012:role/Redshift-Exfunc'
to reg_user1 for external function;
</code></pre>
            <p>L’exemple suivant accorde le privilège ASSUMEROLE à l’utilisateur <code class="code">reg_user1</code> pour le rôle IAM <code class="code">Redshift-model</code> pour créer des modèles de machine learning. </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">grant assumerole on 'arn:aws:iam::123456789012:role/Redshift-ML'
to reg_user1 for create model;
</code></pre>
          
            <h2 id="r_GRANT-examples-role">Exemples d’octroi de privilèges ROLE</h2>
            <p>L’exemple suivant accorde le rôle sample_role1 à l’utilisateur user1.</p>
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">CREATE ROLE sample_role1;
GRANT ROLE sample_role1 TO user1;</code></pre>
            <p>L’exemple suivant accorde le rôle sample_role1 à l’utilisation user1 avec la clause WITH ADMIN OPTION, définit la séance actuelle pour user1, et user1 accorde le rôle sample_role1 à l’utilisateur user2.</p>
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">GRANT ROLE sample_role1 TO user1 WITH ADMIN OPTION;
SET SESSION AUTHORIZATION user1;
GRANT ROLE sample_role1 TO user2;</code></pre>
            <p>L’exemple suivant accorde le rôle sample_role1 au rôle sample_role2.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">GRANT ROLE sample_role1 TO ROLE sample_role2;</code></pre>
            <p>L’exemple suivant accorde le rôle sample_role2 au rôle sample_role3 et au rôle sample_role4. Ensuite, il tente d’accorder le rôle sample_role3 au rôle sample_role1.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">GRANT ROLE sample_role2 TO ROLE sample_role3;
GRANT ROLE sample_role3 TO ROLE sample_role2;
ERROR: cannot grant this role, a circular dependency was detected between these roles</code></pre>
            <p>L’exemple suivant accorde les privilèges système CREATE USER au rôle sample_role1.</p>
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">GRANT CREATE USER TO ROLE sample_role1;</code></pre>
            <p>L’exemple suivant accorde le rôle défini par le système <code class="code">sys:dba</code> à l’utilisateur user1.</p>
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">GRANT ROLE sys:dba TO user1;</code></pre>
            <p>L’exemple suivant tente d’accorder le rôle sample_role3 dans une dépendance circulaire au rôle sample_role2.</p>
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE ROLE sample_role3;
GRANT ROLE sample_role2 TO ROLE sample_role3;
GRANT ROLE sample_role3 TO ROLE sample_role2; -- fail
ERROR:  cannot grant this role, a circular dependency was detected between these roles</code></pre>
         <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avertissement" /> <strong>JavaScript est désactivé ou n'est pas disponible dans votre navigateur.</strong></p><p>Pour que vous puissiez utiliser la documentation AWS, Javascript doit être activé. Vous trouverez des instructions sur les pages d'aide de votre navigateur.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Conventions de rédaction</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_GRANT-usage-notes.html">Notes d’utilisation</div><div id="next" class="next-link" accesskey="n" href="./r_INSERT_30.html">INSERT</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Oui</div><div class="content"><p>Merci de nous avoir fait part de votre satisfaction.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer ce qui vous a plu afin que nous puissions nous améliorer davantage.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_GRANT-examples.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Non</div><div class="content"><p>Merci de nous avoir avertis que cette page avait besoin d'être retravaillée. Nous sommes désolés de ne pas avoir répondu à vos attentes.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer comment nous pourrions améliorer cette documentation.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_GRANT-examples.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>