<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="fr-FR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>CREATE DATABASE - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_CREATE_DATABASE" /><meta name="default_state" content="r_CREATE_DATABASE" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_CREATE_DATABASE.html" /><meta name="description" content="Crée une nouvelle base de données." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guide du développeur de base de données" /><meta name="abstract" content="Créez et gérez un entrepôt des données avec Amazon Redshift, service d’entrepôt des données au niveau de l’entreprise, pouvant atteindre plusieurs Po et entièrement géré." /><meta name="guide-locale" content="fr_fr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_CREATE_DATABASE.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guide du développeur de base de données" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guide du développeur de base de données" /><meta id="panorama-serviceConsolePage" value="CREATE DATABASE" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>CREATE DATABASE - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#r_CREATE_DATABASE" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_CREATE_DATABASE.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_CREATE_DATABASE.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_CREATE_DATABASE.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,entrepôt des données,développeur,exemples de données,database,développeur de base de données,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guide du développeur de base de données",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Référence SQL",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Commandes SQL",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "CREATE DATABASE",
        "item" : "https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c_SQL_commands.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#r_CREATE_DATABASE" target="_blank" rel="noopener noreferrer" title="Ouvrir le PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guide du développeur de base de données</a></div><div id="page-toc-src"><a href="#r_CREATE_DATABASE-synopsis">Syntaxe</a><a href="#r_CREATE_DATABASE-parameters">Paramètres</a><a href="#r_CREATE_DATABASE-datashare-synopsis">Syntaxe à utiliser avec une unité de partage des données</a><a href="#r_CREATE_DATABASE-usage">Notes d’utilisation de la commande CREATE DATABASE pour le partage de données</a><a href="#r_CREATE_DATABASE_data-catalog">CRÉER UNE BASE DE DONNÉES depuis  AWS Glue Data Catalog</a><a href="#r_CREATE_DATABASE-create-database-limits">Limites de CREATE DATABASE</a><a href="#r_CREATE_DATABASE-collation">Classement de la base de données pour CREATE DATABASE</a><a href="#r_CREATE_DATABASE-examples">Exemples</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Les traductions sont fournies par des outils de traduction automatique. En cas de conflit entre le contenu d'une traduction et celui de la version originale en anglais, la version anglaise prévaudra.</p></awsui-alert><h1 class="topictitle" id="r_CREATE_DATABASE">CREATE DATABASE</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Crée une nouvelle base de données.</p><p>Pour créer une base de données, vous devez être super-utilisateur ou disposer du privilège CREATEDB.</p><p>Vous ne pouvez pas exécuter CREATE DATABASE au sein d’un bloc de transaction (BEGIN ... END). Pour plus d’informations sur les transactions, consultez <a href="./c_serial_isolation.html">Isolement sérialisable</a>. </p>
         <h2 id="r_CREATE_DATABASE-synopsis">Syntaxe</h2>


         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">CREATE DATABASE <em>database_name</em> [ WITH ]
[ OWNER [=] <em>db_owner</em> ]
[ CONNECTION LIMIT <span>{</span> <em>limit</em> | UNLIMITED } ]
[ COLLATE <span>{</span> CASE_SENSITIVE | CASE_INSENSITIVE } ]
[ ISOLATION LEVEL <span>{</span> SERIALIZABLE | SNAPSHOT } ]
[ [ WITH PERMISSIONS ] FROM DATASHARE datashare_name ] OF [ ACCOUNT account_id ] NAMESPACE namespace_guid 
| [ FROM ARN '&lt;arn&gt;' <span>{</span> WITH DATA CATALOG SCHEMA '&lt;schema&gt;' | WITH NO DATA CATALOG SCHEMA } 
[ IAM_ROLE  default | 'SESSION' | 'arn:aws:iam::&lt;account-id&gt;:role/&lt;role-name&gt;' ] ]</code></pre>


       
         <h2 id="r_CREATE_DATABASE-parameters">Paramètres</h2>
         <div class="variablelist">
             
             
             
             
             
             

             

             
             
             
             


         <dl>
               <dt><span class="term"> <em>database_name</em> </span></dt>
               <dd>
                  <p>Nom de la nouvelle base de données. Pour plus d’informations sur les noms valides, consultez <a href="./r_names.html">Noms et identificateurs</a>.</p>
               </dd>
             
               <dt><span class="term">WITH </span></dt>
               <dd>
                  <p>Mot-clé facultatif.</p>
               </dd>
             
               <dt><span class="term">OWNER </span></dt>
               <dd>
                  <p>Spécifie un propriétaire de base de données.</p>
               </dd>
             
               <dt><span class="term">= </span></dt>
               <dd>
                  <p>Caractère facultatif.</p>
               </dd>
             
               <dt><span class="term"> <em>db_owner</em> </span></dt>
               <dd>
                  <p>Nom d’utilisateur du propriétaire de base de données.</p>
               </dd>
             
               <dt><span class="term">CONNECTION LIMIT <span>{</span> <em>limite</em> | UNLIMITED } </span></dt>
               <dd>
                  <p>Le nombre maximum de connexions à la base de données que les utilisateurs sont autorisés à ouvrir simultanément. La limite se s’applique pas aux super-utilisateurs. Utilisez le mot-clé UNLIMITED pour autoriser le nombre maximum de connexions simultanées. Une limite sur le nombre de connexions pour chaque utilisateur peut également s’appliquer. Pour plus d'informations, consultez <a href="./r_CREATE_USER.html">CREATE USER</a>. La valeur par défaut est UNLIMITED. Pour afficher les connexions en cours, interrogez la vue système <a href="./r_STV_SESSIONS.html">STV_SESSIONS</a>.</p>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Si les deux limites de connexion (utilisateurs et base de données) s’appliquent, un emplacement de connexion inutilisé situé entre les deux limites doit également être disponible lorsqu’un utilisateur tente de se connecter.</p></div></div>
               </dd>
             
               
               <dt><span class="term">COLLATE <span>{</span> CASE_SENSITIVE | CASE_INSENSITIVE }</span></dt>
               <dd>
                  <p>Clause qui spécifie si la recherche ou la comparaison de chaînes est CASE_SENSITIVE (sensible à la casse) ou CASE_INSENSITIVE (insensible à la casse). La valeur par défaut est CASE_SENSITIVE.</p>
               </dd>
             
               
               <dt><span class="term">ISOLATION LEVEL <span>{</span> SERIALIZABLE | SNAPSHOT }</span></dt>
               <dd>
                  <p>Clause qui spécifie le niveau d’isolation utilisé lorsque les requêtes sont exécutées sur une base de données.</p>
                     <div class="itemizedlist">
                         
                         
                     <ul class="itemizedlist"><li class="listitem"><p>Isolation SERIALIZABLE : offre une possibilité de mise en série complète pour les transactions simultanées. Il s’agit de la valeur par défaut pour une base de données créée dans un cluster provisionné. Pour de plus amples informations, veuillez consulter <a href="./c_serial_isolation.html">Isolement sérialisable</a>.</p></li><li class="listitem"><p>Isolation SNAPSHOT : offre un niveau d’isolation avec protection contre les conflits de mise à jour et de suppression C’est la valeur par défaut pour une base de données créée dans un espace de noms sans serveur. </p></li></ul></div>
                  <p>Vous pouvez afficher le modèle de simultanéité exécuté par votre base de données comme suit : </p>
                  <div class="itemizedlist">
                     
                      
                      
                  <ul class="itemizedlist"><li class="listitem"><p>Interrogez la vue du catalogue STV_DB_ISOLATION_LEVEL. Pour de plus amples informations, veuillez consulter <a href="./r_STV_DB_ISOLATION_LEVEL.html">STV_DB_ISOLATION_LEVEL</a>.</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT * FROM stv_db_isolation_level;</code></pre>
                     </li><li class="listitem"><p>Interrogez la vue PG_DATABASE_INFO. </p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT datname, datconfig FROM pg_database_info;</code></pre>
                        <p>Le niveau d’isolation par base de données apparaît à côté de la clé <code class="code">concurrency_model</code>. Une valeur <code class="code">1</code> indique SNAPSHOT. Une valeur <code class="code">2</code> indique SERIALIZABLE. </p> </li></ul></div>

                  <p>Dans les bases de données Amazon Redshift, l’isolation SERIALIZABLE et SNAPSHOT sont des types de niveau d’isolation sérialisable. Autrement dit, les lectures corrompues, les lectures non reproductibles (non-repeatable read) et les lectures fantôme sont empêchées conformément à la norme SQL. Ces niveaux d’isolation garantissent qu’une transaction s’exécute sur un instantané de données tel qu’il existe lorsque la transaction commence, et qu’aucune autre transaction ne peut modifier cet instantané. Toutefois, l’isolation SNAPSHOT n’offre pas une sérialisation complète, car elle n’empêche pas les insertions et mises à jour asymétriques en écriture sur différentes lignes de tableau.</p>
                  <p>Le scénario suivant illustre les mises à jour asymétriques en écriture utilisant le niveau d’isolation SNAPSHOT. Une table nommée <code class="code">Numbers</code> contient une colonne nommée <code class="code">digits</code> qui contient les valeurs <code class="code">0</code> et <code class="code">1</code>. L’instruction UPDATE de chaque utilisateur ne chevauche pas l’autre utilisateur. Cependant, les valeurs <code class="code">0</code> et <code class="code">1</code> sont échangées. Le code SQL qu’elles exécutent suit cette chronologie avec les résultats suivants :</p>
                  
                  <div class="table-container"><div class="table-contents disable-scroll"><table id="w320aac47b9c69c11b3c15b3c13"><thead>
                           <tr>
                              <th>Heure </th>
                              <th>Action utilisateur 1 </th>
                              <th>Action utilisateur 2 </th>
                           </tr>
                        </thead>
                           <tr>
                              <td tabindex="-1">1</td>
                              <td tabindex="-1">BEGIN;</td>
                              <td tabindex="-1"></td>
                           </tr>
                           <tr>
                              <td tabindex="-1">2</td>
                              <td tabindex="-1"></td>
                              <td tabindex="-1">BEGIN;</td>
                           </tr>
                           <tr>
                              <td tabindex="-1">3</td>

                              <td tabindex="-1">SELECT * FROM Numbers; <pre class="screen">
digits
------
0
1</pre></td>
                              <td tabindex="-1"></td>
                           </tr>
                           <tr>
                              <td tabindex="-1">4</td>
                              <td tabindex="-1"></td>
                              <td tabindex="-1">SELECT * FROM Numbers; <pre class="screen">
digits
------
0
1</pre></td>

                           </tr>
                           <tr>
                              <td tabindex="-1">5</td>
                              <td tabindex="-1">UPDATE Numbers SET digits=0 WHERE digits=1;</td>
                              <td tabindex="-1"></td>
                           </tr>
                           <tr>
                              <td tabindex="-1">6</td>
                              <td tabindex="-1">SELECT * FROM Numbers; <pre class="screen">
digits
------
0
0</pre></td>
                              <td tabindex="-1"></td>
                           </tr>

                           <tr>
                              <td tabindex="-1">7</td>
                              <td tabindex="-1">COMMIT;</td>
                              <td tabindex="-1"></td>
                           </tr>

                           <tr>
                              <td tabindex="-1">8</td>
                              <td tabindex="-1"></td>
                              <td tabindex="-1">Update Numbers SET digits=1 WHERE digits=0;</td>
                           </tr>



                           <tr>
                              <td tabindex="-1">9</td>
                              <td tabindex="-1"></td>
                              <td tabindex="-1">SELECT * FROM Numbers; <pre class="screen">
digits
------
1
1</pre></td>

                           </tr>



                           <tr>
                              <td tabindex="-1">10</td>
                              <td tabindex="-1"></td>
                              <td tabindex="-1">COMMIT;</td>
                           </tr>

                           <tr>
                              <td tabindex="-1">11</td>
                              <td tabindex="-1">SELECT * FROM Numbers; <pre class="screen">
digits
------
1
0</pre></td>
                              <td tabindex="-1"></td>
                           </tr>

                           <tr>
                              <td tabindex="-1">12</td>
                              <td tabindex="-1"></td>
                              <td tabindex="-1">SELECT * FROM Numbers; <pre class="screen">
digits
------
1
0</pre></td>

                           </tr>
                        </table></div></div>
                  <p>Si le même scénario est exécuté à l’aide d’une isolation sérialisable, Amazon Redshift met fin à l’utilisateur 2 en raison d’une violation sérialisable et renvoie une erreur <code class="code">1023</code>. Pour de plus amples informations, veuillez consulter <a href="./c_serial_isolation.html#c_serial_isolation-serializable-isolation-troubleshooting">Comment corriger les erreurs d’isolement sérialisable</a>. Dans ce cas, seul l’utilisateur 1 peut s’engager avec succès. Toutes les charges de travail ne nécessitent pas une isolation sérialisable, auquel cas l’isolation des instantanés suffit comme niveau d’isolation cible pour votre base de données.</p>

               </dd>
             
               <dt><span class="term">ARN ’&lt;ARN&gt;’</span></dt>
               <dd>
                  <p>L'ARN  AWS Glue  de base de données à utiliser pour créer la base de données.</p>
               </dd>
             
               <dt><span class="term"><span>{</span> WITH NO DATA CATALOG SCHEMA | DATA CATALOG SCHEMA ’&lt;schema&gt;’ }</span></dt>
               <dd>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Ce paramètre ne s’applique que si votre commande CREATE DATABASE utilise également le paramètre FROM ARN.</p></div></div>
                  <p>Indique si la base de données doit être créée à l’aide d’un schéma pour pouvoir accéder à des objets dans le  AWS Glue Data Catalog.</p>
               </dd>
             
               <dt><span class="term">IAM_ROLE <span>{</span> default | ’SESSION’ | ’arn:aws:iam::<code class="replaceable">&lt;Compte AWS-id&gt;</code>:role/<code class="replaceable">&lt;role-name&gt;</code>’ }</span></dt>
               <dd>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Ce paramètre ne s’applique que si votre commande CREATE DATABASE utilise également le paramètre FROM ARN.</p></div></div>
                  <p>Si vous spécifiez un rôle IAM qui est associé au cluster pendant l’exécution de la commande CREATE DATABASE, Amazon Redshift utilise les informations d’identification du rôle lorsque vous exécutez des requêtes sur la base de données.</p>
                  
                  <p>Si le mot clé <code class="code">default</code> est spécifié, le rôle IAM défini par défaut et qui est associé au cluster est alors utilisé.</p>
                  <p>Utilisez <code class="code">'SESSION'</code> si vous vous connectez à votre cluster Amazon Redshift à l’aide d’une identité fédérée et que vous accédez aux tables à partir du schéma externe créé à l’aide de cette commande. Pour voir un exemple d’utilisation d’une identité fédéré, consultez <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/authorization-fas-spectrum.html">Utilisation d’une identité fédérée pour gérer l’accès d’Amazon Redshift aux ressources locales et aux tables externes Amazon Redshift Spectrum</a>, qui explique comment configurer l’identité fédérée. </p>
                  
                  <p>Utilisez l’Amazon Resource Name (ARN) d’un rôle IAM que votre cluster utilise pour l’authentification et l’autorisation. Au minimum, le rôle IAM doit être autorisé à exécuter une opération LIST sur le compartiment Amazon S3 devant être accessible et une opération GET sur les objets Amazon S3 contenus dans le compartiment. Pour en savoir plus sur l'utilisation de IAM_ROLE lors de la création d'une base de données à des  AWS Glue Data Catalog  fins de partage de données, consultez la section Utilisation de partages de données gérés <a href="https://docs.aws.amazon.com/redshift/latest/dg/lake-formation-getting-started-consumer.html">par Lake Formation en tant</a> que consommateur.</p>
                  <p>Le code suivant montre la syntaxe de la chaîne de paramètre IAM_ROLE pour un seul ARN.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">IAM_ROLE 'arn:aws:iam::<code class="replaceable">&lt;aws-account-id&gt;</code>:role/<code class="replaceable">&lt;role-name&gt;</code>'</code></pre>
                  <p>Vous pouvez créer des chaînes de rôles pour permettre à votre cluster d’endosser un autre rôle IAM, y compris un rôle appartenant à un autre compte. Les chaînes ainsi créées peuvent inclure jusqu’à 10 rôles. Pour plus d'informations, consultez <a href="./c-spectrum-iam-policies.html#c-spectrum-chaining-roles">Créer des rôles IAM dans Amazon Redshift Spectrum</a>. </p>
                  <p> Attachez à ce rôle IAM une politique d’autorisations IAM similaire à la suivante.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Sid": "AccessSecret",
            "Effect": "Allow",
            "Action": [
                "secretsmanager:GetResourcePolicy",
                "secretsmanager:GetSecretValue",
                "secretsmanager:DescribeSecret",
                "secretsmanager:ListSecretVersionIds"
            ],
            "Resource": "arn:aws:secretsmanager:<code class="replaceable">us-west-2</code>:<code class="replaceable">123456789012</code>:secret:my-rds-secret-VNenFy"
        },
        <span>{</span>
            "Sid": "VisualEditor1",
            "Effect": "Allow",
            "Action": [
                "secretsmanager:GetRandomPassword",
                "secretsmanager:ListSecrets"
            ],
            "Resource": "*"
        }
    ]
}</code></pre>
                  <p>Pour connaître les étapes à suivre afin de créer un rôle IAM à utiliser avec une requête fédérée, consultez <a href="./federated-create-secret-iam-role.html">Création d’un secret et d’un rôle IAM pour utiliser des requêtes fédérées</a>. </p>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>N’incluez pas d’espaces dans la liste des rôles chaînés.</p></div></div>
                  <p>L’exemple suivant montre la syntaxe d’une chaîne de trois rôles.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">IAM_ROLE 'arn:aws:iam::<code class="replaceable">&lt;aws-account-id&gt;</code>:role/<code class="replaceable">&lt;role-1-name&gt;</code>,arn:aws:iam::<code class="replaceable">&lt;aws-account-id&gt;</code>:role/<code class="replaceable">&lt;role-2-name&gt;</code>,arn:aws:iam::<code class="replaceable">&lt;aws-account-id&gt;</code>:role/<code class="replaceable">&lt;role-3-name&gt;</code>'</code></pre>
               </dd>
            </dl></div>
       
               <h2 id="r_CREATE_DATABASE-datashare-synopsis">Syntaxe pour l’utilisation de CREATE DATABASE avec une unité de partage des données</h2>
               

               <p>La syntaxe suivante décrit la commande CREATE DATABASE utilisée pour créer des bases de données à partir d'un partage de données afin de partager des données au sein d'un même  AWS  compte.</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">CREATE DATABASE <em>database_name</em>
[ [ WITH PERMISSIONS ] FROM DATASHARE <em>datashare_name</em> ] OF [ ACCOUNT account_id ] NAMESPACE <em>namespace_guid</em></code></pre>  
               <p>La syntaxe suivante décrit la commande CREATE DATABASE utilisée pour créer des bases de données à partir d'un partage de données afin de partager des données entre comptes.  AWS </p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">CREATE DATABASE <em>database_name</em>
[ [ WITH PERMISSIONS ] FROM DATASHARE <em>datashare_name</em> ] OF ACCOUNT <em>account_id</em> NAMESPACE <em>namespace_guid</em></code></pre>

                
                  <h3 id="r_CREATE_DATABASE-parameters-datashare">Paramètres pour l’utilisation de CREATE DATABASE avec une unité de partage des données</h3>
                  <div class="variablelist">
                   
             
                     
                        
                      
             
         <dl>
               <dt><span class="term">FROM DATASHARE </span></dt>
               <dd>
                  <p>Mot-clé indiquant où se situe l’unité de partage des données externe.</p>
               </dd>
             
               <dt><span class="term"> <em>datashare_name</em> </span></dt>
               <dd>
                  <p>Nom de la base de données sur laquelle la base de données consommateur est créée.</p>
               </dd>
             
                        <dt><span class="term">WITH PERMISSIONS</span></dt>

                        <dd>
                           <p>Spécifie que la base de données créée à partir de l’unité de partage des données nécessite des autorisations de niveau objet pour accéder à des objets de base de données individuels. Sans cette clause, les utilisateurs ou les rôles disposant de l’autorisation USAGE sur la base de données auront automatiquement accès à tous les objets de celle-ci.</p>
                           
                        </dd>
                      
                        <dt><span class="term"> NAMESPACE <em>namespace_guid</em> </span></dt>
                        <dd>
                           <p>Valeur spécifiant l’espace de noms du producteur compte auquel l’unité de partage des données appartient.</p>
                        </dd>
                      
               <dt><span class="term">ACCOUNT <em>account_id</em></span></dt>
               <dd>
                  <p>Valeur spécifiant le compte du producteur auquel l’unité de partage des données appartient.</p>
               </dd>
            </dl></div>
                
       
         <h2 id="r_CREATE_DATABASE-usage">Notes d’utilisation de la commande CREATE DATABASE pour le partage de données</h2>
         <p>En tant que superutilisateur de base de données, lorsque vous utilisez CREATE DATABASE pour créer des bases de données à partir de partages de données au sein du  AWS  compte, spécifiez l'option NAMESPACE. L’option ACCOUNT est facultative. Lorsque vous utilisez CREATE DATABASE pour créer des bases de données à partir de partages de données entre  AWS  comptes, spécifiez à la fois le COMPTE et le NAMESPACE fournis par le producteur.</p>
         <p>Vous ne pouvez créer qu’une seule base de données grand public pour une unité de partage des données sur un cluster consommateur. Vous ne pouvez pas créer plusieurs bases de données grand public faisant référence à la même unité de partage des données.</p>
       
         <h2 id="r_CREATE_DATABASE_data-catalog">CRÉER UNE BASE DE DONNÉES depuis  AWS Glue Data Catalog</h2>
         <p>Pour créer une base de données à l'aide d'un ARN  AWS Glue  de base de données, spécifiez cet ARN dans votre commande CREATE DATABASE.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE DATABASE sampledb FROM ARN &lt;glue-database-arn&gt; WITH NO DATA CATALOG SCHEMA;</code></pre>
         <p>Vous pouvez aussi éventuellement fournir une valeur dans le paramètre IAM_ROLE. Pour en savoir plus sur le paramètre et les valeurs acceptées, consultez <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_DATABASE.html#r_CREATE_DATABASE-parameters">Paramètres</a>.</p>
         
         <p>Les exemples suivants montrent comment créer une base de données à partir d’un ARN en utilisant un rôle IAM.</p>
         
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE DATABASE sampledb FROM ARN &lt;glue-database-arn&gt; WITH NO DATA CATALOG SCHEMA IAM_ROLE &lt;iam-role-arn&gt;</code></pre>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE DATABASE sampledb FROM ARN &lt;glue-database-arn&gt; WITH NO DATA CATALOG SCHEMA IAM_ROLE default;</code></pre>
         <p>Vous pouvez également créer une base de données en utilisant un DATA CATALOG SCHEMA.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE DATABASE sampledb FROM ARN &lt;glue-database-arn&gt; WITH DATA CATALOG SCHEMA &lt;sample_schema&gt; IAM_ROLE default;</code></pre>
       
         <h2 id="r_CREATE_DATABASE-create-database-limits">Limites de CREATE DATABASE</h2>
         <p>Amazon Redshift applique ces limites pour les bases de données :</p>
         <div class="itemizedlist">
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>Maximum de 60 bases de données définies par l’utilisateur par cluster.</p>
            </li><li class="listitem">
               <p>Maximum de 127 octets pour un nom de base de données.</p>
            </li><li class="listitem">
               <p>Un nom de base de données ne peut pas être un mot réservé. </p>
            </li></ul></div>
       
         <h2 id="r_CREATE_DATABASE-collation">Classement de base de données</h2>
         <p>Le classement est un ensemble de règles qui définit la façon dont le moteur de base de données compare et trie les données de type caractère dans SQL. Le classement insensible à la casse est le classement le plus utilisé. Amazon Redshift utilise un classement insensible à la casse pour faciliter la migration à partir d’autres systèmes d’entrepôts des données. Grâce à la prise en charge native du classement insensible à la casse, Amazon Redshift continue d’utiliser des méthodes de réglage ou d’optimisation importantes, telles que les clés de distribution, les clés de tri ou l’analyse à plage restreinte. </p>
         <p>La clause COLLATE spécifie le classement par défaut de toutes les colonnes CHAR et VARCHAR de la base de données. Si CASE_INSENSITIVE est spécifié, toutes les colonnes CHAR ou VARCHAR utilisent un classement insensible à la casse. Pour obtenir des informations sur le classement, consultez <a href="./c_collation_sequences.html">Séquences de classement</a>.</p>
         <p>Les données insérées ou intégrées dans des colonnes insensibles à la casse conserveront leur casse d’origine. Cependant, toutes les opérations de chaîne basées sur la comparaison, y compris le tri et le regroupement, sont insensibles à la casse. Les opérations de correspondance de modèles telles que les prédicats LIKE, similaire à et les fonctions d’expression régulière sont également insensibles à la casse.</p>

         <p>Les opérations SQL suivantes prennent en charge la sémantique de classement applicable :</p>
         <div class="itemizedlist">
             
          
         
          
          
          
           
          
          
             
         <ul class="itemizedlist"><li class="listitem"><p>Opérateurs de comparaison : =, &lt;&gt;, &lt;, &lt;=, &gt;, &gt;=.</p></li><li class="listitem"><p>Opérateur LIKE</p></li><li class="listitem"><p>Clauses ORDER BY</p></li><li class="listitem"><p>Clauses GROUP BY</p></li><li class="listitem"><p>Fonctions d’agrégation qui utilisent la comparaison de chaînes, telles que MIN, MAX et LISTAGG</p></li><li class="listitem"><p>Fonctions de fenêtrage, telles que les clauses PARTITION BY et ORDER BY</p></li><li class="listitem"><p>Fonctions scalaires greatest() et least (), STRPOS(), REGEXP_COUNT (), REGEXP_REPLACE(), REGEXP_INSTR(), REGEXP_SUBSTR()</p></li><li class="listitem"><p>Clause Distinct</p></li><li class="listitem"><p>UNION, INTERSECT et EXCEPT</p></li><li class="listitem"><p>IN LIST</p></li></ul></div>
         <p>Pour les requêtes externes, y compris les requêtes fédérées Amazon Redshift Spectrum et Aurora PostgreSQL, le classement de la colonne VARCHAR ou CHAR est le même que le classement actuel au niveau de la base de données.</p>
                  <p>L’exemple suivant interroge une table Amazon Redshift Spectrum :</p>
                  
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT ci_varchar FROM spectrum.test_collation
WHERE ci_varchar = 'AMAZON';

ci_varchar
----------
amazon
Amazon
AMAZON
AmaZon
(4 rows)</code></pre>
         <p>Pour obtenir des informations sur la création de tables à l'aide du classement de bases de données, consultez <a href="./r_CREATE_TABLE_NEW.html">CREATE TABLE</a>.</p>
         <p>Pour obtenir des informations sur la fonction COLLATE, consultez <a href="./r_COLLATE.html">Fonction COLLATE</a>.</p>


          
            <h3 id="r_CREATE_DATABASE-collation-limitations">Limites de classement de bases de données</h3>
            <p>Les limitations suivantes concernent l’utilisation du classement de base de données dans Amazon Redshift :</p>
            <div class="itemizedlist">
                
                
                
                
                
            <ul class="itemizedlist"><li class="listitem"><p>Toutes les tables ou vues système, y compris les tables catalogue PG et les tables système Amazon Redshift, sont sensibles à la casse.</p></li><li class="listitem"><p>Lorsque la base de données consommateur et la base de données producteur ont des classements différents au niveau de la base de données, Amazon Redshift ne prend pas en charge les requêtes inter-bases de données et inter-clusters.</p>
               </li><li class="listitem"><p>Amazon Redshift ne prend pas en charge le classement insensible à la casse dans les requêtes au nœud principal uniquement.</p>
               <p>L’exemple suivant montre une requête insensible à la casse non prise en charge et l’erreur envoyée par qu’Amazon Redshift :</p>
                  
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT collate(usename, 'case_insensitive') FROM pg_user;
ERROR:  Case insensitive collation is not supported in leader node only query.</code></pre>
               </li><li class="listitem"><p>Amazon Redshift ne prend pas en charge l’interaction entre les colonnes sensibles à la casse et non sensibles à la casse, telles que les opérations de comparaison, de fonction, de jointure ou d’ensembles.</p>
               <p>Les exemples suivants montrent des erreurs lorsque des colonnes sensibles à la casse et insensibles à la casse interagissent :</p>
                  
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE TABLE test
  (ci_col varchar(10) COLLATE case_insensitive,
   cs_col varchar(10) COLLATE case_sensitive,
   cint int,
   cbigint bigint);</code></pre>
                  
<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT ci_col = cs_col FROM test;
ERROR:  Query with different collations is not supported yet.</code></pre>
                  
<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT concat(ci_col, cs_col) FROM test;
ERROR:  Query with different collations is not supported yet.</code></pre>
                  
<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT ci_col FROM test UNION SELECT cs_col FROM test;
ERROR:  Query with different collations is not supported yet.</code></pre>
                  
<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT * FROM test a, test b WHERE a.ci_col = b.cs_col;
ERROR:  Query with different collations is not supported yet.</code></pre>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">Select Coalesce(ci_col, cs_col) from test;
ERROR:  Query with different collations is not supported yet.</code></pre>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">Select case when cint &gt; 0 then ci_col else cs_col end from test;
ERROR:  Query with different collations is not supported yet.</code></pre>
               </li><li class="listitem"><p>Amazon Redshift ne prend pas en charge le classement pour le type de données SUPER. La création de colonnes SUPER dans des bases de données insensibles à la casse et les interactions entre les colonnes SUPER et insensibles à la casse ne sont pas prises en charge.</p>
               <p>L’exemple suivant crée une table avec le type de données SUPER dans la base de données insensible à la casse :</p>
                  
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE TABLE super_table (a super);
ERROR: SUPER column is not supported in case insensitive database.</code></pre>
                  <p>L’exemple suivant interroge les données avec une chaîne insensible à la casse en les comparant avec les données SUPER : </p>
                  
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE TABLE test_super_collation
(s super, c varchar(10) COLLATE case_insensitive, i int);</code></pre>
                  
<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT s = c FROM test_super_collation;
ERROR:  Coercing from case insensitive string to SUPER is not supported.</code></pre>
               </li></ul></div>
            <p>Pour que ces requêtes fonctionnent, utilisez la fonction COLLATE afin de convertir le classement d’une colonne et la faire correspondre à l’autre. Pour plus d'informations, consultez <a href="./r_COLLATE.html">Fonction COLLATE</a>.</p>

          

       
         <h2 id="r_CREATE_DATABASE-examples">Exemples</h2>

          
            <h6>Création d’une base de données</h6>
            <p>L’exemple suivant crée une base de données nommée TICKIT et attribue la propriété à l’utilisateur DWUSER.</p>
          

         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">create database tickit
with owner dwuser;</code></pre>
         <p>Interrogez la table de catalogue PG_DATABASE_INFO afin d’afficher les détails relatifs aux bases de données. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select datname, datdba, datconnlimit
from pg_database_info
where datdba &gt; 1;

 datname     | datdba | datconnlimit
-------------+--------+-------------
 admin       |    100 | UNLIMITED
 reports     |    100 | 100
 tickit      |    100 | 100         </code></pre>


         
         <p>L’exemple suivant crée une base de données nommée <code class="userinput">sampledb</code> avec niveau d’isolation SNAPSHOT.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE DATABASE sampledb ISOLATION LEVEL SNAPSHOT;</code></pre>

         <p>L’exemple suivant crée la base de données sales_db à partir de l’unité de partage des données salesshare.</p>
        
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE DATABASE sales_db FROM DATASHARE salesshare OF NAMESPACE '13b8833d-17c6-4f16-8fe4-1a018f5ed00d';</code></pre>

          
            <h3 id="r_CREATE_DATABASE-collation-examples">Exemple de classement de bases de données</h3>

             
               <h6>Création d’une base de données sensible à la casse</h6>
               <p>L’exemple suivant crée la base de données <code class="code">sampledb</code>, crée la table <code class="code">T1</code> et insère des données dans la table <code class="code">T1</code>.</p>
             
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">create database sampledb collate case_insensitive;</code></pre>
            
            
            <p>Connectez-vous à la nouvelle base de données que vous venez de créer à l’aide de votre client SQL. Lorsque vous utilisez l’éditeur de requêtes Amazon Redshift, choisissez <code class="code">sampledb</code> dans <b>Éditeur</b>. Lorsque vous utilisez RSQL, utilisez une commande similaire à celle-ci.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">\connect sampledb;</code></pre>
                 
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE TABLE T1 (
  col1 Varchar(20) distkey sortkey
);</code></pre>
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">INSERT INTO T1 VALUES ('bob'), ('john'), ('Mary'), ('JOHN'), ('Bob');</code></pre>
            <p>Ensuite, la requête trouve des résultats avec <code class="code">John</code>.</p>
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT * FROM T1 WHERE col1 = 'John';

 col1
 ------
 john
 JOHN
(2 row)</code></pre>
             
               <h6>Classement par sensibilité à la casse</h6>
               <p>L’exemple suivant montre le classement par sensibilité à la casse avec la table T1. Le classement de <em>Bob</em> et <em>bob</em> ou <em>John</em> et <em>john</em> est non déterministe, car ils sont égaux dans la colonne insensible à la casse.</p>
             
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT * FROM T1 ORDER BY 1;

 col1
 ------
 bob
 Bob
 JOHN
 john
 Mary
(5 rows)</code></pre>
            <p>De même, l’exemple suivant montre un classement par sensibilité à la casse avec la clause GROUP BY. <em>Bob</em> et <em>bob</em> sont égaux et appartiennent au même groupe. Lequel des deux apparaît dans le résultat est non déterministe.</p>
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT col1, count(*) FROM T1 GROUP BY 1;

 col1 | count
 -----+------
 Mary |  1
 bob  |  2
 JOHN |  2
(3 rows)</code></pre>

             
               <h6>Interrogation avec une fonction de fenêtrage sur des colonnes insensibles à la casse</h6>
               <p>L’exemple suivant interroge une fonction de fenêtrage sur une colonne insensible à la casse.</p>
             
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT col1, rank() over (ORDER BY col1) FROM T1;

 col1 | rank
 -----+------
 bob  |   1
 Bob  |   1
 john |   3
 JOHN |   3
 Mary |   5
(5 rows)</code></pre>

             
               <h6>Interrogation avec le mot-clé DISTINCT</h6>
               <p>L’exemple suivant interroge la table <code class="code">T1</code> avec le mot-clé DISTINCT.</p>
             
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT DISTINCT col1 FROM T1;

 col1
 ------
 bob
 Mary
 john
(3 rows)</code></pre>

             
               <h6>Interrogation avec la clause UNION</h6>
               <p>L’exemple suivant illustre les résultats de la clause UNION des tables <code class="code">T1</code> et <code class="code">T2</code>.</p>
             
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE TABLE T2 AS SELECT * FROM T1;</code></pre>
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT col1 FROM T1 UNION SELECT col1 FROM T2;

 col1
 ------
 john
 bob
 Mary
(3 rows)</code></pre>
          

      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avertissement" /> <strong>JavaScript est désactivé ou n'est pas disponible dans votre navigateur.</strong></p><p>Pour que vous puissiez utiliser la documentation AWS, Javascript doit être activé. Vous trouverez des instructions sur les pages d'aide de votre navigateur.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Conventions de rédaction</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_COPY_command_examples.html">Exemples de commandes COPY</div><div id="next" class="next-link" accesskey="n" href="./r_CREATE_DATASHARE.html">CREATE DATASHARE</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Oui</div><div class="content"><p>Merci de nous avoir fait part de votre satisfaction.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer ce qui vous a plu afin que nous puissions nous améliorer davantage.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_CREATE_DATABASE.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Non</div><div class="content"><p>Merci de nous avoir avertis que cette page avait besoin d'être retravaillée. Nous sommes désolés de ne pas avoir répondu à vos attentes.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer comment nous pourrions améliorer cette documentation.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_CREATE_DATABASE.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>