<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="fr-FR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Génération de modèles pour les ressources existantes - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="generate-IaC" /><meta name="default_state" content="generate-IaC" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/generate-IaC.html" /><meta name="description" content="Générez des modèles d'infrastructure sous forme de code (IaC) à partir de types de AWS ressources déployés dans votre compte qui ne sont pas gérés par CloudFormation." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Guide de l'utilisateur" /><meta name="abstract" content="Créez et gérez des déploiements AWS d'infrastructure de manière prévisible et répétée à l'aide de ce AWS CloudFormation guide de l'utilisateur." /><meta name="guide-locale" content="fr_fr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/generate-IaC.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Guide de l'utilisateur" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Guide de l'utilisateur" /><meta id="panorama-serviceConsolePage" value="Génération de modèles pour les ressources existantes" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Génération de modèles pour les ressources existantes - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/generate-IaC.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/generate-IaC.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/generate-IaC.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,provisionnement des ressources,configuration des ressources,gestion de l'infrastructure,CloudFormer,CloudFormation pile,CloudFormation stackset,CloudFormation modèle,jeu de modifications,Générateur IaC,AWS CloudFormation Générateur IaC" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guide de l'utilisateur",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Utilisation des modèles AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/template-guide.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Génération de modèles pour les ressources existantes",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/template-guide.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Guide de l'utilisateur</a></div><div id="page-toc-src"><a href="#generate-template-considerations">Considérations</a><a href="#generate-template-console">Génération d'un modèle (console)</a><a href="#generate-template-cli">Générer un modèle (AWS CLI)</a><a href="#generate-IaC-cdk-migrate">Générez et gérez des modèles à l'aide du AWS CDK</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Les traductions sont fournies par des outils de traduction automatique. En cas de conflit entre le contenu d'une traduction et celui de la version originale en anglais, la version anglaise prévaudra.</p></awsui-alert><h1 class="topictitle" id="generate-IaC">Génération de modèles pour les ressources existantes</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Avec le <em>générateur AWS CloudFormation iAC</em> (infrastructure en tant que générateur de code), vous pouvez générer un modèle à l'aide de AWS ressources provisionnées dans votre compte qui ne sont pas déjà gérées par CloudFormation. Utilisez le modèle pour importer  CloudFormation  ou répliquer des ressources dans un nouveau compte ou une nouvelle région.</p><p>Le processus de génération de l'iAc comprend plusieurs étapes :</p><div class="orderedlist">
   
   
   
   
 <ol><li>
   <p>Lancez un scan de votre compte.</p>
  </li><li>
   <p>Créez un modèle, soit à partir de zéro, soit en utilisant le modèle d'une pile existante comme point de départ.</p>
  </li><li>
   <p>Ajoutez des ressources numérisées et des ressources associées au modèle à l'aide de l'<em>assistant d'ajout de ressources</em>.</p>
  </li><li>
   <p>Importez les ressources à gérer  CloudFormation  sous forme de pile ou migrez-les vers une AWS CDK application.</p>
  </li></ol></div><p>La fonction de générateur iAc est disponible dans toutes les régions commerciales et prend en charge de nombreux types de AWS ressources courants. Pour obtenir une liste complète, veuillez consulter <a href="./resource-import-supported-resources.html">Support des types de ressources</a>.</p><div class="highlights"><h6>Rubriques</h6><ul><li><a href="#generate-template-considerations">Considérations</a></li><li><a href="#generate-template-console">Génération d'un modèle (console)</a></li><li><a href="#generate-template-cli">Générer un modèle (AWS CLI)</a></li><li><a href="#generate-IaC-cdk-migrate">Générez et gérez des modèles à l'aide du AWS CDK</a></li><li><a href="./generate-IaC-write-only-properties.html">Générateur IaC et propriétés en écriture seule</a></li><li><a href="./generate-IaC-lambda-function.html">Mise à jour AWS::Lambda::Function des ressources</a></li><li><a href="./generate-IaC-apigateway-restapi.html">Mise à jour AWS::ApiGateway::RestAPI des ressources</a></li></ul></div>
  <h2 id="generate-template-considerations">Considérations</h2>
  <p>Vous pouvez générer <code class="code">JSON</code> des <code class="code">YAML</code> modèles pour les AWS ressources publiées dans le  CloudFormation  registre, pour les ressources pour lesquelles vous disposez d'autorisations de lecture. Les modèles pour la capacité du générateur iAC modélisent les ressources du cloud de manière fiable et rapide sans avoir à décrire une ressource propriété par propriété.</p>
  <p>Le tableau suivant répertorie les quotas disponibles pour la fonctionnalité de génération iAc.</p>
  <div class="table-container"><div class="table-contents"><table id="w1348aac17c25c15b7"><thead>
     <tr>
      <th>Nom</th>
      <th>Valeur</th>
     </tr>
    </thead>
     <tr>
      <td tabindex="-1">
       <p>Nombre maximal de ressources pouvant être traitées lors de l'analyse d'un compte</p>
      </td>
      <td tabindex="-1">
       <p>100 000</p>
      </td>
     </tr>
     <tr>
      <td tabindex="-1">
       <p>Nombre de scans par jour (pour les comptes contenant moins de 10 000 ressources)</p>
      </td>
      <td tabindex="-1">
       <p>3</p>
      </td>
     </tr>
     <tr>
      <td tabindex="-1">
       <p>Nombre de scans par jour (pour les comptes contenant plus de 10 000 ressources)</p>
      </td>
      <td tabindex="-1">
       <p>1</p>
      </td>
     </tr>
     <tr>
      <td tabindex="-1">
       <p>Nombre simultané de modèles générés par compte</p>
      </td>
      <td tabindex="-1">
       <p>5</p>
      </td>
     </tr>
     <tr>
      <td tabindex="-1">
       <p>Nombre simultané de ressources modélisées pour une génération de modèle.</p>
      </td>
      <td tabindex="-1">
       <p>5</p>
      </td>
     </tr>
     <tr>
      <td tabindex="-1">
       <p>Nombre total de ressources pouvant être modélisées dans un modèle</p>
      </td>
      <td tabindex="-1">
       <p>500</p>
      </td>
     </tr>
    </table></div></div>
  <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>Le générateur IaC ne prend en charge que les ressources prises en charge par l'API Cloud Control dans votre région. Pour plus d'informations, voir <a href="https://docs.aws.amazon.com/cloudcontrolapi/latest/userguide/resource-types.html#resource-types-determine-support">Déterminer si un type de ressource prend en charge l'API Cloud Control</a> dans le <em>Guide de l'utilisateur de l'API Cloud Control</em></p></div></div>
  
  <h2 id="generate-template-console">Génération d'un modèle (console)</h2>
  <p>Cette section décrit comment créer un modèle, ajouter des ressources à votre modèle et importer des ressources du modèle dans une pile à l'aide de la fonction de générateur iAc.</p>
  
  <div class="procedure"><h6>Pour ouvrir un nouveau modèle à l'aide du générateur iAc</h6><ol><li><p>Connectez-vous à la AWS CloudFormation console AWS Management Console et ouvrez-la à l'<a href="https://console.aws.amazon.com/cloudformation/" rel="noopener noreferrer" target="_blank"><span>adresse https://console.aws.amazon.com/cloudformation</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
    <p>Dans le volet de navigation, choisissez <b>iAc generator</b>.</p>
    <div class="mediaobject">
      
      <img src="images/IaC-generator.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;      Page de la console du générateur iAC&#xA;     " style="max-width:100%" />
      
      
    </div>
   </li><li>
    <p>Dans le panneau <b>Scans</b>, choisissez <b>Lancer un nouveau scan</b>. Les scans découvrent les ressources mises en service dans votre compte et la relation entre les ressources. Plus vous avez de ressources dans votre compte dans la Région, plus le scan prend du temps.</p>
    <div class="mediaobject">
      
      <img src="images/IaC-generator-scans.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;      Scanne le panneau de la page de la console du générateur iAC&#xA;     " style="max-width:100%" />
      
      
    </div>
   </li><li>
    <p>Dans le panneau <b>Modèles</b>, choisissez <b>Créer un modèle</b>.</p>
    <div class="mediaobject">
      
      <img src="images/IaC-generator-specify-template-details.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;      Spécifier la page de détails du modèle du générateur IaC&#xA;     " style="max-width:100%" />
      
      
    </div>
    <ol><li>
      <p>Sélectionnez <b>Démarrer à partir d'un nouveau modèle</b>.</p>
     </li><li>
      <p>Dans le panneau <b>Nom du modèle</b>, entrez le nom du modèle généré.</p>
     </li><li>
      <p>(Facultatif) Configurez votre <b>politique de suppression</b> et <b>mettez à jour la politique de remplacement</b>.</p>
     </li><li>
      <p>Choisissez <b>Next</b> pour ajouter des ressources numérisées au modèle.</p>
     </li></ol>
   </li></ol></div>
  
  <div class="procedure"><h6>Pour ajouter des ressources numérisées à votre modèle</h6><ol><li>
    <p>Dans la liste des ressources numérisées, parcourez la liste des ressources numérisées. Vous pouvez filtrer les ressources par identifiant de ressource, type de ressource ou balises. Les filtres sont mutuellement inclusifs.</p>
    <div class="mediaobject">
      
      <img src="images/IaC-generator-add-scanned-resources.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;      Ajouter un panneau de ressources scanné au générateur IaC&#xA;     " style="max-width:100%" />
      
      
    </div>
   </li><li>
    <p>Sélectionnez la ou les ressources que vous souhaitez ajouter.</p>
    <p>Répétez les étapes 1 et 2 jusqu'à ce que vous ayez ajouté toutes les ressources nécessaires à votre modèle.</p>
    <div class="mediaobject">
      
      <img src="images/IaC-generator-add-scanned-selected-resources.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;      Sélectionnez les ressources numérisées dans l'ajout du générateur IaC&#xA;     " style="max-width:100%" />
      
      
    </div>
   </li><li>
    <p>Choisissez <b>Suivant</b> pour quitter la page <b>Ajouter des ressources numérisées</b> et passer à la page <b>Ajouter des ressources associées</b>.</p>
   </li><li>
    <p>Consultez une liste recommandée de ressources connexes. Les ressources associées, telles que les instances Amazon EC2 et les groupes de sécurité, sont interdépendantes et appartiennent généralement à la même charge de travail. Sélectionnez les ressources connexes que vous souhaitez inclure dans le modèle généré.</p>
    <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Nous vous suggérons d'ajouter toutes les ressources associées à ce modèle.</p></div></div>
    <div class="mediaobject">
      
      <img src="images/IaC-generator-add-related-resources.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;      Ajouter des ressources connexes dans le générateur IaC&#xA;     " style="max-width:100%" />
      
      
    </div>
   </li><li>
    <p>Passez en revue les détails du modèle, les ressources numérisées et les ressources associées. Choisissez <b>Modifier</b> pour apporter des modifications.</p>
   </li><li>
    <p>Choisissez <b>Créer un modèle</b> pour quitter la page <b>Révision et</b> création et créer le modèle.</p>
    <div class="mediaobject">
      
      <img src="images/IaC-generator-review-and-create.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;      Réviser et créer un modèle dans le générateur IaC&#xA;     " style="max-width:100%" />
      
      
    </div>
   </li></ol></div>
  <p><em>Résultats</em> : Vous avez commencé à créer votre  CloudFormation  modèle et vous avez ajouté les ressources numérisées et connexes.</p>
  <div class="procedure"><h6>Pour importer des ressources à gérer en  CloudFormation  tant que pile</h6><ol><li>
    
    <p>Choisissez <b>Importer pour empiler</b>, puis cliquez sur <b>Suivant</b>.</p>
   </li><li>
    <p>Entrez le nom de votre pile dans le panneau <b>Spécifier la pile</b> de la page des <b>détails de la pile</b>. Choisissez <b>Suivant</b>.</p>
   </li><li>
    <p>Vérifiez et entrez les <a href="./parameters-section-structure.html">paramètres</a> de la pile. Choisissez <b>Suivant</b>.</p>
    
   </li><li>
    <p>Passez en revue les options qui s'offrent à vous sur la page <b>Réviser les modifications</b> et choisissez <b>Suivant</b>.</p>
   </li><li>
    <p>Vérifiez vos informations sur la page <b>Révision et importation</b>, puis choisissez <b>Importer des ressources</b>.</p>
   </li></ol></div>
  <p><em>Résultats</em> : Toutes les ressources ajoutées à votre modèle avec le générateur IaC sont importées dans une  CloudFormation  pile.</p>
  
  <h2 id="generate-template-cli">Générer un modèle (AWS CLI)</h2>
  <p>Cette section explique comment rechercher des ressources, créer un modèle, ajouter des ressources à votre modèle et le mettre à jour, et supprimer un modèle à l'aide du AWS CLI.</p>
  <div class="procedure"><h6>Pour rechercher des ressources dans votre compte</h6><ul><li>
    <p>Pour rechercher des ressources sur votre compte dans la région sélectionnée, utilisez l'<a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/start-resource-scan.html">start-resource-scan</a>opération.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="prompt" copy="false">$ </code><code class="userinput">aws cloudformation start-resource-scan</code></code></pre>
    <p>La commande renvoie ce qui suit :</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "ResourceScanId": \
      "arn:aws:cloudformation:<code class="replaceable">us-east-1</code>:<code class="replaceable">123456789012</code>:resourceScan/<code class="replaceable">0a699f15-489c-43ca-a3ef-3e6ecfa5da60</code>"
}</code></pre>
   </li></ul></div>
  <div class="procedure"><h6>Pour décrire l'analyse des ressources du compte</h6><ul><li>
    <p>Pour décrire l'analyse des ressources de votre compte, utilisez l'<a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/describe-resource-scan.html">describe-resource-scan</a>opération.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="prompt" copy="false">$ </code><code class="userinput">aws cloudformation describe-resource-scan \
  --resource-scan-id \
    "arn:aws:cloudformation:<code class="replaceable">us-east-1</code>:<code class="replaceable">123456789012</code>:resourceScan/<code class="replaceable">0a699f15-489c-43ca-a3ef-3e6ecfa5da60</code>"</code></code></pre>
    <p>La commande renvoie ce qui suit :</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "ResourceScanId" : \
      "arn:aws:cloudformation:<code class="replaceable">us-east-1</code>:<code class="replaceable">123456789012</code>:resourceScan/<code class="replaceable">0a699f15-489c-43ca-a3ef-3e6ecfa5da60</code>",
    "Status": "complete",
    "StartTime": "2023-08-21T03:10:38.485000+00:00",
    "EndTime": "2023-08-21T03:20:28.485000+00:00",
    "PercentageCompleted": 100.0,
    "ResourceTypes": [
        "AWS::EKS::Cluster",
        "AWS::S3::Bucket"
    ],
}</code></pre>
   </li></ul></div>
  <div class="procedure"><h6>Pour répertorier toutes les ressources issues de votre analyse</h6><ul><li>
    <p>Pour répertorier les ressources trouvées dans votre scan, utilisez l'<a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/list-resource-scan-resources.html">list-resource-scan-resources</a>opération. La réponse inclut une colonne qui indique si  CloudFormation  la ressource est déjà gérée.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="prompt" copy="false">$ </code><code class="userinput">aws cloudformation list-resource-scan-resources \
  --resource-scan-id \
    "arn:aws:cloudformation:<code class="replaceable">us-east-1</code>:<code class="replaceable">123456789012</code>:resourceScan/<code class="replaceable">0a699f15-489c-43ca-a3ef-3e6ecfa5da60</code>" \
  --resource-identifier exampleResource</code></code></pre>
    <p>La commande renvoie ce qui suit :</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Resources": [
        <span>{</span>
            "ResourceType": "AWS::EKS::Cluster",
            "ResourceIdentifier": <span>{</span>
                "ClusterName": "exampleResourceCluster"
            }
        },
            "ManagedByStack": false
        <span>{</span>
            "ResourceType": "AWS::S3::Bucket",
            "ResourceIdentifier": <span>{</span>
                "BucketName": "exampleResourceBucket"
            },
            "ManagedByStack": false
        }
    ]
}</code></pre>
    <p>Dans cet exemple, supposons que la sortie de <code class="code">list-resource-scan-resources</code> est enregistrée dans un fichier JSON nommé<code class="code">resources.json</code>.</p>
   </li></ul></div>
  <div class="procedure"><h6>Pour répertorier toutes les ressources liées à vos ressources numérisées</h6><ul><li>
    <p>Pour répertorier les ressources associées à vos ressources numérisées, créez des lots contenant jusqu'à 100 ressources numérisées et utilisez l'opération <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/list-resource-scan-related-resources.html">list-resource-scan-related-resources</a> pour chaque lot. Sachez que la sortie peut contenir des ressources dupliquées dans la liste.</p>
    <p>La réponse inclut une colonne indiquant si  CloudFormation  la ressource est déjà gérée. Il est recommandé d'ajouter toutes les ressources associées au modèle.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="prompt" copy="false">$ </code><code class="userinput">aws cloudformation list-resource-scan-related-resources \
  --resource-scan-id \
    "arn:aws:cloudformation:<code class="replaceable">us-east-1</code>:<code class="replaceable">123456789012</code>:resourceScan/<code class="replaceable">0a699f15-489c-43ca-a3ef-3e6ecfa5da60</code>" \
  --resources file://<code class="replaceable">resources</code>.json</code></code></pre>
    <p>La commande renvoie ce qui suit :</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "RelatedResources": [
        <span>{</span>
            "ResourceType": "AWS::EKS::Nodegroup",
            "ResourceIdentifier": <span>{</span>
                "NodegroupName": "exampleNodegroup"
            },
            "ManagedByStack": false
        },
        <span>{</span>
            "ResourceType": "AWS::IAM::Role",
            "ResourceIdentifier": <span>{</span>
                "RoleId": "arn:aws::iam::<code class="replaceable">123456789012</code>:role/S3Access"
            },
            "ManagedByStack": false
        }
    ]
}</code></pre>
    <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>La liste de ressources en entrée ne peut pas dépasser une longueur de 100. Pour répertorier les ressources associées pour plus de 100 ressources, exécutez l'opération par lots de 100 et consolidez les résultats.</p></div></div>
    <p>Supposons que la sortie de <code class="code">list-resource-scan-related-resources</code> soit également ajoutée au fichier JSON nommé<code class="code">resources.json</code>.</p>
   </li></ul></div>
  <div class="procedure"><h6>Pour générer un modèle</h6><ul><li>
    <p>Pour générer un nouveau modèle sans ressources, utilisez l'<a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/create-generated-template.html">create-generated-template</a>opération et spécifiez le nom du modèle.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="prompt" copy="false">$ </code><code class="userinput">aws cloudformation create-generated-template \
  --generated-template-name <code class="replaceable">TemplateName</code></code></code></pre>
    <p>La <code class="code">create-generated-template</code> commande renvoie ce qui suit.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Arn": \
    "arn:aws:cloudformation:<code class="replaceable">us-east-1</code>:<code class="replaceable">123456789012</code>:generatedtemplate/<code class="replaceable">7fc8512c-d8cb-4e02-b266-d39c48344e48</code>",
  "Name": "<code class="replaceable">TemplateName</code>"
}</code></pre>
   </li></ul></div>
  <div class="procedure"><h6>Pour mettre à jour le modèle généré avec des ressources</h6><ul><li>
    <p>Pour mettre à jour le modèle que vous venez de créer, vous pouvez spécifier une liste de ressources que vous souhaitez ajouter. Dans cet exemple, nous utilisons le fichier<code class="code">resources.json</code>. Voici le fichier texte JSON pour <code class="code">resources.json</code> :</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">[
    <span>{</span>
        "ResourceType": "AWS::EKS::Cluster",
        "LogicalResourceId":"Cluster",
        "ResourceIdentifier": <span>{</span>
            "ClusterName": "exampleResourceCluster"
        }
    },
    <span>{</span>
        "ResourceType": "AWS::S3::Bucket",
        "LogicalResourceId":"Bucket",
        "ResourceIdentifier": <span>{</span>
            "BucketName": "exampleResourceBucket"
        }
    },
    <span>{</span>
        "ResourceType": "AWS::EKS::Nodegroup",
        "LogicalResourceId":"Nodegroup",
        "ResourceIdentifier": <span>{</span>
            "NodegroupName": "exampleNodegroup"
        }
    },
    <span>{</span>
        "ResourceType": "AWS::IAM::Role",
        "LogicalResourceId":"Role",
        "ResourceIdentifier": <span>{</span>
            "RoleId": "arn:aws::iam::<code class="replaceable">123456789012</code>:role/S3Access"
        }
    }
]</code></pre>
    <p>Pour mettre à jour votre modèle, utilisez l'<a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/update-generated-template.html">update-generated-template</a>opération, spécifiez le nom de votre pile et spécifiez votre fichier texte pour ajouter des ressources à votre modèle. L'<code class="code">--cloud-formation-template-configuration</code>option n'étant pas incluse, les <code class="code">DeletionPolicy</code> politiques <code class="code">UpdateReplacePolicy</code> et sont définies <code class="code">Retain</code> par défaut.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="prompt" copy="false">$ </code><code class="userinput">aws cloudformation update-generated-template \
  --generated-template-name <code class="replaceable">TemplateName</code> \
  --add-resources file://<code class="replaceable">resources.json</code></code></code></pre>
    <p>La <code class="code">update-generated-template</code> commande renvoie ce qui suit.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span> 
  "Arn": "arn:aws:cloudformation:us-east-1:123456789012:template/equipment-sorter",
  "Name": "<code class="replaceable">TemplateName</code>"
}</code></pre>
   </li></ul></div>
  <div class="procedure"><h6>Pour supprimer le modèle spécifié par nom de pile</h6><ul><li>
    <p>Pour supprimer votre modèle généré, utilisez l'<a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/delete-generated-template.html">delete-generated-template</a>opération et spécifiez le nom ou l'ARN de génération du modèle.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="prompt" copy="false">$ </code><code class="userinput">aws cloudformation delete-generated-template \
  --generated-template-name <code class="replaceable">TemplateName</code></code></code></pre>
   </li></ul></div>
  
  
  <h2 id="generate-IaC-cdk-migrate">Générez et gérez des modèles à l'aide du AWS CDK</h2>
  <p> AWS Cloud Development Kit (AWS CDK) Il s'agit d'un framework de développement de logiciels open source que vous pouvez utiliser pour développer, gérer et déployer des AWS CloudFormation ressources à l'aide de langages de programmation courants.</p>
  <p>La AWS CDK CLI fournit une intégration avec le générateur IaC. Utilisez la <code class="code">cdk migrate</code> commande AWS CDK CLI pour générer un AWS CloudFormation modèle et créer une nouvelle application CDK contenant vos ressources. Vous pouvez ensuite utiliser le AWS CDK pour gérer vos ressources et les déployer sur AWS CloudFormation.</p>
  <p>Pour plus d'informations, consultez la section <a href="https://docs.aws.amazon.com/cdk/v2/guide/migrate.html">Migrer vers AWS CDK</a> dans le <em>guide duAWS Cloud Development Kit (AWS CDK) développeur</em>.</p>
 <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avertissement" /> <strong>JavaScript est désactivé ou n'est pas disponible dans votre navigateur.</strong></p><p>Pour que vous puissiez utiliser la documentation AWS, Javascript doit être activé. Vous trouverez des instructions sur les pages d'aide de votre navigateur.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Conventions de rédaction</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./scenario-sqs-queue.html">Amazon SQS</div><div id="next" class="next-link" accesskey="n" href="./generate-IaC-write-only-properties.html">Propriétés en écriture seule</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Oui</div><div class="content"><p>Merci de nous avoir fait part de votre satisfaction.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer ce qui vous a plu afin que nous puissions nous améliorer davantage.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/generate-IaC.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Non</div><div class="content"><p>Merci de nous avoir avertis que cette page avait besoin d'être retravaillée. Nous sommes désolés de ne pas avoir répondu à vos attentes.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer comment nous pourrions améliorer cette documentation.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/generate-IaC.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>