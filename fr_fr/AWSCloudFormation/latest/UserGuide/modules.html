<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="fr-FR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Utilisation de modules pour encapsuler et réutiliser les configurations de ressources - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="modules" /><meta name="default_state" content="modules" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/modules.html" /><meta name="description" content="Découvrez comment utiliser des modules pour inclure des configurations de ressources intégrant les bonnes pratiques, les connaissances des experts du secteur et les directives acceptées dans vos modèles, sans avoir à acquérir une connaissance approfondie des subtilités de l'implémentation des ressources." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Guide de l'utilisateur" /><meta name="abstract" content="Créez et gérez des déploiements AWS d'infrastructure de manière prévisible et répétée à l'aide de ce AWS CloudFormation guide de l'utilisateur." /><meta name="guide-locale" content="fr_fr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/modules.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Guide de l'utilisateur" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Guide de l'utilisateur" /><meta id="panorama-serviceConsolePage" value="Utilisation de modules pour encapsuler et réutiliser les configurations de ressources" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Utilisation de modules pour encapsuler et réutiliser les configurations de ressources - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/modules.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/modules.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/modules.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,provisionnement des ressources,configuration des ressources,gestion de l'infrastructure,CloudFormer,CloudFormation pile,CloudFormation stackset,CloudFormation modèle,jeu de modifications" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guide de l'utilisateur",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Utilisation des modèles AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/template-guide.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Utilisation de modules pour encapsuler et réutiliser les configurations de ressources",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/template-guide.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Guide de l'utilisateur</a></div><div id="page-toc-src"><a href="#modules-using">Utilisation de modules dans un modèle</a><a href="#module-using-params">Utilisation de paramètres pour spécifier des valeurs de module</a><a href="#module-ref-resources">Référencement de ressources dans un module</a><a href="#module-considerations">Considérations relatives à l'utilisation de modules</a><a href="#module-versioning">Enregistrement des modules et gestion des versions</a><a href="#module-enabling">Activation des modules publics</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Les traductions sont fournies par des outils de traduction automatique. En cas de conflit entre le contenu d'une traduction et celui de la version originale en anglais, la version anglaise prévaudra.</p></awsui-alert><h1 class="topictitle" id="modules">Utilisation de modules pour encapsuler et réutiliser les configurations de ressources</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Les <em>modules</em> vous permettent d'empaqueter des configurations de ressources pour les inclure dans les modèles de pile, de manière transparente, gérable et reproductible. Les modules peuvent encapsuler les configurations de service courantes et les bonnes pratiques en tant que blocs de création modulaires et personnalisables à inclure dans vos modèles de pile. Les modules vous permettent d'inclure des configurations de ressources qui intègrent les bonnes pratiques, les connaissances des experts du secteur et les directives acceptées (pour des domaines tels que la sécurité, la conformité, la gouvernance et les réglementations sectorielles) dans vos modèles, sans avoir à acquérir une connaissance approfondie des subtilités de l'implémentation des ressources.</p><p>Par exemple, un expert du secteur de la mise en réseau pourrait créer un module contenant des groupes de sécurité intégrés et des règles d'entrée et de sortie qui respectent les consignes de sécurité. Vous pouvez ensuite inclure ce module dans votre modèle pour allouer une infrastructure réseau sécurisée dans votre pile, sans devoir passer du temps à déterminer comment fonctionnent les VPC, les sous-réseaux, les groupes de sécurité et les passerelles. Et comme les modules sont versionnés, si les directives de sécurité changent au fil du temps, l'auteur du module peut créer une nouvelle version du module intégrant ces modifications.</p><p>Les caractéristiques de l'utilisation des modules dans vos modèles sont les suivantes :</p><div class="itemizedlist">
   
   
   
   
 <ul class="itemizedlist"><li class="listitem">
   <p><em>Prévisibilité</em> : un module doit adhérer au schéma qu'il enregistre dans le registre  CloudFormation, afin que vous sachiez quelles ressources il peut résoudre une fois que vous l'avez inclus dans votre modèle.</p>
  </li><li class="listitem">
   <p><em>Réutilisabilité</em> : vous pouvez utiliser le même module sur plusieurs modèles et comptes.</p>
  </li><li class="listitem">
   <p><em>Traçabilité</em> :  CloudFormation  conserve la connaissance des ressources d'une pile qui ont été provisionnées à partir d'un module, ce qui vous permet de comprendre facilement la source des modifications apportées aux ressources.</p>
  </li><li class="listitem">
   <p><em>Facilité de gestion</em> : une fois que vous avez enregistré un module, vous pouvez le gérer via le registre  CloudFormation, gestion des versions et disponibilité des comptes et des régions comprises.</p>
  </li></ul></div><p>Un module peut contenir :</p><div class="itemizedlist">
   
   
 <ul class="itemizedlist"><li class="listitem">
   <p>une ou plusieurs ressources à provisionner à partir du module, ainsi que toutes les données associées, telles que les sorties ou les conditions ;</p>
  </li><li class="listitem">
   <p>tous <em>les paramètres du module</em>, qui vous permettent de spécifier des valeurs personnalisées chaque fois que le module est utilisé.</p>
  </li></ul></div><p>Pour plus d'informations sur le développement de types de modules, consultez la section <a href="https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/modules-develop.html">Développement de types de module</a> dans le <em>Guide de l'utilisateur de l'interface de ligne de commande CloudFormation </em>.</p>
  <h2 id="modules-using">Utilisation de modules dans un modèle</h2>
  <p>Pour utiliser un module, assurez-vous qu'il est enregistré dans le compte et la région dans lesquels vous souhaitez l'utiliser. Pour de plus amples informations, veuillez consulter <a href="./registry.html#registry-public-private">Extensions publiques et privées</a>. Vous enregistrez les modules dans le  CloudFormation  registre en tant qu'extensions privées. Ensuite, traitez-le autant que vous le feriez pour une ressource individuelle :</p>
  <div class="itemizedlist">
    
    
  <ul class="itemizedlist"><li class="listitem">
    <p>Incluez-le dans la section <code class="code"><a href="./resources-section-structure.html">Ressources</a></code> de votre modèle.</p>
   </li><li class="listitem">
    <p>Spécifiez les propriétés nécessaires pour le module.</p>
   </li></ul></div>
  <p>Lorsque vous lancez une opération de stack,  CloudFormation  génère un modèle traité qui convertit tous les modules inclus dans les ressources appropriées. Utilisez des ensembles de modifications pour prévisualiser les ressources à ajouter ou à mettre à jour avant d'exécuter réellement l'opération de pile. Pour de plus amples informations, veuillez consulter <a href="./using-cfn-updating-stacks-changesets.html">Mise à jour des piles à l'aide de jeux de modifications</a>.</p>
  <p>Prenons l'exemple suivant : Vous disposez d'un modèle qui contient à la fois des ressources et des modules. Le modèle contient une ressource individuelle, <b>ResourceA</b>, ainsi qu'un module. <b>ModuleParent</b> Ce module contient deux ressources, <b>ResourceB</b> et <b>ResourcEC</b>, ainsi qu'un module imbriqué. <b>ModuleChild</b> <b>ModuleChild</b>contient une seule ressource, <b>ResourceD.</b> Si vous créez une pile à partir de ce modèle,  CloudFormation  traitez le modèle et associez les modules aux ressources appropriées. La pile qui en résulte dispose de quatre ressources : <b>ResourceA</b><b>, ResourceB</b>, <b>ResourceC</b>et <b>RessourceD</b>.</p>
  <div class="mediaobject">
    
    <img src="images/modules-resource-inclusion.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;    Au cours d'une opération de pile,  CloudFormation  résout les deux modules inclus dans le modèle de pile en quatre ressources appropriées.&#xA;   " style="max-width:100%" />
    
    
  </div>
  <p>CloudFormation permet de savoir quelles ressources d'une pile ont été créées à partir de modules. Vous pouvez afficher ces informations dans les onglets <b>Événements</b>, <b>Ressources</b> et<b> Écarts</b> pour une pile donnée. Elles sont également comprises dans les prévisualisations des ensembles de modifications.</p>
  <p>Les modules se distinguent des ressources d'un modèle, car ils adhèrent à la convention de dénomination en quatre parties suivante, par opposition à la convention typique en trois parties utilisée par les ressources :</p>
  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="text "><code class="replaceable">organization</code>::<code class="replaceable">service</code>::<code class="replaceable">use-case</code>::MODULE</code></pre>
  
  <h2 id="module-using-params">Utilisation de paramètres pour spécifier des valeurs de module</h2>
  <p>Les modules peuvent inclure des paramètres de module. Tout comme les paramètres de modèle, les paramètres de module vous permettent d'entrer des valeurs personnalisées dans votre module à partir du modèle (ou du module) qui le contient. Le module peut ensuite utiliser ces valeurs pour configurer les propriétés des ressources qu'il contient.</p>
  <p>Vous pouvez également définir des paramètres de modèle qui configurent à leur tour les propriétés de module, de sorte que les utilisateurs puissent entrer des valeurs qui seront transmises au module au moment de l'opération de pile. Pour plus d'informations sur la définition des paramètres du modèle, consultez<a href="./parameters-section-structure.html">Paramètres</a>.</p>
  <p>De même, si un module contient un module imbriqué qui inclut des paramètres de module, vous pouvez :</p>
  <div class="itemizedlist">
    
    
  <ul class="itemizedlist"><li class="listitem">
    <p>spécifier les valeurs des paramètres du module imbriqué directement dans le module parent ;</p>
   </li><li class="listitem">
    <p>définir les paramètres correspondants du module dans le module parent qui permettent de configurer les paramètres du module imbriqué avec le modèle (ou le module) dans lequel le module parent est contenu.</p>
   </li></ul></div>
   
   <h3 id="module-using-params-example-1">Utilisation des paramètres de modèle pour spécifier les valeurs des paramètres de module</h3>
   <p>L'exemple suivant montre comment définir des paramètres de modèle qui transmettent des valeurs à un module.</p>
   <p>Ici, le modèle contenant <code class="code">My::S3::SampleBucket::MODULE</code> définit un paramètre de modèle, <code class="code">BucketName</code>, qui permet à l'utilisateur de spécifier un nom de compartiment S3 pendant l'opération de pile.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">// Template containing My::S3::SampleBucket::MODULE
<span>{</span>
  "Parameters": <span>{</span>
    "<b>BucketName</b>": <span>{</span>
      "Description": "Name for your sample bucket",
      "Type": "String"
    }
  },
  "Resources": <span>{</span>
    "MyBucket": <span>{</span>
      "Type": "<b>My::S3::SampleBucket::MODULE</b>",
      "Properties": <span>{</span>
        "<b>BucketName</b>": <span>{</span>
          "Ref": "BucketName"
        }
      }
    }
  }
}</code></pre>
   
   
   <h3 id="module-using-params-example-2">Spécification des propriétés sur les ressources d'un module enfant à partir du module parent</h3>
   <p>L'exemple suivant illustre comment spécifier des valeurs de paramètre dans un module imbriqué dans un autre module.</p>
   <p>Ce premier module, <code class="code">My::S3::SampleBucketPrivate::MODULE</code>, sera le module enfant. Il définit deux paramètres : <code class="code">BucketName</code> et <code class="code">AccessControl</code>. Les valeurs spécifiées pour ces paramètres permettent de spécifier les propriétés <code class="code">BucketName</code> et <code class="code">AccessControl</code> de la ressource <code class="code">AWS::S3::Bucket</code> contenue par le module. Ci-dessous se trouve le fragment de modèle pour <code class="code">My::S3::SampleBucketPrivate::MODULE</code>.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">// My::S3::SampleBucketPrivate::MODULE
<span>{</span>
    "AWSTemplateFormatVersion": "2010-09-09",
    "Description": "A sample S3 Bucket with Versioning and DeletionPolicy.",
    "Parameters": <span>{</span>
        "<b>BucketName</b>": <span>{</span>
            "Description": "Name for the bucket",
            "Type": "String"
        },
        "<b>AccessControl</b>": <span>{</span>
            "Description": "AccessControl for the bucket",
            "Type": "String"
        }
    },
    "Resources": <span>{</span>
        "S3Bucket": <span>{</span>
            "Type": "AWS::S3::Bucket",
            "Properties": <span>{</span>
                "<b>BucketName</b>": <span>{</span>
                    "Ref": "BucketName"
                },
                "<b>AccessControl</b>": <span>{</span>
                    "Ref": "AccessControl"
                },
                "DeletionPolicy": "Retain",
                "VersioningConfiguration": <span>{</span>
                    "Status": "Enabled"
                }
            }
        }
    }
}</code></pre>
   <p>Ensuite, le module précédent est imbriqué dans un module parent, <code class="code">My::S3::SampleBucket::MODULE</code>. Le module parent, <code class="code">My::S3::SampleBucket::MODULE</code>, définit les paramètres du module enfant de la manière suivante :</p>
   <div class="itemizedlist">
     
     
   <ul class="itemizedlist"><li class="listitem">
     <p>Il définit le <code class="code">AccessControl</code> paramètre de <code class="code">My::S3::SampleBucketPrivate::MODULE</code> à<code class="code">Private</code>.</p>
    </li><li class="listitem">
     <p>Pour <code class="code">BucketName</code>, il définit un paramètre de module qui permettra de spécifier le nom du compartiment dans le modèle (ou le module) qui contient <code class="code">My::S3::SampleBucket::MODULE</code>.</p>
    </li></ul></div>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">// My::S3::SampleBucket::MODULE
<span>{</span>
  "AWSTemplateFormatVersion": "2010-09-09",
  "Description": "A sample S3 Bucket. With Private AccessControl.",
  "Parameters": <span>{</span>
    "<b>BucketName</b>": <span>{</span>
      "Description": "Name for your sample bucket",
      "Type": "String"
    }
  },
  "Resources": <span>{</span>
    "MyBucket": <span>{</span>
      "Type": "<b>My::S3::SampleBucketPrivate::MODULE</b>",
      "Properties": <span>{</span>
        "<b>BucketName</b>": <span>{</span>
          "Ref": "BucketName"
        },
        "<b>AccessControl</b>" : "Private"
      }
    }
  }
}</code></pre>
   
   
   <h3 id="modules-using-parameters-constraints">Spécification des contraintes pour les paramètres de module</h3>
   <p>Les paramètres du module ne prennent pas en charge l'application des contraintes. Pour de plus amples informations, veuillez consulter <a href="./parameters-section-structure.html#parameters-section-structure-properties">Propriétés</a>. Pour effectuer une vérification de contrainte sur un paramètre de module, créez un paramètre de modèle avec les contraintes souhaitées, puis référencez ce paramètre de modèle dans votre paramètre de module.</p>
   
  
  <h2 id="module-ref-resources">Référencement de ressources dans un module</h2>
  <p>Les ressources d'un module peuvent être référencées par un nom logique. Le nom logique complet d'une ressource contenue dans un module peut être construit en combinant :</p>
  <div class="itemizedlist">
    
    
  <ul class="itemizedlist"><li class="listitem">
    <p>Nom logique spécifié pour le module dans le modèle le contenant (ou le module le contenant).</p>
   </li><li class="listitem">
    <p>Nom logique de la ressource, spécifié dans le module.</p>
   </li></ul></div>
  <p>Le nom logique complet de la ressource peut être spécifié avec ou sans l'utilisation d'un point comme délimiteur. Par exemple, les deux noms logiques ci-dessous sont valides et équivalents d'un point de vue fonctionnel :</p>
  <div class="itemizedlist">
    
    
  <ul class="itemizedlist"><li class="listitem">
    <p><code class="code"><code class="replaceable">ModuleLogicalName</code>.<code class="replaceable">ResourceLogicalName</code></code></p>
   </li><li class="listitem">
    <p><code class="code"><code class="replaceable">ModuleLogicalNameResourceLogicalName</code></code></p>
   </li></ul></div>
  <p>De cette façon, vous pouvez utiliser les fonctions intrinsèques <code class="code">GetAtt</code> et <code class="code">Ref</code> pour accéder aux valeurs de propriété des ressources du module.</p>
  <p>Dans l'exemple suivant, le modèle fait référence à une propriété dans un module pour configurer une propriété correspondante sur une ressource dans le modèle lui-même.</p>
  <p>Supposons que le module <code class="code">My::S3::SampleBucket::MODULE</code> contienne une ressource <code class="code">AWS::S3::Bucket</code> avec le nom logique de <code class="code">S3Bucket</code>. Pour référencer le nom de compartiment de cette ressource à l'aide de la fonction intrinsèque <code class="code">Ref</code>, combinez le nom logique donné au module dans le modèle, <code class="code">MyBucket</code>, avec le nom logique de la ressource dans le module, <code class="code">S3Bucket</code>, pour obtenir le nom logique complet de la ressource : <code class="code">MyBucket.S3Bucket</code> ou <code class="code">MyBucketS3Bucket</code>.</p>
  <p>Les noms logiques des ressources contenues dans un module sont spécifiés dans le schéma du module. Vous pouvez accéder à ce schéma de la manière suivante :</p>
  <div class="itemizedlist">
    
    
  <ul class="itemizedlist"><li class="listitem">
    <p>Trouver le module dans le  CloudFormation  registre. L'onglet <b>Schéma</b> affiche le schéma du module.</p>
   </li><li class="listitem">
    <p>Utilisation de l'<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_DescribeType.html"><code class="code">DescribeType</code></a>opération pour renvoyer les détails du module, y compris le schéma.</p>
   </li></ul></div>

  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">// Template that uses My::S3::SampleBucket::MODULE
<span>{</span>
  "Parameters": <span>{</span>
    "BucketName": <span>{</span>
      "Description": "Name for your sample bucket",
      "Type": "String"
   }
 },
  "Resources": <span>{</span>
    "MyBucket": <span>{</span>
      "Type": "My::S3::SampleBucket::MODULE",
      "Properties": <span>{</span>
          "BucketName": <span>{</span>
            "Ref": "BucketName"
         }
      }
    },
    "exampleQueue": <span>{</span>
      "Type": "AWS::SQS::Queue",
      "Properties": <span>{</span>
          "QueueName": <span>{</span>
            "Ref": "<b>MyBucket.S3Bucket</b>"
          }
      }
    }
},
"Outputs": <span>{</span>
  "BucketArn": <span>{</span>
      "Value": <span>{</span>
          "Fn::GetAtt": [
             "<b>MyBucket</b>",
             "<b>S3Bucket.Arn</b>"
          ]
      }
    }
  }
}</code></pre>
  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Parameters:
  BucketName:
    Description: Name for your sample bucket
    Type: String
Resources:
  MyBucket:
    Type: My::S3::SampleBucket::MODULE
    Properties:
      BucketName: !Ref BucketName
  exampleQueue:
    Type: AWS::SQS::Queue
    Properties:
      QueueName: !Ref <b>MyBucket.S3Bucket</b>
Outputs:
  BucketArn:
    Value: !<b>GetAtt MyBucket.S3Bucket.Arn</b></code></pre>
  
  <h2 id="module-considerations">Considérations relatives à l'utilisation de modules</h2>
  <div class="itemizedlist">
    
    
    
    
    
    
  <ul class="itemizedlist"><li class="listitem">
    <p>L'utilisation d'un module n'implique aucun coût supplémentaire. Vous ne payez que pour les ressources que ces modules résolvent dans vos piles.</p>
   </li><li class="listitem">
    <p>CloudFormation les quotas, tels que le nombre maximum de ressources autorisées dans une pile ou la taille maximale du corps du modèle, s'appliquent au modèle traité, que les ressources incluses dans ce modèle proviennent de modules ou non. Pour de plus amples informations, veuillez consulter <a href="./cloudformation-limits.html">AWS CloudFormation quotas</a>.</p>
   </li><li class="listitem">
    <p>Les balises que vous spécifiez au niveau de la <em>pile</em> sont affectées aux ressources individuelles dérivées du module.</p>
   </li><li class="listitem">
    <p>Les scripts d'assistance spécifiés au niveau du module ne se propagent pas aux ressources individuelles contenues dans le module lors du traitement du  CloudFormation  modèle.</p>
   </li><li class="listitem">
    <p>Les sorties spécifiées dans le module sont propagées aux sorties au niveau du modèle.</p>
    <p>Chaque sortie se voit attribuer un ID logique qui est une concaténation du nom logique du module et du nom de sortie tel que défini dans le module. Pour plus d'informations sur les sorties, consultez<a href="./outputs-section-structure.html">Outputs</a>.</p>
   </li><li class="listitem">
    <p>Les paramètres spécifiés dans le module ne sont pas propagés aux paramètres au niveau du modèle.</p>
    <p>Toutefois, vous pouvez créer des paramètres au niveau du modèle qui font référence aux paramètres au niveau du module. Pour de plus amples informations, veuillez consulter <a href="#module-using-params">Utilisation de paramètres pour spécifier des valeurs de module</a>.</p>
   </li></ul></div>
  
  <h2 id="module-versioning">Enregistrement des modules et gestion des versions</h2>
  <p>Vous enregistrez et gérez les modules de votre compte et de votre région à l'aide du  CloudFormation  registre. Pour de plus amples informations, veuillez consulter <a href="./registry.html">Utilisation du AWS CloudFormation registre</a>.</p>
  <p>Vous pouvez enregistrer plusieurs versions du même module dans un compte et une région donnés. Gardez les considérations suivantes à l'esprit :</p>
  <div class="itemizedlist">
    
    
    
    
    
    
  <ul class="itemizedlist"><li class="listitem">
    <p>Un module doit être enregistré dans le compte et la région dans lesquels vous souhaitez l'utiliser.</p>
   </li><li class="listitem">
    <p>Pendant les opérations de pile,  CloudFormation  utilise la version du module actuellement enregistrée comme version par défaut <em>dans le compte et la région dans lesquels l'opération de pile est effectuée</em>. Cela inclut les modules imbriqués dans d'autres modules.</p>
    <p>Par conséquent, sachez que si différentes versions du même module sont enregistrées comme version par défaut dans différents comptes ou régions, l'utilisation du même modèle peut entraîner des résultats différents.</p>
    <p>Pour de plus amples informations, veuillez consulter <a href="./registry-private.html#registry-set-version">Spécification d'une version d'une extension privée à utiliser à l'aide d'AWS CLI</a>.</p>
   </li><li class="listitem">
    <p>Pendant les opérations de pile,  CloudFormation  utilise la version de la <em>ressource</em> actuellement enregistrée comme version par défaut dans le compte et la région dans lesquels l'opération de pile est effectuée. Cela inclut les ressources générées par l'inclusion de modules.</p>
   </li><li class="listitem">
    <p>La modification de la version par défaut d'un module ne lance aucune opération de mise à jour de la pile. Toutefois, la prochaine fois que vous effectuerez une opération de pile avec un modèle contenant ce module, comme une mise à jour de pile, la nouvelle version par défaut  CloudFormation  sera utilisée dans l'opération.</p>
    <p>La seule exception est d'effectuer une mise à jour de pile avec l'option spécifiée <b>Utiliser le modèle précédent</b>, comme décrit ci-dessous.</p>
   </li><li class="listitem">
    <p>Pour les opérations de mise à jour de pile, si vous spécifiez l'option <b>Utiliser le modèle précédent</b>,  CloudFormation utilise le modèle traité précédent pour la mise à jour de pile et ne traite pas à nouveau le module pour les modifications que vous avez pu y apporter.</p>
   </li><li class="listitem">
    <p>Pour garantir des résultats uniformes, si vous incluez des modules dans un modèle de pile à utiliser avec des ensembles de pile, vous devez vous assurer que la même version du module est configurée de la même manière que la version par défaut dans tous les comptes et régions dans lesquels vous prévoyez de déployer vos instances de pile. Cela inclut les modules imbriqués dans d'autres modules. Pour plus d'informations sur les ensembles de piles, consultez<a href="./what-is-cfnstacksets.html">Travailler avec AWS CloudFormation StackSets</a>.</p>
   </li></ul></div>
  <p>Pour plus d'informations sur l'enregistrement de nouvelles versions d'un module ou sur la modification de la version par défaut d'un module, consultez<a href="./registry.html">Utilisation du AWS CloudFormation registre</a>.</p>
  
  <h2 id="module-enabling">Activation des modules publics à utiliser dans votre compte</h2>
  <p>Afin d'activer correctement un module public dans votre compte et votre région, les conditions suivantes doivent être respectées pour chaque extension publique tierce (ressource ou module) incluse dans le module :</p>
  <div class="itemizedlist">
    
    
  <ul class="itemizedlist"><li class="listitem">
    <p>L'extension doit déjà être activée dans le compte et la région.</p>
    <p>Si l'extension du module utilise un alias de nom de type, l'extension doit être enregistrée dans votre compte et votre région en utilisant le même alias de nom de type. Pour de plus amples informations, veuillez consulter <a href="./registry-public.html#registry-public-enable-alias">Spécification d'alias pour faire référence aux extensions</a>.</p>
   </li><li class="listitem">
    <p>La version d'extension actuellement activée doit être l'une des versions majeures prises en charge de cette extension spécifiée dans le module. Pour plus d'informations, consultez la section <a href="https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/modules-structure.html#modules-structure-publishing-prereqs">Configuration requise pour publier un module public</a> dans le <em>guide de l'utilisateur de la CloudFormation  CLI</em>.</p>
   </li></ul></div>
  <p>Si les extensions et versions d'extension publiques tierces ne sont pas activées correctement, l'opération  CloudFormation échouera et une erreur indiquera les extensions et/ou les versions qui doivent être activées pour que le module puisse être activé avec succès.</p>
 <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avertissement" /> <strong>JavaScript est désactivé ou n'est pas disponible dans votre navigateur.</strong></p><p>Pour que vous puissiez utiliser la documentation AWS, Javascript doit être activé. Vous trouverez des instructions sur les pages d'aide de votre navigateur.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Conventions de rédaction</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./macros-example.html">Exemple de macro : Création et utilisation d'une macro</div><div id="next" class="next-link" accesskey="n" href="./blue-green.html">Effectuer des déploiements ECS bleu/vert</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Oui</div><div class="content"><p>Merci de nous avoir fait part de votre satisfaction.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer ce qui vous a plu afin que nous puissions nous améliorer davantage.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/modules.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Non</div><div class="content"><p>Merci de nous avoir avertis que cette page avait besoin d'être retravaillée. Nous sommes désolés de ne pas avoir répondu à vos attentes.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer comment nous pourrions améliorer cette documentation.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/modules.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>