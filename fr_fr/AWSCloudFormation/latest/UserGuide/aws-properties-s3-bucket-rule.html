<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>AWS::S3::Bucket Rule - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="aws-properties-s3-bucket-rule" /><meta name="default_state" content="aws-properties-s3-bucket-rule" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-s3-bucket-rule.html" /><meta name="description" content="Use the AWS CloudFormation AWS::S3::Bucket.Rule resource for S3." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Create and manage AWS infrastructure deployments predictably and repeatedly using AWS CloudFormation with this User Guide." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json;toc-AWS_S3.json" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-s3-bucket-rule.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-properties-s3-bucket-rule.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-properties-s3-bucket-rule.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-properties-s3-bucket-rule.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-properties-s3-bucket-rule.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-s3-bucket-rule.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-s3-bucket-rule.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-properties-s3-bucket-rule.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-properties-s3-bucket-rule.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-properties-s3-bucket-rule.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-properties-s3-bucket-rule.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-properties-s3-bucket-rule.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-properties-s3-bucket-rule.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-properties-s3-bucket-rule.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-properties-s3-bucket-rule.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-properties-s3-bucket-rule.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-properties-s3-bucket-rule.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-properties-s3-bucket-rule.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-properties-s3-bucket-rule.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/aws-properties-s3-bucket-rule.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/aws-properties-s3-bucket-rule.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-s3-bucket-rule.html" hreflang="x-default" /><meta name="feedback-item" content="S3" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="AWS::S3::Bucket Rule" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>AWS::S3::Bucket Rule - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=S3&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-properties-s3-bucket-rule.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-properties-s3-bucket-rule.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-properties-s3-bucket-rule.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Amazon Simple Storage Service (Amazon S3) resource type reference",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/AWS_S3.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "AWS::S3::Bucket",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-s3-bucket.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "AWS::S3::Bucket Rule",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-s3-bucket.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="AWS_S3.html">User Guide</a></div><div id="page-toc-src"><a href="#aws-properties-s3-bucket-rule-syntax">Syntax</a><a href="#aws-properties-s3-bucket-rule-properties">Properties</a><a href="#aws-properties-s3-bucket-rule--examples">Examples</a><a href="#aws-properties-s3-bucket-rule--seealso">See also</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="aws-properties-s3-bucket-rule">AWS::S3::Bucket Rule</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Specifies lifecycle rules for an Amazon S3 bucket. For more information, see <a href="https://docs.aws.amazon.com/AmazonS3/latest/API/RESTBucketPUTlifecycle.html">Put Bucket
        Lifecycle Configuration</a> in the <em>Amazon S3 API Reference</em>.</p><p>You must specify at least one of the following properties:
        <code class="code">AbortIncompleteMultipartUpload</code>, <code class="code">ExpirationDate</code>,
        <code class="code">ExpirationInDays</code>, <code class="code">NoncurrentVersionExpirationInDays</code>,
        <code class="code">NoncurrentVersionTransition</code>, <code class="code">NoncurrentVersionTransitions</code>,
        <code class="code">Transition</code>, or <code class="code">Transitions</code>.</p><h2 id="aws-properties-s3-bucket-rule-syntax">Syntax</h2><p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p><div id="JSON" name="JSON" class="section langfilter"><h3 id="aws-properties-s3-bucket-rule-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "<a href="#cfn-s3-bucket-rule-abortincompletemultipartupload">AbortIncompleteMultipartUpload</a>" : <code class="replaceable"><a href="./aws-properties-s3-bucket-abortincompletemultipartupload.html">AbortIncompleteMultipartUpload</a></code>,
  "<a href="#cfn-s3-bucket-rule-expirationdate">ExpirationDate</a>" : <code class="replaceable">String</code>,
  "<a href="#cfn-s3-bucket-rule-expirationindays">ExpirationInDays</a>" : <code class="replaceable">Integer</code>,
  "<a href="#cfn-s3-bucket-rule-expiredobjectdeletemarker">ExpiredObjectDeleteMarker</a>" : <code class="replaceable">Boolean</code>,
  "<a href="#cfn-s3-bucket-rule-id">Id</a>" : <code class="replaceable">String</code>,
  "<a href="#cfn-s3-bucket-rule-noncurrentversionexpiration">NoncurrentVersionExpiration</a>" : <code class="replaceable"><a href="./aws-properties-s3-bucket-noncurrentversionexpiration.html">NoncurrentVersionExpiration</a></code>,
  "<a href="#cfn-s3-bucket-rule-noncurrentversionexpirationindays">NoncurrentVersionExpirationInDays</a>" : <code class="replaceable">Integer</code>,
  "<a href="#cfn-s3-bucket-rule-noncurrentversiontransition">NoncurrentVersionTransition</a>" : <code class="replaceable"><a href="./aws-properties-s3-bucket-noncurrentversiontransition.html">NoncurrentVersionTransition</a></code>,
  "<a href="#cfn-s3-bucket-rule-noncurrentversiontransitions">NoncurrentVersionTransitions</a>" : <code class="replaceable">[ <a href="./aws-properties-s3-bucket-noncurrentversiontransition.html">NoncurrentVersionTransition</a>, ... ]</code>,
  "<a href="#cfn-s3-bucket-rule-objectsizegreaterthan">ObjectSizeGreaterThan</a>" : <code class="replaceable">String</code>,
  "<a href="#cfn-s3-bucket-rule-objectsizelessthan">ObjectSizeLessThan</a>" : <code class="replaceable">String</code>,
  "<a href="#cfn-s3-bucket-rule-prefix">Prefix</a>" : <code class="replaceable">String</code>,
  "<a href="#cfn-s3-bucket-rule-status">Status</a>" : <code class="replaceable">String</code>,
  "<a href="#cfn-s3-bucket-rule-tagfilters">TagFilters</a>" : <code class="replaceable">[ <a href="./aws-properties-s3-bucket-tagfilter.html">TagFilter</a>, ... ]</code>,
  "<a href="#cfn-s3-bucket-rule-transition">Transition</a>" : <code class="replaceable"><a href="./aws-properties-s3-bucket-transition.html">Transition</a></code>,
  "<a href="#cfn-s3-bucket-rule-transitions">Transitions</a>" : <code class="replaceable">[ <a href="./aws-properties-s3-bucket-transition.html">Transition</a>, ... ]</code>
}
</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h3 id="aws-properties-s3-bucket-rule-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">  <a href="#cfn-s3-bucket-rule-abortincompletemultipartupload">AbortIncompleteMultipartUpload</a>: <code class="replaceable">
    <a href="./aws-properties-s3-bucket-abortincompletemultipartupload.html">AbortIncompleteMultipartUpload</a></code>
  <a href="#cfn-s3-bucket-rule-expirationdate">ExpirationDate</a>: <code class="replaceable">String</code>
  <a href="#cfn-s3-bucket-rule-expirationindays">ExpirationInDays</a>: <code class="replaceable">Integer</code>
  <a href="#cfn-s3-bucket-rule-expiredobjectdeletemarker">ExpiredObjectDeleteMarker</a>: <code class="replaceable">Boolean</code>
  <a href="#cfn-s3-bucket-rule-id">Id</a>: <code class="replaceable">String</code>
  <a href="#cfn-s3-bucket-rule-noncurrentversionexpiration">NoncurrentVersionExpiration</a>: <code class="replaceable">
    <a href="./aws-properties-s3-bucket-noncurrentversionexpiration.html">NoncurrentVersionExpiration</a></code>
  <a href="#cfn-s3-bucket-rule-noncurrentversionexpirationindays">NoncurrentVersionExpirationInDays</a>: <code class="replaceable">Integer</code>
  <a href="#cfn-s3-bucket-rule-noncurrentversiontransition">NoncurrentVersionTransition</a>: <code class="replaceable">
    <a href="./aws-properties-s3-bucket-noncurrentversiontransition.html">NoncurrentVersionTransition</a></code>
  <a href="#cfn-s3-bucket-rule-noncurrentversiontransitions">NoncurrentVersionTransitions</a>: <code class="replaceable">
    - <a href="./aws-properties-s3-bucket-noncurrentversiontransition.html">NoncurrentVersionTransition</a></code>
  <a href="#cfn-s3-bucket-rule-objectsizegreaterthan">ObjectSizeGreaterThan</a>: <code class="replaceable">String</code>
  <a href="#cfn-s3-bucket-rule-objectsizelessthan">ObjectSizeLessThan</a>: <code class="replaceable">String</code>
  <a href="#cfn-s3-bucket-rule-prefix">Prefix</a>: <code class="replaceable">String</code>
  <a href="#cfn-s3-bucket-rule-status">Status</a>: <code class="replaceable">String</code>
  <a href="#cfn-s3-bucket-rule-tagfilters">TagFilters</a>: <code class="replaceable">
    - <a href="./aws-properties-s3-bucket-tagfilter.html">TagFilter</a></code>
  <a href="#cfn-s3-bucket-rule-transition">Transition</a>: <code class="replaceable">
    <a href="./aws-properties-s3-bucket-transition.html">Transition</a></code>
  <a href="#cfn-s3-bucket-rule-transitions">Transitions</a>: <code class="replaceable">
    - <a href="./aws-properties-s3-bucket-transition.html">Transition</a></code>
</code></pre></div><h2 id="aws-properties-s3-bucket-rule-properties">Properties</h2><div class="variablelist"><dl><dt id="cfn-s3-bucket-rule-abortincompletemultipartupload"><span class="term"><code class="code">AbortIncompleteMultipartUpload</code></span></dt><dd>
    <p>Specifies a lifecycle rule that stops incomplete multipart uploads to an Amazon S3
      bucket.</p>
  <p><em>Required</em>: Conditional</p><p><em>Type</em>: <a href="./aws-properties-s3-bucket-abortincompletemultipartupload.html">AbortIncompleteMultipartUpload</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-s3-bucket-rule-expirationdate"><span class="term"><code class="code">ExpirationDate</code></span></dt><dd>
    <p>Indicates when objects are deleted from Amazon S3 and Amazon S3 Glacier. The date value
      must be in ISO 8601 format. The time is always midnight UTC. If you specify an expiration and
      transition time, you must use the same time unit for both properties (either in days or by
      date). The expiration time must also be later than the transition time.</p>
  <p><em>Required</em>: Conditional</p><p><em>Type</em>: String</p><p><em>Pattern</em>: <code class="code">^([0-2]\d<span>{</span>3})-(0[0-9]|1[0-2])-([0-2]\d|3[01])T([01]\d|2[0-4]):([0-5]\d):([0-6]\d)((\.\d<span>{</span>3})?)Z$</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-s3-bucket-rule-expirationindays"><span class="term"><code class="code">ExpirationInDays</code></span></dt><dd>
    <p>Indicates the number of days after creation when objects are deleted from Amazon S3 and
      Amazon S3 Glacier. If you specify an expiration and transition time, you must use the same
      time unit for both properties (either in days or by date). The expiration time must also be
      later than the transition time.</p>
  <p><em>Required</em>: Conditional</p><p><em>Type</em>: Integer</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-s3-bucket-rule-expiredobjectdeletemarker"><span class="term"><code class="code">ExpiredObjectDeleteMarker</code></span></dt><dd>
    
    <p>Indicates whether Amazon S3 will remove a delete marker without any noncurrent versions.
      If set to true, the delete marker will be removed if there are no noncurrent versions. This
      cannot be specified with <code class="code">ExpirationInDays</code>, <code class="code">ExpirationDate</code>, or
        <code class="code">TagFilters</code>.</p>
  <p><em>Required</em>: No</p><p><em>Type</em>: Boolean</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-s3-bucket-rule-id"><span class="term"><code class="code">Id</code></span></dt><dd>
         <p>Unique identifier for the rule. The value can't be longer than 255 characters.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Maximum</em>: <code class="code">255</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-s3-bucket-rule-noncurrentversionexpiration"><span class="term"><code class="code">NoncurrentVersionExpiration</code></span></dt><dd>
    <p>Specifies when noncurrent object versions expire. Upon expiration, Amazon S3
      permanently deletes the noncurrent object versions. You set this lifecycle configuration
      action on a bucket that has versioning enabled (or suspended) to request that Amazon S3 delete noncurrent object versions at a specific period in the object's
      lifetime.</p>
  <p><em>Required</em>: No</p><p><em>Type</em>: <a href="./aws-properties-s3-bucket-noncurrentversionexpiration.html">NoncurrentVersionExpiration</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-s3-bucket-rule-noncurrentversionexpirationindays"><span class="term"><code class="code">NoncurrentVersionExpirationInDays</code></span></dt><dd>
    <p>(Deprecated.) For buckets with versioning enabled (or suspended), specifies the time, in
      days, between when a new version of the object is uploaded to the bucket and when old versions
      of the object expire. When object versions expire, Amazon S3 permanently deletes them. If you
      specify a transition and expiration time, the expiration time must be later than the
      transition time.</p>
  <p><em>Required</em>: Conditional</p><p><em>Type</em>: Integer</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-s3-bucket-rule-noncurrentversiontransition"><span class="term"><code class="code">NoncurrentVersionTransition</code></span></dt><dd>
    <p>(Deprecated.) For buckets with versioning enabled (or suspended), specifies when
      non-current objects transition to a specified storage class. If you specify a transition and
      expiration time, the expiration time must be later than the transition time. If you specify
      this property, don't specify the <code class="code">NoncurrentVersionTransitions</code> property.</p>
  <p><em>Required</em>: Conditional</p><p><em>Type</em>: <a href="./aws-properties-s3-bucket-noncurrentversiontransition.html">NoncurrentVersionTransition</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-s3-bucket-rule-noncurrentversiontransitions"><span class="term"><code class="code">NoncurrentVersionTransitions</code></span></dt><dd>
    <p>For buckets with versioning enabled (or suspended), one or more transition rules that
      specify when non-current objects transition to a specified storage class. If you specify a
      transition and expiration time, the expiration time must be later than the transition time. If
      you specify this property, don't specify the <code class="code">NoncurrentVersionTransition</code>
      property.</p>
  <p><em>Required</em>: Conditional</p><p><em>Type</em>: Array of <a href="./aws-properties-s3-bucket-noncurrentversiontransition.html">NoncurrentVersionTransition</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-s3-bucket-rule-objectsizegreaterthan"><span class="term"><code class="code">ObjectSizeGreaterThan</code></span></dt><dd>
    <p>Specifies the minimum object size in bytes for this rule to apply to. Objects must be
      larger than this value in bytes. For more information about size based rules, see <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/lifecycle-configuration-examples.html#lc-size-rules">Lifecycle configuration using size-based rules</a> in the <em>Amazon S3 User
        Guide</em>.</p>
  <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Pattern</em>: <code class="code">[0-9]+</code></p><p><em>Maximum</em>: <code class="code">20</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-s3-bucket-rule-objectsizelessthan"><span class="term"><code class="code">ObjectSizeLessThan</code></span></dt><dd>
    <p>Specifies the maximum object size in bytes for this rule to apply to. Objects must be
      smaller than this value in bytes. For more information about sized based rules, see <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/lifecycle-configuration-examples.html#lc-size-rules">Lifecycle configuration using size-based rules</a> in the <em>Amazon S3 User
        Guide</em>.</p>
  <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Pattern</em>: <code class="code">[0-9]+</code></p><p><em>Maximum</em>: <code class="code">20</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-s3-bucket-rule-prefix"><span class="term"><code class="code">Prefix</code></span></dt><dd>
         <p>Object key prefix that identifies one or more objects to which this rule applies.</p>
         <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>Replacement must be made for object keys containing special characters (such as carriage returns) when using 
         XML requests. For more information, see <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/object-keys.html#object-key-xml-related-constraints">
            XML related object key constraints</a>.</p></div></div>
      <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-s3-bucket-rule-status"><span class="term"><code class="code">Status</code></span></dt><dd>
         <p>If <code class="code">Enabled</code>, the rule is currently being applied. If <code class="code">Disabled</code>,
         the rule is not currently being applied.</p>
      <p><em>Required</em>: Yes</p><p><em>Type</em>: String</p><p><em>Allowed values</em>: <code class="code">Enabled | Disabled</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-s3-bucket-rule-tagfilters"><span class="term"><code class="code">TagFilters</code></span></dt><dd>
    <p>Tags to use to identify a subset of objects to which the lifecycle rule applies.</p>
  <p><em>Required</em>: No</p><p><em>Type</em>: Array of <a href="./aws-properties-s3-bucket-tagfilter.html">TagFilter</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-s3-bucket-rule-transition"><span class="term"><code class="code">Transition</code></span></dt><dd>
    <p>(Deprecated.) Specifies when an object transitions to a specified storage class. If you
      specify an expiration and transition time, you must use the same time unit for both properties
      (either in days or by date). The expiration time must also be later than the transition time.
      If you specify this property, don't specify the <code class="code">Transitions</code> property.</p>
  <p><em>Required</em>: Conditional</p><p><em>Type</em>: <a href="./aws-properties-s3-bucket-transition.html">Transition</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-s3-bucket-rule-transitions"><span class="term"><code class="code">Transitions</code></span></dt><dd>
    <p>One or more transition rules that specify when an object transitions to a specified
      storage class. If you specify an expiration and transition time, you must use the same time
      unit for both properties (either in days or by date). The expiration time must also be later
      than the transition time. If you specify this property, don't specify the
        <code class="code">Transition</code> property.</p>
  <p><em>Required</em>: Conditional</p><p><em>Type</em>: Array of <a href="./aws-properties-s3-bucket-transition.html">Transition</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd></dl></div><h2 id="aws-properties-s3-bucket-rule--examples">Examples</h2><p></p><h3 id="aws-properties-s3-bucket-rule--examples--Manage_the_lifecycle_for_S3_objects">Manage the lifecycle for S3 objects</h3><p>The following example template shows an S3 bucket with a lifecycle configuration rule.
          The rule applies to all objects with the <code class="code">glacier</code> key prefix. The objects are
          transitioned to Glacier after one day, and deleted after one year.</p><div id="JSON" name="JSON" class="section langfilter"><h4 id="aws-properties-s3-bucket-rule--examples--Manage_the_lifecycle_for_S3_objects--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "AWSTemplateFormatVersion": "2010-09-09",
    "Resources": <span>{</span>
        "S3Bucket": <span>{</span>
            "Type": "AWS::S3::Bucket",
            "Properties": <span>{</span>
                "AccessControl": "Private",
                "LifecycleConfiguration": <span>{</span>
                    "Rules": [
                        <span>{</span>
                            "Id": "GlacierRule",
                            "Prefix": "glacier",
                            "Status": "Enabled",
                            "ExpirationInDays": 365,
                            "Transitions": [
                                <span>{</span>
                                    "TransitionInDays": 1,
                                    "StorageClass": "GLACIER"
                                }
                            ]
                        }
                    ]
                }
            }
        }
    },
    "Outputs": <span>{</span>
        "BucketName": <span>{</span>
            "Value": <span>{</span>
                "Ref": "S3Bucket"
            },
            "Description": "Name of the sample Amazon S3 bucket with a lifecycle configuration."
        }
    }
}</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-properties-s3-bucket-rule--examples--Manage_the_lifecycle_for_S3_objects--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">AWSTemplateFormatVersion: 2010-09-09
Resources:
  S3Bucket:
    Type: 'AWS::S3::Bucket'
    Properties:
      AccessControl: Private
      LifecycleConfiguration:
        Rules:
          - Id: GlacierRule
            Prefix: glacier
            Status: Enabled
            ExpirationInDays: 365
            Transitions:
              - TransitionInDays: 1
                StorageClass: GLACIER
Outputs:
  BucketName:
    Value: !Ref S3Bucket
    Description: Name of the sample Amazon S3 bucket with a lifecycle configuration.</code></pre></div><h2 id="aws-properties-s3-bucket-rule--seealso">See also</h2><div class="itemizedlist">
         
      <ul class="itemizedlist"><li class="listitem">
          <p>AWS::S3::Bucket <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-s3-bucket.html#aws-properties-s3-bucket--examples">Examples</a></p>
        </li></ul></div><p></p><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./aws-properties-s3-bucket-routingrulecondition.html">RoutingRuleCondition</div><div id="next" class="next-link" accesskey="n" href="./aws-properties-s3-bucket-s3keyfilter.html">S3KeyFilter</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=S3&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-properties-s3-bucket-rule.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=S3&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-properties-s3-bucket-rule.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>