<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="fr-FR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>cfn-hup - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="cfn-hup" /><meta name="default_state" content="cfn-hup" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-hup.html" /><meta name="description" content="Détecte les modifications des métadonnées des ressources et exécute des actions spécifiées par l'utilisateur lorsque cela se produit." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Guide de l'utilisateur" /><meta name="abstract" content="Créez et gérez des déploiements AWS d'infrastructure de manière prévisible et répétée à l'aide de ce AWS CloudFormation guide de l'utilisateur." /><meta name="guide-locale" content="fr_fr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-hup.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Guide de l'utilisateur" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Guide de l'utilisateur" /><meta id="panorama-serviceConsolePage" value="cfn-hup" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>cfn-hup - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-hup.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-hup.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-hup.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,provisionnement des ressources,configuration des ressources,gestion de l'infrastructure,CloudFormer,CloudFormation pile,CloudFormation stackset,CloudFormation modèle,jeu de modifications" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guide de l'utilisateur",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Référence de modèles",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/template-reference.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Référence des scripts d'assistant CloudFormation",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-helper-scripts-reference.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "cfn-hup",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-helper-scripts-reference.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Guide de l'utilisateur</a></div><div id="page-toc-src"><a href="#cfn-hup-Description">Description</a><a href="#cfn-hup-Syntax">Syntaxe</a><a href="#cfn-hup-options">Options</a><a href="#cfn-hup-config-file">Fichier de configuration cfn-hup.conf</a><a href="#cfn-hup-hook-file">Fichier de configuration hooks.conf</a><a href="#cfn-hup-hooks-dir">Répertoire hooks.d</a><a href="#cfn-hup-example">Exemple</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Les traductions sont fournies par des outils de traduction automatique. En cas de conflit entre le contenu d'une traduction et celui de la version originale en anglais, la version anglaise prévaudra.</p></awsui-alert><h1 class="topictitle" id="cfn-hup">cfn-hup</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div>
         <h2 id="cfn-hup-Description">Description</h2>


         <p>Le script d'assistant cfn-hup est un programme démon qui détecte les modifications des métadonnées des ressources et exécute des actions spécifiées par l'utilisateur lorsque cela se produit. Cette approche vous permet d'apporter des mises à jour de configuration dans les instances Amazon EC2 en cours d'exécution via l'action d'API <code class="code">UpdateStack</code>.</p>
       
         <h2 id="cfn-hup-Syntax">Syntaxe</h2>

         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">cfn-hup --config|-c config.dir \
        --no-daemon \
        --verbose|-v</code></pre>

       
         <h2 id="cfn-hup-options">Options</h2>

         <div class="table-container"><div class="table-contents"><table id="w1348aac27c23c29b9b3"><thead>
                  <tr>
                     <th>Name (Nom)</th>
                     <th>Description</th>
                     <th>Obligatoire</th>
                  </tr>
               </thead>
                  <tr>
                     <td tabindex="-1">
                        <p>
                           <code class="code">--config|-c config.dir</code>
                        </p>
                     </td>
                     <td tabindex="-1">
                        <p>Spécifie le chemin d'accès sous lequel le script cfn-hup recherche les répertoires <code>cfn-hup.conf</code> et <code>hooks.d</code>. Sur Windows, le chemin d'accès par défaut est <code class="code"><code class="replaceable">system_drive</code>\cfn</code>. Sur Linux, le chemin d'accès par défaut est <code class="code">/etc/cfn</code>.</p>
                     </td>
                     <td tabindex="-1">
                        <p>Non</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p>
                           <code class="code">--no-daemon</code>
                        </p>
                     </td>
                     <td tabindex="-1">
                        <p>Spécifiez cette option pour exécuter le script cfn-hup une fois, puis quittez le programme.</p>
                     </td>
                     <td tabindex="-1">
                        <p>Non</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p>
                           <code class="code">-v, --verbose </code>
                        </p>
                     </td>
                     <td tabindex="-1">
                        <p>Spécifiez cette option pour utiliser le mode détaillé.</p>
                     </td>
                     <td tabindex="-1">
                        <p>Non</p>
                     </td>
                  </tr>
               </table></div></div>
       
         <h2 id="cfn-hup-config-file">Fichier de configuration cfn-hup.conf</h2>


         <p>Le fichier cfn-hup.conf stocke le nom de la pile et les informations d' AWS identification ciblées par le démon cfn-hup.</p>

         <p>Le fichier cfn-hup.conf utilise le format suivant :</p>

         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="conf ">[main]
stack=<code class="replaceable">&lt;stack-name-or-id&gt; </code> </code></pre>

         <div class="table-container"><div class="table-contents"><table id="w1348aac27c23c29c11b9"><thead>
                  <tr>
                     <th>Name (Nom)</th>
                     <th>Description</th>
                     <th>Obligatoire</th>
                  </tr>
               </thead>
                  <tr>
                     <td tabindex="-1">
                        <p>
                           <code class="code">stack</code>
                        </p>
                     </td>
                     <td tabindex="-1">
                        <p>Nom ou ID de la pile.</p>
                        <p><em>Type</em> : chaîne</p>
                     </td>
                     <td tabindex="-1">
                        <p>Oui</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p>
                           <code class="code">credential-file</code>
                        </p>
                     </td>
                     <td tabindex="-1">
                        <p>Fichier d'informations d'identification spécifique au propriétaire, dans le format utilisé pour les outils de ligne de commande.</p>
                        <p><em>Type</em> : chaîne</p>
                        <p><em>Condition</em> : le paramètre <code class="code">role</code> prévaut sur ce paramètre.</p>
                     </td>
                     <td tabindex="-1">
                        <p>Non</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p>
                           <code class="code">role</code>
                        </p>
                     </td>
                     <td tabindex="-1">
                        <p>Nom d'un rôle IAM associé à l'instance.</p>
                        <p><em>Type</em> : chaîne</p>
                     </td>
                     <td tabindex="-1">
                        <p>Non</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p>
                           <code class="code">region</code>
                        </p>
                     </td>
                     <td tabindex="-1">
                        <p>Nom de la AWS région contenant la pile.</p>
                        <p><em>Exemple</em> </p>
                     </td>
                     <td tabindex="-1">
                        <p>Non</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p>
                           <code class="code">umask</code>
                        </p>
                     </td>
                     <td tabindex="-1">
                        <p>Umask utilisé par le démon cfn-hup.</p>
                        <p>Cette valeur peut être spécifiée avec ou sans 0 de tête. Dans les deux cas, elle est interprétée comme un nombre octal (similaire à la commande Linux <code class="code">umask</code>). Ce paramètre n'a aucun effet sur Windows.</p>
                        <p><em>Type</em> : octal entier compris entre <code class="code">0</code> et <code class="code">0777</code></p>
                        <p><em>Par défaut</em> : <code class="code">022</code>, versions 1.4–22 et ultérieures. La valeur par défaut de <code class="code">022</code> masque les autorisations de lecture pour les groupes et pour quiconque. Les fichiers crées par le démon cfn-hup ne sont donc pas accessibles en écriture par les groupes ni par tous par défaut. La valeur par défaut pour les versions 1.4–21 et antérieures est <code class="code">0</code>, ce qui ne masque rien.</p>
                     </td>
                     <td tabindex="-1">
                        <p>Non</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p>
                           <code class="code">interval</code>
                        </p>
                     </td>
                     <td tabindex="-1">
                        <p>Intervalle, en minutes, utilisé pour rechercher les modifications des métadonnées.</p>
                        <p><em>Type</em> : entier</p>
                        <p><em>Par défaut</em> : <code class="code">15</code></p>
                     </td>
                     <td tabindex="-1">
                        <p>Non</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p>
                           <code class="code">verbose</code>
                        </p>
                     </td>
                     <td tabindex="-1">
                        <p>Spécifie si la journalisation détaillée doit être utilisée.</p>
                        <p><em>Type</em> : valeur booléenne</p>
                        <p><em>Par défaut</em> : <code class="code">false</code></p>
                     </td>
                     <td tabindex="-1">
                        <p>Non</p>
                     </td>
                  </tr>
               </table></div></div>
       
         <h2 id="cfn-hup-hook-file">Fichier de configuration hooks.conf</h2>


         <p>Les actions utilisateur que le programme démon cfn-hup appelle périodiquement sont définies dans le fichier de configuration hooks.conf. Le fichier hooks.conf utilise le <em>format</em> suivant :</p>

         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="conf ">[hookname]
triggers=post.add <code class="replaceable">or</code> post.update <code class="replaceable">or</code> post.remove
path=Resources.<code class="replaceable">&lt;logicalResourceId&gt;</code> (.Metadata <code class="replaceable">or</code> .PhysicalResourceId)(.<code class="replaceable">&lt;optionalMetadatapath&gt;</code>)
action=<code class="replaceable">&lt;arbitrary shell command&gt;</code>
runas=<code class="replaceable">&lt;runas user&gt;</code> </code></pre>

         <p>Lorsque l'opération est exécutée, elle est exécutée dans une copie de l'environnement actuel (dans lequel se trouve cfn-hup), avec CFN_OLD_METADATA défini à la valeur précédente des métadonnées spécifiée par le chemin, et CFN_NEW_METADATA défini à la valeur actuelle.</p>

         <p>Le fichier de configuration hooks est chargé uniquement au démarrage du programme démon cfn-hup. En cas de nouveaux hooks, le démon devra donc être redémarré. Un cache des valeurs de métadonnées précédentes est stocké sous /var/lib/cfn-hup/data/metadata_db. Vous pouvez supprimer ce cache pour forcer cfn-hup à exécuter toutes les actions post.add à nouveau.</p>

         <div class="table-container"><div class="table-contents"><table id="w1348aac27c23c29c13c11"><thead>
                  <tr>
                     <th>Name (Nom)</th>
                     <th>Description</th>
                     <th>Obligatoire</th>
                  </tr>
               </thead>
                  <tr>
                     <td tabindex="-1">
                        <p>
                           <code class="code">hookname</code>
                        </p>
                     </td>
                     <td tabindex="-1">
                        <p>Nom unique de ce hook.</p>
                        <p><em>Type</em> : chaîne</p>
                     </td>
                     <td tabindex="-1">
                        <p>Oui</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p>
                           <code class="code">triggers</code>
                        </p>
                     </td>
                     <td tabindex="-1">
                        <p>Liste CSV des conditions à détecter.</p>
                        <p><em>Valeurs valides</em> : <code class="code">post.add</code>, <code class="code">post.update</code> ou <code class="code">post.remove</code></p>
                        <p><em>Exemple</em> : <code class="code">post.add,
                           post.update</code></p>
                     </td>
                     <td tabindex="-1">
                        <p>Oui</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p>
                           <code class="code">path</code>
                        </p>
                     </td>
                     <td tabindex="-1">
                        <p>Chemin d'accès vers l'objet de métadonnées. Prend en charge un chemin d'accès long arbitraire dans le bloc de métadonnées.</p>
                        <p></p>
                        <div class="itemizedlist">
                           <h6>Options de format de chemin d'accès</h6>
                            
                            
                            
                        <ul class="itemizedlist"><li class="listitem">
                              <p>Ressources. <code class="replaceable">&lt; LogicalResourceId &gt;</code> — surveille l'heure de la dernière mise à jour de la ressource, déclenchant toute modification apportée à la ressource.</p>
                           </li><li class="listitem">
                              <p>Ressources. <code class="replaceable">&lt; LogicalResourceId &gt;</code>. PhysicalResourceId— surveille l'ID physique de la ressource, en se déclenchant uniquement lorsque l'identité de la ressource associée change (par exemple, une nouvelle instance EC2).</p>
                           </li><li class="listitem">
                              <p>Ressources. <code class="replaceable">&lt; LogicalResourceId &gt;</code> .Metadata (<code class="replaceable">chemin .optional</code>) : surveille les métadonnées d'une ressource pour détecter les modifications (un sous-chemin de métadonnées peut être spécifié à un niveau approfondi arbitraire pour surveiller des valeurs spécifiques).</p>
                           </li></ul></div>
                     </td>
                     <td tabindex="-1">
                        <p>Oui</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p>
                           <code class="code">action</code>
                        </p>
                     </td>
                     <td tabindex="-1">
                        <p>Commande shell arbitraire qui est exécutée telle quelle.</p>
                     </td>
                     <td tabindex="-1">
                        <p>Oui</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p>
                           <code class="code">runas</code>
                        </p>
                     </td>
                     <td tabindex="-1">
                        <p>Utilisateur sous lequel exécuter les commandes. Cfn-hup utilise la commande su pour passer à cet utilisateur.</p>
                     </td>
                     <td tabindex="-1">
                        <p>Oui</p>
                     </td>
                  </tr>
               </table></div></div>
       
         <h2 id="cfn-hup-hooks-dir">Répertoire hooks.d</h2>

         <p>Pour permettre la composition de plusieurs applications déployant des hooks de notification des modifications, cfn-hup prend en charge un répertoire nommé hooks.d qui se trouve dans le répertoire de configuration des hooks. Vous pouvez ajouter un ou plusieurs fichiers de configuration de hooks dans le répertoire hooks.d. Les fichiers hooks supplémentaires doivent utiliser la même disposition que le fichier hooks.conf.</p>

         <p>Le programme démon cfn-hup analyse et charge chaque fichier dans ce répertoire. Si des hooks du répertoire hooks.d ont le même nom qu'un hook du fichier hooks.conf, ils seront fusionnés (autrement dit, hooks.d remplacera hooks.conf pour toutes les valeurs dupliquées).</p>
       
         <h2 id="cfn-hup-example">Exemple</h2>

         <p>Dans l'extrait de modèle suivant,  CloudFormation  déclenche le fichier <code class="code">cfn-auto-reloader.conf</code> hooks lorsque vous modifiez la <code class="code">AWS::CloudFormation::Init</code> ressource associée à la <code class="code">LaunchConfig</code> ressource.</p>
         <div id="JSON" name="JSON" class="section langfilter">
            <h3 id="cfn-hup-example.json">JSON</h3>

            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">...
    "LaunchConfig": <span>{</span>
      "Type" : "AWS::AutoScaling::LaunchConfiguration",
      "Metadata" : <span>{</span>
        "QBVersion": <span>{</span>"Ref": "paramQBVersion"},
        "AWS::CloudFormation::Init" : <span>{</span>
...
              "/etc/cfn/hooks.d/cfn-auto-reloader.conf": <span>{</span>
                "content": <span>{</span> "Fn::Join": [ "", [
                  "[cfn-auto-reloader-hook]\n",
                  "triggers=post.update\n",
                  "path=Resources.LaunchConfig.Metadata.AWS::CloudFormation::Init\n",
                  "action=/opt/aws/bin/cfn-init -v ",
                          "         --stack ", <span>{</span> "Ref" : "AWS::StackName" },
                          "         --resource LaunchConfig ",
                          "         --configsets wordpress_install ",
                          "         --region ", <span>{</span> "Ref" : "AWS::Region" }, "\n",
                  "runas=root\n"
                ]]},          
                "mode"  : "000400",
                "owner" : "root",
                "group" : "root"
              }
...</code></pre>
         </div>
         <div id="YAML" name="YAML" class="section langfilter">
            <h3 id="cfn-hup-example.yaml">YAML</h3>

            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">...
  LaunchConfig:
    Type: "AWS::AutoScaling::LaunchConfiguration"
    Metadata:
      QBVersion: !Ref paramQBVersion
      AWS::CloudFormation::Init:
...
            /etc/cfn/hooks.d/cfn-auto-reloader.conf:
              content: !Sub |
                [cfn-auto-reloader-hook]
                triggers=post.update
                path=Resources.LaunchConfig.Metadata.AWS::CloudFormation::Init
                action=/opt/aws/bin/cfn-init -v --stack $<span>{</span>AWS::StackName} --resource LaunchConfig --configsets wordpress_install --region $<span>{</span>AWS::Region}
                runas=root
              mode: "000400"
              owner: "root"
              group: "root"
...</code></pre>
         </div>
          
            <h3 id="w9aac34c42c33c15b9">Autre exemple</h3>

            <p>Pour voir un exemple de modèle, consultez <a href="./deploying.applications.html">Déploiement d'applications sur Amazon EC2 avec AWS CloudFormation</a>.</p>
          
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avertissement" /> <strong>JavaScript est désactivé ou n'est pas disponible dans votre navigateur.</strong></p><p>Pour que vous puissiez utiliser la documentation AWS, Javascript doit être activé. Vous trouverez des instructions sur les pages d'aide de votre navigateur.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Conventions de rédaction</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./cfn-get-metadata.html">cfn-get-metadata</div><div id="next" class="next-link" accesskey="n" href="./service_code_examples.html">Exemples de code</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Oui</div><div class="content"><p>Merci de nous avoir fait part de votre satisfaction.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer ce qui vous a plu afin que nous puissions nous améliorer davantage.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-hup.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Non</div><div class="content"><p>Merci de nous avoir avertis que cette page avait besoin d'être retravaillée. Nous sommes désolés de ne pas avoir répondu à vos attentes.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer comment nous pourrions améliorer cette documentation.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-hup.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>