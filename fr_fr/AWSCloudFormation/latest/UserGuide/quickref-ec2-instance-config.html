<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="fr-FR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Configurez des instances Amazon EC2 via AWS CloudFormation - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="quickref-ec2-instance-config" /><meta name="default_state" content="quickref-ec2-instance-config" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" /><meta name="description" content="Utilisez ces exemples d'extraits de modèle pour configurer les instances Amazon EC2 avec AWS CloudFormation." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Guide de l'utilisateur" /><meta name="abstract" content="Créez et gérez des déploiements AWS d'infrastructure de manière prévisible et répétée à l'aide de ce AWS CloudFormation guide de l'utilisateur." /><meta name="guide-locale" content="fr_fr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Guide de l'utilisateur" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Guide de l'utilisateur" /><meta id="panorama-serviceConsolePage" value="Configurez des instances Amazon EC2 via AWS CloudFormation" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Configurez des instances Amazon EC2 via AWS CloudFormation - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,provisionnement des ressources,configuration des ressources,gestion de l'infrastructure,CloudFormer,CloudFormation pile,CloudFormation stackset,CloudFormation modèle,jeu de modifications" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guide de l'utilisateur",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Utilisation des modèles AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/template-guide.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Extraits de modèle",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/CHAP_TemplateQuickRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Extraits de modèles Amazon EC2 CloudFormation",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/quickref-ec2.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Configurez des instances Amazon EC2 via AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/quickref-ec2.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Guide de l'utilisateur</a></div><div id="page-toc-src"><a href="#quickref-ec2-instance-config-general">Configurations générales d'Amazon EC2</a><a href="#scenario-ec2-bdm">Spécifier les mappages de périphérique de stockage en mode bloc pour une instance</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Les traductions sont fournies par des outils de traduction automatique. En cas de conflit entre le contenu d'une traduction et celui de la version originale en anglais, la version anglaise prévaudra.</p></awsui-alert><h1 class="topictitle" id="quickref-ec2-instance-config">Configurez des instances Amazon EC2 via AWS CloudFormation</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Les extraits suivants montrent comment configurer les instances Amazon EC2 à l'aide d'AWS CloudFormation.</p><div class="highlights" id="inline-topiclist"><h6>Catégories d'extraits</h6><ul><li><a href="#quickref-ec2-instance-config-general">Configurations générales d'Amazon EC2</a></li><li><a href="#scenario-ec2-bdm">Spécifier les mappages de périphérique de stockage en mode bloc pour une instance</a></li></ul></div>
            <h2 id="quickref-ec2-instance-config-general">Configurations générales d'Amazon EC2</h2>
            <p>Les extraits suivants illustrent les configurations générales pour les instances Amazon EC2 utilisant AWS CloudFormation.</p>
            <div class="highlights" id="inline-topiclist"><h6>Exemples d'extraits</h6><ul><li><a href="#scenario-ec2-instance">Créer une instance Amazon EC2 dans une zone de disponibilité donnée</a></li><li><a href="#scenario-ec2-instance-with-vol-and-tags">Configurer une instance Amazon EC2 balisée avec un volume EBS et des données utilisateur</a></li><li><a href="#scenario-ec2-with-sdb-domain">Définir le nom de la table DynamoDB dans les données utilisateur pour le lancement de l'instance Amazon EC2</a></li><li><a href="#scenario-ec2-volume">Créer un volume Amazon EBS avec DeletionPolicy</a></li></ul></div>
             
                <h3 id="scenario-ec2-instance">Créer une instance Amazon EC2 dans une zone de disponibilité donnée</h3>
                <p>L'extrait suivant crée une instance Amazon EC2 dans la zone de disponibilité spécifiée à l'aide d'une ressource. <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-instance.html">AWS::EC2::Instance</a> Le code d'une zone de disponibilité représente son code de région suivi d'un identifiant à lettre. Vous pouvez lancer une instance dans une seule zone de disponibilité. </p>
                <div id="JSON" name="JSON" class="section langfilter">
                    <h4 id="quickref-ec2-example-6.json">JSON</h4>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Ec2Instance": <span>{</span>
    "Type": "AWS::EC2::Instance",
    "Properties": <span>{</span>
        "AvailabilityZone": "<code class="replaceable">aa-example-1a</code>",
        "ImageId": "<code class="replaceable">ami-1234567890abcdef0</code>"
    }
}</code></pre>
                </div>
                <div id="YAML" name="YAML" class="section langfilter">
                    <h4 id="quickref-ec2-example-6.yaml">YAML</h4>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Ec2Instance:
  Type: AWS::EC2::Instance
  Properties:
    AvailabilityZone: <code class="replaceable">aa-example-1a</code>
    ImageId: <code class="replaceable">ami-1234567890abcdef0</code></code></pre>
                </div>
             
             
                <h3 id="scenario-ec2-instance-with-vol-and-tags">Configurer une instance Amazon EC2 balisée avec un volume EBS et des données utilisateur</h3>
                <p>L'extrait suivant crée une instance Amazon EC2 avec une balise, un volume EBS et des données utilisateur. Il utilise une <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-instance.html">AWS::EC2::Instance</a>ressource. Dans le même modèle, vous devez définir une <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-security-group.html">AWS::EC2::SecurityGroup</a>ressource, une <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-sns-topic.html">AWS::SNS::Topic</a>ressource et une <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-volume.html">AWS::EC2::Volume</a>ressource. Le <code class="code">KeyName</code> doit être défini dans la section du modèle <code class="code">Parameters</code>.</p>
                <p>Les balises vous permettent de classer vos ressources AWS en fonction vos préférences tels que l'objectif, le propriétaire ou l'environnement. Les données utilisateur permettent de fournir des scripts ou des données personnalisés à une instance lors du lancement. Ces données facilitent l'automatisation des tâches, la configuration logicielle, l'installation de packages et d'autres actions sur une instance lors de l'initialisation. </p>
                <p>Pour plus d'informations sur le balisage de vos ressources, consultez <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/Using_Tags.html">Baliser vos ressources Amazon EC2</a>. </p>
                <p>Pour plus d'informations sur les données utilisateur, consultez <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-metadata.html">Métadonnées d'instance et données utilisateur</a> (français non garanti).</p>
                <div id="JSON" name="JSON" class="section langfilter">
                    <h4 id="quickref-ec2-example-7.json">JSON</h4>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Ec2Instance": <span>{</span>
  "Type": "AWS::EC2::Instance",
  "Properties": <span>{</span>
    "KeyName": <span>{</span> "Ref": "KeyName" },
    "SecurityGroups": [ <span>{</span> "Ref": "Ec2SecurityGroup" } ],
    "UserData": <span>{</span>
      "Fn::Base64": <span>{</span>
        "Fn::Join": [ ":", [
            "PORT=80",
            "TOPIC=",
            <span>{</span> "Ref": "MySNSTopic" }
          ]
        ]
      }
    },
    "InstanceType": "<code class="replaceable">aa.size</code>",
    "AvailabilityZone": "<code class="replaceable">aa-example-1a</code>",
    "ImageId": "<code class="replaceable">ami-1234567890abcdef0</code>",
    "Volumes": [
      <span>{</span>
        "VolumeId": <span>{</span> "Ref": "MyVolumeResource" },
        "Device": "/dev/sdk"
      }
    ],
    "Tags": [ <span>{</span> "Key": "Name", "Value": "MyTag" } ]
  }
}</code></pre>
                </div>
                <div id="YAML" name="YAML" class="section langfilter">
                    <h4 id="quickref-ec2-example-7.yaml">YAML</h4>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Ec2Instance:
  Type: AWS::EC2::Instance
  Properties:
    KeyName: !Ref KeyName
    SecurityGroups:
      - !Ref Ec2SecurityGroup
    UserData:
      Fn::Base64:
        Fn::Join:
          - ":"
          - - "PORT=80"
            - "TOPIC="
            - !Ref MySNSTopic
    InstanceType: <code class="replaceable">aa.size</code>
    AvailabilityZone: <code class="replaceable">aa-example-1a</code>
    ImageId: <code class="replaceable">ami-1234567890abcdef0</code>
    Volumes:
      - VolumeId: !Ref MyVolumeResource
        Device: "/dev/sdk"
    Tags:
      - Key: Name
        Value: MyTag</code></pre>
                </div>
             
             
                <h3 id="scenario-ec2-with-sdb-domain">Définir le nom de la table DynamoDB dans les données utilisateur pour le lancement de l'instance Amazon EC2</h3>
                <p>L'extrait suivant crée une instance Amazon EC2 et définit un nom de table DynamoDB dans les données utilisateur à transmettre à l'instance lors du lancement. Il utilise une <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-instance.html">AWS::EC2::Instance</a>ressource. Vous pouvez définir des paramètres ou des valeurs dynamiques dans les données utilisateur pour transmettre une instance EC2 au lancement. </p>
                <p>Pour plus d'informations sur les données utilisateur, consultez <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-metadata.html">Métadonnées d'instance et données utilisateur</a> (français non garanti). </p>
                <div id="JSON" name="JSON" class="section langfilter">
                    <h4 id="quickref-ec2-example-8.json">JSON</h4>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Ec2Instance": <span>{</span>
    "Type": "AWS::EC2::Instance",
    "Properties": <span>{</span>
        "UserData": <span>{</span>
            "Fn::Base64": <span>{</span>
                "Fn::Join": [
                    "",
                    [
                        "TableName=",
                        <span>{</span>
                            "Ref": "DynamoDBTableName"
                        }
                    ]
                ]
            }
        },
        "AvailabilityZone": "<code class="replaceable">aa-example-1a</code>",
        "ImageId": "<code class="replaceable">ami-1234567890abcdef0</code>"
    }
}</code></pre>
                </div>
                <div id="YAML" name="YAML" class="section langfilter">
                    <h4 id="quickref-ec2-example-8.yaml">YAML</h4>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Ec2Instance:
  Type: AWS::EC2::Instance
  Properties:
    UserData:
      Fn::Base64:
        Fn::Join:
          - ''
          - - 'TableName='
            - Ref: DynamoDBTableName
    AvailabilityZone: <code class="replaceable">aa-example-1a</code>
    ImageId: <code class="replaceable">ami-1234567890abcdef0</code></code></pre>
                </div>
             
             
                <h3 id="scenario-ec2-volume">Créer un volume Amazon EBS avec <code class="code">DeletionPolicy</code></h3>
                <p>Les extraits suivants créent un volume Amazon EBS à l'aide d'une ressource Amazon EC2. <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-volume.html">AWS::EC2::Volume</a> Vous pouvez utiliser les propriétés <code class="code">Size</code> or <code class="code">SnapshotID</code> pour définir le volume, mais pas les deux. Un attribut <code class="code">DeletionPolicy</code> est défini pour créer un instantané du volume lorsque la pile est supprimée. </p>
                <p>Pour plus d'informations sur l'attribut <code class="code">DeletionPolicy</code>, consultez <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-deletionpolicy.html">Attribut <code class="code">DeletionPolicy</code></a>.</p>
                <p>Pour plus d'informations sur la création d'es volumes Amazon EBS, consultez <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-creating-volume.html">Créer un volume Amazon EBS</a>.</p>
                <div id="JSON" name="JSON" class="section langfilter">
                    <h4 id="quickref-ec2-example-13.json">JSON</h4>
                    <p>Cet extrait crée un volume Amazon EBS d'une <b>taille</b> spécifiée. La taille est fixée à 10, mais vous pouvez l'ajuster selon vos besoins. La <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-volume.html">AWS::EC2::Volume</a>ressource vous permet de spécifier la taille ou un identifiant de capture d'écran, mais pas les deux.</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"MyEBSVolume": <span>{</span>
    "Type": "AWS::EC2::Volume",
    "Properties": <span>{</span>
        "Size": "<code class="userinput">10</code>",
        "AvailabilityZone": <span>{</span>
            "Ref": "AvailabilityZone"
        }
    },
    "DeletionPolicy": "Snapshot"
}</code></pre>
                </div>
                <p>Cet extrait crée un volume Amazon EBS à l'aide d'un <b>ID d'instantané</b> fourni. La <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-volume.html">AWS::EC2::Volume</a>ressource vous permet de spécifier la taille ou un identifiant de capture d'écran, mais pas les deux.</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"MyEBSVolume": <span>{</span>
    "Type": "AWS::EC2::Volume",
    "Properties": <span>{</span>
        "SnapshotId" : "<code class="userinput">snap-1234567890abcdef0</code>",
        "AvailabilityZone": <span>{</span>
            "Ref": "AvailabilityZone"
        }
    },
    "DeletionPolicy": "Snapshot"
}</code></pre>
                <div id="YAML" name="YAML" class="section langfilter">
                    <h4 id="quickref-ec2-example-13.yaml">YAML</h4>
                    <p>Cet extrait crée un volume Amazon EBS d'une <b>taille</b> spécifiée. La taille est fixée à 10, mais vous pouvez l'ajuster selon vos besoins. La <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-volume.html">AWS::EC2::Volume</a>ressource vous permet de spécifier la taille ou un identifiant de capture d'écran, mais pas les deux.</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">MyEBSVolume:
  Type: AWS::EC2::Volume
  Properties:
    Size: <code class="userinput">10</code>
    AvailabilityZone:
      Ref: AvailabilityZone
  DeletionPolicy: Snapshot</code></pre>
                    <p>Cet extrait crée un volume Amazon EBS à l'aide d'un <b>ID d'instantané</b> fourni. La <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-volume.html">AWS::EC2::Volume</a>ressource vous permet de spécifier la taille ou un identifiant de capture d'écran, mais pas les deux.</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">MyEBSVolume:
  Type: AWS::EC2::Volume
  Properties:
    SnapshotId: <code class="userinput">snap-1234567890abcdef0</code>
    AvailabilityZone:
      Ref: AvailabilityZone
  DeletionPolicy: Snapshot</code></pre>
                </div>
             
         
            <h2 id="scenario-ec2-bdm">Spécifier les mappages de périphérique de stockage en mode bloc pour une instance</h2>
            <p>Un mappage de périphérique de stockage en mode bloc définit les périphériques de stockage en mode bloc qui comprennent les volumes de stockage d'instance et volumes EBS devant être attachés à l'instance. Vous pouvez spécifier un mappage de périphérique de stockage en mode bloc lors de la création d'une AMI, afin que le mappage soit utilisé par toutes les instances lancées à partir de l'AMI. Vous pouvez également spécifier un mappage de périphérique de stockage en mode bloc lorsque vous lancez une instance, afin que son mappage remplace celui spécifié dans l'AMI à partir de laquelle vous avez lancé l'instance.</p>
            <p>Vous pouvez utiliser les extraits de modèle suivants pour spécifier les mappages de périphériques par blocs pour vos volumes EBS ou de stockage d'instance à l'aide de la <code class="code">BlockDeviceMappings</code> propriété d'une ressource. <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-instance.html">AWS::EC2::Instance</a> </p>
            <p>Pour plus d'informations sur les mappages de périphérique de stockage en mode bloc, consultez <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/block-device-mapping-concepts.html">Mappage de périphérique de stockage en mode bloc</a> dans le <em>Guide de l'utilisateur Amazon EC2</em>.</p>
            <div class="highlights" id="inline-topiclist"><h6>Scénarios</h6><ul><li><a href="#w9aac23c21c43c13b9c11">Spécifier les mappages de périphériques de stockage en mode bloc pour deux volumes EBS</a></li><li><a href="#w9aac23c21c43c13b9c13">Spécifier le mappage de périphérique de stockage en mode bloc d'un volume de stockage d'instances</a></li></ul></div>
             
                <h3 id="w9aac23c21c43c13b9c11">Spécifier les mappages de périphériques de stockage en mode bloc pour deux volumes EBS</h3>
                <div id="JSON" name="JSON" class="section langfilter">
                    <h4 id="quickref-ec2-example-1.json">JSON</h4>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Ec2Instance": <span>{</span>
    "Type": "AWS::EC2::Instance",
    "Properties": <span>{</span>
      "ImageId": <span>{</span>
        "Fn::FindInMap": [
          "<code class="replaceable">AWSRegionArch2AMI</code>",
          <span>{</span> "Ref": "AWS::Region" },
          <span>{</span>
            "Fn::FindInMap": [
              "<code class="replaceable">AWSInstanceType2Arch</code>",
              <span>{</span> "Ref": "InstanceType" },
              "Arch"
            ]
          }
        ]
      },
      "KeyName": <span>{</span> "Ref": "KeyName" },
      "InstanceType": <span>{</span> "Ref": "InstanceType" },
      "SecurityGroups": [<span>{</span> "Ref": "Ec2SecurityGroup" }],
      "BlockDeviceMappings": [
        <span>{</span>
          "DeviceName": "<code class="replaceable">/dev/sda1</code>",
          "Ebs": <span>{</span> "VolumeSize": "<code class="replaceable">50</code>" }
        },
        <span>{</span>
          "DeviceName": "<code class="replaceable">/dev/sdm</code>",
          "Ebs": <span>{</span> "VolumeSize": "<code class="replaceable">100</code>" }
        }
      ]
    }
  }
}</code></pre>
                </div>
                <div id="YAML" name="YAML" class="section langfilter">
                    <h4 id="quickref-ec2-example-1.yaml">YAML</h4>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">EC2Instance:
    Type: AWS::EC2::Instance
    Properties:
      ImageId: !FindInMap [<code class="replaceable">AWSRegionArch2AMI</code>, !Ref 'AWS::Region', !FindInMap [<code class="replaceable">AWSInstanceType2Arch</code>, !Ref InstanceType, Arch]]
      KeyName: !Ref KeyName
      InstanceType: !Ref InstanceType
      SecurityGroups:
        - !Ref Ec2SecurityGroup
      BlockDeviceMappings:
        -
          DeviceName: <code class="replaceable">/dev/sda1</code>
          Ebs:
            VolumeSize: <code class="replaceable">50</code>
        -
          DeviceName: <code class="replaceable">/dev/sdm</code>
          Ebs:
            VolumeSize: <code class="replaceable">100</code></code></pre>
                </div>
             
             
                <h3 id="w9aac23c21c43c13b9c13">Spécifier le mappage de périphérique de stockage en mode bloc d'un volume de stockage d'instances</h3>
                <div id="JSON" name="JSON" class="section langfilter">
                    <h4 id="quickref-ec2-example-2.json">JSON</h4>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Ec2Instance" : <span>{</span>
  "Type" : "AWS::EC2::Instance", 
  "Properties" : <span>{</span>
    "ImageId" : <span>{</span> "Fn::FindInMap" : [ "<code class="replaceable">AWSRegionArch2AMI</code>", <span>{</span> "Ref" : "AWS::Region" }, "<code class="replaceable">HVM64</code>" ]},
    "KeyName" : <span>{</span> "Ref" : "KeyName" },
    "InstanceType": <span>{</span> "Ref": "InstanceType" },
    "SecurityGroups" : [<span>{</span> "Ref" : "Ec2SecurityGroup" }],
    "BlockDeviceMappings" : [
      <span>{</span>
        "DeviceName"  : "<code class="replaceable">/dev/sdc</code>",
        "VirtualName" : "<code class="replaceable">ephemeral0</code>"
      }
    ]
  }
}</code></pre>
                </div>
                <div id="YAML" name="YAML" class="section langfilter">
                    <h4 id="quickref-ec2-example-2.yaml">YAML</h4>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">EC2Instance:
  Type: AWS::EC2::Instance
  Properties:
    ImageId: !FindInMap
      - <code class="replaceable">AWSRegionArch2AMI</code>
      - !Ref AWS::Region
      - HVM64
    KeyName: !Ref KeyName
    InstanceType: !Ref InstanceType
    SecurityGroups:
      - !Ref Ec2SecurityGroup
    BlockDeviceMappings:
      - DeviceName: <code class="replaceable">/dev/sdc</code>
        VirtualName: <code class="replaceable">ephemeral0</code></code></pre>
                </div>
             
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avertissement" /> <strong>JavaScript est désactivé ou n'est pas disponible dans votre navigateur.</strong></p><p>Pour que vous puissiez utiliser la documentation AWS, Javascript doit être activé. Vous trouverez des instructions sur les pages d'aide de votre navigateur.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Conventions de rédaction</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./quickref-ec2.html">Amazon EC2</div><div id="next" class="next-link" accesskey="n" href="./quickref-ec2-launch-templates.html">Création de modèles de lancement</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Oui</div><div class="content"><p>Merci de nous avoir fait part de votre satisfaction.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer ce qui vous a plu afin que nous puissions nous améliorer davantage.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Non</div><div class="content"><p>Merci de nous avoir avertis que cette page avait besoin d'être retravaillée. Nous sommes désolés de ne pas avoir répondu à vos attentes.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer comment nous pourrions améliorer cette documentation.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>