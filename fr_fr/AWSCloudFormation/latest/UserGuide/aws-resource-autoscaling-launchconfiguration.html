<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>AWS::AutoScaling::LaunchConfiguration - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="aws-resource-autoscaling-launchconfiguration" /><meta name="default_state" content="aws-resource-autoscaling-launchconfiguration" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-autoscaling-launchconfiguration.html" /><meta name="description" content="Use the AWS CloudFormation AWS::AutoScaling::LaunchConfiguration resource for AutoScaling." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Create and manage AWS infrastructure deployments predictably and repeatedly using AWS CloudFormation with this User Guide." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json;toc-AWS_AutoScaling.json" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-autoscaling-launchconfiguration.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-autoscaling-launchconfiguration.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-autoscaling-launchconfiguration.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-autoscaling-launchconfiguration.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-autoscaling-launchconfiguration.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-autoscaling-launchconfiguration.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-autoscaling-launchconfiguration.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-resource-autoscaling-launchconfiguration.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-resource-autoscaling-launchconfiguration.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-resource-autoscaling-launchconfiguration.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-resource-autoscaling-launchconfiguration.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-resource-autoscaling-launchconfiguration.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-resource-autoscaling-launchconfiguration.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-resource-autoscaling-launchconfiguration.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-resource-autoscaling-launchconfiguration.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-autoscaling-launchconfiguration.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-autoscaling-launchconfiguration.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-resource-autoscaling-launchconfiguration.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-resource-autoscaling-launchconfiguration.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/aws-resource-autoscaling-launchconfiguration.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/aws-resource-autoscaling-launchconfiguration.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-autoscaling-launchconfiguration.html" hreflang="x-default" /><meta name="feedback-item" content="Auto Scaling" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="AWS::AutoScaling::LaunchConfiguration" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>AWS::AutoScaling::LaunchConfiguration - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Auto%20Scaling&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-autoscaling-launchconfiguration.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-autoscaling-launchconfiguration.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-autoscaling-launchconfiguration.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Amazon EC2 Auto Scaling resource type reference",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/AWS_AutoScaling.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "AWS::AutoScaling::LaunchConfiguration",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/AWS_AutoScaling.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="AWS_AutoScaling.html">User Guide</a></div><div id="page-toc-src"><a href="#aws-resource-autoscaling-launchconfiguration-syntax">Syntax</a><a href="#aws-resource-autoscaling-launchconfiguration-properties">Properties</a><a href="#aws-resource-autoscaling-launchconfiguration-return-values">Return values</a><a href="#aws-resource-autoscaling-launchconfiguration--remarks">Remarks</a><a href="#aws-resource-autoscaling-launchconfiguration--examples">Examples</a><a href="#aws-resource-autoscaling-launchconfiguration--seealso">See also</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="aws-resource-autoscaling-launchconfiguration">AWS::AutoScaling::LaunchConfiguration</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>The <code class="code">AWS::AutoScaling::LaunchConfiguration</code> resource specifies the launch
      configuration that can be used by an Auto Scaling group to configure Amazon EC2 instances. </p><p>When you update the launch configuration for an Auto Scaling group, CloudFormation deletes
      that resource and creates a new launch configuration with the updated properties and a new
      name. Existing instances are not affected. To update existing instances when you update the
        <code class="code">AWS::AutoScaling::LaunchConfiguration</code> resource, you can specify an <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html">UpdatePolicy
        attribute</a> for the group. You can find sample update policies for rolling updates in
        <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/quickref-ec2-auto-scaling.html">Configure Amazon EC2
        Auto Scaling resources</a>. </p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Amazon EC2 Auto Scaling configures instances launched as part of an Auto Scaling group
        using either a <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-launchtemplate.html">launch
          template</a> or a launch configuration. We strongly recommend that you do not use
        launch configurations. For more information, see <a href="https://docs.aws.amazon.com/autoscaling/ec2/userguide/launch-configurations.html">Launch configurations</a>
        in the <em>Amazon EC2 Auto Scaling User Guide</em>.</p><p>For help migrating from launch configurations to launch templates, see <a href="https://docs.aws.amazon.com/autoscaling/ec2/userguide/migrate-launch-configurations-with-cloudformation.html">Migrate AWS CloudFormation stacks from launch configurations to launch
          templates</a> in the <em>Amazon EC2 Auto Scaling User Guide</em>.</p></div></div><h2 id="aws-resource-autoscaling-launchconfiguration-syntax">Syntax</h2><p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p><div id="JSON" name="JSON" class="section langfilter"><h3 id="aws-resource-autoscaling-launchconfiguration-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Type" : "AWS::AutoScaling::LaunchConfiguration",
  "Properties" : <span>{</span>
      "<a href="#cfn-autoscaling-launchconfiguration-associatepublicipaddress">AssociatePublicIpAddress</a>" : <code class="replaceable">Boolean</code>,
      "<a href="#cfn-autoscaling-launchconfiguration-blockdevicemappings">BlockDeviceMappings</a>" : <code class="replaceable">[ <a href="./aws-properties-autoscaling-launchconfiguration-blockdevicemapping.html">BlockDeviceMapping</a>, ... ]</code>,
      "<a href="#cfn-autoscaling-launchconfiguration-classiclinkvpcid">ClassicLinkVPCId</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-autoscaling-launchconfiguration-classiclinkvpcsecuritygroups">ClassicLinkVPCSecurityGroups</a>" : <code class="replaceable">[ String, ... ]</code>,
      "<a href="#cfn-autoscaling-launchconfiguration-ebsoptimized">EbsOptimized</a>" : <code class="replaceable">Boolean</code>,
      "<a href="#cfn-autoscaling-launchconfiguration-iaminstanceprofile">IamInstanceProfile</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-autoscaling-launchconfiguration-imageid">ImageId</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-autoscaling-launchconfiguration-instanceid">InstanceId</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-autoscaling-launchconfiguration-instancemonitoring">InstanceMonitoring</a>" : <code class="replaceable">Boolean</code>,
      "<a href="#cfn-autoscaling-launchconfiguration-instancetype">InstanceType</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-autoscaling-launchconfiguration-kernelid">KernelId</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-autoscaling-launchconfiguration-keyname">KeyName</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-autoscaling-launchconfiguration-launchconfigurationname">LaunchConfigurationName</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-autoscaling-launchconfiguration-metadataoptions">MetadataOptions</a>" : <code class="replaceable"><a href="./aws-properties-autoscaling-launchconfiguration-metadataoptions.html">MetadataOptions</a></code>,
      "<a href="#cfn-autoscaling-launchconfiguration-placementtenancy">PlacementTenancy</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-autoscaling-launchconfiguration-ramdiskid">RamDiskId</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-autoscaling-launchconfiguration-securitygroups">SecurityGroups</a>" : <code class="replaceable">[ String, ... ]</code>,
      "<a href="#cfn-autoscaling-launchconfiguration-spotprice">SpotPrice</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-autoscaling-launchconfiguration-userdata">UserData</a>" : <code class="replaceable">String</code>
    }
}
</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h3 id="aws-resource-autoscaling-launchconfiguration-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Type: AWS::AutoScaling::LaunchConfiguration
Properties:
  <a href="#cfn-autoscaling-launchconfiguration-associatepublicipaddress">AssociatePublicIpAddress</a>: <code class="replaceable">Boolean</code>
  <a href="#cfn-autoscaling-launchconfiguration-blockdevicemappings">BlockDeviceMappings</a>: <code class="replaceable">
    - <a href="./aws-properties-autoscaling-launchconfiguration-blockdevicemapping.html">BlockDeviceMapping</a></code>
  <a href="#cfn-autoscaling-launchconfiguration-classiclinkvpcid">ClassicLinkVPCId</a>: <code class="replaceable">String</code>
  <a href="#cfn-autoscaling-launchconfiguration-classiclinkvpcsecuritygroups">ClassicLinkVPCSecurityGroups</a>: <code class="replaceable">
    - String</code>
  <a href="#cfn-autoscaling-launchconfiguration-ebsoptimized">EbsOptimized</a>: <code class="replaceable">Boolean</code>
  <a href="#cfn-autoscaling-launchconfiguration-iaminstanceprofile">IamInstanceProfile</a>: <code class="replaceable">String</code>
  <a href="#cfn-autoscaling-launchconfiguration-imageid">ImageId</a>: <code class="replaceable">String</code>
  <a href="#cfn-autoscaling-launchconfiguration-instanceid">InstanceId</a>: <code class="replaceable">String</code>
  <a href="#cfn-autoscaling-launchconfiguration-instancemonitoring">InstanceMonitoring</a>: <code class="replaceable">Boolean</code>
  <a href="#cfn-autoscaling-launchconfiguration-instancetype">InstanceType</a>: <code class="replaceable">String</code>
  <a href="#cfn-autoscaling-launchconfiguration-kernelid">KernelId</a>: <code class="replaceable">String</code>
  <a href="#cfn-autoscaling-launchconfiguration-keyname">KeyName</a>: <code class="replaceable">String</code>
  <a href="#cfn-autoscaling-launchconfiguration-launchconfigurationname">LaunchConfigurationName</a>: <code class="replaceable">String</code>
  <a href="#cfn-autoscaling-launchconfiguration-metadataoptions">MetadataOptions</a>: <code class="replaceable">
    <a href="./aws-properties-autoscaling-launchconfiguration-metadataoptions.html">MetadataOptions</a></code>
  <a href="#cfn-autoscaling-launchconfiguration-placementtenancy">PlacementTenancy</a>: <code class="replaceable">String</code>
  <a href="#cfn-autoscaling-launchconfiguration-ramdiskid">RamDiskId</a>: <code class="replaceable">String</code>
  <a href="#cfn-autoscaling-launchconfiguration-securitygroups">SecurityGroups</a>: <code class="replaceable">
    - String</code>
  <a href="#cfn-autoscaling-launchconfiguration-spotprice">SpotPrice</a>: <code class="replaceable">String</code>
  <a href="#cfn-autoscaling-launchconfiguration-userdata">UserData</a>: <code class="replaceable">String</code>
</code></pre></div><h2 id="aws-resource-autoscaling-launchconfiguration-properties">Properties</h2><div class="variablelist"><dl><dt id="cfn-autoscaling-launchconfiguration-associatepublicipaddress"><span class="term"><code class="code">AssociatePublicIpAddress</code></span></dt><dd>
         <p>Specifies whether to assign a public IPv4 address to the group's instances. If the
            instance is launched into a default subnet, the default is to assign a public IPv4
            address, unless you disabled the option to assign a public IPv4 address on the subnet.
            If the instance is launched into a nondefault subnet, the default is not to assign a
            public IPv4 address, unless you enabled the option to assign a public IPv4 address on
            the subnet.</p>
         <p>If you specify <code class="code">true</code>, each instance in the Auto Scaling group receives a unique
            public IPv4 address. For more information, see <a href="https://docs.aws.amazon.com/autoscaling/ec2/userguide/asg-in-vpc.html">Launching Auto Scaling instances in a
                VPC</a> in the <em>Amazon EC2 Auto Scaling User Guide</em>.</p>
         <p>If you specify this property, you must specify at least one subnet for
            <code class="code">VPCZoneIdentifier</code> when you create your group.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: Boolean</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-autoscaling-launchconfiguration-blockdevicemappings"><span class="term"><code class="code">BlockDeviceMappings</code></span></dt><dd>
         <p>The block device mapping entries that define the block devices to attach to the
            instances at launch. By default, the block devices specified in the block device mapping
            for the AMI are used. For more information, see <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/block-device-mapping-concepts.html">Block device
                mappings</a> in the <em>Amazon EC2 User Guide for Linux Instances</em>.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: Array of <a href="./aws-properties-autoscaling-launchconfiguration-blockdevicemapping.html">BlockDeviceMapping</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-autoscaling-launchconfiguration-classiclinkvpcid"><span class="term"><code class="code">ClassicLinkVPCId</code></span></dt><dd>
         <p>Available for backward compatibility.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-autoscaling-launchconfiguration-classiclinkvpcsecuritygroups"><span class="term"><code class="code">ClassicLinkVPCSecurityGroups</code></span></dt><dd>
         <p>Available for backward compatibility.</p>
      <p><em>Required</em>: Conditional</p><p><em>Type</em>: Array of String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-autoscaling-launchconfiguration-ebsoptimized"><span class="term"><code class="code">EbsOptimized</code></span></dt><dd>
         <p>Specifies whether the launch configuration is optimized for EBS I/O
            (<code class="code">true</code>) or not (<code class="code">false</code>). The optimization provides dedicated
            throughput to Amazon EBS and an optimized configuration stack to provide optimal I/O
            performance. This optimization is not available with all instance types. Additional fees
            are incurred when you enable EBS optimization for an instance type that is not
            EBS-optimized by default. For more information, see <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSOptimized.html">Amazon EBS-optimized instances</a> in
            the <em>Amazon EC2 User Guide for Linux Instances</em>.</p>
         <p>The default value is <code class="code">false</code>.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: Boolean</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-autoscaling-launchconfiguration-iaminstanceprofile"><span class="term"><code class="code">IamInstanceProfile</code></span></dt><dd>
         <p>The name or the Amazon Resource Name (ARN) of the instance profile associated with the
            IAM role for the instance. The instance profile contains the IAM role. For more
            information, see <a href="https://docs.aws.amazon.com/autoscaling/ec2/userguide/us-iam-role.html">IAM role for applications that run
                on Amazon EC2 instances</a> in the <em>Amazon EC2 Auto Scaling User Guide</em>.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-autoscaling-launchconfiguration-imageid"><span class="term"><code class="code">ImageId</code></span></dt><dd>
         <p>The ID of the Amazon Machine Image (AMI) that was assigned during registration. For
            more information, see <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/finding-an-ami.html">Finding a Linux AMI</a> in the
            <em>Amazon EC2 User Guide for Linux Instances</em>.</p>
         <p>If you specify <code class="code">InstanceId</code>, an <code class="code">ImageId</code> is not
            required.</p>
      <p><em>Required</em>: Conditional</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-autoscaling-launchconfiguration-instanceid"><span class="term"><code class="code">InstanceId</code></span></dt><dd>
    <p>The ID of the Amazon EC2 instance to use to create the launch configuration. When you use
      an instance to create a launch configuration, all properties are derived from the instance
      with the exception of <code class="code">BlockDeviceMapping</code> and
        <code class="code">AssociatePublicIpAddress</code>. You can override any properties from the instance by
      specifying them in the launch configuration. </p>
  <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-autoscaling-launchconfiguration-instancemonitoring"><span class="term"><code class="code">InstanceMonitoring</code></span></dt><dd>
         <p>Controls whether instances in this group are launched with detailed
            (<code class="code">true</code>) or basic (<code class="code">false</code>) monitoring.</p>
         <p>The default value is <code class="code">true</code> (enabled).</p>
         <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>When detailed monitoring is enabled, Amazon CloudWatch generates metrics every minute and
                your account is charged a fee. When you disable detailed monitoring, CloudWatch generates
                metrics every 5 minutes. For more information, see <a href="https://docs.aws.amazon.com/autoscaling/latest/userguide/enable-as-instance-metrics.html">Configure
                    Monitoring for Auto Scaling Instances</a> in the
                <em>Amazon EC2 Auto Scaling User Guide</em>.</p></div></div>
      <p><em>Required</em>: No</p><p><em>Type</em>: Boolean</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-autoscaling-launchconfiguration-instancetype"><span class="term"><code class="code">InstanceType</code></span></dt><dd>
         <p>Specifies the instance type of the EC2 instance. For information about available
            instance types, see <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-types.html#AvailableInstanceTypes">Available
                instance types</a> in the <em>Amazon EC2 User Guide for Linux Instances</em>.</p>
         <p>If you specify <code class="code">InstanceId</code>, an <code class="code">InstanceType</code> is not
            required.</p>
      <p><em>Required</em>: Conditional</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-autoscaling-launchconfiguration-kernelid"><span class="term"><code class="code">KernelId</code></span></dt><dd>
         <p>The ID of the kernel associated with the AMI.</p>
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>We recommend that you use PV-GRUB instead of kernels and RAM disks. For more
                information, see <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/UserProvidedKernels.html">User provided
                    kernels</a> in the <em>Amazon EC2 User Guide for Linux
                        Instances</em>.</p></div></div>
      <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-autoscaling-launchconfiguration-keyname"><span class="term"><code class="code">KeyName</code></span></dt><dd>
         <p>The name of the key pair. For more information, see <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html">Amazon EC2 key pairs and Linux
            instances</a> in the <em>Amazon EC2 User Guide for Linux Instances</em>.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-autoscaling-launchconfiguration-launchconfigurationname"><span class="term"><code class="code">LaunchConfigurationName</code></span></dt><dd>
         <p>The name of the launch configuration. This name must be unique per Region per
            account.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Minimum</em>: <code class="code">1</code></p><p><em>Maximum</em>: <code class="code">255</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-autoscaling-launchconfiguration-metadataoptions"><span class="term"><code class="code">MetadataOptions</code></span></dt><dd>
         <p>The metadata options for the instances. For more information, see <a href="https://docs.aws.amazon.com/autoscaling/ec2/userguide/create-launch-config.html#launch-configurations-imds">Configuring the Instance Metadata Options</a> in the
            <em>Amazon EC2 Auto Scaling User Guide</em>.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: <a href="./aws-properties-autoscaling-launchconfiguration-metadataoptions.html">MetadataOptions</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-autoscaling-launchconfiguration-placementtenancy"><span class="term"><code class="code">PlacementTenancy</code></span></dt><dd>
         <p>The tenancy of the instance, either <code class="code">default</code> or <code class="code">dedicated</code>. An
            instance with <code class="code">dedicated</code> tenancy runs on isolated, single-tenant hardware
            and can only be launched into a VPC. To launch dedicated instances into a shared tenancy
            VPC (a VPC with the instance placement tenancy attribute set to <code class="code">default</code>),
            you must set the value of this property to <code class="code">dedicated</code>. For more information,
            see <a href="https://docs.aws.amazon.com/autoscaling/ec2/userguide/auto-scaling-dedicated-instances.html">Configuring
                instance tenancy with Amazon EC2 Auto Scaling</a> in the
            <em>Amazon EC2 Auto Scaling User Guide</em>.</p>
         <p>If you specify <code class="code">PlacementTenancy</code>, you must specify at least one subnet for
            <code class="code">VPCZoneIdentifier</code> when you create your group.</p>
         <p>Valid values: <code class="code">default</code> | <code class="code">dedicated</code>
         </p>
      <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-autoscaling-launchconfiguration-ramdiskid"><span class="term"><code class="code">RamDiskId</code></span></dt><dd>
         <p>The ID of the RAM disk to select.</p>
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>We recommend that you use PV-GRUB instead of kernels and RAM disks. For more
                information, see <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/UserProvidedKernels.html">User provided
                    kernels</a> in the <em>Amazon EC2 User Guide for Linux
                        Instances</em>.</p></div></div>
      <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-autoscaling-launchconfiguration-securitygroups"><span class="term"><code class="code">SecurityGroups</code></span></dt><dd>
    <p>A list that contains the security groups to assign to the instances in the Auto Scaling
      group. The list can contain both the IDs of existing security groups and references to <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-security-group.html">SecurityGroup</a> resources created in the template.</p>
    <p>For more information, see <a href="https://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_SecurityGroups.html">Control traffic to resources using
        security groups</a> in the <em>Amazon Virtual Private Cloud User Guide</em>.
    </p>
  <p><em>Required</em>: No</p><p><em>Type</em>: Array of String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-autoscaling-launchconfiguration-spotprice"><span class="term"><code class="code">SpotPrice</code></span></dt><dd>
         <p>The maximum hourly price to be paid for any Spot Instance launched to fulfill the
            request. Spot Instances are launched when the price you specify exceeds the current Spot
            price. For more information, see <a href="https://docs.aws.amazon.com/autoscaling/ec2/userguide/launch-template-spot-instances.html">Request Spot
                Instances for fault-tolerant and flexible applications</a> in the
            <em>Amazon EC2 Auto Scaling User Guide</em>.</p>
         <p>Valid Range: Minimum value of 0.001</p>
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>When you change your maximum price by creating a new launch configuration, running
                instances will continue to run as long as the maximum price for those running
                instances is higher than the current Spot price.</p></div></div>
      <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-autoscaling-launchconfiguration-userdata"><span class="term"><code class="code">UserData</code></span></dt><dd>
    <p>The Base64-encoded user data to make available to the launched EC2 instances. For more
      information, see <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-metadata.html">Instance metadata and user
        data</a> in the <em>Amazon EC2 User Guide for Linux Instances</em>.</p>
  <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Maximum</em>: <code class="code">21847</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd></dl></div><h2 id="aws-resource-autoscaling-launchconfiguration-return-values">Return values</h2><h3 id="aws-resource-autoscaling-launchconfiguration-return-values-ref">Ref</h3><p>When you pass the logical ID of this resource to the intrinsic <code class="code">Ref</code> function, <code class="code">Ref</code> returns the resource name. For example:
        <code class="code">mystack-mylaunchconfig-1DDYF1E3B3I</code>.</p><p>For more information about using the <code class="code">Ref</code> function, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-ref.html"><code class="code">Ref</code></a>.</p><h2 id="aws-resource-autoscaling-launchconfiguration--remarks">Remarks</h2><p>CloudFormation marks the Auto Scaling group as successful (by setting its status to
        CREATE_COMPLETE) when its desired capacity is reached. However, if <code class="code">SpotPrice</code> is
        set in the launch configuration, then desired capacity is not used as a criteria for
        success. Whether your request is fulfilled depends on Spot Instance capacity and your
        maximum price. If the current Spot price is less than your specified maximum price, Amazon
        EC2 Auto Scaling uses the desired capacity as the target capacity for the group. If the
        request for Spot Instances is unsuccessful, it keeps trying. </p><p>If your Auto Scaling instances receive a public IPv4 address and are launched in a VPC
        that is defined in the same stack template, you must use the <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html">DependsOn
          attribute</a> to declare a dependency on the <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpc-gateway-attachment.html">VPC-gateway attachment</a>. </p><h2 id="aws-resource-autoscaling-launchconfiguration--examples">Examples</h2><p>The following examples create launch configurations that can be used by an Auto Scaling
        group to configure Amazon EC2 instances. </p><div class="highlights" id="inline-topiclist"><h6> </h6><ul><li><a href="#aws-resource-autoscaling-launchconfiguration--examples--Amazon_EBS-backed_AMI_and_defined_block_device_mappings">Amazon EBS-backed AMI and defined block device mappings</a></li><li><a href="#aws-resource-autoscaling-launchconfiguration--examples--Instance_store-backed_AMI_with_Spot_price_and_IAM_role">Instance store-backed AMI with Spot price and IAM role</a></li><li><a href="#aws-resource-autoscaling-launchconfiguration--examples--Provisioned_IOPS_EBS-optimized_volume_with_key-pair_name_and_user_data">Provisioned IOPS EBS-optimized volume with key-pair name and user data</a></li></ul></div><h3 id="aws-resource-autoscaling-launchconfiguration--examples--Amazon_EBS-backed_AMI_and_defined_block_device_mappings">Amazon EBS-backed AMI and defined block device mappings</h3><p>This example shows a launch configuration with a <code class="code">BlockDeviceMappings</code>
          property that lists two devices: a 30 gigabyte EBS root volume mapped to /dev/sda1 and a
          100 gigabyte EBS volume mapped to /dev/sdm. The /dev/sdm volume uses the default EBS
          volume type based on the region and is not deleted when terminating the instance it is
          attached to. </p><p>CloudFormation supports parameters from the AWS Systems Manager
          Parameter Store. In this example, the <code class="code">ImageId</code> property references the latest
          Amazon Linux 2 AMI (EBS-backed image) from the Parameter Store. For more information, see
            <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/systems-manager-parameter-store.html">AWS Systems Manager Parameter Store</a> in the <em>AWS Systems Manager User Guide</em> and the blog post <a href="https://aws.amazon.com/blogs/compute/query-for-the-latest-amazon-linux-ami-ids-using-aws-systems-manager-parameter-store/" rel="noopener noreferrer" target="_blank"><span>Query for the latest Amazon Linux AMI IDs using AWS Systems Manager
            Parameter Store</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> on the AWS Compute Blog.</p><div id="JSON" name="JSON" class="section langfilter"><h4 id="aws-resource-autoscaling-launchconfiguration--examples--Amazon_EBS-backed_AMI_and_defined_block_device_mappings--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "AWSTemplateFormatVersion": "2010-09-09",
  "Parameters": <span>{</span>
    "LatestAmiId": <span>{</span>
      "Description": "Region specific image from the Parameter Store",
      "Type": "AWS::SSM::Parameter::Value&lt;AWS::EC2::Image::Id&gt;",
      "Default": "/aws/service/ami-amazon-linux-latest/amzn2-ami-hvm-x86_64-gp2"
    },
    "InstanceType": <span>{</span>
      "Description": "Amazon EC2 instance type for the instances",
      "Type": "String",
      "AllowedValues": [
        "t3.micro",
        "t3.small",
        "t3.medium"
      ],
      "Default": "t3.micro"
    }
  },  
  "Resources":<span>{</span>
    "myLaunchConfig":<span>{</span>
      "Type":"AWS::AutoScaling::LaunchConfiguration",
      "Properties":<span>{</span>
        "ImageId":<span>{</span> "Ref":"LatestAmiId" },
        "SecurityGroups":[ <span>{</span> "Ref":"myEC2SecurityGroup" } ],
        "InstanceType":<span>{</span> "Ref":"InstanceType" },
        "BlockDeviceMappings":[
          <span>{</span>
            "DeviceName":"/dev/sda1",
            "Ebs":<span>{</span>
              "VolumeSize":"30",
              "VolumeType":"gp3"
            }
          },
          <span>{</span>
            "DeviceName":"/dev/sdm",
            "Ebs":<span>{</span>
              "VolumeSize":"100",
              "DeleteOnTermination":"false"
            }
          }
        ]
      }
    }
  }
}</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-resource-autoscaling-launchconfiguration--examples--Amazon_EBS-backed_AMI_and_defined_block_device_mappings--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">---
AWSTemplateFormatVersion: 2010-09-09
Parameters:
  LatestAmiId:
    Description: Region specific image from the Parameter Store
    Type: 'AWS::SSM::Parameter::Value&lt;AWS::EC2::Image::Id&gt;'
    Default: '/aws/service/ami-amazon-linux-latest/amzn2-ami-hvm-x86_64-gp2'
  InstanceType:
    Description: Amazon EC2 instance type for the instances
    Type: String
    AllowedValues:
      - t3.micro
      - t3.small
      - t3.medium
    Default: t3.micro
Resources:
  myLaunchConfig: 
    Type: AWS::AutoScaling::LaunchConfiguration
    Properties:
      ImageId: !Ref LatestAmiId
      SecurityGroups: 
        - !Ref myEC2SecurityGroup
      InstanceType: 
        !Ref InstanceType
      BlockDeviceMappings: 
        - DeviceName: /dev/sda1
          Ebs: 
            VolumeSize: '30'
            VolumeType: gp3
        - DeviceName: /dev/sdm
          Ebs: 
            VolumeSize: '100'
            DeleteOnTermination: false</code></pre></div><h3 id="aws-resource-autoscaling-launchconfiguration--examples--Instance_store-backed_AMI_with_Spot_price_and_IAM_role">Instance store-backed AMI with Spot price and IAM role</h3><p>This example shows a launch configuration that launches Spot Instances in the Auto
          Scaling group. This launch configuration will only be active if the current Spot price is
          less than the price in the template specification (0.045). It also demonstrates a launch
          configuration that uses the <code class="code">IamInstanceProfile</code> property. For an example of a
          full template, including the definition of, and further references from the <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-iam-instanceprofile.html">InstanceProfile</a> object referenced here as <code class="code">RootInstanceProfile</code>, see
            <a href="https://s3.amazonaws.com/cloudformation-templates-us-east-1/auto_scaling_with_instance_profile.template" rel="noopener noreferrer" target="_blank"><span>auto_scaling_with_instance_profile.template</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p><p>In this example, the <code class="code">ImageId</code> property references the latest Amazon Linux
          AMI (instance store/S3-backed image) from the Parameter Store. The BlockDeviceMappings
          property lists a virtual device <code class="code">ephemeral0</code> mapped to /dev/sdc.</p><div id="JSON" name="JSON" class="section langfilter"><h4 id="aws-resource-autoscaling-launchconfiguration--examples--Instance_store-backed_AMI_with_Spot_price_and_IAM_role--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "AWSTemplateFormatVersion": "2010-09-09",
  "Parameters": <span>{</span>
    "LatestAmiId": <span>{</span>
      "Description": "Region specific image from the Parameter Store",
      "Type": "AWS::SSM::Parameter::Value&lt;AWS::EC2::Image::Id&gt;",
      "Default": "/aws/service/ami-amazon-linux-latest/amzn-ami-hvm-x86_64-s3"
    }
  },
  "Resources":<span>{</span>
    "myLaunchConfig":<span>{</span>
      "Type":"AWS::AutoScaling::LaunchConfiguration",
      "Properties":<span>{</span>
        "ImageId":<span>{</span> "Ref":"LatestAmiId" },
        "SecurityGroups":[ <span>{</span> "Ref":"myEC2SecurityGroup" } ],
        "InstanceType":"m3.medium",
        "SpotPrice":"0.045",
        "IamInstanceProfile":<span>{</span> "Ref":"RootInstanceProfile" },
        "BlockDeviceMappings": [
          <span>{</span>
            "DeviceName": "/dev/sdc",
            "VirtualName": "ephemeral0"
          }
        ]
      }
    }
  }
}</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-resource-autoscaling-launchconfiguration--examples--Instance_store-backed_AMI_with_Spot_price_and_IAM_role--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">---
AWSTemplateFormatVersion: 2010-09-09
Parameters:
  LatestAmiId:
    Description: Region specific image from the Parameter Store
    Type: 'AWS::SSM::Parameter::Value&lt;AWS::EC2::Image::Id&gt;'
    Default: '/aws/service/ami-amazon-linux-latest/amzn-ami-hvm-x86_64-s3'
Resources:
  myLaunchConfig: 
    Type: AWS::AutoScaling::LaunchConfiguration
    Properties: 
      ImageId: !Ref LatestAmiId
      SecurityGroups: 
        - !Ref myEC2SecurityGroup
      InstanceType: m3.medium
      SpotPrice: '0.045'
      IamInstanceProfile: !Ref RootInstanceProfile
      BlockDeviceMappings:
      - DeviceName: /dev/sdc
        VirtualName: ephemeral0</code></pre></div><h3 id="aws-resource-autoscaling-launchconfiguration--examples--Provisioned_IOPS_EBS-optimized_volume_with_key-pair_name_and_user_data">Provisioned IOPS EBS-optimized volume with key-pair name and user data</h3><p>This example demonstrates a launch configuration that configures the
            <code class="code">EbsOptmized</code> property to launch instances with a provisioned IOPS
          EBS-optimized volume. This can increase the performance of your EBS-backed
          instances.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>For instances that are not EBSâ€“optimized by default, you must enable EBS
            optimization to achieve the level of performance described in the <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSOptimized.html">Amazon
              EBS-optimized instances</a> documentation in the <em>Amazon Elastic Compute
              Cloud User Guide</em>. For current generation instance types, EBS-optimization
            is enabled by default at no additional cost. Enabling EBS optimization for a previous
            generation instance type that is not EBS-optimized by default incurs additional
            fees.</p></div></div><p>When you use a launch configuration such as this one, your <code class="code">m1.large</code>
          instances will contain optimized EBS root volumes with the provisioned IOPS settings that
          you specified in the AMI. Because you cannot specify the IOPS settings in a launch
          configuration, the AMI must be configured with a block device mapping that specifies the
          desired number of IOPS. The following are key attributes of this EBS-optimized instance
          configuration:</p><div class="itemizedlist">
           
           
           
        <ul class="itemizedlist"><li class="listitem">
            <p>An instance type of <code class="code">m1.large</code> or greater. This is required for EBS
              optimization. This optimization is only available for certain instance types and
              sizes.</p>
          </li><li class="listitem">
            <p>An EBS-backed AMI with a volume type of <code class="code">io1</code> and the number of IOPS
              you want to provision for the volume. </p>
          </li><li class="listitem">
            <p>The size of the EBS volume must accommodate the IOPS you need. There is a 50:1
              ratio between IOPS and Gibibytes (GiB) of storage.</p>
          </li></ul></div><p>For more information about IOPS performance with provisioned IOPS volumes, see <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSVolumeTypes.html#EBSVolumeTypes_piops">Provisioned IOPS
            SSD (<code class="code">io1</code> and <code class="code">io2</code>) volumes</a> in the <em>Amazon
            Elastic Compute Cloud User Guide</em>.</p><p>For more performance tips, see <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSPerformance.html">Amazon EBS volume performance on Linux
            instances</a> in the <em>Amazon Elastic Compute Cloud User Guide</em>. </p><p></p><div id="JSON" name="JSON" class="section langfilter"><h4 id="aws-resource-autoscaling-launchconfiguration--examples--Provisioned_IOPS_EBS-optimized_volume_with_key-pair_name_and_user_data--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Resources":<span>{</span>
    "myLaunchConfig":<span>{</span>
      "Type":"AWS::AutoScaling::LaunchConfiguration",
      "Properties":<span>{</span>
        "ImageId":"ami-02354e95b3example",
        "SecurityGroups":[ <span>{</span> "Ref":"myEC2SecurityGroup" }, "myExistingEC2SecurityGroup" ],
        "InstanceType":"m1.large",
        "UserData": <span>{</span>"Fn::Base64": <span>{</span>"Fn::Join": ["", [
          "#!/bin/bash -x\n",
          "/opt/aws/bin/cfn-signal -e $? --stack ", <span>{</span>"Ref": "AWS::StackName"}, " --resource myASG ", " --region ", <span>{</span>"Ref": "AWS::Region"}, "\n"
        ]]}},
        "EbsOptimized":"true"
      }
    }
  }
}</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-resource-autoscaling-launchconfiguration--examples--Provisioned_IOPS_EBS-optimized_volume_with_key-pair_name_and_user_data--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">---
Resources:
  myLaunchConfig: 
    Type: AWS::AutoScaling::LaunchConfiguration
    Properties: 
      ImageId: ami-02354e95b3example
      SecurityGroups: 
        - !Ref myEC2SecurityGroup
        - myExistingEC2SecurityGroup
      InstanceType: m1.large
      UserData: !Base64 |
        #!/bin/bash -x
        yum install -y aws-cfn-bootstrap
        /opt/aws/bin/cfn-signal -e $? --stack !Ref 'AWS::StackName' --resource myASG --region !Ref 'AWS::Region'
      EbsOptimized: true</code></pre></div><h2 id="aws-resource-autoscaling-launchconfiguration--seealso">See also</h2><div class="itemizedlist">
         
         
         
      <ul class="itemizedlist"><li class="listitem">
          <p>You can find additional useful snippets in the following sections of the
                <em>AWS CloudFormation User Guide</em>:</p>
          <div class="itemizedlist">
             
             
          <ul class="itemizedlist"><li class="listitem">
              <p>For examples of Auto Scaling groups, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/quickref-ec2-auto-scaling.html">Configure
                  Amazon EC2 Auto Scaling resources</a>.</p>
            </li><li class="listitem">
              <p>For examples of launch templates, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/quickref-ec2-launch-templates.html">Create
                  launch templates</a>.</p>
            </li></ul></div>
        </li><li class="listitem">
          <p>
            <a href="https://docs.aws.amazon.com/autoscaling/ec2/userguide/migrate-launch-configurations-with-cloudformation.html">Migrate AWS CloudFormation stacks from launch configurations to
              launch templates</a> in the <em>Amazon EC2 Auto Scaling User
              Guide</em>
          </p>
        </li><li class="listitem">
          <p><a href="https://docs.aws.amazon.com/autoscaling/ec2/APIReference/API_CreateLaunchConfiguration.html">CreateLaunchConfiguration</a> in the <em>Amazon EC2 Auto Scaling API
              Reference</em></p>
        </li></ul></div><p></p><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./aws-properties-autoscaling-autoscalinggroup-vcpucountrequest.html">VCpuCountRequest</div><div id="next" class="next-link" accesskey="n" href="./aws-properties-autoscaling-launchconfiguration-blockdevice.html">BlockDevice</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Auto Scaling&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-autoscaling-launchconfiguration.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Auto Scaling&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-autoscaling-launchconfiguration.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>