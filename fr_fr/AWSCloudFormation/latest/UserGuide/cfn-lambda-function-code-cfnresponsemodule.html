<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="fr-FR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Module cfn-response - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="cfn-lambda-function-code-cfnresponsemodule" /><meta name="default_state" content="cfn-lambda-function-code-cfnresponsemodule" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" /><meta name="description" content="Lorsque vous utilisez la ZipFile propriété pour spécifier le code source de votre fonction et que cette fonction interagit avec une ressource AWS CloudFormation personnalisée, vous pouvez charger le cfn-response module pour envoyer des réponses à ces ressources. Le module contient une méthode" /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Guide de l'utilisateur" /><meta name="abstract" content="Créez et gérez des déploiements AWS d'infrastructure de manière prévisible et répétée à l'aide de ce AWS CloudFormation guide de l'utilisateur." /><meta name="guide-locale" content="fr_fr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Guide de l'utilisateur" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Guide de l'utilisateur" /><meta id="panorama-serviceConsolePage" value="Module cfn-response" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Module cfn-response - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,provisionnement des ressources,configuration des ressources,gestion de l'infrastructure,CloudFormer,CloudFormation pile,CloudFormation stackset,CloudFormation modèle,jeu de modifications" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guide de l'utilisateur",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Utilisation des modèles AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/template-guide.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Ressources personnalisées",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/template-custom-resources.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Ressources personnalisées basées sur AWS Lambda",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/template-custom-resources-lambda.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Module cfn-response",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/template-custom-resources-lambda.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Guide de l'utilisateur</a></div><div id="page-toc-src"><a href="#cfn-lambda-function-code-cfnresponsemodule-loading">Chargement du module cfn-response</a><a href="#cfn-lambda-function-code-cfnresponsemodule-send-parameters">Paramètres de la méthode send</a><a href="#cfn-lambda-function-code-cfnresponsemodule-examples">Exemples</a><a href="#cfn-lambda-function-code-cfnresponsemodule-source">Code source du module</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Les traductions sont fournies par des outils de traduction automatique. En cas de conflit entre le contenu d'une traduction et celui de la version originale en anglais, la version anglaise prévaudra.</p></awsui-alert><h1 class="topictitle" id="cfn-lambda-function-code-cfnresponsemodule">Module <code class="code">cfn-response</code></h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Lorsque vous utilisez la <code class="code">ZipFile</code> propriété pour spécifier le code source <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-lambda-function.html">de votre fonction</a> et que cette fonction interagit avec une ressource AWS CloudFormation personnalisée, vous pouvez charger le <code class="code">cfn-response</code> module pour envoyer des réponses à ces ressources. Le module contient une méthode <code class="code">send</code> qui envoie un <a href="./crpg-ref-responses.html">objet de réponse</a> à une ressource personnalisée au moyen d'une URL Amazon S3 présignée (<code class="code">ResponseURL</code>).</p><p>Après l'exécution de la méthode <code class="code">send</code>, la fonction Lambda s'arrête. Dès lors, tout ce que vous écrivez après cette méthode est ignoré.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Le module <code class="code">cfn-response</code> est disponible uniquement lorsque vous utilisez la propriété <code class="code">ZipFile</code> pour écrire votre code source. Il n'est pas disponible pour le code source stocké dans des compartiments Amazon S3. Pour le code stocké dans des compartiments , vous devez écrire vos propres fonctions pour envoyer des réponses.</p></div></div>
    <h2 id="cfn-lambda-function-code-cfnresponsemodule-loading">Chargement du module <code class="code">cfn-response</code></h2>
    
    <p>Pour les fonctions Node.js, utilisez la fonction <code class="code">require()</code> pour charger le module <code class="code">cfn-response</code>. Par exemple, l'exemple de code suivant crée un objet <code class="code">cfn-response</code> avec le nom <code class="code">response</code> :</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="js ">var response = require('cfn-response');</code></pre>
    
    <p>Pour Python, utilisez l'instruction <code class="code">import</code> pour charger le module <code class="code">cfnresponse</code>, comme illustré dans l'exemple suivant :</p>
    <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Utilisez cette instruction import exacte. Si vous utilisez d'autres variantes de l'instruction d'importation, le module de réponse AWS CloudFormation n'est pas inclus.</p></div></div>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="js ">import cfnresponse</code></pre>
   
    <h2 id="cfn-lambda-function-code-cfnresponsemodule-send-parameters">Paramètres de la méthode <code class="code">send</code></h2>
    <p>Vous pouvez utiliser les paramètres suivants avec la méthode <code class="code">send</code>.</p>
    <div class="variablelist">
       
       
       
       
       
       
    <dl>
        <dt><span class="term"><code class="code">event</code></span></dt>
        <dd>
          <p>Champs d'une <a href="./crpg-ref-requesttypes.html">demande de ressource personnalisée</a>.</p>
        </dd>
       
        <dt><span class="term"><code class="code">context</code></span></dt>
        <dd>
          <p>Objet propre aux fonctions Lambda qui vous permet de spécifier à quel moment l'exécution de la fonction et des rappels se termine ou pour accéder aux informations à partir de l'environnement d'exécution Lambda. Pour plus d'informations, veuillez consulter la rubrique <a href="https://docs.aws.amazon.com/lambda/latest/dg/programming-model.html">Modèle de programmation (Node.js)</a> dans le <em>Guide du développeurAWS Lambda </em>.</p>
        </dd>
       
        <dt><span class="term"><code class="code">responseStatus</code></span></dt>
        <dd>
          <p>Indique si la fonction a été exécutée avec succès. Utilisez les constantes du <code class="code">cfnresponse</code> pour spécifier le statut <code class="code">SUCCESS</code> pour les exécutions réussies et <code class="code">FAILED</code> pour celles qui ont échoué.</p>
        </dd>
       
        <dt><span class="term"><code class="code">responseData</code></span></dt>
        <dd>
          <p>Champ <code class="code">Data</code> de l'<a href="./crpg-ref-responses.html">objet de réponse</a> d'une ressource personnalisée. Les données sont une liste de paires nom-valeur.</p>
        </dd>
       
        <dt><span class="term"><code class="code">physicalResourceId</code></span></dt>
        <dd>
          <p>Facultatif. Identifiant unique de la ressource personnalisée qui appelé la fonction. Par défaut, le module utilise le nom du flux de journal Amazon  CloudWatch  Logs associé à la fonction Lambda.</p>
          <p>La valeur renvoyée pour un <code class="code">PhysicalResourceId</code> peut modifier les opérations de mise à jour des ressources personnalisées. Si la valeur renvoyée est la même, on considère qu'il s'agit d'une mise à jour normale. Si la valeur renvoyée est différente, AWS CloudFormation
reconnaît la mise à jour comme un remplacement et envoie une requête de suppression à l'ancienne ressource. Pour de plus amples informations, veuillez consulter <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-customresource.html"><code class="code">AWS::CloudFormation::CustomResource</code></a>.</p>
        </dd>
       
        <dt><span class="term"><code class="code">noEcho</code></span></dt>
        <dd>
          <p>Facultatif. Indique s'il faut masquer la sortie de la ressource personnalisée lorsque celle-ci est récupérée à l'aide de la fonction <code class="code">Fn::GetAtt</code>. Si cette valeur est définie sur <code class="code">true</code>, toutes les valeurs renvoyées sont masquées par des astérisques (*****), à l'exception des informations stockées dans les emplacements spécifiés ci-dessous. Cette valeur est <code class="code">false</code> par défaut.</p>
          <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>L'utilisation de l'attribut <code class="code">NoEcho</code> ne masque aucune information stockée dans les lieux suivants :</p><div class="itemizedlist">
           
           
           
         <ul class="itemizedlist"><li class="listitem">
           <p>La section des <code class="code">Metadata</code> modèles.  CloudFormation ne transforme, ne modifie ni n'expédie aucune information que vous incluez dans <code class="code">Metadata</code> cette section. Pour de plus amples informations, veuillez consulter <a href="./metadata-section-structure.html">Metadonnées</a>.</p>
          </li><li class="listitem">
           <p>La section de modèle <code class="code">Outputs</code> Pour de plus amples informations, veuillez consulter <a href="./outputs-section-structure.html">Outputs</a>.</p>
          </li><li class="listitem">
           <p>L’attribut <code class="code">Metadata</code> d'une définition de ressource. Pour de plus amples informations, veuillez consulter <a href="./aws-attribute-metadata.html">Attribut Metadata</a>.</p>
          </li></ul></div><p>Nous vous recommandons vivement de ne pas utiliser ces mécanismes pour inclure des informations sensibles, telles que des mots de passe ou des secrets.</p></div></div>
          <p>Pour plus d’informations sur l’utilisation de <code class="code">NoEcho</code> pour masquer des informations sensibles, consultez la documentation sur la bonne pratique consistant à <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/best-practices.html#creds">ne pas intégrer les informations d’identification dans vos modèles</a>.</p>
        </dd>
      </dl></div>
   
    <h2 id="cfn-lambda-function-code-cfnresponsemodule-examples">Exemples</h2>
     
      <h3 id="cfn-lambda-function-code-zipfile-examplenodejs">Node.js</h3>
      <p>Dans l'exemple Node.js suivant, la fonction Lambda en ligne multiplie une valeur d'entrée par 5. Les fonctions en ligne sont particulièrement utiles pour les fonctions de petite ampleur, car elles vous permettent de spécifier le code source directement dans le modèle au lieu de créer un package et de l'importer dans un compartiment Amazon S3. Cette fonction utilise la méthode <code class="code">cfn-response</code> <code class="code">send</code> pour renvoyer le résultat à la ressource personnalisée qui l'a appelée.</p>
      <div id="JSON" name="JSON" class="section langfilter">
        <h4 id="cfn-lambda-function-code-zipfile-examplenodejs.json">JSON</h4>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"ZipFile": <span>{</span> "Fn::Join": ["", [
  "var response = require('cfn-response');",
  "exports.handler = function(event, context) <span>{</span>",
  "  var input = parseInt(event.ResourceProperties.Input);",
  "  var responseData = <span>{</span>Value: input * 5};",
  "  response.send(event, context, response.SUCCESS, responseData);",
  "};"
]]}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h4 id="cfn-lambda-function-code-zipfile-examplenodejs-yaml">YAML</h4>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">ZipFile: &gt;
  var response = require('cfn-response');
  exports.handler = function(event, context) <span>{</span>
    var input = parseInt(event.ResourceProperties.Input);
    var responseData = <span>{</span>Value: input * 5};
    response.send(event, context, response.SUCCESS, responseData);
  };</code></pre>
      </div>
     
     
      <h3 id="cfn-lambda-function-code-zipfile-examplepython">Python</h3>
      <p>Dans l'exemple Python suivant, la fonction Lambda en ligne multiplie un entier par 5.</p>
      <div id="JSON" name="JSON" class="section langfilter">
        <h4 id="cfn-lambda-function-code-zipfile-examplepython.json">JSON</h4>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"ZipFile" : <span>{</span> "Fn::Join" : ["\n", [
  "import json",
  "import cfnresponse",
  "def handler(event, context):",
  "   responseValue = int(event['ResourceProperties']['Input']) * 5",
  "   responseData = <span>{</span>}",
  "   responseData['Data'] = responseValue",
  "   cfnresponse.send(event, context, cfnresponse.SUCCESS, responseData, \"CustomResourcePhysicalID\")"
]]}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h4 id="cfn-lambda-function-code-zipfile-examplepython.yaml">YAML</h4>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">ZipFile: |
  import json
  import cfnresponse
  def handler(event, context):
    responseValue = int(event['ResourceProperties']['Input']) * 5
    responseData = <span>{</span>}
    responseData['Data'] = responseValue
    cfnresponse.send(event, context, cfnresponse.SUCCESS, responseData, "CustomResourcePhysicalID")</code></pre>
      </div>
     
   
    <h2 id="cfn-lambda-function-code-cfnresponsemodule-source">Code source du module</h2>
    <p>Voici le code source du module de réponse pour les fonctions Node.js. Examinez-le pour comprendre ce que fait le module et pour vous aider à mettre en œuvre vos propres fonctions de réponse.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="js ">// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
// SPDX-License-Identifier: MIT-0
 
exports.SUCCESS = "SUCCESS";
exports.FAILED = "FAILED";
 
exports.send = function(event, context, responseStatus, responseData, physicalResourceId, noEcho) <span>{</span>
 
    var responseBody = JSON.stringify(<span>{</span>
        Status: responseStatus,
        Reason: "See the details in CloudWatch Log Stream: " + context.logStreamName,
        PhysicalResourceId: physicalResourceId || context.logStreamName,
        StackId: event.StackId,
        RequestId: event.RequestId,
        LogicalResourceId: event.LogicalResourceId,
        NoEcho: noEcho || false,
        Data: responseData
    });
 
    console.log("Response body:\n", responseBody);
 
    var https = require("https");
    var url = require("url");
 
    var parsedUrl = url.parse(event.ResponseURL);
    var options = <span>{</span>
        hostname: parsedUrl.hostname,
        port: 443,
        path: parsedUrl.path,
        method: "PUT",
        headers: <span>{</span>
            "content-type": "",
            "content-length": responseBody.length
        }
    };
 
    var request = https.request(options, function(response) <span>{</span>
        console.log("Status code: " + parseInt(response.statusCode));
        context.done();
    });
 
    request.on("error", function(error) <span>{</span>
        console.log("send(..) failed executing https.request(..): " + error);
        context.done();
    });
 
    request.write(responseBody);
    request.end();
}</code></pre>
    <p>Voici le code source du module de réponse pour les fonctions Python 2 et 3 :</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="python "># Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
# SPDX-License-Identifier: MIT-0
 
from __future__ import print_function
import urllib3
import json

SUCCESS = "SUCCESS"
FAILED = "FAILED"

http = urllib3.PoolManager()


def send(event, context, responseStatus, responseData, physicalResourceId=None, noEcho=False, reason=None):
    responseUrl = event['ResponseURL']

    print(responseUrl)

    responseBody = <span>{</span>
        'Status' : responseStatus,
        'Reason' : reason or "See the details in CloudWatch Log Stream: <span>{</span>}".format(context.log_stream_name),
        'PhysicalResourceId' : physicalResourceId or context.log_stream_name,
        'StackId' : event['StackId'],
        'RequestId' : event['RequestId'],
        'LogicalResourceId' : event['LogicalResourceId'],
        'NoEcho' : noEcho,
        'Data' : responseData
    }

    json_responseBody = json.dumps(responseBody)

    print("Response body:")
    print(json_responseBody)

    headers = <span>{</span>
        'content-type' : '',
        'content-length' : str(len(json_responseBody))
    }

    try:
        response = http.request('PUT', responseUrl, headers=headers, body=json_responseBody)
        print("Status code:", response.status)


    except Exception as e:

        print("send(..) failed executing http.request(..):", e)</code></pre>
    
  <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avertissement" /> <strong>JavaScript est désactivé ou n'est pas disponible dans votre navigateur.</strong></p><p>Pour que vous puissiez utiliser la documentation AWS, Javascript doit être activé. Vous trouverez des instructions sur les pages d'aide de votre navigateur.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Conventions de rédaction</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./walkthrough-custom-resources-lambda-lookup-amiids.html">Procédure : recherche des ID d'Amazon Machine Image</div><div id="next" class="next-link" accesskey="n" href="./crpg-ref.html">Référence sur les ressources personnalisées</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Oui</div><div class="content"><p>Merci de nous avoir fait part de votre satisfaction.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer ce qui vous a plu afin que nous puissions nous améliorer davantage.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Non</div><div class="content"><p>Merci de nous avoir avertis que cette page avait besoin d'être retravaillée. Nous sommes désolés de ne pas avoir répondu à vos attentes.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer comment nous pourrions améliorer cette documentation.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>