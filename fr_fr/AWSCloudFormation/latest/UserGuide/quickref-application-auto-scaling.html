<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="fr-FR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Configurez les ressources Application Auto Scaling avec AWS CloudFormation - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="quickref-application-auto-scaling" /><meta name="default_state" content="quickref-application-auto-scaling" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" /><meta name="description" content="Utilisez ces exemples d'extraits de modèle pour configurer les ressources Application Auto Scaling avec. AWS CloudFormation" /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Guide de l'utilisateur" /><meta name="abstract" content="Créez et gérez des déploiements AWS d'infrastructure de manière prévisible et répétée à l'aide de ce AWS CloudFormation guide de l'utilisateur." /><meta name="guide-locale" content="fr_fr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Guide de l'utilisateur" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Guide de l'utilisateur" /><meta id="panorama-serviceConsolePage" value="Configurez les ressources Application Auto Scaling avec AWS CloudFormation" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Configurez les ressources Application Auto Scaling avec AWS CloudFormation - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,provisionnement des ressources,configuration des ressources,gestion de l'infrastructure,CloudFormer,CloudFormation pile,CloudFormation stackset,CloudFormation modèle,jeu de modifications" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guide de l'utilisateur",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Utilisation des modèles AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/template-guide.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Extraits de modèle",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/CHAP_TemplateQuickRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Extraits de CloudFormation modèles de dimensionnement automatique",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/quickref-autoscaling.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Configurez les ressources Application Auto Scaling avec AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/quickref-autoscaling.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Guide de l'utilisateur</a></div><div id="page-toc-src"><a href="#w9aac23c21c15c19b9">Création d'une politique de dimensionnement pour une  AppStream  flotte</a><a href="#w9aac23c21c15c19c11">Création d'une politique de dimensionnement pour un cluster de base de données Aurora</a><a href="#w9aac23c21c15c19c13">Création d'une politique de dimensionnement pour une table DynamoDB</a><a href="#w9aac23c21c15c19c15">Création d'une politique de dimensionnement pour un service Amazon ECS (mesures : processeur et mémoire moyens)</a><a href="#w9aac23c21c15c19c17">Création d'une politique de dimensionnement pour un service Amazon ECS (métrique : nombre moyen de demandes par cible)</a><a href="#w9aac23c21c15c19c19">Création d'une action planifiée avec une expression cron pour une fonction Lambda</a><a href="#w9aac23c21c15c19c21">Création d'une action planifiée avec une at expression pour un parc de spots</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Les traductions sont fournies par des outils de traduction automatique. En cas de conflit entre le contenu d'une traduction et celui de la version originale en anglais, la version anglaise prévaudra.</p></awsui-alert><h1 class="topictitle" id="quickref-application-auto-scaling">Configurez les ressources Application Auto Scaling avec AWS CloudFormation</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Cette section fournit des exemples de modèle AWS CloudFormation pour des politiques de mise à l'échelle Application Auto Scaling et des actions planifiées pour différentes ressources AWS.</p><div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>Lorsqu'un extrait de code Application Auto Scaling est inclus dans le modèle, vous devrez peut-être déclarer une dépendance à l'égard de la ressource évolutive spécifique créée via le modèle à l'aide du. <a href="./aws-attribute-dependson.html">Attribut DependsOn</a> Cela remplace le parallélisme par défaut et indique à AWS CloudFormation d'opérer sur les ressources dans un ordre spécifié. Sinon, la configuration de mise à l'échelle peut être appliquée avant que la ressource ait été complètement configurée.</p></div></div><div class="highlights" id="inline-topiclist"><h6>Catégories d'extraits</h6><ul><li><a href="#w9aac23c21c15c19b9">Création d'une politique de dimensionnement pour une  AppStream  flotte</a></li><li><a href="#w9aac23c21c15c19c11">Création d'une politique de dimensionnement pour un cluster de base de données Aurora</a></li><li><a href="#w9aac23c21c15c19c13">Création d'une politique de dimensionnement pour une table DynamoDB</a></li><li><a href="#w9aac23c21c15c19c15">Création d'une politique de dimensionnement pour un service Amazon ECS (mesures : processeur et mémoire moyens)</a></li><li><a href="#w9aac23c21c15c19c17">Création d'une politique de dimensionnement pour un service Amazon ECS (métrique : nombre moyen de demandes par cible)</a></li><li><a href="#w9aac23c21c15c19c19">Création d'une action planifiée avec une expression cron pour une fonction Lambda</a></li><li><a href="#w9aac23c21c15c19c21">Création d'une action planifiée avec une at expression pour un parc de spots</a></li></ul></div>
      <h2 id="w9aac23c21c15c19b9">Création d'une politique de dimensionnement pour une  AppStream  flotte</h2>
      <p>Cet extrait montre comment créer une politique et l'appliquer à une <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-appstream-fleet.html"><code class="code">AWS::AppStream::Fleet</code></a>ressource utilisant cette ressource. <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-applicationautoscaling-scalingpolicy.html"><code class="code">AWS::ApplicationAutoScaling::ScalingPolicy</code></a> La <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-applicationautoscaling-scalabletarget.html"><code class="code">AWS::ApplicationAutoScaling::ScalableTarget</code></a>ressource déclare une cible évolutive à laquelle cette politique est appliquée. Application Auto Scaling peut mettre à l'échelle le nombre d'instances de parc avec un minimum d'une instance et un maximum de 20 instances. La politique maintient l'utilisation moyenne de la capacité de la flotte à 75 %, avec des temps de stabilisation de montée en puissance et de mise à l'échelle horizontale de 300 secondes (5 minutes).</p>
      <p>Il utilise les fonctions <a href="./intrinsic-function-reference-ref.html">Ref</a> intrinsèques <a href="./intrinsic-function-reference-join.html">Fn::Join</a> et pour construire la <code class="code">ResourceId</code> propriété avec le nom logique de la <code class="code">AWS::AppStream::Fleet</code> ressource spécifiée dans le même modèle.</p>
      <div id="JSON" name="JSON" class="section langfilter">
        <h3 id="quickref-autoscaling-example-6.json">JSON</h3>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Resources" : <span>{</span>
    "ScalableTarget" : <span>{</span>
      "Type" : "AWS::ApplicationAutoScaling::ScalableTarget",
      "Properties" : <span>{</span>
        "MaxCapacity" : 20,
        "MinCapacity" : 1,
        "RoleARN" : <span>{</span> "Fn::Sub" : "arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/appstream.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_AppStreamFleet" },
        "ServiceNamespace" : "appstream",
        "ScalableDimension" : "appstream:fleet:DesiredCapacity",
        "ResourceId" : <span>{</span>
          "Fn::Join" : [
            "/",
            [
              "fleet",
              <span>{</span>
                "Ref" : "<code class="replaceable">logicalName</code>"
              }
            ]
          ]
        }
      }
    },
    "ScalingPolicyAppStreamFleet" : <span>{</span>
      "Type" : "AWS::ApplicationAutoScaling::ScalingPolicy",
      "Properties" : <span>{</span>
        "PolicyName" : <span>{</span> "Fn::Sub" : "$<span>{</span>AWS::StackName}-target-tracking-cpu75" },
        "PolicyType" : "TargetTrackingScaling",
        "ServiceNamespace" : "appstream",
        "ScalableDimension" : "appstream:fleet:DesiredCapacity",
        "ResourceId" : <span>{</span>
          "Fn::Join" : [
            "/",
            [
              "fleet",
              <span>{</span>
                "Ref" : "<code class="replaceable">logicalName</code>"
              }
            ]
          ]
        },
        "TargetTrackingScalingPolicyConfiguration" : <span>{</span>
          "TargetValue" : 75,
          "PredefinedMetricSpecification" : <span>{</span>
            "PredefinedMetricType" : "AppStreamAverageCapacityUtilization"
          },
          "ScaleInCooldown" : 300,
          "ScaleOutCooldown" : 300
        }
      }
    } 
  }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h3 id="quickref-autoscaling-example-6.yaml">YAML</h3>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">---
Resources:
  ScalableTarget:
    Type: AWS::ApplicationAutoScaling::ScalableTarget
    Properties:
      MaxCapacity: 20
      MinCapacity: 1
      RoleARN: 
        Fn::Sub: 'arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/appstream.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_AppStreamFleet'
      ServiceNamespace: appstream
      ScalableDimension: appstream:fleet:DesiredCapacity
      ResourceId: !Join
        - /
        - - fleet
          - !Ref <code class="replaceable">logicalName</code>
  ScalingPolicyAppStreamFleet:
    Type: AWS::ApplicationAutoScaling::ScalingPolicy
    Properties:
      PolicyName: !Sub $<span>{</span>AWS::StackName}-target-tracking-cpu75
      PolicyType: TargetTrackingScaling
      ServiceNamespace: appstream
      ScalableDimension: appstream:fleet:DesiredCapacity
      ResourceId: !Join
        - /
        - - fleet
          - !Ref <code class="replaceable">logicalName</code>
      TargetTrackingScalingPolicyConfiguration:
        TargetValue: 75
        PredefinedMetricSpecification:
          PredefinedMetricType: AppStreamAverageCapacityUtilization
        ScaleInCooldown: 300
        ScaleOutCooldown: 300</code></pre>
      </div>
     
      <h2 id="w9aac23c21c15c19c11">Création d'une politique de dimensionnement pour un cluster de base de données Aurora</h2>
      <p>Dans cet extrait, vous enregistrez une <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-rds-dbcluster.html"><code class="code">AWS::RDS::DBCluster</code></a>ressource. La <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-applicationautoscaling-scalabletarget.html"><code class="code">AWS::ApplicationAutoScaling::ScalableTarget</code></a>ressource indique que le cluster de base de données doit être dimensionné dynamiquement pour contenir de une à huit répliques Aurora. Vous appliquez également une politique de dimensionnement du suivi des cibles au cluster à l'aide de la <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-applicationautoscaling-scalingpolicy.html"><code class="code">AWS::ApplicationAutoScaling::ScalingPolicy</code></a>ressource.</p>
      <p>Dans cette configuration, la métrique prédéfinie <code class="code">RDSReaderAverageCPUUtilization</code> est utilisée pour ajuster un cluster de base de données Aurora en fonction d'une utilisation moyenne de l'UC de 40 % sur tous les réplicas Aurora de ce cluster de base de données Aurora. La configuration indique un temps de stabilisation de diminution en charge de 10 minutes et un temps de stabilisation de montée en charge de 5 minutes.</p>
      <p>Cet exemple utilise la fonction <a href="./intrinsic-function-reference-sub.html">Fn::Sub</a> intrinsèque pour construire la <code class="code">ResourceId</code> propriété avec le nom logique de la <code class="code">AWS::RDS::DBCluster</code> ressource spécifiée dans le même modèle.</p>
      <div id="JSON" name="JSON" class="section langfilter">
        <h3 id="quickref-autoscaling-example-7.json">JSON</h3>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Resources" : <span>{</span>
    "ScalableTarget" : <span>{</span>
      "Type" : "AWS::ApplicationAutoScaling::ScalableTarget",
      "Properties" : <span>{</span>
        "MaxCapacity" : 8,
        "MinCapacity" : 1,
        "RoleARN" : <span>{</span> "Fn::Sub" : "arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/rds.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_RDSCluster" },
        "ServiceNamespace" : "rds",
        "ScalableDimension" : "rds:cluster:ReadReplicaCount",
        "ResourceId" : <span>{</span> "Fn::Sub" : "cluster:$<span>{</span><code class="replaceable">logicalName</code>}" }
      }
    },
    "ScalingPolicyDBCluster" : <span>{</span>
      "Type" : "AWS::ApplicationAutoScaling::ScalingPolicy",
      "Properties" : <span>{</span>
        "PolicyName" : <span>{</span> "Fn::Sub" : "$<span>{</span>AWS::StackName}-target-tracking-cpu40" },
        "PolicyType" : "TargetTrackingScaling",
        "ServiceNamespace" : "rds",
        "ScalableDimension" : "rds:cluster:ReadReplicaCount",
        "ResourceId" : <span>{</span> "Fn::Sub" : "cluster:$<span>{</span><code class="replaceable">logicalName</code>}" }, 
        "TargetTrackingScalingPolicyConfiguration" : <span>{</span>
          "TargetValue" : 40,
          "PredefinedMetricSpecification" : <span>{</span>
            "PredefinedMetricType" : "RDSReaderAverageCPUUtilization"
          },
          "ScaleInCooldown" : 600,
          "ScaleOutCooldown" : 300
        }
      }
    }
  }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h3 id="quickref-autoscaling-example-7.yaml">YAML</h3>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">---
Resources:
  ScalableTarget:
    Type: AWS::ApplicationAutoScaling::ScalableTarget
    Properties:
      MaxCapacity: 8
      MinCapacity: 1
      RoleARN: 
        Fn::Sub: 'arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/rds.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_RDSCluster'
      ServiceNamespace: rds
      ScalableDimension: rds:cluster:ReadReplicaCount
      ResourceId: !Sub cluster:$<span>{</span><code class="replaceable">logicalName</code>}
  ScalingPolicyDBCluster:
    Type: AWS::ApplicationAutoScaling::ScalingPolicy
    Properties:
      PolicyName: !Sub $<span>{</span>AWS::StackName}-target-tracking-cpu40
      PolicyType: TargetTrackingScaling
      ServiceNamespace: rds
      ScalableDimension: rds:cluster:ReadReplicaCount
      ResourceId: !Sub cluster:$<span>{</span><code class="replaceable">logicalName</code>}
      TargetTrackingScalingPolicyConfiguration:
        TargetValue: 40
        PredefinedMetricSpecification:
          PredefinedMetricType: RDSReaderAverageCPUUtilization
        ScaleInCooldown: 600
        ScaleOutCooldown: 300</code></pre>
      </div>
     
      <h2 id="w9aac23c21c15c19c13">Création d'une politique de dimensionnement pour une table DynamoDB</h2>

      <p>Cet extrait montre comment créer une politique avec le type de <code class="code">TargetTrackingScaling</code> stratégie et l'appliquer à une <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-dynamodb-table.html"><code class="code">AWS::DynamoDB::Table</code></a>ressource utilisant cette ressource. <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-applicationautoscaling-scalingpolicy.html"><code class="code">AWS::ApplicationAutoScaling::ScalingPolicy</code></a> La <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-applicationautoscaling-scalabletarget.html"><code class="code">AWS::ApplicationAutoScaling::ScalableTarget</code></a>ressource déclare une cible évolutive à laquelle cette politique est appliquée, avec un minimum de cinq unités de capacité d'écriture et un maximum de 15. La politique de mise à l'échelle fait évoluer la capacité d'écriture de la table pour maintenir une utilisation cible à 50 % par rapport à la métrique prédéfinie <code class="code">DynamoDBWriteCapacityUtilization</code>.</p>
      <p>Il utilise les fonctions <a href="./intrinsic-function-reference-ref.html">Ref</a> intrinsèques <a href="./intrinsic-function-reference-join.html">Fn::Join</a> et pour construire la <code class="code">ResourceId</code> propriété avec le nom logique de la <code class="code">AWS::DynamoDB::Table</code> ressource spécifiée dans le même modèle.</p>
      <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Pour plus d'informations sur la création d'un modèle AWS CloudFormation pour les ressources DynamoDB, veuillez consulter le billet de blog <a href="https://aws.amazon.com/blogs/database/how-to-use-aws-cloudformation-to-configure-auto-scaling-for-amazon-dynamodb-tables-and-indexes/" rel="noopener noreferrer" target="_blank"><span>How to use AWS CloudFormation to configure auto scaling for Amazon DynamoDB tables and indexes</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> sur AWS Database Blog.</p></div></div>
      <div id="JSON" name="JSON" class="section langfilter">
        <h3 id="quickref-autoscaling-example-8.json">JSON</h3>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Resources" : <span>{</span>
    "WriteCapacityScalableTarget" : <span>{</span>
      "Type" : "AWS::ApplicationAutoScaling::ScalableTarget",
      "Properties" : <span>{</span>
        "MaxCapacity" : 15,
        "MinCapacity" : 5,
        "RoleARN" : <span>{</span> "Fn::Sub" : "arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/dynamodb.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_DynamoDBTable" },
        "ServiceNamespace" : "dynamodb",
        "ScalableDimension" : "dynamodb:table:WriteCapacityUnits",
        "ResourceId" : <span>{</span>
          "Fn::Join" : [
            "/",
            [
              "table",
              <span>{</span>
                "Ref" : "<code class="replaceable">logicalName</code>"
              }
            ]
          ]
        }
      }
    },
    "WriteScalingPolicy" : <span>{</span>
      "Type" : "AWS::ApplicationAutoScaling::ScalingPolicy",
      "Properties" : <span>{</span>
        "PolicyName" : "WriteScalingPolicy",
        "PolicyType" : "TargetTrackingScaling",
        "ScalingTargetId" : <span>{</span> "Ref" : "WriteCapacityScalableTarget" },
        "TargetTrackingScalingPolicyConfiguration" : <span>{</span>
          "TargetValue" : 50.0,
          "ScaleInCooldown" : 60,
          "ScaleOutCooldown" : 60,
          "PredefinedMetricSpecification" : <span>{</span>
            "PredefinedMetricType" : "DynamoDBWriteCapacityUtilization"
          }
        }
      }
    }
  }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h3 id="quickref-autoscaling-example-8.yaml">YAML</h3>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">---
Resources:
  WriteCapacityScalableTarget:
    Type: AWS::ApplicationAutoScaling::ScalableTarget
    Properties:
      MaxCapacity: 15
      MinCapacity: 5
      RoleARN: 
        Fn::Sub: 'arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/dynamodb.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_DynamoDBTable'
      ServiceNamespace: dynamodb
      ScalableDimension: dynamodb:table:WriteCapacityUnits
      ResourceId: !Join
        - /
        - - table
          - !Ref <code class="replaceable">logicalName</code>
  WriteScalingPolicy:
    Type: AWS::ApplicationAutoScaling::ScalingPolicy
    Properties:
      PolicyName: WriteScalingPolicy
      PolicyType: TargetTrackingScaling
      ScalingTargetId: !Ref WriteCapacityScalableTarget
      TargetTrackingScalingPolicyConfiguration:
        TargetValue: 50.0
        ScaleInCooldown: 60
        ScaleOutCooldown: 60
        PredefinedMetricSpecification:
          PredefinedMetricType: DynamoDBWriteCapacityUtilization</code></pre>
      </div>
     
      <h2 id="w9aac23c21c15c19c15">Création d'une politique de dimensionnement pour un service Amazon ECS (mesures : processeur et mémoire moyens)</h2>

      <p>Cet extrait montre comment créer une politique et l'appliquer à une <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ecs-service.html"><code class="code">AWS::ECS::Service</code></a>ressource utilisant cette ressource. <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-applicationautoscaling-scalingpolicy.html"><code class="code">AWS::ApplicationAutoScaling::ScalingPolicy</code></a> La <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-applicationautoscaling-scalabletarget.html"><code class="code">AWS::ApplicationAutoScaling::ScalableTarget</code></a>ressource déclare une cible évolutive à laquelle cette politique est appliquée. Application Auto Scaling peut ajuster le nombre de tâches à un minimum de 1 tâche et un maximum de 6 tâches.</p>
      <p>Cet exemple crée deux politiques de mise à l'échelle avec le type de politique <code class="code">TargetTrackingScaling</code>. Les politiques sont utilisées pour mettre à l'échelle le service ECS en fonction de l'utilisation moyenne du processeur et de la mémoire du service. Il utilise les fonctions <a href="./intrinsic-function-reference-ref.html">Ref</a> intrinsèques <a href="./intrinsic-function-reference-join.html">Fn::Join</a> et pour construire la <code class="code">ResourceId</code> propriété avec les noms logiques des ressources <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ecs-cluster.html"><code class="code">AWS::ECS::Cluster</code></a><code class="code">AWS::ECS::Service</code>(<code class="code">myContainerCluster</code><code class="code">myService</code>) et () spécifiées dans le même modèle.</p>
      <div id="JSON" name="JSON" class="section langfilter">
        <h3 id="quickref-autoscaling-example-9.json">JSON</h3>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Resources" : <span>{</span>
    "ECSScalableTarget" : <span>{</span>
      "Type" : "AWS::ApplicationAutoScaling::ScalableTarget",
      "Properties" : <span>{</span>
        "MaxCapacity" : "6",
        "MinCapacity" : "1",
        "RoleARN" : <span>{</span> "Fn::Sub" : "arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/ecs.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_ECSService" },
        "ServiceNamespace" : "ecs",
        "ScalableDimension" : "ecs:service:DesiredCount",
        "ResourceId" : <span>{</span>
          "Fn::Join" : [
            "/",
            [
              "service",
              <span>{</span>
                "Ref" : "<code class="replaceable">myContainerCluster</code>"
              },
              <span>{</span>
                "Fn::GetAtt" : [
                  "<code class="replaceable">myService</code>",
                  "Name"
                ]
              }
            ]
          ]
        }
      }
    },
    "ServiceScalingPolicyCPU" : <span>{</span>
      "Type" : "AWS::ApplicationAutoScaling::ScalingPolicy",
      "Properties" : <span>{</span>
        "PolicyName" : <span>{</span> "Fn::Sub" : "$<span>{</span>AWS::StackName}-target-tracking-cpu70" },
        "PolicyType" : "TargetTrackingScaling",
        "ScalingTargetId" : <span>{</span> "Ref" : "ECSScalableTarget" },
        "TargetTrackingScalingPolicyConfiguration" : <span>{</span>
          "TargetValue" : 70.0,
          "ScaleInCooldown" : 180,
          "ScaleOutCooldown" : 60,
          "PredefinedMetricSpecification" : <span>{</span>
            "PredefinedMetricType" : "ECSServiceAverageCPUUtilization"
          }
        }
      }
    },
    "ServiceScalingPolicyMem" : <span>{</span>
      "Type" : "AWS::ApplicationAutoScaling::ScalingPolicy",
      "Properties" : <span>{</span>
        "PolicyName" : <span>{</span> "Fn::Sub" : "$<span>{</span>AWS::StackName}-target-tracking-mem90" },
        "PolicyType" : "TargetTrackingScaling",
        "ScalingTargetId" : <span>{</span> "Ref" : "ECSScalableTarget" },
        "TargetTrackingScalingPolicyConfiguration" : <span>{</span>
          "TargetValue" : 90.0,
          "ScaleInCooldown" : 180,
          "ScaleOutCooldown" : 60,
          "PredefinedMetricSpecification" : <span>{</span>
            "PredefinedMetricType" : "ECSServiceAverageMemoryUtilization"
          }
        }
      }
    }
  }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h3 id="quickref-autoscaling-example-9.yaml">YAML</h3>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">---
Resources:
  ECSScalableTarget:
    Type: AWS::ApplicationAutoScaling::ScalableTarget
    Properties:
      MaxCapacity: 6
      MinCapacity: 1  
      RoleARN: 
        Fn::Sub: 'arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/ecs.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_ECSService'
      ServiceNamespace: ecs
      ScalableDimension: 'ecs:service:DesiredCount'
      ResourceId: !Join 
        - /
        - - service
          - !Ref <code class="replaceable">myContainerCluster</code>
          - !GetAtt <code class="replaceable">myService</code>.Name
  ServiceScalingPolicyCPU:
    Type: AWS::ApplicationAutoScaling::ScalingPolicy
    Properties:
      PolicyName: !Sub $<span>{</span>AWS::StackName}-target-tracking-cpu70
      PolicyType: TargetTrackingScaling
      ScalingTargetId: !Ref ECSScalableTarget
      TargetTrackingScalingPolicyConfiguration:
        TargetValue: 70.0
        ScaleInCooldown: 180
        ScaleOutCooldown: 60
        PredefinedMetricSpecification:
          PredefinedMetricType: ECSServiceAverageCPUUtilization
  ServiceScalingPolicyMem:
    Type: AWS::ApplicationAutoScaling::ScalingPolicy
    Properties:
      PolicyName: !Sub $<span>{</span>AWS::StackName}-target-tracking-mem90
      PolicyType: TargetTrackingScaling
      ScalingTargetId: !Ref ECSScalableTarget
      TargetTrackingScalingPolicyConfiguration:
        TargetValue: 90.0
        ScaleInCooldown: 180
        ScaleOutCooldown: 60
        PredefinedMetricSpecification:
          PredefinedMetricType: ECSServiceAverageMemoryUtilization</code></pre>
      </div>
     
      <h2 id="w9aac23c21c15c19c17">Création d'une politique de dimensionnement pour un service Amazon ECS (métrique : nombre moyen de demandes par cible)</h2>

      <p>L'exemple suivant applique une politique de mise à l'échelle de suivi cible avec la métrique prédéfinie <code class="code">ALBRequestCountPerTarget</code> à un service ECS. La politique est utilisée pour ajouter de la capacité au service ECS lorsque le nombre de demandes par cible dépasse la valeur cible. La valeur de <code class="code">DisableScaleIn</code> étant définie sur <code class="code">true</code>, la politique de suivi des cibles n'entame pas la capacité de la cible évolutive.</p>
      <p>Il utilise les fonctions <a href="./intrinsic-function-reference-getatt.html">Fn::GetAtt</a> intrinsèques <a href="./intrinsic-function-reference-join.html">Fn::Join</a> et pour construire la <code class="code">ResourceLabel</code> propriété avec les noms logiques des ressources <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-elasticloadbalancingv2-loadbalancer.html"><code class="code">AWS::ElasticLoadBalancingV2::LoadBalancer</code><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-elasticloadbalancingv2-targetgroup.html"><code class="code">AWS::ElasticLoadBalancingV2::TargetGroup</code></a></a>(<code class="code">myLoadBalancer</code><code class="code">myTargetGroup</code>) et () spécifiées dans le même modèle.</p>
      <p>Les propriétés <code class="code">MaxCapacity</code> et <code class="code">MinCapacity</code> de la cible évolutive et de la propriété <code class="code">TargetValue</code> des valeurs des paramètres de référence de politique de mise à l'échelle que vous transmettez au modèle lors de la création ou de la mise à jour d'une pile.</p>
      <div id="JSON" name="JSON" class="section langfilter">
        <h3 id="quickref-autoscaling-example-10.json">JSON</h3>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Resources" : <span>{</span>
    "ECSScalableTarget" : <span>{</span>
      "Type" : "AWS::ApplicationAutoScaling::ScalableTarget",
      "Properties" : <span>{</span>
        "MaxCapacity" : <span>{</span> "Ref" : "MaxCount" },
        "MinCapacity" : <span>{</span> "Ref" : "MinCount" },
        "RoleARN" : <span>{</span> "Fn::Sub" : "arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/ecs.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_ECSService" },
        "ServiceNamespace" : "ecs",
        "ScalableDimension" : "ecs:service:DesiredCount",
        "ResourceId" : <span>{</span>
          "Fn::Join" : [
            "/",
            [
              "service",
              <span>{</span>
                "Ref" : "<code class="replaceable">myContainerCluster</code>"
              },
              <span>{</span>
                "Fn::GetAtt" : [
                  "<code class="replaceable">myService</code>",
                  "Name"
                ]
              }
            ]
          ]
        }
      }
    },
    "ServiceScalingPolicyALB" : <span>{</span>
      "Type" : "AWS::ApplicationAutoScaling::ScalingPolicy",
      "Properties" : <span>{</span>
        "PolicyName" : "alb-requests-per-target-per-minute",
        "PolicyType" : "TargetTrackingScaling",
        "ScalingTargetId" : <span>{</span> "Ref" : "ECSScalableTarget" },
        "TargetTrackingScalingPolicyConfiguration" : <span>{</span>
          "TargetValue" : <span>{</span> "Ref" : "ALBPolicyTargetValue" },
          "ScaleInCooldown" : 180,
          "ScaleOutCooldown" : 30,
          "DisableScaleIn" : true,
          "PredefinedMetricSpecification" : <span>{</span>
            "PredefinedMetricType" : "ALBRequestCountPerTarget",
            "ResourceLabel" : <span>{</span>
              "Fn::Join" : [
                "/",
                [
                  <span>{</span>
                    "Fn::GetAtt" : [
                      "<code class="replaceable">myLoadBalancer</code>",
                      "LoadBalancerFullName"
                    ]
                  },
                  <span>{</span>
                    "Fn::GetAtt" : [
                      "<code class="replaceable">myTargetGroup</code>",
                      "TargetGroupFullName"
                    ]
                  }
                ]
              ]
            }
          }
        }
      }
    }
  }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h3 id="quickref-autoscaling-example-10.yaml">YAML</h3>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">---
Resources:
  ECSScalableTarget:
    Type: AWS::ApplicationAutoScaling::ScalableTarget
    Properties:
      MaxCapacity: !Ref MaxCount
      MinCapacity: !Ref MinCount  
      RoleARN: 
        Fn::Sub: 'arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/ecs.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_ECSService'
      ServiceNamespace: ecs
      ScalableDimension: 'ecs:service:DesiredCount'
      ResourceId: !Join 
        - /
        - - service
          - !Ref <code class="replaceable">myContainerCluster</code>
          - !GetAtt <code class="replaceable">myService</code>.Name
  ServiceScalingPolicyALB:
    Type: AWS::ApplicationAutoScaling::ScalingPolicy
    Properties:
      PolicyName: alb-requests-per-target-per-minute
      PolicyType: TargetTrackingScaling
      ScalingTargetId: !Ref ECSScalableTarget
      TargetTrackingScalingPolicyConfiguration:
        TargetValue: !Ref ALBPolicyTargetValue
        ScaleInCooldown: 180
        ScaleOutCooldown: 30
        DisableScaleIn: true
        PredefinedMetricSpecification:
          PredefinedMetricType: ALBRequestCountPerTarget
          ResourceLabel: !Join 
            - '/' 
            - - !GetAtt <code class="replaceable">myLoadBalancer</code>.LoadBalancerFullName
              - !GetAtt <code class="replaceable">myTargetGroup</code>.TargetGroupFullName</code></pre>
      </div>
     
      <h2 id="w9aac23c21c15c19c19">Création d'une action planifiée avec une expression cron pour une fonction Lambda</h2>

      <p>Cet extrait enregistre la simultanéité provisionnée pour une fonction alias (<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-lambda-alias.html"><code class="code">AWS::Lambda::Alias</code></a>) nommée <code class="code">BLUE</code> à l'aide de la ressource. <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-applicationautoscaling-scalabletarget.html"><code class="code">AWS::ApplicationAutoScaling::ScalableTarget</code></a> Il crée également une action planifiée avec une planification récurrente à l'aide d'une expression cron. Le fuseau horaire du calendrier récurrent est UTC.</p>
      <p>Il utilise les fonctions <a href="./intrinsic-function-reference-ref.html">Ref</a> intrinsèques <a href="./intrinsic-function-reference-join.html">Fn::Join</a> et de la <code class="code">RoleARN</code> propriété pour spécifier l'ARN du rôle lié au service. Il utilise la fonction <a href="./intrinsic-function-reference-sub.html">Fn::Sub</a> intrinsèque pour construire la <code class="code">ResourceId</code> propriété avec le nom logique de la <a href="https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/sam-resource-function.html"><code class="code">AWS::Serverless::Function</code></a>ressource <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-lambda-function.html"><code class="code">AWS::Lambda::Function</code></a>ou spécifiée dans le même modèle.</p>
      <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Vous ne pouvez pas attribuer de simultanéité provisionnée à un alias qui pointe vers la version non publiée (). <code class="code">$LATEST</code></p><p>Pour plus d'informations sur la création d'un modèle AWS CloudFormation pour les ressources Lambda , veuillez consulter le billet de blog <a href="https://aws.amazon.com/blogs/compute/scheduling-aws-lambda-provisioned-concurrency-for-recurring-peak-usage/" rel="noopener noreferrer" target="_blank"><span>Scheduling AWS Lambda Provisioned Concurrency for recurring peak usage</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> sur AWS Compute Blog.</p></div></div>


      <div id="JSON" name="JSON" class="section langfilter">
        <h3 id="quickref-autoscaling-example-11.json">JSON</h3>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "ScalableTarget" : <span>{</span>
    "Type" : "AWS::ApplicationAutoScaling::ScalableTarget",
    "Properties" : <span>{</span>
      "MaxCapacity" : 250,
      "MinCapacity" : 0,
      "RoleARN" : <span>{</span>
        "Fn::Join" : [
          ":",
          [
            "arn:aws:iam:",
            <span>{</span>
              "Ref" : "AWS::AccountId"
            },
            "role/aws-service-role/lambda.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_LambdaConcurrency"
          ]
        ]
      },
      "ServiceNamespace" : "lambda",
      "ScalableDimension" : "lambda:function:ProvisionedConcurrency",
      "ResourceId" : <span>{</span> "Fn::Sub" : "function:$<span>{</span><code class="replaceable">logicalName</code>}:BLUE" },
      "ScheduledActions" : [
        <span>{</span>
          "ScalableTargetAction" : <span>{</span>
            "MinCapacity" : "250"
          },
          "ScheduledActionName" : "my-scale-out-scheduled-action",
          "Schedule" : "cron(0 18 * * ? *)",
          "EndTime" : "2022-12-31T12:00:00.000Z"
        }
      ]
    }
  }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h3 id="quickref-autoscaling-example-11.yaml">YAML</h3>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">ScalableTarget:
  Type: AWS::ApplicationAutoScaling::ScalableTarget
  Properties:
    MaxCapacity: 250
    MinCapacity: 0
    RoleARN: !Join 
      - ':'
      - - 'arn:aws:iam:'
        - !Ref 'AWS::AccountId'
        - role/aws-service-role/lambda.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_LambdaConcurrency
    ServiceNamespace: lambda
    ScalableDimension: lambda:function:ProvisionedConcurrency
    ResourceId: !Sub function:$<span>{</span><code class="replaceable">logicalName</code>}:BLUE
    ScheduledActions:
      - ScalableTargetAction:
          MinCapacity: 250
        ScheduledActionName: my-scale-out-scheduled-action
        Schedule: 'cron(0 18 * * ? *)'
        EndTime: '2022-12-31T12:00:00.000Z'</code></pre>
      </div>
     
      <h2 id="w9aac23c21c15c19c21">Création d'une action planifiée avec une <code class="code">at</code> expression pour un parc de spots</h2>

      <p>Cet extrait montre comment créer deux actions planifiées qui ne se produisent qu'une seule fois pour une <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-spotfleet.html"><code class="code">AWS::EC2::SpotFleet</code></a>ressource utilisant cette ressource. <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-applicationautoscaling-scalabletarget.html"><code class="code">AWS::ApplicationAutoScaling::ScalableTarget</code></a> Le fuseau horaire de chaque action programmée ponctuelle est UTC.</p>
      <p>Il utilise les fonctions <a href="./intrinsic-function-reference-ref.html">Ref</a> intrinsèques <a href="./intrinsic-function-reference-join.html">Fn::Join</a> et pour construire la <code class="code">ResourceId</code> propriété avec le nom logique de la <code class="code">AWS::EC2::SpotFleet</code> ressource spécifiée dans le même modèle.</p>
      <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>La demande de parc d’instances Spot doit être de type <code class="code">maintain</code>. Le dimensionnement automatique n'est pas pris en charge pour les demandes uniques et les blocs d'instances Spot.</p></div></div>
      <div id="JSON" name="JSON" class="section langfilter">
        <h3 id="quickref-autoscaling-example-12.json">JSON</h3>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Resources" : <span>{</span>
    "SpotFleetScalableTarget" : <span>{</span>
      "Type" : "AWS::ApplicationAutoScaling::ScalableTarget",
      "Properties" : <span>{</span>
        "MaxCapacity" : 0,
        "MinCapacity" : 0,
        "RoleARN" : <span>{</span> "Fn::Sub" : "arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/ec2.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_EC2SpotFleetRequest" },
        "ServiceNamespace" : "ec2",
        "ScalableDimension" : "ec2:spot-fleet-request:TargetCapacity",
        "ResourceId" : <span>{</span>
          "Fn::Join" : [
            "/",
            [
              "spot-fleet-request",
              <span>{</span>
                "Ref" : "<code class="replaceable">logicalName</code>"
              }
            ]
          ]
        },
        "ScheduledActions" : [
          <span>{</span>
            "ScalableTargetAction" : <span>{</span>
              "MaxCapacity" : "10",
              "MinCapacity" : "10"
            },
            "ScheduledActionName" : "my-scale-out-scheduled-action",
            "Schedule" : "at(2022-05-20T13:00:00)"
          },
          <span>{</span>
            "ScalableTargetAction" : <span>{</span>
              "MaxCapacity" : "0",
              "MinCapacity" : "0"
            },
            "ScheduledActionName" : "my-scale-in-scheduled-action",
            "Schedule" : "at(2022-05-20T21:00:00)"
          }
        ]
      }
    }
  }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h3 id="quickref-autoscaling-example-12.yaml">YAML</h3>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">---
Resources:
  SpotFleetScalableTarget:
    Type: AWS::ApplicationAutoScaling::ScalableTarget
    Properties:
      MaxCapacity: 0
      MinCapacity: 0
      RoleARN: 
        Fn::Sub: 'arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/ec2.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_EC2SpotFleetRequest'
      ServiceNamespace: ec2
      ScalableDimension: 'ec2:spot-fleet-request:TargetCapacity'
      ResourceId: !Join 
        - /
        - - spot-fleet-request
          - !Ref <code class="replaceable">logicalName</code>
      ScheduledActions:
        - ScalableTargetAction:
            MaxCapacity: 10
            MinCapacity: 10
          ScheduledActionName: my-scale-out-scheduled-action
          Schedule: 'at(2022-05-20T13:00:00)'
        - ScalableTargetAction:
            MaxCapacity: 0
            MinCapacity: 0
          ScheduledActionName: my-scale-in-scheduled-action
          Schedule: 'at(2022-05-20T21:00:00)'</code></pre>
      </div>
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avertissement" /> <strong>JavaScript est désactivé ou n'est pas disponible dans votre navigateur.</strong></p><p>Pour que vous puissiez utiliser la documentation AWS, Javascript doit être activé. Vous trouverez des instructions sur les pages d'aide de votre navigateur.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Conventions de rédaction</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./quickref-ec2-auto-scaling.html">Configuration des ressources Amazon EC2 Auto Scaling</div><div id="next" class="next-link" accesskey="n" href="./quickref-billingconductor.html">AWS Billing Console</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Oui</div><div class="content"><p>Merci de nous avoir fait part de votre satisfaction.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer ce qui vous a plu afin que nous puissions nous améliorer davantage.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Non</div><div class="content"><p>Merci de nous avoir avertis que cette page avait besoin d'être retravaillée. Nous sommes désolés de ne pas avoir répondu à vos attentes.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer comment nous pourrions améliorer cette documentation.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>