<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="fr-FR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Dépannage d'AWS CloudFormation StackSets - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="stacksets-troubleshooting" /><meta name="default_state" content="stacksets-troubleshooting" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" /><meta name="description" content="Cette rubrique contient certains problèmes courants liés à AWS CloudFormation StackSets et les solutions suggérées pour résoudre ces problèmes." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Guide de l'utilisateur" /><meta name="abstract" content="Créez et gérez des déploiements AWS d'infrastructure de manière prévisible et répétée à l'aide de ce AWS CloudFormation guide de l'utilisateur." /><meta name="guide-locale" content="fr_fr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Guide de l'utilisateur" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Guide de l'utilisateur" /><meta id="panorama-serviceConsolePage" value="Dépannage d'AWS CloudFormation StackSets" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Dépannage d'AWS CloudFormation StackSets - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,provisionnement des ressources,configuration des ressources,gestion de l'infrastructure,CloudFormer,CloudFormation pile,CloudFormation stackset,CloudFormation modèle,jeu de modifications" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guide de l'utilisateur",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Travailler avec AWS CloudFormation StackSets",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/what-is-cfnstacksets.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Dépannage d'AWS CloudFormation StackSets",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/what-is-cfnstacksets.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Guide de l'utilisateur</a></div><div id="page-toc-src"><a href="#common-reasons-for-stack-operation-failure">Raisons les plus courantes de l'échec de l'opération de pile</a><a href="#retrying-failed-stack-creation-or-update-operations">Nouvelle tentative non réussie de création ou mise à jour de pile</a><a href="#stack-instance-delete-fails">Echec de la suppression de l'instance de pile</a><a href="#stack-import-fails">L'opération d'importation de pile échoue</a><a href="#stack-instance-failure-count-for-stackset-operations">Nombre de défaillances des instances de Stack pour les  StackSets  opérations</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Les traductions sont fournies par des outils de traduction automatique. En cas de conflit entre le contenu d'une traduction et celui de la version originale en anglais, la version anglaise prévaudra.</p></awsui-alert><h1 class="topictitle" id="stacksets-troubleshooting">Dépannage d'AWS CloudFormation StackSets</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Cette rubrique contient certains problèmes courants liés à AWS CloudFormation StackSets  et les solutions suggérées pour résoudre ces problèmes.</p><div class="highlights" id="inline-topiclist"><h6>Rubriques</h6><ul><li><a href="#common-reasons-for-stack-operation-failure">Raisons les plus courantes de l'échec de l'opération de pile</a></li><li><a href="#retrying-failed-stack-creation-or-update-operations">Nouvelle tentative non réussie de création ou mise à jour de pile</a></li><li><a href="#stack-instance-delete-fails">Echec de la suppression de l'instance de pile</a></li><li><a href="#stack-import-fails">L'opération d'importation de pile échoue</a></li><li><a href="#stack-instance-failure-count-for-stackset-operations">Nombre de défaillances des instances de Stack pour les  StackSets  opérations</a></li></ul></div>
        <h2 id="common-reasons-for-stack-operation-failure">Raisons les plus courantes de l'échec de l'opération de pile</h2>

        <p><b>Problème :</b> Une opération de pile a échoué et l'instance de pile a le statut <code class="code">OUTDATED</code>.</p>
        <p><b>Cause :</b> Plusieurs causes courantes sont associées à l'échec d'une opération de pile.</p>
        <div class="itemizedlist">
             
             
             
             
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>Autorisations insuffisantes dans un compte de destination pour la création des ressources spécifiées dans votre modèle.</p>
            </li><li class="listitem">
                <p>Le modèle AWS CloudFormation peut contenir des erreurs. Validez le modèle dans AWS CloudFormation et corrigez les erreurs avant d'essayer de créer votre ensemble de piles.</p>
            </li><li class="listitem">
                <p>Le modèle effectue peut-être une tentative de création de ressources globales qui doivent être uniques et qui ne le sont, par exemple des compartiments S3.</p>
            </li><li class="listitem">
                <p>Un numéro de compte de destination spécifié n'existe pas. Vérifiez les numéros de compte de destination que vous avez spécifiés sur la page <b>Set deployment options (Définir les options de déploiement)</b> de l'assistant.</p>
            </li><li class="listitem">
                <p>Le compte d'administrateur de compte n'a pas de relation d'approbation avec le compte de destination.</p>
            </li><li class="listitem">
                <p>Le nombre maximal d'une ressource spécifiée dans votre modèle est déjà atteint dans votre compte de destination. Par exemple, vous avez peut-être atteint le nombre limite de rôles IAM autorisés dans un compte de destination, mais le modèle crée d'autres rôles IAM.</p>
            </li><li class="listitem">
                <p>Vous avez atteint le nombre maximal de piles autorisé dans un ensemble de piles. Consultez <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cloudformation-limits.html">Limites AWS CloudFormation</a> pour connaître le nombre maximal de piles par ensemble de piles.</p>
            </li></ul></div>
        <p><b>Solution :</b> Pour plus d'informations sur les autorisations requises pour les comptes de destination et d'administrateur avant de pouvoir créer des ensembles de piles, consultez <a href="./stacksets-prereqs-self-managed.html#stacksets-prereqs-accountsetup">Configuration d'autorisations de base pour les opérations d'ensembles de piles</a>.</p>
     
        <h2 id="retrying-failed-stack-creation-or-update-operations">Nouvelle tentative non réussie de création ou mise à jour de pile</h2>

        <p><b>Problème :</b> Une création ou mise à jour de pile a échoué, et l'instance de pile a le statut <code class="code">OUTDATED</code>. Pour diagnostiquer la cause de l'échec de la création ou de la mise à jour d'une pile, ouvrez la console AWS CloudFormation et consultez les événements de la pile. Ils auront le statut <code class="code">DELETED</code> (pour les créations qui ont échoué) ou <code class="code">FAILED</code> (pour les mises à jour qui ont échoué). Dans les événements de la pile, recherchez la colonne <b>Motif du statut</b>. La valeur de <b>Motif du statut</b> explique pourquoi l'opération de pile a échoué.</p>
        <p>Une fois que vous éliminé la cause sous-jacente de l'échec de la création de la pile et que vous êtes prêt à réessayer de créer la pile, effectuez les étapes suivantes.</p>
        <p><b>Solution :</b> Effectuez les étapes suivantes pour recommencer votre opération de pile.</p>
        <div class="procedure"><ol><li>
                <p>Dans la console, sélectionnez l'ensemble de piles qui contient la pile sur laquelle l'opération a échoué.</p>
            </li><li>
                <p>Dans le menu <b>Actions</b>, choisissez <b>Modifier les  StackSet détails</b> pour réessayer de créer ou de mettre à jour des piles.</p>
            </li><li>
                <p>Sur la page <b>Specify template (Spécifier un modèle)</b>, pour utiliser le même modèle AWS CloudFormation, conservez l'option par défaut, <b>Utiliser modèle en cours</b>. Si votre opération de pile a échoué car le modèle nécessitait des modifications, et que vous souhaitez charger un modèle révisé, choisissez <b>Upload a template to Amazon S3</b> (Télécharger un modèle sur Amazon S3) à la place, puis <b>Browse</b> (Parcourir) pour sélectionner votre modèle mis à jour. Lorsque vous avez fini de charger votre modèle révisé, cliquez sur <b>Next</b> (Suivant).</p>
            </li><li>
                <p>Sur la page <b>Specify details</b> (Spécifier les détails), si vous ne modifiez pas les paramètres spécifiques de votre modèle, choisissez <b>Next</b> (Suivant).</p>
            </li><li>
                <p>Sur la page <b>Set deployment options (Définir les options de déploiement)</b>, modifiez les valeurs par défaut de <b>Maximum concurrent accounts (Nombre maximal de comptes en parallèle)</b> et <b>Failure tolerance (Tolérance aux pannes)</b> si vous le souhaitez. Pour plus d’informations sur ces paramètres, consultez la page <a href="./stacksets-concepts.html#stackset-ops-options">Options d'opération d'ensemble de piles</a>.</p>
            </li><li>
                <p>Sur la page <b>Vérification</b>, vérifiez vos sélections et cochez la case pour reconnaître les fonctions IAM requises. Sélectionnez <b>Envoyer</b>.</p>
            </li><li>
                <p>Si votre pile n'est pas mise à jour avec succès, répétez cette procédure après avoir résolu les problèmes sous-jacents qui empêchent la création de la pile.</p>
            </li></ol></div>
     
        <h2 id="stack-instance-delete-fails">Echec de la suppression de l'instance de pile</h2>
        <p><b>Problème :</b> échec de la suppression d'une pile.</p>
        <p><b>Cause :</b> la suppression échoue pour n'importe quelle pile dont la protection contre la résiliation a été activée.</p>
        <p><b>Solution :</b> déterminez si la protection contre la résiliation a été activée pour la pile. Si c'est le cas, désactivez la protection contre la résiliation, puis effectuez à nouveau l'opération de suppression de l'instance de pile.</p>
     
        <h2 id="stack-import-fails">L'opération d'importation de pile échoue</h2>
        <p><b>Problème :</b> une opération d'importation de pile ne permet pas d'importer des piles existantes dans des ensembles de piles nouveaux ou existants. L'instance de pile se trouve à l'état <code class="code">INOPERABLE</code>.</p>
        <p><b>Solution :</b> annulez l'opération d'importation de pile en procédant comme suit.</p>
        <div class="orderedlist">
             
             
             
            <ol><li>
                <p>Utilisez l' StackSetsoption <b>Supprimer les piles et activez-la <b>RetainStacks</b>lors de</b> la configuration, puis supprimez les instances de pile de votre ensemble de piles. Pour plus d'informations, veuillez consulter la rubrique <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stackinstances-delete.html">Supprimer les instances de pile de votre ensemble de piles</a>.</p>
            </li><li>
                <p>Vous verrez que l'instance de pile du Stackset est mise à jour pour supprimer l'instance de pile <code class="code">INOPERABLE</code>.</p>
            </li><li>
                <p>Corrigez les instances de pile en fonction de l'erreur d'échec de l'importation et recommencez l'opération d'importation de la pile.</p>
            </li></ol></div>
     
        <h2 id="stack-instance-failure-count-for-stackset-operations">Nombre de défaillances des instances de Stack pour les  StackSets  opérations</h2>
        <p>Le nombre d'instances de pile défaillantes vous avertit en cas d'échec de la mise en service ou la mise à jour des instances de pile. Ces instances de pile n'ont pas été déployées pour une ou plusieurs des raisons suivantes :</p>
        <div class="itemizedlist">
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>Ressource(s) existante(s) dotée(s) d'une configuration similaire</p>
            </li><li class="listitem">
                <p>Dépendances manquantes, telles que les rôles AWS Identity and Access Management (IAM)</p>
            </li><li class="listitem">
                <p>Autres facteurs de conflit</p>
            </li></ul></div>
        <p>Si vous souhaitez effectuer un déploiement avec une simultanéité maximale, la valeur maximale de simultanéité est, au maximum, supérieure d'une unité à la valeur de tolérance aux pannes. Par exemple, si la valeur de tolérance aux pannes est de 9, la valeur maximale de simultanéité ne peut pas être supérieure à 10. Ainsi l'opération renvoie <code class="code">SUCCEEDED</code> même si certaines instances de pile ne sont pas mises à jour. Le nouveau nombre d'instances de pile défaillantes vous permet de déterminer si l'opération n'a abouti que de manière conditionnelle parce que la valeur de tolérances aux pannes est définie pour autoriser toutes les défaillances.</p>
        <p>Vous pouvez utiliser la AWS Management Console, le kit SDK AWS ou la AWS CLI pour obtenir le nombre de défaillances et filtrer les instances de pile afin de déterminer lesquelles doivent être redéployées.</p>
         
            <h3 id="stack-instance-failure-count-for-stackset-operations-console-examples">Utilisation de la console</h3>
            <div class="procedure"><h6>Pour afficher le nombre d'instances de pile défaillantes :</h6><ol><li>
                    <p>Ouvrez la <a href="https://console.aws.amazon.com/cloudformation" rel="noopener noreferrer" target="_blank"><span>AWS CloudFormationconsole</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> et choisissez <b>StackSets</b>.</p>
                </li><li>
                    <p>Choisissez votre StackSet, puis cliquez sur l'onglet <b>Opérations</b>.</p>
                </li><li>
                    <p>Sélectionnez un état dans la colonne <b>Status</b> (État) pour afficher les détails relatifs à l'état. Vous trouverez le nombre d'instances de pile défaillantes d'une opération particulière dans les détails relatifs à l'état.</p>
                </li></ol></div>
            <div class="procedure"><h6>Pour consulter le nombre, la région et l'état des instances de pile associées à l'opération :</h6><ol><li>
                    <p>Dans les détails relatifs à l'état, sélectionnez le nombre d'instances de pile défaillantes. <em>Exemple :</em> <b>Instances de pile : <code class="code">&lt;number of failed stack
                                instances&gt;</code></b>.</p>
                </li><li>
                    <p>Développez le panneau latéral en sélectionnant l'en-tête de celui-ci. Les résultats affichés dans le panneau latéral indiquent l'état des instances de pile une fois l'opération sélectionnée terminée.</p>
                </li></ol></div>
            <div class="procedure"><h6>Pour afficher les détails de l'instance de pile actuelle d'une opération :</h6><ol><li>
                    <p>Sélectionnez l'onglet <b>Stack Instances</b> (Instances de pile).</p>
                </li><li>
                    <p>Utilisez le filtre suivant : <b>Last operation ID</b> (ID de la dernière opération). Les résultats indiquent l'état actuel et le motif de cet état depuis la dernière opération de modification de l'instance. Vous pouvez utiliser ce filtre en association avec <b>compte AWS</b>, <b>Région AWS</b>, <b>État détaillé</b> et <b>État de l'écart</b> pour affiner les résultats de votre recherche.</p>
                </li></ol></div>
         
         
            <h3 id="stack-instance-failure-count-for-stackset-operations-cli-examples">Utilisation de la AWS CLI</h3>
            <p>Pour connaître le nombre d'instances de pile défaillantes, appelez <code class="code">describe-stack-set-operation</code> ou <code class="code">list-stack-set-operations</code> et consultez <code class="code">StatusDetails</code>.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="prompt" copy="false">$ </code>aws cloudformation describe-stack-set-operation --stack-set-name ss1 \
    --operation-id 5550e62f-c822-4331-88fa-21c1d7bafc60</code></pre>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "StackSetOperation": <span>{</span>
        "OperationId": "5550e62f-c822-4331-88fa-21c1d7bafc60",
        "StackSetId": "ss1:9101ca57-49fc-4a61-a5a6-4c97b8adb08f",
        "Action": "CREATE",
        "Status": "SUCCEEDED",
        "OperationPreferences": <span>{</span>
            "RegionOrder": [],
            "FailureToleranceCount": 10,
            "MaxConcurrentCount": 10
        },
        "AdministrationRoleARN": "arn:aws:iam::123456789012:role/AWSCloudFormationStackSetAdministrationRole",
        "ExecutionRoleName": "AWSCloudFormationStackSetExecutionRole",
        "CreationTimestamp": "2022-10-26T17:18:53.947000+00:00",
        "EndTimestamp": "2022-10-26T17:19:35.304000+00:00",
        "StatusDetails": <span>{</span>
            "FailedStackInstancesCount": 3
        }
    }
}</code></pre>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">aws cloudformation list-stack-set-operations --stack-set-name ss1</code></pre>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Summaries": [
        <span>{</span>
            "OperationId": "5550e62f-c822-4331-88fa-21c1d7bafc60",
            "Action": "CREATE",
            "Status": "SUCCEEDED",
            "CreationTimestamp": "2022-10-26T17:18:53.947000+00:00",
            "EndTimestamp": "2022-10-26T17:19:35.304000+00:00",
            "StatusDetails": <span>{</span>
                "FailedStackInstancesCount": 3
            },
            "OperationPreferences": <span>{</span>
                "RegionOrder": [],
                "FailureToleranceCount": 10,
                "MaxConcurrentCount": 10
            }
        }
    ]
}</code></pre>
            <p>Pour obtenir un aperçu de l'historique d'une opération particulière, utilisez <code class="code">list-stack-set-operation-results</code> afin d'afficher l'état et le motif de l'état de chaque instance de pile au terme de l'opération. Consultez l'exemple suivant pour trouver l'état (<code class="code">Status</code>) et le motif de l'état (<code class="code">StatusReason</code>) :</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">aws cloudformation list-stack-set-operation-results --stack-set-name ss1 --operation-id 5550e62f-c822-4331-88fa-21c1d7bafc60 --filters Name=OPERATION_RESULT_STATUS,Values=FAILED</code></pre>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Summaries": [
        <span>{</span>
            "Account": "123456789012",
            "Region": "us-west-2",
            "Status": "FAILED",
            "StatusReason": "Account 123456789012 should have 'AWSCloudFormationStackSetExecutionRole' role with trust relationship to Role 'AWSCloudFormationStackSetAdministrationRole'.",
            "AccountGateResult": <span>{</span>
                "Status": "SKIPPED",
                "StatusReason": "Account 123456789012 should have 'AWSCloudFormationStackSetExecutionRole' role with trust relationship to Role 'AWSCloudFormationStackSetAdministrationRole'."
            },
            "OrganizationalUnitId": ""
        },
        <span>{</span>
            "Account": "123456789012",
            "Region": "us-west-1",
            "Status": "FAILED",
            "StatusReason": "Account 123456789012 should have 'AWSCloudFormationStackSetExecutionRole' role with trust relationship to Role 'AWSCloudFormationStackSetAdministrationRole'.",
            "AccountGateResult": <span>{</span>
                "Status": "SKIPPED",
                "StatusReason": "Account 123456789012 should have 'AWSCloudFormationStackSetExecutionRole' role with trust relationship to Role 'AWSCloudFormationStackSetAdministrationRole'."
            },
            "OrganizationalUnitId": ""
        },
        <span>{</span>
            "Account": "123456789012",
            "Region": "us-east-1",
            "Status": "FAILED",
            "StatusReason": "Account 123456789012 should have 'AWSCloudFormationStackSetExecutionRole' role with trust relationship to Role 'AWSCloudFormationStackSetAdministrationRole'.",
            "AccountGateResult": <span>{</span>
                "Status": "SKIPPED",
                "StatusReason": "Account 123456789012 should have 'AWSCloudFormationStackSetExecutionRole' role with trust relationship to Role 'AWSCloudFormationStackSetAdministrationRole'."
            },
            "OrganizationalUnitId": ""
        }
    ]
}</code></pre>
            <p>Utilisez <code class="code">list-stack-instances</code> avec les filtres <code class="code">DETAILED_STATUS</code> et <code class="code">LAST_OPERATION_ID</code> pour obtenir la liste des instances de pile qui ont échoué lors de la dernière opération au cours de laquelle un déploiement de celles-ci a été tenté. Voir l'indicateur <code class="code">--filters</code> dans l'exemple comportant <code class="code">DETAILED_STATUS</code> et <code class="code">LAST_OPERATION_ID</code> :</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">aws cloudformation list-stack-instances --stack-set-name ss1 --filters Name=DETAILED_STATUS,Values=FAILED Name=LAST_OPERATION_ID,Values=5550e62f-c822-4331-88fa-21c1d7bafc60</code></pre>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Summaries": [
        <span>{</span>
            "StackSetId": "ss1:9101ca57-49fc-4a61-a5a6-4c97b8adb08f",
            "Region": "us-east-1",
            "Account": "123456789012",
            "Status": "OUTDATED",
            "StatusReason": "Account 123456789012 should have 'AWSCloudFormationStackSetExecutionRole' role with trust relationship to Role 'AWSCloudFormationStackSetAdministrationRole'.",
            "StackInstanceStatus": <span>{</span>
                "DetailedStatus": "FAILED"
            },
            "OrganizationalUnitId": "",
            "DriftStatus": "NOT_CHECKED",
            "LastOperationId": "5550e62f-c822-4331-88fa-21c1d7bafc60"
        },
        <span>{</span>
            "StackSetId": "ss1:9101ca57-49fc-4a61-a5a6-4c97b8adb08f",
            "Region": "us-west-1",
            "Account": "123456789012",
            "Status": "OUTDATED",
            "StatusReason": "Account 123456789012 should have 'AWSCloudFormationStackSetExecutionRole' role with trust relationship to Role 'AWSCloudFormationStackSetAdministrationRole'.",
            "StackInstanceStatus": <span>{</span>
                "DetailedStatus": "FAILED"
            },
            "OrganizationalUnitId": "",
            "DriftStatus": "NOT_CHECKED",
            "LastOperationId": "5550e62f-c822-4331-88fa-21c1d7bafc60"
        },
        <span>{</span>
            "StackSetId": "ss1:9101ca57-49fc-4a61-a5a6-4c97b8adb08f",
            "Region": "us-west-2",
            "Account": "123456789012",
            "Status": "OUTDATED",
            "StatusReason": "Account 123456789012 should have 'AWSCloudFormationStackSetExecutionRole' role with trust relationship to Role 'AWSCloudFormationStackSetAdministrationRole'.",
            "StackInstanceStatus": <span>{</span>
                "DetailedStatus": "FAILED"
            },
            "OrganizationalUnitId": "",
            "DriftStatus": "NOT_CHECKED",
            "LastOperationId": "5550e62f-c822-4331-88fa-21c1d7bafc60"
        }
    ]
}</code></pre>
            <p>Pour trouver l'ID de la dernière opération afin de modifier une instance de pile, utilisez <code class="code">list-stack-instances</code> ou <code class="code">describe-stack-instance</code> de manière à obtenir <code class="code">LastOperationId</code> :</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">aws cloudformation describe-stack-instance --stack-set-name ss1 --stack-instance-account 123456789012 --stack-instance-region us-east-2</code></pre>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "StackInstance": <span>{</span>
        "StackSetId": "ss1:9101ca57-49fc-4a61-a5a6-4c97b8adb08f",
        "Region": "us-west-2",
        "Account": "123456789012",
        "ParameterOverrides": [],
        "Status": "OUTDATED",
        "StackInstanceStatus": <span>{</span>
            "DetailedStatus": "FAILED"
        },
        "StatusReason": "Account 123456789012 should have 'AWSCloudFormationStackSetExecutionRole' role with trust relationship to Role 'AWSCloudFormationStackSetAdministrationRole'.",
        "OrganizationalUnitId": "",
        "DriftStatus": "NOT_CHECKED",
        "LastOperationId": "5550e62f-c822-4331-88fa-21c1d7bafc60"
    }
}</code></pre>
         
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avertissement" /> <strong>JavaScript est désactivé ou n'est pas disponible dans votre navigateur.</strong></p><p>Pour que vous puissiez utiliser la documentation AWS, Javascript doit être activé. Vous trouverez des instructions sur les pages d'aide de votre navigateur.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Conventions de rédaction</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./stacksets-sampletemplates.html">Exemples de modèle</div><div id="next" class="next-link" accesskey="n" href="./git-sync.html">Utilisation de la synchronisation Git</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Oui</div><div class="content"><p>Merci de nous avoir fait part de votre satisfaction.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer ce qui vous a plu afin que nous puissions nous améliorer davantage.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Non</div><div class="content"><p>Merci de nous avoir avertis que cette page avait besoin d'être retravaillée. Nous sommes désolés de ne pas avoir répondu à vos attentes.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer comment nous pourrions améliorer cette documentation.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>