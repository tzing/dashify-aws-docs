<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>AWS::EC2::VPC - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="aws-resource-ec2-vpc" /><meta name="default_state" content="aws-resource-ec2-vpc" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpc.html" /><meta name="description" content="Specifies a virtual private cloud (VPC)." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Create and manage AWS infrastructure deployments predictably and repeatedly using AWS CloudFormation with this User Guide." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json;toc-AWS_EC2.json" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpc.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpc.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpc.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpc.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpc.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpc.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpc.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpc.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpc.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpc.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpc.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpc.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpc.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpc.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpc.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpc.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpc.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpc.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpc.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpc.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpc.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpc.html" hreflang="x-default" /><meta name="feedback-item" content="EC2 CFN" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="AWS::EC2::VPC" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>AWS::EC2::VPC - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=EC2%20CFN&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpc.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpc.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpc.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Amazon EC2 resource type reference",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/AWS_EC2.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "AWS::EC2::VPC",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/AWS_EC2.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="AWS_EC2.html">User Guide</a></div><div id="page-toc-src"><a href="#aws-resource-ec2-vpc-syntax">Syntax</a><a href="#aws-resource-ec2-vpc-properties">Properties</a><a href="#aws-resource-ec2-vpc-return-values">Return values</a><a href="#aws-resource-ec2-vpc--examples">Examples</a><a href="#aws-resource-ec2-vpc--seealso">See also</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="aws-resource-ec2-vpc">AWS::EC2::VPC</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Specifies a virtual private cloud (VPC).</p><p>To add an IPv6 CIDR block to the VPC, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpccidrblock.html">AWS::EC2::VPCCidrBlock</a>.</p><p>For more information, see <a href="https://docs.aws.amazon.com/vpc/latest/userguide/configure-your-vpc.html">Virtual private clouds (VPC)</a> 
         in the <em>Amazon VPC User Guide</em>.</p><h2 id="aws-resource-ec2-vpc-syntax">Syntax</h2><p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p><div id="JSON" name="JSON" class="section langfilter"><h3 id="aws-resource-ec2-vpc-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Type" : "AWS::EC2::VPC",
  "Properties" : <span>{</span>
      "<a href="#cfn-ec2-vpc-cidrblock">CidrBlock</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-ec2-vpc-enablednshostnames">EnableDnsHostnames</a>" : <code class="replaceable">Boolean</code>,
      "<a href="#cfn-ec2-vpc-enablednssupport">EnableDnsSupport</a>" : <code class="replaceable">Boolean</code>,
      "<a href="#cfn-ec2-vpc-instancetenancy">InstanceTenancy</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-ec2-vpc-ipv4ipampoolid">Ipv4IpamPoolId</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-ec2-vpc-ipv4netmasklength">Ipv4NetmaskLength</a>" : <code class="replaceable">Integer</code>,
      "<a href="#cfn-ec2-vpc-tags">Tags</a>" : <code class="replaceable">[ <a href="./aws-properties-ec2-vpc-tag.html">Tag</a>, ... ]</code>
    }
}
</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h3 id="aws-resource-ec2-vpc-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Type: AWS::EC2::VPC
Properties:
  <a href="#cfn-ec2-vpc-cidrblock">CidrBlock</a>: <code class="replaceable">String</code>
  <a href="#cfn-ec2-vpc-enablednshostnames">EnableDnsHostnames</a>: <code class="replaceable">Boolean</code>
  <a href="#cfn-ec2-vpc-enablednssupport">EnableDnsSupport</a>: <code class="replaceable">Boolean</code>
  <a href="#cfn-ec2-vpc-instancetenancy">InstanceTenancy</a>: <code class="replaceable">String</code>
  <a href="#cfn-ec2-vpc-ipv4ipampoolid">Ipv4IpamPoolId</a>: <code class="replaceable">String</code>
  <a href="#cfn-ec2-vpc-ipv4netmasklength">Ipv4NetmaskLength</a>: <code class="replaceable">Integer</code>
  <a href="#cfn-ec2-vpc-tags">Tags</a>: <code class="replaceable">
    - <a href="./aws-properties-ec2-vpc-tag.html">Tag</a></code>
</code></pre></div><h2 id="aws-resource-ec2-vpc-properties">Properties</h2><div class="variablelist"><dl><dt id="cfn-ec2-vpc-cidrblock"><span class="term"><code class="code">CidrBlock</code></span></dt><dd>
      <p>The IPv4 network range for the VPC, in CIDR notation. For example,
         <code class="code">10.0.0.0/16</code>. We modify the specified CIDR block to its canonical form; for example, if you specify <code class="code">100.68.0.18/18</code>, we modify it to <code class="code">100.68.0.0/18</code>.</p>
      <p>You must specify either<code class="code">CidrBlock</code> or <code class="code">Ipv4IpamPoolId</code>.</p>
   <p><em>Required</em>: Conditional</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-ec2-vpc-enablednshostnames"><span class="term"><code class="code">EnableDnsHostnames</code></span></dt><dd>
      <p>Indicates whether the instances launched in the VPC get DNS hostnames. If enabled,
         instances in the VPC get DNS hostnames; otherwise, they do not. Disabled by default for
         nondefault VPCs. For more information, see <a href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-dns.html#vpc-dns-support">DNS attributes in your
            VPC</a>.</p>
      <p>You can only enable DNS hostnames if you've enabled DNS support.</p>
   <p><em>Required</em>: No</p><p><em>Type</em>: Boolean</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-ec2-vpc-enablednssupport"><span class="term"><code class="code">EnableDnsSupport</code></span></dt><dd>
      <p>Indicates whether the DNS resolution is supported for the VPC. If enabled, queries to
         the Amazon provided DNS server at the 169.254.169.253 IP address, or the reserved IP
         address at the base of the VPC network range "plus two" succeed. If disabled, the Amazon
         provided DNS service in the VPC that resolves public DNS hostnames to IP addresses is not
         enabled. Enabled by default. For more information, see <a href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-dns.html#vpc-dns-support">DNS attributes in your VPC</a>.</p>
   <p><em>Required</em>: No</p><p><em>Type</em>: Boolean</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-ec2-vpc-instancetenancy"><span class="term"><code class="code">InstanceTenancy</code></span></dt><dd>
      <p>The allowed tenancy of instances launched into the VPC.</p>
      <div class="itemizedlist">
          
          
      <ul class="itemizedlist"><li class="listitem">
            <p><code class="code">default</code>: An instance launched into the VPC runs on shared hardware
               by default, unless you explicitly specify a different tenancy during instance
               launch.</p>
         </li><li class="listitem">
            <p><code class="code">dedicated</code>: An instance launched into the VPC runs on dedicated
               hardware by default, unless you explicitly specify a tenancy of <code class="code">host</code> 
               during instance launch. You cannot specify a tenancy of <code class="code">default</code> during 
               instance launch.</p>
         </li></ul></div>
      <p>Updating <code class="code">InstanceTenancy</code> requires no replacement only if you are updating
         its value from <code class="code">dedicated</code> to <code class="code">default</code>. Updating
         <code class="code">InstanceTenancy</code> from <code class="code">default</code> to <code class="code">dedicated</code>
         requires replacement.</p>
   <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Allowed values</em>: <code class="code">default | dedicated | host</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-some-interrupt">Some interruptions</a></p></dd><dt id="cfn-ec2-vpc-ipv4ipampoolid"><span class="term"><code class="code">Ipv4IpamPoolId</code></span></dt><dd>
      <p>The ID of an IPv4 IPAM pool you want to use for allocating this VPC's CIDR. For more information, see 
         <a href="/vpc/latest/ipam/what-is-it-ipam.html" rel="noopener noreferrer" target="_blank">What is IPAM?</a> in the <em>Amazon VPC IPAM User Guide</em>.</p>
      <p>You must specify either<code class="code">CidrBlock</code> or <code class="code">Ipv4IpamPoolId</code>.</p>
   <p><em>Required</em>: Conditional</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-ec2-vpc-ipv4netmasklength"><span class="term"><code class="code">Ipv4NetmaskLength</code></span></dt><dd>
         <p>The netmask length of the IPv4 CIDR you want to allocate to this VPC from an Amazon VPC IP Address Manager (IPAM) pool. For more information about IPAM, see <a href="https://docs.aws.amazon.com/vpc/latest/ipam/what-is-it-ipam.html">What is IPAM?</a> in the <em>Amazon VPC IPAM User Guide</em>.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: Integer</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-ec2-vpc-tags"><span class="term"><code class="code">Tags</code></span></dt><dd>
      <p>The tags for the VPC.</p>
   <p><em>Required</em>: No</p><p><em>Type</em>: Array of <a href="./aws-properties-ec2-vpc-tag.html">Tag</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd></dl></div><h2 id="aws-resource-ec2-vpc-return-values">Return values</h2><h3 id="aws-resource-ec2-vpc-return-values-ref">Ref</h3><p>When you pass the logical ID of this resource to the intrinsic <code class="code">Ref</code> function, <code class="code">Ref</code> returns the ID of the VPC.</p><p>For more information about using the <code class="code">Ref</code> function, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-ref.html"><code class="code">Ref</code></a>.</p><h3 id="aws-resource-ec2-vpc-return-values-fn--getatt">Fn::GetAtt</h3><p>The <code class="code">Fn::GetAtt</code> intrinsic function returns a value for a specified attribute of this type. The following are the available attributes and sample return values.</p>
<p>For more information about using the <code class="code">Fn::GetAtt</code> intrinsic function, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-getatt.html"><code class="code">Fn::GetAtt</code></a>.</p><h4 id="aws-resource-ec2-vpc-return-values-fn--getatt-fn--getatt"></h4><div class="variablelist"><dl><dt id="CidrBlock-fn::getatt"><span class="term"><code class="code">CidrBlock</code></span></dt><dd>
      <p>The primary IPv4 CIDR block for the VPC. For example, 10.0.0.0/16.</p>
   </dd><dt id="CidrBlockAssociations-fn::getatt"><span class="term"><code class="code">CidrBlockAssociations</code></span></dt><dd>
      <p>The association IDs of the IPv4 CIDR blocks for the VPC. For example, 
         [ vpc-cidr-assoc-0280ab6b ].</p>
   </dd><dt id="DefaultNetworkAcl-fn::getatt"><span class="term"><code class="code">DefaultNetworkAcl</code></span></dt><dd>
      <p>The ID of the default network ACL for the VPC. For example, acl-814dafe3.</p>
   </dd><dt id="DefaultSecurityGroup-fn::getatt"><span class="term"><code class="code">DefaultSecurityGroup</code></span></dt><dd>
      <p>The ID of the default security group for the VPC. For example, sg-b178e0d3.</p>
   </dd><dt id="Ipv6CidrBlocks-fn::getatt"><span class="term"><code class="code">Ipv6CidrBlocks</code></span></dt><dd>
      <p>The IPv6 CIDR blocks for the VPC. For example, [ 2001:db8:1234:1a00::/56 ].</p>
   </dd><dt id="VpcId-fn::getatt"><span class="term"><code class="code">VpcId</code></span></dt><dd>
      <p>The ID of the VPC.</p>
   </dd></dl></div><h2 id="aws-resource-ec2-vpc--examples">Examples</h2><p></p><div class="highlights" id="inline-topiclist"><h6> </h6><ul><li><a href="#aws-resource-ec2-vpc--examples--Create_a_VPC_with_an_IPv4_CIDR_block">Create a VPC with an IPv4 CIDR block</a></li><li><a href="#aws-resource-ec2-vpc--examples--Create_a_VPC_with_an_IPv4_CIDR_block_and_an_IPv6_CIDR_block">Create a VPC with an IPv4 CIDR block and an IPv6 CIDR block</a></li></ul></div><h3 id="aws-resource-ec2-vpc--examples--Create_a_VPC_with_an_IPv4_CIDR_block">Create a VPC with an IPv4 CIDR block</h3><p>The following example specifies a VPC with an IPv4 address.</p><div id="JSON" name="JSON" class="section langfilter"><h4 id="aws-resource-ec2-vpc--examples--Create_a_VPC_with_an_IPv4_CIDR_block--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Resources": <span>{</span>
       "myVPC" : <span>{</span>
           "Type" : "AWS::EC2::VPC",
           "Properties" : <span>{</span>
               "CidrBlock" : "10.0.0.0/16",
               "EnableDnsSupport" : "true",
               "EnableDnsHostnames" : "true",
               "Tags" : [ 
                   <span>{</span>"Key" : "stack", "Value" : "production"} 
               ]
           }
       }
   }
}</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-resource-ec2-vpc--examples--Create_a_VPC_with_an_IPv4_CIDR_block--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources:
  myVPC:
    Type: AWS::EC2::VPC
    Properties:
      CidrBlock: 10.0.0.0/16
      EnableDnsSupport: 'true'
      EnableDnsHostnames: 'true'
      Tags:
       - Key: stack
         Value: production</code></pre></div><h3 id="aws-resource-ec2-vpc--examples--Create_a_VPC_with_an_IPv4_CIDR_block_and_an_IPv6_CIDR_block">Create a VPC with an IPv4 CIDR block and an IPv6 CIDR block</h3><p>The following example specifies a VPC with an IPv4 address range and an IPv6 address range.</p><div id="JSON" name="JSON" class="section langfilter"><h4 id="aws-resource-ec2-vpc--examples--Create_a_VPC_with_an_IPv4_CIDR_block_and_an_IPv6_CIDR_block--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Resources": <span>{</span>
       "myVPC" : <span>{</span>
           "Type" : "AWS::EC2::VPC",
           "Properties" : <span>{</span>
               "CidrBlock" : "10.0.0.0/16",
               "EnableDnsSupport" : "true",
               "EnableDnsHostnames" : "true",
               "Tags" : [ 
                   <span>{</span>"Key" : "stack", "Value" : "production"} 
               ]
           }
       };
       "ipv6CidrBlock": <span>{</span>
           "Type": "AWS::EC2::VPCCidrBlock",
           "Properties": <span>{</span>
                "VpcId": <span>{</span>
                    "Ref": "myVPC"
                },
                "AmazonProvidedIpv6CidrBlock": true
            }
       }
   }
}</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-resource-ec2-vpc--examples--Create_a_VPC_with_an_IPv4_CIDR_block_and_an_IPv6_CIDR_block--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources:
  myVPC:
    Type: AWS::EC2::VPC
    Properties:
      CidrBlock: 10.0.0.0/16
      EnableDnsSupport: 'true'
      EnableDnsHostnames: 'true'
      Tags:
       - Key: stack
         Value: production
  ipv6CidrBlock:
    Type: AWS::EC2::VPCCidrBlock
    Properties:
      VpcId: !Ref myVPC
      AmazonProvidedIpv6CidrBlock: true</code></pre></div><h2 id="aws-resource-ec2-vpc--seealso">See also</h2><div class="itemizedlist">
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>
                  <a href="https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_CreateVpc.html">CreateVpc</a> in the <em>Amazon EC2 API Reference</em></p>
            </li><li class="listitem">
               <p>
                  <a href="https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Subnets.html">VPC and
                     subnets</a> in the <em>Amazon VPC User Guide</em></p>
            </li></ul></div><p></p><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./aws-resource-ec2-volumeattachment.html">AWS::EC2::VolumeAttachment</div><div id="next" class="next-link" accesskey="n" href="./aws-properties-ec2-vpc-tag.html">Tag</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=EC2 CFN&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpc.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=EC2 CFN&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpc.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>