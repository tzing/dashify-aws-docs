<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="fr-FR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Mise en route - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="GettingStarted.Walkthrough" /><meta name="default_state" content="GettingStarted.Walkthrough" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" /><meta name="description" content="Parcourez un modèle pour déclarer des ressources, puis utilisez-le pour créer une pile avec AWS CloudFormation." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Guide de l'utilisateur" /><meta name="abstract" content="Créez et gérez des déploiements AWS d'infrastructure de manière prévisible et répétée à l'aide de ce AWS CloudFormation guide de l'utilisateur." /><meta name="guide-locale" content="fr_fr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Guide de l'utilisateur" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Guide de l'utilisateur" /><meta id="panorama-serviceConsolePage" value="Mise en route" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Mise en route - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,provisionnement des ressources,configuration des ressources,gestion de l'infrastructure,CloudFormer,CloudFormation pile,CloudFormation stackset,CloudFormation modèle,jeu de modifications" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guide de l'utilisateur",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Démarrer avec AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/GettingStarted.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Mise en route",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/GettingStarted.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Guide de l'utilisateur</a></div><div id="page-toc-src"><a href="#GettingStarted.Walkthrough.PickTemplate">Étape 1 : Choisir un modèle</a><a href="#GettingStarted.Walkthrough.prep">Étape 2 : Vérifier que vous avez préparé tous les éléments nécessaires pour la pile</a><a href="#GettingStarted.Walkthrough.createstack">Étape 3 : Créer la pile</a><a href="#GettingStarted.Walkthrough.monitor">Étape 4 : Surveiller la progression de la création de la pile</a><a href="#GettingStarted.Walkthrough.viewapp">Étape 5 : Utiliser les ressources d'une pile</a><a href="#GettingStarted.Walkthrough.cleanup">Étape 6 : Nettoyer</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Les traductions sont fournies par des outils de traduction automatique. En cas de conflit entre le contenu d'une traduction et celui de la version originale en anglais, la version anglaise prévaudra.</p></awsui-alert><h1 class="topictitle" id="GettingStarted.Walkthrough">Mise en route</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Avec le bon modèle, vous pouvez déployer en une seule fois toutes les AWS ressources dont vous avez besoin pour une application. Dans cette section, vous allez examiner un modèle qui déclare les ressources d'un  WordPress  blog, crée un  WordPress  blog sous forme de pile, surveille le processus de création de pile, examine les ressources de la pile, puis supprime la pile. Vous utilisez le AWS Management Console pour effectuer ces tâches.</p>
      <h2 id="GettingStarted.Walkthrough.PickTemplate">Étape 1 : Choisir un modèle</h2>

      <p>Vous avez d'abord besoin d'un modèle qui spécifie les ressources qui doivent faire partie de votre pile. Pour cette étape, vous utiliserez un modèle déjà prêt. L'exemple de modèle crée un  WordPress  blog de base qui utilise une seule instance Amazon EC2 avec une base de données MySQL locale pour le stockage. Le modèle crée également un groupe de sécurité Amazon EC2 pour contrôler les paramètres de pare-feu de l'instance Amazon EC2.</p>
      <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>AWS CloudFormation est gratuit, mais les AWS ressources  CloudFormation  créées sont actives (et ne s'exécutent pas dans un bac à sable). Les frais d'utilisation standards pour ces ressources vous seront facturés jusqu'à ce que vous les mettiez hors service lors de la dernière tâche de ce didacticiel. Le total des frais facturés sera minime. Pour plus d'informations sur la possibilité de réduire les frais, accédez à <a href="https://aws.amazon.com/free/" rel="noopener noreferrer" target="_blank"><span>http://aws.amazon.com/free/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></div></div>
      <div class="procedure"><h6>Pour afficher le modèle</h6><ul><li>
            <p>Vous pouvez consulter l' WordPress exemple de modèle <a href="https://s3.us-west-2.amazonaws.com/cloudformation-templates-us-west-2/WordPress_Single_Instance.template" rel="noopener noreferrer" target="_blank"><span>JSON</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> ou <a href="https://s3.us-west-2.amazonaws.com/cloudformation-templates-us-west-2/WordPress_Single_Instance.yaml" rel="noopener noreferrer" target="_blank"><span>YAML</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. Vous n'avez pas besoin de le télécharger, car vous utiliserez par la suite l'URL du modèle dans ce guide. Pour plus d'informations sur les formats de modèle, consultez <a href="./template-formats.html">Formats de modèle AWS CloudFormation</a>.</p>
         </li></ul></div>

      <p>Un modèle est un fichier texte JSON ou YAML qui contient les informations de configuration relatives aux AWS ressources que vous souhaitez créer dans la pile. Pour cette procédure pas à pas, l'exemple de modèle comprend six sections de niveau supérieur : <code class="code">AWSTemplateFormatVersion</code>, <code class="code">Description</code>, <code class="code">Parameters</code>, <code class="code">Mappings</code>, <code class="code">Resources</code> et <code class="code">Outputs</code>. Toutefois, seule la section <code class="code">Resources</code> est obligatoire.</p>
      <p>La section Ressources contient les définitions des AWS ressources que vous souhaitez créer avec le modèle. Chaque ressource est répertoriée séparément et spécifie les propriétés nécessaires à la création de la ressource. La déclaration de ressource suivante correspond à la configuration de l'instance EC2, qui utilise le nom logique <code class="code">WebServer</code> dans cet exemple :</p>
      <div class="example"><h6>Exemple JSON</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Resources" : <span>{</span>
  ...    
  "WebServer": <span>{</span>
    "Type" : "AWS::EC2::Instance",
    "Properties": <span>{</span>
      "ImageId" : <span>{</span> "Fn::FindInMap" : [ "AWSRegionArch2AMI", <span>{</span> "Ref" : "AWS::Region" },
                        <span>{</span> "Fn::FindInMap" : [ "AWSInstanceType2Arch", <span>{</span> "Ref" : "InstanceType" }, "Arch" ] } ] },
      "InstanceType"   : <span>{</span> "Ref" : "InstanceType" },
      "SecurityGroups" : [ <span>{</span>"Ref" : "WebServerSecurityGroup"} ],
      "KeyName"        : <span>{</span> "Ref" : "KeyName" },
      "UserData" : <span>{</span> "Fn::Base64" : <span>{</span> "Fn::Join" : ["", [
                     "#!/bin/bash -xe\n",
                     "yum update -y aws-cfn-bootstrap\n",

                     "/opt/aws/bin/cfn-init -v ",
                     "         --stack ", <span>{</span> "Ref" : "AWS::StackName" },
                     "         --resource WebServer ",
                     "         --configsets wordpress_install ",
                     "         --region ", <span>{</span> "Ref" : "AWS::Region" }, "\n",

                     "/opt/aws/bin/cfn-signal -e $? ",
                     "         --stack ", <span>{</span> "Ref" : "AWS::StackName" },
                     "         --resource WebServer ",
                     "         --region ", <span>{</span> "Ref" : "AWS::Region" }, "\n"
      ]]}}
    },
    ...
  },
  ...  
  "WebServerSecurityGroup" : <span>{</span>
    "Type" : "AWS::EC2::SecurityGroup",
    "Properties" : <span>{</span>
      "GroupDescription" : "Enable HTTP access via port 80 locked down to the load balancer + SSH access",
      "SecurityGroupIngress" : [
        <span>{</span>"IpProtocol" : "tcp", "FromPort" : 80, "ToPort" : 80, "CidrIp" : "0.0.0.0/0"},
        <span>{</span>"IpProtocol" : "tcp", "FromPort" : 22, "ToPort" : 22, "CidrIp" : <span>{</span> "Ref" : "SSHLocation"}}
      ]
    }
  },
  ...    
},</code></pre></div></div>
      <div class="example"><h6>Exemple YAML</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources: 
  ...    
  WebServer:
    Type: AWS::EC2::Instance
    Properties:
      ImageId: !FindInMap [AWSRegionArch2AMI, !Ref 'AWS::Region', !FindInMap [AWSInstanceType2Arch, !Ref InstanceType, Arch]]      
      InstanceType:
        Ref: InstanceType
      KeyName:
        Ref: KeyName
      SecurityGroups:
      - Ref: WebServerSecurityGroup
      UserData:
        Fn::Base64: !Sub |
           #!/bin/bash -xe
           yum update -y aws-cfn-bootstrap
           /opt/aws/bin/cfn-init -v --stack $<span>{</span>AWS::StackId} --resource WebServer --configsets wordpress_install --region $<span>{</span>AWS::Region}
           /opt/aws/bin/cfn-signal -e $? --stack $<span>{</span>AWS::StackId} --resource WebServer --region $<span>{</span>AWS::Region}
    ...
  ...
  
  WebServerSecurityGroup:
    Type: AWS::EC2::SecurityGroup
    Properties:
      GroupDescription: "Enable HTTP access via port 80 locked down to the load balancer + SSH access"
      SecurityGroupIngress:
      - CidrIp: 0.0.0.0/0
        FromPort: 80
        IpProtocol: tcp
        ToPort: 80
      - CidrIp: !Ref SSHLocation
        FromPort: 22
        IpProtocol: tcp
        ToPort: 22
  ...    </code></pre></div></div>
      <p>Si vous avez préalablement créé des instances EC2, vous reconnaîtrez les propriétés qui déterminent la configuration de l'instance, comme <code class="code">ImageId</code>, <code class="code">InstanceType</code> et <code class="code">KeyName</code>. Les déclarations de ressource sont un moyen efficace de spécifier tous ces paramètres de configuration simultanément. Lorsque vous insérez des déclarations de ressources dans un modèle, vous pouvez créer et configurer toutes les ressources déclarées en utilisant le modèle pour créer une pile. Créez une pile qui utilise le même modèle pour lancer la même configuration de ressources.</p>
      <p>La déclaration d'une ressource commence par une chaîne qui spécifie le nom logique de la ressource. Comme vous le verrez, le nom logique peut servir à faire référence aux ressources dans le modèle.</p>
      <p>Vous utilisez la section <em>Parameters (Paramètres)</em> pour déclarer les valeurs qui peuvent être transmises au modèle lorsque vous créez la pile. Un paramètre est un moyen efficace de spécifier des informations sensibles, telles que les noms d'utilisateur et les mots de passe, que vous ne voulez pas stocker dans le modèle lui-même. C'est également un bon moyen de spécifier des informations qui peuvent être spécifiques à l'application ou à la configuration que vous déployez (par exemple, un type d'instance ou un nom de domaine). Lorsque vous créerez la  WordPress  pile plus loin dans cette section, vous verrez l'ensemble des paramètres déclarés dans le modèle apparaître sur la page <b>Spécifier les détails</b> de l'assistant de <b>création de pile</b>, où vous pouvez spécifier les paramètres avant de créer la pile.</p>
      <p>Les paramètres suivants sont utilisés dans le modèle pour spécifier les valeurs utilisées dans les propriétés de l'instance EC2 :</p>
      <div class="example"><h6>Exemple JSON</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Parameters" : <span>{</span>
  ...      
  "KeyName": <span>{</span>
    "Description" : "Name of an existing EC2 KeyPair to enable SSH access to the instances",
    "Type": "AWS::EC2::KeyPair::KeyName",
    "ConstraintDescription" : "must be the name of an existing EC2 KeyPair."
  },

  "InstanceType" : <span>{</span>
    "Description" : "WebServer EC2 instance type",
    "Type" : "String",
    "Default" : "t2.small",
       "AllowedValues": [
        "t1.micro",
        "t2.nano",
        "t2.micro",
        "t2.small",
        "t2.medium",
        "t2.large",
        "m1.small",
        "m1.medium",
        "m1.large",
        "m1.xlarge",
        "m2.xlarge",
        "m2.2xlarge",
        "m2.4xlarge",
        "m3.medium",
        "m3.large",
        "m3.xlarge",
        "m3.2xlarge",
        "m4.large",
        "m4.xlarge",
        "m4.2xlarge",
        "m4.4xlarge",
        "m4.10xlarge",
        "c1.medium",
        "c1.xlarge",
        "c3.large",
        "c3.xlarge",
        "c3.2xlarge",
        "c3.4xlarge",
        "c3.8xlarge",
        "c4.large",
        "c4.xlarge",
        "c4.2xlarge",
        "c4.4xlarge",
        "c4.8xlarge",
        "g2.2xlarge",
        "g2.8xlarge",
        "r3.large",
        "r3.xlarge",
        "r3.2xlarge",
        "r3.4xlarge",
        "r3.8xlarge",
        "i2.xlarge",
        "i2.2xlarge",
        "i2.4xlarge",
        "i2.8xlarge",
        "d2.xlarge",
        "d2.2xlarge",
        "d2.4xlarge",
        "d2.8xlarge",
        "hi1.4xlarge",
        "hs1.8xlarge",
        "cr1.8xlarge",
        "cc2.8xlarge",
        "cg1.4xlarge"
       ],
    "ConstraintDescription" : "must be a valid EC2 instance type."
  },
...</code></pre></div></div>
      <div class="example"><h6>Exemple YAML</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Parameters:
  ...      
  KeyName:
    ConstraintDescription: must be the name of an existing EC2 KeyPair.
    Description: Name of an existing EC2 KeyPair to enable SSH access to the instances
    Type: AWS::EC2::KeyPair::KeyName
  InstanceType:
    AllowedValues:
    - t1.micro
    - t2.nano
    - t2.micro
    - t2.small
    - t2.medium
    - t2.large
    - m1.small
    - m1.medium
    - m1.large
    - m1.xlarge
    - m2.xlarge
    - m2.2xlarge
    - m2.4xlarge
    - m3.medium
    - m3.large
    - m3.xlarge
    - m3.2xlarge
    - m4.large
    - m4.xlarge
    - m4.2xlarge
    - m4.4xlarge
    - m4.10xlarge
    - c1.medium
    - c1.xlarge
    - c3.large
    - c3.xlarge
    - c3.2xlarge
    - c3.4xlarge
    - c3.8xlarge
    - c4.large
    - c4.xlarge
    - c4.2xlarge
    - c4.4xlarge
    - c4.8xlarge
    - g2.2xlarge
    - g2.8xlarge
    - r3.large
    - r3.xlarge
    - r3.2xlarge
    - r3.4xlarge
    - r3.8xlarge
    - i2.xlarge
    - i2.2xlarge
    - i2.4xlarge
    - i2.8xlarge
    - d2.xlarge
    - d2.2xlarge
    - d2.4xlarge
    - d2.8xlarge
    - hi1.4xlarge
    - hs1.8xlarge
    - cr1.8xlarge
    - cc2.8xlarge
    - cg1.4xlarge
    ConstraintDescription: must be a valid EC2 instance type.
    Default: t2.small
    Description: WebServer EC2 instance type
    Type: String
...</code></pre></div></div>
      <p>Dans la déclaration de ressource <code class="code">WebServer</code>, la propriété <code class="code">KeyName</code> est spécifiée avec le paramètre <code class="code">KeyName</code> :</p>
      <div class="example"><h6>Exemple JSON</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"WebServer" : <span>{</span>
  "Type": "AWS::EC2::Instance",
  "Properties": <span>{</span>
    "KeyName" : <span>{</span> "Ref" : "KeyName" },
    ...
  }
},</code></pre></div></div>
      <div class="example"><h6>Exemple YAML</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">WebServer:
  Type: AWS::EC2::Instance
  Properties:
    KeyName:
      Ref: KeyName
    ...</code></pre></div></div>
      <p>Les accolades contiennent un appel à la fonction <a href="./intrinsic-function-reference-ref.html">Ref</a> avec l'entrée <code class="code">KeyName</code>. La fonction Ref renvoie la valeur de l'objet auquel elle fait référence. Dans ce cas, la fonction Ref définit la propriété <code class="code">KeyName</code> sur la base de la valeur spécifiée pour <code class="code">KeyName</code> lors de la création de la pile.</p>
      <p>La fonction Ref permet également de définir la valeur d'une autre ressource comme propriété. Par exemple, la déclaration de ressource <code class="code">WebServer</code> contient la déclaration de propriété suivante :</p>
      <div class="example"><h6>Exemple JSON</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"WebServer" : <span>{</span>
  "Type": "AWS::EC2::Instance",
  "Properties": <span>{</span>
    ...
    "SecurityGroups" : [ <span>{</span>"Ref" : "WebServerSecurityGroup"} ],
    ...
  }
},</code></pre></div></div>
      <div class="example"><h6>Exemple YAML</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">WebServer:
  Type: AWS::EC2::Instance
  Properties:
    SecurityGroups:
    - Ref: WebServerSecurityGroup
    ...</code></pre></div></div>
      <p>La propriété <code class="code">SecurityGroups</code> utilise une liste de groupes de sécurité EC2. La fonction Ref indique l'entrée <code class="code">WebServerSecurityGroup</code>, qui correspond au nom logique d'un groupe de sécurité dans le modèle et ajoute le nom <code class="code">WebServerSecurityGroup</code> à la propriété <code class="code">SecurityGroups</code>.</p>
      <p>Dans ce modèle, vous trouverez également une section <em>Mappings (Mappages)</em>. Les mappages vous permettent de déclarer des valeurs conditionnelles qui sont évaluées d'une manière similaire à une instruction de table de recherche. Le modèle utilise les mappages pour sélectionner l'Amazon Machine Image (AMI) appropriée pour la région et le type d'architecture du type d'instance. <em>Les sorties</em> définissent des valeurs personnalisées qui sont renvoyées par la <code class="code">aws cloudformation describe-stacks</code> commande et dans l'onglet <b>Sorties</b> de la  CloudFormation  console après la création de la pile. Vous pouvez utiliser les valeurs de sortie pour renvoyer les informations provenant des ressources de la pile, telles que l'URL d'un site web qui a été créée dans le modèle. Nous abordons plus en détail les mappages, les sorties et d'autres points concernant les modèles dans <a href="./gettingstarted.templatebasics.html">Découvrir les concepts de base des modèles</a>.</p>
      <p>Pour l'instant, nous en avons terminé avec les modèles. L'heure est venue de créer une pile.</p>
    
      <h2 id="GettingStarted.Walkthrough.prep">Étape 2 : Vérifier que vous avez préparé tous les éléments nécessaires pour la pile</h2>


      <p>Avant de créer une pile à partir d'un modèle, vous devez vous assurer que toutes les ressources dépendantes requises par le modèle sont disponibles. Un modèle peut utiliser ou faire référence à la fois aux AWS ressources existantes et aux ressources déclarées dans le modèle lui-même.  CloudFormation se charge de vérifier les références aux ressources dans le modèle et vérifie également les références aux ressources existantes pour s'assurer qu'elles existent dans la région où vous créez la pile. Si votre modèle fait référence à une ressource dépendante qui n'existe pas, la création de la pile échouera.</p>

      <p>L'exemple de  WordPress  modèle contient un paramètre d'<code class="code">KeyName</code>entrée qui indique la paire de clés utilisée pour l'instance Amazon EC2 déclarée dans le modèle. Le modèle dépend de la validité de la paire de clés Amazon EC2 fournie par l'utilisateur qui crée une pile à partir du modèle pour le paramètre <code class="code">KeyName</code>. Si vous fournissez un nom de paire de clés valide, la création de la pile fonctionnera. Dans le cas contraire, la pile sera restaurée.</p>

      <p>Assurez-vous que vous avez une paire de clés Amazon EC2 valide et prenez note de son nom avant de créer la pile.</p>
      <p>Pour consulter vos paires de clés, ouvrez la console Amazon EC2, puis choisissez <b>Key Pairs (Paires de clés)</b> dans le volet de navigation.</p>

      <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Si vous n'avez pas de paire de clés Amazon EC2, vous devez en créer une dans la région où vous créez la pile. Pour plus d'informations sur la création d'une paire de clés, consultez <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html#having-ec2-create-your-key-pair">Obtention d'une paire de clés SSH</a> dans le <em>Amazon EC2 Guide de l'utilisateur pour les instances Linux</em>.</p></div></div>

      <p>Maintenant que vous disposez d'une paire de clés valide, utilisons le  WordPress  modèle pour créer une pile.</p>

    
      <h2 id="GettingStarted.Walkthrough.createstack">Étape 3 : Créer la pile</h2>

      <p>Vous allez créer votre pile en vous basant sur le fichier <em>WordPress-1.0.0 décrit</em> précédemment. Le modèle contient plusieurs AWS ressources, telles qu'une instance EC2.</p>
      <div class="procedure"><h6>Pour créer la  WordPress pile</h6><ol><li><p>Connectez-vous à la AWS CloudFormation console AWS Management Console et ouvrez-la à l'<a href="https://console.aws.amazon.com/cloudformation/" rel="noopener noreferrer" target="_blank"><span>adresse https://console.aws.amazon.com/cloudformation</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
            <p>Sélectionnez <b>Créer une pile</b>.</p>
         </li><li>
            <p>Dans la section <b>Spécifier le modèle</b>, sélectionnez <b>l'URL du modèle Amazon S3</b> pour saisir ou coller l'URL de l'exemple de  WordPress modèle, puis choisissez <b>Next</b> :</p>
            <p><code class="code">https://s3.us-west-2.amazonaws.com/cloudformation-templates-us-west-2/WordPress_Single_Instance.template</code></p>
            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>AWS CloudFormation les modèles stockés dans un compartiment S3 doivent être accessibles à l'utilisateur qui crée la pile et doivent être situés dans la <em>même région</em> que la pile en cours de création. <span></span></p></div></div>
         </li><li>
            <p>Dans la section <b>Spécifier les détails de la pile</b>, saisissez un nom dans le champ <b>Nom de la pile</b>. Pour cet exemple, utilisez <code class="userinput">MyWPTestStack</code>. Le nom de la pile ne peut pas contenir d'espaces.</p>
         </li><li>
            <p>Dans la section <b>Paramètres</b>, vous devez fournir des valeurs pour tous les paramètres qui n'ont pas de valeurs par défaut, notamment <b>DBuser</b>, <b>DBPassword</b>, <b>DB RootPassword</b> et. <b>KeyName</b> Dans le <b>KeyName</b>champ, entrez le nom d'une paire Amazon EC2 valide dans la région où vous créez la pile.</p>
         </li><li>
            <p>Choisissez <b>Suivant</b>.</p>
         </li><li>
            <p>Dans ce scénario, nous n'ajouterons pas de balises. Choisissez <b>Suivant</b>. Les balises, qui sont des paires clé-valeur, peuvent vous aider à identifier vos piles. Pour de plus amples informations, veuillez consulter <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-console-add-tags.html">Ajout de balises à votre pile  CloudFormation </a>.</p>
         </li><li>
            <p>Vérifiez les informations de la pile. Lorsque vous êtes satisfait de vos paramètres, choisissez <b>Submit (Envoyer)</b>.</p>
         </li></ol></div>
      <p>La création de la pile peut durer plusieurs minutes, mais vous n'avez peut-être pas envie d'attendre à ne rien faire. Si vous êtes comme nous, vous souhaitez sûrement savoir où en est la création de la pile.</p>
    
      <h2 id="GettingStarted.Walkthrough.monitor">Étape 4 : Surveiller la progression de la création de la pile</h2>

      <p>Une fois que vous avez terminé l'assistant <b>Create Stack</b>,  CloudFormation  commencez à créer les ressources spécifiées dans le modèle. Votre nouvelle pile apparaît dans la liste en haut de la <b>CloudFormation</b>console. <code class="code">MyWPTestStack</code> Son état doit indiquer CREATE_IN_PROGRESS. Pour voir l'état détaillé d'une pile, consultez ses événements.</p>
      <div class="procedure"><h6>Pour afficher les événements de la pile</h6><ol><li>
            <p>Sur la  CloudFormation  console, sélectionnez la pile <code class="code">MyWPTestStack</code> dans la liste.</p>
         </li><li>
            <p>Dans le volet de détails de la pile, choisissez l'onglet <b>Events (Événements)</b>.</p>
            <p>La console actualise automatiquement la liste en y ajoutant les événements les plus récents toutes les 60 secondes.</p>
         </li></ol></div>
      <p>L'onglet <b>Événements</b> affiche chaque étape majeure de création de la pile, triée en fonction de l'heure de chaque événement, avec les derniers événements en tête de liste.</p>
      <p>Le premier événement (en bas de la liste d'événements) correspond au début du processus de création de la pile :</p>
      <p><code class="code">2013-04-24 18:54 UTC-7 CREATE_IN_PROGRESS AWS::CloudFormation::Stack MyWPTestStack
            User initiated</code></p>
      <p>Ensuite viennent les événements qui marquent le début et la fin de la création de chaque ressource. Par exemple, la création de l'instance EC2 génère les entrées suivantes :</p>
      <p><code class="code">2013-04-24 18:59 UTC-7 CREATE_COMPLETE AWS::EC2::Instance...</code></p>
      <p><code class="code">2013-04-24 18:54 UTC-7 CREATE_IN_PROGRESS AWS::EC2::Instance...</code></p>
      <p>L'<code class="code">CREATE_IN_PROGRESS</code>événement est enregistré lorsqu'il  CloudFormation  est indiqué qu'il a commencé à créer la ressource. L'événement <code class="code">CREATE_COMPLETE</code> est enregistré lorsque la ressource a été créée avec succès.</p>
      <p>Une  CloudFormation  fois la pile créée avec succès, vous verrez l'événement suivant en haut de l'onglet <b>Événements</b> :</p>
      <p><code class="code">2013-04-24 19:17 UTC-7 CREATE_COMPLETE AWS::CloudFormation::Stack
            MyWPTestStack</code></p>

      <p>S'il n'est pas  CloudFormation  possible de créer une ressource, il signale un <code class="code">CREATE_FAILED</code> événement et, par défaut, annule la pile et supprime toutes les ressources créées. La colonne <b>Motif du statut</b> affiche le problème qui a provoqué l'échec.</p>

    
      <h2 id="GettingStarted.Walkthrough.viewapp">Étape 5 : Utiliser les ressources d'une pile</h2>

      <p>Lorsque la pile <code class="code">MyWPTestStack</code> a le statut <code class="code">CREATE_COMPLETE</code>,  CloudFormation  a terminé la création de la pile. Vous pouvez donc commencer en utiliser les ressources.</p>
      <p>La  WordPress  pile d'échantillons crée un  WordPress  site Web. Vous pouvez poursuivre l' WordPress installation en exécutant le script  WordPress  d'installation.</p>
      <div class="procedure"><h6>Pour terminer l' WordPressinstallation</h6><ol><li>
            <p>Dans la ligne <b>WebsiteURL</b> de l'onglet <b>Outputs</b> (Sorties), choisissez le lien indiqué dans la colonne <b>Value</b> (Valeur).</p>
            <p>La valeur <code class="code">WebsiteURL</code> de sortie est l'URL du script d'installation du  WordPress  site Web que vous avez créé avec la pile.</p>
         </li><li>
            <p>Sur la page Web de l' WordPress installation, suivez les instructions affichées à l'écran pour terminer l' WordPress installation. Pour plus d'informations sur l'installation WordPress, consultez <a href="https://wordpress.org/support/article/how-to-install-wordpress/" rel="noopener noreferrer" target="_blank"><span>https://wordpress.org/support/article/how-to-install-wordpress/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
            <p>Après avoir terminé l'installation et vous être connecté, vous êtes dirigé vers le tableau de bord où vous pouvez définir des options supplémentaires pour votre  WordPress  blog. Vous pouvez ensuite commencer à écrire des articles pour le blog que vous avez créé avec succès en utilisant un modèle  CloudFormation.</p>
         </li></ol></div>
    
      <h2 id="GettingStarted.Walkthrough.cleanup">Étape 6 : Nettoyer</h2>

      <p>Vous avez terminé les tâches de  CloudFormation  démarrage. Pour vous assurer que vous n'êtes pas facturé pour des services indésirables, supprimez la pile et ses ressources.</p>
      <div class="procedure"><h6>Pour supprimer la pile et ses ressources</h6><ol><li>
            <p>Dans la  CloudFormation  console, sélectionnez la <code class="code">MyWPTestStack</code> pile.</p>
         </li><li>
            <p>Choisissez <b>Supprimer pile</b>.</p>

         </li><li>
            <p>Dans le message de confirmation qui s'affiche, choisissez <b>Yes, Delete(Oui, supprimer)</b>.</p>
         </li></ol></div>
      <p>L'état de <code class="code">MyWPTestStack</code> est remplacé par <code class="code">DELETE_IN_PROGRESS</code>. De la même façon que vous avez surveillé la création de la pile, vous pouvez surveiller sa suppression via l'onglet <b>Événements</b>. Lorsque la suppression de la pile est  CloudFormation  terminée, elle supprime la pile de la liste.</p>
      <p>Félicitations ! Vous avez choisi un modèle, vous avez créé une pile, vous avez affiché et utilisé ses ressources, puis vous avez supprimé la pile et ses ressources. De plus, vous avez pu créer un  WordPress  blog à l'aide d'un  CloudFormation  modèle. Vous trouverez d'autres modèles dans la <a href="https://aws.amazon.com/cloudformation/aws-cloudformation-templates/" rel="noopener noreferrer" target="_blank"><span>bibliothèque d'exemples de modèleAWS CloudFormation</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
      <p>L'heure est venue de découvrir comment modifier des modèles existants ou créer les vôtres : <a href="./gettingstarted.templatebasics.html">Découvrir les concepts de base des modèles</a>.</p>
   <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avertissement" /> <strong>JavaScript est désactivé ou n'est pas disponible dans votre navigateur.</strong></p><p>Pour que vous puissiez utiliser la documentation AWS, Javascript doit être activé. Vous trouverez des instructions sur les pages d'aide de votre navigateur.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Conventions de rédaction</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./GettingStarted.html">Démarrer</div><div id="next" class="next-link" accesskey="n" href="./gettingstarted.templatebasics.html">Découvrir les concepts de base des modèles</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Oui</div><div class="content"><p>Merci de nous avoir fait part de votre satisfaction.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer ce qui vous a plu afin que nous puissions nous améliorer davantage.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Non</div><div class="content"><p>Merci de nous avoir avertis que cette page avait besoin d'être retravaillée. Nous sommes désolés de ne pas avoir répondu à vos attentes.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer comment nous pourrions améliorer cette documentation.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/GettingStarted.Walkthrough.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>