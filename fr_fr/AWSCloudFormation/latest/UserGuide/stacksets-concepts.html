<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="fr-FR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>StackSets concepts - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="stacksets-concepts" /><meta name="default_state" content="stacksets-concepts" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" /><meta name="description" content="Décrit StackSets les concepts fondamentaux et la façon dont ils sont liés." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Guide de l'utilisateur" /><meta name="abstract" content="Créez et gérez des déploiements AWS d'infrastructure de manière prévisible et répétée à l'aide de ce AWS CloudFormation guide de l'utilisateur." /><meta name="guide-locale" content="fr_fr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Guide de l'utilisateur" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Guide de l'utilisateur" /><meta id="panorama-serviceConsolePage" value="StackSets concepts" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>StackSets concepts - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,provisionnement des ressources,configuration des ressources,gestion de l'infrastructure,CloudFormer,CloudFormation pile,CloudFormation stackset,CloudFormation modèle,jeu de modifications" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guide de l'utilisateur",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Travailler avec AWS CloudFormation StackSets",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/what-is-cfnstacksets.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "StackSets concepts",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/what-is-cfnstacksets.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Guide de l'utilisateur</a></div><div id="page-toc-src"><a href="#stacksets-concepts-accts">Comptes d'administrateur et comptes de destination</a><a href="#stacksets-concepts-stackset">AWS CloudFormation StackSets</a><a href="#stacksets-concepts-stackset-permission-models">Modèles d'autorisation pour les ensembles de piles</a><a href="#stacksets-concepts-stackinstances">Instances de piles</a><a href="#stacksets-concepts-ops">Opérations sur les ensembles de piles</a><a href="#stackset-ops-options">Options d'opération d'ensemble de piles</a><a href="#stackset-concepts-tags">Balises</a><a href="#stackset-status-codes">StackSets codes de statut</a><a href="#stack-instance-status-codes">Codes d'état de l'instance de pile</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Les traductions sont fournies par des outils de traduction automatique. En cas de conflit entre le contenu d'une traduction et celui de la version originale en anglais, la version anglaise prévaudra.</p></awsui-alert><h1 class="topictitle" id="stacksets-concepts">StackSets concepts</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Lorsque vous utilisez StackSets, vous travaillez avec des <em>ensembles de piles</em>, des <em>instances de pile</em> et des <em>piles</em>.</p><div class="highlights" id="inline-topiclist"><h6>Rubriques</h6><ul><li><a href="#stacksets-concepts-accts">Comptes d'administrateur et comptes de destination</a></li><li><a href="#stacksets-concepts-stackset">AWS CloudFormation StackSets</a></li><li><a href="#stacksets-concepts-stackset-permission-models">Modèles d'autorisation pour les ensembles de piles</a></li><li><a href="#stacksets-concepts-stackinstances">Instances de piles</a></li><li><a href="#stacksets-concepts-ops">Opérations sur les ensembles de piles</a></li><li><a href="#stackset-ops-options">Options d'opération d'ensemble de piles</a></li><li><a href="#stackset-concepts-tags">Balises</a></li><li><a href="#stackset-status-codes">StackSets codes de statut</a></li><li><a href="#stack-instance-status-codes">Codes d'état de l'instance de pile</a></li></ul></div>
            <h2 id="stacksets-concepts-accts">Comptes d'administrateur et comptes de destination</h2>

            <p>Un <em>compte administrateur</em> est le AWS compte dans lequel vous créez des ensembles de piles. Pour les ensembles de piles avec des autorisations gérées par le service, le compte d'administrateur est le compte de gestion de l'organisation ou un compte d'administrateur délégué. Vous pouvez gérer un ensemble de piles en vous connectant au compte administrateur AWS
qui a créé l'ensemble de piles.</p>
            <p>Le <em>compte de destination</em> est le compte dans lequel vous créez, mettez à jour ou supprimez une ou plusieurs piles de votre ensemble de piles. Avant de pouvoir utiliser un ensemble de piles pour créer des piles dans un compte de cible, configurez une relation d'approbation entre l'administrateur et les comptes cibles.</p>

         
            <h2 id="stacksets-concepts-stackset">AWS CloudFormation StackSets</h2>

            <p>Un <em>ensemble de piles</em> vous permet de créer des piles dans Comptes AWS différentes régions à l'aide d'un seul  CloudFormation  modèle. Le  CloudFormation  modèle d'un ensemble de piles définit toutes les ressources de chaque pile. Au fur et à mesure que vous créez l'ensemble de piles, spécifiez le modèle à utiliser, ainsi que les paramètres et les fonctionnalités dont a besoin ce modèle.</p>
            <p>Après avoir défini un ensemble de piles, vous pouvez créer, mettre à jour ou supprimer des piles dans les comptes cibles et Régions AWS vous pouvez le spécifier. Lorsque vous créez, mettez à jour ou supprimez des piles, vous pouvez également spécifier des préférences d'opération. Par exemple, incluez l'ordre des régions dans lesquelles vous souhaitez effectuer l'opération, le seuil de tolérance aux échecs avant l'arrêt des opérations de pile et le nombre de comptes effectuant des opérations de pile simultanément.</p>
            <p>Un ensemble de piles est une ressource régionale. Si vous créez un ensemble de piles dans une région Région AWS, vous ne pouvez le voir ou le modifier que lorsque vous visualisez cette région.</p>
         
            <h2 id="stacksets-concepts-stackset-permission-models">Modèles d'autorisation pour les ensembles de piles</h2>
            <p>Vous pouvez créer les ensembles de piles à l'aide d'autorisations <em>autogérées</em> ou d'autorisations <em>gérées par le service</em>.</p>
            <p>Avec les autorisations <em>autogérées</em>, vous créez les rôles IAM nécessaires  StackSets  au déploiement sur plusieurs comptes et régions. Ces rôles sont nécessaires pour établir une relation de confiance entre le compte à partir duquel vous administrez l'ensemble de piles et le compte sur lequel vous déployez des instances de piles. À l'aide de ce modèle d'autorisations, vous  StackSets  pouvez effectuer un déploiement AWS sur n'importe quel compte dans lequel vous êtes autorisé à créer un rôle IAM.</p>
            <p>Avec les autorisations <em>gérées par le service</em> vous pouvez déployer des instances de piles sur des comptes gérés par AWS Organizations. En utilisant ce modèle d'autorisations, vous n'avez pas à créer les rôles IAM nécessaires ; il  StackSets  crée les rôles IAM en votre nom. Avec ce modèle, vous pouvez également activer les déploiements automatiques sur les comptes qui seront ajoutés ultérieurement à votre organisation.</p>
            <p>AWS Organizations s'intègre à votre environnement  CloudFormation  et vous aide à le gérer et à le gouverner de manière centralisée à mesure que vous adaptez et développez vos AWS ressources.</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>Compte de gestion : le compte que vous utilisez pour créer l'organisation. Pour plus d'informations, veuillez consulter la rubrique <a href="https://docs.aws.amazon.com/organizations/latest/userguide/orgs_getting-started_concepts.html#account">Terminologie et conceptsAWS Organizations</a>.</p>
                </li><li class="listitem">
                    <p>Administrateur délégué : un AWS service compatible peut enregistrer un compte de AWS membre dans l'organisation en tant qu'administrateur des comptes de l'organisation dans ce service. Pour plus d'informations, consultez <a href="https://docs.aws.amazon.com/organizations/latest/userguide/orgs_integrate_services_list.html">AWS les services que vous pouvez utiliser avec AWS Organizations</a>.</p>
                </li></ul></div>
            <p>Pour plus d'informations sur la création et la gestion d'ensembles de piles avec des autorisations gérées par le service, consultez les sections suivantes :</p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><a href="./stacksets-orgs-activate-trusted-access.html">Activer l'accès sécurisé avec AWS Organizations</a></p>
                </li><li class="listitem">
                    <p><a href="./stacksets-orgs-delegated-admin.html">Enregistrer un administrateur délégué</a></p>
                </li><li class="listitem">
                    <p><a href="./stacksets-getting-started-create.html#stacksets-orgs-associate-stackset-with-org">Créer un ensemble de piles avec des autorisations gérées par le service</a></p>
                </li></ul></div>
         
            <h2 id="stacksets-concepts-stackinstances">Instances de piles</h2>

            <p>Une <em>instance de pile</em> est une référence à une pile d'un compte de destination dans une région. Une instance de pile peut exister sans pile. Par exemple, si la pile n'a pas pu être créée pour une raison ou une autre, l'instance de pile indique le motif de l'échec de la création de la pile. L'instance de pile est associée à un seul ensemble de piles.</p>
            <p>La figure suivante montre les relations logiques entre les ensembles de piles, les opérations de pile et les piles. Lorsque vous mettez à jour un ensemble de piles, <em>toutes</em> les instances de piles associées sont mises à jour dans tous les comptes et toutes les régions.</p>
            <div class="mediaobject">
                 
                    <img src="images/stack_sets_operations_stacks_sv.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;                    Un même ensemble de piles peut servir de base pour créer, mettre à jour ou supprimer des instances de piles et des piles dans plusieurs comptes et régions.&#xA;                " style="max-width:100%" />
                 
                 
            </div>
         
            <h2 id="stacksets-concepts-ops">Opérations sur les ensembles de piles</h2>

            <p>Vous pouvez effectuer les opérations suivantes sur les ensembles de piles :</p>
            <div class="variablelist">
                 
                 
                 
                 
            <dl>
                    <dt><span class="term">Créer un ensemble de piles</span></dt>
                    <dd>
                        <p>La création d'un nouvel ensemble de piles implique de spécifier un  CloudFormation  modèle que vous souhaitez utiliser pour créer des piles, de spécifier les comptes cibles dans lesquels vous souhaitez créer des piles et d'identifier les comptes Régions AWS dans lesquels vous souhaitez déployer des piles dans vos comptes cibles. Un ensemble de piles assure le déploiement cohérent des mêmes ressources de pile, avec les mêmes paramètres, dans tous les comptes de destination spécifiés et dans les régions que vous choisissez.</p>
                    </dd>
                 
                    <dt><span class="term">Mettre un jour un ensemble de piles</span></dt>
                    <dd>
                        <p>Lorsque vous mettez à jour un ensemble de piles, vous envoyez les modifications dans les piles de l'ensemble de piles. Vous pouvez mettre à jour un ensemble de piles de l'une des manières suivantes. Les mises à jour du modèle affectent toujours toutes les piles. Vous ne pouvez pas mettre à jour le modèle de façon sélective pour certaines piles de l'ensemble de piles et pas pour les autres.</p>
                        <div class="itemizedlist">
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p>Modifiez les paramètres existants dans le modèle ou ajoutez des ressources, par exemple mettez à jour les valeurs des paramètres pour un service spécifique, ou ajoutez des instances Amazon EC2.</p>
                            </li><li class="listitem">
                                <p>Remplacez le modèle par un autre modèle.</p>
                            </li><li class="listitem">
                                <p>Ajoutez des piles dans les comptes de destination existants ou supplémentaires appartenant aux régions existantes ou aux régions supplémentaires.</p>
                            </li></ul></div>
                    </dd>
                 
                    <dt><span class="term">Supprimer des piles</span></dt>
                    <dd>
                        <p>Lorsque vous supprimez des piles, vous supprimez chaque pile et toutes les ressources qui lui sont associées des comptes de destination dans les régions que vous spécifiez. Pour supprimer des piles, vous pouvez procéder de différentes façons.</p>
                        <div class="itemizedlist">
                             
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p>Supprimer des piles dans certains comptes de destination tout en laissant les autres piles s'exécuter dans les autres comptes de destination.</p>
                            </li><li class="listitem">
                                <p>Supprimer des piles dans certaines régions tout en laissant les piles s'exécuter dans les autres régions.</p>
                            </li><li class="listitem">
                                <p>Supprimer des piles dans l'ensemble de piles, mais choisir l'option <b>Retain Stacks (Conserver les piles)</b> afin de les enregistrer pour qu'elles continuent à s'exécuter indépendamment de l'ensemble de piles. Les piles conservées sont gérées dans AWS CloudFormationhors de votre ensemble de piles.</p>
                            </li><li class="listitem">
                                <p>Supprimer toutes les piles dans l'ensemble de piles en vue de préparer la suppression de l'ensemble total de piles.</p>
                            </li></ul></div>
                    </dd>
                 
                    <dt><span class="term">Supprimer l'ensemble de piles</span></dt>
                    <dd>
                        <p>Vous ne pouvez supprimer votre ensemble de piles que s'il ne contient aucune instance de pile.</p>
                    </dd>
                </dl></div>
         
            <h2 id="stackset-ops-options">Options d'opération d'ensemble de piles</h2>

            <p>Les options décrites dans cette section permettent de contrôler la fréquence et le nombre d'échecs autorisés pour réussir les opérations d'ensemble de piles, et de vous empêcher de perdre des ressources de pile.</p>
            <div class="variablelist">
                 
                 
                 
                 
                 
            <dl>
                    <dt><span class="term">Nombre maximal de comptes en parallèle</span></dt>
                    <dd>
                        <p>Ce paramètre, disponible dans les flux de travail de création, de mise à jour et de suppression, permet de spécifier le nombre ou le pourcentage maximal de comptes cibles dans lequel une opération est effectuée simultanément. Un nombre ou pourcentage faible signifie qu'une opération est effectuée dans peu de comptes de destination à la fois. Les opérations sont effectuées dans une seule région à la fois, dans l'ordre spécifié dans la zone <b>Deployment order</b> (Ordre de déploiement). Par exemple, si vous déployez des piles dans 10 comptes cibles dans deux régions et que vous définissez <b>Maximum concurrent accounts</b> (Nombre maximal de comptes en parallèle) sur <b>50</b> et <b>By percentage</b> (Par pourcentage), le logiciel déploie les piles dans cinq comptes dans la première région, puis dans les cinq comptes suivants dans la première région, avant de passer à la région suivante et de lancer le déploiement dans les cinq premiers comptes cibles.</p>
                        <p>Lorsque vous choisissez <b>By percentage (Par pourcentage)</b>, si le pourcentage spécifié ne correspond pas à un nombre entier de comptes spécifiés,  CloudFormation  arrondit la valeur. Par exemple, si vous déployez des piles sur 10 comptes cibles et que vous définissez le <b>nombre maximal de comptes simultanés</b> à <b>25</b> et <b>par pourcentage</b>,  CloudFormation  arrondissez le nombre de 2,5 piles simultanément (ce qui ne serait pas possible) au déploiement simultané de deux piles.</p>
                        <p>Notez que ce paramètre vous permet de spécifier la valeur <em>maximale</em> pour les opérations. Pour les déploiements importants, dans certaines circonstances, le nombre réel de comptes traités simultanément peut être inférieur en raison de la limitation de service. La vitesse maximale de déploiement est de 100 instances de pile simultanées par jeu de piles.</p>
                    </dd>
                 
                    <dt><span class="term">Mode simultané</span></dt>
                    <dd>
                        <p>Ce paramètre, disponible dans les flux de travail de création, de mise à jour et de suppression, permet de choisir le comportement du niveau de la simultanéité durant les opérations d'ensemble de piles. Pour de plus amples informations, veuillez consulter <a href="./concurrency-mode.html">Paramètre du mode simultané</a>.</p>
                    </dd>
                 
                    <dt><span class="term">Tolérance aux pannes</span></dt>
                    <dd>
                        <p>Ce paramètre, disponible dans les flux de travail de création, de mise à jour et de suppression, vous permet de spécifier le nombre ou le pourcentage maximum d'échecs d'opérations de pile pouvant survenir, par région, au-delà duquel  CloudFormation  une opération est automatiquement interrompue. Si le nombre ou le pourcentage est faible, l'opération est effectuée sur peu de piles, mais vous pouvez commencer plus rapidement à résoudre les problèmes d'échec des opérations. Par exemple, si vous mettez à jour 10 piles dans 10 comptes de destination dans trois régions, et que vous définissez <b>Failure tolerance (Tolérance aux pannes)</b> sur <b>20</b> et <b>By percentage (Par pourcentage)</b>, cela signifie que l'opération peut se poursuivre si le nombre d'échecs de mises à jour de pile ne dépasse pas deux échecs. Si une troisième pile dans la même région échoue,  CloudFormation  arrête l'opération. Si une pile n'a pas pu être mise à jour dans la première région, l'opération de mise à jour continue dans cette région, puis passe à la région suivante. Si deux piles ne peuvent pas être mises à jour dans la deuxième région, la tolérance d'échec atteint 20 % ; si une troisième pile de la région échoue,  CloudFormation  arrête l'opération de mise à jour et ne passe pas aux régions suivantes.</p>
                        <p>Lorsque vous choisissez <b>Par pourcentage</b>, si le pourcentage spécifié ne représente pas un nombre entier de vos cumuls dans chaque région,  CloudFormation  arrondissez au chiffre inférieur. Par exemple, si vous déployez des piles sur 10 comptes cibles dans trois régions et que vous définissez la <b>tolérance d'échec</b> à <b>25</b> et que vous  CloudFormation  arrondissez <b>en pourcentage</b> d'une tolérance d'échec de 2,5 piles (ce qui ne serait pas possible) à une tolérance d'échec de deux piles par région.</p>
                    </dd>
                 
                    <dt><span class="term">Conserver les piles</span></dt>
                    <dd>
                        <p>Ce paramètre, disponible dans les flux de travail de suppression de pile, vous permet de laisser les piles et leurs ressources s'exécuter même après avoir été supprimées de l'ensemble de piles. Lorsque vous conservez les piles, AWS CloudFormation les piles restent intactes dans les comptes individuels et les régions. Les piles sont dissociées de l'ensemble de piles, mais enregistrent la pile et ses ressources. Une fois qu'une opération de suppression de piles est terminée, vous gérez les piles conservées dans  CloudFormation le compte cible (et non le compte administrateur) qui a créé les piles. </p>
                    </dd>
                 
                    <dt><span class="term">Region concurrency (Simultanéité de région)</span></dt>
                    <dd>
                        <p>Ce paramètre, disponible dans les processus de création, de mise à jour et de suppression, vous permet de choisir le mode de  StackSets  déploiement dans les régions.</p>
                        <p><em>Séquentiel</em> — Déployez l' StackSetsopération dans une région à la fois, comme indiqué dans la case de <b>commande Déploiement</b> par région, à condition que les échecs de déploiement d'une région ne dépassent pas la tolérance d'échec spécifiée. Le déploiement séquentiel est la sélection par défaut.</p>
                        <p><em>Parallèle</em> — Déployez les  StackSets  opérations simultanément dans toutes les régions spécifiées, à condition que les échecs de déploiement d'une région ne dépassent pas la tolérance d'échec spécifiée.</p>
                    </dd>


                </dl></div>
         
            <h2 id="stackset-concepts-tags">Balises</h2>

            <p>Pour ajouter des balises lors de la création et la mise à jour de l'ensemble de piles, spécifiez des paires clé-valeur. Les balises servent à trier et filtrer les ressources de l'ensemble de piles pour la facturation et la répartition des coûts. Pour plus d'informations sur l'utilisation des balises AWS, consultez la section <a href="https://docs.aws.amazon.com/awsaccountbilling/latest/aboutv2/cost-alloc-tags.html">Utilisation des balises de répartition des coûts</a> dans le <em>Guide deAWS Billing and Cost Management l'utilisateur</em>. Une fois que vous avez spécifié la paire clé-valeur, choisissez <b>+</b> pour enregistrer la balise. Vous pouvez supprimer des balises que vous n'utilisez plus en sélectionnant le <b>X</b> rouge à droite d'une balise.</p>
            <p>Les balises que vous appliquez aux ensembles de piles s'appliquent à toutes les piles et aux ressources créées par vos piles. Vous pouvez également ajouter des balises au niveau de la pile uniquement dans CloudFormation, mais il est possible que ces balises n'apparaissent pas dans.  StackSets</p>
            <p>Bien qu' StackSets il n'ajoute aucune balise définie par le système, vous ne devez pas commencer le nom des clés d'aucune balise par la chaîne. <code class="code">aws:</code></p>
         
            <h2 id="stackset-status-codes">StackSets codes de statut</h2>

            <p>AWS CloudFormation StackSets génère des codes d'état pour les opérations relatives aux ensembles de piles.</p>
            <p>Le tableau suivant décrit les codes d'état pour les opérations d'ensemble de piles.</p>
            <div class="table-container"><div class="table-contents"><table id="w1348aac21c15c23b7"><thead>
                        <tr>
                            <th>État d'une opération d'ensemble de piles</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                        <tr>
                            <td tabindex="-1">
                                <p><code class="code">RUNNING</code></p>
                            </td>
                            <td tabindex="-1">
                                <p>L'opération est actuellement en cours.</p>
                            </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">
                                <p><code class="code">SUCCEEDED</code></p>
                            </td>
                            <td tabindex="-1">
                                <p>L'opération s'est terminée sans dépasser la tolérance aux pannes autorisée pour l'opération.</p>
                            </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">
                                <p><code class="code">FAILED</code></p>
                            </td>
                            <td tabindex="-1">
                                <p>Le nombre de piles sur lesquelles l'opération a échoué a dépassé le seuil de tolérance aux pannes défini par l'utilisateur. La valeur de tolérance aux pannes que vous avez définie pour une opération est appliquée pour chaque région lors de la création et de la mise à jour des piles. Si le nombre de piles en échec dans une région dépasse la valeur de tolérance aux pannes, l'état de l'opération dans la région passe à <code class="code">FAILED</code>. Le statut de l'opération dans son ensemble est également défini sur<code class="code">FAILED</code>, et  CloudFormation  annule l'opération dans toutes les régions restantes.</p>
                            </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">
                                <p><code class="code">QUEUED</code></p>
                            </td>
                            <td tabindex="-1">
                                <p>[<code class="code">Service-managed permissions</code>] Pour les déploiements automatiques nécessitant une séquence d'opérations, l'opération est mise en file d'attente afin d'être exécutée. Par exemple :</p>
                                <div class="itemizedlist">
                                     
                                     
                                <ul class="itemizedlist"><li class="listitem">
                                        <p>Le déplacement d'un compte d'une unité organisationnelle (<code class="code">OU1</code>UO) à une autre déclenche un déploiement automatique. <code class="code">OU2</code>  StackSets exécute une opération de suppression pour supprimer l'instance de pile du <code class="code">OU1</code> compte cible dans la région cible et met en file d'attente une opération de création pour ajouter une instance de pile au <code class="code">OU2</code> compte cible dans la région cible.</p>
                                    </li><li class="listitem">
                                        <p>L'ajout d'un compte <code class="code">AccountA</code> à une unité d'organisation déclenche un déploiement automatique.  StackSets exécute une opération de création pour ajouter une instance de pile <code class="code">AccountA</code> dans la région cible. Si vous ajoutez un autre compte <code class="code">AccountB</code> à l'unité d'organisation alors que cette opération de création est en cours d'exécution, une deuxième opération de création est mise en  StackSets  file d'attente. Lorsque la première opération de création est terminée,  StackSets  exécute la deuxième opération de création pour ajouter une instance de pile <code class="code">AccountB</code> dans la région cible.</p>
                                    </li></ul></div>
                            </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">
                                <p><code class="code">STOPPING</code></p>
                            </td>
                            <td tabindex="-1">
                                <p>L'opération est en cours d'arrêt, à la demande de l'utilisateur.</p>
                            </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">
                                <p><code class="code">STOPPED</code></p>
                            </td>
                            <td tabindex="-1">
                                <p>L'opération s'est arrêtée à la demande de l'utilisateur.</p>
                            </td>
                        </tr>
                    </table></div></div>
         
            <h2 id="stack-instance-status-codes">Codes d'état de l'instance de pile</h2>
            <p>AWS CloudFormation StackSets génère des codes d'état pour les instances de pile.</p>
            <p>Le tableau suivant décrit les codes d'état pour les instances de pile qu'ils contiennent StackSets.</p>
            <div class="table-container"><div class="table-contents disable-scroll"><table id="w1348aac21c15c25b7"><thead>
                        <tr>
                            <th>État de l'instance de pile</th>
                            <th>Description</th>
                        </tr>
                    </thead>

                        <tr>
                            <td tabindex="-1">
                                <p><code class="code">CURRENT</code></p>
                            </td>
                            <td tabindex="-1">
                                <p>La pile est à jour avec l'ensemble de piles.</p>
                            </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">
                                <p><code class="code">OUTDATED</code></p>
                            </td>
                            <td tabindex="-1">
                                <p>La pile n'est pas à jour avec l'ensemble de piles pour l'une des raisons suivantes.</p>
                                <div class="itemizedlist">
                                     
                                     
                                <ul class="itemizedlist"><li class="listitem">
                                        <p>Une opération <code class="code"><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_CreateStackSet.html">CreateStackSet</a></code> ou <code class="code"><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_UpdateStackSet.html">UpdateStackSet</a></code> a échoué sur la pile associée.</p>
                                    </li><li class="listitem">
                                        <p>La pile était impliquée dans une opération <code class="code"><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_CreateStackSet.html">CreateStackSet</a></code> ou <code class="code"><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_UpdateStackSet.html">UpdateStackSet</a></code> qui a échoué ou a été arrêtée avant la création ou la mise à jour de la pile.</p>
                                    </li></ul></div>
                            </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">
                                <p><code class="code">INOPERABLE</code></p>
                            </td>
                            <td tabindex="-1">
                                <p>Une opération <code class="code"><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_DeleteStackInstances.html">DeleteStackInstances</a></code> a échoué et a laissé la pile dans un état instable. Les piles affichant cet état sont exclues des opérations <code class="code"><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_UpdateStackSet.html">UpdateStackSet</a></code> suivantes. Vous devrez peut-être effectuer une opération <code class="code"><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_DeleteStackInstances.html">DeleteStackInstances</a></code>, avec <code class="code">RetainStacks</code> défini sur <code class="code">true</code>, pour supprimer l'instance de pile, puis supprimer la pile manuellement.</p>
                            </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">
                                <p><code class="code">CANCELLED</code></p>
                            </td>
                            <td tabindex="-1">
                                <p>L'opération dans le compte et la région spécifiés a été annulée. Cela se produit, soit car un utilisateur a arrêté l'opération de l'ensemble de piles, soit parce que la tolérance aux échecs des opérations d'ensemble de piles a été dépassée.</p>
                            </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">
                                <p><code class="code">FAILED</code></p>
                            </td>
                            <td tabindex="-1">
                                <p>Échec de l'opération dans le compte et la région spécifiés. Si l'opération de jeu de piles échoue dans suffisamment de comptes au sein d'une région, la tolérance d'échec de l'opération de jeu de piles dans son ensemble peut être dépassée.</p>
                            </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">
                                <p><code class="code">PENDING</code></p>
                            </td>
                            <td tabindex="-1">
                                <p>L'opération dans le compte et la région spécifiés n'a pas encore démarré.</p>
                            </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">
                                <p><code class="code">RUNNING</code></p>
                            </td>
                            <td tabindex="-1">
                                <p>L'opération dans le compte et la région spécifiés est en cours.</p>
                            </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">
                                <p><code class="code">SKIPPED_SUSPENDED_ACCOUNT</code></p>
                            </td>
                            <td tabindex="-1">
                                <p>L'opération dans le compte et la région spécifiés a été ignorée, car le compte était suspendu au moment de l'opération.</p>
                            </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">
                                <p><code class="code">SUCCEEDED</code></p>
                            </td>
                            <td tabindex="-1">
                                <p>L'opération dans le compte et la région spécifiés s'est déroulée avec succès.</p>
                            </td>
                        </tr>
                    </table></div></div>
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avertissement" /> <strong>JavaScript est désactivé ou n'est pas disponible dans votre navigateur.</strong></p><p>Pour que vous puissiez utiliser la documentation AWS, Javascript doit être activé. Vous trouverez des instructions sur les pages d'aide de votre navigateur.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Conventions de rédaction</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./what-is-cfnstacksets.html">Travailler avec  StackSets</div><div id="next" class="next-link" accesskey="n" href="./stacksets-prereqs.html">Prérequis pour les opérations sur les ensembles de piles</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Oui</div><div class="content"><p>Merci de nous avoir fait part de votre satisfaction.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer ce qui vous a plu afin que nous puissions nous améliorer davantage.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Non</div><div class="content"><p>Merci de nous avoir avertis que cette page avait besoin d'être retravaillée. Nous sommes désolés de ne pas avoir répondu à vos attentes.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer comment nous pourrions améliorer cette documentation.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>