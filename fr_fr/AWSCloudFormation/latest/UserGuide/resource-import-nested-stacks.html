<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="fr-FR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Imbrication d'une pile existante - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="resource-import-nested-stacks" /><meta name="default_state" content="resource-import-nested-stacks" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/resource-import-nested-stacks.html" /><meta name="description" content="Utilisez la fonction d'importation de ressources pour imbriquer des piles existantes dans une pile parent." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Guide de l'utilisateur" /><meta name="abstract" content="Créez et gérez des déploiements AWS d'infrastructure de manière prévisible et répétée à l'aide de ce AWS CloudFormation guide de l'utilisateur." /><meta name="guide-locale" content="fr_fr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/resource-import-nested-stacks.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/resource-import-nested-stacks.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/resource-import-nested-stacks.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/resource-import-nested-stacks.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/resource-import-nested-stacks.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/resource-import-nested-stacks.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/resource-import-nested-stacks.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/resource-import-nested-stacks.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/resource-import-nested-stacks.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/resource-import-nested-stacks.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/resource-import-nested-stacks.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/resource-import-nested-stacks.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/resource-import-nested-stacks.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/resource-import-nested-stacks.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/resource-import-nested-stacks.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/resource-import-nested-stacks.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/resource-import-nested-stacks.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/resource-import-nested-stacks.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/resource-import-nested-stacks.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/resource-import-nested-stacks.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/resource-import-nested-stacks.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/resource-import-nested-stacks.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Guide de l'utilisateur" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Guide de l'utilisateur" /><meta id="panorama-serviceConsolePage" value="Imbrication d'une pile existante" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Imbrication d'une pile existante - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/resource-import-nested-stacks.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/resource-import-nested-stacks.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/resource-import-nested-stacks.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,provisionnement des ressources,configuration des ressources,gestion de l'infrastructure,CloudFormer,CloudFormation pile,CloudFormation stackset,CloudFormation modèle,jeu de modifications" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guide de l'utilisateur",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Utilisation des piles",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/stacks.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Utilisation des piles imbriquées",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-cfn-nested-stacks.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Imbrication d'une pile existante",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-cfn-nested-stacks.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Guide de l'utilisateur</a></div><div id="page-toc-src"><a href="#resource-import-nested-stacks-validation">Validation de l'importation d'une pile imbriquée</a><a href="#resource-import-nested-stacks-console">Imbrication d'une pile existante à l'aide de la AWS Management Console</a><a href="#resource-import-nested-stacks-cli">Imbrication d'une pile existante à l'aide de la AWS CLI</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Les traductions sont fournies par des outils de traduction automatique. En cas de conflit entre le contenu d'une traduction et celui de la version originale en anglais, la version anglaise prévaudra.</p></awsui-alert><h1 class="topictitle" id="resource-import-nested-stacks">Imbrication d'une pile existante</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Utilisez la fonction <code class="code">resource import</code> pour imbriquer une pile existante dans une autre pile existante. Les piles imbriquées sont des composants courants que vous déclarez et référencez à partir d'autres modèles. Vous pouvez ainsi éviter de copier et coller les mêmes configurations dans vos modèles et simplifier les mises à jour des piles. Si vous disposez d'un modèle pour un composant commun, vous pouvez utiliser la ressource <code class="code">AWS::CloudFormation::Stack</code> pour référencer ce modèle à partir d'un autre modèle. Pour de plus amples informations sur les piles imbriquées, veuillez consulter <a href="./using-cfn-nested-stacks.html">Utilisation des piles imbriquées</a>.</p><p>AWS CloudFormation ne prend en charge qu'un niveau d'imbrication en utilisant <code class="code">resource import</code>. Cela signifie que vous ne pouvez pas importer une pile dans une pile enfant ou importer une pile qui a des enfants.</p>
      <h2 id="resource-import-nested-stacks-validation">Validation de l'importation d'une pile imbriquée</h2>
      <p>Lors d'une opération d'importation d'une pile imbriquée, AWS CloudFormation effectue les validations suivantes.</p>
      <div class="itemizedlist">
          
          
      <ul class="itemizedlist"><li class="listitem">
            <p>La définition <code class="code">AWS::CloudFormation::Stack</code> imbriquée dans le modèle de pile parent correspond au modèle de la pile imbriquée réelle.</p>
         </li><li class="listitem">
            <p>Les balises de la définition <code class="code">AWS::CloudFormation::Stack</code> imbriquée dans le modèle de pile parent correspondent aux balises de la ressource imbriquée réelle.</p>
         </li></ul></div>
    
      <h2 id="resource-import-nested-stacks-console">Imbrication d'une pile existante à l'aide de la AWS Management Console</h2>

      <div class="procedure"><ol><li>
            <p>Ajoutez la ressource <code class="code">AWS::CloudFormation::Stack</code> au modèle de pile parent avec un attribut <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-deletionpolicy.html">DeletionPolicy</a> <code class="code">Retain</code>. Dans l'exemple de modèle parent suivant, <code class="code">NestedStack</code> est la cible de l'importation.</p>
            <p><b>JSON</b></p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "AWSTemplateFormatVersion" : "2010-09-09",
  "Resources" : <span>{</span>
    "ServiceTable":<span>{</span>
           "Type":"AWS::DynamoDB::Table",
           "Properties":<span>{</span>
              "TableName":"Service",
              "AttributeDefinitions":[
                 <span>{</span>
                    "AttributeName":"key",
                    "AttributeType":"S"
                 }
              ],
              "KeySchema":[
                 <span>{</span>
                    "AttributeName":"key",
                    "KeyType":"HASH"
                 }
              ],
              "ProvisionedThroughput":<span>{</span>
                 "ReadCapacityUnits":5,
                 "WriteCapacityUnits":1
              }
           }
        },
    "NestedStack" : <span>{</span>
      "Type" : "AWS::CloudFormation::Stack",
      <b>"DeletionPolicy": "Retain",</b>
      "Properties" : <span>{</span>
      "TemplateURL" : "https://s3.amazonaws.com/cloudformation-templates-us-east-2/EC2ChooseAMI.template",
        "Parameters" : <span>{</span>
          "InstanceType" : "t1.micro",
          "KeyName" : "mykey"
        }
      }
    }
  }
}</code></pre>
            <p><b>YAML</b></p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">AWSTemplateFormatVersion: 2010-09-09
Resources:
  ServiceTable:
    Type: 'AWS::DynamoDB::Table'
    Properties:
      TableName: Service
      AttributeDefinitions:
        - AttributeName: key
          AttributeType: S
      KeySchema:
        - AttributeName: key
          KeyType: HASH
      ProvisionedThroughput:
        ReadCapacityUnits: 5
        WriteCapacityUnits: 1
  NestedStack:
    Type: 'AWS::CloudFormation::Stack'
    DeletionPolicy: Retain
    Properties:
      TemplateURL: &gt;-
        https://s3.amazonaws.com/cloudformation-templates-us-east-2/EC2ChooseAMI.template
      Parameters:
        InstanceType: t1.micro
        KeyName: mykey</code></pre>
         </li><li>
            <p>Ouvrez la AWS CloudFormationconsole .</p>
         </li><li>
            <p>Sur la page <b>Piles</b>, sélectionnez la pile parent, choisissez <b>Stack actions (Actions pour la pile)</b>, puis <b>Import resources into stack (Importer les ressources dans la pile)</b>.</p>
            <div class="mediaobject">
                
                  <img src="images/stack-actions-import.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;                  Option Import resources into stack (Importer les ressources dans la pile) dans la console.&#xA;               " />
                
                
            </div>
         </li><li>
            <p>Lisez la page <b>Vue d'ensemble de l'importation</b> pour obtenir la liste des éléments que vous devez fournir dans le cadre de cette opération. Ensuite, choisissez <b>Next</b> (Suivant).</p>
         </li><li>
            <p>Dans la page <b>Specify template (Spécifier le modèle)</b> indiquez le modèle parent mis à jour à l'aide de l'une des méthodes suivantes, puis choisissez <b>Suivant</b>.</p>
            <div class="itemizedlist">
                
                
            <ul class="itemizedlist"><li class="listitem">
                  <p>Choisissez <b>Amazon S3 URL (URL Amazon S3)</b>, puis spécifiez l'URL de votre modèle dans la zone de texte.</p>
               </li><li class="listitem">
                  <p>Choisissez <b>Upload a template file (Charger un fichier de modèle)</b>, puis recherchez votre modèle.</p>
               </li></ul></div>
         </li><li>
            <p>Dans la page <b>Identify resources (Identifier les ressources)</b> identifiez la ressource <code class="code">AWS::CloudFormation::Stack</code>.</p>
            <ol><li>
                  <p>Sous <b>Identifier property (Propriété de l'identifiant)</b>, choisissez le type d'identifiant de ressource. Par exemple, une ressource <code class="code">AWS::CloudFormation::Stack</code> peut être identifiée à l'aide de la propriété <code class="code">StackId</code>.</p>
               </li><li>
                  <p>Sous <b>Identifier value (Valeur de l'identifiant)</b>, tapez la valeur réelle de la propriété. Par exemple, <code class="code"><code class="replaceable">arn:aws:cloudformation:us-west-2:12345678910:stack/mystack/5b918d10-cd98-11ea-90d5-0a9cd3354c10</code></code>.</p>
                  <div class="mediaobject">
                      
                        <img src="images/resource-import-stackid.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;                        Page d'identification des ressources de la console.&#xA;                     " />
                      
                      
                  </div>
               </li><li>
                  <p>Choisissez <b>Next (Suivant)</b>.</p>
               </li></ol>
         </li><li>
            <p>Dans la page <b>Specify stack details (Spécifier les détails de la pile)</b>, modifiez les paramètres souhaités, puis choisissez <b>Suivant</b>. Un jeu de modifications est crée automatiquement.</p>
            <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>L'opération d'importation échoue si vous modifiez des paramètres existants qui lacent une opération de création, de mise à jour ou de suppression.</p></div></div>
         </li><li>
            <p>Dans la page de <b>vérification de <code class="replaceable">nom de la pile</code></b>, vérifiez que la ressource correcte est importée, puis choisissez <b>Import resources (Importer les ressources)</b>. Le jeu de modifications créé à la dernière étape est alors automatiquement exécuté. Toutes les <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-console-add-tags.html">balises au niveau de la pile</a> sont appliquées aux ressources importées à ce moment-là.</p>
         </li><li>
            <p>Le panneau <b>Événements</b> de la page <b>Stack details (Détails de la pile)</b> pour votre pile parent s'affiche.</p>
            <div class="mediaobject">
                
                  <img src="images/import-events.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;                  Onglet Événements de la console.&#xA;               " />
                
                
            </div>
            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Il n'est pas nécessaire d'exécuter la détection de l'écart sur la pile parent après cette opération d'importation, car la ressource <code class="code">AWS::CloudFormation::Stack</code> a déjà été gérée par AWS CloudFormation.</p></div></div>
         </li></ol></div>

    
      <h2 id="resource-import-nested-stacks-cli">Imbrication d'une pile existante à l'aide de la AWS CLI</h2>
      <div class="procedure"><ol><li>
            <p>Ajoutez la ressource <code class="code">AWS::CloudFormation::Stack</code> au modèle de pile parent avec un attribut <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-deletionpolicy.html">DeletionPolicy</a> <code class="code">Retain</code>. Dans l'exemple de modèle parent suivant, <code class="code">NestedStack</code> est la cible de l'importation.</p>
            <p><b>JSON</b></p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "AWSTemplateFormatVersion" : "2010-09-09",
  "Resources" : <span>{</span>
    "ServiceTable":<span>{</span>
           "Type":"AWS::DynamoDB::Table",
           "Properties":<span>{</span>
              "TableName":"Service",
              "AttributeDefinitions":[
                 <span>{</span>
                    "AttributeName":"key",
                    "AttributeType":"S"
                 }
              ],
              "KeySchema":[
                 <span>{</span>
                    "AttributeName":"key",
                    "KeyType":"HASH"
                 }
              ],
              "ProvisionedThroughput":<span>{</span>
                 "ReadCapacityUnits":5,
                 "WriteCapacityUnits":1
              }
           }
        },
    "NestedStack" : <span>{</span>
      "Type" : "AWS::CloudFormation::Stack",
      <b>"DeletionPolicy": "Retain",</b>
      "Properties" : <span>{</span>
      "TemplateURL" : "https://s3.amazonaws.com/cloudformation-templates-us-east-2/EC2ChooseAMI.template",
        "Parameters" : <span>{</span>
          "InstanceType" : "t1.micro",
          "KeyName" : "mykey"
        }
      }
    }
  }
}</code></pre>
            <p><b>YAML</b></p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">AWSTemplateFormatVersion: 2010-09-09
Resources:
  ServiceTable:
    Type: 'AWS::DynamoDB::Table'
    Properties:
      TableName: Service
      AttributeDefinitions:
        - AttributeName: key
          AttributeType: S
      KeySchema:
        - AttributeName: key
          KeyType: HASH
      ProvisionedThroughput:
        ReadCapacityUnits: 5
        WriteCapacityUnits: 1
  NestedStack:
    Type: 'AWS::CloudFormation::Stack'
    DeletionPolicy: Retain
    Properties:
      TemplateURL: &gt;-
        https://s3.amazonaws.com/cloudformation-templates-us-east-2/EC2ChooseAMI.template
      Parameters:
        InstanceType: t1.micro
        KeyName: mykey</code></pre>
         </li><li>
            <p>Créez un jeu de modifications de type <code class="code">IMPORT</code> avec les paramètres suivants. <code class="code">--resources-to-import</code> ne prend pas en charge le YAML en ligne.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="prompt" copy="false">&gt; </code><code class="userinput">aws cloudformation create-change-set
    --stack-name <code class="replaceable">TargetParentStack</code> --change-set-name <code class="replaceable">ImportChangeSet</code>
    <b>--change-set-type <code class="replaceable">IMPORT</code>
    --resources-to-import "[<span>{</span>\"ResourceType\":\<code class="replaceable">AWS::CloudFormation::Stack</code>\",\"LogicalResourceId\":\"<code class="replaceable">MyStack</code>\",\"ResourceIdentifier\":<span>{</span>\"<code class="replaceable">StackId</code>\":\"<code class="replaceable">arn:aws:cloudformation:us-east-2:123456789012:stack/mystack-mynestedstack-sggfrhxhum7w/f449b250-b969-11e0-a185-5081d0136786</code>\"}}]</b>
    --template-body <code class="replaceable">file://templateToImport.json</code></code></code></pre>
            <p>L'AWS CLI prend également en charge les fichiers texte en entrée pour le paramètre <code class="code">resources-to-import</code>, comme indiqué dans l'exemple suivant.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="text ">--resources-to-import: <code class="replaceable">file://resourcesToImport.txt</code></code></pre>
            <p>Dans cette démonstration, <code class="replaceable">fichier://resourcesToImport.txt</code> contient les éléments suivants.</p>
            <p><b>JSON</b></p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">[
  <span>{</span>
      "ResourceType":"AWS::CloudFormation::Stack",
      "LogicalResourceId":"MyStack",
      "ResourceIdentifier": <span>{</span>
        "StackId":"arn:aws:cloudformation:us-east-2:123456789012:stack/mystack-mynestedstack-sggfrhxhum7w/f449b250-b969-11e0-a185-5081d0136786"
      }
  }
]</code></pre>
            <p><b>YAML</b></p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">ResourceType: 'AWS::CloudFormation::Stack'
  LogicalResourceId: MyStack
  ResourceIdentifier:
    StackId: &gt;-
      arn:aws:cloudformation:us-east-2:123456789012:stack/mystack-mynestedstack-sggfrhxhum7w/f449b250-b969-11e0-a185-5081d0136786</code></pre>
         </li><li>
            <p>Vérifiez le jeu de modifications pour vous assurer que la pile correcte est importée.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="prompt" copy="false">&gt; </code><code class="userinput">aws cloudformation describe-change-set --change-set-name <code class="replaceable">ImportChangeSet</code></code></code></pre>
         </li><li>
            <p>Exécutez le jeu de modifications pour importer la pile dans la pile parent source. Toutes les <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-console-add-tags.html">balises au niveau de la pile</a> sont appliquées aux ressources importées à ce moment-là. Une fois l'opération d'importation <code class="code">(IMPORT_COMPLETE)</code> terminée, la pile est imbriquée avec succès.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="prompt" copy="false">&gt; </code><code class="userinput">aws cloudformation execute-change-set --change-set-name <code class="replaceable">ImportChangeSet</code></code></code></pre>
            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Il n'est pas nécessaire d'exécuter la détection de l'écart sur la pile parent après cette opération d'importation, car la ressource <code class="code">AWS::CloudFormation::Stack</code> a déjà été gérée par AWS CloudFormation.</p></div></div>
         </li></ol></div>
   <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avertissement" /> <strong>JavaScript est désactivé ou n'est pas disponible dans votre navigateur.</strong></p><p>Pour que vous puissiez utiliser la documentation AWS, Javascript doit être activé. Vous trouverez des instructions sur les pages d'aide de votre navigateur.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Conventions de rédaction</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./change-sets-for-nested-stacks.html">Modifier les ensembles pour les piles imbriquées</div><div id="next" class="next-link" accesskey="n" href="./cfn-windows-stacks.html">Utilisation des piles Windows</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Oui</div><div class="content"><p>Merci de nous avoir fait part de votre satisfaction.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer ce qui vous a plu afin que nous puissions nous améliorer davantage.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/resource-import-nested-stacks.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Non</div><div class="content"><p>Merci de nous avoir avertis que cette page avait besoin d'être retravaillée. Nous sommes désolés de ne pas avoir répondu à vos attentes.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer comment nous pourrions améliorer cette documentation.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/resource-import-nested-stacks.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>