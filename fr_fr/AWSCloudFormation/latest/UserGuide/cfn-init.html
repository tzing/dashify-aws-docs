<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="fr-FR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>cfn-init - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="cfn-init" /><meta name="default_state" content="cfn-init" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-init.html" /><meta name="description" content="Lit les métadonnées du modèle à partir de la ressource AWS::CloudFormation::Init et effectue des actions, telles que l'installation et la configuration d'applications dans une instance Amazon EC2." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Guide de l'utilisateur" /><meta name="abstract" content="Créez et gérez des déploiements AWS d'infrastructure de manière prévisible et répétée à l'aide de ce AWS CloudFormation guide de l'utilisateur." /><meta name="guide-locale" content="fr_fr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-init.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/cfn-init.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/cfn-init.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/cfn-init.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/cfn-init.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-init.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-init.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/cfn-init.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/cfn-init.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-init.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-init.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/cfn-init.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/cfn-init.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/cfn-init.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/cfn-init.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/cfn-init.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/cfn-init.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/cfn-init.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/cfn-init.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/cfn-init.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/cfn-init.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-init.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Guide de l'utilisateur" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Guide de l'utilisateur" /><meta id="panorama-serviceConsolePage" value="cfn-init" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>cfn-init - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-init.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-init.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-init.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,provisionnement des ressources,configuration des ressources,gestion de l'infrastructure,CloudFormer,CloudFormation pile,CloudFormation stackset,CloudFormation modèle,jeu de modifications" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guide de l'utilisateur",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Référence de modèles",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/template-reference.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Référence des scripts d'assistant CloudFormation",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-helper-scripts-reference.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "cfn-init",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-helper-scripts-reference.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Guide de l'utilisateur</a></div><div id="page-toc-src"><a href="#cfn-init-Description">Description</a><a href="#cfn-init-Syntax">Syntaxe</a><a href="#cfn-init-options">Options</a><a href="#cfn-init-Examples">Exemple</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Les traductions sont fournies par des outils de traduction automatique. En cas de conflit entre le contenu d'une traduction et celui de la version originale en anglais, la version anglaise prévaudra.</p></awsui-alert><h1 class="topictitle" id="cfn-init">cfn-init</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div>
         <h2 id="cfn-init-Description">Description</h2>

         <p>Le script d'assistant cfn-init lit les métadonnées du modèle à partir de la clé <code class="code">AWS::CloudFormation::Init</code> et agit en conséquence pour :</p>
         <div class="itemizedlist">
             
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>Récupérez et analysez les métadonnées depuis  CloudFormation</p>
            </li><li class="listitem">
               <p>Installation des packages</p>
            </li><li class="listitem">
               <p>enregistrer les fichiers sur le disque ;</p>
            </li><li class="listitem">
               <p>activer/désactiver et arrêter/démarrer des services.</p>
            </li></ul></div>
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Si vous utilisez cfn-init pour mettre à jour un fichier existant, il crée une copie de sauvegarde du fichier d'origine dans le même répertoire avec une extension .bak. Par exemple, si vous mettez à jour <code>/<code class="replaceable">path</code>/<code class="replaceable">to</code>/<code class="replaceable">file_name</code></code>, cette action génère deux fichiers : <code>/<code class="replaceable">path</code>/<code class="replaceable">to</code>/<code class="replaceable">file_name</code>.bak</code> inclut le contenu du fichier d'origine et <code>/<code class="replaceable">path</code>/<code class="replaceable">to</code>/<code class="replaceable">file_name</code></code> contient le contenu mis à jour.</p></div></div>
         <p>Pour plus d'informations sur les métadonnées d'un modèle, consultez <a href="./aws-resource-init.html">AWS::CloudFormation::Init</a>.</p>
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>cfn-init ne requiert pas d'informations d'identification. Dès lors, vous n'avez pas besoin d'utiliser les options <code class="code">--access-key</code>, <code class="code">--secret-key</code>, <code class="code">--role</code> ou <code class="code">--credential-file</code>. Toutefois, si aucune information d'identification n'est spécifiée,  CloudFormation  vérifie l'appartenance de la pile et limite la portée de l'appel à la pile à laquelle l'instance appartient.</p></div></div>
       
         <h2 id="cfn-init-Syntax">Syntaxe</h2>

         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">cfn-init --stack|-s <code class="replaceable">stack.name.or.id</code> \
         --resource|-r <code class="replaceable">logical.resource.id</code> \
         --region <code class="replaceable">region</code> \
         --access-key <code class="replaceable">access.key</code> \
         --secret-key <code class="replaceable">secret.key</code> \
         --role <code class="replaceable">rolename</code> \
         --credential-file|-f <code class="replaceable">credential.file</code> \
         --configsets|-c <code class="replaceable">config.sets</code> \
         --url|-u <code class="replaceable">service.url</code> \
         --http-proxy <code class="replaceable">HTTP.proxy</code> \
         --https-proxy <code class="replaceable">HTTPS.proxy</code> \
         --verbose|-v 
</code></pre>
       
         <h2 id="cfn-init-options">Options</h2>

         <div class="table-container"><div class="table-contents"><table id="w1348aac27c23c23b9b3"><thead>
                  <tr>
                     <th>Name (Nom)</th>
                     <th>Description</th>
                     <th>Obligatoire</th>
                  </tr>
               </thead>
                  <tr>
                     <td tabindex="-1">
                        <p>
                           <code class="code">-s, --stack</code>
                        </p>
                     </td>
                     <td tabindex="-1">
                        <p>Nom de la pile ou ID de la pile.</p>
                        <p><em>Type</em> : chaîne</p>
                        <p><em>Par défaut</em> : aucun</p>
                        <p><em>Exemple</em> : <code class="code">--stack <span>{</span> "Ref" : "AWS::StackName"
                              },</code></p>
                     </td>
                     <td tabindex="-1">
                        <p>Oui</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p>
                           <code class="code">-r, --resource </code>
                        </p>
                     </td>
                     <td tabindex="-1">
                        <p>ID de ressource logique de la ressource qui contient les métadonnées.</p>
                        <p><em>Type</em> : chaîne</p>
                        <p><em>Exemple</em> : <code class="code">--resource
                           WebServerHost</code></p>
                     </td>
                     <td tabindex="-1">
                        <p>Oui</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p>
                           <code class="code">--region</code>
                        </p>
                     </td>
                     <td tabindex="-1">
                        <p>Le point de terminaison  CloudFormation  régional à utiliser.</p>
                        <p><em>Type</em> : chaîne</p>
                        <p><em>Par défaut</em> : <code class="code">us-east-1</code></p>
                        <p><em>Exemple</em> : <code class="code">--region ", <span>{</span> "Ref" : "AWS::Region"
                              },</code></p>
                     </td>
                     <td tabindex="-1">
                        <p>Non</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p>
                           <code class="code">--access-key</code>
                        </p>
                     </td>
                     <td tabindex="-1">
                        <p>Clé d'accès AWS pour un compte avec l'autorisation d'appeler l'API <code class="code">DescribeStackResource</code> sur  CloudFormation. Le paramètre du fichier d'informations d'identification prévaut sur ce paramètre.</p>
                        <p><em>Type</em> : chaîne</p>
                     </td>
                     <td tabindex="-1">
                        <p>Non</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p>
                           <code class="code">--secret-key</code>
                        </p>
                     </td>
                     <td tabindex="-1">
                        <p>Clé d'accès secrète AWS qui correspond à la clé d'accès AWS spécifiée.</p>
                        <p><em>Type</em> : chaîne</p>
                     </td>
                     <td tabindex="-1">
                        <p>Non</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p>
                           <code class="code">--role</code>
                        </p>
                     </td>
                     <td tabindex="-1">
                        <p>Nom d'un rôle IAM associé à l'instance.</p>
                        <p><em>Type</em> : chaîne</p>
                        <p>Condition : le paramètre du fichier d'informations d'identification prévaut sur ce paramètre.</p>
                     </td>
                     <td tabindex="-1">
                        <p>Non</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p>
                           <code class="code">-f, --credential-file</code>
                        </p>
                     </td>
                     <td tabindex="-1">
                        <p>Fichier qui contient une clé d'accès secrète et une clé d'accès. Le paramètre du fichier d'informations d'identification supplante les paramètres --role, --access-key et --secret-key.</p>
                        <p><em>Type</em> : chaîne</p>
                     </td>
                     <td tabindex="-1">
                        <p>Non</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p>
                           <code class="code">-c, --configsets</code>
                        </p>
                     </td>
                     <td tabindex="-1">
                        <p>Liste CSV de jeux de configuration à exécuter (dans l'ordre).</p>
                        <p><em>Type</em> : chaîne</p>
                        <p><em>Par défaut</em> : <code class="code">default</code></p>
                     </td>
                     <td tabindex="-1">
                        <p>Non</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p>
                           <code class="code">-u, --url</code>
                        </p>
                     </td>
                     <td tabindex="-1">
                        <p>Le  CloudFormation  point de terminaison à utiliser.</p>
                        <p><em>Type</em> : chaîne</p>
                     </td>
                     <td tabindex="-1">
                        <p>Non</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p><code class="code">--http-proxy</code></p>
                     </td>
                     <td tabindex="-1">
                        <p>Proxy HTTP (non SSL). Utilisez le format suivant : <code class="code">http://<code class="replaceable">user:password</code>@<code class="replaceable">host</code>:<code class="replaceable">port</code></code></p>
                        <p><em>Type</em> : chaîne</p>
                     </td>
                     <td tabindex="-1">
                        <p>Non</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p><code class="code">--https-proxy</code></p>
                     </td>
                     <td tabindex="-1">
                        <p>Proxy HTTPS. Utilisez le format suivant : <code class="code">https://<code class="replaceable">user:password</code>@<code class="replaceable">host</code>:<code class="replaceable">port</code></code></p>
                        <p><em>Type</em> : chaîne</p>
                     </td>
                     <td tabindex="-1">
                        <p>Non</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p><code class="code">-v, --verbose</code></p>
                     </td>
                     <td tabindex="-1">
                        <p>Sortie détaillée. Cela est utile pour déboguer les cas où l'initialisation de cfn-init échoue.</p>
                        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Pour déboguer les événements d'initialisation, vous devez activer DisableRollback . Vous pouvez le faire en utilisant la  CloudFormation  console, en sélectionnant <em>Afficher les options avancées</em>, puis en attribuant à <b>Rollback en cas d'échec la</b> valeur <b>Non</b>. Vous pouvez ensuite vous connecter à la console par SSH et lire les journaux sur /var/log/cfn-init.log.</p></div></div>
                     </td>
                     <td tabindex="-1">
                        <p>Non</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1"><p><code class="code">-h, --help</code></p></td>
                     <td tabindex="-1"><p>Affiche le message d'aide, puis se ferme.</p></td>
                     <td tabindex="-1">
                        <p>Non</p></td>
                  </tr>
               </table></div></div>
       
         <h2 id="cfn-init-Examples">Exemple</h2>

          
            <h3 id="w9aac34c42c27b9b3">Exemple de Amazon Linux</h3>

            <p>Les extraits suivants présentent la propriété <code class="code">UserData</code> d'une instance EC2, qui exécute le jeu de configuration <code class="code">InstallAndRun</code> associé à la ressource <code class="code">WebServerInstance</code>.</p>
            <p>Pour obtenir un exemple de modèle complet, consultez <a href="./deploying.applications.html">Déploiement d'applications sur Amazon EC2 avec AWS CloudFormation</a>.</p>
            <p>Pour inclure la dernière version, ajoutez <code class="code">yum install -y aws-cfn-bootstrap</code> aux <code class="code">UserData</code>.</p>
            <div id="JSON" name="JSON" class="section langfilter">
               <h4 id="cfn-init-example.json">JSON</h4>
               <p>Propriété <code class="code">UserData</code> utilisant la fonction intrinsèque <code class="code">Fn::Join</code>.</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "UserData": <span>{</span>
        "Fn::Base64": <span>{</span>
            "Fn::Join": [
                "",
                [
                    "#!/bin/bash -xe\n",
                    "",
                    "yum install -y aws-cfn-bootstrap",
                    "/opt/aws/bin/cfn-init -v ",
                    "         --stack ",
                    <span>{</span>
                        "Ref": "AWS::StackName"
                    },
                    "         --resource WebServerInstance ",
                    "         --configsets InstallAndRun ",
                    "         --region ",
                    <span>{</span>
                        "Ref": "AWS::Region"
                    },
                    "\n"
                ]
            ]
        }
    }
}</code></pre>
            </div>
            <div id="YAML" name="YAML" class="section langfilter">
               <h4 id="cfn-init-example.yaml">YAML</h4>
               <p>Propriété <code class="code">UserData</code> utilisant la fonction intrinsèque <code class="code">Fn::Join</code>.</p>

               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">UserData: !Base64 
  'Fn::Join':
    - ''
    - - |
        #!/bin/bash -xe
      - ''
      - yum install -y aws-cfn-bootstrap
      - '/opt/aws/bin/cfn-init -v '
      - '         --stack '
      - !Ref 'AWS::StackName'
      - '         --resource WebServerInstance '
      - '         --configsets InstallAndRun '
      - '         --region '
      - !Ref 'AWS::Region'
      - |+</code></pre>
            </div>
            <div id="JSON" name="JSON" class="section langfilter">
               <h4 id="cfn-init-example-fn-sub.json">JSON</h4>
               <p>Propriété <code class="code">UserData</code> utilisant la fonction intrinsèque <code class="code">Fn::Sub</code>.</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "UserData": <span>{</span>
        "Fn::Base64": <span>{</span>
            "Fn::Sub": [
                "#!/bin/bash -x\n# Install the files and packages from the metadata\n/opt/aws/bin/cfn-init -v --stack $<span>{</span>AWS::StackName} --resource MyInstance --region $<span>{</span>AWS::Region}\n\n# Signal the status from cfn-init\n/opt/aws/bin/cfn-signal -e $? --stack $<span>{</span>AWS::StackName} --resource MyInstance --region $<span>{</span>AWS::Region}\n",
                <span>{</span>}
            ]
        }
    }
}</code></pre>
            </div>
            <div id="YAML" name="YAML" class="section langfilter">
               <h4 id="cfn-init-example-fn-sub.yaml">YAML</h4>
               <p>Propriété <code class="code">UserData</code> utilisant la fonction intrinsèque <code class="code">Fn::Sub</code>.</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">UserData: !Base64 
  'Fn::Sub':
    - &gt;
      #!/bin/bash -x

      # Install the files and packages from the metadata

      /opt/aws/bin/cfn-init -v --stack $<span>{</span>AWS::StackName} --resource MyInstance
      --region $<span>{</span>AWS::Region}


      # Signal the status from cfn-init

      /opt/aws/bin/cfn-signal -e $? --stack $<span>{</span>AWS::StackName} --resource
      MyInstance --region $<span>{</span>AWS::Region}
    - <span>{</span>}</code></pre>
            </div>
          
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avertissement" /> <strong>JavaScript est désactivé ou n'est pas disponible dans votre navigateur.</strong></p><p>Pour que vous puissiez utiliser la documentation AWS, Javascript doit être activé. Vous trouverez des instructions sur les pages d'aide de votre navigateur.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Conventions de rédaction</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./cfn-helper-scripts-reference.html">Scripts d'assistant CloudFormation</div><div id="next" class="next-link" accesskey="n" href="./cfn-signal.html">cfn-signal</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Oui</div><div class="content"><p>Merci de nous avoir fait part de votre satisfaction.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer ce qui vous a plu afin que nous puissions nous améliorer davantage.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-init.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Non</div><div class="content"><p>Merci de nous avoir avertis que cette page avait besoin d'être retravaillée. Nous sommes désolés de ne pas avoir répondu à vos attentes.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer comment nous pourrions améliorer cette documentation.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-init.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>