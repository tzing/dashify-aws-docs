<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="fr-FR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Contrôler l'accès avec AWS Identity and Access Management - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="using-iam-template" /><meta name="default_state" content="using-iam-template" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-iam-template.html" /><meta name="description" content="AWS Identity and Access Management À utiliser pour contrôler qui a accès à vos AWS ressources dans AWS CloudFormation." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Guide de l'utilisateur" /><meta name="abstract" content="Créez et gérez des déploiements AWS d'infrastructure de manière prévisible et répétée à l'aide de ce AWS CloudFormation guide de l'utilisateur." /><meta name="guide-locale" content="fr_fr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-iam-template.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Guide de l'utilisateur" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Guide de l'utilisateur" /><meta id="panorama-serviceConsolePage" value="Contrôler l'accès avec AWS Identity and Access Management" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Contrôler l'accès avec AWS Identity and Access Management - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-iam-template.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-iam-template.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-iam-template.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,provisionnement des ressources,configuration des ressources,gestion de l'infrastructure,CloudFormer,CloudFormation pile,CloudFormation stackset,CloudFormation modèle,jeu de modifications" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guide de l'utilisateur",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Sécurité dans AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/security.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Contrôler l'accès avec AWS Identity and Access Management",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/security.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Guide de l'utilisateur</a></div><div id="page-toc-src"><a href="#using-iam-template-actions">AWS CloudFormation actions</a><a href="#resource-level-permissions">AWS CloudFormation ressources</a><a href="#using-iam-template-conditions">AWS CloudFormation conditions</a><a href="#using-iam-capabilities">Reconnaissance des ressources IAM dans les modèles AWS CloudFormation</a><a href="#using-iam-template-manage-creds">Gestion des informations d'identification pour les applications exécutées dans des instances Amazon EC2</a><a href="#using-iam-template-grant-access">Accorder un accès temporaire (accès fédéré)</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Les traductions sont fournies par des outils de traduction automatique. En cas de conflit entre le contenu d'une traduction et celui de la version originale en anglais, la version anglaise prévaudra.</p></awsui-alert><h1 class="topictitle" id="using-iam-template">Contrôler l'accès avec AWS Identity and Access Management</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Avec AWS Identity and Access Management (IAM), vous pouvez créer des utilisateurs IAM pour contrôler qui a accès à quelles ressources de votre. Compte AWSVous pouvez utiliser IAM AWS CloudFormation pour contrôler ce que les utilisateurs peuvent utiliser AWS CloudFormation, par exemple s'ils peuvent afficher des modèles de pile, créer des piles ou supprimer des piles.</p><p>Outre les AWS CloudFormation actions, vous pouvez gérer les AWS services et les ressources disponibles pour chaque utilisateur. Ainsi, vous pouvez contrôler les ressources auxquelles les utilisateurs peuvent accéder lorsqu'ils les utilisent AWS CloudFormation. Par exemple, vous pouvez spécifier quels utilisateurs peuvent créer des instances Amazon EC2, arrêter les instances de base de données ou mettre à jour les VPC. Ces mêmes autorisations sont appliquées chaque fois qu' AWS CloudFormation ils effectuent ces actions.</p><p>Pour plus d'informations sur tous les services dont vous pouvez contrôler l'accès, veuillez consulter la rubrique <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/Using_SpecificProducts.html">ServicesAWS qui fonctionnent avec IAM</a> dans le <em>Guide de l'utilisateur IAM</em>.</p><div class="highlights"><h6>Rubriques</h6><ul><li><a href="#using-iam-template-actions">AWS CloudFormation actions</a></li><li><a href="#resource-level-permissions">AWS CloudFormation ressources</a></li><li><a href="#using-iam-template-conditions">AWS CloudFormation conditions</a></li><li><a href="#using-iam-capabilities">Reconnaissance des ressources IAM dans les modèles AWS CloudFormation</a></li><li><a href="#using-iam-template-manage-creds">Gestion des informations d'identification pour les applications exécutées dans des instances Amazon EC2</a></li><li><a href="#using-iam-template-grant-access">Accorder un accès temporaire (accès fédéré)</a></li><li><a href="./using-iam-servicerole.html">AWS CloudFormation rôle de service</a></li></ul></div><h2 id="using-iam-template-actions">AWS CloudFormation actions</h2>
      
      <p>Lorsque vous créez un groupe ou un utilisateur dans votre Compte AWS, vous pouvez associer une politique IAM à ce groupe ou à cet utilisateur, qui spécifie les autorisations que vous souhaitez accorder. Par exemple, imaginez que vous travaillez avec un groupe de développeurs non expérimentés. Vous pouvez créer un groupe <code class="code">Junior
            application developers</code> qui inclut tous ces développeurs. Ensuite, vous associez une politique à ce groupe qui permet aux utilisateurs de n'afficher que les AWS CloudFormation piles. Dans ce scénario, vous pouvez utiliser une politique comme celle-ci :</p>
      <div class="example"><h6>Exemple de politique qui accorde des autorisations d'affichage des piles</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version":"2012-10-17",
    "Statement":[<span>{</span>
        "Effect":"Allow",
        "Action":[
            "cloudformation:DescribeStacks",
            "cloudformation:DescribeStackEvents",
            "cloudformation:DescribeStackResource",
            "cloudformation:DescribeStackResources"
        ],
        "Resource":"*"
    }]
}</code></pre></div></div>
      <p>La politique accorde des autorisations à toutes les actions d'API <code class="code">DescribeStack</code> répertoriées dans l'élément <code class="code">Action</code>.</p>
      <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>Si vous ne spécifiez pas de nom de pile ou d'ID dans votre déclaration, vous devez également accorder l'autorisation d'utiliser toutes les ressources pour l'action à l'aide du caractère générique <code class="code">*</code> pour l'élément <code class="code">Resource</code>.</p></div></div>
      <p>Outre les AWS CloudFormation actions, les utilisateurs qui créent ou suppriment des piles ont besoin d'autorisations supplémentaires qui dépendent des modèles de piles. Par exemple, si votre modèle décrit une file d'attente Amazon SQS, l'utilisateur doit avoir les autorisations correspondantes pour les actions Amazon SQS afin de pouvoir créer la pile, comme illustré dans l'exemple de politique suivant :</p>
      <div class="example"><h6>Exemple de politique qui accorde les autorisations requises pour la création et l'affichage de piles, ainsi que pour toutes les actions Amazon SQS</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version":"2012-10-17",
    "Statement":[<span>{</span>
        "Effect":"Allow",
        "Action":[
            "sqs:*",
            "cloudformation:CreateStack",
            "cloudformation:DescribeStacks",
            "cloudformation:DescribeStackEvents",
            "cloudformation:DescribeStackResources",
            "cloudformation:GetTemplate",
            "cloudformation:ValidateTemplate"  
        ],
        "Resource":"*"
    }]
}</code></pre></div></div>
      <p>Pour obtenir la liste de toutes les AWS CloudFormation actions que vous pouvez autoriser ou refuser, consultez la <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/"><em>référenceAWS CloudFormation d'API</em></a>.</p>
      <h3 id="w9aac17c19c11c16">AWS CloudFormation actions spécifiques à la console</h3>
         
         <p>Les utilisateurs qui utilisent la AWS CloudFormation console ont besoin d'autorisations supplémentaires qui ne sont pas requises pour utiliser les AWS CloudFormation API AWS Command Line Interface or. Par rapport à l'API AWS CLI and, la console fournit des fonctionnalités supplémentaires qui nécessitent des autorisations supplémentaires, telles que le téléchargement de modèles vers des compartiments Amazon S3 et des listes déroulantes pour des types de paramètres <a href="./parameters-section-structure.html#aws-specific-parameter-types">AWSspécifiques</a>.</p>
         <p>Pour toutes les actions suivantes, accordez des autorisations à toutes les ressources. Ne limitez les actions à des piles ou des compartiments spécifiques.</p>
         <p>L'action requise suivante est utilisée uniquement par la AWS CloudFormation console et n'est pas documentée dans la référence de l'API. Cette action permet aux utilisateurs d'importer des modèles dans des compartiments Amazon S3.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="text ">cloudformation:CreateUploadBucket</code></pre>
         <p>Lorsque les utilisateurs importent des modèles, ils nécessitent les autorisations Amazon S3 suivantes :</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="text ">s3:PutObject
s3:ListBucket
s3:GetObject
s3:CreateBucket</code></pre>
         <p>Pour les modèles avec des <a href="./parameters-section-structure.html#aws-specific-parameter-types">types de paramètres spécifiques àAWS</a>, les utilisateurs nécessitent des autorisations leur permettant d'effectuer les appels d'API describe correspondants. Par exemple, si un modèle inclut le type de paramètre <code class="code">AWS::EC2::KeyPair::KeyName</code>, les utilisateurs doivent être autorisés à appeler l'action EC2 <code class="code">DescribeKeyPairs</code>. C'est de cette façon que la console recevra les valeurs de la liste déroulante de ce paramètre. Les exemples suivants sont des actions nécessaires aux utilisateurs pour d'autres types de paramètres :</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="text ">ec2:DescribeSecurityGroups (for the AWS::EC2::SecurityGroup::Id parameter type)
ec2:DescribeSubnets (for the Subnet::Id parameter type)
ec2:DescribeVpcs (for the AWS::EC2::VPC::Id parameter type)</code></pre>
       
   <h2 id="resource-level-permissions">AWS CloudFormation ressources</h2>
      
      <p>AWS CloudFormation prend en charge les autorisations au niveau des ressources, de sorte que vous pouvez spécifier des actions pour une pile spécifique, comme indiqué dans la politique suivante :</p>
      <div class="example"><h6>Exemple de politique qui refuse les actions de suppression et de mise à jour de la pile pour  MyProductionStack</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version":"2012-10-17",
    "Statement":[<span>{</span>
        "Effect":"Deny",
        "Action":[
            "cloudformation:DeleteStack",
            "cloudformation:UpdateStack"
        ],
        "Resource":"arn:aws:cloudformation:us-east-1:123456789012:stack/MyProductionStack/*"
    }]
}</code></pre></div></div>
      <p>La politique ci-dessus utilise un caractère générique à la fin du nom de la pile afin de refuser les actions de suppression et de mise à jour au niveau de l'ID de la pile complète (comme <code class="code">arn:aws:cloudformation:us-east-1:123456789012:stack/MyProductionStack/abc9dbf0-43c2-11e3-a6e8-50fa526be49c</code>) et de son nom (tel que <code class="code">MyProductionStack</code>).</p>

      <p>Pour autoriser des transformations <code class="code">AWS::Serverless</code> dans le but de créer un ensemble de modifications, la politique doit inclure les autorisations de niveau ressource <code class="code">arn:aws:cloudformation:&lt;region&gt;:aws:transform/Serverless-2016-10-31</code>, comme indiqué dans la politique suivante :</p>
      <div class="example"><h6>Exemple de politique qui permet l'action de création du jeu de modifications pour la transformation</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "> <span>{</span>
    "Version": "2012-10-17",
    "Statement": [<span>{</span>
        "Effect": "Allow",
        "Action": [
            "cloudformation:CreateChangeSet"
        ],
        "Resource": "arn:aws:cloudformation:us-west-2:aws:transform/Serverless-2016-10-31"
    }]
}</code></pre></div></div>
       
         <h3 id="resource-level-permissions-service-managed-stack-set">Exemple de politique qui accorde des autorisations d'ensemble de piles gérées par un service</h3>
            <p>Voici un exemple de politique IAM qui accorde des autorisations d'ensemble de piles gérées par un service à une entité de principal (utilisateur, rôle ou groupe). Un utilisateur disposant de cette politique peut uniquement effectuer des opérations sur des ensembles de piles avec des modèles contenant des types de ressources Amazon S3 (<code class="code">AWS::S3::*</code>) ou le type de ressource <code class="code">AWS::SES::ConfigurationSet</code>. S'il est connecté au compte de gestion de l'organisation avec l'ID <code class="code">123456789012</code>, l'utilisateur peut également effectuer uniquement des opérations sur des ensembles de piles qui ciblent l'unité d'organisation avec l'ID <code class="replaceable">ou-1fsfsrsdsfrewr</code>, et il ne peut effectuer que des opérations sur l'ensemble de piles avec l'ID <code class="code">stack-set-id</code> qui cible le compte Compte AWS avec l'ID <code class="replaceable">987654321012</code>.</p>
            <p>Les opérations d'ensemble de piles échouent si le modèle d'ensemble de piles contient des types de ressources autres que ceux spécifiés dans la politique, ou si les cibles de déploiement sont des ID d'unité d'organisation ou de compte autres que ceux spécifiés dans la politique pour les comptes de gestion et les ensembles de piles correspondants.</p>
         <p>Ces restrictions de politique s'appliquent uniquement lorsque les opérations d'ensembles de piles ciblent les <code class="code">us-east-1</code>, <code class="code">us-west-2</code>, ou <code class="code">eu-west-2</code> Régions AWS.</p>
         
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "cloudformation:*"
            ],
            "Resource": [
                "arn:aws:cloudformation:*:*:stackset/*",
                "arn:aws:cloudformation:*:*:type/resource/<code class="replaceable">AWS-S3</code>-*",
                "arn:aws:cloudformation:us-west-2::type/resource/<code class="replaceable">AWS-SES-ConfigurationSet</code>",
                "arn:aws:cloudformation:*:<code class="replaceable">123456789012</code>:stackset-target/*/<code class="replaceable">ou-1fsfsrsdsfrewr</code>",
                "arn:aws:cloudformation:*:<code class="replaceable">123456789012</code>:stackset-target/<code class="replaceable">stack-set-id</code>/<code class="replaceable">987654321012</code>"
            ],
            "Condition": <span>{</span>
                "ForAllValues:StringEqualsIgnoreCase": <span>{</span>
                    "cloudformation:TargetRegion": [
                        "<code class="replaceable">us-east-1</code>",
                        "<code class="replaceable">us-west-2</code>",
                        "<code class="replaceable">eu-west-1</code>"
                    ]
                }
            }
        }
    ]
}</code></pre>
       
   <h2 id="using-iam-template-conditions">AWS CloudFormation conditions</h2>
      
      <p>Dans une politique IAM, vous pouvez, le cas échéant, spécifier des conditions qui contrôlent à quel moment la politique entre en vigueur. Par exemple, vous pouvez définir une stratégie qui permet aux utilisateurs  de créer une pile uniquement lorsqu'ils spécifient une URL de modèle spécifique. Vous pouvez définir AWS CloudFormationdes conditions spécifiques et des conditions AWSgénérales<code class="code">DateLessThan</code>, telles que celles qui indiquent à quel moment une politique cesse de prendre effet. Pour plus d'informations et une liste des AWSconditions générales, voir la <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/AccessPolicyLanguage_ElementDescriptions.html#Condition">référence relative à la condition dans les éléments de stratégie IAM</a> dans le guide de <em>l'utilisateur IAM</em>.</p>
      <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>N'utilisez pas la condition <code class="code">aws:SourceIp</code> AWS« wide ». AWS CloudFormation approvisionne les ressources en utilisant sa propre adresse IP, et non l'adresse IP de la demande d'origine. Par exemple, lorsque vous créez une pile, vous AWS CloudFormation envoyez des demandes depuis son adresse IP pour lancer une instance Amazon EC2 ou pour créer un compartiment Amazon S3, et non depuis l'adresse IP de l'<code class="code">CreateStack</code>appel ou de la commande. <code class="code">aws cloudformation create-stack</code></p></div></div>
      <p>La liste suivante décrit les conditions AWS CloudFormationspécifiques. Ces conditions sont appliquées uniquement lorsque les utilisateurs créent ou mettent à jour les piles :</p>
      <div class="variablelist">
          
          

          
          
          
          
      <dl>
            <dt><span class="term"><code class="code">cloudformation:ChangeSetName</code></span></dt>
            <dd>
               <p>Nom du groupe de AWS CloudFormation modifications que vous souhaitez associer à une politique. Utilisez cette condition pour contrôler les jeux de modifications que les utilisateurs  peuvent exécuter ou supprimer.</p>
            </dd>
          
            <dt><span class="term"><code class="code">cloudformation:ImportResourceTypes</code></span></dt>
            <dd>
               <p>Types de ressource du modèle que vous souhaitez associer à une politique, comme <code class="code">AWS::EC2::Instance</code>. Utilisez cette condition pour contrôler les types de ressources que les utilisateurs  peuvent utiliser lorsqu'ils importent des ressources dans une pile. Cette condition est vérifiée par rapport aux types de ressources déclarés par les utilisateurs dans le <code class="code">ResourcesToImport</code> paramètre, qui n'est actuellement pris en charge que pour AWS CLI les demandes d'API. Lorsque vous utilisez ce paramètre, vous devez spécifier tous les types de ressources que les utilisateurs doivent contrôler pendant les opérations d'importation. Pour plus d'informations sur le <code class="code">ResourcesToImport</code> paramètre, consultez l'<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_CreateChangeSet.html"><code class="code">CreateChangeSet</code></a>action dans la <em>référence de l'AWS CloudFormation API</em>.</p>
               <p>Pour obtenir la liste des possibilités <code class="code">ResourcesToImport</code>, veuillez consulter <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/resource-import-supported-resources.html">Ressources prenant en charge les opérations d'importation</a>.</p>
               <p>Utilisez la convention de dénomination des ressources en trois parties pour spécifier les types de ressources que les utilisateurs peuvent utiliser, depuis toutes les ressources d'une organisation jusqu'à un type de ressource individuel.</p>
               <div class="variablelist">
                      
                   
                   
               <dl>
                     <dt><span class="term"><code class="code"><code class="replaceable">organization</code>::*</code></span></dt>
                     <dd>
                        <p>Spécifiez tous les types de ressources pour une organisation donnée.</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code"><code class="replaceable">organization</code>::<code class="replaceable"><code class="replaceable">service_name</code></code>::*</code></span></dt>
                     <dd>
                        <p>Spécifiez tous les types de ressources pour le service spécifié au sein d'une organisation donnée.</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code"><code class="replaceable">organization</code>::<code class="replaceable"><code class="replaceable">service_name</code></code>::<code class="replaceable">resource_type</code></code></span></dt>
                     <dd>
                        <p>Spécifiez un type de ressource spécifique.</p>
                     </dd>
                  </dl></div>
               
                  <p>Par exemple :</p>
               <div class="variablelist">
                   
                   
                   
                  
               <dl>
                     <dt><span class="term"><code class="code">AWS::*</code></span></dt>
                     <dd>
                        <p>Spécifiez tous les types de AWS ressources pris en charge.</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code">AWS::<code class="replaceable">service_name</code>::*</code></span></dt>
                     <dd>
                        <p>Spécifiez toutes les ressources prises en charge pour un AWS service spécifique.</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code">AWS::<code class="replaceable">service_name</code>::<code class="replaceable">resource_type</code></code></span></dt>
                     <dd>
                        <p>Spécifiez un type de AWS ressource spécifique, tel que <code class="code">AWS::EC2::Instance</code> (toutes les instances EC2).</p>
                     </dd>
                  </dl></div>
            </dd>
          
            <dt><span class="term"><code class="code">cloudformation:ResourceTypes</code></span></dt>
            <dd>
               <p>Types de ressource du modèle, comme <code class="code">AWS::EC2::Instance</code>, que vous voulez associer à une politique. Utilisez cette condition pour contrôler les types de ressource dont les utilisateurs  peuvent se servir lorsqu'ils créent ou mettent à jour d'une pile. Cette condition est vérifiée par rapport aux types de ressources déclarés par les utilisateurs dans le <code class="code">ResourceTypes</code> paramètre, qui n'est actuellement pris en charge que pour AWS CLI les demandes d'API. Avec ce paramètre, les utilisateurs doivent spécifier tous les types de ressource qui se trouvent dans leur modèle. Pour plus d'informations sur le <code class="code">ResourceTypes</code> paramètre, consultez l'<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_CreateStack.html"><code class="code">CreateStack</code></a>action dans la <em>référence de l'AWS CloudFormation API</em>.</p>
               <p>Pour afficher la liste des types de ressources pris en charge, consultez <a href="./aws-template-resource-type-ref.html">AWS référence aux types de ressources et de propriétés</a>.</p>
               <p>Utilisez la convention de dénomination des ressources en trois parties pour spécifier les types de ressources que les utilisateurs peuvent utiliser, depuis toutes les ressources d'une organisation jusqu'à un type de ressource individuel.</p>
               <div class="variablelist">
                   
                   
                   
               <dl>
                     <dt><span class="term"><code class="code"><code class="replaceable">organization</code>::*</code></span></dt>
                     <dd>
                        <p>Spécifiez tous les types de ressources pour une organisation donnée.</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code"><code class="replaceable">organization</code>::<code class="replaceable"><code class="replaceable">service_name</code></code>::*</code></span></dt>
                     <dd>
                        <p>Spécifiez tous les types de ressources pour le service spécifié au sein d'une organisation donnée.</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code"><code class="replaceable">organization</code>::<code class="replaceable"><code class="replaceable">service_name</code></code>::<code class="replaceable">resource_type</code></code></span></dt>
                     <dd>
                        <p>Spécifiez un type de ressource spécifique.</p>
                     </dd>
                  </dl></div>
               
               <p>Par exemple :</p>          
               <div class="variablelist">            
                   
                   
                   
                   
                   
                   
                   
                  
                  
                  
               <dl>
                     <dt><span class="term"><code class="code">AWS::*</code></span></dt>
                     <dd>
                        <p>Spécifiez tous les types de AWS ressources pris en charge.</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code">AWS::<code class="replaceable">service_name</code>::*</code></span></dt>
                     <dd>
                        <p>Spécifiez toutes les ressources prises en charge pour un AWS service spécifique.</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code">AWS::<code class="replaceable">service_name</code>::<code class="replaceable">resource_type</code></code></span></dt>
                     <dd>
                        <p>Spécifiez un type de AWS ressource spécifique, tel que <code class="code">AWS::EC2::Instance</code> (toutes les instances EC2).</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code">Alexa::ASK::*</code></span></dt>
                     <dd>
                        <p>Spécifiez tous les types de ressources dans le kit de compétences Alexa.</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code">Alexa::ASK::Skill</code></span></dt>
                     <dd>
                        <p>Spécifiez le type de ressource <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ask-skill.html">Compétence</a> individuel.</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code">Custom::*</code></span></dt>
                     <dd>
                        <p>Spécifiez toutes les ressources personnalisées.</p>
                        <p>Pour plus d'informations sur les ressources personnalisées, veuillez consulter la rubrique <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-custom-resources.html">Ressources personnalisées</a>.</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code">Custom::<code class="replaceable">resource_type</code></code></span></dt>
                     <dd>
                        <p>Spécifiez un type de ressource personnalisé spécifique.</p>
                        <p>Pour plus d'informations sur les ressources personnalisées, veuillez consulter la rubrique <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-custom-resources.html">Ressources personnalisées</a>.</p>
                     </dd>
                  </dl></div>
            </dd>
          
            <dt><span class="term"><code class="code">cloudformation:RoleARN</code></span></dt>
            <dd>
               <p>Amazon Resource Name (ARN) du rôle de service IAM que vous voulez associer à une politique. Utilisez cette condition pour contrôler le rôle de service que les utilisateurs  peuvent utiliser lorsqu'ils utilisent des piles ou des jeux de modifications.</p>
            </dd>
          
            <dt><span class="term"><code class="code">cloudformation:StackPolicyUrl</code></span></dt>
            <dd>
               <p>URL de la politique de pile Amazon S3 que vous souhaitez associer à une politique. Utilisez cette condition pour contrôler les stratégies de pile que les utilisateurs  utilisateurs peuvent associer à une pile pendant la création ou la mise à jour de cette dernière. Pour plus d'informations sur les politiques de pile, consultez <a href="./protect-stack-resources.html">Empêcher les mises à jour des ressources de la pile</a>.</p>
               <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Pour vous assurer que les utilisateurs peuvent uniquement créer ou mettre à jour des piles ave les politiques de pile que vous avez chargées, définissez le compartiment S3 sur <code class="code">read only</code> pour ces utilisateurs.</p></div></div>
            </dd>
          
            <dt><span class="term"><code class="code">cloudformation:TemplateUrl</code></span></dt>
            <dd>
               <p>URL d'un modèle Amazon S3 que vous voulez associer à une politique. Utilisez cette condition pour contrôler les modèles auxquels les utilisateurs  peuvent se reporter lorsqu'ils créent ou mettent à jour des piles.</p>
               <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Pour vous assurer que les utilisateurs peuvent uniquement créer ou mettre à jour les piles avec les modèles que vous avez chargés, définissez le compartiment S3 sur <code class="code">read only</code> pour ces utilisateurs.</p></div></div>
               <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Les conditions AWS CloudFormationspécifiques suivantes s'appliquent aux paramètres d'API du même nom :</p><div class="itemizedlist">
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p><code class="code">cloudformation:ChangeSetName</code></p>
                     </li><li class="listitem">
                        <p><code class="code">cloudformation:RoleARN</code></p>
                     </li><li class="listitem">
                        <p><code class="code">cloudformation:StackPolicyUrl</code></p>
                     </li><li class="listitem">
                        <p><code class="code">cloudformation:TemplateUrl</code></p>
                     </li></ul></div><p>Par exemple, <code class="code">cloudformation:TemplateUrl</code> s'applique uniquement au paramètre <code class="code">TemplateUrl</code> pour les API <code class="code">CreateStack</code>, <code class="code">UpdateStack</code> et <code class="code">CreateChangeSet</code>.</p></div></div>
            </dd>
         </dl></div>
      <h3 id="w9aac17c19c15c10">Exemples</h3>
         
         <p>L'exemple de politique suivant permet aux utilisateurs de créer ou de mettre à jour une pile rien qu'avec l'URL de modèle <code class="code">https://s3.amazonaws.com/testbucket/test.template</code>.</p>
         <div class="example"><h6>Exemple Condition d'URL du modèle</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version":"2012-10-17",
  "Statement":[
    <span>{</span>
      "Effect" : "Allow",
      "Action" : [ "cloudformation:CreateStack", "cloudformation:UpdateStack" ],
      "Resource" : "*",
      "Condition" : <span>{</span>
        "StringEquals" : <span>{</span>
          "cloudformation:TemplateUrl" : [ "https://s3.amazonaws.com/testbucket/test.template" ]
        }
      }
    }
  ]
}</code></pre></div></div>
         <p>L'exemple de politique suivant permet aux utilisateurs d'effectuer toutes les AWS CloudFormation opérations à <em>l'exception</em> des opérations d'importation.</p>
         <div class="example"><h6>Exemple Condition de types de ressources pour l'importation</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span> 
  "Version": "2012-10-17", 
  "Statement": [ 
    <span>{</span> 
      "Sid": "AllowAllStackOperations",
      "Effect": "Allow", 
      "Action": "cloudformation:*", 
      "Resource": "*" 
    }, 
    <span>{</span> 
      "Sid": "DenyImport", 
      "Effect": "Deny", 
      "Action": "cloudformation:*", 
      "Resource": "*",
      "Condition": <span>{</span> 
        "ForAnyValue:StringLike": <span>{</span>
          "cloudformation:ImportResourceTypes": [ 
            "*" 
          ] 
        } 
      } 
    } 
  ] 
}</code></pre></div></div>
            <p>L'exemple de politique suivant autorise toutes les opérations de pile, ainsi que les opérations d'importation uniquement sur des ressources spécifiées (dans cet exemple, <code class="code">AWS::S3::Bucket</code>).</p>
            <div class="example"><h6>Exemple Condition de types de ressources pour l'importation</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span> 
  "Version": "2012-10-17", 
  "Statement": [ 
    <span>{</span> 
      "Sid": "AllowImport",
      "Effect": "Allow", 
      "Action": "cloudformation:*", 
      "Resource": "*" 
      "Condition": <span>{</span> 
        "ForAllValues:StringEqualsIgnoreCase": <span>{</span>
          "cloudformation:ImportResourceTypes": [ 
            "AWS::S3::Bucket" 
          ] 
        } 
      } 
    } 
  ] 
}</code></pre></div></div>
         <p>L'exemple de politique suivant permet aux utilisateurs de créer des piles, mais refuse les requêtes si modèle de la pile inclut des ressources provenant du service IAM. Cette politique oblige également les utilisateurs à spécifier le paramètre <code class="code">ResourceTypes</code>, qui est uniquement disponible pour les requêtes d' AWS CLI et d'API. Cette politique utilise des instructions de refus explicites de sorte qu'elle reste en vigueur si une autre politique accorde des autorisations supplémentaires (une instruction de refus explicite prévaut toujours sur une instruction d'autorisation explicite).</p>
         <div class="example"><h6>Exemple Condition de type de ressource</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version":"2012-10-17",
  "Statement":[
    <span>{</span>
      "Effect" : "Allow",
      "Action" : [ "cloudformation:CreateStack" ],
      "Resource" : "*"
    },
    <span>{</span>
      "Effect" : "Deny",
      "Action" : [ "cloudformation:CreateStack" ],
      "Resource" : "*",
      "Condition" : <span>{</span>
        "ForAnyValue:StringLikeIfExists" : <span>{</span>
          "cloudformation:ResourceTypes" : [ "AWS::IAM::*" ]
        }
      }
    },
    <span>{</span>
      "Effect": "Deny",
      "Action" : [ "cloudformation:CreateStack" ],
      "Resource": "*",
      "Condition": <span>{</span>
        "Null": <span>{</span>
          "cloudformation:ResourceTypes": "true"
        }
      }
    }
  ]
}</code></pre></div></div>
         <p>L'exemple de politique suivant est similaire à l'exemple précédent. La politique permet aux utilisateurs de créer une pile à moins que son modèle n'inclut des ressources provenant du service IAM. Les utilisateurs doivent également spécifier le <code class="code">ResourceTypes</code> paramètre, qui n'est disponible que pour AWS CLI les demandes d'API. Cette politique est plus simple, mais n'utilise pas d'instructions de refus explicites. Elle pourrait donc être supplantée par d'autres politiques, qui accorderaient des autorisations supplémentaires.</p>
         <div class="example"><h6>Exemple Condition de type de ressource</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version":"2012-10-17",
  "Statement":[
    <span>{</span>
      "Effect" : "Allow",
      "Action" : [ "cloudformation:CreateStack" ],
      "Resource" : "*",
      "Condition" : <span>{</span>
        "ForAllValues:StringNotLikeIfExists" : <span>{</span>
          "cloudformation:ResourceTypes" : [ "AWS::IAM::*" ]
        },
        "Null":<span>{</span>
          "cloudformation:ResourceTypes": "false"
        }
      }
    }
  ]
}</code></pre></div></div>
       
   <h2 id="using-iam-capabilities">Reconnaissance des ressources IAM dans les modèles AWS CloudFormation</h2>
      
      <p>Avant de créer une pile, AWS CloudFormation validez votre modèle. Lors de la validation, AWS CloudFormation
vérifie dans votre modèle les ressources IAM qu'il est susceptible de créer. Les ressources IAM, telles qu'un utilisateur disposant d'un accès complet, peuvent consulter et modifier n'importe quelle ressource de votre Compte AWS. Par conséquent, nous vous suggérons de passer en revue les autorisations associées à chaque ressource IAM avant de poursuivre. Vous éviterez ainsi de créer par erreur des ressources disposant d'autorisations que vous ne souhaitez pas accorder. Pour vous assurer que vous l'avez fait, vous devez reconnaître que le modèle contient ces ressources, en fournissant AWS CloudFormation les fonctionnalités spécifiées avant de créer la pile.</p>
      <p>Vous pouvez reconnaître les fonctionnalités des AWS CloudFormation modèles à l'aide de la AWS CloudFormation console, AWS Command Line Interface (AWS CLI) ou de l'API :</p>
      <div class="itemizedlist">
          
          
          
      <ul class="itemizedlist"><li class="listitem">
            <p>Dans la AWS CloudFormation console, sur la page de <b>révision</b> des assistants Create Stack ou Update Stack, sélectionnez <b>Je reconnais que ce modèle peut créer des ressources IAM</b>.</p>
         </li><li class="listitem">
            <p>Dans le AWS CLI, lorsque vous utilisez les <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/update-stack.html"><code class="code">aws cloudformation update-stack</code></a>commandes <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/create-stack.html"><code class="code">aws cloudformation create-stack</code></a>et, spécifiez la <code class="code">CAPABILITY_NAMED_IAM</code> valeur <code class="code">CAPABILITY_IAM</code> ou pour le <code class="code">--capabilities</code> paramètre. Si votre modèle comprend des ressources IAM, vous pouvez spécifier l'une ou l'autre de ces fonctionnalités. S'il comprend des noms personnalisés pour les ressources IAM, vous devez spécifier <code class="code">CAPABILITY_NAMED_IAM</code>.</p>
         </li><li class="listitem">
            <p>Dans l'API, lorsque vous utilisez les <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_UpdateStack.html"><code class="code">UpdateStack</code></a>actions <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_CreateStack.html"><code class="code">CreateStack</code></a>et, spécifiez <code class="code">Capabilities.member.1=CAPABILITY_IAM</code> ou<code class="code">Capabilities.member.1=CAPABILITY_NAMED_IAM</code>. Si votre modèle comprend des ressources IAM, vous pouvez spécifier l'une ou l'autre de ces fonctionnalités. S'il comprend des noms personnalisés pour les ressources IAM, vous devez spécifier <code class="code">CAPABILITY_NAMED_IAM</code>.</p>
         </li></ul></div>
      <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>Si votre modèle contient des ressources IAM dont le nom est personnalisé, ne créez pas plusieurs piles avec le même modèle. De manière générale, les ressources IAM doivent être uniques au sein de votre compte. Si vous utilisez le même modèle pour créer plusieurs piles dans différentes régions, vos piles risquent de partager les mêmes ressources IAM au lieu d'avoir chacune une ressource unique. Les ressources partagées entre les piles peuvent avoir des conséquences imprévues et irréversibles. Par exemple, si vous supprimez ou mettez à jour des ressources IAM partagées dans une pile, vous modifierez les ressources des autres piles sans le vouloir.</p></div></div>
   <h2 id="using-iam-template-manage-creds">Gestion des informations d'identification pour les applications exécutées dans des instances Amazon EC2</h2>
      
      <p>Si vous avez une application qui s'exécute sur une instance Amazon EC2 et doit envoyer des demandes à des AWS ressources telles que des compartiments Amazon S3 ou une table DynamoDB, l'application a besoin d'informations d'identification de sécurité. AWS Toutefois, la distribution et intégration d'informations d'identification de sécurité à long terme dans toutes les instances que vous lancez peuvent s'avérer compliquées et présentent un risque de sécurité potentiel. Au lieu d'avoir recours à des informations d'identification à long terme, telles que les informations d'identification des utilisateurs IAM, nous vous recommandons de créer un rôle IAM associé à une instance Amazon EC2 lorsque l'instance sera lancée. L'application pourra ensuite obtenir des informations d'identification de sécurité temporaires à partir de cette instance Amazon EC2. Vous n'avez pas à intégrer d'informations d'identification à long terme dans l'instance. En outre, pour faciliter la gestion des informations d'identification, vous pouvez spécifier un rôle unique pour plusieurs instances Amazon EC2. Autrement dit; vous n'avez pas besoin de créer des identifiants uniques pour chacune d'elles.</p>
      <p>Pour voir un extrait de modèle qui montre comment lancer une instance avec un rôle, consultez la page <a href="./quickref-iam.html#scenarios-iamroles">Exemples de modèle pour les rôles IAM</a>.</p>
      <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Les applications associées à des instances qui utilisent des informations d'identification de sécurité temporaires peuvent appeler n'importe quelle action AWS CloudFormation
. Toutefois, étant donné qu'il AWS CloudFormation interagit avec de nombreux autres AWS services, vous devez vérifier que tous les services que vous souhaitez utiliser prennent en charge les informations d'identification de sécurité temporaires. Pour plus d'informations, consultez les <a href="https://docs.aws.amazon.com/STS/latest/UsingSTS/UsingTokens.html">AWS services qui prennent en charge le AWS STS</a>.</p></div></div>
   <h2 id="using-iam-template-grant-access">Accorder un accès temporaire (accès fédéré)</h2>
      
      <p>Dans certains cas, vous souhaiterez peut-être accorder aux utilisateurs sans AWS informations d'identification un accès temporaire à votre Compte AWS. Plutôt que de créer et de supprimer des informations d'identification à long terme chaque fois que vous souhaitez accorder un accès temporaire, utilisez AWS Security Token Service (AWS STS). Par exemple, vous pouvez utiliser des rôles IAM. A partir d'un rôle IAM, vous pouvez créer, puis distribuer de nombreuses informations d'identification de sécurité temporaires par programmation (notamment une clé d'accès, une clé d'accès secrète et un jeton de sécurité). Ces informations d'identification ont une durée de vie limitée, elles ne peuvent donc pas être utilisées pour accéder à vos informations d'identification Compte AWS après leur expiration. Vous pouvez également créer plusieurs rôles IAM afin d'accorder à différents utilisateurs des niveaux d'autorisations distincts. Les rôles IAM sont utiles pour des scénarios comme les identités fédérées et l'authentification unique.</p>
      <p>Une identité fédérée est une identité distincte que vous pouvez utiliser sur plusieurs systèmes. Les utilisateurs en entreprise disposant d'un système d'identité sur site (par exemple, LDAP ou Active Directory) peuvent s'en servir pour gérer toutes les authentifications. Une fois qu'un utilisateur a été authentifié, vous fournissez des informations d'identification de sécurité temporaires à partir de l'utilisateur ou du rôle IAM approprié. Par exemple, vous pouvez créer un <code class="code">administrators</code> rôle et un <code class="code">developers</code> rôle dans lesquels les administrateurs ont un accès complet au AWS
compte et les développeurs sont autorisés à travailler uniquement avec des AWS CloudFormation piles. Dans ce cas, une fois qu'un administrateur est authentifié, il peut obtenir les informations d'identification de sécurité temporaires à partir du rôle <code class="code">administrators</code>. Cependant, les développeurs ne peuvent obtenir des informations d'identification de sécurité temporaires qu'¡a partir du rôle <code class="code">developers</code>.</p>
      <p>Vous pouvez également accorder aux utilisateurs fédérés l'accès au AWS Management Console. Une fois que les utilisateurs s'authentifient via votre système d'identité sur site, vous pouvez créer une URL temporaire par programmation afin de leur permettre d'accéder directement à AWS Management Console. Lorsque les utilisateurs utilisent l'URL temporaire, ils n'ont pas besoin de se connecter AWS car ils ont déjà été authentifiés (authentification unique). En outre, comme l'URL repose sur les informations d'identification de sécurité temporaires des utilisateurs, les autorisations associées déterminent les actions qu'ils peuvent effectuer dans AWS Management Console.</p>
      <p>Vous pouvez utiliser plusieurs AWS STS API différentes pour générer des informations d'identification de sécurité temporaires. Pour savoir quelle API utiliser, consultez <a href="https://docs.aws.amazon.com/STS/latest/UsingSTS/Welcome.html#AccessingSTS">Méthodes d'obtention des informations de sécurité temporaires</a> dans le <em>Using Temporary Security Credentials</em>.</p>
      <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>Vous ne pouvez pas utiliser IAM avec les informations d'identification de sécurité temporaires qui ont été générées à partir de l'API <code class="code">GetFederationToken</code>. Si vous avez besoin de travailler avec IAM, utilisez plutôt les informations d'identification de sécurité temporaires d'un rôle.</p></div></div>
      <p>AWS CloudFormation interagit avec de nombreux autres AWS services. Lorsque vous utilisez des informations d'identification de sécurité temporaires avec AWS CloudFormation, vérifiez que tous les services que vous souhaitez utiliser prennent en charge les informations d'identification de sécurité temporaires. Pour plus d'informations, consultez les <a href="https://docs.aws.amazon.com/STS/latest/UsingSTS/UsingTokens.html">AWS services qui prennent en charge le AWS STS</a>.</p>
      <p>Pour plus d'informations, consultez les ressources connexes suivantes dans le <em>Using Temporary Security Credentials</em> :</p>
      <div class="itemizedlist">
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p><a href="https://docs.aws.amazon.com/STS/latest/UsingSTS/STSUseCases.html">Scénarios d'autorisation d'un accès temporaire</a></p>
            </li><li class="listitem">
               <p><a href="https://docs.aws.amazon.com/STS/latest/UsingSTS/STSMgmtConsole.html">Donner aux utilisateurs fédérés un accès direct au AWS Management Console</a></p>
            </li></ul></div>
   <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avertissement" /> <strong>JavaScript est désactivé ou n'est pas disponible dans votre navigateur.</strong></p><p>Pour que vous puissiez utiliser la documentation AWS, Javascript doit être activé. Vous trouverez des instructions sur les pages d'aide de votre navigateur.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Conventions de rédaction</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./security-data-protection.html">Protection des données</div><div id="next" class="next-link" accesskey="n" href="./using-iam-servicerole.html">AWS CloudFormation rôle de service</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Oui</div><div class="content"><p>Merci de nous avoir fait part de votre satisfaction.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer ce qui vous a plu afin que nous puissions nous améliorer davantage.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-iam-template.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Non</div><div class="content"><p>Merci de nous avoir avertis que cette page avait besoin d'être retravaillée. Nous sommes désolés de ne pas avoir répondu à vos attentes.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer comment nous pourrions améliorer cette documentation.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-iam-template.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>