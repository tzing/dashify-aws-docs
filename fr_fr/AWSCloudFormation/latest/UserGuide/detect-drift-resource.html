<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="fr-FR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Détecter l'écart sur des ressources de pile individuelles - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="detect-drift-resource" /><meta name="default_state" content="detect-drift-resource" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/detect-drift-resource.html" /><meta name="description" content="Vous pouvez détecter l'écart sur des ressources spécifiques au sein d'une pile, plutôt que sur la pile complète. Cela est particulièrement utile lorsque vous avez uniquement besoin de déterminer si des ressources spécifiques correspondent à nouveau à leurs configurations de modèle prévues." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Guide de l'utilisateur" /><meta name="abstract" content="Créez et gérez des déploiements AWS d'infrastructure de manière prévisible et répétée à l'aide de ce AWS CloudFormation guide de l'utilisateur." /><meta name="guide-locale" content="fr_fr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/detect-drift-resource.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/detect-drift-resource.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/detect-drift-resource.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/detect-drift-resource.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/detect-drift-resource.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/detect-drift-resource.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/detect-drift-resource.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/detect-drift-resource.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/detect-drift-resource.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/detect-drift-resource.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/detect-drift-resource.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/detect-drift-resource.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/detect-drift-resource.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/detect-drift-resource.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/detect-drift-resource.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/detect-drift-resource.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/detect-drift-resource.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/detect-drift-resource.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/detect-drift-resource.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/detect-drift-resource.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/detect-drift-resource.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/detect-drift-resource.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Guide de l'utilisateur" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Guide de l'utilisateur" /><meta id="panorama-serviceConsolePage" value="Détecter l'écart sur des ressources de pile individuelles" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Détecter l'écart sur des ressources de pile individuelles - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/detect-drift-resource.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/detect-drift-resource.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/detect-drift-resource.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,provisionnement des ressources,configuration des ressources,gestion de l'infrastructure,CloudFormer,CloudFormation pile,CloudFormation stackset,CloudFormation modèle,jeu de modifications" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guide de l'utilisateur",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Utilisation des piles",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/stacks.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Détection de modifications non gérées de la configuration des piles et des ressources",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Détecter l'écart sur des ressources de pile individuelles",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Guide de l'utilisateur</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Les traductions sont fournies par des outils de traduction automatique. En cas de conflit entre le contenu d'une traduction et celui de la version originale en anglais, la version anglaise prévaudra.</p></awsui-alert><h1 class="topictitle" id="detect-drift-resource">Détecter l'écart sur des ressources de pile individuelles</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Vous pouvez détecter l'écart sur des ressources spécifiques au sein d'une pile, plutôt que sur la pile complète. Cela est particulièrement utile lorsque vous avez uniquement besoin de déterminer si des ressources spécifiques correspondent à nouveau à leurs configurations de modèle prévues.</p><p>Lorsque vous effectuez une détection de dérive sur une ressource, met  CloudFormation  également à jour l'état général de dérive de la pile et l'<b>heure du dernier contrôle de dérive</b>, le cas échéant. Par exemple, supposons qu'une pile a le statut d'écart <b>IN_SYNC</b>. Vous devez  CloudFormation  effectuer une détection de dérive sur une ou plusieurs ressources contenues dans cette pile et  CloudFormation  détecter qu'une ou plusieurs de ces ressources ont dérivé.  CloudFormation met à jour le statut de dérive de la pile sur <b>DRIFTED</b>. Inversement, supposons que vous ayez une pile avec un statut d'écart <b>DRIFTED</b> en raison d'une ressource dérivée unique. Si vous redéfinissez les valeurs de propriété attendues pour cette ressource, puis que vous détectez à nouveau une dérive sur la ressource, le statut de dérive de la ressource et le statut de dérive de la pile  CloudFormation  seront mis à jour sur <b>IN_SYNC</b> sans que vous ayez à détecter à nouveau la dérive sur l'ensemble de la pile.</p><div class="procedure"><h6>Pour détecter la dérive d'une ressource individuelle à l'aide du AWS Management Console</h6><ol><li><p>Ouvrez la AWS CloudFormation console à l'<a href="https://console.aws.amazon.com/cloudformation/" rel="noopener noreferrer" target="_blank"><span>adresse https://console.aws.amazon.com/cloudformation</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
                <p>Dans la liste des piles, sélectionnez la pile qui contient la ressource.  CloudFormation affiche les détails de la pile pour cette pile.</p>
            </li><li>
                <p>Dans le volet de navigation de gauche, sous <b>Piles</b>, choisissez <b>Actions de pile</b>, puis <b>Détecter l'écart</b>.</p>
            </li><li>
                <p>Sous <b>Statut de l'écart de ressource</b>, choisissez la ressource, puis sélectionnez <b>Détecter l'écart pour une ressource</b>.</p>
                

                <p>CloudFormation effectue une détection de dérive sur la ressource sélectionnée. En cas de succès,  CloudFormation  met à jour l'état de dérive de la ressource et l'état de dérive global de la pile, si nécessaire.  CloudFormation met également à jour l'horodatage indiquant la date à laquelle la détection de dérive a été effectuée pour la dernière fois sur la ressource et sur la pile dans son ensemble. Si la ressource a été modifiée,  CloudFormation  affiche des informations de dérive détaillées sur les valeurs de propriété attendues et actuelles de la ressource.</p>
            </li><li>
                <p>Passez en revue les résultats de détection de l'écart pour la ressource.</p>
                <ol><li>
                        <p>Pour afficher les détails sur une ressource modifiée.</p>
                        <ol><li>
                                <p>La ressource modifiée étant sélectionnée, sélectionnez <b>View drift details (Afficher les détails de l'écart)</b>.</p>
                                <p>CloudFormation affiche les détails de la dérive pour cette ressource, y compris les valeurs de propriété attendues et actuelles de la ressource, ainsi que les différences entre les deux.</p>
                                <p>Pour mettre en évidence une différence, sélectionnez le nom de la propriété dans la section <b>Différences</b>.</p>
                                <div class="itemizedlist">
                                     
                                     
                                     
                                <ul class="itemizedlist"><li class="listitem">
                                        <p>Les propriétés ajoutées sont surlignées en vert dans la colonne <b>Actuels</b> de la section <b>Détails</b>.</p>
                                    </li><li class="listitem">
                                        <p>Les propriétés supprimées sont surlignées en rouge dans la colonne <b>Expected (Prévus)</b> de la section <b>Détails</b>.</p>
                                    </li><li class="listitem">
                                        <p>Les propriétés dont les valeurs ont été modifiées sont surlignées en jaune dans les deux colonnes <b>Expected</b> et <b>Actuels</b>.</p>
                                    </li></ul></div>
                            </li></ol>
                    </li></ol>
                <div class="mediaobject">
                     
                        <img src="images/console-stacks-drifts-drift-details-differences-1.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;                        La section Statut de l'écart de ressource de la page Détails de l'écart contient les informations d'écart de chaque ressource de la pile qui prend en charge la détection de l'écart. Ces détails incluent le statut de l'écart et les valeurs de propriété prévues et actuelles.&#xA;                    " style="max-width:100%" />
                     
                     
                </div>
            </li></ol></div><div class="procedure"><h6>Pour détecter la dérive d'une ressource individuelle à l'aide du AWS CLI</h6><ul><li>
                <p>Pour détecter une dérive sur une ressource individuelle à l'aide de AWS CLI, utilisez la <code class="code">aws
                        cloudformation detect-stack-resource-drift</code> commande. Spécifiez l'ID logique de la ressource et la pile dans laquelle elle se trouve.</p>
                <p>L'exemple suivant exécute une opération de détection de dérive sur des ressources de pile spécifiques, <em>my-drifted-resource</em>. La réponse renvoie des informations qui confirment que la ressource a été modifiée, y compris des détails sur deux de ses propriétés dont les valeurs ont été modifiées.</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="prompt" copy="false">$ </code><code class="userinput">aws cloudformation detect-stack-resource-drift -\
    -stack-name <code class="replaceable">my-stack-with-resource-drift</code> \
    --logical-resource-id <code class="replaceable">my-drifted-resource</code></code>
<code class="computeroutput" copy="false"><span>{</span>
    "StackResourceDrift": <span>{</span>
        "StackId": "arn:aws:cloudformation:us-east-1:099908667365:stack/my-stack-with-resource-drift/489e5570-df85-11e7-a7d9-50example", 
        "ActualProperties": "<span>{</span>\"ReceiveMessageWaitTimeSeconds\":0,\"DelaySeconds\":120,\"RedrivePolicy\":<span>{</span>\"deadLetterTargetArn\":\"arn:aws:sqs:us-east-1:099908667365:my-stack-with-resource-drift-DLQ-1BCY7HHD5QIM3\",\"maxReceiveCount\":12},\"MessageRetentionPeriod\":345600,\"MaximumMessageSize\":262144,\"VisibilityTimeout\":60,\"QueueName\":\"my-stack-with-resource-drift-Queue-494PBHCO76H4\"}", 
        "ResourceType": "AWS::SQS::Queue", 
        "Timestamp": "2018-03-26T18:54:28.462Z", 
        "PhysicalResourceId": "https://sqs.us-east-1.amazonaws.com/099908667365/my-stack-with-resource-drift-Queue-494PBHCO76H4", 
        "StackResourceDriftStatus": "MODIFIED", 
        "ExpectedProperties": "<span>{</span>\"ReceiveMessageWaitTimeSeconds\":0,\"DelaySeconds\":20,\"RedrivePolicy\":<span>{</span>\"deadLetterTargetArn\":\"arn:aws:sqs:us-east-1:099908667365:my-stack-with-resource-drift-DLQ-1BCY7HHD5QIM3\",\"maxReceiveCount\":10},\"MessageRetentionPeriod\":345600,\"MaximumMessageSize\":262144,\"VisibilityTimeout\":60,\"QueueName\":\"my-stack-with-resource-drift-Queue-494PBHCO76H4\"}", 
        "PropertyDifferences": [
            <span>{</span>
                "PropertyPath": "/DelaySeconds", 
                "ActualValue": "120", 
                "ExpectedValue": "20", 
                "DifferenceType": "NOT_EQUAL"
            }, 
            <span>{</span>
                "PropertyPath": "/RedrivePolicy/maxReceiveCount", 
                "ActualValue": "12", 
                "ExpectedValue": "10", 
                "DifferenceType": "NOT_EQUAL"
            }
        ], 
        "LogicalResourceId": "my-drifted-resource"
    }
}</code></code></pre>
            </li></ul></div><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avertissement" /> <strong>JavaScript est désactivé ou n'est pas disponible dans votre navigateur.</strong></p><p>Pour que vous puissiez utiliser la documentation AWS, Javascript doit être activé. Vous trouverez des instructions sur les pages d'aide de votre navigateur.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Conventions de rédaction</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./detect-drift-stack.html">Détectez la dérive sur l'ensemble d'une  CloudFormation  pile</div><div id="next" class="next-link" accesskey="n" href="./resource-import-resolve-drift.html">Résoudre l'écart avec une opération d'importation</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Oui</div><div class="content"><p>Merci de nous avoir fait part de votre satisfaction.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer ce qui vous a plu afin que nous puissions nous améliorer davantage.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/detect-drift-resource.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Non</div><div class="content"><p>Merci de nous avoir avertis que cette page avait besoin d'être retravaillée. Nous sommes désolés de ne pas avoir répondu à vos attentes.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer comment nous pourrions améliorer cette documentation.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/detect-drift-resource.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>