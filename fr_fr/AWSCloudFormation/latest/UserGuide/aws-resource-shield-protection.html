<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>AWS::Shield::Protection - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="aws-resource-shield-protection" /><meta name="default_state" content="aws-resource-shield-protection" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-shield-protection.html" /><meta name="description" content="Use this protection to protect a single resource at a time." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Create and manage AWS infrastructure deployments predictably and repeatedly using AWS CloudFormation with this User Guide." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json;toc-AWS_Shield.json" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-shield-protection.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-shield-protection.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-shield-protection.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-shield-protection.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-shield-protection.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-shield-protection.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-shield-protection.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-resource-shield-protection.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-resource-shield-protection.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-resource-shield-protection.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-resource-shield-protection.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-resource-shield-protection.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-resource-shield-protection.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-resource-shield-protection.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-resource-shield-protection.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-shield-protection.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-shield-protection.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-resource-shield-protection.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-resource-shield-protection.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/aws-resource-shield-protection.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/aws-resource-shield-protection.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-shield-protection.html" hreflang="x-default" /><meta name="feedback-item" content="AWS WAF" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="AWS::Shield::Protection" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>AWS::Shield::Protection - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=AWS%20WAF&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-shield-protection.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-shield-protection.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-shield-protection.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "AWS Shield resource type reference",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/AWS_Shield.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "AWS::Shield::Protection",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/AWS_Shield.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="AWS_Shield.html">User Guide</a></div><div id="page-toc-src"><a href="#aws-resource-shield-protection-syntax">Syntax</a><a href="#aws-resource-shield-protection-properties">Properties</a><a href="#aws-resource-shield-protection-return-values">Return values</a><a href="#aws-resource-shield-protection--examples">Examples</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="aws-resource-shield-protection">AWS::Shield::Protection</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Enables AWS Shield Advanced for a specific AWS resource. The resource can be an Amazon CloudFront distribution, Amazon RouteÂ 53 hosted zone, AWS Global Accelerator standard accelerator, Elastic IP Address, Application Load Balancer, or a Classic Load Balancer. You can protect Amazon EC2 instances and Network Load Balancers by association with protected Amazon EC2 Elastic IP addresses. </p><p><b>Configure a single <code class="code">AWS::Shield::Protection</code></b> </p><p>Use this protection to protect a single resource at a time. </p><p>To configure this Shield Advanced protection through AWS CloudFormation, you must be subscribed to Shield Advanced. You can subscribe 
         through the <a href="https://console.aws.amazon.com/wafv2/shieldv2#/" rel="noopener noreferrer" target="_blank"><span>Shield Advanced console</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> and through 
             the APIs. For more information, see
          <a href="https://docs.aws.amazon.com/waf/latest/developerguide/enable-ddos-prem.html">Subscribe to AWS Shield Advanced</a>. </p><p>See example templates for Shield Advanced in AWS CloudFormation at <a href="https://github.com/aws-samples/aws-shield-advanced-examples" rel="noopener noreferrer" target="_blank"><span>aws-samples/aws-shield-advanced-examples</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. </p><p><b>Configure Shield Advanced using AWS CloudFormation and AWS Firewall Manager</b> </p><p>You might be able to use Firewall Manager with AWS CloudFormation to configure Shield Advanced across multiple accounts and protected resources. To do this, your accounts must be part of an organization in AWS Organizations. You can use Firewall Manager to configure Shield Advanced protections for any resource types except for Amazon RouteÂ 53 or AWS Global Accelerator. </p><p>For an example of this, see the one-click configuration guidance published by the AWS technical community at 
            <a href="https://youtu.be/LCA3FwMk_QE" rel="noopener noreferrer" target="_blank"><span>One-click deployment of Shield Advanced</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. </p><p><b>Configure multiple protections through the Shield Advanced console</b> </p><p>You can add protection to multiple resources at once through the <a href="https://console.aws.amazon.com/wafv2/shieldv2#/" rel="noopener noreferrer" target="_blank"><span>Shield Advanced console</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.
              For more information see
          <a href="https://docs.aws.amazon.com/waf/latest/developerguide/getting-started-ddos.html">Getting Started with AWS Shield Advanced</a>
          and <a href="https://docs.aws.amazon.com/waf/latest/developerguide/ddos-manage-protected-resources.html">Managing resource protections in AWS Shield Advanced</a>.</p><h2 id="aws-resource-shield-protection-syntax">Syntax</h2><p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p><div id="JSON" name="JSON" class="section langfilter"><h3 id="aws-resource-shield-protection-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Type" : "AWS::Shield::Protection",
  "Properties" : <span>{</span>
      "<a href="#cfn-shield-protection-applicationlayerautomaticresponseconfiguration">ApplicationLayerAutomaticResponseConfiguration</a>" : <code class="replaceable"><a href="./aws-properties-shield-protection-applicationlayerautomaticresponseconfiguration.html">ApplicationLayerAutomaticResponseConfiguration</a></code>,
      "<a href="#cfn-shield-protection-healthcheckarns">HealthCheckArns</a>" : <code class="replaceable">[ String, ... ]</code>,
      "<a href="#cfn-shield-protection-name">Name</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-shield-protection-resourcearn">ResourceArn</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-shield-protection-tags">Tags</a>" : <code class="replaceable">[ <a href="./aws-properties-shield-protection-tag.html">Tag</a>, ... ]</code>
    }
}
</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h3 id="aws-resource-shield-protection-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Type: AWS::Shield::Protection
Properties:
  <a href="#cfn-shield-protection-applicationlayerautomaticresponseconfiguration">ApplicationLayerAutomaticResponseConfiguration</a>: <code class="replaceable">
    <a href="./aws-properties-shield-protection-applicationlayerautomaticresponseconfiguration.html">ApplicationLayerAutomaticResponseConfiguration</a></code>
  <a href="#cfn-shield-protection-healthcheckarns">HealthCheckArns</a>: <code class="replaceable">
    - String</code>
  <a href="#cfn-shield-protection-name">Name</a>: <code class="replaceable">String</code>
  <a href="#cfn-shield-protection-resourcearn">ResourceArn</a>: <code class="replaceable">String</code>
  <a href="#cfn-shield-protection-tags">Tags</a>: <code class="replaceable">
    - <a href="./aws-properties-shield-protection-tag.html">Tag</a></code>
</code></pre></div><h2 id="aws-resource-shield-protection-properties">Properties</h2><div class="variablelist"><dl><dt id="cfn-shield-protection-applicationlayerautomaticresponseconfiguration"><span class="term"><code class="code">ApplicationLayerAutomaticResponseConfiguration</code></span></dt><dd>
         <p>The automatic application layer DDoS mitigation settings for the protection.
         This configuration determines whether Shield Advanced automatically
       manages rules in the web ACL in order to respond to application layer events that Shield Advanced determines to be DDoS attacks. </p>
   <p>If you use AWS CloudFormation to manage the web ACLs that you use with Shield Advanced automatic mitigation, see the additional guidance 
       about web ACL management in the <code class="code">AWS::WAFv2::WebACL</code> resource description. </p>
      <p><em>Required</em>: No</p><p><em>Type</em>: <a href="./aws-properties-shield-protection-applicationlayerautomaticresponseconfiguration.html">ApplicationLayerAutomaticResponseConfiguration</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-shield-protection-healthcheckarns"><span class="term"><code class="code">HealthCheckArns</code></span></dt><dd>
     <p>The ARN (Amazon Resource Name) of the health check to associate with the protection. Health-based detection provides improved responsiveness and accuracy in attack detection and mitigation. </p>
     <p>You can use this option with any resource type except for RouteÂ 53 hosted zones.</p>
     <p>For more information, see <a href="https://docs.aws.amazon.com/waf/latest/developerguide/ddos-advanced-health-checks.html">Configuring health-based detection using health checks</a> in the <em>AWS Shield Advanced Developer Guide</em>.</p>
 <p><em>Required</em>: No</p><p><em>Type</em>: Array of String</p><p><em>Minimum</em>: <code class="code">1</code></p><p><em>Maximum</em>: <code class="code">2048 | 1</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-shield-protection-name"><span class="term"><code class="code">Name</code></span></dt><dd>
         <p>The name of the protection. For example, <code class="code">My CloudFront distributions</code>.</p>
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>If you change the name of an existing protection, Shield Advanced deletes the 
             protection and replaces it with a new one. While this is happening, the protection isn't available on the AWS resource. </p></div></div>
      <p><em>Required</em>: Yes</p><p><em>Type</em>: String</p><p><em>Pattern</em>: <code class="code">[ a-zA-Z0-9_\.\-]*</code></p><p><em>Minimum</em>: <code class="code">1</code></p><p><em>Maximum</em>: <code class="code">128</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-shield-protection-resourcearn"><span class="term"><code class="code">ResourceArn</code></span></dt><dd>
         <p>The ARN (Amazon Resource Name) of the AWS resource that is protected.</p>
      <p><em>Required</em>: Yes</p><p><em>Type</em>: String</p><p><em>Minimum</em>: <code class="code">1</code></p><p><em>Maximum</em>: <code class="code">2048</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-shield-protection-tags"><span class="term"><code class="code">Tags</code></span></dt><dd>
      <p>Key:value pairs associated with an AWS resource. The key:value pair can be anything you define. Typically, the tag key represents a category (such as "environment") and the tag value represents a specific value within that category (such as "test," "development," or "production"). You can add up to 50 tags to each AWS resource.</p>
  <p><em>Required</em>: No</p><p><em>Type</em>: Array of <a href="./aws-properties-shield-protection-tag.html">Tag</a></p><p><em>Maximum</em>: <code class="code">200</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd></dl></div><h2 id="aws-resource-shield-protection-return-values">Return values</h2><h3 id="aws-resource-shield-protection-return-values-ref">Ref</h3><p>When you pass the logical ID of this resource to the intrinsic <code class="code">Ref</code> function, <code class="code">Ref</code> returns the ARN (Amazon Resource Name) of the protection. </p><p>For more information about using the <code class="code">Ref</code> function, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-ref.html"><code class="code">Ref</code></a>.</p><h3 id="aws-resource-shield-protection-return-values-fn--getatt">Fn::GetAtt</h3><p>The <code class="code">Fn::GetAtt</code> intrinsic function returns a value for a specified attribute of this type. The following are the available attributes and sample return values.</p>
<p>For more information about using the <code class="code">Fn::GetAtt</code> intrinsic function, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-getatt.html"><code class="code">Fn::GetAtt</code></a>.</p><h4 id="aws-resource-shield-protection-return-values-fn--getatt-fn--getatt"></h4><div class="variablelist"><dl><dt id="ProtectionArn-fn::getatt"><span class="term"><code class="code">ProtectionArn</code></span></dt><dd>
     <p>The ARN (Amazon Resource Name) of the new protection. </p>   
 </dd><dt id="ProtectionId-fn::getatt"><span class="term"><code class="code">ProtectionId</code></span></dt><dd>
     <p>The ID of the new protection. </p> 
 </dd></dl></div><h2 id="aws-resource-shield-protection--examples">Examples</h2><p></p><div class="highlights" id="inline-topiclist"><h6> </h6><ul><li><a href="#aws-resource-shield-protection--examples--Create_a_network_layer_protection">Create a network layer protection</a></li><li><a href="#aws-resource-shield-protection--examples--Create_an_application_layer_protection">Create an application layer protection</a></li></ul></div><h3 id="aws-resource-shield-protection--examples--Create_a_network_layer_protection">Create a network layer protection</h3><p>The following shows an example protection configuration for an Amazon EC2 Elastic IP address. </p><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-resource-shield-protection--examples--Create_a_network_layer_protection--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources:
  EIP:
    Type: AWS::EC2::EIP
  Protection:
    Type: AWS::Shield::Protection
    Properties:
      Name: 'MyEIPProtection'
            ResourceArn: !Sub 'arn:$<span>{</span>AWS::Partition}:ec2:$<span>{</span>AWS::Region}:$<span>{</span>AWS::AccountId}:eip-allocation/$<span>{</span>EIP.AllocationId}' </code></pre></div><div id="JSON" name="JSON" class="section langfilter"><h4 id="aws-resource-shield-protection--examples--Create_a_network_layer_protection--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Resources": <span>{</span>
        "EIP": <span>{</span>
            "Type": "AWS::EC2::EIP"
        },
        "Protection": <span>{</span>
            "Type": "AWS::Shield::Protection",
            "Properties": <span>{</span>
                "Name": "MyEIPProtection",
                "ResourceArn": <span>{</span>
                    "Fn::Sub": "arn:$<span>{</span>AWS::Partition}:ec2:$<span>{</span>AWS::Region}:$<span>{</span>AWS::AccountId}:eip-allocation/$<span>{</span>EIP.AllocationId}"
                }
            }
        }
    }
} </code></pre></div><h3 id="aws-resource-shield-protection--examples--Create_an_application_layer_protection">Create an application layer protection</h3><p>The following shows an example layer 7 protection configuration for an application load balancer. The protection includes a health check and has application layer automatic response enabled. The load balancer must be associated with an AWS WAF web ACL that has a rate-based rule defined in it. </p><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-resource-shield-protection--examples--Create_an_application_layer_protection--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources:
  # Create L7 Protection
  Protection:
    Type: AWS::Shield::Protection
    DependsOn:
    - WebACLAssociation
    Properties:
      Name: 'MyL7Protection'
      ResourceArn: !Ref ALB
      HealthCheckArns:
        - !Sub 'arn:$<span>{</span>AWS::Partition}:route53:::healthcheck/$<span>{</span>HealthCheck}'
      ApplicationLayerAutomaticResponseConfiguration:
        Status: ENABLED
        Action:
          Block: <span>{</span> } </code></pre></div><div id="JSON" name="JSON" class="section langfilter"><h4 id="aws-resource-shield-protection--examples--Create_an_application_layer_protection--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Resources": <span>{</span>
        "Protection": <span>{</span>
            "Type": "AWS::Shield::Protection",
            "DependsOn": [
                "WebACLAssociation"
            ],
            "Properties": <span>{</span>
                "Name": "MyL7Protection",
                "ResourceArn": <span>{</span>
                    "Ref": "ALB"
                },
                "HealthCheckArns": [
                    <span>{</span>
                        "Fn::Sub": "arn:$<span>{</span>AWS::Partition}:route53:::healthcheck/$<span>{</span>HealthCheck}"
                    }
                ],
                "ApplicationLayerAutomaticResponseConfiguration": <span>{</span>
                    "Status": "ENABLED",
                    "Action": <span>{</span>
                        "Block": <span>{</span>}
                    }
                }
            }
        }
    }
} </code></pre></div><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./aws-properties-shield-proactiveengagement-emergencycontact.html">EmergencyContact</div><div id="next" class="next-link" accesskey="n" href="./aws-properties-shield-protection-action.html">Action</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=AWS WAF&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-shield-protection.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=AWS WAF&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-shield-protection.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>