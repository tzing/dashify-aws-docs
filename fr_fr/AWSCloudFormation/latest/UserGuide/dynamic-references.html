<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="fr-FR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Utilisation de références dynamiques pour spécifier les valeurs de modèle - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="dynamic-references" /><meta name="default_state" content="dynamic-references" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/dynamic-references.html" /><meta name="description" content="Les références dynamiques vous permettent de spécifier de façon concise et efficace des valeurs externes stockées et gérées dans d'autres services, dans vos modèles de pile." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Guide de l'utilisateur" /><meta name="abstract" content="Créez et gérez des déploiements AWS d'infrastructure de manière prévisible et répétée à l'aide de ce AWS CloudFormation guide de l'utilisateur." /><meta name="guide-locale" content="fr_fr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/dynamic-references.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/dynamic-references.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/dynamic-references.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/dynamic-references.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/dynamic-references.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/dynamic-references.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/dynamic-references.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/dynamic-references.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/dynamic-references.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/dynamic-references.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/dynamic-references.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/dynamic-references.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/dynamic-references.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/dynamic-references.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/dynamic-references.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/dynamic-references.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/dynamic-references.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/dynamic-references.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/dynamic-references.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/dynamic-references.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/dynamic-references.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/dynamic-references.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Guide de l'utilisateur" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Guide de l'utilisateur" /><meta id="panorama-serviceConsolePage" value="Utilisation de références dynamiques pour spécifier les valeurs de modèle" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Utilisation de références dynamiques pour spécifier les valeurs de modèle - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/dynamic-references.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/dynamic-references.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/dynamic-references.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,provisionnement des ressources,configuration des ressources,gestion de l'infrastructure,CloudFormer,CloudFormation pile,CloudFormation stackset,CloudFormation modèle,jeu de modifications" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guide de l'utilisateur",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Utilisation des modèles AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/template-guide.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Anatomie du modèle",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/template-anatomy.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Paramètres",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/parameters-section-structure.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Utilisation de références dynamiques pour spécifier les valeurs de modèle",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/parameters-section-structure.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Guide de l'utilisateur</a></div><div id="page-toc-src"><a href="#dynamic-references-considerations">Considérations à prendre en compte lors de l'utilisation de références dynamiques</a><a href="#dynamic-references-pattern">Spécification de références dynamiques dans les modèles de pile</a><a href="#dynamic-references-ssm">Paramètres SSM</a><a href="#dynamic-references-ssm-secure-strings">Paramètres de chaîne sécurisée SSM</a><a href="#dynamic-references-secretsmanager">Secrets de Secrets Manager</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Les traductions sont fournies par des outils de traduction automatique. En cas de conflit entre le contenu d'une traduction et celui de la version originale en anglais, la version anglaise prévaudra.</p></awsui-alert><h1 class="topictitle" id="dynamic-references">Utilisation de références dynamiques pour spécifier les valeurs de modèle</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Les <em>références dynamiques</em> vous permettent de spécifier de façon concise et efficace des valeurs externes stockées et gérées dans d'autres services, tels que Systems Manager Parameter Store et AWS Secrets Manager, dans vos modèles de pile. Lorsque vous utilisez une référence dynamique, CloudFormation récupère la valeur de la référence spécifiée lorsque cela est nécessaire au cours d'opérations de pile et de jeu de modifications.</p><p>CloudFormation prend actuellement en charge les modèles de références dynamiques suivants :</p><div class="itemizedlist">
         
         
         
    <ul class="itemizedlist"><li class="listitem">
            <p><a href="#dynamic-references-ssm">ssm</a>, pour les valeurs en texte brut stockées dans AWS Systems Manager Parameter Store.</p>
        </li><li class="listitem">
            <p><a href="#dynamic-references-ssm-secure-strings">ssm-secure</a>, pour les chaînes sécurisée stockées dans AWS Systems Manager Parameter Store.</p>
        </li><li class="listitem">
            <p><a href="#dynamic-references-secretsmanager">secretsmanager</a>, pour des secrets complets ou des valeurs de secret stockés dans AWS Secrets Manager.</p>
        </li></ul></div>
        <h2 id="dynamic-references-considerations">Considérations à prendre en compte lors de l'utilisation de références dynamiques</h2>
        <p>Vous trouverez ci-dessous les points à prendre en compte lors de l'utilisation de références dynamiques :</p>
        <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>Nous vous déconseillons vivement d'inclure des références dynamiques, ou toute donnée sensible, dans les propriétés des ressources qui font partie de l'identifiant principal d'une ressource.</p><p>Lorsqu'un paramètre de référence dynamique est inclus dans une propriété qui constitue un identifiant de ressource principal, CloudFormation peut utiliser la <em>valeur en texte brut réelle</em> dans l'identifiant de ressource principal. Cet ID de ressource peut apparaître dans toutes les sorties ou destinations dérivées.</p><p>Pour déterminer les propriétés de ressource qui comprennent l'identifiant principal d'un type de ressource, veuillez consulter la <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html">documentation de référence de la ressource</a> pour cette ressource. Dans la section <b>Valeurs renvoyées</b>, la valeur de retour de la fonction <code class="code">Ref</code> représente les propriétés de la ressource qui constituent l'identifiant principal du type de ressource.</p></div></div>
        <div class="itemizedlist">
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>Vous pouvez inclure jusqu'à 60 références dynamiques dans un modèle de pile.</p>
            </li><li class="listitem">
                <p>Pour les transformations, telles que <code class="code">AWS::Include</code> et <code class="code">AWS::Serverless</code>, AWS CloudFormation ne résout pas les références dynamiques avant d'invoquer des transformations. En fait, AWS CloudFormation transmet la chaîne littérale de la référence dynamique à la transformation. Les références dynamiques (y compris celles insérées dans le modèle traité comme résultat d'une transformation) sont résolues lorsque vous exécutez le jeu de modifications à l'aide du modèle.</p>
            </li><li class="listitem">
                <p>Les références dynamiques pour des valeurs sécurisées, telles que <code class="code">ssm-secure</code> et <code class="code">secretsmanager</code>, ne sont actuellement pas prises en charge dans les <a href="./template-custom-resources.html">ressources personnalisées</a>.</p>
            </li></ul></div> <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Ne créez pas une référence dynamique qui comporte une barre oblique inverse (\) comme valeur finale. AWS CloudFormation ne peut pas résoudre ces références, ce qui se traduit par une défaillance de la ressource.</p></div></div>  
        <h2 id="dynamic-references-pattern">Spécification de références dynamiques dans les modèles de pile</h2>
        <p>Les références dynamiques respectent le modèle suivant :</p>
        <p><code class="code">'<span>{</span><span>{</span>resolve:<code class="replaceable">service-name</code>:<code class="replaceable">reference-key</code>}}'</code> ou <code class="code">'<span>{</span><span>{</span>resolve:ssm:[a-zA-Z0-9_.\-/]+(:\d+)?}}'</code>.</p>
        <div class="variablelist">
             
             
        <dl>
                <dt><span class="term"><b>service-name</b></span></dt>
                <dd>
                    <p>Spécifie le service dans lequel la valeur est stockée et gérée.</p>
                    <p>Obligatoire.</p>
                    <p>Actuellement, les valeurs valides incluent :</p>
                    <div class="itemizedlist">
                         
                         
                         
                    <ul class="itemizedlist"><li class="listitem">
                            <p><code class="code">ssm</code> : paramètre en texte brut Systems Manager Parameter Store.</p>
                        </li><li class="listitem">
                            <p><code class="code">ssm-secure</code> : paramètre de chaîne sécurisée Systems Manager Parameter Store.</p>
                            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Actuellement, les paramètres de chaîne sécurisée ne sont pas pris en charge par Systems Manager dans les régions <code class="code">cn-north-1</code> et <code class="code">cn-northwest-1</code>.</p></div></div>
                            <p>Pour plus d'informations, veuillez consulter la rubrique <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/systems-manager-paramstore.html">AWS Systems Manager Parameter Store</a> dans le <em>Guide de l'utilisateur AWS Systems Manager</em>.</p>
                        </li><li class="listitem">
                            <p><code class="code">secretsmanager</code> : secret de Secrets Manager.</p>
                        </li></ul></div>
                </dd>
             
                <dt><span class="term"><b>reference-key</b></span></dt>
                <dd>
                    <p>Clé de référence. Selon le type de référence dynamique, la clé de référence peut être composée de plusieurs segments.</p>
                    <p>Obligatoire.</p>
                </dd>
            </dl></div>
     
        <h2 id="dynamic-references-ssm">Paramètres SSM</h2>
        <p>Utilisez la référence dynamique <code class="code">ssm</code> pour inclure les valeurs stockées dans Systems Manager Parameter Store et de type <code class="code">String</code> ou <code class="code">StringList</code> dans vos modèles.</p>
         
            <h3 id="dynamic-references-ssm-pattern">Modèle de référence</h3>
            <p>Pour les paramètres SSM, le segment <code class="code">reference-key</code> se compose du nom du paramètre et du numéro de version. Utilisez le modèle suivant :</p>
            <p><code class="code">'<span>{</span><span>{</span>resolve:ssm:<code class="replaceable">parameter-name</code>:<code class="replaceable">version</code>}}'</code></p>
            <p>Votre référence doit respecter le modèle d'expression régulière suivant pour parameter-name et version :</p>
            <p><code class="code">'<span>{</span><span>{</span>resolve:ssm:[a-zA-Z0-9_.-/]+:\\d+}}'</code></p>
            <div class="variablelist">
                 
                 
            <dl>
                    <dt><span class="term"><b>parameter-name</b></span></dt>
                    <dd>
                        <p>Nom du paramètre dans Systems Manager Parameter Store. Le nom du paramètre est sensible à la casse.</p>
                        <p>Obligatoire.</p>
                    </dd>
                 
                    <dt><span class="term"><b>Version</b></span></dt>
                    <dd>
                        <p>Nombre entier qui spécifie la version du paramètre à utiliser. Si vous ne spécifiez pas la version exacte, CloudFormation utilise la dernière version du paramètre chaque fois que vous créez ou mettez à jour la pile. Pour plus d'informations, veuillez consulter la rubrique <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/sysman-paramstore-versions.html">Utilisation des versions de paramètre</a> dans le <em>Guide de l'utilisateur AWS Systems Manager</em></p>
                        <p>Facultatif.</p>
                    </dd>
                </dl></div>
         
         
            <h3 id="dynamic-references-ssm-example">Exemple</h3>
            <p>L'exemple suivant utilise une référence dynamique <code class="code">ssm</code> pour définir le contrôle d'accès pour un compartiment S3 sur une valeur de paramètre stockée dans Systems Manager Parameter Store. Comme cela est spécifié, CloudFormation utilise la version 2 du paramètre <code class="code">S3AccessControl</code> pour les opérations de pile et de jeu de modifications.</p>
            <div id="JSON" name="JSON" class="section langfilter">
                <h4 id="dynamic-references-ssm-example.json">JSON</h4>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">  "MyS3Bucket": <span>{</span>
    "Type": "AWS::S3::Bucket",
    "Properties": <span>{</span>
      "AccessControl": "<span>{</span><span>{</span>resolve:ssm:S3AccessControl:2}}"
    }
  }</code></pre>
            </div>
            <div id="YAML" name="YAML" class="section langfilter">
                <h4 id="dynamic-references-ssm-example.yaml">YAML</h4>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">  MyS3Bucket:
    Type: 'AWS::S3::Bucket'
    Properties:
      AccessControl: '<span>{</span><span>{</span>resolve:ssm:S3AccessControl:2}}' </code></pre>
            </div>
         
        <p>Pour spécifier un paramètre stocké dans Systems Manager Parameter Store, vous devez disposer d'un accès permettant d'appeler <code class="code"><a href="https://docs.aws.amazon.com/systems-manager/latest/APIReference/API_GetParameter.html">GetParameters</a></code> pour le paramètre spécifié. Pour plus d'informations, veuillez consulter la rubrique <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/sysman-paramstore-access.html">Contrôle de l'accès aux paramètres Systems Manager</a> dans le <em>Guide de l'utilisateur AWS Systems Manager</em>.</p>
        <p>Autres considérations à noter lorsque vous utilisez le modèle de référence dynamique <code class="code">ssm</code> :</p>
        <div class="itemizedlist">
             
             
             
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>Actuellement, CloudFormation ne prend pas en charge l'accès entre comptes aux paramètres SSM.</p>
            </li><li class="listitem">
                <p>Pour les ressources personnalisées, CloudFormation résout les références dynamiques <code class="code">ssm</code> avant d'envoyer la demande à la ressource personnalisée. Pour de plus amples informations, veuillez consulter <a href="./template-custom-resources.html">Ressources personnalisées</a>.</p>
            </li><li class="listitem">
                <p>CloudFormation ne prend pas en charge l'utilisation d'étiquettes de paramètres ni de paramètres publics dans les références dynamiques.</p>
                <p>Une étiquette de paramètre est un alias défini par l'utilisateur pour vous aider à gérer les différentes versions d'un paramètre. Pour plus d'informations, veuillez consulter la rubrique <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/sysman-paramstore-labels.html">Étiquetage des paramètres</a> dans le <em>Guide de l'utilisateur AWS Systems Manager</em>.</p>
                <p>Un paramètre public est un paramètre fourni par un service AWS dans le but d'être utilisé avec ce service, et stocké dans AWS Systems Manager Parameter Store. Pour obtenir un exemple de paramètre public, consultez <a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/retrieve-ecs-optimized_AMI.html">Extraction de métadonnées Amazon ECS-optimized AMI</a> dans le <em>Amazon Elastic Container Service Developer Guide</em>.</p>
            </li><li class="listitem">
                <p>Actuellement, CloudFormation ne prend pas en charge la détection de l'écart sur les références dynamiques. Pour les références <code class="code">ssm</code> dynamiques pour lesquelles vous n'avez pas spécifié la version du paramètre, nous vous recommandons, si vous mettez à jour la version du paramètre dans SSM, d'effectuer également une opération de mise à jour de pile sur toutes les piles qui incluent la référence <code class="code">ssm</code> dynamique, afin d'extraire la dernière version du paramètre.</p>
            </li><li class="listitem">
                <p>Pour vérifier quelle version d'une référence <code class="code">ssm</code> dynamique sera utilisée dans une opération de pile, <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-create.html">créez un jeu de modifications</a> pour l'opération de pile. Ensuite, <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-view.html">examinez le modèle traité</a> sous l'onglet <b>Template (Modèle)</b>.</p>
            </li><li class="listitem">
                <p>Les paramètres SSM sans version ne sont pas pris en charge dans le <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/parameters-section-structure.html">bloc des paramètres</a>, utilisez plutôt les <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/parameters-section-structure.html#aws-ssm-parameter-types">types de paramètres SSM</a>. Si vous utilisez les paramètres SSM, vous devez spécifier une version du paramètre Systems Manager pour AWS CloudFormation à utiliser.</p>
            </li></ul></div>
     
        <h2 id="dynamic-references-ssm-secure-strings">Paramètres de chaîne sécurisée SSM</h2>
        <p>Utilisez le modèle de référence dynamique <code class="code">ssm-secure</code> pour spécifier des paramètres de type <code class="code">SecureString</code> AWS Systems Manager dans vos modèles. Pour les références dynamiques <code class="code">ssm-secure</code>, AWS CloudFormation ne stocke jamais la valeur réelle du paramètre. AWS CloudFormation accède à la valeur du paramètre pendant les opérations de création et de mise à jour des piles et des jeux de modifications. Actuellement, les paramètres de chaîne sécurisée ne peuvent être utilisés que pour les <a href="#template-parameters-dynamic-patterns-resources">propriétés de ressource qui prennent en charge</a> le modèle de référence dynamique <code class="code">ssm-secure</code>.</p>
        <p>Un <em>paramètre de chaîne sécurisée</em> correspond à des données sensibles qui doivent être stockées et référencées de manière sécurisée. En d'autres termes, des données que vous ne voulez pas que les utilisateurs modifient ou référencent en texte clair, telles que des mots de passe ou des clés de licence. Pour plus d'informations sur les chaînes sécurisées, veuillez consulter la rubrique <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/sysman-paramstore-about.html#sysman-paramstore-securestring">Utilisation de paramètres de chaîne sécurisée</a> dans le <em>Guide de l'utilisateur AWS Systems Manager</em>.</p>
        <p>Les valeurs des paramètres de chaîne sécurisée ne sont pas stockées dans CloudFormation et ne sont pas renvoyées dans les résultats d'un appel d'API quelconque.</p>

         
            <h3 id="dynamic-references-ssm-secure-pattern">Modèle de référence</h3>
            <p>Pour les références dynamiques <code class="code">ssm-secure</code>, le segment <code class="code">reference-key</code> se compose du nom du paramètre et du numéro de version. Utilisez le modèle suivant :</p>
            <p><code class="code">'<span>{</span><span>{</span>resolve:ssm-secure:<code class="replaceable">parameter-name</code>:<code class="replaceable">version</code>}}'</code></p>
            <p>Votre référence doit respecter le modèle d'expression régulière suivant pour parameter-name et version :</p>
            <p><code class="code">'<span>{</span><span>{</span>resolve:ssm-secure:[a-zA-Z0-9_.-/]+:\\d+}}'</code></p>

            <div class="variablelist">
                 
                 
            <dl>
                    <dt><span class="term"><b>parameter-name</b></span></dt>
                    <dd>
                        <p>Nom du paramètre dans Systems Manager Parameter Store. Le nom du paramètre est sensible à la casse.</p>
                        <p>Obligatoire.</p>
                    </dd>
                 
                    <dt><span class="term"><b>Version</b></span></dt>
                    <dd>
                        <p>Nombre entier qui spécifie la version du paramètre à utiliser. Si vous ne spécifiez pas la version exacte, AWS CloudFormation utilise la dernière version du paramètre chaque fois que vous créez ou mettez à jour la pile. Pour plus d'informations, veuillez consulter la rubrique <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/sysman-paramstore-versions.html">Utilisation des versions de paramètre</a> dans le <em>Guide de l'utilisateur AWS Systems Manager</em></p>
                        <p>Facultatif.</p>
                    </dd>
                </dl></div>

         

         
            <h3 id="dynamic-references-ssm-secure-example">Exemple</h3>
            <p>L'exemple suivant utilise une référence dynamique <code class="code">ssm-secure</code> pour définir le mot de passe d'un utilisateur IAM vers une valeur sécurisée stockée dans Systems Manager Parameter Store. Comme cela est spécifié, CloudFormation utilise la version 10 du paramètre <code class="code">IAMUserPassword</code> pour les opérations de pile et de jeu de modifications.</p>
            <div id="JSON" name="JSON" class="section langfilter">
                <h4 id="dynamic-references-ssm-secure-example.json">JSON</h4>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">  "MyIAMUser": <span>{</span>
    "Type": "AWS::IAM::User",
    "Properties": <span>{</span>
      "UserName": "MyUserName",
      "LoginProfile": <span>{</span>
        "Password": "<span>{</span><span>{</span>resolve:ssm-secure:IAMUserPassword:10}}"
      }
    }
  }</code></pre>
            </div>
            <div id="YAML" name="YAML" class="section langfilter">
                <h4 id="dynamic-references-ssm-secure-example.yaml">YAML</h4>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">  MyIAMUser:
    Type: AWS::IAM::User
    Properties:
      UserName: 'MyUserName'
      LoginProfile:
        Password: '<span>{</span><span>{</span>resolve:ssm-secure:IAMUserPassword:10}}'</code></pre>
            </div>
         

        <p>Autres considérations à noter lorsque vous utilisez le modèle de référence dynamique <code class="code">ssm-secure</code> :</p>
        <div class="itemizedlist">
             
             
             
             
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>CloudFormation ne renvoie pas la valeur réelle du paramètre pour les chaînes sécurisées dans des appels d'API quelconques, mais renvoie la référence dynamique littérale.</p>
            </li><li class="listitem">
                <p>CloudFormation stocke la référence dynamique littérale, qui contient le nom de paramètre en texte brut de la chaîne sécurisée.</p>
            </li><li class="listitem">
                <p>Pour les jeux de modifications, CloudFormation compare la chaîne de référence dynamique littérale. Il ne résout pas et ne compare pas les valeurs réelles des références <code class="code">ssm-secure</code>.</p>
            </li><li class="listitem">
                <p>Les références dynamiques pour des valeurs sécurisées, telles que <code class="code">ssm-secure</code> et <code class="code">secretsmanager</code>, ne sont actuellement pas prises en charge dans les <a href="./template-custom-resources.html">ressources personnalisées</a>.</p>
            </li><li class="listitem">
                <p>Dans les cas où CloudFormation doit restaurer une mise à jour de pile, cette opération échouera si la version spécifiée précédemment d'un paramètre de chaîne sécurisée n'est plus disponible. Dans ce cas, effectuez l'une des actions suivantes :</p>
                <div class="itemizedlist">
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Utilisez <code class="code">CONTINUE_UPDATE_ROLLBACK</code> pour ignorer la ressource.</p>
                    </li><li class="listitem">
                        <p>Recréez le paramètre de chaîne sécurisée dans Systems Manager Parameter Store et mettez-le à jour jusqu'à ce que la version du paramètre atteigne la version utilisée dans le modèle. Ensuite, utilisez <code class="code">CONTINUE_UPDATE_ROLLBACK</code> sans ignorer la ressource.</p>
                    </li></ul></div>
            </li><li class="listitem">
                <p>Actuellement, AWS CloudFormation ne prend pas en charge l'accès entre comptes aux paramètres SSM.</p>
            </li><li class="listitem">
                <p>CloudFormation ne prend pas en charge l'utilisation d'étiquettes de paramètres ni de paramètres publics dans les références dynamiques.</p>
                <p>Une étiquette de paramètre est un alias défini par l'utilisateur pour vous aider à gérer les différentes versions d'un paramètre. Pour plus d'informations, veuillez consulter la rubrique <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/sysman-paramstore-labels.html">Étiquetage des paramètres</a> dans le <em>Guide de l'utilisateur AWS Systems Manager</em>.</p>
                <p>Un paramètre public est un paramètre fourni par un service AWS dans le but d'être utilisé avec ce service, et stocké dans AWS Systems Manager Parameter Store. Pour obtenir un exemple de paramètre public, consultez <a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/retrieve-ecs-optimized_AMI.html">Extraction de métadonnées Amazon ECS-optimized AMI</a> dans le <em>Amazon Elastic Container Service Developer Guide</em>.</p>
            </li></ul></div>
         
            <h3 id="template-parameters-dynamic-patterns-resources">Ressources qui prennent en charge les modèles de paramètre dynamique pour les chaînes sécurisées</h3>
            <p>Les ressources qui prennent en charge le modèle de référence dynamique <code class="code">ssm-secure</code> incluent actuellement :</p>
            <div class="table-container"><div class="table-contents"><table id="w1348aac17c17c19c27c17c17b5"><thead>
                        <tr>
                            <th>Ressource</th>
                            <th>Type de propriété</th>
                            <th>Propriétés</th>
                        </tr>
                    </thead>
                        <tr>
                            <td tabindex="-1"><p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-directoryservice-microsoftad.html">AWS::DirectoryService::MicrosoftAD</a></p></td>
                            <td tabindex="-1"><p></p></td>
                            <td tabindex="-1"><p><code class="code">Password</code></p></td>
                        </tr>
                        <tr>
                            <td tabindex="-1"><p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-directoryservice-simplead.html">AWS::DirectoryService::SimpleAD</a></p></td>
                            <td tabindex="-1"><p></p></td>
                            <td tabindex="-1"><p><code class="code">Password</code></p></td>
                        </tr>
                        <tr>
                            <td tabindex="-1"><p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-elasticache-replicationgroup.html">AWS::ElastiCache::ReplicationGroup</a></p></td>
                            <td tabindex="-1"><p></p></td>
                            <td tabindex="-1"><p><code class="code">AuthToken</code></p></td>
                        </tr>
                        <tr>
                            <td tabindex="-1"><p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-iam-user.html">AWS::IAM::User</a></p></td>
                            <td tabindex="-1"><p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-iam-user-loginprofile.html">LoginProfile</a></p></td>
                            <td tabindex="-1"><p><code class="code">Password</code></p></td>
                        </tr>
                        <tr>
                            <td tabindex="-1"><p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-kinesisfirehose-deliverystream.html">AWS::KinesisFirehose::DeliveryStream</a></p></td>
                            <td tabindex="-1"><p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-kinesisfirehose-deliverystream-redshiftdestinationconfiguration.html">RedshiftDestinationConfiguration</a></p></td>
                            <td tabindex="-1"><p><code class="code">Password</code></p></td>
                        </tr>
                        <tr>
                            <td tabindex="-1"><p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-opsworks-app.html">AWS::OpsWorks::App</a></p></td>
                            <td tabindex="-1"><p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-opsworks-stack-source-1.html">Source</a></p></td>
                            <td tabindex="-1"><p><code class="code">Password</code></p></td>
                        </tr>
                        <tr>
                            <td tabindex="-1"><p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-opsworks-stack.html">AWS::OpsWorks::Stack</a></p></td>
                            <td tabindex="-1"><p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-opsworks-stack-source.html">CustomCookbooksSource</a></p></td>
                            <td tabindex="-1"><p><code class="code">Password</code></p></td>
                        </tr>
                        <tr>
                            <td tabindex="-1"><p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-opsworks-stack.html">AWS::OpsWorks::Stack</a></p></td>
                            <td tabindex="-1"><p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-opsworks-stack-rdsdbinstance.html">RdsDbInstances</a></p></td>
                            <td tabindex="-1"><p><code class="code">DbPassword</code></p></td>
                        </tr>
                        <tr>
                            <td tabindex="-1"><p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-rds-dbcluster.html">AWS::RDS::DBCluster</a></p></td>
                            <td tabindex="-1"><p></p></td>
                            <td tabindex="-1"><p><code class="code">MasterUserPassword</code></p></td>
                        </tr>
                        <tr>
                            <td tabindex="-1"><p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-rds-database-instance.html">AWS::RDS::DBInstance</a></p></td>
                            <td tabindex="-1"><p></p></td>
                            <td tabindex="-1"><p><code class="code">MasterUserPassword</code></p>
                            </td>
                        </tr>
                        <tr>
                            <td tabindex="-1"><p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-redshift-cluster.html">AWS::Redshift::Cluster</a></p></td>
                            <td tabindex="-1"><p></p></td>
                            <td tabindex="-1"><p><code class="code">MasterUserPassword</code></p></td>
                        </tr>
                    </table></div></div>
         
     
        <h2 id="dynamic-references-secretsmanager">Secrets de Secrets Manager</h2>
        <p>La référence dynamique <code class="code">secretsmanager</code> vous permet d'extraire des secrets entiers ou des valeurs de secrets stockés dans Secrets Manager en vue d'une utilisation dans vos modèles. Les <em>secrets</em> peuvent être des informations d'identification de base de données, des mots de passe, des clés d'API tierces ou un texte arbitraire. Secrets Manager vous permet de stocker et de contrôler l'accès à ces secrets de manière centralisée, de sorte que vous pouvez remplacer les informations d'identification codées en dur dans votre code (y compris les mots de passe) par un appel d'API à Secrets Manager pour récupérer le secret par programmation. Pour plus d'informations, consultez <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/intro.html">Présentation d’AWS Secrets Manager</a> dans le <em>Guide de l'utilisateur AWS Secrets Manager</em>.</p>
         
            <h3 id="dynamic-references-secretsmanager-considerations">Considérations importantes lors de l'utilisation de références dynamiques pour les secrets de Secrets Manager</h3>
            <p>Vous devez tenir compte des considérations de sécurité importantes suivantes lorsque vous utilisez des références dynamiques pour spécifier des secrets Secrets Manager dans vos modèles de pile :</p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>La référence dynamique <code class="code">secretsmanager</code> peut être utilisée dans toutes les propriétés des ressources. L'utilisation de la référence dynamique <code class="code">secretsmanager</code> indique que ni Secrets Manager ni les journaux CloudFormation ne conserveront une valeur de secret résolue. Toutefois, la valeur du secret peut s'afficher dans le service qui possède la ressource où elle est utilisée. Passez en revue vos données d'utilisation pour éviter toute fuite des données de secret.</p>
                </li><li class="listitem">
                    <p>La mise à jour d'un secret dans Secrets Manager ne met pas automatiquement à jour le secret dans CloudFormation. Pour que CloudFormation mette à jour une référence <code class="code">secretsmanager</code> dynamique, vous devez effectuer une mise à jour de pile qui met à jour la ressource contenant la référence dynamique, soit en mettant à jour la propriété de ressource qui contient la référence <code class="code">secretsmanager</code> dynamique, soit en mettant à jour une autre des propriétés de la ressource.</p>
                    <p>Par exemple, supposons que dans votre modèle vous spécifiez la propriété <code class="code">MasterPassword</code> d'une ressource <code class="code"><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-rds-database-instance.html">AWS::RDS::DBInstance</a></code> comme référence <code class="code">secretsmanager</code> dynamique, puis créiez une pile à partir du modèle. Vous mettez ultérieurement à jour la valeur de ce secret dans Secrets Manager, mais ne mettez pas à jour la ressource <code class="code">AWS::RDS::DBInstance</code> dans votre modèle. Dans ce cas, même si vous effectuez une mise à jour de pile, la valeur secrète de la propriété <code class="code">MasterPassword</code> n'est pas mise à jour et reste la valeur secrète précédente.</p>
                    <p>Vous pouvez également utiliser Secrets Manager pour faire pivoter automatiquement le secret pour un service et/ou une base de données sécurisés. Pour plus d'informations, veuillez consulter la rubrique <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/rotating-secrets.html">Rotation de secrets AWS Secrets Manager</a>.</p>
                </li><li class="listitem">
                    <p>Les références dynamiques pour des valeurs sécurisées, telles que <code class="code">secretsmanager</code>, ne sont actuellement pas prises en charge dans les <a href="./template-custom-resources.html">ressources personnalisées</a>.</p>
                </li></ul></div>
         

         
            <h3 id="dynamic-references-secretsmanager-permissions">Autorisations nécessaires</h3>
            <p>Pour spécifier un secret stocké dans Secrets Manager, vous devez disposer d'un accès permettant d'appeler <code class="code"><a href="https://docs.aws.amazon.com/secretsmanager/latest/apireference/API_GetSecretValue.html">GetSecretValue</a></code> pour le secret.</p>
         
         
            <h3 id="dynamic-references-secretsmanager-pattern">Modèle de référence</h3>
            <p>Pour les secrets Secrets Manager, le segment <code class="code">reference-key</code> se compose de plusieurs segments, y compris de l'ID de secret, de la clé de valeur de secret, de l'étape de version et de l'ID de version. Utilisez le modèle suivant :</p>
            <p><code class="code"><span>{</span><span>{</span>resolve:secretsmanager:<code class="replaceable">secret-id</code>:<code class="replaceable">secret-string</code>:<code class="replaceable">json-key</code>:<code class="replaceable">version-stage</code>:<code class="replaceable">version-id</code>}}</code></p>
            <div class="variablelist">
                 
                 
                 
                 
                 
            <dl>
                    <dt><span class="term"><b>secret-id</b></span></dt>
                    <dd>
                        <p>Nom ou ARN du secret.</p>
                        <p>Pour accéder à un secret dans votre compte AWS, il vous suffit de spécifier le nom du secret. Pour accéder à un secret dans un autre compte AWS, spécifiez l'ARN complet du secret.</p>
                        <p>Obligatoire.</p>
                    </dd>
                 
                    <dt><span class="term"><b>secret-string</b></span></dt>
                    <dd>
                        <p>À l'heure actuelle, la seule valeur prise en charge est <code class="code">SecretString</code>. La valeur par défaut est <code class="code">SecretString</code>.</p>
                    </dd>
                 
                    <dt><span class="term"><b>json-key</b></span></dt>
                    <dd>
                        <p>Le nom de clé de la paire clé-valeur dont vous voulez récupérer la valeur. Si vous ne spécifiez pas de <code class="code">json-key</code>, CloudFormation récupère l'ensemble du texte du secret.</p>
                        <p>Ce segment peut ne pas inclure le caractère deux-points (<code class="code">:</code> ).</p>
                    </dd>
                 
                    <dt><span class="term"><b>version-stage</b></span></dt>
                    <dd>
                        <p>L'étiquette intermédiaire de la version du secret à utiliser. Secrets Manager utilise des étiquettes intermédiaires pour assurer le suivi des différentes versions pendant le processus de rotation. Si vous utilisez <code class="code">version-stage</code>, ne spécifiez pas <code class="code">version-id</code>. Si vous ne spécifiez ni <code class="code">version-stage</code> ni <code class="code">version-id</code>, alors la version par défaut est la version <code class="code">AWSCURRENT</code>.</p>
                        <p>Ce segment peut ne pas inclure le caractère deux-points (<code class="code">:</code> ).</p>
                    </dd>
                 
                    <dt><span class="term"><b>version-id</b></span></dt>
                    <dd>
                        <p>L'identifiant unique de la version du secret à utiliser. Si vous spécifiez <code class="code">version-id</code>, ne spécifiez pas <code class="code">version-stage</code>. Si vous ne spécifiez ni <code class="code">version-stage</code> ni <code class="code">version-id</code>, alors la version par défaut est la version <code class="code">AWSCURRENT</code>.</p>
                        <p>Ce segment peut ne pas inclure le caractère deux-points (<code class="code">:</code> ).</p>
                    </dd>
                </dl></div>

         
         
            <h3 id="dynamic-references-secretsmanager-example">Exemples</h3>

            <p>L'exemple suivant utilise les segments <code class="code">secret-name</code> et <code class="code">json-key</code> pour récupérer les valeurs de nom d'utilisateur et de mot de passe stockées dans le secret MyRDSSecret. Par défaut, la version de secret récupérée est la version avec la valeur d'étape de version de <code class="code">AWSCURRENT</code>.</p>
            <div id="JSON" name="JSON" class="section langfilter">
                <h4 id="dynamic-references-secretsmanager-example.json">JSON</h4>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "MyRDSInstance": <span>{</span>
        "Type": "AWS::RDS::DBInstance",
        "Properties": <span>{</span>
            "DBName": "MyRDSInstance",
            "AllocatedStorage": "20",
            "DBInstanceClass": "db.t2.micro",
            "Engine": "mysql",
            "MasterUsername": "<span>{</span><span>{</span>resolve:secretsmanager:MyRDSSecret:SecretString:username}}",
            "MasterUserPassword": "<span>{</span><span>{</span>resolve:secretsmanager:MyRDSSecret:SecretString:password}}"
        }
    }
}</code></pre>
            </div>
            <div id="YAML" name="YAML" class="section langfilter">
                <h4 id="dynamic-references-secretsmanager-example.yaml">YAML</h4>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">  MyRDSInstance:
    Type: 'AWS::RDS::DBInstance'
    Properties:
      DBName: MyRDSInstance
      AllocatedStorage: '20'
      DBInstanceClass: db.t2.micro
      Engine: mysql
      MasterUsername: '<span>{</span><span>{</span>resolve:secretsmanager:MyRDSSecret:SecretString:username}}'
      MasterUserPassword: '<span>{</span><span>{</span>resolve:secretsmanager:MyRDSSecret:SecretString:password}}'</code></pre>
            </div>

            <p>Le fait de spécifier les segments suivants permet de récupérer la <code class="code">SecretString</code> pour MySecret.</p>
            <p><code class="code">'<span>{</span><span>{</span>resolve:secretsmanager:MySecret}}'</code> ou <code class="code">'<span>{</span><span>{</span>resolve:secretsmanager:MySecret::::}}'</code></p>

            <p>Le fait de spécifier les segments suivants permet de récupérer la valeur <code class="code">password</code> pour MySecret.</p>
            <p><code class="code">'<span>{</span><span>{</span>resolve:secretsmanager:MySecret:SecretString:password}}'</code></p>

            <p>Le fait de spécifier les segments suivants permet de récupérer la <code class="code">SecretString</code> pour MySecret qui se trouve dans un autre compte AWS. Vous devez spécifier l'ARN complet du secret pour accéder aux secrets dans un autre compte AWS.</p>
            <p><code class="code">'<span>{</span><span>{</span>resolve:secretsmanager:arn:aws:secretsmanager:us-west-2:123456789012:secret:MySecret-a1b2c3}}'</code></p>

            <p>Le fait de spécifier les segments suivants permet de récupérer la valeur <code class="code">password</code> pour MySecret qui se trouve dans un autre compte AWS. Vous devez spécifier l'ARN complet du secret pour accéder aux secrets dans un autre compte AWS.</p>
            <p><code class="code">'<span>{</span><span>{</span>resolve:secretsmanager:arn:aws:secretsmanager:us-west-2:123456789012:secret:MySecret-a1b2c3:SecretString:password}}'</code></p>

            <p>Le fait de spécifier les segments suivants permet de récupérer la valeur <code class="code">password</code> pour la version <code class="code">AWSPREVIOUS</code> de MySecret.</p>
            <p><code class="code">'<span>{</span><span>{</span>resolve:secretsmanager:MySecret:SecretString:password:AWSPREVIOUS}}'</code></p>

         

    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avertissement" /> <strong>JavaScript est désactivé ou n'est pas disponible dans votre navigateur.</strong></p><p>Pour que vous puissiez utiliser la documentation AWS, Javascript doit être activé. Vous trouverez des instructions sur les pages d'aide de votre navigateur.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Conventions de rédaction</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./parameters-section-structure.html">Paramètres</div><div id="next" class="next-link" accesskey="n" href="./rules-section-structure.html">Règles</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Oui</div><div class="content"><p>Merci de nous avoir fait part de votre satisfaction.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer ce qui vous a plu afin que nous puissions nous améliorer davantage.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/dynamic-references.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Non</div><div class="content"><p>Merci de nous avoir avertis que cette page avait besoin d'être retravaillée. Nous sommes désolés de ne pas avoir répondu à vos attentes.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer comment nous pourrions améliorer cette documentation.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/dynamic-references.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>