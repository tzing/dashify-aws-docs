<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="fr-FR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Détection de modifications non gérées de la configuration des piles et des ressources - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="using-cfn-stack-drift" /><meta name="default_state" content="using-cfn-stack-drift" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" /><meta name="description" content="La détection de l'écart vous permet de détecter si la configuration réelle d'une pile diffère, ou a dérivé, de sa configuration prévue." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Guide de l'utilisateur" /><meta name="abstract" content="Créez et gérez des déploiements AWS d'infrastructure de manière prévisible et répétée à l'aide de ce AWS CloudFormation guide de l'utilisateur." /><meta name="guide-locale" content="fr_fr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Guide de l'utilisateur" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Guide de l'utilisateur" /><meta id="panorama-serviceConsolePage" value="Détection de modifications non gérées de la configuration des piles et des ressources" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Détection de modifications non gérées de la configuration des piles et des ressources - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,provisionnement des ressources,configuration des ressources,gestion de l'infrastructure,CloudFormer,CloudFormation pile,CloudFormation stackset,CloudFormation modèle,jeu de modifications" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guide de l'utilisateur",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Utilisation des piles",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/stacks.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Détection de modifications non gérées de la configuration des piles et des ressources",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/stacks.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Guide de l'utilisateur</a></div><div id="page-toc-src"><a href="#what-is-drift">Qu'est-ce qu'un écart ?</a><a href="#drift-status-codes">Codes de statut de détection de l'écart</a><a href="#drift-considerations">Considérations lors de la détection de l'écart</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Les traductions sont fournies par des outils de traduction automatique. En cas de conflit entre le contenu d'une traduction et celui de la version originale en anglais, la version anglaise prévaudra.</p></awsui-alert><h1 class="topictitle" id="using-cfn-stack-drift">Détection de modifications non gérées de la configuration des piles et des ressources</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Même si vous gérez vos ressources via CloudFormation, les utilisateurs peuvent modifier ces ressources <em>en dehors</em> de CloudFormation. Les utilisateurs peuvent modifier une ressource directement en utilisant le service sous-jacent qui a créé la ressource. Par exemple, vous pouvez utiliser la console Amazon EC2 pour mettre à jour une instance de serveur créée dans le cadre d'une  CloudFormation  pile. Certaines modifications peuvent être accidentelles, et d'autres peuvent être apportées intentionnellement pour répondre aux événements opérationnels prioritaires. Quoi qu'il en soit, les modifications apportées en dehors de  CloudFormation  peuvent compliquer les opérations de mise à jour ou de suppression de la pile. Vous pouvez utiliser la détection de dérive pour identifier les ressources de pile auxquelles des modifications de configuration ont été apportées en dehors de la  CloudFormation  gestion. Vous pouvez alors prendre des mesures correctives pour resynchroniser les ressources de pile avec leurs définitions dans le modèle de pile. Vous pouvez, par exemple, mettre à jour directement les ressources ayant dérivé, pour les accorder avec leur définition de modèle. La résolution de l'écart permet de garantir la cohérence de la configuration et la réussite des opérations de pile.</p><div class="highlights"><h6>Rubriques</h6><ul><li><a href="#what-is-drift">Qu'est-ce qu'un écart ?</a></li><li><a href="#drift-status-codes">Codes de statut de détection de l'écart</a></li><li><a href="#drift-considerations">Considérations lors de la détection de l'écart</a></li><li><a href="./detect-drift-stack.html">Détectez la dérive sur l'ensemble d'une  CloudFormation  pile</a></li><li><a href="./detect-drift-resource.html">Détecter l'écart sur des ressources de pile individuelles</a></li><li><a href="./resource-import-resolve-drift.html">Résoudre l'écart avec une opération d'importation</a></li></ul></div>
        <h2 id="what-is-drift">Qu'est-ce qu'un écart ?</h2>
        <p>La détection de l'écart vous permet de détecter si la configuration réelle d'une pile diffère, ou a <em>dérivé</em>, de sa configuration prévue.  CloudFormation À utiliser pour détecter la dérive sur l'ensemble d'une pile ou sur des ressources individuelles au sein de la pile. Une ressource est considérée comme ayant dérivé dès qu'une de ses valeurs de propriété réelles diffère des valeurs de propriété prévues. Cela inclut l'éventualité où la propriété ou la ressource aurait été supprimée. Une pile est considérée comme ayant dérivé si une ou plusieurs de ses ressources ont dérivé.</p>
        <p>Pour déterminer si une ressource a dérivé,  CloudFormation  détermine les valeurs attendues des propriétés de ressource, telles que définies dans le modèle de pile, ainsi que toutes les valeurs spécifiées en tant que paramètres du modèle.  CloudFormation compare ensuite ces valeurs attendues aux valeurs réelles de ces propriétés de ressources telles qu'elles existent actuellement dans la pile. Une ressource est considérée comme ayant dérivé si une ou plusieurs de ses propriétés ont été supprimées ou modifiées.</p>
        <p>CloudFormation génère des informations détaillées sur chaque ressource de la pile qui a dérivé.</p>
        <p>CloudFormation détecte la dérive sur les AWS ressources qui prennent en charge la détection de la dérive. Les ressources qui ne prennent pas en charge la détection de l'écart se voient attribuer le statut d'écart NOT_CHECKED. Pour obtenir la liste des AWS ressources qui prennent en charge la détection de la dérive, consultez<a href="./resource-import-supported-resources.html">Support des types de ressources</a>.</p>
        <p>En outre,  CloudFormation  prend en charge la détection de la dérive sur les types de ressources privées <em>provisionnables</em>, c'est-à-dire dont le type de provisionnement est ou<code class="code">FULLY_MUTABLE</code>. <code class="code">IMMUTABLE</code> Pour effectuer une détection de l'écart sur une ressource de type privé, la version par défaut du type de ressource <em>que vous avez enregistré dans votre compte</em> doit pouvoir être alloué. Pour plus d'informations sur le type de fourniture de ressources, consultez le <code class="code">ProvisioningType</code> paramètre de l'<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_DescribeType.html"><code class="code">DescribeType</code></a>action dans la référence d' AWS CloudFormation API et de la <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/describe-type.html"><code class="code">DescribeType</code></a>commande dans la référence de AWS CLI commande. Pour plus d'informations sur les ressources privées, voir<a href="./registry.html">Utilisation du AWS CloudFormation registre</a>.</p>
        <p>Vous pouvez exécuter la détection de l'écart sur des piles dotées des statuts suivants : <code class="code">CREATE_COMPLETE</code>, <code class="code">UPDATE_COMPLETE</code>, <code class="code">UPDATE_ROLLBACK_COMPLETE</code> et <code class="code">UPDATE_ROLLBACK_FAILED</code>.</p>
        <p>Lors de la détection d'une dérive sur une pile,  CloudFormation  ne détecte aucune dérive sur les piles imbriquées appartenant à cette pile. Pour de plus amples informations, veuillez consulter <a href="./using-cfn-nested-stacks.html">Utilisation des piles imbriquées</a>. Au lieu de cela, vous pouvez lancer une opération de détection de l'écart directement sur la pile imbriquée.</p>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>CloudFormation détermine uniquement la dérive pour les valeurs de propriété définies de manière explicite, soit via le modèle de pile, soit en spécifiant les paramètres du modèle. Ceci n'inclut pas les valeurs par défaut des propriétés des ressources. Pour  CloudFormation  suivre une propriété de ressource afin de déterminer la dérive, définissez explicitement la valeur de la propriété, même si vous la définissez sur la valeur par défaut.</p></div></div>
     
        <h2 id="drift-status-codes">Codes de statut de détection de l'écart</h2>
        <p>Les tableaux de cette section décrivent les différents types de statut utilisés avec la détection de l'écart :</p>
        <div class="itemizedlist">
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>Le <b>statut d'opération de détection de l'écart</b> décrit l'état actuel de l'opération.</p>
            </li><li class="listitem">
                <p><b>Statut de l'écart</b> </p>
                <p>Pour les <em>ensembles de piles</em>, cette information décrit le statut de l'écart de l'ensemble de pile dans son ensemble, en fonction du statut de l'écart des instances de piles qui lui appartiennent.</p>
                <p>Pour les <em>instances de piles</em>, cette information décrit le statut de l'écart de l'instance de pile, en fonction du statut de l'écart de la pile associée.</p>
                <p>Pour les <em>piles</em>, cette information décrit le statut de l'écart de la pile dans son ensemble, en fonction du statut de l'écart de ses ressources.</p>
            </li><li class="listitem">
                <p>Le <b>statut de l'écart de ressource</b> décrit le statut de l'écart d'une ressource individuelle.</p>
            </li></ul></div>
        <p>Le tableau suivant répertorie les codes d'état  CloudFormation  attribués aux opérations de détection de la dérive des piles.</p>
        <div class="table-container"><div class="table-contents"><table id="w1348aac19c21c11b9"><thead>
                    <tr>
                        <th>Statut de l'opération de détection de l'écart</th>
                        <th>Description</th>
                    </tr>
                </thead>
                    <tr>
                        <td tabindex="-1">
                            <p><code class="code">DETECTION_COMPLETE</code></p>
                        </td>
                        <td tabindex="-1">
                            <p>L'opération de détection de l'écart d'une pile a réussi pour toutes les ressources de la pile qui prennent en charge la détection de l'écart.</p>
                        </td>
                    </tr>
                    <tr>
                        <td tabindex="-1">
                            <p><code class="code">DETECTION_FAILED</code></p>
                        </td>
                        <td tabindex="-1">
                            <p>L'opération de détection de l'écart de la pile a échoué pour au moins une ressource dans la pile. Les résultats seront disponibles pour les ressources ayant effectué  CloudFormation  avec succès la détection de la dérive.</p>
                        </td>
                    </tr>
                    <tr>
                        <td tabindex="-1">
                            <p><code class="code">DETECTION_IN_PROGRESS</code></p>
                        </td>
                        <td tabindex="-1">
                            <p>L'opération de détection de l'écart de pile est actuellement en cours.</p>
                        </td>
                    </tr>
                </table></div></div>
        <p>Le tableau suivant répertorie les codes d'état de dérive  CloudFormation  attribués aux piles.</p>
        <div class="table-container"><div class="table-contents"><table id="w1348aac19c21c11c13"><thead>
                    <tr>
                        <th>Statut de l'écart</th>
                        <th>Description</th>
                    </tr>
                </thead>
                    <tr>
                        <td tabindex="-1">
                            <p><code class="code">DRIFTED</code></p>
                        </td>
                        <td tabindex="-1">
                            <p>Pour les piles : la pile diffère, ou <em>présente un écart</em>, par rapport à la configuration de modèle prévue. Une pile est considérée comme ayant dérivé si une ou plusieurs de ses ressources ont dérivé.</p>
                            <p>Pour les instances de piles : une instance de pile est considérée comme présentant un écart si la pile présente un écart.</p>
                            <p>Pour les ensembles de piles : un ensemble de piles est considéré comme présentant un écart si une ou plusieurs instances de piles présente un écart.</p>
                        </td>
                    </tr>
                    <tr>
                        <td tabindex="-1">
                            <p><code class="code">NOT_CHECKED</code></p>
                        </td>
                        <td tabindex="-1">
                            <p>CloudFormation n'a pas vérifié si la pile, l'ensemble de piles ou l'instance de pile diffère de la configuration de modèle attendue.</p>
                        </td>
                    </tr>
                    <tr>
                        <td tabindex="-1">
                            <p><code class="code">IN_SYNC</code></p>
                        </td>
                        <td tabindex="-1">
                            <p>La configuration actuelle de chaque ressource prise en charge correspond à sa configuration de modèle prévue. Le statut d'une pile, d'un ensemble de piles ou d'une instance de pile sans ressource prenant en charge la détection de l'écart sera également IN_SYNC.</p>
                        </td>
                    </tr>
                </table></div></div>
        <p>Le tableau suivant répertorie les codes d'état de dérive  CloudFormation  attribués aux ressources de la pile.</p>
        <div class="table-container"><div class="table-contents"><table id="w1348aac19c21c11c17"><thead>
                    <tr>
                        <th>Statut de l'écart de ressource</th>
                        <th>Description</th>
                    </tr>
                </thead>
                    <tr>
                        <td tabindex="-1">
                            <p><code class="code">DELETED</code></p>
                        </td>
                        <td tabindex="-1">
                            <p>La ressource diffère de sa configuration de modèle prévue, car la ressource a été supprimée.</p>
                        </td>
                    </tr>
                    <tr>
                        <td tabindex="-1">
                            <p><code class="code">MODIFIED</code></p>
                        </td>
                        <td tabindex="-1">
                            <p>La ressource diffère de sa configuration de modèle prévue.</p>
                        </td>
                    </tr>
                    <tr>
                        <td tabindex="-1">
                            <p><code class="code">NOT_CHECKED</code></p>
                        </td>
                        <td tabindex="-1">
                            <p>CloudFormation n'a pas vérifié si la ressource diffère de la configuration de modèle attendue.</p>
                        </td>
                    </tr>
                    <tr>
                        <td tabindex="-1">
                            <p><code class="code">IN_SYNC</code></p>
                        </td>
                        <td tabindex="-1">
                            <p>La configuration actuelle de la ressource correspond à sa configuration de modèle prévue.</p>
                        </td>
                    </tr>
                </table></div></div>
        <p>Le tableau suivant répertorie les codes d'état de type de différence  CloudFormation  attribués aux propriétés des ressources qui diffèrent de leur configuration de modèle attendue.</p>
        <div class="table-container"><div class="table-contents"><table id="w1348aac19c21c11c21"><thead>
                    <tr>
                        <th>Types de différences de propriété</th>
                        <th>Description</th>
                    </tr>
                </thead>
                    <tr>
                        <td tabindex="-1">
                            <p><code class="code">ADD</code></p>
                        </td>
                        <td tabindex="-1">
                            <p>Une valeur a été ajoutée à une propriété de ressource qui est un type de données de tableau ou de liste. </p>
                        </td>
                    </tr>
                    <tr>
                        <td tabindex="-1">
                            <p><code class="code">REMOVE</code></p>
                        </td>
                        <td tabindex="-1">
                            <p>La propriété a été supprimée de la configuration de ressource actuelle.</p>
                        </td>
                    </tr>
                    <tr>
                        <td tabindex="-1">
                            <p><code class="code">NOT_EQUAL</code></p>
                        </td>
                        <td tabindex="-1">
                            <p>La valeur de propriété actuelle diffère de sa valeur prévue, définie dans le modèle de pile.</p>
                        </td>
                    </tr>
                </table></div></div>
     
        <h2 id="drift-considerations">Considérations lors de la détection de l'écart</h2>
        <p>Afin d'effectuer correctement la détection de l'écart sur une pile, un utilisateur doit disposer des autorisations suivantes :</p>
        <div class="itemizedlist">
             
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>L'autorisation de lecture pour chaque ressource de la pile qui prend en charge la détection de l'écart. Par exemple, si la pile comprend une ressource <code class="code">AWS::EC2::Instance</code>, vous devez avoir l'autorisation <code class="code">ec2:DescribeInstances</code> nécessaire pour effectuer la détection de l'écart sur la pile.</p>
            </li><li class="listitem">
                <p><code class="code">cloudformation:DetectStackDrift</code></p>
            </li><li class="listitem">
                <p><code class="code">cloudformation:DetectStackResourceDrift</code></p>
            </li><li class="listitem">
                <p><code class="code">cloudformation:BatchDescribeTypeConfigurations</code></p>
            </li></ul></div>
        <p>Pour plus d'informations sur la définition des autorisations dans CloudFormation, consultez<a href="./using-iam-template.html">Contrôler l'accès avec AWS Identity and Access Management</a>.</p>

        <p>Dans certains cas extrêmes, il  CloudFormation  se peut que vous ne puissiez pas toujours renvoyer des résultats de dérive précis. Vous devez être conscient de ces cas limites afin d'interpréter correctement vos résultats de détection de l'écart.</p>
        <div class="itemizedlist">
             

             

             

             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>Dans certains cas, les objets contenus dans des tableaux de propriétés sont signalés comme un écart, alors qu'ils sont en réalité des valeurs par défaut fournies à la propriété à partir du service sous-jacent responsable de la ressource.</p>
            </li><li class="listitem">
                <p>Certaines ressources ont des <em>relations d'attachement</em> avec des ressources connexes, de telle sorte qu'une ressource peut en fait attacher ou supprimer les valeurs de propriété d'une autre ressource, définie dans le même modèle ou dans un autre modèle. Par exemple, les ressources <code class="code">AWS::EC2::SecurityGroupIngress</code> et <code class="code">AWS::EC2::SecurityGroupEgress</code> peuvent être utilisées pour attacher et supprimer des valeurs à partir des ressources <code class="code">AWS::EC2::SecurityGroup</code>. Dans ces cas,  CloudFormation  analyse le modèle de pile pour détecter les pièces jointes avant d'effectuer la comparaison de dérive. Cependant,  CloudFormation  vous ne pouvez pas effectuer cette analyse sur plusieurs piles et vous risquez donc de ne pas renvoyer de résultats de dérive précis lorsque les ressources associées résident dans des piles différentes.</p>
                <p>Les ressources qui prennent en charge la détection de l'écart et autorisent ou nécessitent des attachements à partir d'autres ressources incluent :</p>
                <div class="table-container"><div class="table-contents"><table id="w1348aac19c21c13c11b3b5"><thead>
                            <tr>
                                <th>Type de ressource</th>
                                <th>Type de ressource d'attachement</th>
                            </tr>
                        </thead>
                            <tr>
                                <td tabindex="-1">
         <p><code class="code">AWS::SNS::Topic</code></p>
        </td>
                                <td tabindex="-1">
         <p><code class="code">AWS::SNS::Subscription</code></p>
        </td>
                            </tr>
                            <tr>
                                <td tabindex="-1">
         <p><code class="code">AWS::IAM::User</code></p>
        </td>
                                <td tabindex="-1">
         <p><code class="code">AWS::IAM::UserToGroupAddition</code></p>
        </td>
                            </tr>
                            <tr>
                                <td tabindex="-1">
         <p><code class="code">AWS::IAM::Group</code></p>
         <p><code class="code">AWS::IAM::Role</code></p>
         <p><code class="code">AWS::IAM::User</code></p>
        </td>
                                <td tabindex="-1"><p><code class="code">AWS::IAM::Policy</code></p><p><code class="code">AWS::IAM::ManagedPolicy</code></p></td>
                            </tr>
                            <tr>
                                <td tabindex="-1">
         <p><code class="code">AWS::ElasticLoadBalancingV2::Listener</code></p>
        </td>
                                <td tabindex="-1">
         <p><code class="code">AWS::ElasticLoadBalancingV2::ListenerCertificate</code></p>
        </td>
                            </tr>
                            <tr>
                                <td tabindex="-1">
         <p><code class="code">AWS::EC2::SecurityGroup</code></p>
        </td>
                                <td tabindex="-1"><p><code class="code">AWS::EC2::SecurityGroupEgress</code></p><p><code class="code">AWS::EC2::SecurityGroupIngress</code></p></td>
                            </tr>
                        </table></div></div>
            </li><li class="listitem">
                <p>CloudFormation n'effectue aucune détection de dérive sur la <code class="code">KMSKeyId</code> propriété d'aucune ressource. Comme AWS KMS les clés peuvent être référencées par plusieurs alias, nous ne  CloudFormation  pouvons pas garantir des résultats de dérive toujours précis pour cette propriété.</p>
            </li><li class="listitem">
                <p>Certaines propriétés de ressources que vous pouvez spécifier dans votre modèle de pile ne  CloudFormation  pourront pas, de par leur nature même, être comparées aux propriétés des ressources de pile résultantes. Ces propriétés ne peuvent donc pas être incluses dans les résultats de détection de l'écart. Ces propriétés se divisent en deux grandes catégories :</p>
                <div class="itemizedlist">
                     
                     
                     

                <ul class="itemizedlist"><li class="listitem">
                        <p>Valeurs de propriété qui  CloudFormation  ne peuvent pas être mappées à leur valeur de propriété de ressource initiale dans le modèle de pile.</p>
                        <p>Par exemple, il est  CloudFormation  impossible de mapper le code source d'une fonction Lambda au type de <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-lambda-function-code.html"><code class="code">Code</code></a>propriété de la <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-lambda-function.html"><code class="code">AWS::Lambda::Function</code></a>ressource et ne  CloudFormation  peut donc pas l'inclure dans les résultats de détection de dérive. </p>
                    </li><li class="listitem">
                        <p>Valeurs de propriété que le service responsable de la ressource ne renvoie pas.</p>
                        <p>Il existe certaines valeurs de propriété qui, par conception, ne sont jamais renvoyées par le service auquel la ressource appartient. Elles ont tendance à contenir des informations confidentielles, telles que des mots de passe ou d'autres données sensibles qui ne doivent pas être exposées. Par exemple, le service IAM ne renverra jamais la valeur de la <code class="code">Password</code> propriété du type de propriété <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-iam-user-loginprofile.html">IAM User  LoginProfile</a> et ne  CloudFormation  peut donc pas l'inclure dans les résultats de détection de dérive.</p>
                    </li><li class="listitem">
                        <p>Les objets dans un tableau peuvent être réellement des paramètres par défaut du service, et non pas d'un écart ajouté manuellement.</p>
                    </li></ul></div>
            </li><li class="listitem">
                <p>Si vous recevez un faux positif, envoyez-nous vos commentaires en utilisant le lien de commentaires dans la  CloudFormation  console, ou contactez-nous via <a href="https://forums.aws.amazon.com/" rel="noopener noreferrer" target="_blank"><span>AWS re:Post</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
            </li><li class="listitem">
                <p>Certaines propriétés peuvent avoir des valeurs d'entrée égales, mais non identiques. Pour éviter les faux positifs, vous devez vous assurer que la configuration attendue correspond à la configuration réelle.</p>
                <div class="itemizedlist">
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Par exemple, la configuration attendue d'une ressource peut être de 1 024 Mo et la configuration réelle de cette même ressource peut être de 1 Go. 1 024 Mo et 1 Go sont égaux, mais pas identiques.</p>
                        <p>Lorsque la détection des écarts s'exécute sur cette ressource, elle signale les résultats présentant des écarts.</p>
                        <p>Pour éviter ce faux positif, changez la configuration attendue de la propriété de la ressource à 1 024 Mo, puis lancez la détection des écarts.</p>
                    </li></ul></div>

            </li></ul></div>




    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avertissement" /> <strong>JavaScript est désactivé ou n'est pas disponible dans votre navigateur.</strong></p><p>Pour que vous puissiez utiliser la documentation AWS, Javascript doit être activé. Vous trouverez des instructions sur les pages d'aide de votre navigateur.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Conventions de rédaction</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./using-cfn-updating-stacks-continueupdaterollback.html">Poursuite de la restauration d'une mise à jour</div><div id="next" class="next-link" accesskey="n" href="./detect-drift-stack.html">Détectez la dérive sur l'ensemble d'une  CloudFormation  pile</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Oui</div><div class="content"><p>Merci de nous avoir fait part de votre satisfaction.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer ce qui vous a plu afin que nous puissions nous améliorer davantage.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Non</div><div class="content"><p>Merci de nous avoir avertis que cette page avait besoin d'être retravaillée. Nous sommes désolés de ne pas avoir répondu à vos attentes.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer comment nous pourrions améliorer cette documentation.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-cfn-stack-drift.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>