<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="fr-FR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Attribut UpdatePolicy - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="aws-attribute-updatepolicy" /><meta name="default_state" content="aws-attribute-updatepolicy" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" /><meta name="description" content="Précisez comment gérer les mises à jour pour les ressources suivantes avec l'attribut UpdatePolicy : AWS::AutoScaling::AutoScalingGroup, AWS::AutoScaling::AutoScalingGroup, AWS::ElastiCache::ReplicationGroup, AWS::OpenSearchService::Domain, AWS::Elasticsearch::Domain ou AWS::Lambda::Alias." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Guide de l'utilisateur" /><meta name="abstract" content="Créez et gérez des déploiements AWS d'infrastructure de manière prévisible et répétée à l'aide de ce AWS CloudFormation guide de l'utilisateur." /><meta name="guide-locale" content="fr_fr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Guide de l'utilisateur" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Guide de l'utilisateur" /><meta id="panorama-serviceConsolePage" value="Attribut UpdatePolicy" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Attribut UpdatePolicy - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,provisionnement des ressources,configuration des ressources,gestion de l'infrastructure,CloudFormer,CloudFormation pile,CloudFormation stackset,CloudFormation modèle,jeu de modifications" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guide de l'utilisateur",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Référence de modèles",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/template-reference.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Référence d'attribut de ressource",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-product-attribute-reference.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Attribut UpdatePolicy",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-product-attribute-reference.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Guide de l'utilisateur</a></div><div id="page-toc-src"><a href="#aws-resource-update-policies">Politiques de mise à jour des ressources</a><a href="#aws-attribute-update-policy-app-stream-fleet">AppStream Politique de mise à jour 2.0</a><a href="#cfn-attributes-updatepolicy-replacingupdate">AutoScalingReplacingUpdatepolitique</a><a href="#cfn-attributes-updatepolicy-rollingupdate">AutoScalingRollingUpdatepolitique</a><a href="#cfn-attributes-updatepolicy-scheduledactions">AutoScalingScheduledActionpolitique</a><a href="#cfn-attributes-updatepolicy-useonlineresharding">UseOnlineReshardingpolitique</a><a href="#cfn-attributes-updatepolicy-upgradeopensearchdomain">EnableVersionUpgradepolitique</a><a href="#cfn-attributes-updatepolicy-codedeploylambdaaliasupdate">CodeDeployLambdaAlias Politique de mise à jour</a><a href="#aws-attribute-updatepolicy-examples">Exemples</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Les traductions sont fournies par des outils de traduction automatique. En cas de conflit entre le contenu d'une traduction et celui de la version originale en anglais, la version anglaise prévaudra.</p></awsui-alert><h1 class="topictitle" id="aws-attribute-updatepolicy">Attribut <code class="code">UpdatePolicy</code></h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Utilisez l'attribut <code class="code">UpdatePolicy</code> pour spécifier la méthode utilisée par AWS CloudFormation pour gérer les mises à jour des ressources suivantes :</p><div class="itemizedlist">
     
     
     
     
     
     
  <ul class="itemizedlist"><li class="listitem">
      <p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-appstream-fleet.html"><code class="code">AWS::AppStream::Fleet</code></a></p>
    </li><li class="listitem">
      <p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-as-group.html"><code class="code">AWS::AutoScaling::AutoScalingGroup</code></a></p>
    </li><li class="listitem">
      <p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-elasticache-replicationgroup.html"><code class="code">AWS::ElastiCache::ReplicationGroup</code></a></p>
    </li><li class="listitem">
      <p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-opensearchservice-domain.html"><code class="code">AWS::OpenSearchService::Domain</code></a></p>
    </li><li class="listitem">
      <p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-elasticsearch-domain.html"><code class="code">AWS::Elasticsearch::Domain</code></a></p>
    </li><li class="listitem">
      <p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-lambda-alias.html"><code class="code">AWS::Lambda::Alias</code></a></p>
    </li></ul></div>
  <h2 id="aws-resource-update-policies">Politiques de mise à jour des ressources</h2>

  <div class="itemizedlist">
     

     

     

     

     
  <ul class="itemizedlist"><li class="listitem">
      <p>Pour les <code class="code">AWS::AppStream::Fleet</code> ressources,  CloudFormation  vous pouvez mettre à jour votre Image Builder avec le nouveau logiciel d'agent  AppStream  2.0. Pour plus d'informations, voir <a href="https://docs.aws.amazon.com/appstream2/latest/developerguide/base-images-agent.html">Gérer les versions  AppStream  2.0</a>.</p>
    </li><li class="listitem">
      <p>Pour les <code class="code">AWS::AutoScaling::AutoScalingGroup</code> ressources,  CloudFormation  invoque l'une des trois politiques de mise à jour selon le type de modification que vous apportez ou selon qu'une opération planifiée est associée au groupe Auto Scaling.</p>
      <div class="itemizedlist">
         
         
      <ul class="itemizedlist"><li class="listitem">
          <p>Les politiques <code class="code">AutoScalingReplacingUpdate</code> et <code class="code">AutoScalingRollingUpdate</code> s'appliquent <em>seulement</em> lorsque vous terminez une ou plusieurs des opérations suivantes :</p>
          <div class="itemizedlist">
             
             
             
             
          <ul class="itemizedlist"><li class="listitem">
              <p>Modification de la ressource <code class="code"><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-as-launchconfig.html">AWS::AutoScaling::LaunchConfiguration</a></code> du groupe Auto Scaling.</p>
            </li><li class="listitem">
              <p>Modification de la propriété <code class="code">VPCZoneIdentifier</code> du groupe Auto Scaling.</p>
            </li><li class="listitem">
              <p>Modification de la propriété <code class="code">LaunchTemplate</code> du groupe Auto Scaling.</p>
            </li><li class="listitem">
              <p>Mise à jour d'un groupe Auto Scaling qui contient des instances ne correspondant pas à la ressource <code class="code">LaunchConfiguration</code> actuelle.</p>
            </li></ul></div>
          <p>Si les politiques <code class="code">AutoScalingReplacingUpdate</code> et <code class="code">AutoScalingRollingUpdate</code> sont toutes les deux spécifiées, la définition de la propriété <code class="code">WillReplace</code> sur <code class="code">true</code> donne la priorité à <code class="code">AutoScalingReplacingUpdate</code>.</p>
        </li><li class="listitem">
          <p>La politique <code class="code">AutoScalingScheduledAction</code> s'applique lorsque vous mettez à jour une pile qui inclut un groupe Auto Scaling auquel est associée une action planifiée.</p>
        </li></ul></div>
    </li><li class="listitem">
      <p>Pour les <code class="code">AWS::ElastiCache::ReplicationGroup</code> ressources,  CloudFormation  vous pouvez modifier les partitions d'un groupe de réplication en ajoutant ou en supprimant des partitions, plutôt que de remplacer la ressource dans son intégralité. Pour plus d’informations, consultez <a href="#cfn-attributes-updatepolicy-useonlineresharding">UseOnlineReshardingpolitique</a>.</p>
    </li><li class="listitem">
      <p>Pour les <code class="code">AWS::Elasticsearch::Domain</code> ressources existantes <code class="code">AWS::OpenSearchService::Domain</code> et anciennes,  CloudFormation  vous pouvez mettre à niveau un domaine de  OpenSearch  service vers une nouvelle version  OpenSearch  d'Elasticsearch sans remplacer l'intégralité de la ressource. Pour plus d’informations, consultez <a href="#cfn-attributes-updatepolicy-upgradeopensearchdomain">EnableVersionUpgradepolitique</a>.</p>
    </li><li class="listitem">
      <p>Pour les <code class="code">AWS::Lambda::Alias</code> ressources,  CloudFormation  effectue un  CodeDeploy  déploiement lorsque la version change sur l'alias. Pour plus d’informations, consultez <a href="#cfn-attributes-updatepolicy-codedeploylambdaaliasupdate">CodeDeployLambdaAlias Politique de mise à jour</a>.</p>
    </li></ul></div>
 
    <h2 id="aws-attribute-update-policy-app-stream-fleet">AppStream Politique de mise à jour 2.0</h2>
    <p>AppStream Configuration 2.0 pour une politique de mise à jour.</p>
     
      <h3 id="aws-attribute-update-policy-app-stream-fleet-syntax">Syntaxe</h3>
      <div id="JSON" name="JSON" class="section langfilter">
        <h4 id="aws-attribute-update-policy-app-stream-fleet-syntax-json">JSON</h4>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "UpdatePolicy": <span>{</span>
        "<a href="#cfn-attributes-updatepolicy-replacingupdate-StopBeforeUpdate">StopBeforeUpdate</a>": <span>{</span>
            "Type": "<code class="replaceable">Boolean</code>"
        },
        "<a href="#cfn-attributes-updatepolicy-replacingupdate-StartAfterUpdate">StartAfterUpdate</a>": <span>{</span>
            "Type": "<code class="replaceable">Boolean</code>"
        }
    }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h4 id="aws-attribute-update-policy-app-stream-fleet-syntax-yaml">YAML</h4>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">UpdatePolicy:
  <a href="#cfn-attributes-updatepolicy-replacingupdate-StopBeforeUpdate">StopBeforeUpdate</a>:
    Type: <code class="replaceable">Boolean</code>
  <a href="#cfn-attributes-updatepolicy-replacingupdate-StartAfterUpdate">StartAfterUpdate</a>:
    Type: <code class="replaceable">Boolean</code></code></pre>
      </div>
      <div class="variablelist">
         
         
      <dl>
          <dt id="cfn-attributes-updatepolicy-replacingupdate-StopBeforeUpdate"><span class="term"><code class="code">StopBeforeUpdate</code></span></dt>
          <dd>
            <p>Arrête la flotte spécifiée avant la mise à jour.</p>
            <p><em>Obligatoire</em> : non</p>
          </dd>
         
          <dt id="cfn-attributes-updatepolicy-replacingupdate-StartAfterUpdate"><span class="term"><code class="code">StartAfterUpdate</code></span></dt>
          <dd>
            <p>Démarre la flotte spécifiée après la mise à jour.</p>
            <p><em>Obligatoire</em> : non</p>
          </dd>

        </dl></div>
     
   
    <h2 id="cfn-attributes-updatepolicy-replacingupdate">AutoScalingReplacingUpdatepolitique</h2>

    <p>Pour spécifier la méthode utilisée par AWS CloudFormation pour gérer les mises à jour de remplacement d'un groupe Auto Scaling, utilisez la politique <code class="code">AutoScalingReplacingUpdate</code>. Cette politique vous permet de spécifier si AWS CloudFormation remplace un groupe Auto Scaling par un nouveau groupe, ou s'il remplace uniquement les instances du groupe Auto Scaling.</p>
    <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>Avant de tenter une mise à jour, assurez-vous de disposer d'une capacité Amazon EC2 suffisante, à la fois pour les groupes Auto Scaling anciens et nouveaux.</p></div></div>


     
      <h3 id="cfn-attributes-updatepolicy-replacingupdate-syntax">Syntaxe</h3>

      <div id="JSON" name="JSON" class="section langfilter">
        <h4 id="aws-attribute-updatepolicy-replacingupdate-syntax.json">JSON</h4>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"UpdatePolicy" : <span>{</span>
  "<a href="#cfn-attributes-updatepolicy-replacingupdate">AutoScalingReplacingUpdate</a>" : <span>{</span>
    "<a href="#cfn-attributes-updatepolicy-replacingupdate-willreplace">WillReplace</a>" : <code class="replaceable">Boolean</code>
  }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h4 id="aws-attribute-updatepolicy-replacingupdate-syntax.yaml">YAML</h4>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">UpdatePolicy:
  <a href="#cfn-attributes-updatepolicy-replacingupdate">AutoScalingReplacingUpdate</a>:
    <a href="#cfn-attributes-updatepolicy-replacingupdate-willreplace">WillReplace</a>: <code class="replaceable">Boolean</code></code></pre>
      </div>
     
     
      <h3 id="cfn-attributes-updatepolicy-replacingupdate-properties">Propriétés</h3>

      <div class="variablelist">
         
      <dl>
          <dt id="cfn-attributes-updatepolicy-replacingupdate-willreplace"><span class="term"><code class="code">WillReplace</code></span></dt>
          <dd>
            <p>Spécifie si un groupe Auto Scaling et les instances qu'il contient seront remplacés pendant une mise à jour. Pendant le remplacement,  CloudFormation  conserve l'ancien groupe jusqu'à ce qu'il ait fini de créer le nouveau. Si la mise à jour échoue,  CloudFormation  vous pouvez revenir à l'ancien groupe Auto Scaling et supprimer le nouveau groupe Auto Scaling.</p>
            <p>Lors  CloudFormation  de la création du nouveau groupe, il ne détache ni n'attache aucune instance. Après avoir créé avec succès le nouveau groupe Auto Scaling,  CloudFormation  supprime l'ancien groupe Auto Scaling pendant le processus de nettoyage.</p>
            <p>Lorsque vous définissez le paramètre <code class="code">WillReplace</code>, n'oubliez pas de spécifier une stratégie <code class="code"><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-creationpolicy.html">CreationPolicy</a></code> correspondante. Si le nombre minimal d'instances (spécifié par la propriété <code class="code">MinSuccessfulInstancesPercent</code>) n'indique pas la réussite avant l'expiration du délai <code class="code">Timeout</code> (spécifié dans la politique <code class="code">CreationPolicy</code>), la mise à jour de remplacement échoue et AWS CloudFormation restaure l'ancien groupe Auto Scaling.</p>
            <p><em>Type</em> : valeur booléenne</p>
            <p><em>Obligatoire</em> : non</p>
          </dd>
        </dl></div>
     
   
    <h2 id="cfn-attributes-updatepolicy-rollingupdate">AutoScalingRollingUpdatepolitique</h2>

    <p>Pour spécifier le mode de  CloudFormation  gestion des mises à jour continues pour un groupe Auto Scaling, utilisez la <code class="code">AutoScalingRollingUpdate</code> politique. La propagation des mises à jour vous permet de spécifier si AWS CloudFormation met à jour les instances qui figurent dans un groupe Auto Scaling par lots ou simultanément.</p>
    <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>Lors d'une mise à jour continue, certains processus Auto Scaling peuvent apporter des modifications au groupe Auto Scaling avant de  CloudFormation  terminer la mise à jour continue. Ces modifications peuvent entraîner l'échec de la propagation des mises à jour. Pour empêcher Auto Scaling d'exécuter des processus lors de la propagation des mises à jour, utilisez la propriété <code class="code">SuspendProcesses</code>. Pour plus d'informations, consultez <a href="https://aws.amazon.com/premiumsupport/knowledge-center/auto-scaling-group-rolling-updates/" rel="noopener noreferrer" target="_blank"><span>Quelles sont les bonnes pratiques recommandées pour exécuter des mises à jour propagées sur un groupe Auto Scaling ?</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a></p></div></div>

    <p>Sachez que, lors des opérations d'annulation de mise à jour de pile, la <code class="code">UpdatePolicy</code> configuration spécifiée dans le modèle est  CloudFormation  utilisée avant l'opération de mise à jour de pile en cours. Par exemple, supposons que vous avez modifié la valeur de la propriété <code class="code">MaxBatchSize</code> de 1 à 10 dans l'attribut <code class="code">UpdatePolicy</code> de votre modèle de pile. Vous effectuez ensuite une mise à jour de la pile, et cette mise à jour échoue et  CloudFormation  lance une opération d'annulation de mise à jour. Dans ce cas,  CloudFormation  utilise la valeur 1 comme taille de lot maximale, plutôt que 10. C'est pourquoi nous vous recommandons d'apporter des modifications à la configuration <code class="code">UpdatePolicy</code> dans une mise à jour de pile, séparément et avant toutes les mises à jour de la ressource <code class="code">AWS::AutoScaling::AutoScalingGroup</code> qui sont susceptibles de lancer des mises à jour propagées.</p>

    
      <h3 id="cfn-attributes-updatepolicy-rollingupdate-syntax">Syntaxe</h3>

      <div id="JSON" name="JSON" class="section langfilter">
        <h4 id="aws-attribute-updatepolicy-rollingupdate-syntax.json">JSON</h4>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"UpdatePolicy" : <span>{</span>
  "<a href="#cfn-attributes-updatepolicy-rollingupdate">AutoScalingRollingUpdate</a>" : <span>{</span>
    "<a href="#cfn-attributes-updatepolicy-rollingupdate-maxbatchsize">MaxBatchSize</a>" : <code class="replaceable">Integer</code>,
    "<a href="#cfn-attributes-updatepolicy-rollingupdate-minactiveinstancespercent">MinActiveInstancesPercent</a>" : <code class="replaceable">Integer</code>,
    "<a href="#cfn-attributes-updatepolicy-rollingupdate-mininstancesinservice">MinInstancesInService</a>" : <code class="replaceable">Integer</code>,
    "<a href="#cfn-attributes-updatepolicy-rollingupdate-minsuccessfulinstancespercent">MinSuccessfulInstancesPercent</a>" : <code class="replaceable">Integer</code>,
    "<a href="#cfn-attributes-updatepolicy-rollingupdate-pausetime">PauseTime</a>" : <code class="replaceable">String</code>,
    "<a href="#cfn-attributes-updatepolicy-rollingupdate-suspendprocesses">SuspendProcesses</a>" : [ <code class="replaceable">List of processes</code> ],
    "<a href="#cfn-attributes-updatepolicy-rollingupdate-waitonresourcesignals">WaitOnResourceSignals</a>" : <code class="replaceable">Boolean</code>
  }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h4 id="aws-attribute-updatepolicy-rollingupdate-syntax.yaml">YAML</h4>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">UpdatePolicy:
  <a href="#cfn-attributes-updatepolicy-rollingupdate">AutoScalingRollingUpdate</a>:
    <a href="#cfn-attributes-updatepolicy-rollingupdate-maxbatchsize">MaxBatchSize</a>: <code class="replaceable">Integer</code>
    <a href="#cfn-attributes-updatepolicy-rollingupdate-minactiveinstancespercent">MinActiveInstancesPercent</a>: <code class="replaceable">Integer</code>
    <a href="#cfn-attributes-updatepolicy-rollingupdate-mininstancesinservice">MinInstancesInService</a>: <code class="replaceable">Integer</code>
    <a href="#cfn-attributes-updatepolicy-rollingupdate-minsuccessfulinstancespercent">MinSuccessfulInstancesPercent</a>: <code class="replaceable">Integer</code>
    <a href="#cfn-attributes-updatepolicy-rollingupdate-pausetime">PauseTime</a>: <code class="replaceable">String</code>
    <a href="#cfn-attributes-updatepolicy-rollingupdate-suspendprocesses">SuspendProcesses</a>:
      - <code class="replaceable">List of processes</code>
    <a href="#cfn-attributes-updatepolicy-rollingupdate-waitonresourcesignals">WaitOnResourceSignals</a>: <code class="replaceable">Boolean</code></code></pre>
      </div>
     
     
      <h3 id="aws-attribute-updatepolicy-rollingupdate-properties">Propriétés</h3>
      <div class="variablelist">
         
        
         
         
         
         
         
      <dl>
          <dt id="cfn-attributes-updatepolicy-rollingupdate-maxbatchsize"><span class="term"><code class="code">MaxBatchSize</code></span></dt>
          <dd>
            <p>Spécifie le nombre maximum d'instances pouvant être remplacées simultanément.</p>
            <p><em>Par défaut</em> : <code class="code">1</code></p>
            <p><em>Maximum </em>: <code class="code">100</code></p>
            <p><em>Type</em> : entier</p>
            <p><em>Obligatoire</em> : non</p>
          </dd>
         
     <dt id="cfn-attributes-updatepolicy-rollingupdate-minactiveinstancespercent"><span class="term"><code class="code">MinActiveInstancesPercent</code></span></dt>
     <dd>
      <p>Spécifie le pourcentage d'instances d'un groupe Auto Scaling qui doivent être dans <code class="code">InService</code> l'état correspondant à la capacité souhaitée par ce groupe lors d'une mise à jour continue pour qu'une mise à jour réussisse. Vous pouvez spécifier une valeur comprise entre 0 et 100.  CloudFormation arrondit au dixième de pour cent le plus proche. Par exemple, si vous mettez à jour cinq instances avec un <code class="code">InService</code> pourcentage minimum de 50, au moins trois instances doivent être dans <code class="code">InService</code> cet état.</p>
      <p>Si une instance ne passe pas à l'<code class="code">InService</code>état dans un délai fixe d'une heure, cela  CloudFormation  suppose qu'elle n'a pas été mise à jour.</p>
      <p>Si vous spécifiez cette propriété, vous devez également l'<code class="code">PauseTime</code>activer.</p>
      <p>Le <code class="code">MinActiveInstancesPercent</code> paramètre s'applique uniquement aux instances à des fins de stabilisation. Pour spécifier le nombre d'instances de votre groupe Auto Scaling, consultez les <code class="code">MinSize</code> <code class="code">DesiredCapacity</code> propriétés <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-as-group.html#cfn-as-group-maxsize"><code class="code">MaxSize</code></a>, et de la <code class="code">AWS::AutoScaling::AutoScalingGroup</code> ressource.</p>
      <p>La configuration <code class="code">MinActiveInstancesPercent</code> de votre <code class="code">UpdatePolicy</code> aura également une incidence sur les instances lancées en réponse à une <code class="code">DesiredCapacity</code> propriété de la <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-as-group.html"><code class="code">AWS::AutoScaling::AutoScalingGroup</code></a>ressource supérieure à la capacité actuellement souhaitée pour ce groupe Auto Scaling.</p>
      <p><em>Par défaut</em> : <code class="code">100</code></p>
      <p><em>Type</em> : entier</p>
      <p><em>Obligatoire</em> : non</p>
     </dd>
     
          <dt id="cfn-attributes-updatepolicy-rollingupdate-mininstancesinservice"><span class="term"><code class="code">MinInstancesInService</code></span></dt>
          <dd>
            <p>Spécifie le nombre minimum d'instances qui doivent être en service au sein du groupe Auto Scaling lors de la mise  CloudFormation  à jour des anciennes instances. Cette valeur doit être inférieure à celle <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-as-group.html#cfn-as-group-maxsize"><code class="code">MaxSize</code></a>du groupe Auto Scaling.</p>
            <p><em>Par défaut</em> : <code class="code">0</code></p>
            <p><em>Type</em> : entier</p>
            <p><em>Obligatoire</em> : non</p>
          </dd>
         
          <dt id="cfn-attributes-updatepolicy-rollingupdate-minsuccessfulinstancespercent"><span class="term"><code class="code">MinSuccessfulInstancesPercent</code></span></dt>
          <dd>
            <p>Spécifie le pourcentage d'instances d'une mise à jour propagée Auto Scaling qui doivent signaler une réussite pour qu'une mise à jour aboutisse. Vous pouvez spécifier une valeur comprise entre <code class="code">0</code> et<code class="code">100</code>.  CloudFormation arrondit au dixième de pour cent le plus proche. Par exemple, si vous mettez à jour cinq instances avec un pourcentage de réussite minimum de <code class="code">50</code>, trois instances doivent envoyer un signal de réussite.</p>
            <p>Si une instance n'envoie pas de signal dans le délai spécifié dans la <code class="code">PauseTime</code> propriété, cela  CloudFormation  suppose que l'instance n'a pas été mise à jour.</p>
            <p>Si vous spécifiez cette propriété, vous devez également activer les propriétés <code class="code">WaitOnResourceSignals</code> et <code class="code">PauseTime</code>.</p>
            <p>Le paramètre <code class="code">MinSuccessfulInstancesPercent</code> s'applique uniquement aux instances à des fins de signalisation uniquement. Pour spécifier le nombre d'instances de votre groupe de mise à l'échelle automatique, consultez les <code class="code">MinSize</code> <code class="code">DesiredCapacity</code> propriétés<code class="code">MaxSize</code>, et de la <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-as-group.html"><code class="code">AWS::AutoScaling::AutoScalingGroup</code></a>ressource.</p>
            <p><em>Par défaut</em> : <code class="code">100</code></p>
            <p><em>Type</em> : entier</p>
            <p><em>Obligatoire</em> : non</p>

            <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>Lorsque la <code class="code">MinSuccessfulInstancesPercent</code> propriété est définie sur<code class="code">0</code>,  CloudFormation  attend que 0 % de la capacité des instances soient dans un <code class="code">InService</code> état. <code class="code">MinSuccessfulInstancesPercent</code>revient immédiatement et avant de prendre en compte le statut du groupe Auto Scaling <code class="code">Update
                  Complete</code> pour passer aux ressources suivantes définies dans le modèle de pile.</p><p>Si d'autres groupes Auto Scaling sont définis dans votre  CloudFormation  modèle, ils seront mis à jour simultanément. Lorsque tous les groupes Auto Scaling sont déployés en même temps avec 0 % des instances de capacité dans un état <code class="code">InService</code>, vous rencontrerez des problèmes de disponibilité, en raison de l'absence d'instances desservant le trafic client.</p><p>CloudFormation recommande qu'il <code class="code">MinSuccessfulInstancesPercent</code> soit défini sur une valeur supérieure à 0, afin de permettre la vérification d'un minimum d'instances raisonnable avant d'envisager de terminer la mise à jour des groupes Auto Scaling.</p></div></div>

          </dd>

         
          <dt id="cfn-attributes-updatepolicy-rollingupdate-pausetime"><span class="term"><code class="code">PauseTime</code></span></dt>
          <dd>
            <p>Durée de  CloudFormation  pause après avoir apporté une modification à un lot d'instances pour donner à ces instances le temps de démarrer des applications logicielles. Par exemple, vous devrez peut-être spécifier <code class="code">PauseTime</code> lorsque vous augmenterez le nombre d'instances dans un groupe Auto Scaling.</p>
            <p>Si vous activez la <code class="code">WaitOnResourceSignals</code> propriété, <code class="code">PauseTime</code> c'est le temps qui  CloudFormation  doit attendre avant que le groupe Auto Scaling reçoive le nombre requis de signaux valides provenant d'instances ajoutées ou remplacées. Si la valeur de <code class="code">PauseTime</code> est dépassée avant que le groupe Auto Scaling ait reçu le nombre de signaux requis, la mise à jour échoue. Pour optimiser les performances, spécifiez une période de temps qui laisse à vos applications suffisamment de temps pour démarrer. Si la mise à jour doit être restaurée, une valeur <code class="code">PauseTime</code> faible peut l'échec de la restauration.</p>
            <p>Spécifiez <code class="code">PauseTime</code> dans le <a href="http://en.wikipedia.org/wiki/ISO_8601#Durations" rel="noopener noreferrer" target="_blank"><span>format de durée ISO8601</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> (au format <code class="code">PT<code class="replaceable">#</code>H<code class="replaceable">#</code>M<code class="replaceable">#</code>S</code>, où chaque <code class="replaceable">#</code> correspond au nombre d'heures, de minutes et de secondes, respectivement). La valeur <code class="code">PauseTime</code> maximale est d'une heure (<code class="code">PT1H</code>).</p>
            <p><em>Par défaut :</em> <code class="code">PT1H</code> (1 heure) lorsque la propriété <code class="code">WaitOnResourceSignals</code> est définie sur <code class="code">true</code>.</p>
            <p><em>Type :</em> chaîne</p>
            <p><em>Obligatoire</em> : non</p>
          </dd>
         
          <dt id="cfn-attributes-updatepolicy-rollingupdate-suspendprocesses"><span class="term"><code class="code">SuspendProcesses</code></span></dt>
          <dd>
            <p>Spécifie les processus Auto Scaling à suspendre pendant une mise à jour de la pile. La suspension des procédures empêche Auto Scaling d'interférer avec une mise à jour de la pile. Par exemple, vous pouvez suspendre les alarmes afin qu'Amazon EC2 Auto Scaling ne lance pas les politiques de mise à l'échelle associées à une alarme. Pour connaître les valeurs valides, consultez le <code class="code">ScalingProcesses.member.N</code> paramètre de l'<a href="https://docs.aws.amazon.com/autoscaling/ec2/APIReference/API_SuspendProcesses.html">SuspendProcesses</a>action dans le manuel <em>Amazon EC2 Auto Scaling API Reference</em>.</p>
            <p><em>Valeur par défaut</em> : non précisée</p>
            <p><em>Type</em> : liste de processus Auto Scaling</p>
            <p><em>Obligatoire</em> : non</p>
          </dd>
         
          <dt id="cfn-attributes-updatepolicy-rollingupdate-waitonresourcesignals"><span class="term"><code class="code">WaitOnResourceSignals</code></span></dt>
          <dd>
            <p>Spécifie si le groupe Auto Scaling attend les signaux de nouvelles instances pendant une mise à jour. Utilisez cette propriété pour garantir que les instances ont terminé d'installer et de configurer les applications avant de procéder à la mise à jour du groupe Auto Scaling. AWS CloudFormation suspend la mise à jour d'un groupe Auto Scaling une fois que de nouvelles instances EC2 ont été lancées dans le groupe. Pour pouvoir continuer la mise à jour, AWS CloudFormation doit recevoir un signal provenant de chaque nouvelle instance dans le délai <code class="code">PauseTime</code> spécifié. Pour envoyer un signal au groupe Auto Scaling, utilisez le script d'assistant <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-signal.html">cfn-signal</a> ou l'API <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_SignalResource.html"><code class="code">SignalResource</code></a>.</p>
            <p>Pour que les instances attendent une vérification de l'état Elastic Load Balancing avant de signaler un succès, ajoutez une vérification de l'état à l'aide du script d'assistant <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-init.html">cfn-init</a>. Pour obtenir un exemple, consultez la commande <code class="code">verify_instance_health</code> dans l'exemple de modèle de <a href="https://github.com/awslabs/aws-cloudformation-templates/blob/master/aws/services/AutoScaling/AutoScalingRollingUpdates.yaml" rel="noopener noreferrer" target="_blank"><span>déploiement des mises à jour Auto Scaling</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
            <p><em>Par défaut</em> : <code class="code">true</code></p>
            <p><em>Type</em> : valeur booléenne</p>
            <p><em>Obligatoire :</em> selon les conditions. Si vous spécifiez la propriété <code class="code">MinSuccessfulInstancesPercent</code>, vous devez également activer les propriétés <code class="code">WaitOnResourceSignals</code> et <code class="code">PauseTime</code>.</p>
          </dd>
        </dl></div>
     
   
    <h2 id="cfn-attributes-updatepolicy-scheduledactions">AutoScalingScheduledActionpolitique</h2>

    <p>Pour spécifier la méthode utilisée par AWS CloudFormation pour gérer les mises à jour des propriétés <code class="code">MinSize</code>, <code class="code">MaxSize</code> et <code class="code">DesiredCapacity</code> lorsqu'une action planifiée est associée à la ressource <code class="code">AWS::AutoScaling::AutoScalingGroup</code>, utilisez la politique <code class="code">AutoScalingScheduledAction</code>.</p>
    <p>Avec des actions planifiées, les propriétés de taille d'un groupe Auto Scaling peuvent changer à tout moment. Lorsque vous mettez à jour une pile avec un groupe Auto Scaling et une action planifiée, définissez  CloudFormation  toujours les valeurs des propriétés de taille de groupe de votre groupe Auto Scaling sur les valeurs définies dans la <code class="code">AWS::AutoScaling::AutoScalingGroup</code> ressource de votre modèle, même si une action planifiée est en cours d'exécution.</p>
    <p>Si vous ne  CloudFormation  souhaitez modifier aucune des valeurs des propriétés de taille de groupe lorsqu'une action planifiée est en vigueur, utilisez la politique de <code class="code">AutoScalingScheduledAction</code> mise à jour et <code class="code">IgnoreUnmodifiedGroupSizeProperties</code> configurez-la <code class="code">true</code> pour  CloudFormation  empêcher de modifier les <code class="code">DesiredCapacity</code> propriétés <code class="code">MinSize</code><code class="code">MaxSize</code>, ou à moins que vous n'ayez modifié ces valeurs dans votre modèle.</p>
     
      <h3 id="cfn-attributes-updatepolicy-scheduledactions-syntax">Syntaxe</h3>

      <div id="JSON" name="JSON" class="section langfilter">
        <h4 id="aws-attribute-updatepolicy-scheduledactions-syntax.json">JSON</h4>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"UpdatePolicy" : <span>{</span>
  "<a href="#cfn-attributes-updatepolicy-scheduledactions">AutoScalingScheduledAction</a>" : <span>{</span>
    "<a href="#cfn-attributes-updatepolicy-scheduledactions-ignoreunmodifiedgroupsizeproperties">IgnoreUnmodifiedGroupSizeProperties</a>" : <code class="replaceable">Boolean</code>
  }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h4 id="aws-attribute-updatepolicy-scheduledactions-syntax.yaml">YAML</h4>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">UpdatePolicy:
  <a href="#cfn-attributes-updatepolicy-scheduledactions">AutoScalingScheduledAction</a>:
    <a href="#cfn-attributes-updatepolicy-scheduledactions-ignoreunmodifiedgroupsizeproperties">IgnoreUnmodifiedGroupSizeProperties</a>: <code class="replaceable">Boolean</code></code></pre>
      </div>
     
     
      <h3 id="cfn-attributes-updatepolicy-scheduledactions-properties">Propriétés</h3>

      <div class="variablelist">
         
      <dl>
          <dt id="cfn-attributes-updatepolicy-scheduledactions-ignoreunmodifiedgroupsizeproperties"><span class="term"><code class="code">IgnoreUnmodifiedGroupSizeProperties</code></span></dt>
          <dd>
            <p>Si la valeur <code class="code">true</code> est définie, AWS CloudFormation ignore les différences de propriétés de taille de groupe entre votre groupe Auto Scaling actuel et le groupe Auto Scaling décrit dans la ressource <code class="code">AWS::AutoScaling::AutoScalingGroup</code> de votre modèle pendant une mise à jour de la pile. Si vous modifiez l'une des valeurs de propriété de taille de groupe dans votre modèle, AWS CloudFormation utilise les valeurs modifiées et met à jour votre groupe Auto Scaling.</p>
            <p><em>Par défaut</em> : <code class="code">false</code></p>
            <p><em>Type</em> : valeur booléenne</p>
            <p><em>Obligatoire</em> : non</p>
          </dd>
        </dl></div>
     
   
    <h2 id="cfn-attributes-updatepolicy-useonlineresharding">UseOnlineReshardingpolitique</h2>
    <p>Pour modifier les partitions d'un groupe de réplication en ajoutant ou en supprimant des partitions plutôt qu'en remplaçant la ressource <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-elasticache-replicationgroup.html">AWS::ElastiCache::ReplicationGroup</a> dans son intégralité, utilisez la politique de mise à jour <code class="code">UseOnlineResharding</code>.</p>
    <p>Si <code class="code">UseOnlineResharding</code> ce paramètre est défini sur<code class="code">true</code>, vous pouvez mettre à jour les <code class="code">NodeGroupConfiguration</code> propriétés <code class="code">NumNodeGroups</code> et de la <code class="code">AWS::ElastiCache::ReplicationGroup</code> ressource, et vous  CloudFormation  mettrez à jour ces propriétés sans interruption. Lorsqu'elle <code class="code">UseOnlineResharding</code> est définie sur ou non spécifiée<code class="code">false</code>, la mise à jour des <code class="code">NodeGroupConfiguration</code> propriétés <code class="code">NumNodeGroups</code> et entraîne le  CloudFormation  remplacement de la <code class="code">AWS::ElastiCache::ReplicationGroup</code> ressource dans son intégralité.</p>
    <p>La politique de mise à jour <code class="code">UseOnlineResharding</code> n'a pas de propriétés.</p>
    <p>Éléments à prendre en compte lors de la définition de la politique de mise à jour <code class="code">UseOnlineResharding</code> sur <code class="code">true</code> :</p>
    <div class="itemizedlist">
       
       
       
    <ul class="itemizedlist"><li class="listitem">
        <p>Nous recommandons vivement que les mises à jour des propriétés <code class="code">NumNodeGroups</code> et <code class="code">NodeGroupConfiguration</code> soient les seules mises à jour effectuées dans une opération de mise à jour de pile donnée.</p>
        <p>La mise à jour de la configuration de groupe de nœuds d'un groupe de réplication est une opération gourmande en ressources. Si une mise à jour de la pile échoue,  CloudFormation  cela n'annule pas les modifications apportées à la configuration du groupe de nœuds d'un groupe de réplication. Cependant, toutes les autres propriétés modifiées à la suite de l'échec de l'opération de mise à jour  CloudFormation  seront annulées.</p>
      </li><li class="listitem">
        <p>Toutes les mises à jour de groupe de nœuds exigent d'identifier tous les groupes de nœuds.</p>
        <p>Si vous spécifiez la <code class="code">NodeGroupConfiguration</code> propriété, vous devez également spécifier la configuration  NodeGroupId  pour chaque groupe de nœuds afin de mettre  CloudFormation  à jour le nombre de nœuds sans interruption.</p>
        <p>Lorsque vous créez un groupe de réplication, si vous ne spécifiez pas d'ID pour chaque groupe de nœuds,  ElastiCache  génère automatiquement un ID pour chaque groupe de nœuds. Pour mettre à jour le groupe de réplication sans interruption, utilisez la  ElastiCache  console (<a href="https://console.aws.amazon.com/elasticache/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/elasticache/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>) ou <a href="https://docs.aws.amazon.com/AmazonElastiCache/latest/APIReference/API_DescribeReplicationGroups.html">DescribeReplicationGroups</a>pour récupérer les identifiants de tous les groupes de nœuds du groupe de réplication. Spécifiez ensuite l'ID de chaque groupe de nœuds dans votre modèle de pile avant d'essayer d'ajouter ou de supprimer des partitions.</p>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Lorsque vous créez un groupe de réplication dans un modèle de pile, la bonne pratique consiste à inclure un ID pour chaque groupe de nœuds que vous spécifiez.</p></div></div>
        <p>En outre, la mise à jour du nombre de nœuds sans interruption exige d'avoir spécifié avec précision les propriétés <code class="code">PrimaryAvailabilityZone</code>, <code class="code">ReplicaAvailabilityZones</code> et <code class="code">ReplicaCount</code> pour chaque <code class="code">NodeGroupConfiguration</code>. Encore une fois, vous pouvez utiliser la  ElastiCache  console (<a href="https://console.aws.amazon.com/elasticache/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/elasticache/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>) ou <a href="https://docs.aws.amazon.com/AmazonElastiCache/latest/APIReference/API_DescribeReplicationGroups.html">DescribeReplicationGroups</a>pour récupérer les valeurs réelles de chaque groupe de nœuds et les comparer aux valeurs de votre modèle de pile. Vous pouvez mettre à jour les valeurs de propriété des groupes de nœuds dans le cadre d'une mise à jour de pile distincte, ou dans le cadre de la même mise à jour de pile qui modifie le nombre de groupes de nœuds.</p>
        <p>Lorsque vous utilisez une politique de <code class="code">UseOnlineResharding</code> mise à jour pour mettre à jour le nombre de groupes de nœuds sans interruption,  ElastiCache  répartissez uniformément les espaces clés entre le nombre d'emplacements spécifié. Cet élément ne peut pas être mis à jour ultérieurement. Par conséquent, après avoir mis à jour le nombre de groupes de nœuds de cette façon, vous devez supprimer la valeur spécifiée pour la propriété <code class="code">Slots</code> de chaque <code class="code">NodeGroupConfiguration</code> à partir du modèle de pile, car elle ne reflète plus les valeurs réelles dans chaque groupe de nœuds.</p>
      </li><li class="listitem">
        <p>Les résultats de la suppression réelle d'un groupe de nœuds peuvent varier.</p>
        <p>Lorsque vous spécifiez une <code class="code">NumNodeGroups</code> valeur inférieure au nombre actuel de groupes de nœuds, des  CloudFormation  instructions vous demandent de  ElastiCache  supprimer autant de groupes de nœuds que nécessaire pour atteindre le nombre de nœuds spécifié. Cependant, il  ElastiCache  se peut que vous ne puissiez pas toujours supprimer le nombre souhaité de groupes de nœuds. Si  ElastiCache  vous ne parvenez pas à supprimer le nombre souhaité de groupes de nœuds CloudFormation , un événement de pile vous en avertit. Dans les cas où <em>aucun</em> groupe de nœuds ne  ElastiCache  peut être supprimé, la mise à jour  CloudFormation  des ressources échoue.</p>
      </li></ul></div>
    <p>Pour plus d'informations sur la modification des groupes de réplication, consultez <a href="https://docs.aws.amazon.com/AmazonElastiCache/latest/APIReference/API_ModifyReplicationGroupShardConfiguration.html">ModifyReplicationGroupShardConfiguration</a>le <em>Amazon  ElastiCache  API Reference</em>.</p>

     
      <h3 id="cfn-attributes-updatepolicy-useonlineresharding-syntax">Syntaxe</h3>
      <div id="JSON" name="JSON" class="section langfilter">
        <h4 id="cfn-attributes-updatepolicy-useonlineresharding-syntax.json">JSON</h4>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"UpdatePolicy" : <span>{</span>
  "<a href="#cfn-attributes-updatepolicy-useonlineresharding">UseOnlineResharding</a>" : <code class="replaceable">Boolean</code>
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h4 id="cfn-attributes-updatepolicy-useonlineresharding-syntax.yaml">YAML</h4>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">UpdatePolicy:
  <a href="#cfn-attributes-updatepolicy-useonlineresharding">UseOnlineResharding</a>: <code class="replaceable">Boolean</code></code></pre>
      </div>
     
   
    <h2 id="cfn-attributes-updatepolicy-upgradeopensearchdomain">EnableVersionUpgradepolitique</h2>

    <p>Pour mettre à niveau un domaine de  OpenSearch  service vers une nouvelle version d' OpenSearch Elasticsearch plutôt que de remplacer la totalité de la <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-elasticsearch-domain.html">AWS::Elasticsearch::Domain</a>ressource <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-opensearchservice-domain.html">AWS::OpenSearchService::Domain</a>OR, utilisez la politique de <code class="code">EnableVersionUpgrade</code> mise à jour.</p>
    <p>Si <code class="code">EnableVersionUpgrade</code> ce paramètre est défini sur<code class="code">true</code>, vous pouvez mettre à jour la <code class="code">EngineVersion</code> propriété de la <code class="code">AWS::OpenSearchService::Domain</code> ressource (ou la <code class="code">ElasticsearchVersion</code> propriété de l'ancienne <code class="code">AWS::Elasticsearch::Domain</code> ressource), et  CloudFormation  vous mettrez à jour cette propriété sans interruption. Lorsqu'elle <code class="code">EnableVersionUpgrade</code> est définie sur ou non spécifiée<code class="code">false</code>, la mise à jour de la <code class="code">ElasticsearchVersion</code> propriété <code class="code">EngineVersion</code> or entraîne le  CloudFormation  remplacement de l'intégralité de la <code class="code">AWS::Elasticsearch::Domain</code> ressource<code class="code">AWS::OpenSearchService::Domain</code>/.</p>
    <p>La politique de mise à jour <code class="code">EnableVersionUpgrade</code> n'a pas de propriétés.</p>
    <p>Pour plus d'informations sur la mise à niveau des domaines de  OpenSearch  service, consultez <a href="https://docs.aws.amazon.com/opensearch-service/latest/developerguide/configuration-api.html#configuration-api-actions-upgrade-domain">UpgradeDomain</a>le manuel Amazon  OpenSearch  Service Developer Guide.</p>

     
      <h3 id="cfn-attributes-updatepolicy-upgradeopensearchdomain-syntax">Syntaxe</h3>

      <div id="JSON" name="JSON" class="section langfilter">
        <h4 id="cfn-attributes-updatepolicy-upgradeopensearchdomain-syntax.json">JSON</h4>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"UpdatePolicy" : <span>{</span>
  "<a href="#cfn-attributes-updatepolicy-upgradeopensearchdomain">EnableVersionUpgrade</a>" : <code class="replaceable">Boolean</code>
}</code></pre>
      </div>

      <div id="YAML" name="YAML" class="section langfilter">
        <h4 id="cfn-attributes-updatepolicy-upgradeopensearchdomain-syntax.yaml">YAML</h4>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">UpdatePolicy:
  <a href="#cfn-attributes-updatepolicy-upgradeopensearchdomain">EnableVersionUpgrade</a>: <code class="replaceable">Boolean</code></code></pre>
      </div>

     

   
    <h2 id="cfn-attributes-updatepolicy-codedeploylambdaaliasupdate">CodeDeployLambdaAlias Politique de mise à jour</h2>

    <p>Pour effectuer un  CodeDeploy  déploiement lorsque la version d'une <code class="code">AWS::Lambda::Alias</code> ressource change, utilisez la politique de <code class="code">CodeDeployLambdaAliasUpdate</code> mise à jour.</p>
     
      <h3 id="cfn-attributes-updatepolicy-codedeploylambdaaliasupdate-syntax">Syntaxe</h3>

      <div id="JSON" name="JSON" class="section langfilter">
        <h4 id="aws-attribute-updatepolicy-codedeploylambdaaliasupdate-syntax.json">JSON</h4>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"UpdatePolicy" : <span>{</span>
  "<a href="#cfn-attributes-updatepolicy-codedeploylambdaaliasupdate">CodeDeployLambdaAliasUpdate</a>" : <span>{</span>
    "<a href="#cfn-attributes-updatepolicy-codedeploylambdaaliasupdate-afterallowtraffichook">AfterAllowTrafficHook</a>" : <code class="replaceable">String</code>,
    "<a href="#cfn-attributes-updatepolicy-codedeploylambdaaliasupdate-applicationname">ApplicationName</a>" : <code class="replaceable">String</code>,
    "<a href="#cfn-attributes-updatepolicy-codedeploylambdaaliasupdate-beforeallowtraffichook">BeforeAllowTrafficHook</a>" : <code class="replaceable">String</code>,
    "<a href="#cfn-attributes-updatepolicy-codedeploylambdaaliasupdate-deploymentgroupname">DeploymentGroupName</a>" : <code class="replaceable">String</code>
  }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h4 id="aws-attribute-updatepolicy-codedeploylambdaaliasupdate-syntax.yaml">YAML</h4>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">UpdatePolicy:
  <a href="#cfn-attributes-updatepolicy-codedeploylambdaaliasupdate">CodeDeployLambdaAliasUpdate</a>:
    <a href="#cfn-attributes-updatepolicy-codedeploylambdaaliasupdate-afterallowtraffichook">AfterAllowTrafficHook</a>: <code class="replaceable">String</code>
    <a href="#cfn-attributes-updatepolicy-codedeploylambdaaliasupdate-applicationname">ApplicationName</a>: <code class="replaceable">String</code>
    <a href="#cfn-attributes-updatepolicy-codedeploylambdaaliasupdate-beforeallowtraffichook">BeforeAllowTrafficHook</a>: <code class="replaceable">String</code>
    <a href="#cfn-attributes-updatepolicy-codedeploylambdaaliasupdate-deploymentgroupname">DeploymentGroupName</a>: <code class="replaceable">String</code></code></pre>
      </div>
     
     
      <h3 id="aws-attribute-updatepolicy-codedeploylambdaaliasupdate-properties">Propriétés</h3>

      <div class="variablelist">
         
         
         
         
      <dl>
          <dt id="cfn-attributes-updatepolicy-codedeploylambdaaliasupdate-afterallowtraffichook"><span class="term"><code class="code">AfterAllowTrafficHook</code></span></dt>
          <dd>
            <p>Le nom de la fonction Lambda à exécuter une fois l'acheminement du trafic terminé.</p>
            <p><em>Obligatoire</em> : non</p>
            <p><em>Type</em> : chaîne</p>
          </dd>
         
          <dt id="cfn-attributes-updatepolicy-codedeploylambdaaliasupdate-applicationname"><span class="term"><code class="code">ApplicationName</code></span></dt>
          <dd>
            <p>Nom de l' CodeDeploy application.</p>
            <p><em>Obligatoire</em> : oui</p>
            <p><em>Type</em> : chaîne</p>
          </dd>
         
          <dt id="cfn-attributes-updatepolicy-codedeploylambdaaliasupdate-beforeallowtraffichook"><span class="term"><code class="code">BeforeAllowTrafficHook</code></span></dt>
          <dd>
            <p>Le nom de la fonction Lambda à exécuter avant le lancement du routage du trafic.</p>
            <p><em>Obligatoire</em> : non</p>
            <p><em>Type</em> : chaîne</p>
          </dd>
         
          <dt id="cfn-attributes-updatepolicy-codedeploylambdaaliasupdate-deploymentgroupname"><span class="term"><code class="code">DeploymentGroupName</code></span></dt>
          <dd>
            <p>Nom du groupe de  CodeDeploy  déploiement. C'est là que la politique d'acheminement du trafic est définie.</p>
            <p><em>Obligatoire</em> : oui</p>
            <p><em>Type</em> : chaîne</p>
          </dd>
        </dl></div>
      <p>Pour obtenir un exemple de spécification de l'attribut <code class="code">UpdatePolicy</code> pour une ressource <code class="code">AWS::Lambda::Alias</code>, consultez <a href="#aws-resource-lambda-alias-example">Politique de mise à jour d'alias lambda</a>.</p>
     
   
    <h2 id="aws-attribute-updatepolicy-examples">Exemples</h2>
    <p>Les exemples suivants montrent comment ajouter une politique de mise à jour à un groupe Auto Scaling et comment assurer la disponibilité lors de la mise à jour des métadonnées.</p>
     
      <h3 id="w9aac34c23c23c23b5">Ajout d'une <code class="code">UpdatePolicy</code> à un groupe Auto Scaling</h3>

      <p>L'exemple suivant montre comment ajouter une politique de mise à jour. Pendant une mise à jour, le groupe Auto Scaling met à jour les instances par lots de deux et maintient au moins une instance en service. Étant donné que l'indicateur <code class="code">WaitOnResourceSignals</code> est défini, le groupe Auto Scaling attend les nouvelles instances qui sont ajoutées au groupe. Les nouvelles instances doivent envoyer un signal au groupe Auto Scaling, avant qu'il ne mette à jour le lot d'instances suivant.</p>
      <div id="JSON" name="JSON" class="section langfilter">
        <h4 id="attribute-updatepolicy-example-1.json">JSON</h4>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"ASG" : <span>{</span>
   "Type" : "AWS::AutoScaling::AutoScalingGroup",
   "Properties" : <span>{</span>
      "AvailabilityZones" : [
         "us-east-1a",
         "us-east-1b"
      ],
      "DesiredCapacity" : "1",
      "LaunchConfigurationName" : <span>{</span>
         "Ref" : "LaunchConfig"
      },
      "MaxSize" : "4",
      "MinSize" : "1"
   },
   "UpdatePolicy" : <span>{</span>
      "AutoScalingScheduledAction" : <span>{</span>
         "IgnoreUnmodifiedGroupSizeProperties" : "true"
      },
      "AutoScalingRollingUpdate" : <span>{</span>
         "MinInstancesInService" : "1",
         "MaxBatchSize" : "2",
         "WaitOnResourceSignals" : "true",
         "PauseTime" : "PT10M"
      }
   }
 },
"ScheduledAction" : <span>{</span>
   "Type" : "AWS::AutoScaling::ScheduledAction",
   "Properties" : <span>{</span>
      "AutoScalingGroupName" : <span>{</span>
         "Ref" : "ASG"
      },
      "DesiredCapacity" : "2",
      "StartTime" : "2017-06-02T20 : 00 : 00Z"
   }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h4 id="attribute-updatepolicy-example-1.yaml">YAML</h4>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">ASG:
  Type: 'AWS::AutoScaling::AutoScalingGroup'
  Properties:
    AvailabilityZones:
    - us-east-1a
    - us-east-1b
    DesiredCapacity: '1'
    LaunchConfigurationName:
      Ref: LaunchConfig
    MaxSize: '4'
    MinSize: '1'
  UpdatePolicy:
    AutoScalingScheduledAction:
      IgnoreUnmodifiedGroupSizeProperties: 'true'
    AutoScalingRollingUpdate:
      MinInstancesInService: '1'
      MaxBatchSize: '2'
      WaitOnResourceSignals: 'true'
      PauseTime: PT10M
ScheduledAction:
  Type: 'AWS::AutoScaling::ScheduledAction'
  Properties:
    AutoScalingGroupName:
      Ref: ASG
    DesiredCapacity: '2'
    StartTime: '2017-06-02T20 : 00 : 00Z'</code></pre>
      </div>
     
     
      <h3 id="w9aac34c23c23c23b7">AutoScalingReplacingUpdate politique</h3>

      <p>L'exemple suivant déclare une politique qui force le remplacement d'un groupe Auto Scaling associé au cours d'une mise à jour. Pour que la mise à jour réussisse, un pourcentage d'instances (spécifié par le paramètre <code class="code">MinSuccessfulPercentParameter</code>) doit indiquer la réussite avant l'expiration du délai (<code class="code">Timeout</code>).</p>
      <div id="JSON" name="JSON" class="section langfilter">
        <h4 id="attribute-updatepolicy-example-2.json">JSON</h4>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"UpdatePolicy" : <span>{</span>
  "AutoScalingReplacingUpdate" : <span>{</span>
    "WillReplace" : "true"
  }
},
"CreationPolicy" : <span>{</span>
  "ResourceSignal" : <span>{</span>
    "Count" : <span>{</span> "Ref" : "ResourceSignalsOnCreate"},
    "Timeout" : "PT10M"
  },
  "AutoScalingCreationPolicy" : <span>{</span>
    "MinSuccessfulInstancesPercent" : <span>{</span> "Ref" : "MinSuccessfulPercentParameter" }
  }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h4 id="attribute-updatepolicy-example-2.yaml">YAML</h4>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">UpdatePolicy:
  AutoScalingReplacingUpdate:
    WillReplace: 'true'
CreationPolicy:
  ResourceSignal:
    Count: !Ref 'ResourceSignalsOnCreate'
    Timeout: PT10M
  AutoScalingCreationPolicy:
    MinSuccessfulInstancesPercent: !Ref 'MinSuccessfulPercentParameter'</code></pre>
      </div>
     
     
      <h3 id="w9aac34c23c23c23b9">Disponibilité lors de la mise à jour des métadonnées pour le script d'assistant cfn-init</h3>

      <p>Lorsque vous installez des applications logicielles sur vos instances, vous pouvez utiliser la clé de <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-init.html"><code class="code">AWS::CloudFormation::Init</code></a>métadonnées et le script d'<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-init.html"><code>cfn-init</code></a>assistance pour démarrer les instances de votre groupe Auto Scaling.  CloudFormation installe les packages, exécute les commandes et exécute les autres actions d'amorçage décrites dans les métadonnées.</p>
      <p>Lorsque vous mettez à jour uniquement les métadonnées (par exemple, lors du passage d'un package à une autre version), vous pouvez utiliser le programme démon <code><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-hup.html">cfn-hup</a></code> pour détecter et appliquer les mises à jour. Toutefois, le programme démon <code>cfn-hup</code> est exécuté indépendamment dans chaque instance. S'il est exécuté en même temps dans toutes les instances, votre service ou votre application peut être indisponible pendant la mise à jour. Pour garantir la disponibilité, vous pouvez forcer une mise à jour continue afin de mettre  CloudFormation  à jour vos instances un lot à la fois.</p>
      <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p> CloudFormation Pour forcer une mise à jour continue, il faut créer une nouvelle instance, puis supprimer l'ancienne. Les informations stockées dans l'ancienne instance seront perdues.</p></div></div>
      <p>Pour forcer une mise à jour continue, modifiez l'ID logique de la ressource de configuration de lancement, puis mettez à jour la pile et toutes les références pointant vers l'ID logique d'origine (tel que le groupe Auto Scaling associé).  CloudFormation déclenche une mise à jour continue sur le groupe Auto Scaling, en remplaçant toutes les instances.</p>
     
     
      <h3 id="w9aac34c23c23c23c11">Modèle d'origine</h3>

      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"LaunchConfig": <span>{</span>
  "Type" : "AWS::AutoScaling::LaunchConfiguration",
  "Metadata" : <span>{</span>
    "Comment" : "Install a simple PHP application",
    "AWS::CloudFormation::Init" : <span>{</span>
    ...
    }
  }
}</code></pre>
     
     
      <h3 id="w9aac34c23c23c23c13">Mise à jour de l'ID logique</h3>

      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"<b>LaunchConfigUpdateRubygemsPkg</b>": <span>{</span>
  "Type" : "AWS::AutoScaling::LaunchConfiguration",
  "Metadata" : <span>{</span>
    "Comment" : "Install a simple PHP application",
    "AWS::CloudFormation::Init" : <span>{</span>
    ...
    }
  }
}</code></pre>
     
     
      <h3 id="aws-resource-lambda-alias-example">Politique de mise à jour d'alias lambda</h3>
      <p>L'exemple suivant précise l'attribut <code class="code">UpdatePolicy</code> pour une ressource <code class="code">AWS::Lambda::Alias</code>. Tous les détails du déploiement sont définis par l'application et le groupe de déploiement qui sont transmis dans la politique.</p>
      <div id="JSON" name="JSON" class="section langfilter">
        <h4 id="aws-attribute-updatepolicy-codedeploylambda.json">JSON</h4>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Alias": <span>{</span>
  "Type": "AWS::Lambda::Alias",
  "Properties": <span>{</span>
    "FunctionName": <span>{</span>
      "Ref": "LambdaFunction"
    },
    "FunctionVersion": <span>{</span>
      "Fn::GetAtt": [
        "FunctionVersionTwo",
        "Version"
      ]
    },
    "Name": "MyAlias"
  },
  "UpdatePolicy": <span>{</span>
    "CodeDeployLambdaAliasUpdate": <span>{</span>
      "ApplicationName": <span>{</span>
        "Ref": "CodeDeployApplication"
      },
      "DeploymentGroupName": <span>{</span>
        "Ref": "CodeDeployDeploymentGroup"
      },
      "BeforeAllowTrafficHook": <span>{</span>
        "Ref": "PreHookLambdaFunction"
      },
      "AfterAllowTrafficHook": <span>{</span>
        "Ref": "PreHookLambdaFunction"
      }
    }
  }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h4 id="aws-attribute-updatepolicy-codedeploylambda-example.yaml">YAML</h4>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Alias:
  Type: 'AWS::Lambda::Alias'
  Properties:
    FunctionName: !Ref LambdaFunction
    FunctionVersion: !GetAtt FunctionVersionTwo.Version
    Name: MyAlias
  UpdatePolicy:
    CodeDeployLambdaAliasUpdate:
      ApplicationName: !Ref CodeDeployApplication
      DeploymentGroupName: !Ref CodeDeployDeploymentGroup
      BeforeAllowTrafficHook: !Ref PreHookLambdaFunction
      AfterAllowTrafficHook: !Ref PreHookLambdaFunction</code></pre>
      </div>
     
  <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avertissement" /> <strong>JavaScript est désactivé ou n'est pas disponible dans votre navigateur.</strong></p><p>Pour que vous puissiez utiliser la documentation AWS, Javascript doit être activé. Vous trouverez des instructions sur les pages d'aide de votre navigateur.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Conventions de rédaction</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./aws-attribute-metadata.html">Metadata</div><div id="next" class="next-link" accesskey="n" href="./aws-attribute-updatereplacepolicy.html">UpdateReplacePolicy</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Oui</div><div class="content"><p>Merci de nous avoir fait part de votre satisfaction.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer ce qui vous a plu afin que nous puissions nous améliorer davantage.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Non</div><div class="content"><p>Merci de nous avoir avertis que cette page avait besoin d'être retravaillée. Nous sommes désolés de ne pas avoir répondu à vos attentes.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer comment nous pourrions améliorer cette documentation.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>