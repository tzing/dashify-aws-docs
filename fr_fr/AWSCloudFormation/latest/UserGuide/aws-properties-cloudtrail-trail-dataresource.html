<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>AWS::CloudTrail::Trail DataResource - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="aws-properties-cloudtrail-trail-dataresource" /><meta name="default_state" content="aws-properties-cloudtrail-trail-dataresource" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cloudtrail-trail-dataresource.html" /><meta name="description" content="Use the AWS CloudFormation AWS::CloudTrail::Trail.DataResource resource for CloudTrail." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Create and manage AWS infrastructure deployments predictably and repeatedly using AWS CloudFormation with this User Guide." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json;toc-AWS_CloudTrail.json" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cloudtrail-trail-dataresource.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-properties-cloudtrail-trail-dataresource.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-properties-cloudtrail-trail-dataresource.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-properties-cloudtrail-trail-dataresource.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-properties-cloudtrail-trail-dataresource.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cloudtrail-trail-dataresource.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cloudtrail-trail-dataresource.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-properties-cloudtrail-trail-dataresource.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-properties-cloudtrail-trail-dataresource.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-properties-cloudtrail-trail-dataresource.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-properties-cloudtrail-trail-dataresource.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-properties-cloudtrail-trail-dataresource.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-properties-cloudtrail-trail-dataresource.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-properties-cloudtrail-trail-dataresource.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-properties-cloudtrail-trail-dataresource.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-properties-cloudtrail-trail-dataresource.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-properties-cloudtrail-trail-dataresource.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-properties-cloudtrail-trail-dataresource.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-properties-cloudtrail-trail-dataresource.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/aws-properties-cloudtrail-trail-dataresource.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/aws-properties-cloudtrail-trail-dataresource.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-cloudtrail-trail-dataresource.html" hreflang="x-default" /><meta name="feedback-item" content="CloudTrail" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="AWS::CloudTrail::Trail DataResource" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>AWS::CloudTrail::Trail DataResource - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudTrail&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-properties-cloudtrail-trail-dataresource.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-properties-cloudtrail-trail-dataresource.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-properties-cloudtrail-trail-dataresource.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "AWS CloudTrail resource type reference",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/AWS_CloudTrail.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "AWS::CloudTrail::Trail",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-cloudtrail-trail.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "AWS::CloudTrail::Trail DataResource",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-cloudtrail-trail.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="AWS_CloudTrail.html">User Guide</a></div><div id="page-toc-src"><a href="#aws-properties-cloudtrail-trail-dataresource-syntax">Syntax</a><a href="#aws-properties-cloudtrail-trail-dataresource-properties">Properties</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="aws-properties-cloudtrail-trail-dataresource">AWS::CloudTrail::Trail DataResource</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>The Amazon S3 buckets, AWS Lambda functions, or Amazon DynamoDB tables that you specify in your event selectors for your trail to log data events. Data
         events provide information about the resource operations performed on or within a resource
         itself. These are also known as data plane operations. You can specify up to 250 data
         resources for a trail.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>The total number of allowed data resources is 250. This number can be distributed
            between 1 and 5 event selectors, but the total cannot exceed 250 across all
            selectors for the trail.</p><p>If you are using advanced event selectors, the maximum total number of values for
            all conditions, across all advanced event selectors for the trail, is 500.</p></div></div><p>The following example demonstrates how logging works when you configure logging of all
         data events for an S3 bucket named <code class="code">bucket-1</code>. In this example, the CloudTrail user specified an empty prefix, and the option to log both <code class="code">Read</code>
         and <code class="code">Write</code> data events.</p><div class="orderedlist">
             
             
             
             
         <ol><li>
               <p>A user uploads an image file to <code class="code">bucket-1</code>.</p>
            </li><li>
               <p>The <code class="code">PutObject</code> API operation is an Amazon S3 object-level API.
               It is recorded as a data event in CloudTrail. Because the CloudTrail
               user specified an S3 bucket with an empty prefix, events that occur on any object in
               that bucket are logged. The trail processes and logs the event.</p>
            </li><li>
               <p>A user uploads an object to an Amazon S3 bucket named
                  <code class="code">arn:aws:s3:::bucket-2</code>.</p>
            </li><li>
               <p>The <code class="code">PutObject</code> API operation occurred for an object in an S3 bucket
               that the CloudTrail user didn't specify for the trail. The trail doesn’t log
               the event.</p>
            </li></ol></div><p>The following example demonstrates how logging works when you configure logging of
            AWS Lambda data events for a Lambda function named
            <em>MyLambdaFunction</em>, but not for all Lambda
         functions.</p><div class="orderedlist">
             
             
             
         <ol><li>
               <p>A user runs a script that includes a call to the
                  <em>MyLambdaFunction</em> function and the
                  <em>MyOtherLambdaFunction</em> function.</p>
            </li><li>
               <p>The <code class="code">Invoke</code> API operation on <em>MyLambdaFunction</em> is
               an Lambda API. It is recorded as a data event in CloudTrail.
               Because the CloudTrail user specified logging data events for
                  <em>MyLambdaFunction</em>, any invocations of that function are
               logged. The trail processes and logs the event.</p>
            </li><li>
               <p>The <code class="code">Invoke</code> API operation on
                  <em>MyOtherLambdaFunction</em> is an Lambda API. Because
               the CloudTrail user did not specify logging data events for all Lambda functions, the <code class="code">Invoke</code> operation for
                  <em>MyOtherLambdaFunction</em> does not match the function specified
               for the trail. The trail doesn’t log the event. </p>
            </li></ol></div><h2 id="aws-properties-cloudtrail-trail-dataresource-syntax">Syntax</h2><p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p><div id="JSON" name="JSON" class="section langfilter"><h3 id="aws-properties-cloudtrail-trail-dataresource-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "<a href="#cfn-cloudtrail-trail-dataresource-type">Type</a>" : <code class="replaceable">String</code>,
  "<a href="#cfn-cloudtrail-trail-dataresource-values">Values</a>" : <code class="replaceable">[ String, ... ]</code>
}
</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h3 id="aws-properties-cloudtrail-trail-dataresource-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">  <a href="#cfn-cloudtrail-trail-dataresource-type">Type</a>: <code class="replaceable">String</code>
  <a href="#cfn-cloudtrail-trail-dataresource-values">Values</a>: <code class="replaceable">
    - String</code>
</code></pre></div><h2 id="aws-properties-cloudtrail-trail-dataresource-properties">Properties</h2><div class="variablelist"><dl><dt id="cfn-cloudtrail-trail-dataresource-type"><span class="term"><code class="code">Type</code></span></dt><dd>
         <p>The resource type in which you want to log data events. You can specify the following
            <em>basic</em> event selector resource types:</p>
         <div class="itemizedlist">
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>
                  <code class="code">AWS::DynamoDB::Table</code>
               </p>
            </li><li class="listitem">
               <p>
                  <code class="code">AWS::Lambda::Function</code>
               </p>
            </li><li class="listitem">
               <p>
                  <code class="code">AWS::S3::Object</code>
               </p>
            </li></ul></div>
         <p>Additional resource types are available through <em>advanced</em>
         event selectors. For more
         information about these additional resource types, see <a href="https://docs.aws.amazon.com/awscloudtrail/latest/APIReference/API_AdvancedFieldSelector.html">AdvancedFieldSelector</a>.</p>
      <p><em>Required</em>: Yes</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-cloudtrail-trail-dataresource-values"><span class="term"><code class="code">Values</code></span></dt><dd>
         <p>An array of Amazon Resource Name (ARN) strings or partial ARN strings for the specified
         objects.</p>
         <div class="itemizedlist">
             
             
             
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>To log data events for all objects in all S3 buckets in your AWS account, specify the prefix as <code class="code">arn:aws:s3</code>.</p>
               <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>This also enables logging of data event activity performed by any user or role
                  in your AWS account, even if that activity is performed on a bucket
                  that belongs to another AWS account.</p></div></div>
            </li><li class="listitem">
               <p>To log data events for all objects in an S3 bucket, specify the bucket and an
               empty object prefix such as <code class="code">arn:aws:s3:::bucket-1/</code>. The trail logs data
               events for all objects in this S3 bucket.</p>
            </li><li class="listitem">
               <p>To log data events for specific objects, specify the S3 bucket and object prefix
               such as <code class="code">arn:aws:s3:::bucket-1/example-images</code>. The trail logs data events
               for objects in this S3 bucket that match the prefix.</p>
            </li><li class="listitem">
               <p>To log data events for all Lambda functions in your AWS account, specify the prefix as <code class="code">arn:aws:lambda</code>.</p>
               <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>This also enables logging of <code class="code">Invoke</code> activity performed by any user
                  or role in your AWS account, even if that activity is performed on
                  a function that belongs to another AWS account. </p></div></div>
            </li><li class="listitem">
               <p>To log data events for a specific Lambda function, specify the
               function ARN.</p>
               <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Lambda function ARNs are exact. For example, if you specify a
                  function ARN
                     <em>arn:aws:lambda:us-west-2:111111111111:function:helloworld</em>,
                  data events will only be logged for
                     <em>arn:aws:lambda:us-west-2:111111111111:function:helloworld</em>.
                  They will not be logged for
                     <em>arn:aws:lambda:us-west-2:111111111111:function:helloworld2</em>.</p></div></div>
            </li><li class="listitem">
               <p>To log data events for all DynamoDB tables in your AWS account, specify the prefix as <code class="code">arn:aws:dynamodb</code>.</p>
            </li></ul></div>
      <p><em>Required</em>: No</p><p><em>Type</em>: Array of String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd></dl></div><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./aws-properties-cloudtrail-trail-advancedfieldselector.html">AdvancedFieldSelector</div><div id="next" class="next-link" accesskey="n" href="./aws-properties-cloudtrail-trail-eventselector.html">EventSelector</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudTrail&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-properties-cloudtrail-trail-dataresource.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudTrail&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-properties-cloudtrail-trail-dataresource.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>