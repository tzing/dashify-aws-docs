<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="fr-FR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>cfn-signal - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="cfn-signal" /><meta name="default_state" content="cfn-signal" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-signal.html" /><meta name="description" content="Interrompt le processus de création de la pile." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Guide de l'utilisateur" /><meta name="abstract" content="Créez et gérez des déploiements AWS d'infrastructure de manière prévisible et répétée à l'aide de ce AWS CloudFormation guide de l'utilisateur." /><meta name="guide-locale" content="fr_fr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-signal.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/cfn-signal.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/cfn-signal.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/cfn-signal.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/cfn-signal.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-signal.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-signal.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/cfn-signal.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/cfn-signal.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-signal.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-signal.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/cfn-signal.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/cfn-signal.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/cfn-signal.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/cfn-signal.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/cfn-signal.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/cfn-signal.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/cfn-signal.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/cfn-signal.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/cfn-signal.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/cfn-signal.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-signal.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Guide de l'utilisateur" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Guide de l'utilisateur" /><meta id="panorama-serviceConsolePage" value="cfn-signal" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>cfn-signal - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-signal.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-signal.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-signal.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,provisionnement des ressources,configuration des ressources,gestion de l'infrastructure,CloudFormer,CloudFormation pile,CloudFormation stackset,CloudFormation modèle,jeu de modifications" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guide de l'utilisateur",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Référence de modèles",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/template-reference.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Référence des scripts d'assistant CloudFormation",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-helper-scripts-reference.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "cfn-signal",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-helper-scripts-reference.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Guide de l'utilisateur</a></div><div id="page-toc-src"><a href="#cfn-signal-Description">Description</a><a href="#w9aac34c42c29b5">Syntaxe pour le signalement des ressources (recommandée)</a><a href="#cfn-signal-Syntaxwaitcondition">Syntaxe à utiliser avec le descripteur de condition d'attente</a><a href="#cfn-signal-options">Options</a><a href="#cfn-signal-Examples">Exemple</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Les traductions sont fournies par des outils de traduction automatique. En cas de conflit entre le contenu d'une traduction et celui de la version originale en anglais, la version anglaise prévaudra.</p></awsui-alert><h1 class="topictitle" id="cfn-signal">cfn-signal</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div>
         <h2 id="cfn-signal-Description">Description</h2>

         <p>Le script d'assistance cfn-signal indique si les  CloudFormation  instances Amazon EC2 ont été créées ou mises à jour avec succès. Si vous installez et configurez des applications logicielles sur des instances, vous pouvez signaler  CloudFormation  quand ces applications logicielles sont prêtes.</p>
         <p>Vous utilisez le script cfn-signal conjointement avec une politique de création <a href="./aws-attribute-creationpolicy.html">Attribut CreationPolicy</a> ou un groupe Auto Scaling avec une politique de mise à jour <a href="./aws-attribute-updatepolicy.html">WaitOnResourceSignals</a>. Lors de  CloudFormation  la création ou de la mise à jour de ressources avec ces politiques, il suspend le travail sur la pile jusqu'à ce que la ressource reçoive le nombre de signaux requis ou jusqu'à ce que le délai d'expiration soit dépassé. Pour chaque signal valide  CloudFormation  reçu,  CloudFormation  publie les signaux dans la pile d'événements afin que vous puissiez suivre chaque signal. Pour voir une procédure détaillée qui utilise une politique de création et cfn-signal, consultez <a href="./deploying.applications.html">Déploiement d'applications sur Amazon EC2 avec AWS CloudFormation</a>.</p>

         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>cfn-signal ne requiert pas d'informations d'identification. Dès lors, vous n'avez pas besoin d'utiliser les options <code class="code">--access-key</code>, <code class="code">--secret-key</code>, <code class="code">--role</code> ou <code class="code">--credential-file</code>. Toutefois, si aucune information d'identification n'est spécifiée,  CloudFormation  vérifie l'appartenance de la pile et limite la portée de l'appel à la pile à laquelle l'instance appartient.</p></div></div>
       
         <h2 id="w9aac34c42c29b5">Syntaxe pour le signalement des ressources (recommandée)</h2>

         <p>Si vous souhaitez signaler  CloudFormation  des ressources, utilisez la syntaxe suivante.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">cfn-signal --success|-s <code class="replaceable">signal.to.send</code> \
        --access-key <code class="replaceable">access.key</code> \
        --credential-file|-f <code class="replaceable">credential.file</code> \
        --exit-code|-e <code class="replaceable">exit.code</code> \
        --http-proxy <code class="replaceable">HTTP.proxy</code> \
        --https-proxy <code class="replaceable">HTTPS.proxy</code> \
        --id|-i <code class="replaceable">unique.id</code> \
        --region <code class="replaceable">AWS.region</code> \
        --resource <code class="replaceable">resource.logical.ID</code> \
        --role <code class="replaceable">IAM.role.name</code> \
        --secret-key <code class="replaceable">secret.key</code> \
        --stack <code class="replaceable">stack.name.or.stack.ID</code> \
        --url <code class="replaceable">AWS CloudFormation.endpoint</code></code></pre>
       
         <h2 id="cfn-signal-Syntaxwaitcondition">Syntaxe à utiliser avec le descripteur de condition d'attente</h2>

         <p>Si vous souhaitez signaler un descripteur de condition d'attente, utilisez la syntaxe suivante.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">cfn-signal --success|-s <code class="replaceable">signal.to.send</code> \
        --reason|-r <code class="replaceable">resource.status.reason</code> \
        --data|-d <code class="replaceable">data</code> \
        --id|-i <code class="replaceable">unique.id</code> \
        --exit-code|-e <code class="replaceable">exit.code</code> \
        <code class="replaceable">waitconditionhandle.url</code></code></pre>
       
         <h2 id="cfn-signal-options">Options</h2>

         <p>Les options que vous pouvez utiliser varient selon que vous signalez une politique de création ou un descripteur de condition d'attente. Les options qui s'appliquent à une politique de création ne s'appliquent pas forcément toutes au descripteur d'une condition d'attente.</p>
         <div class="table-container"><div class="table-contents"><table id="w1348aac27c23c25c11b5"><thead>
                  <tr>
                     <th>Name (Nom)</th>
                     <th>Description</th>
                     <th>Obligatoire</th>
                  </tr>
               </thead>
                  <tr>
                     <td tabindex="-1">
                        <p><code class="code">--access-key</code> (signalement de ressources uniquement)</p>
                     </td>
                     <td tabindex="-1">
                        <p>Clé d'accès AWS pour un compte avec l'autorisation d'appeler l'API  CloudFormation <code class="code">SignalResource </code>. Le paramètre du fichier d'informations d'identification prévaut sur ce paramètre.</p>
                        <p><em>Type</em> : chaîne</p>
                     </td>
                     <td tabindex="-1">
                        <p>Non</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p><code class="code">-d, --data</code> (descripteur de condition d'attente uniquement)</p>
                     </td>
                     <td tabindex="-1">
                        <p>Données à envoyer avec le descripteur <code class="code">waitConditionHandle</code>. Vide par défaut.</p>
                        <p><em>Type</em> : chaîne</p>
                        <p><em>Par défaut</em> : vide</p>
                     </td>
                     <td tabindex="-1">
                        <p>Non</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p><code class="code">-e, --exit-code</code>
                        </p>
                     </td>
                     <td tabindex="-1">
                        <p>Code d'erreur d'un processus qui peut être utilisé pour déterminer le succès ou l'échec. S'il est spécifié, l'option <code class="code">--success</code> est ignorée.</p>
                        <p><em>Type</em> : chaîne</p>
                        <p><em>Exemples</em> : <code class="code">-e $?</code> (pour Linux), <code class="code">-e %ERRORLEVEL%</code> (pour Windows cmd.exe) et <code class="code">-e
                              $lastexitcode</code> (pour Windows PowerShell).</p>
                     </td>
                     <td tabindex="-1">
                        <p>Non</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p><code class="code">-f, --credential-file</code> (signalement de ressources uniquement)</p>
                     </td>
                     <td tabindex="-1">
                        <p>Fichier qui contient une clé d'accès secrète et une clé d'accès. Le paramètre du fichier d'informations d'identification supplante les paramètres --role, --access-key et --secret-key.</p>
                        <p><em>Type</em> : chaîne</p>
                     </td>
                     <td tabindex="-1">
                        <p>Non</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p><code class="code">--http-proxy</code></p>
                     </td>
                     <td tabindex="-1">
                        <p>Proxy HTTP (non SSL). Utilisez le format suivant : <code class="code">http://<code class="replaceable">user:password</code>@<code class="replaceable">host</code>:<code class="replaceable">port</code></code></p>
                        <p><em>Type</em> : chaîne</p>
                     </td>
                     <td tabindex="-1">
                        <p>Non</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p><code class="code">--https-proxy</code></p>
                     </td>
                     <td tabindex="-1">
                        <p>Proxy HTTPS. Utilisez le format suivant : <code class="code">https://<code class="replaceable">user:password</code>@<code class="replaceable">host</code>:<code class="replaceable">port</code></code></p>
                        <p><em>Type</em> : chaîne</p>
                     </td>
                     <td tabindex="-1">
                        <p>Non</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p><code class="code">-i, --id</code></p>
                     </td>
                     <td tabindex="-1">
                        <p>ID unique à envoyer.</p>
                        <p><em>Type</em> : chaîne</p>
                        <p><em>Par défaut</em> : ID de l'instance Amazon EC2. Si l'ID ne peut pas être résolu, le FQDN de la machine est renvoyé.</p>
                     </td>
                     <td tabindex="-1">
                        <p>Non</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p><code class="code">-r, --reason </code> (descripteur de condition d'attente uniquement)</p>
                     </td>
                     <td tabindex="-1">
                        <p>Raison du statut pour l'événement de ressource (actuellement uniquement utilisé en cas d'échec) : indique par défaut « Configuration failed » si « success » est false.</p>
                        <p><em>Type</em> : chaîne</p>
                     </td>
                     <td tabindex="-1">
                        <p>Non</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1"><code class="code">--region</code> (signalement de ressources uniquement)</td>
                     <td tabindex="-1">
                        <p>Le point de terminaison  CloudFormation  régional à utiliser.</p>
                        <p><em>Type</em> : chaîne</p>
                        <p><em>Par défaut</em> : <code class="code">us-east-1</code></p>
                     </td>
                     <td tabindex="-1">
                        <p>Non</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1"><code class="code">--resource</code> (signalement de ressources uniquement)</td>
                     <td tabindex="-1">
                        <p><a href="./resources-section-structure.html">ID logique</a> de la ressource qui contient les règles de création que vous souhaitez signaler.</p>
                        <p><em>Type</em> : chaîne</p>
                     </td>
                     <td tabindex="-1">
                        <p>Oui</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p><code class="code">--role</code> (signalement de ressources uniquement)</p>
                     </td>
                     <td tabindex="-1">
                        <p>Nom d'un rôle IAM associé à l'instance.</p>
                        <p><em>Type</em> : chaîne</p>
                        <p>Condition : le paramètre du fichier d'informations d'identification prévaut sur ce paramètre.</p>
                     </td>
                     <td tabindex="-1">
                        <p>Non</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p><code class="code">-s, --success</code>
                        </p>
                     </td>
                     <td tabindex="-1">
                        <p>Si la valeur est true, signal <code class="code">SUCCESS</code>, sinon <code class="code">FAILURE</code>.</p>
                        <p><em>Type</em> : valeur booléenne</p>
                        <p><em>Par défaut</em> : <code class="code">true</code></p>
                     </td>
                     <td tabindex="-1">
                        <p>Non</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p><code class="code">--secret-key</code> (signalement de ressources uniquement)</p>
                     </td>
                     <td tabindex="-1">
                        <p>Clé d'accès secrète AWS qui correspond à la clé d'accès AWS spécifiée.</p>
                        <p><em>Type</em> : chaîne</p>
                     </td>
                     <td tabindex="-1">
                        <p>Non</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p><code class="code">--stack</code> (signalement de ressources uniquement)</p>
                     </td>
                     <td tabindex="-1">
                        <p>Nom de la pile ou ID de la pile qui contient la ressource que vous voulez signaler.</p>
                        <p><em>Type</em> : chaîne</p>
                     </td>
                     <td tabindex="-1">
                        <p>Oui</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1"><code class="code">-u, --url</code> (signalement de ressources uniquement)</td>
                     <td tabindex="-1">
                        <p>Le  CloudFormation  point de terminaison à utiliser.</p>
                        <p><em>Type</em> : chaîne</p>
                     </td>
                     <td tabindex="-1">
                        <p>Non</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p><code class="code">waitconditionhandle.url</code> (descripteur de condition d'attente uniquement)</p>
                     </td>
                     <td tabindex="-1">
                        <p>URL pré-signée que vous pouvez utiliser pour signaler la réussite ou l'échec d'une condition <code class="code">WaitCondition</code> associée</p>
                        <p><em>Type</em> : chaîne</p>
                     </td>
                     <td tabindex="-1">
                        <p>Oui</p>
                     </td>
                  </tr>
               </table></div></div>
       
         <h2 id="cfn-signal-Examples">Exemple</h2>

          
            <h3 id="w9aac34c42c29c11b3">Exemple de Amazon Linux</h3>

            <p>Un modèle courant consiste à utiliser cfn-init et cfn-signal ensemble. L'appel de cfn-signal utilise le statut de retour de l'appel à cfn-init (avec la construction shell $?). Si l'installation de l'application échoue, l'instance ne sera pas créée et la pile sera restaurée. Pour les piles Windows, consultez <a href="./cfn-windows-stacks-bootstrapping.html">Bootstrap Windows Stacks AWS CloudFormation</a>.</p>
            <div id="JSON" name="JSON" class="section langfilter">
               <h4 id="cfn-signal-example.json">JSON</h4>

               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "AWSTemplateFormatVersion": "2010-09-09",
    "Description": "Simple EC2 instance",
    "Resources": <span>{</span>
        "MyInstance": <span>{</span>
            "Type": "AWS::EC2::Instance",
            "Metadata": <span>{</span>
                "AWS::CloudFormation::Init": <span>{</span>
                    "config": <span>{</span>
                        "files": <span>{</span>
                            "/tmp/test.txt": <span>{</span>
                                "content": "Hello world!",
                                "mode": "000755",
                                "owner": "root",
                                "group": "root"
                            }
                        }
                    }
                }
            },
            "Properties": <span>{</span>
                "ImageId": "<span>{</span><span>{</span>resolve:ssm:/aws/service/ami-amazon-linux-latest/amzn2-ami-hvm-x86_64-gp2}}",
                "InstanceType": "t2.micro",
                "UserData": <span>{</span>
                    "Fn::Base64": <span>{</span>
                        "Fn::Join": [
                            "",
                            [
                                "#!/bin/bash -x\n",
                                "# Install the files and packages from the metadata\n",
                                "yum install -y aws-cfn-bootstrap",
                                "\n",
                                "/opt/aws/bin/cfn-init -v ",
                                "         --stack ",
                                <span>{</span>
                                    "Ref": "AWS::StackName"
                                },
                                "         --resource MyInstance ",
                                "         --region ",
                                <span>{</span>
                                    "Ref": "AWS::Region"
                                },
                                "\n",
                                "# Signal the status from cfn-init\n",
                                "/opt/aws/bin/cfn-signal -e $? ",
                                "         --stack ",
                                <span>{</span>
                                    "Ref": "AWS::StackName"
                                },
                                "         --resource MyInstance ",
                                "         --region ",
                                <span>{</span>
                                    "Ref": "AWS::Region"
                                },
                                "\n"
                            ]
                        ]
                    }
                }
            },
            "CreationPolicy": <span>{</span>
                "ResourceSignal": <span>{</span>
                    "Timeout": "PT5M"
                }
            }
        }
    }
}</code></pre>
            </div>
            <div id="YAML" name="YAML" class="section langfilter">
               <h4 id="cfn-signal-example.yaml">YAML</h4>

               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">AWSTemplateFormatVersion: 2010-09-09
Description: Simple EC2 instance
Resources:
  MyInstance:
    Type: 'AWS::EC2::Instance'
    Metadata:
      'AWS::CloudFormation::Init':
        config:
          files:
            /tmp/test.txt:
              content: Hello world!
              mode: '000755'
              owner: root
              group: root
    Properties:
      ImageId: <span>{</span><span>{</span>resolve:ssm:/aws/service/ami-amazon-linux-latest/amzn2-ami-hvm-x86_64-gp2}}
      InstanceType: t2.micro
      UserData: !Base64 
        'Fn::Join':
          - ''
          - - |
              #!/bin/bash -x
            - |
              # Install the files and packages from the metadata
            - yum install -y aws-cfn-bootstrap
            - |+
            
            - |
            - '/opt/aws/bin/cfn-init -v '
            - '         --stack '
            - !Ref 'AWS::StackName'
            - '         --resource MyInstance '
            - '         --region '
            - !Ref 'AWS::Region'
            - |+

            - |
              # Signal the status from cfn-init
            - '/opt/aws/bin/cfn-signal -e $? '
            - '         --stack '
            - !Ref 'AWS::StackName'
            - '         --resource MyInstance '
            - '         --region '
            - !Ref 'AWS::Region'
            - |+

    CreationPolicy:
      ResourceSignal:
        Timeout: PT5M</code></pre>
            </div>
             
               <h4 id="w9aac34c42c29c11b3b9">Exemples</h4>

               <p>Plusieurs  CloudFormation  exemples de modèles utilisent cfn-signal, notamment les modèles suivants.</p>
               <div class="itemizedlist">
                   
                   
               <ul class="itemizedlist"><li class="listitem">
                     <p> <a href="https://s3.amazonaws.com/cloudformation-templates-us-east-1/LAMP_Single_Instance.template" rel="noopener noreferrer" target="_blank"><span>LAMP : instance EC2 unique avec base de données MySQL locale</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> </p>
                  </li><li class="listitem">
                     <p> <a href="https://s3.amazonaws.com/cloudformation-templates-us-east-1/WordPress_Single_Instance.template" rel="noopener noreferrer" target="_blank"><span>WordPress: instance EC2 unique avec base de données MySQL locale</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> </p>
                  </li></ul></div>
             
          
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avertissement" /> <strong>JavaScript est désactivé ou n'est pas disponible dans votre navigateur.</strong></p><p>Pour que vous puissiez utiliser la documentation AWS, Javascript doit être activé. Vous trouverez des instructions sur les pages d'aide de votre navigateur.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Conventions de rédaction</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./cfn-init.html">cfn-init</div><div id="next" class="next-link" accesskey="n" href="./cfn-get-metadata.html">cfn-get-metadata</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Oui</div><div class="content"><p>Merci de nous avoir fait part de votre satisfaction.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer ce qui vous a plu afin que nous puissions nous améliorer davantage.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-signal.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Non</div><div class="content"><p>Merci de nous avoir avertis que cette page avait besoin d'être retravaillée. Nous sommes désolés de ne pas avoir répondu à vos attentes.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer comment nous pourrions améliorer cette documentation.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-signal.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>