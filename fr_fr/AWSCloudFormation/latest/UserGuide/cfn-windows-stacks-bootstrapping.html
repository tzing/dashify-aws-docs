<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="fr-FR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Bootstrap Windows Stacks AWS CloudFormation - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="cfn-windows-stacks-bootstrapping" /><meta name="default_state" content="cfn-windows-stacks-bootstrapping" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-windows-stacks-bootstrapping.html" /><meta name="description" content="AWS CloudFormation À utiliser pour démarrer une pile Windows." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Guide de l'utilisateur" /><meta name="abstract" content="Créez et gérez des déploiements AWS d'infrastructure de manière prévisible et répétée à l'aide de ce AWS CloudFormation guide de l'utilisateur." /><meta name="guide-locale" content="fr_fr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-windows-stacks-bootstrapping.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/cfn-windows-stacks-bootstrapping.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/cfn-windows-stacks-bootstrapping.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/cfn-windows-stacks-bootstrapping.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/cfn-windows-stacks-bootstrapping.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-windows-stacks-bootstrapping.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-windows-stacks-bootstrapping.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/cfn-windows-stacks-bootstrapping.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/cfn-windows-stacks-bootstrapping.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-windows-stacks-bootstrapping.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-windows-stacks-bootstrapping.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/cfn-windows-stacks-bootstrapping.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/cfn-windows-stacks-bootstrapping.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/cfn-windows-stacks-bootstrapping.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/cfn-windows-stacks-bootstrapping.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/cfn-windows-stacks-bootstrapping.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/cfn-windows-stacks-bootstrapping.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/cfn-windows-stacks-bootstrapping.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/cfn-windows-stacks-bootstrapping.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/cfn-windows-stacks-bootstrapping.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/cfn-windows-stacks-bootstrapping.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-windows-stacks-bootstrapping.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Guide de l'utilisateur" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Guide de l'utilisateur" /><meta id="panorama-serviceConsolePage" value="Bootstrap Windows Stacks AWS CloudFormation" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Bootstrap Windows Stacks AWS CloudFormation - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-windows-stacks-bootstrapping.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-windows-stacks-bootstrapping.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-windows-stacks-bootstrapping.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,provisionnement des ressources,configuration des ressources,gestion de l'infrastructure,CloudFormer,CloudFormation pile,CloudFormation stackset,CloudFormation modèle,jeu de modifications" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guide de l'utilisateur",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Utilisation des piles",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/stacks.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "L'utilisation de Microsoft Windows s'accompagne de AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-windows-stacks.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Bootstrap Windows Stacks AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-windows-stacks.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Guide de l'utilisateur</a></div><div id="page-toc-src"><a href="#cfn-windows-bootstrapping-example">Exemple d'amorçage d'une pile Windows</a><a href="#w9aac25c38c15c11">Comment gérer les services Windows</a><a href="#cfn-windows-stacks-troubleshooting">Comment résoudre les problèmes de création de la pile</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Les traductions sont fournies par des outils de traduction automatique. En cas de conflit entre le contenu d'une traduction et celui de la version originale en anglais, la version anglaise prévaudra.</p></awsui-alert><h1 class="topictitle" id="cfn-windows-stacks-bootstrapping">Bootstrap Windows Stacks AWS CloudFormation</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Cette rubrique décrit comment amorcer une pile Windows et comment résoudre les problèmes de création de la pile. Si vous comptez créer votre propre image Windows à utiliser avec CloudFormation, consultez les informations de la section <a href="https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/UsingConfig_WinAMI.html">Configuration d'une instance Windows à l'aide d'EC2 ConfigService</a> dans le guide <em>Amazon EC2 Microsoft</em> Windows pour obtenir des instructions. Vous devez configurer une instance Windows avec EC2 ConfigService  pour qu'elle fonctionne avec les outils de AWS CloudFormation démarrage.</p>
      <h2 id="cfn-windows-bootstrapping-example">Exemple d'amorçage d'une pile Windows</h2>

      <p>À des fins d'illustration, nous allons examiner un modèle de  SharePoint serveur AWS CloudFormation à instance unique.</p>
      <p>Le modèle est consultable dans son intégralité à partir de l’URL suivante :</p>
      <div class="itemizedlist">
          
      <ul class="itemizedlist"><li class="listitem">
            <p><a href="https://s3.amazonaws.com/cloudformation-templates-us-east-1/Windows_Single_Server_SharePoint_Foundation.template" rel="noopener noreferrer" target="_blank"><span>https://s3.amazonaws.com/ cloudformation-templates-us-east SharePoint -1/Windows_Single_Server_ _Foundation. Modèle</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a></p>
         </li></ul></div>
      <p>Cet exemple montre comment :</p>
      <div class="itemizedlist">
          
          
          
          
          
      <ul class="itemizedlist"><li class="listitem">
            <p>Créez un IAM utilisateur et un groupe de sécurité pour accéder à l'instance.</p>
         </li><li class="listitem">
            <p>Configurez des fichiers d'initialisation : <code>cfn-credentials</code>, <code>cfn-hup.conf</code> et <code>cfn-auto-reloader.conf</code>.</p>
         </li><li class="listitem">
            <p>Téléchargez et installez un package tel que  SharePoint  Foundation 2010 sur l'instance du serveur.</p>
         </li><li class="listitem">
            <p>Utilisez a  WaitCondition  pour vous assurer que les ressources sont prêtes.</p>
         </li><li class="listitem">
            <p>Récupérer une adresse IP pour l'instance avec Amazon Elastic IP (EIP)</p>
         </li></ul></div>
      <p>Le script AWS CloudFormation d'assistance <code>cfn-init</code> est utilisé pour effectuer chacune de ces actions, en fonction des informations contenues dans la <code class="code">AWS::CloudFormation::Init</code> ressource du modèle Windows Single Server Sharepoint Foundation.</p>
      <p>La <code class="code">AWS::CloudFormation::Init</code> section s'appelle SharePointFoundation « » et commence par une déclaration standard :</p>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"SharePointFoundation": <span>{</span>
   "Type" : "AWS::EC2::Instance",
   "Metadata" : <span>{</span>
     "AWS::CloudFormation::Init" : <span>{</span>
       "config" : <span>{</span></code></pre>
      <p>Après cela, la section <b>fichiers</b> de <code class="code">AWS::CloudFormation::Init</code> est déclarée :</p>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"files" : <span>{</span>
  "c:\\cfn\\cfn-hup.conf" : <span>{</span>
    "content" : <span>{</span> "Fn::Join" : ["", [
      "[main]\n",
      "stack=", <span>{</span> "Ref" : "AWS::StackName" }, "\n",
      "region=", <span>{</span> "Ref" : "AWS::Region" }, "\n"
      ]]}
  },
  "c:\\cfn\\hooks.d\\cfn-auto-reloader.conf" : <span>{</span>
    "content": <span>{</span> "Fn::Join" : ["", [
      "[cfn-auto-reloader-hook]\n",
      "triggers=post.update\n",
      "path=Resources.SharePointFoundation.Metadata.AWS::CloudFormation::Init\n",
      "action=cfn-init.exe -v -s ", <span>{</span> "Ref" : "AWS::StackName" },
                                     " -r SharePointFoundation",
                                     " --region ", <span>{</span> "Ref" : "AWS::Region" }, "\n"
    ]]}
  },
  "C:\\SharePoint\\SharePointFoundation2010.exe" : <span>{</span>
    "source" : "http://d3adzpja92utk0.cloudfront.net/SharePointFoundation.exe"
  }
},</code></pre>
      <p>Trois fichiers sont créés ici et placés dans le répertoire <code>C:\cfn</code> au niveau de l'instance de serveur. Ils sont :</p>
      <div class="itemizedlist">
          
          
      <ul class="itemizedlist"><li class="listitem">
            <p><code>cfn-hup.conf</code>, le fichier de configuration pour cfn-hup.</p>
         </li><li class="listitem">
            <p><code>cfn-auto-reloader.conf</code>, le fichier de configuration pour le hook utilisé par cfn-hup afin de lancer une mise à jour (appel cfn-init) lorsque les métadonnées d'<code class="code">AWS::CloudFormation::Init</code> changent.</p>
         </li></ul></div>
      <p>Il y a également un fichier qui est téléchargé vers le serveur : <code>SharePointFoundation.exe</code>. Ce fichier est utilisé pour l'installation  SharePoint sur l'instance du serveur.</p>
      <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>Dans la mesure où les chemins sous Windows utilisent une barre oblique inverse (« \ »), vous devez toujours vous rappeler d'éviter correctement toutes les barres obliques inverses en ajoutant une autre barre oblique inverse chaque fois que vous faites référence à un chemin Windows dans le modèle. AWS CloudFormation </p></div></div>
      <p>Vient ensuite la section <b>commands</b>, qui désigne des commandes <code>cmd.exe</code>.</p>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"commands" : <span>{</span>
  "1-extract" : <span>{</span>
    "command" : "C:\\SharePoint\\SharePointFoundation2010.exe /extract:C:\\SharePoint\\SPF2010 /quiet /log:C:\\SharePoint\\SharePointFoundation2010-extract.log"
  },
  "2-prereq" : <span>{</span>
    "command" : "C:\\SharePoint\\SPF2010\\PrerequisiteInstaller.exe /unattended"
  },
  "3-install" : <span>{</span>
    "command" : "C:\\SharePoint\\SPF2010\\setup.exe /config C:\\SharePoint\\SPF2010\\Files\\SetupSilent\\config.xml"
  }</code></pre>
      <p>Étant donné que les commandes de l'instance sont traitées par <em>ordre alphabétique en fonction de leur nom</em>, un nombre indiquant l'ordre d'exécution souhaité est ajouté à chacune d'elles. Ainsi, nous pouvons nous assurer que le package d'installation est d'abord extrait, que tous les prérequis sont ensuite installés et que l'installation de  SharePoint  est enfin démarrée.</p>
      <p>Apparaît ensuite la section <b>Properties</b> :</p>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Properties": <span>{</span>
  "InstanceType" : <span>{</span> "Ref" : "InstanceType" },
  "ImageId" : <span>{</span> "Fn::FindInMap" : [ "AWSRegionArch2AMI", <span>{</span> "Ref" : "AWS::Region" },
                <span>{</span> "Fn::FindInMap" : [ "AWSInstanceType2Arch", <span>{</span> "Ref" : "InstanceType" }, "Arch" ] } ] },
  "SecurityGroups" : [ <span>{</span>"Ref" : "SharePointFoundationSecurityGroup"} ],
  "KeyName" : <span>{</span> "Ref" : "KeyPairName" },
  "UserData" : <span>{</span> "Fn::Base64" : <span>{</span> "Fn::Join" : ["", [
    "&lt;script&gt;\n",

    "cfn-init.exe -v -s ", <span>{</span> "Ref" : "AWS::StackName" },
    " -r SharePointFoundation",
    " --region ", <span>{</span> "Ref" : "AWS::Region" }, "\n",

    "cfn-signal.exe -e %ERRORLEVEL% ", <span>{</span> "Fn::Base64" : <span>{</span> "Ref" : "SharePointFoundationWaitHandle" }}, "\n",

    "&lt;/script&gt;"
    ]]}}
  }</code></pre>
      <p>Dans cette section, la propriété <code class="code">UserData</code> contient un script <code>cmd.exe</code> qui sera exécuté par <code>cfn-init</code>, entouré de balises &lt;script&gt;. Au lieu de cela, vous pouvez ici utiliser un script Windows Powershell en entourant le script de balises &lt;powershell&gt;. Pour les piles Windows, vous devez encoder à nouveau l'URL du descripteur de condition d'attente au format base64.</p>
      <p>SharePointFoundationWaitHandle est référencé ici et fonctionne avec<code>cfn-signal</code>. Les <b>WaitConditionHandle</b>et associés <b>WaitCondition</b>sont déclarés ensuite dans le modèle :</p>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"SharePointFoundationWaitHandle" : <span>{</span>
   "Type" : "AWS::CloudFormation::WaitConditionHandle"
},

"SharePointFoundationWaitCondition" : <span>{</span>
   "Type" : "AWS::CloudFormation::WaitCondition",
   "DependsOn" : "SharePointFoundation",
   "Properties" : <span>{</span>
     "Handle" : <span>{</span>"Ref" : "SharePointFoundationWaitHandle"},
     "Timeout" : "3600"
   }
}</code></pre>
      <p>Comme l'exécution de toutes les étapes et l'installation  SharePoint  peuvent prendre un certain temps, mais pas une heure entière, le délai d' WaitCondition attente est d'une heure (3 600 secondes) avant d'expirer.</p>
      <p>Si tout se passe bien, une adresse IP élastique est utilisée pour donner accès à l' SharePointinstance :</p>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Outputs" : <span>{</span>
 "SharePointFoundationURL" : <span>{</span>
   "Value" : <span>{</span> "Fn::Join" : ["", ["http://", <span>{</span> "Ref" : "SharePointFoundationEIP" } ]] },
   "Description" : "SharePoint Team Site URL. Please retrieve Administrator password of the instance and use it to access the URL"
 }</code></pre>
      <p>Une fois la création de la pile terminée, l'adresse IP fournie par EIP sera affichée dans l'onglet <b>Sorties</b> de la AWS CloudFormation console. Toutefois, avant de pouvoir accéder à l'instance, vous devez récupérer le mot de passe administrateur temporaire généré pour l'instance. Pour plus d'informations, consultez <a href="https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/connecting_to_windows_instance.html">Connexion à votre instance Windows à l'aide de RDP</a> dans le <em>Amazon EC2 Guide de l'utilisateur pour les instances Windows</em>.</p>
    
      <h2 id="w9aac25c38c15c11">Comment gérer les services Windows</h2>

      <p>Vous gérez les services Windows de la même manière que les services Linux, sauf que vous utilisez une clé <code class="code">windows</code> au lieu de <code class="code">sysvinit</code>. L'exemple suivant démarre le service <code class="code">cfn-hup</code>, le définit sur Automatic et le redémarre si cfn-init modifie les fichiers de configuration <code>c:\cfn\cfn-hup.conf</code> ou <code>c:\cfn\hooks.d\cfn-auto-reloader.conf</code>.</p>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"services" : <span>{</span>
  "windows" : <span>{</span>
    "cfn-hup" : <span>{</span>
      "enabled" : "true",
      "ensureRunning" : "true",
      "files" : ["c:\\cfn\\cfn-hup.conf", "c:\\cfn\\hooks.d\\cfn-auto-reloader.conf"]
    }
  }
} </code></pre>
      <p>Vous pouvez gérer les autres services Windows de la même manière en utilisant le nom (et non pas le nom complet) pour référencer le service.</p>
    
      <h2 id="cfn-windows-stacks-troubleshooting">Comment résoudre les problèmes de création de la pile</h2>

      <p>Si votre pile échoue lors de la création, le comportement par défaut consiste à retourner en arrière. Bien que ce comportement par défaut soit généralement approprié, car il permet d'éviter des frais inutiles, il complique le débogage du problème qui est à l'origine de l'échec de création de la pile.</p>
      <p>Pour désactiver ce comportement, choisissez <b>Afficher les options avancées</b> lors de la création de votre stack avec la AWS CloudFormation console, puis sélectionnez le sélecteur <b>Non</b> à côté de <b>Rollback</b> en cas d'échec. Cette approche vous permet de vous connecter à l'instance et de consulter les fichiers journaux pour identifier les problèmes rencontrés lors de l'exécution des scripts de démarrage.</p>
      <p>Voici les principaux journaux que vous devez examiner :</p>
      <div class="itemizedlist">
          
          
      <ul class="itemizedlist"><li class="listitem">
            <p>Le journal de configuration EC2 à l'adresse <code>C:\Program
                  Files\Amazon\Ec2ConfigService\Logs\Ec2ConfigLog.txt</code></p>
         </li><li class="listitem">
            <p>Journal <b>cfn-init</b> de chemin : <code>C:\cfn\log\cfn-init.log</code></p>
         </li></ul></div>
      <p>Voir ces guides EC2 pour plus de journaux :</p>
      <div class="itemizedlist">
          
          
      <ul class="itemizedlist"><li class="listitem">
            <p><a href="https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ec2launch.html#ec2launch-directories">Structure du répertoire EC2Launch</a></p>
         </li><li class="listitem">
            <p><a href="https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ec2launch-v2-settings.html#ec2launch-v2-directory">Structure du répertoire EC2Launch v2</a></p>
         </li></ul></div>
   <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avertissement" /> <strong>JavaScript est désactivé ou n'est pas disponible dans votre navigateur.</strong></p><p>Pour que vous puissiez utiliser la documentation AWS, Javascript doit être activé. Vous trouverez des instructions sur les pages d'aide de votre navigateur.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Conventions de rédaction</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./cfn-windows-stacks-amis-and-templates.html">AMI Microsoft Windows et modèles</div><div id="next" class="next-link" accesskey="n" href="./eventbridge-integration.html">Gestion des événements à l'aide de EventBridge</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Oui</div><div class="content"><p>Merci de nous avoir fait part de votre satisfaction.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer ce qui vous a plu afin que nous puissions nous améliorer davantage.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-windows-stacks-bootstrapping.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Non</div><div class="content"><p>Merci de nous avoir avertis que cette page avait besoin d'être retravaillée. Nous sommes désolés de ne pas avoir répondu à vos attentes.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer comment nous pourrions améliorer cette documentation.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-windows-stacks-bootstrapping.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>