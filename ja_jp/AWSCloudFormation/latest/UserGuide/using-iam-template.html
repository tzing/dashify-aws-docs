<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="ja-JP"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>AWS Identity and Access Management によるアクセスの制御 - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="using-iam-template" /><meta name="default_state" content="using-iam-template" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/using-iam-template.html" /><meta name="description" content="AWS Identity and Access Management を使用して AWS CloudFormation の AWS リソースへのアクセスを管理します。" /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="ユーザーガイド" /><meta name="abstract" content="このユーザーガイドでは、AWS CloudFormation を使用して、予測かつ再現可能な方法で、AWS インフラストラクチャのデプロイを作成して管理します。" /><meta name="guide-locale" content="ja_jp" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/using-iam-template.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="ユーザーガイド" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="ユーザーガイド" /><meta id="panorama-serviceConsolePage" value="AWS Identity and Access Management によるアクセスの制御" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>AWS Identity and Access Management によるアクセスの制御 - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/using-iam-template.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/using-iam-template.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/using-iam-template.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,リソースのプロビジョニング,リソース構成,インフラストラクチャ管理,CloudFormer,CloudFormation スタック,CloudFormation StackSet,CloudFormation テンプレート,変更セット" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "ユーザーガイド",
        "item" : "https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "AWS CloudFormation でのセキュリティ",
        "item" : "https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/security.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "AWS Identity and Access Management によるアクセスの制御",
        "item" : "https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/security.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">ドキュメント</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">ユーザーガイド</a></div><div id="page-toc-src"><a href="#using-iam-template-actions">AWS CloudFormation アクション</a><a href="#resource-level-permissions">AWS CloudFormation リソース</a><a href="#using-iam-template-conditions">AWS CloudFormation の条件</a><a href="#using-iam-capabilities">AWS CloudFormation テンプレートでの IAM リソースの承認</a><a href="#using-iam-template-manage-creds">Amazon EC2 インスタンスで実行されるアプリケーションの認証情報の管理</a><a href="#using-iam-template-grant-access">一時的なアクセス権の付与 (フェデレーションアクセス)</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="using-iam-template">AWS Identity and Access Management によるアクセスの制御</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>AWS Identity and Access Management (IAM) により、IAM ユーザーを作成して、各ユーザーが AWS アカウント のどのリソースにアクセスできるかを制御することができます。AWS CloudFormation と IAM を使用して、スタックテンプレートの表示、スタックの作成、スタックの削除など、ユーザーが AWS CloudFormation で実行できるアクションを制御できます。</p><p>AWS CloudFormation アクションに加えて、各ユーザーが利用できる AWS サービスおよびリソースを管理できます。この方法で、ユーザーが AWS CloudFormation の使用時にアクセスできるリソースを管理できます。たとえば、Amazon EC2 インスタンスを作成できるユーザー、データベースインスタンスを終了できるユーザ、または VPC を更新できるユーザを指定できます。AWS CloudFormation を使用してそれらのアクションを実行するときはいつでも同じ権限が適用されます。</p><p>アクセスを制御できるすべてのサービスの詳細については、「IAM ユーザーガイド」の「<a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/Using_SpecificProducts.html">IAM をサポートする AWS のサービス</a>」を参照してください。</p><div class="highlights"><h6>トピック</h6><ul><li><a href="#using-iam-template-actions">AWS CloudFormation アクション</a></li><li><a href="#resource-level-permissions">AWS CloudFormation リソース</a></li><li><a href="#using-iam-template-conditions">AWS CloudFormation の条件</a></li><li><a href="#using-iam-capabilities">AWS CloudFormation テンプレートでの IAM リソースの承認</a></li><li><a href="#using-iam-template-manage-creds">Amazon EC2 インスタンスで実行されるアプリケーションの認証情報の管理</a></li><li><a href="#using-iam-template-grant-access">一時的なアクセス権の付与 (フェデレーションアクセス)</a></li><li><a href="./using-iam-servicerole.html">AWS CloudFormation サービスロール</a></li></ul></div><h2 id="using-iam-template-actions">AWS CloudFormation アクション</h2>
      
      <p>AWS アカウント でグループまたはユーザーを作成する際は、そのグループまたはユーザーに IAM ポリシーを関連付けることで、付与する許可を指定することができます。例えば、入門レベルの開発者グループを想定してみましょう。入門レベルの開発者がすべて含まれる <code class="code">Junior
            application developers</code> グループを作成できます。次に、ユーザーに AWS CloudFormation スタックの表示のみを許可しているポリシーをグループとを関連付けます。このシナリオでは、以下のサンプルのようなポリシーを使用します。</p>
      <div class="example"><h6>例 スタック表示アクセス許可を付与するポリシー例</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="コピー"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version":"2012-10-17",
    "Statement":[<span>{</span>
        "Effect":"Allow",
        "Action":[
            "cloudformation:DescribeStacks",
            "cloudformation:DescribeStackEvents",
            "cloudformation:DescribeStackResource",
            "cloudformation:DescribeStackResources"
        ],
        "Resource":"*"
    }]
}</code></pre></div></div>
      <p>このポリシーは、<code class="code">DescribeStack</code> エレメントにリストされたすべての <code class="code">Action</code> API アクションへのアクセス許可を付与します。</p>
      <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>重要</h6></div><div class="awsdocs-note-text"><p>ステートメントでスタック名または ID を指定しない場合は、<code class="code">*</code> 要素に <code class="code">Resource</code> ワイルドカードを使用してアクションにすべてのリソースを使用するためのアクセス許可も付与する必要があります。</p></div></div>
      <p>AWS CloudFormation アクションに加えて、スタックを作成または削除するユーザーには、スタックテンプレートに応じて追加の許可が必要です。たとえば、Amazon SQS キューを説明するテンプレートがある場合、ユーザーは、以下のサンプルポリシーに示すように、スタックを正常に作成するために Amazon SQS アクションに対する当該の権限が必要です。</p>
      <div class="example"><h6>例 スタックアクションの作成と表示、およびすべての Amazon SQS アクションを付与するサンプルポリシー</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="コピー"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version":"2012-10-17",
    "Statement":[<span>{</span>
        "Effect":"Allow",
        "Action":[
            "sqs:*",
            "cloudformation:CreateStack",
            "cloudformation:DescribeStacks",
            "cloudformation:DescribeStackEvents",
            "cloudformation:DescribeStackResources",
            "cloudformation:GetTemplate",
            "cloudformation:ValidateTemplate"  
        ],
        "Resource":"*"
    }]
}</code></pre></div></div>
      <p>許可または拒否できるすべての AWS CloudFormation アクションのリストについては、「<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/">AWS CloudFormation API リファレンス</a>」を参照してください。</p>
      <h3 id="w9aac17c19c11c16">AWS CloudFormation コンソール固有のアクション</h3>
         
         <p>AWS CloudFormation コンソールを使用するユーザーには、AWS Command Line Interface または AWS CloudFormation API を使用する場合に必要とならない追加の許可が必要です。AWS CLI および API と比較して、コンソールには追加の権限が必要な追加の機能 (Amazon S3 バケットへのテンプレートアップロード)、<a href="./parameters-section-structure.html#aws-specific-parameter-types">AWS 固有のパラメータタイプ</a>のドロップダウンリストなどが備わっています。</p>
         <p>次のすべてのアクションで、すべてのリソースに対する権限を付与します。アクションを特定のスタックまたはバケットに制限しないでください。</p>
         <p>以下の必須アクションは、AWS CloudFormation コンソールでのみ使用されるため、API リファレンスには記載されていません。このアクションにより、ユーザーは Amazon S3 バケットにテンプレートをアップロードできるようになります。</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="コピー"><awsui-icon name="copy"></awsui-icon></div></div><code class="text ">cloudformation:CreateUploadBucket</code></pre>
         <p>ユーザーがテンプレートをアップロードするときは、次の Amazon S3 権限が必要です。</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="コピー"><awsui-icon name="copy"></awsui-icon></div></div><code class="text ">s3:PutObject
s3:ListBucket
s3:GetObject
s3:CreateBucket</code></pre>
         <p><a href="./parameters-section-structure.html#aws-specific-parameter-types">AWS 固有パラメータタイプ</a>のテンプレートでは、ユーザーには対応する記述用の API コールを行うためのアクセス権限が必要です。たとえば、テンプレートに <code class="code">AWS::EC2::KeyPair::KeyName</code> パラメータータイプが含まれる場合、ユーザーには EC2 <code class="code">DescribeKeyPairs</code> アクション (コンソールがパラメータードロップダウンリストの値を取得する方法) をコールするためのアクセス権限が必要です。次の例は、他のパラメータータイプでユーザーに必要なアクションです。</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="コピー"><awsui-icon name="copy"></awsui-icon></div></div><code class="text ">ec2:DescribeSecurityGroups (for the AWS::EC2::SecurityGroup::Id parameter type)
ec2:DescribeSubnets (for the Subnet::Id parameter type)
ec2:DescribeVpcs (for the AWS::EC2::VPC::Id parameter type)</code></pre>
       
   <h2 id="resource-level-permissions">AWS CloudFormation リソース</h2>
      
      <p>AWS CloudFormation はリソースレベルのアクセス許可をサポートしているため、以下のポリシーに示すように、特定のスタックに対するアクションを指定できます。</p>
      <div class="example"><h6>例 MyProductionStack に対するスタックアクションの削除と更新を拒否するサンプルポリシー</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="コピー"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version":"2012-10-17",
    "Statement":[<span>{</span>
        "Effect":"Deny",
        "Action":[
            "cloudformation:DeleteStack",
            "cloudformation:UpdateStack"
        ],
        "Resource":"arn:aws:cloudformation:us-east-1:123456789012:stack/MyProductionStack/*"
    }]
}</code></pre></div></div>
      <p>上記のポリシーでは、スタック名の最後にワイルドカードを使用して、完全なスタック ID (<code class="code">arn:aws:cloudformation:us-east-1:123456789012:stack/MyProductionStack/abc9dbf0-43c2-11e3-a6e8-50fa526be49c</code> など) およびスタック名 (<code class="code">MyProductionStack</code> など) に基づいてスタックの削除と更新を拒否します。</p>

      <p>変更セットの作成を <code class="code">AWS::Serverless</code> トランスフォームに許可するには、次の例に示すように、<code class="code">arn:aws:cloudformation:&lt;region&gt;:aws:transform/Serverless-2016-10-31</code> リソースレベルのアクセス許可をポリシーに含める必要があります。</p>
      <div class="example"><h6>例 トランスフォームによる変更セットの作成アクションを許可するポリシーの例</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="コピー"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "> <span>{</span>
    "Version": "2012-10-17",
    "Statement": [<span>{</span>
        "Effect": "Allow",
        "Action": [
            "cloudformation:CreateChangeSet"
        ],
        "Resource": "arn:aws:cloudformation:us-west-2:aws:transform/Serverless-2016-10-31"
    }]
}</code></pre></div></div>
       
         <h3 id="resource-level-permissions-service-managed-stack-set">サービスマネージド型のスタックセットのアクセス許可を付与するサンプルポリシー</h3>
            <p>以下は、サービスマネージド型のスタックセットのアクセス許可をプリンシパルエンティティ (ユーザー、ロール、またはグループ) に付与するサンプル IAM ポリシーです。このポリシーを持つユーザーは、Amazon S3 リソースタイプ (<code class="code">AWS::S3::*</code>) または <code class="code">AWS::SES::ConfigurationSet</code> リソースタイプを含むテンプレートを含むスタックセットに対してのみオペレーションを実行できます。ID <code class="code">123456789012</code> を持つ組織管理アカウントにサインインした場合、ユーザーは、<code class="replaceable">ou-1fsfsrsdsfrewr</code> の OU をターゲットとするスタックセットに対してのみオペレーションを実行でき、さらに ID <code class="replaceable">987654321012</code> の AWS アカウント をターゲットとする ID <code class="code">stack-set-id</code> のスタックセットに対してのみオペレーションを実行できます。</p>
            <p>スタックセットテンプレートに、ポリシーで指定されているリソース以外のリソースタイプが含まれている場合、またはデプロイターゲットが、対応する管理アカウントとスタックセットのポリシーで指定されているもの以外の OU またはアカウント ID である場合、スタックセットオペレーションは失敗します。</p>
         <p>これらのポリシー制限は、スタックセットオペレーションが <code class="code">us-east-1</code>、<code class="code">us-west-2</code>、または <code class="code">eu-west-2</code> AWS リージョン をターゲットとする場合にのみ適用されます。</p>
         
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="コピー"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "cloudformation:*"
            ],
            "Resource": [
                "arn:aws:cloudformation:*:*:stackset/*",
                "arn:aws:cloudformation:*:*:type/resource/<code class="replaceable">AWS-S3</code>-*",
                "arn:aws:cloudformation:us-west-2::type/resource/<code class="replaceable">AWS-SES-ConfigurationSet</code>",
                "arn:aws:cloudformation:*:<code class="replaceable">123456789012</code>:stackset-target/*/<code class="replaceable">ou-1fsfsrsdsfrewr</code>",
                "arn:aws:cloudformation:*:<code class="replaceable">123456789012</code>:stackset-target/<code class="replaceable">stack-set-id</code>/<code class="replaceable">987654321012</code>"
            ],
            "Condition": <span>{</span>
                "ForAllValues:StringEqualsIgnoreCase": <span>{</span>
                    "cloudformation:TargetRegion": [
                        "<code class="replaceable">us-east-1</code>",
                        "<code class="replaceable">us-west-2</code>",
                        "<code class="replaceable">eu-west-1</code>"
                    ]
                }
            }
        }
    ]
}</code></pre>
       
   <h2 id="using-iam-template-conditions">AWS CloudFormation の条件</h2>
      
      <p>IAM ポリシーでは、必要に応じて、ポリシーを有効にするタイミングを制御する条件を指定できます。たとえば、特定のテンプレート URL を指定したときにのみ  がユーザーにスタックの作成を許可するように、ポリシーを定義できます。AWS CloudFormation 固有の条件や AWS 全体に対する、ポリシーが有効でなくなるタイミングを指定する <code class="code">DateLessThan</code> などの条件を定義できます。AWS 全体の条件のリストについては、「IAM ユーザーガイド」の「<a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/AccessPolicyLanguage_ElementDescriptions.html#Condition">IAM policy elements reference</a>」(IAM ポリシー要素リファレンス) を参照してください。</p>
      <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注記</h6></div><div class="awsdocs-note-text"><p><code class="code">aws:SourceIp</code> AWS 全体に対する条件を使用しないでください。AWS CloudFormation はリクエストの送信元 IP アドレスではなく、独自の IP アドレスを使用してリソースをプロビジョニングします。例えば、スタックを作成する際に、AWS CloudFormation は、Amazon EC2 インスタンスを起動したり Amazon S3 バケットを作成したりするために、<code class="code">CreateStack</code> 呼び出しや <code class="code">aws cloudformation create-stack</code> コマンドを実行した IP アドレスではなく、その IP アドレスからリクエストを行います。</p></div></div>
      <p>次のリストは、AWS CloudFormation 固有の条件要件について説明しています。これらの条件は、ユーザーがスタックを作成または更新する場合にのみ適用されます。</p>
      <div class="variablelist">
          
          

          
          
          
          
      <dl>
            <dt><span class="term"><code class="code">cloudformation:ChangeSetName</code></span></dt>
            <dd>
               <p>ポリシーに関連付ける AWS CloudFormation 変更セットの名前。この条件を使用して、 ユーザーがどの変更セットを実行、または削除するかを制御します。</p>
            </dd>
          
            <dt><span class="term"><code class="code">cloudformation:ImportResourceTypes</code></span></dt>
            <dd>
               <p>ポリシーに関連付ける、<code class="code">AWS::EC2::Instance</code> などのテンプレートリソースタイプ。この条件を使用して、 ユーザーがスタックにリソースをインポートするときに、操作できるリソースタイプを指定します。この条件は、ユーザーが <code class="code">ResourcesToImport</code> パラメータで宣言したリソースタイプに対して確認されます。このパラメータは、現在のところ AWS CLI および API リクエストでのみサポートされています。このパラメータを使用する場合は、インポートオペレーション中にユーザーが制御するリソースタイプをすべて指定する必要があります。<code class="code">ResourcesToImport</code> パラメータについて詳しくは、「AWS CloudFormation API リファレンス」の「<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_CreateChangeSet.html"><code class="code">CreateChangeSet</code></a> アクション」を参照してください。</p>
               <p>可能な <code class="code">ResourcesToImport</code> のリストについては、「<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/resource-import-supported-resources.html">インポートオペレーションをサポートするリソース</a>」を参照してください。</p>
               <p>3 つの部分からなるリソース命名規則を使用して、組織全体のすべてのリソースから個々のリソースタイプまで、ユーザーが操作できるリソースタイプを指定します。</p>
               <div class="variablelist">
                      
                   
                   
               <dl>
                     <dt><span class="term"><code class="code"><code class="replaceable">organization</code>::*</code></span></dt>
                     <dd>
                        <p>所定の組織のすべてのリソースタイプを指定します。</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code"><code class="replaceable">organization</code>::<code class="replaceable"><code class="replaceable">service_name</code></code>::*</code></span></dt>
                     <dd>
                        <p>所定の組織内で指定されたサービスのすべてのリソースタイプを指定します。</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code"><code class="replaceable">organization</code>::<code class="replaceable"><code class="replaceable">service_name</code></code>::<code class="replaceable">resource_type</code></code></span></dt>
                     <dd>
                        <p>特定のリソースタイプを指定します。</p>
                     </dd>
                  </dl></div>
               
                  <p>例:</p>
               <div class="variablelist">
                   
                   
                   
                  
               <dl>
                     <dt><span class="term"><code class="code">AWS::*</code></span></dt>
                     <dd>
                        <p>サポートされているすべての AWS リソースを指定します。</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code">AWS::<code class="replaceable">service_name</code>::*</code></span></dt>
                     <dd>
                        <p>固有の AWS サービスでサポートされているすべてのリソースを指定します。</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code">AWS::<code class="replaceable">service_name</code>::<code class="replaceable">resource_type</code></code></span></dt>
                     <dd>
                        <p><code class="code">AWS::EC2::Instance</code> (すべての EC2 インスタンス) などの特定の AWS リソースタイプを指定します。</p>
                     </dd>
                  </dl></div>
            </dd>
          
            <dt><span class="term"><code class="code">cloudformation:ResourceTypes</code></span></dt>
            <dd>
               <p>ポリシーに関連付ける <code class="code">AWS::EC2::Instance</code> などのテンプレートリソース。この条件を使用して、 ユーザーがスタックを作成または更新したときに、操作できるリソースタイプを指定します。この条件は、ユーザーが <code class="code">ResourceTypes</code> パラメータで宣言したリソースタイプに対して確認されます。このパラメータは、現在のところ AWS CLI および API リクエストでのみサポートされています。このパラメーターを使用する場合、ユーザーはそのテンプレートにあるすべてのリソースタイプを指定する必要があります。<code class="code">ResourceTypes</code> パラメータについて詳しくは、「AWS CloudFormation API リファレンス」の「<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_CreateStack.html"><code class="code">CreateStack</code></a> アクション」を参照してください。</p>
               <p>リソースタイプのリストについては、「<a href="./aws-template-resource-type-ref.html">AWS リソースおよびプロパティタイプのリファレンス</a>」を参照してください。</p>
               <p>3 つの部分からなるリソース命名規則を使用して、組織全体のすべてのリソースから個々のリソースタイプまで、ユーザーが操作できるリソースタイプを指定します。</p>
               <div class="variablelist">
                   
                   
                   
               <dl>
                     <dt><span class="term"><code class="code"><code class="replaceable">organization</code>::*</code></span></dt>
                     <dd>
                        <p>所定の組織のすべてのリソースタイプを指定します。</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code"><code class="replaceable">organization</code>::<code class="replaceable"><code class="replaceable">service_name</code></code>::*</code></span></dt>
                     <dd>
                        <p>所定の組織内で指定されたサービスのすべてのリソースタイプを指定します。</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code"><code class="replaceable">organization</code>::<code class="replaceable"><code class="replaceable">service_name</code></code>::<code class="replaceable">resource_type</code></code></span></dt>
                     <dd>
                        <p>特定のリソースタイプを指定します。</p>
                     </dd>
                  </dl></div>
               
               <p>例:</p>          
               <div class="variablelist">            
                   
                   
                   
                   
                   
                   
                   
                  
                  
                  
               <dl>
                     <dt><span class="term"><code class="code">AWS::*</code></span></dt>
                     <dd>
                        <p>サポートされているすべての AWS リソースを指定します。</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code">AWS::<code class="replaceable">service_name</code>::*</code></span></dt>
                     <dd>
                        <p>固有の AWS サービスでサポートされているすべてのリソースを指定します。</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code">AWS::<code class="replaceable">service_name</code>::<code class="replaceable">resource_type</code></code></span></dt>
                     <dd>
                        <p><code class="code">AWS::EC2::Instance</code> (すべての EC2 インスタンス) などの特定の AWS リソースタイプを指定します。</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code">Alexa::ASK::*</code></span></dt>
                     <dd>
                        <p>Alexa スキルキットですべてのリソースタイプを指定します。</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code">Alexa::ASK::Skill</code></span></dt>
                     <dd>
                        <p>個々の <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ask-skill.html">Skill</a> リソースタイプを指定します。</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code">Custom::*</code></span></dt>
                     <dd>
                        <p>すべてのカスタムリソースを指定します。</p>
                        <p>カスタムリソースの詳細については、の「<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-custom-resources.html">Custom resources</a>」(カスタムリソース) を参照してください。　</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code">Custom::<code class="replaceable">resource_type</code></code></span></dt>
                     <dd>
                        <p>特定のカスタムリソースタイプを指定します。</p>
                        <p>カスタムリソースの詳細については、の「<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-custom-resources.html">Custom resources</a>」(カスタムリソース) を参照してください。　</p>
                     </dd>
                  </dl></div>
            </dd>
          
            <dt><span class="term"><code class="code">cloudformation:RoleARN</code></span></dt>
            <dd>
               <p>ポリシーに関連付ける IAM サービスロールの Amazon リソースネーム (ARN)。この条件を使用して、 ユーザーがスタックまたは変更セットを操作するとき、どのサービスロールを使用できるかを制御します。</p>
            </dd>
          
            <dt><span class="term"><code class="code">cloudformation:StackPolicyUrl</code></span></dt>
            <dd>
               <p>ポリシーに関連付ける Amazon S3 スタックポリシーの URL。 ユーザーがスタックの作成または更新アクション時にスタックに関連付けることができるスタックポリシーを制御するには、この条件を使用します。スタックポリシーの詳細については、「<a href="./protect-stack-resources.html">スタックのリソースが更新されないようにする</a>」を参照してください。</p>
               <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注記</h6></div><div class="awsdocs-note-text"><p>アップロードしたスタックポリシーを使用した場合にのみユーザーがスタックを作成または更新できるようにするには、それらのユーザーのために S3 バケットを <code class="code">read only</code> に設定します。</p></div></div>
            </dd>
          
            <dt><span class="term"><code class="code">cloudformation:TemplateUrl</code></span></dt>
            <dd>
               <p>ポリシーに関連付ける Amazon S3 テンプレートの URL。この条件を使用して、スタックを作成または更新したときに  ユーザーが使用できるテンプレートを指定します。</p>
               <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注記</h6></div><div class="awsdocs-note-text"><p>アップロードしたテンプレートを使用した場合にのみユーザーがスタックを作成または更新できるようにするには、それらのユーザーのために S3 バケットを <code class="code">read only</code> に設定します。</p></div></div>
               <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注記</h6></div><div class="awsdocs-note-text"><p>同じ名前の API パラメータには、次の AWS CloudFormation 固有の条件が適用されます。</p><div class="itemizedlist">
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p><code class="code">cloudformation:ChangeSetName</code></p>
                     </li><li class="listitem">
                        <p><code class="code">cloudformation:RoleARN</code></p>
                     </li><li class="listitem">
                        <p><code class="code">cloudformation:StackPolicyUrl</code></p>
                     </li><li class="listitem">
                        <p><code class="code">cloudformation:TemplateUrl</code></p>
                     </li></ul></div><p>例えば、<code class="code">cloudformation:TemplateUrl</code> は、<code class="code">CreateStack</code>、<code class="code">UpdateStack</code>、および <code class="code">CreateChangeSet</code> API の <code class="code">TemplateUrl</code> パラメータにのみ適用されます。</p></div></div>
            </dd>
         </dl></div>
      <h3 id="w9aac17c19c15c10">例</h3>
         
         <p>次のポリシー例では、ユーザーがスタックを作成または更新する場合に、<code class="code">https://s3.amazonaws.com/testbucket/test.template</code> テンプレート URL のみを使用することができます。</p>
         <div class="example"><h6>例 テンプレート URL の条件</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="コピー"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version":"2012-10-17",
  "Statement":[
    <span>{</span>
      "Effect" : "Allow",
      "Action" : [ "cloudformation:CreateStack", "cloudformation:UpdateStack" ],
      "Resource" : "*",
      "Condition" : <span>{</span>
        "StringEquals" : <span>{</span>
          "cloudformation:TemplateUrl" : [ "https://s3.amazonaws.com/testbucket/test.template" ]
        }
      }
    }
  ]
}</code></pre></div></div>
         <p>次のポリシー例では、ユーザーがインポートオペレーション<em>を除く</em>すべての AWS CloudFormation オペレーションを完了することを許可します。</p>
         <div class="example"><h6>例 リソースタイプのインポート条件</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="コピー"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span> 
  "Version": "2012-10-17", 
  "Statement": [ 
    <span>{</span> 
      "Sid": "AllowAllStackOperations",
      "Effect": "Allow", 
      "Action": "cloudformation:*", 
      "Resource": "*" 
    }, 
    <span>{</span> 
      "Sid": "DenyImport", 
      "Effect": "Deny", 
      "Action": "cloudformation:*", 
      "Resource": "*",
      "Condition": <span>{</span> 
        "ForAnyValue:StringLike": <span>{</span>
          "cloudformation:ImportResourceTypes": [ 
            "*" 
          ] 
        } 
      } 
    } 
  ] 
}</code></pre></div></div>
            <p>次のポリシー例では、指定したリソース (この例では、<code class="code">AWS::S3::Bucket</code>) でのみインポートオペレーションに加えて、すべてのスタックオペレーションを許可しています。</p>
            <div class="example"><h6>例 リソースタイプのインポート条件</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="コピー"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span> 
  "Version": "2012-10-17", 
  "Statement": [ 
    <span>{</span> 
      "Sid": "AllowImport",
      "Effect": "Allow", 
      "Action": "cloudformation:*", 
      "Resource": "*" 
      "Condition": <span>{</span> 
        "ForAllValues:StringEqualsIgnoreCase": <span>{</span>
          "cloudformation:ImportResourceTypes": [ 
            "AWS::S3::Bucket" 
          ] 
        } 
      } 
    } 
  ] 
}</code></pre></div></div>
         <p>次のポリシー例では、スタックのテンプレートに IAM サービスからのリソースが含まれていなければ、ユーザーにスタックの作成を許可します。このポリシーでは、ユーザーが <code class="code">ResourceTypes</code> パラメータ (AWS CLI および API リクエストでのみ使用可能) を指定することも要求されます。このポリシーは、明示的な拒否ステートメントを使用することにより、他のポリシーが追加のアクセス権限を付与している場合、このポリシーが常に有効なままになるようにします (明示的な拒否ステートメントは常に明示的な許可ステートメントより優先されます)。</p>
         <div class="example"><h6>例 リソースタイプの条件</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="コピー"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version":"2012-10-17",
  "Statement":[
    <span>{</span>
      "Effect" : "Allow",
      "Action" : [ "cloudformation:CreateStack" ],
      "Resource" : "*"
    },
    <span>{</span>
      "Effect" : "Deny",
      "Action" : [ "cloudformation:CreateStack" ],
      "Resource" : "*",
      "Condition" : <span>{</span>
        "ForAnyValue:StringLikeIfExists" : <span>{</span>
          "cloudformation:ResourceTypes" : [ "AWS::IAM::*" ]
        }
      }
    },
    <span>{</span>
      "Effect": "Deny",
      "Action" : [ "cloudformation:CreateStack" ],
      "Resource": "*",
      "Condition": <span>{</span>
        "Null": <span>{</span>
          "cloudformation:ResourceTypes": "true"
        }
      }
    }
  ]
}</code></pre></div></div>
         <p>次のポリシー例は、前述の例と似ています。このポリシーでは、スタックのテンプレートに IAM サービスからのリソースが含まれていなければ、ユーザーにスタックの作成を許可します。さらに、ユーザーが <code class="code">ResourceTypes</code> パラメータ (AWS CLI および API リクエストでのみ使用可能) を指定することも要求します。このポリシーはよりシンプルですが、明示的な拒否ステートメントを使用しません。追加のアクセス権限を付与する他のポリシーにより、このポリシーがオーバーライドされる可能性があります。</p>
         <div class="example"><h6>例 リソースタイプの条件</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="コピー"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version":"2012-10-17",
  "Statement":[
    <span>{</span>
      "Effect" : "Allow",
      "Action" : [ "cloudformation:CreateStack" ],
      "Resource" : "*",
      "Condition" : <span>{</span>
        "ForAllValues:StringNotLikeIfExists" : <span>{</span>
          "cloudformation:ResourceTypes" : [ "AWS::IAM::*" ]
        },
        "Null":<span>{</span>
          "cloudformation:ResourceTypes": "false"
        }
      }
    }
  ]
}</code></pre></div></div>
       
   <h2 id="using-iam-capabilities">AWS CloudFormation テンプレートでの IAM リソースの承認</h2>
      
      <p>スタックを作成する前に、AWS CloudFormation によってテンプレートが検証されます。検証中、AWS CloudFormation は作成する可能性のある IAM リソースについてテンプレートをチェックします。IAM リソース (フルアクセス権を持つユーザーなど) は、AWS アカウント の任意のリソースにアクセスして変更できます。したがって、拡大した権限で意図していないリソースを作成しないように、進める前に各 IAM に関連付けられた権限を確認することをお勧めします。実行されたことを確認するには、スタックを作成する前に、AWS CloudFormation に指定された機能を付与して、テンプレートにそれらのリソースを含めることを承認する必要があります。</p>
      <p>AWS CloudFormation コンソール、AWS Command Line Interface (AWS CLI)、または API を使用して、AWS CloudFormation テンプレートの機能を承認できます。</p>
      <div class="itemizedlist">
          
          
          
      <ul class="itemizedlist"><li class="listitem">
            <p>AWS CloudFormation コンソールで、[スタックの作成] または [スタックの更新] ウィザードの [<b>確認</b>] ページで [<b>I acknowledge that this template may create IAM resources (このテンプレートが IAM リソースを作成する可能性を認識しています)</b>] を選択します。</p>
         </li><li class="listitem">
            <p>AWS CLI で、<a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/create-stack.html"><code class="code">aws cloudformation create-stack</code></a> および <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/update-stack.html"><code class="code">aws cloudformation update-stack</code></a> コマンドを使用する場合は、<code class="code">--capabilities</code> パラメータに <code class="code">CAPABILITY_IAM</code> または <code class="code">CAPABILITY_NAMED_IAM</code> 値を指定します。テンプレートに IAM リソースがある場合、いずれかの機能を指定できます。テンプレートの IAM リソースにカスタム名がある場合、<code class="code">CAPABILITY_NAMED_IAM</code> を指定する必要があります。</p>
         </li><li class="listitem">
            <p>API で <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_CreateStack.html"><code class="code">CreateStack</code></a> と <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_UpdateStack.html"><code class="code">UpdateStack</code></a> アクションを使用する際には、<code class="code">Capabilities.member.1=CAPABILITY_IAM</code> または <code class="code">Capabilities.member.1=CAPABILITY_NAMED_IAM</code> を指定します。テンプレートに IAM リソースがある場合、いずれかの機能を指定できます。テンプレートの IAM リソースにカスタム名がある場合、<code class="code">CAPABILITY_NAMED_IAM</code> を指定する必要があります。</p>
         </li></ul></div>
      <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>重要</h6></div><div class="awsdocs-note-text"><p>テンプレートにカスタム名の IAM リソースが含まれている場合、同じテンプレートを再利用する複数のスタックを作成しないでください。IAM リソースはアカウント内でグローバルに一意でなければなりません。同じテンプレートを使用して異なるリージョンで複数のスタックを作成する場合、それぞれのスタックは一意なリソースを持つのではなく、同じ IAM リソースを共有する可能性があります。スタック間でリソースを共有すると、回復不可能な意図しない結果をまねく可能性があります。たとえば、1 つのスタックの共有された IAM リソースを削除または更新すると、意図せずに他のスタックのリソースの変更することになります。</p></div></div>
   <h2 id="using-iam-template-manage-creds">Amazon EC2 インスタンスで実行されるアプリケーションの認証情報の管理</h2>
      
      <p>Amazon EC2 インスタンスで実行されるアプリケーションで、Amazon S3 バケットや DynamoDB テーブルなどの AWS リソースにリクエストを送信する必要がある場合、そのアプリケーションでは AWS セキュリティ認証情報が必要になります。ただし、起動するすべてのインスタンスにおける長期的なセキュリティ認証情報を配信して埋め込むことは非常に難しく、潜在的なセキュリティリスクを伴います。IAM ユーザー認証情報のような長期認証情報を使用する代わりに、インスタンスが起動される際に Amazon EC2 インスタンスに関連付けられる IAM ロールを作成することをお勧めします。アプリケーションは Amazon EC2 インスタンスから一時的な認証情報を得ることができます。インスタンスに長期認証情報を埋め込む必要はありません。また、認証情報を管理しやすくするために、複数の Amazon EC2 インスタンスに対して 1 つのロールのみを指定できます。インスタンスごとに個別の認証情報を作成する必要はありません。</p>
      <p>ロールでのインスタンスの起動方法を示すテンプレートスニペットについては、「<a href="./quickref-iam.html#scenarios-iamroles">IAM ロールのテンプレートの例</a>」を参照してください。</p>
      <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注記</h6></div><div class="awsdocs-note-text"><p>一時的なセキュリティ認証情報を使用するインスタンスにあるアプリケーションでは、AWS CloudFormation アクションを呼び出すことができます。ただし、AWS CloudFormation は他の多数の AWS サービスとやり取りするため、使用するすべてのサービスが一時的なセキュリティ認証情報をサポートすることを確認する必要があります。詳細については、<a href="https://docs.aws.amazon.com/STS/latest/UsingSTS/UsingTokens.html">AWS STS がサポートする AWS サービス</a>を参照してください。</p></div></div>
   <h2 id="using-iam-template-grant-access">一時的なアクセス権の付与 (フェデレーションアクセス)</h2>
      
      <p>場合によっては、AWS アカウント に対して AWS 認証情報のない一時的なアクセス権をユーザーに付与する必要があります。一時的なアクセス権を付与する場合は、長期認証情報を作成して削除するのではなく、AWS Security Token Service (AWS STS) を使用します。たとえば、IAM ロールを使用できます。1 つの IAM ロールから、多くの一時的なセキュリティ認証情報 (アクセスキー、シークレットアクセスキー、およびセキュリティトークンを含む) をプログラムで作成し、配信することができます。これらの認証情報の有効期限は限られているため、期限が切れた後は AWS アカウント へのアクセスに使用することはできません。また、個々のユーザーに異なるレベルのアクセス許可を付与するために、複数の IAM ロールを作成することもできます。IAM ロールは、連合 ID やシングルサインオンのようなシナリオに対して有用です。</p>
      <p>フェデレーティッドアイデンティティは、複数のシステムで使用できる固有のアイデンティティです。確立されたオンプレミスアイデンティティシステム (LDAP または Active Directory など) を使用している企業ユーザーの場合、そのオンプレミスアイデンティティシステムを使用してすべての認証を処理できます。ユーザーが認証された後で、適切な IAM ユーザーまたは IAM ロールから一時的なセキュリティ認証情報を提供します。たとえば、管理者が AWS アカウントへの完全アクセス権を持ち、デベロッパーが AWS CloudFormation スタックでの作業のみのアクセス許可を持つ、<code class="code">administrators</code> ロールおよび <code class="code">developers</code> ロールを作成できます。管理者は、認証された後で、<code class="code">administrators</code> ロールから一時的なセキュリティ認証情報を取得することが許可されます。一方で、開発者は <code class="code">developers</code> ロールからのみ一時的なセキュリティ認証情報を取得できます。</p>
      <p>また、AWS Management Console にフェデレーションユーザーアクセスを付与できます。ユーザーがオンプレミスアイデンティティシステムで認証された後で、AWS Management Console への直接アクセス権を付与する一時的な URL をプログラムによって作成できます。ユーザーは既に認証されているため (シングルサインオン)、その一時的な URL を使用するときには AWS にサインインする必要がありません。また、この URL はユーザーの一時的なセキュリティ認証情報から作成されるため、この認証情報で利用できるアクセス許可によって、AWS Management Console でユーザーに付与されるアクセス許可が決まります。</p>
      <p>一時的なセキュリティ認証情報を生成するために複数のさまざまな AWS STS API を使用できます。使用する API の詳細については、「一時的なセキュリティ認証情報の使用」の「<a href="https://docs.aws.amazon.com/STS/latest/UsingSTS/Welcome.html#AccessingSTS">Ways to get temporary security credentials</a>」(一時的セキュリティ認証情報を取得する方法) を参照してください。</p>
      <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>重要</h6></div><div class="awsdocs-note-text"><p><code class="code">GetFederationToken</code> API から生成された一時的なセキュリティ認証情報を使用する場合は、IAM で作業することはできません。IAM での作業が必要な場合、代わりにロールからの一時的なセキュリティ認証情報を使用します。</p></div></div>
      <p>AWS CloudFormation は他の多数の AWS サービスとやり取りします。AWS CloudFormation で一時的なセキュリティ認証情報を使用する場合は、使用するすべてのサービスが一時的なセキュリティ認証情報をサポートすることを確認してください。詳細については、<a href="https://docs.aws.amazon.com/STS/latest/UsingSTS/UsingTokens.html">AWS STS がサポートする AWS サービス</a>を参照してください。</p>
      <p>詳細については、<em>一時的なセキュリティ認証情報の使用</em> で以下の関連リソースを参照してください。</p>
      <div class="itemizedlist">
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p><a href="https://docs.aws.amazon.com/STS/latest/UsingSTS/STSUseCases.html">一時的なアクセス権を付与するシナリオ</a></p>
            </li><li class="listitem">
               <p><a href="https://docs.aws.amazon.com/STS/latest/UsingSTS/STSMgmtConsole.html">フェデレーティッドユーザーに AWS Management Console への直接アクセス権を付与する</a></p>
            </li></ul></div>
   <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="警告" /> <strong>ブラウザで JavaScript が無効になっているか、使用できません。</strong></p><p>AWS ドキュメントを使用するには、JavaScript を有効にする必要があります。手順については、使用するブラウザのヘルプページを参照してください。</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">ドキュメントの表記規則</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./security-data-protection.html">データ保護</div><div id="next" class="next-link" accesskey="n" href="./using-iam-servicerole.html">AWS CloudFormation サービスロール</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">このページは役に立ちましたか? - はい</div><div class="content"><p>ページが役に立ったことをお知らせいただき、ありがとうございます。</p><p>お時間がある場合は、何が良かったかお知らせください。今後の参考にさせていただきます。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="フィードバック" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/using-iam-template.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">このページは役に立ちましたか? - いいえ</div><div class="content"><p>このページは修正が必要なことをお知らせいただき、ありがとうございます。ご期待に沿うことができず申し訳ありません。</p><p>お時間がある場合は、ドキュメントを改善する方法についてお知らせください。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="フィードバック" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/using-iam-template.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>