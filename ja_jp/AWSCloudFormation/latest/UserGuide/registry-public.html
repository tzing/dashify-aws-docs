<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="ja-JP"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>CloudFormation でのパブリック拡張の使用 - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="registry-public" /><meta name="default_state" content="registry-public" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/registry-public.html" /><meta name="description" content="パブリック拡張は、リソースタイプなどの CloudFormation 拡張で、CloudFormation レジストリを通じてテンプレートで使用できるようになります。パブリック拡張は、サードパーティーのパブリッシャーと AWS によって CloudFormation レジストリに公開できます。" /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="ユーザーガイド" /><meta name="abstract" content="このユーザーガイドでは、AWS CloudFormation を使用して、予測かつ再現可能な方法で、AWS インフラストラクチャのデプロイを作成して管理します。" /><meta name="guide-locale" content="ja_jp" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/registry-public.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="ユーザーガイド" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="ユーザーガイド" /><meta id="panorama-serviceConsolePage" value="CloudFormation でのパブリック拡張の使用" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>CloudFormation でのパブリック拡張の使用 - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/registry-public.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/registry-public.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/registry-public.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,リソースのプロビジョニング,リソース構成,インフラストラクチャ管理,CloudFormer,CloudFormation スタック,CloudFormation StackSet,CloudFormation テンプレート,変更セット" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "ユーザーガイド",
        "item" : "https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "AWS CloudFormation レジストリの使用",
        "item" : "https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/registry.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "CloudFormation でのパブリック拡張の使用",
        "item" : "https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/registry.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">ドキュメント</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">ユーザーガイド</a></div><div id="page-toc-src"><a href="#registry-public-enable">パブリック拡張の有効化</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="registry-public">CloudFormation でのパブリック拡張の使用</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>パブリック拡張は、すべての CloudFormation ユーザーが使用できるようにレジストリに公開されている、リソースタイプやモジュールなどの CloudFormation 拡張です。これには、AWS によって公開されたすべての拡張が含まれます。サードパーティーはパブリック拡張を公開することもできます。</p><p>パブリック拡張には 2 種類あります。</p><div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>AWS パブリック拡張 - AWS によって公開される拡張は常に公開されており、デフォルトで有効化されているため、アカウントで使用する前に何もアクションを実行する必要はありません。加えて、AWS は拡張のバージョニング管理を制御するため、常に最新のバージョンを使用しています。</p>
            </li><li class="listitem">
                <p>サードパーティー拡張 - これらは、AWS 以外のパブリッシャーが一般的に使用できるようになっている拡張です。パブリック拡張を使用するには、まずアカウントとリージョンでアクティブ化する必要があります。</p>
                <p>独自のサードパーティー拡張を公開して、一般的な CloudFormation ユーザーが利用できるようにすることができます。詳細については、「CloudFormation コマンドラインインターフェースユーザーガイド」の「<a href="https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/publish.html">Publishing extensions</a>」(パブリック拡張) を参照してください。</p>
            </li></ul></div><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注記</h6></div><div class="awsdocs-note-text"><p>プライベート拡張と同様に、サードパーティーパブリッシャーからのパブリック拡張は、リソースの作成、読み取り、更新、一覧表示、およびスタックの削除オペレーション中に実行されるイベントハンドラーを実装する場合があります。このため、これらの拡張を CloudFormation スタックで使用すると、アカウントに料金が発生する場合があります。これは、作成されたリソースに対して発生した料金に追加されます。詳細については、「<a href="https://aws.amazon.com/cloudformation/pricing/" rel="noopener noreferrer" target="_blank"><span>AWS CloudFormation 料金表</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>」を参照してください。</p></div></div>
            <h2 id="registry-public-enable">AWS アカウント で使用するためのパブリック拡張の有効化</h2>
            <p>テンプレートでパブリックサードパーティー拡張を使用するには、まず、使用するアカウントとリージョンに対して拡張を有効にする必要があります。拡張を有効にすると、有効化されたアカウントとリージョンのスタックオペレーションで使用できるようになります。パブリックサードパーティーの拡張を有効にすると、CloudFormation はアカウントの拡張レジストリに、有効化された拡張のエントリをプライベート拡張として作成します。　　　 これにより、次の方法で、アカウントで有効化された拡張をカスタマイズできます。</p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>パブリックサードパーティーの拡張名ではなく、使用するエイリアスを指定します。これは、サードパーティーの拡張間の名前の衝突を避けるのに役立ちます。</p>
                </li><li class="listitem">
                    <p>新しいマイナーバージョンまたはパッチバージョンが利用可能になったときに、拡張を自動的に更新するかどうかを指定します。</p>
                </li><li class="listitem">
                    <p>拡張のログ設定に加えて、CloudFormation が拡張を有効にするために使用する実行ロールを指定します。</p>
                </li></ul></div>
            <p>パブリックのサードパーティー拡張を有効にすると、拡張に含まれる構成プロパティを設定することもできます。構成プロパティは、拡張を特定のアカウントとリージョンに対して構成する方法を定義します。構成の詳細については、以下を参照してください。</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><a href="https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/resource-type-model.html#resource-type-howto-configuration">拡張のアカウントレベルの構成を定義する</a></p>
                </li><li class="listitem">
                    <p><a href="https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/hooks-structure.html#hook-configuration-schema">フックの構成スキーマ</a></p>
                </li></ul></div>
             
                <h3 id="registry-public-enable-auto">新しいバージョンの拡張を自動的に使用するように CloudFormation を設定する</h3>
                <p>拡張を有効にするときに、最新のマイナーバージョンを使用するように拡張の種類を指定することもできます。パブリッシャーが有効化された拡張で新しいバージョンをリリースするたびに、拡張の種類によってマイナーバージョンが更新されます。</p>
                <p>例えば、次にその拡張を含むテンプレートを使用してスタックの作成、更新などのスタックオペレーションを実行すると、CloudFormation は新しいマイナーバージョンを使用します。</p>
                <p>自動または手動で新しい拡張バージョンに更新しても、スタックですでにプロビジョニングされている拡張インスタンスには影響しません。</p>
                <p>CloudFormation は、拡張のメジャーバージョン更新を重大な変更を含む可能性があるものとして扱うため、拡張の新しいメジャーバージョンに手動で更新する必要があります。</p>
                <p>AWS で公開された拡張は、利用可能なすべてのアカウントとリージョンでデフォルトで有効化され、常に各 AWS リージョン で利用可能な最新バージョンを使用します。</p>
                <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>重要</h6></div><div class="awsdocs-note-text"><p>拡張をアカウントの最新バージョンに更新するかどうか、いつ更新するかを制御できるため、異なるアカウントやリージョンに同じ拡張の異なるバージョンがデプロイされる可能性があります。</p><p>これにより、その拡張を含む同じテンプレートをそれらのアカウントとリージョン全体で使用すると、予期しない結果につながる可能性があります。</p></div></div>
             
             
                <h3 id="registry-public-enable-alias">拡張を参照するエイリアスを指定する</h3>
                <p>特定のアカウントとリージョンにおいて、特定の名前で複数の拡張を有効にすることはできません。異なるパブリッシャーが同じ拡張名でパブリック拡張を提供している場合があるため、CloudFormation では、有効にするサードパーティーのパブリック拡張のエイリアスを指定できます。</p>
                <p>拡張にエイリアスを指定すると、CloudFormation はそのエイリアスをこのアカウントとリージョン内の拡張タイプ名として扱います。テンプレート、API 呼び出し、および CloudFormation コンソールで拡張を参照するには、エイリアスを使用する必要があります。</p>
                <p>拡張のエイリアスは、特定のアカウントとリージョン内で一意である必要があります。異なるタイプ名のエイリアスを使用して、同じアカウントとリージョン内で同じパブリックリソースを複数回有効にできます。</p>
                <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>重要</h6></div><div class="awsdocs-note-text"><p>拡張のエイリアスは、特定のアカウントとリージョンで一意である必要があるだけですが、ユーザーがアカウントとリージョン全体で異なるサードパーティーのパブリック拡張に同じエイリアスを割り当てないことを強くお勧めします。複数のアカウントまたはリージョンにまたがる拡張エイリアスを含むテンプレートを使用すると、予期しない結果が生じる可能性があります。</p></div></div>
             
          
          <h3 id="registry-public-enable-execution-role">拡張を有効にするときの実行ロールを指定する</h3>
                <p>リソースを有効にするときに、アカウントとリージョンでその拡張を呼び出すときに CloudFormation が引き受ける IAM 実行ロールを指定できます。</p>
                <p>CloudFormation が実行ロールを引き受けるためには、そのロールに CloudFormation で定義された信頼ポリシーが必要です。さらに、IAM ポリシーを作成して実行ロールにアタッチすることで、オペレーションを実行するアクセス許可が付与されます。必要なアクセス許可は、拡張スキーマのハンドラーセクションで定義されています。</p>
                <p>リソースタイプ拡張の IAM ロールの信頼ポリシーの例を次に示します。</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="コピー"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement":[
        <span>{</span>
            "Effect": "Allow",
            "Principal":<span>{</span>
                "Service": "<b>resources.cloudformation.amazonaws.com</b>"
            },
            "Action":"sts:AssumeRole",
            "Condition":<span>{</span>
                "StringEquals":<span>{</span>
                    "aws:SourceAccount":"123456789012"
                },
                "StringLike":<span>{</span>
                    "aws:SourceArn":"arn:aws:cloudformation:us-east-1:123456789012:type/resource/Organization-Service-Resource/*"
                }
            }
        }
    ]
}</code></pre>
                <p>フック拡張の IAM ロールの信頼ポリシーの例を次に示します。</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="コピー"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version":"2012-10-17",
    "Statement":[
        <span>{</span>
            "Effect":"Allow",
            "Principal": <span>{</span>
                "Service": [
                    "<b>resources.cloudformation.amazonaws.com</b>",
                    "<b>hooks.cloudformation.amazonaws.com</b>"
                ]
            },
            "Action":"sts:AssumeRole",
            "Condition":<span>{</span>
                "StringEquals":<span>{</span>
                    "aws:SourceAccount":"123456789012"
                },
                "StringLike":<span>{</span>
                     "aws:SourceArn":"arn:aws:cloudformation:us-east-1:123456789012:type/hook/Organization-Service-Hook/*"
                }
            }
        }
    ]
}</code></pre>
                <p>詳細については、「AWS Identity and Access Management ユーザーガイド」の「<a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/roles-managingrole-editing-console.html#roles-managingrole_edit-trust-policy">Modifying a role trust policy</a>」(ロールの信頼ポリシーの変更) を参照してください。</p>
             
          
          <h3 id="registry-public-activate-extension">レジストリでパブリック拡張を有効にするには</h3>
          <p>AWS CloudFormation レジストリで拡張を有効にして、使用できるようにします。</p>
                 
                    <h4 id="registry-public-activate-extension-console">CloudFormation コンソールを使用して、アカウントで使用するパブリック拡張を有効にするには</h4>
                    <div class="procedure"><ol><li><p>AWS Management Console にサインインし、AWS CloudFormation コンソール (<a href="https://console.aws.amazon.com/cloudformation/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/cloudformation</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>) を開きます。</p></li><li>

                            <p><b>CloudFormation</b> のナビゲーションペインから、<b>[CloudFormation registry]</b> (CloudFormation レジストリ) の下にある <b>[Public extensions]</b> (パブリック拡張) を選択します。</p>
                        </li><li>
                            <p><b>[Filter]</b> (フィルタ) を使用して拡張タイプを選択し、<b>[Third party]</b> (サードパーティー) を選択します。AWS によって発行されている拡張がデフォルトで有効化されています。</p>
                        </li><li>
                            <p>拡張を選択してから、<b>[Activate]</b> (有効化) を選択します。</p>
                            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注記</h6></div><div class="awsdocs-note-text"><p>拡張の複数のバージョンが使用可能な場合は、<b>[Version]</b> (バージョン) メニューを使用し、有効にする拡張のバージョンを選択します。デフォルトは最新バージョンです。</p></div></div>
                        </li><li>
                            <p><b>[Activate extension]</b> (拡張の有効化) ページのオプションを使用して、このアカウントで拡張を有効化する方法をカスタマイズします。</p>
                            <div class="itemizedlist">
                                 
                                 
                                 
                                 

                            <ul class="itemizedlist"><li class="listitem">
                                    <p>拡張タイプのエイリアスを使用して拡張を有効にするには、次の手順を実行します。</p>
                                    <div class="orderedlist">
                                         
                                         
                                    <ol><li>
                                            <p><b>[Override default]</b> (デフォルトを上書き) 選択する</p>
                                        </li><li>
                                            <p>この拡張で使用する拡張タイプエイリアスを入力します。エイリアスは、拡張タイプの推奨形式に従う必要があります。</p>
                                        </li></ol></div>
                                    <p>詳細については、「<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/registry-public.html#registry-public-enable-alias">Specifying aliases to refer to extensions</a>」(拡張を参照するエイリアスを指定する) を参照してください。</p>
                                </li><li class="listitem">
                                    <p>プライベートリソースを有効にしている場合、CloudFormation が拡張を呼び出すときに引き受ける IAM ロールを指定できます。詳細については、「<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/registry-private.html#registry-public-enable-execution-role">Specifying an execution role when activating extensions</a>」(拡張を有効化するときの実行ロールを指定する) を参照してください。</p>
                                </li><li class="listitem">
                                    <p>必要に応じて、<b>[Logging config]</b> (ロギング構成) で、拡張のロギング構成情報を指定します。例:</p>
                                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="コピー"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "logRoleArn": "arn:aws:iam::<em>account</em>:role/<em>rolename</em>",
    "logGroupName": "<em>log-group-name</em>"
}</code></pre>
                                    <p>構成情報のロギングは必須ではありませんが、デバッグの目的で推奨されます。フックでロギング構成を使用するには、指定された実行ロールと同じ信頼ポリシーを追加して、ログロールがロググループにログを書き込めるようにします。</p>
                                    <p><b>LogRoleN</b> そして <b>logGroupName</b> キー名では大文字と小文字が区別されます</p>
                                </li><li class="listitem">
                                    <p><b>[Versioning]</b> (バージョニング) で、更新の受信方法を指定します。</p>
                                    <div class="itemizedlist">
                                         
                                         

                                    <ul class="itemizedlist"><li class="listitem">
                                            <p><b>[On]</b> (オン) - 自動的に最新のマイナーバージョンに更新します。メジャーバージョンは手動で更新されます。</p>
                                        </li><li class="listitem">
                                            <p><b>[Off]</b> (オフ) - 自動的に最新バージョンに更新しません。すべてのバージョンは手動で更新されます。</p>
                                        </li></ul></div>
                                    <p>詳細については、「<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/registry-public.html#registry-public-enable-auto">Setting CloudFormation to automatically use new versions of extensions</a>」(新しいバージョンの拡張を自動的に使用するように CloudFormation を設定する) を参照してください。</p>
                                </li></ul></div>
                        </li><li>
                            <p>構成データを指定します。</p>
                            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注記</h6></div><div class="awsdocs-note-text"><p>このステップはフックに必要です。<code class="code">TargetStack</code> プロパティには <code class="code">ALL</code> を指定する必要があります。このオペレーションにより、<a href="https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/hooks-structure.html#hook-configuration-schema">フックのスキーマプロパティ</a>セクションで定義されているフックのプロパティが有効になります。</p></div></div>
                            <p>拡張でアカウントおよびリージョンレベルで追加の構成が必要な場合、CloudFormation は <b>[Activate extension]</b> (拡張の有効化) ページに、<b>[Configuration]</b> (構成) セクションを含みます。構成データを今すぐ指定するか、拡張が有効化された後に指定するかを選択できます。拡張が構成を必要としない場合、「<b>構成</b>」のセクションは表示されません。</p>
                            <div class="itemizedlist">
                                 

                                 

                            <ul class="itemizedlist"><li class="listitem">
                                    <p>拡張を有効にしながら構成データを指定するには次の手順を実行します。</p>
                                    <div class="orderedlist">
                                         
                                         
                                         
                                    <ol><li>
                                            <p><b>[Configure now]</b> (今すぐ設定) を選択してから、<b>[Activate extension]</b> (拡張の有効化) を選択します。</p>
                                            <p>CloudFormation は、<b>[Configure extension]</b> (拡張の設定) ページを表示します。拡張の現在の構成スキーマを表示するには、<b>[View configuration schema]</b> (構成スキーマの表示) が有効になっていることを確認してください。</p>
                                        </li><li>
                                            <p><b>[Configuration JSON]</b> (構成 JSON) テキストボックスに、この拡張に指定する構成スキーマを表す JSON 文字列を入力します。</p>
                                        </li><li>
                                            <p><b>[Configure extension]</b> (拡張の設定) を選択します。</p>
                                        </li></ol></div>
                                </li><li class="listitem">

                                    <p>後で構成データを指定するには:</p>
                                    <div class="itemizedlist">
                                         
                                    <ul class="itemizedlist"><li class="listitem">
                                            <p><b>[Configure later]</b> (後で設定) を選択してから、<b>[Activate extension]</b> (拡張の有効化) を選択します。</p>
                                        </li></ul></div>
                                    <p>すでに有効化されている拡張の構成データを指定するには、有効化された拡張の詳細ページにアクセスします。</p>

                                </li></ul></div>
                            <p>拡張が正常に有効化されると、CloudFormation はその拡張の詳細ページを表示します。</p>
                        </li></ol></div>
                 

                 
                    <h4 id="registry-public-update-extension-console">CloudFormation コンソールを使用して、アカウントで有効化されたパブリック拡張を更新するには</h4>
                    <p>AWS CloudFormation レジストリで拡張を更新して、使用できるようにします。</p>
                    <p>アカウントとリージョンで拡張を有効化したら、その拡張が有効化されたときに、その拡張の次のプロパティを更新できます。</p>
                    <div class="itemizedlist">
                         
                         
                         
                         
                    <ul class="itemizedlist"><li class="listitem">
                            <p>構成スキーマ。</p>
                        </li><li class="listitem">
                            <p>自動バージョン更新を有効にするかどうか。</p>
                        </li><li class="listitem">
                            <p>プライベート登録済み拡張の場合、使用する実行ロール。</p>
                        </li><li class="listitem">
                            <p>ロギング構成情報。</p>
                        </li></ul></div>
                    <div class="procedure"><ol><li><p>AWS Management Console にサインインし、AWS CloudFormation コンソール (<a href="https://console.aws.amazon.com/cloudformation/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/cloudformation</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>) を開きます。</p></li><li>
                            <p><b>CloudFormation</b> のナビゲーションペインから、<b>[CloudFormation registry]</b> (CloudFormation レジストリ) の下にある <b>[Public extensions]</b> (パブリック拡張) を選択します。</p>
                        </li><li>
                            <p><b>[Actions]</b> (アクション) メニューから <b>[Edit]</b> (編集) を選択し、次に適切な編集オプションを選択します。</p>
                            <div class="itemizedlist">
                                 
                                 
                                 
                                 
                            <ul class="itemizedlist"><li class="listitem">
                                    <p>構成スキーマを更新するには、「<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/registry-private.html#registry-set-configuration-procedure">To specify configuration properties for an extension in the CloudFormation console</a>」(CloudFormation コンソールで拡張の構成プロパティを指定するには) を参照してください。</p>
                                </li><li class="listitem">
                                    <p>自動更新を有効または無効にするには:</p>
                                    <div class="orderedlist">
                                         
                                         
                                    <ol><li>
                                            <p><b>[Edit automatic updates]</b> (自動更新を編集する) を選択します。</p>
                                        </li><li>
                                            <p><b>[On]</b> (オン) または <b>[Off]</b> (オフ) を選択してから、<b>[Save]</b> (保存) を選択します。</p>
                                        </li></ol></div>
                                </li><li class="listitem">
                                    <p>実行ロールを更新するには、次の手順を実行します。</p>
                                    <div class="orderedlist">
                                         
                                         
                                    <ol><li>
                                            <p><b>[Edit execution role]</b> (実行ロールを編集) を選択します。</p>
                                        </li><li>
                                            <p>この拡張を呼び出すときに CloudFormation が使用する IAM ロールの ARN を指定し、次に <b>[Save]</b> (保存) を選択します。</p>
                                        </li></ol></div>
                                </li><li class="listitem">
                                    <p>ロギング構成を更新するには、次の手順を実行します。</p>
                                    <div class="orderedlist">
                                         
                                         
                                    <ol><li>
                                            <p><b>[Edit logging config]</b> (ロギング設定の編集) を選択します。</p>
                                        </li><li>
                                            <p>ログ構成 JSON を編集し、次に <b>[Save]</b> (保存) を選択します。</p>
                                        </li></ol></div>
                                </li></ul></div>

                        </li></ol></div>
                 




                 
                    <h4 id="registry-public-activate-extension-cli">AWS CLI を使用して、アカウントで使用するパブリック拡張を有効にするには</h4>
                    <p>AWS CLI を介して AWS CloudFormation レジストリで拡張を有効にします。</p>
                     
                        <h5 id="registry-public-activate-extension-hooks">フックを有効にするには</h5>
                        <p>フックを開発して登録した後、レジストリに公開することで、フックを AWS アカウント で有効にできます。</p>
                        <div class="procedure"><ul><li>
                                <p>アカウントでフックを有効にするには、<code class="code"><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_SetTypeConfiguration.html">SetTypeConfiguration</a></code> オペレーションを使用します。このオペレーションにより、フックのスキーマ <code class="code">properties</code> セクションで定義されているフックのプロパティが有効になります。</p>
                                <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注記</h6></div><div class="awsdocs-note-text"><p>アカウントでフックを有効にすることにより、フックが AWS アカウント から定義されたアクセス許可を使用することを認証します。CloudFormation は、アクセス許可をフックに渡す前に、不要なアクセス許可を削除します。CloudFormation は、お客様またはフックユーザーに、フックのアクセス許可を確認し、アカウントでフックを有効にする前に、フックに許可されているアクセス許可を確認することをお勧めします。</p></div></div>
                                <p>登録したフック拡張の構成データを同じアカウントと AWS リージョン で指定します。</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="コピー"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="userinput">aws cloudformation --region us-west-2 set-type-configuration \
  --configuration "<span>{</span>"CloudFormationConfiguration":<span>{</span>"HookConfiguration":<span>{</span>"TargetStacks": "<b>ALL</b>", "FailureMode": "FAIL", "Properties":<span>{</span>}}}}" \
  --type-arn $<code class="replaceable">HOOK_TYPE_ARN</code></code></code></pre>
                                <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>重要</h6></div><div class="awsdocs-note-text"><p>フックがスタックの構成をプロアクティブに検査できるようにするには、<code class="code">HookConfiguration</code> セクションで <code class="code">TargetStacks</code> を <code class="code">ALL</code> に設定する必要があります。</p></div></div>
                            </li></ul></div>
                     
                     
                        <h5 id="registry-public-activate-extension-type">リソースタイプとモジュールを有効にするには</h5>
                        <div class="procedure"><h6>AWS CLI を使用して、アカウントで使用するパブリック拡張を有効にするには</h6><ul><li>
                                <p><code class="code">activate-type</code> を使用して拡張を有効にし、拡張の新しいマイナーバージョンが公開されるたびに拡張を自動更新するかどうかを指定します。</p>
                                <p>以下の例では、このアカウントに対して有効にするパブリック拡張のパブリック Amazon リソースネーム (ARN) を指定します。さらに、新しいマイナーバージョンが公開されるたびに CloudFormation が拡張を更新するように指定しています。</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="コピー"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="userinput">aws cloudformation activate-type \
  --public-type-arn <code class="replaceable">public_extension_ARN</code> \
  --auto-update true</code></code></pre>
                                <p>このコマンドは、このアカウントとリージョンに固有の、有効化された拡張の ARN を返します。</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="コピー"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><code class="computeroutput" copy="false"><span>{</span>
    "Arn": "624af370-311a-11e8-b6b7-500cexample"
}</code></code></pre>
                            </li></ul></div>
                     
                     
                        <h5 id="registry-public-update-extension-type">AWS CLI を使用してパブリック拡張のバージョンを更新するには</h5>

                        <p><a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/activate-type.html"><code class="code">activate-type</code></a> を使用して拡張を再度有効にします。</p>
                        <p><code class="code">--version-bump</code> パラメータを使用して、拡張を最新の <code class="code">MAJOR</code> バージョン、最新の <code class="code">MINOR</code> バージョンに更新するかどうかを指定します。</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="コピー"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="userinput">aws cloudformation activate-type \
    --region us-west-2 \
    --type RESOURCE \
    --type-name Example::Test::1234567890abcdef0 \
    --type-name-alias Example::Test::Alias \
    --version-bump MAJOR</code></code></pre>

                     
                 
                

             

             
                <h3 id="registry-public-deactivate-extension">アカウントのパブリック拡張を無効にするには</h3>
                <p>以下のセクションでは、アカウントのパブリック拡張を無効にする方法を説明します。</p>
                 
                    <h4 id="registry-public-deactivate-extension-console">CloudFormation コンソールを使用して、アカウントで使用するパブリック拡張を無効にするには</h4>
                    <div class="procedure"><ol><li>
                            <p>CloudFormation レジストリを使用して<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/registry.html#registry-view">拡張を検索</a>する。</p>
                        </li><li>
                            <p><b>[Actions]</b> (アクション) メニューから、<b>[Deactivate]</b> (無効化) を選択します。</p>
                        </li><li>
                            <p><b>[Deactivate]</b> (無効化) を選択します。</p>
                        </li></ol></div>
                 
                 
                    <h4 id="registry-public-deactivate-extension-cli">AWS CLI を使用して、アカウントでパブリック拡張を無効にするには</h4>
                    <p>アカウントのパブリック拡張を無効にするには、<a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/deactivate-type.html">deactivate-type</a> を指定します。AWS CLI 無効化コマンドの例を次に示します。</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="コピー"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">aws cloudformation deactivate-type \
    --region us-west-2 \
    --type <code class="replaceable">MODULE</code> \
    --type-name <code class="replaceable">Example::Test::Type::MODULE</code></code></pre>

                 
                 
                    <h4 id="registry-public-deactivate-extension-cli-hook">AWS CLI を使用して、アカウントでフックを無効にするには</h4>
                    <p>フックを無効にすると、フックが AWS アカウント を実行できなくなります。</p>
                    <p><code class="code">TargetStacks</code> を <code class="code">NONE</code> に設定すると、アカウントのフックをオフにするため、スタックオペレーションには適用されません。</p>
                    <p><code class="code"><a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/set-type-configuration.html">set-type-configuration</a></code> オペレーションを使用し、<code class="code">TargetStacks</code> を <code class="code">NONE</code> として指定して、フックを無効にします。</p>
                    <p>次の例では、無効化されるフックの AWS リージョン と Amazonリソースネーム (ARN) を指定します。</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="コピー"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="userinput">aws cloudformation set-type-configuration \
  --region us-west-2 \
  --configuration "<span>{</span>"CloudFormationConfiguration":<span>{</span>"HookConfiguration":<span>{</span>"TargetStacks": "<b>NONE</b>", "FailureMode": "FAIL", "Properties":<span>{</span>}}}}" \
  --type-arn <code class="replaceable">HOOK_TYPE_ARN</code></code></code></pre>
                 
             
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="警告" /> <strong>ブラウザで JavaScript が無効になっているか、使用できません。</strong></p><p>AWS ドキュメントを使用するには、JavaScript を有効にする必要があります。手順については、使用するブラウザのヘルプページを参照してください。</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">ドキュメントの表記規則</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./registry-private.html">プライベート拡張の使用</div><div id="next" class="next-link" accesskey="n" href="./template-reference.html">テンプレートリファレンス</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">このページは役に立ちましたか? - はい</div><div class="content"><p>ページが役に立ったことをお知らせいただき、ありがとうございます。</p><p>お時間がある場合は、何が良かったかお知らせください。今後の参考にさせていただきます。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="フィードバック" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/registry-public.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">このページは役に立ちましたか? - いいえ</div><div class="content"><p>このページは修正が必要なことをお知らせいただき、ありがとうございます。ご期待に沿うことができず申し訳ありません。</p><p>お時間がある場合は、ドキュメントを改善する方法についてお知らせください。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="フィードバック" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/registry-public.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>