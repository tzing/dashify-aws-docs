<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>AWS::WAFv2::WebACL Headers - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="aws-properties-wafv2-webacl-headers" /><meta name="default_state" content="aws-properties-wafv2-webacl-headers" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-wafv2-webacl-headers.html" /><meta name="description" content="Inspect all headers in the web request. You can specify the parts of the headers to inspect and you can narrow the set of headers to inspect by including or excluding specific keys." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Create and manage AWS infrastructure deployments predictably and repeatedly using AWS CloudFormation with this User Guide." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json;toc-AWS_WAFv2.json" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-wafv2-webacl-headers.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-properties-wafv2-webacl-headers.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-properties-wafv2-webacl-headers.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-properties-wafv2-webacl-headers.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-properties-wafv2-webacl-headers.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-wafv2-webacl-headers.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-wafv2-webacl-headers.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-properties-wafv2-webacl-headers.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-properties-wafv2-webacl-headers.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-properties-wafv2-webacl-headers.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-properties-wafv2-webacl-headers.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-properties-wafv2-webacl-headers.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-properties-wafv2-webacl-headers.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-properties-wafv2-webacl-headers.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-properties-wafv2-webacl-headers.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-properties-wafv2-webacl-headers.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-properties-wafv2-webacl-headers.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-properties-wafv2-webacl-headers.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-properties-wafv2-webacl-headers.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/aws-properties-wafv2-webacl-headers.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/aws-properties-wafv2-webacl-headers.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-wafv2-webacl-headers.html" hreflang="x-default" /><meta name="feedback-item" content="AWS WAF" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="AWS::WAFv2::WebACL Headers" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>AWS::WAFv2::WebACL Headers - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=AWS%20WAF&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-properties-wafv2-webacl-headers.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-properties-wafv2-webacl-headers.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-properties-wafv2-webacl-headers.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "AWS WAF V2 resource type reference",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/AWS_WAFv2.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "AWS::WAFv2::WebACL",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-wafv2-webacl.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "AWS::WAFv2::WebACL Headers",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-wafv2-webacl.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="AWS_WAFv2.html">User Guide</a></div><div id="page-toc-src"><a href="#aws-properties-wafv2-webacl-headers-syntax">Syntax</a><a href="#aws-properties-wafv2-webacl-headers-properties">Properties</a><a href="#aws-properties-wafv2-webacl-headers--examples">Examples</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="aws-properties-wafv2-webacl-headers">AWS::WAFv2::WebACL Headers</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Inspect all headers in the web request. You can specify the parts of the headers to
         inspect and you can narrow the set of headers to inspect by including or excluding specific
         keys.</p><p>This is used to indicate the web request component to inspect, in the <code class="code">FieldToMatch</code> specification. </p><p>If you want to inspect just the value of a single header, use the
            <code class="code">SingleHeader</code>
            <code class="code">FieldToMatch</code> setting instead.</p><p>Example JSON: <code class="code">"Headers": <span>{</span> "MatchPattern": <span>{</span> "All": <span>{</span>} }, "MatchScope": "KEY",
            "OversizeHandling": "MATCH" }</code>
         </p><h2 id="aws-properties-wafv2-webacl-headers-syntax">Syntax</h2><p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p><div id="JSON" name="JSON" class="section langfilter"><h3 id="aws-properties-wafv2-webacl-headers-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "<a href="#cfn-wafv2-webacl-headers-matchpattern">MatchPattern</a>" : <code class="replaceable"><a href="./aws-properties-wafv2-webacl-headermatchpattern.html">HeaderMatchPattern</a></code>,
  "<a href="#cfn-wafv2-webacl-headers-matchscope">MatchScope</a>" : <code class="replaceable">String</code>,
  "<a href="#cfn-wafv2-webacl-headers-oversizehandling">OversizeHandling</a>" : <code class="replaceable">String</code>
}
</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h3 id="aws-properties-wafv2-webacl-headers-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">  <a href="#cfn-wafv2-webacl-headers-matchpattern">MatchPattern</a>: <code class="replaceable">
    <a href="./aws-properties-wafv2-webacl-headermatchpattern.html">HeaderMatchPattern</a></code>
  <a href="#cfn-wafv2-webacl-headers-matchscope">MatchScope</a>: <code class="replaceable">String</code>
  <a href="#cfn-wafv2-webacl-headers-oversizehandling">OversizeHandling</a>: <code class="replaceable">String</code>
</code></pre></div><h2 id="aws-properties-wafv2-webacl-headers-properties">Properties</h2><div class="variablelist"><dl><dt id="cfn-wafv2-webacl-headers-matchpattern"><span class="term"><code class="code">MatchPattern</code></span></dt><dd>
         <p>The filter to use to identify the subset of headers to inspect in a web request. </p>
         <p>You must specify exactly one setting: either <code class="code">All</code>, <code class="code">IncludedHeaders</code>, or <code class="code">ExcludedHeaders</code>.</p>
         <p>Example JSON: <code class="code">"MatchPattern": <span>{</span> "ExcludedHeaders": [ "KeyToExclude1", "KeyToExclude2" ] }</code>
         </p>
      <p><em>Required</em>: Yes</p><p><em>Type</em>: <a href="./aws-properties-wafv2-webacl-headermatchpattern.html">HeaderMatchPattern</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-wafv2-webacl-headers-matchscope"><span class="term"><code class="code">MatchScope</code></span></dt><dd>
         <p>The parts of the headers to match with the rule inspection criteria. If you specify
            <code class="code">ALL</code>, AWS WAF inspects both keys and values. </p>
         <p>
            <code class="code">All</code> does not require a match to be found in the keys
 and a match to be found in the values. It requires a match to be found in the keys 
 or the values or both. To require a match in the keys and in the values, use a logical <code class="code">AND</code> statement
 to combine two match rules, one that inspects the keys and another that inspects the values. </p>
      <p><em>Required</em>: Yes</p><p><em>Type</em>: String</p><p><em>Allowed values</em>: <code class="code">ALL | KEY | VALUE</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-wafv2-webacl-headers-oversizehandling"><span class="term"><code class="code">OversizeHandling</code></span></dt><dd>
         <p>What AWS WAF should do if the headers of the request are more numerous or larger than AWS WAF can inspect. 
    AWS WAF does not support inspecting the entire contents of request headers 
      when they exceed 8 KB (8192 bytes) or 200 total headers. The underlying host service forwards a maximum of 200 headers
      and at most 8 KB of header contents to AWS WAF. </p>
         <p>The options for oversize handling are the following:</p>
         <div class="itemizedlist">
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>
                  <code class="code">CONTINUE</code> - Inspect the available headers normally, according to the rule inspection criteria. </p>
            </li><li class="listitem">
               <p>
                  <code class="code">MATCH</code> - Treat the web request as matching the rule statement. AWS WAF
               applies the rule action to the request.</p>
            </li><li class="listitem">
               <p>
                  <code class="code">NO_MATCH</code> - Treat the web request as not matching the rule
               statement.</p>
            </li></ul></div>
      <p><em>Required</em>: Yes</p><p><em>Type</em>: String</p><p><em>Allowed values</em>: <code class="code">CONTINUE | MATCH | NO_MATCH</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd></dl></div><h2 id="aws-properties-wafv2-webacl-headers--examples">Examples</h2><p></p><h3 id="aws-properties-wafv2-webacl-headers--examples--Set_the_Headers_specification">Set the Headers specification </h3><p>The following shows an example Headers field to match specification. </p><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-properties-wafv2-webacl-headers--examples--Set_the_Headers_specification--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">FieldToMatch:
  Headers:
    MatchPattern:
      IncludedHeaders:
      - "User-Agent"
      - "Referer"
    MatchScope: ALL 
    OversizeHandling: MATCH </code></pre></div><div id="JSON" name="JSON" class="section langfilter"><h4 id="aws-properties-wafv2-webacl-headers--examples--Set_the_Headers_specification--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"FieldToMatch": <span>{</span>
  "Headers": <span>{</span>
    "MatchPattern": <span>{</span>
      "IncludedHeaders": [
        "User-Agent",
        "Referer"
      ]
    },
    "MatchScope": "ALL",
    "OversizeHandling": "MATCH" 
  }
} </code></pre></div><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./aws-properties-wafv2-webacl-headermatchpattern.html">HeaderMatchPattern</div><div id="next" class="next-link" accesskey="n" href="./aws-properties-wafv2-webacl-immunitytimeproperty.html">ImmunityTimeProperty</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=AWS WAF&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-properties-wafv2-webacl-headers.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=AWS WAF&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-properties-wafv2-webacl-headers.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>