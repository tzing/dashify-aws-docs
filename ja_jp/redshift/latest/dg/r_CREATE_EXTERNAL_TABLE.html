<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="ja-JP"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>CREATE EXTERNAL TABLE - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_CREATE_EXTERNAL_TABLE" /><meta name="default_state" content="r_CREATE_EXTERNAL_TABLE" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" /><meta name="description" content="現在のデータベースに新しい外部テーブルを作成します。" /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="データベース開発者ガイド" /><meta name="abstract" content="エンタープライズレベル、ペタバイト規模、フルマネージドのデータウェアハウスサービス、Amazon Redshift を使用してデータウェアハウスを作成および管理できます。" /><meta name="guide-locale" content="ja_jp" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="データベース開発者ガイド" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="データベース開発者ガイド" /><meta id="panorama-serviceConsolePage" value="CREATE EXTERNAL TABLE" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>CREATE EXTERNAL TABLE - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#r_CREATE_EXTERNAL_TABLE" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,クラスター,データウェアハウス,開発者,サンプルデータ,データベース,データベース開発者,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "データベース開発者ガイド",
        "item" : "https://docs.aws.amazon.com/ja_jp/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "SQL リファレンス",
        "item" : "https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "SQL コマンド",
        "item" : "https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "CREATE EXTERNAL TABLE",
        "item" : "https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/c_SQL_commands.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#r_CREATE_EXTERNAL_TABLE" target="_blank" rel="noopener noreferrer" title="PDF を開く"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">ドキュメント</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">データベース開発者ガイド</a></div><div id="page-toc-src"><a href="#r_CREATE_EXTERNAL_TABLE-privileges">必要な権限</a><a href="#r_CREATE_EXTERNAL_TABLE-synopsis">Syntax</a><a href="#r_CREATE_EXTERNAL_TABLE-parameters">パラメータ</a><a href="#r_CREATE_EXTERNAL_TABLE_examples_link">例</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="r_CREATE_EXTERNAL_TABLE">CREATE EXTERNAL TABLE</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>指定のスキーマに新しい外部テーブルを作成します。外部テーブルはすべて、外部スキーマで作成されている必要があります。外部スキーマと外部テーブルは検索パスをサポートしていません。詳細については、「<a href="./r_CREATE_EXTERNAL_SCHEMA.html">CREATE EXTERNAL SCHEMA</a>」を参照してください。</p><p>Amazon Redshift では、CREATE EXTERNAL TABLE コマンドを使用して作成された外部テーブルに加えて、AWS Glueまたは AWS Lake Formation カタログ、あるいは Apache Hive メタストアで定義された外部テーブルの参照が可能です。<a href="./r_CREATE_EXTERNAL_SCHEMA.html">CREATE EXTERNAL SCHEMA</a> コマンドを使用して、外部カタログで定義された外部データベースを登録し、外部テーブルを Amazon Redshift で使用できるようにします。外部テーブルが AWS Glue または AWS Lake Formation カタログあるいは Hive メタストアに存在する場合は、CREATE EXTERNAL TABLE を使用してテーブルを作成する必要はありません。外部テーブルを表示するには、<a href="./r_SVV_EXTERNAL_TABLES.html">SVV_EXTERNAL_TABLES</a>システムビューに対してクエリを実行します。</p><p>CREATE EXTERNAL TABLE AS コマンドを実行することで、クエリからの列定義に基づいて外部テーブルを作成し、そのクエリの結果を Amazon S3 に書き込むことができます。結果は、Apache Parquet または区切りテキスト形式です。外部テーブルにパーティションキーがある場合、Amazon Redshift はそれらのパーティションキーに従って新しいファイルをパーティション分割し、新しいパーティションを外部カタログに自動的に登録します。CREATE EXTERNAL TABLE AS の詳細については、「<a href="./r_CREATE_EXTERNAL_TABLE_usage.html">使用に関する注意事項</a>」を参照してください。</p><p>他の Amazon Redshift テーブルで使用したものと同じ SELECT 構文で、外部テーブルにクエリを実行できます。INSERT 構文を使用して、Amazon S3 の外部テーブルの場所に新しいファイルを書き込むこともできます。詳細については、「<a href="./r_INSERT_external_table.html">INSERT (外部テーブル)</a>」を参照してください。</p><p>外部テーブルでビューを作成するには、<a href="./r_CREATE_VIEW.html">CREATE VIEW</a>ステートメントに WITH NO SCHEMA BINDING 句を含めます。</p><p>トランザクション内 (BEGIN… END) で CREATE EXTERNAL TABLE を実行することはできません。トランザクションの詳細については、「<a href="./c_serial_isolation.html">直列化可能分離</a>」を参照してください。</p>
         <h2 id="r_CREATE_EXTERNAL_TABLE-privileges">必要な権限</h2>
         <p>外部テーブルを作成するには、外部スキーマの所有者またはスーパーユーザーである必要があります。外部スキーマの所有者を移行するには、「ALTER SCHEMA」を使用して所有者を変更します。外部テーブルへのアクセスは、外部スキーマへのアクセスによってコントロールされます。外部テーブルに対してアクセス権限の <a href="./r_GRANT.html">GRANT</a> または <a href="./r_REVOKE.html">REVOKE</a> を実行することはできません。代わりに、外部スキーマに対して USAGE の付与または削除を実行します。</p>
         <p><a href="./r_CREATE_EXTERNAL_TABLE_usage.html">使用に関する注意事項</a> には、外部テーブルに対する特定のアクセス許可に関する追加情報があります。</p>
       
         <h2 id="r_CREATE_EXTERNAL_TABLE-synopsis">構文</h2>
         <pre class="screen">CREATE EXTERNAL TABLE
<em>external_schema.table_name</em>
(<em>column_name</em> <em>data_type</em> [, …] )
[ PARTITIONED BY (<em>col_name</em> <em>data_type</em> [, … ] )]
[ <span>{</span> ROW FORMAT DELIMITED <em>row_format</em> |
  ROW FORMAT SERDE '<em>serde_name</em>'
  [ WITH SERDEPROPERTIES ( '<em>property_name</em>' = '<em>property_value</em>' [, ...] ) ] } ]
STORED AS <em>file_format</em>
LOCATION <span>{</span> 's3://<em>bucket/folder</em>/' | 's3://<em>bucket/manifest_file</em>' }
[ TABLE PROPERTIES ( '<em>property_name</em>'='<em>property_value</em>' [, ...] ) ]</pre>
         <p>以下に示しているのは、CREATE EXTERNAL TABLE AS の構文です。</p>
         <pre class="screen">CREATE EXTERNAL TABLE
<em>external_schema.table_name</em>
[ PARTITIONED BY (<em>col_name</em> [, … ] ) ]
[ ROW FORMAT DELIMITED <em>row_format</em> ]
STORED AS <em>file_format</em>
LOCATION <span>{</span> 's3://<em>bucket/folder</em>/' }
[ TABLE PROPERTIES ( '<em>property_name</em>'='<em>property_value</em>' [, ...] ) ]
 AS
 <span>{</span> select_statement }
         </pre>
       
         <h2 id="r_CREATE_EXTERNAL_TABLE-parameters">パラメータ</h2>
         <div class="variablelist">
             
             
             
             
             
             
             
             
            
             
         <dl>
               <dt><span class="term"> <em>external_schema.table_name</em> </span></dt>
               <dd>
                  <p>作成され、外部スキーマ名で修飾されるテーブルの名前。外部テーブルは、外部スキーマで作成されている必要があります。詳細については、「<a href="./r_CREATE_EXTERNAL_SCHEMA.html">CREATE EXTERNAL SCHEMA</a>」を参照してください。</p>
                  <p>テーブル名の最大長は 127 バイトです。それより長い名前は 127 バイトまで切り詰められます。最大 4 バイトまで UTF-8 マルチバイト文字を使用できます。Amazon Redshift では、ユーザー定義の一時テーブルと、クエリ処理またはシステムメンテナンス中に Amazon Redshift によって作成された一時テーブルを含め、クラスターごとに 9,900 テーブルの制限を適用します。必要に応じて、データベース名でテーブル名を修飾することができます。次の例では、データベース名は <code class="code">spectrum_db</code>、外部スキーマ名は <code class="code">spectrum_schema</code>、テーブル名は <code class="code">test</code> です。</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="コピー"><awsui-icon name="copy"></awsui-icon></div></div><code class="">create external table spectrum_db.spectrum_schema.test (c1 int)
stored as parquet
location 's3://mybucket/myfolder/';</code></pre>
                  <p>指定のデータベースまたはスキーマが存在せず、テーブルが作成されていない場合、このステートメントはエラーを返します。システムデータベース <code class="code">template0</code>、<code class="code">template1</code>、<code class="code">padb_harvest</code>、または <code class="code">sys:internal</code> にテーブルまたはビューを作成することはできません。</p>
                  <p>テーブル名は、指定のスキーマで一意の名前にする必要があります。</p>
                  <p>有効な名前の詳細については、「<a href="./r_names.html">名前と識別子</a>」を参照してください。</p>
               </dd>
             
               <dt><span class="term">( <em>column_name</em> <em>data_type</em> )</span></dt>
               <dd>
                  <p>作成される各列の名前とデータタイプ。</p>
                  <p>列名の最大長は 127 バイトです。それより長い名前は 127 バイトまで切り詰められます。最大 4 バイトまで UTF-8 マルチバイト文字を使用できます。列名 <code class="code">"$path"</code> または <code class="code">"$size"</code> は指定できません。有効な名前の詳細については、「<a href="./r_names.html">名前と識別子</a>」を参照してください。</p>
                  <p>デフォルトでは、Amazon Redshift は疑似列 (<code class="code">$path</code> および <code class="code">$size</code>) を使用して外部テーブルを作成します。セッションの疑似列の作成を無効にするには、<code class="code">spectrum_enable_pseudo_columns</code>設定パラメータを <code class="code">false</code> に設定します。詳細については、「<a href="./r_CREATE_EXTERNAL_TABLE_usage.html#r_CREATE_EXTERNAL_TABLE_usage-pseudocolumns">疑似列 </a>」を参照してください。</p>
                  <p>擬似列が有効な場合、1 つのテーブルで定義できる列の最大数は 1,598 です。擬似列が有効でない場合、1 つのテーブルで定義できる列の最大数は 1,600 です。</p>


                     <p>「横長のテーブル」を作成する場合は、ロードとクエリ処理の結果が即時に表示されるように、列リストが行幅の限度を超えないことを確認します。詳細については、「<a href="./r_CREATE_TABLE_NEW.html#r_CREATE_TABLE_usage">使用に関する注意事項</a>」を参照してください。</p>


                  
                  <p>CREATE EXTERNAL TABLE AS コマンドの場合、列はクエリから取得されるため、列リストは必要ありません。</p>
               </dd>
             
               <dt><span class="term"> <em>data_type</em> </span></dt>
               <dd>
                  <p>次の <a href="./c_Supported_data_types.html">データ型</a> がサポートされています。</p>
                  <div class="itemizedlist">
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>SMALLINT (INT2)</p>
                     </li><li class="listitem">
                        <p>INTEGER (INT、INT4)</p>
                     </li><li class="listitem">
                        <p>BIGINT (INT8)</p>
                     </li><li class="listitem">
                        <p>DECIMAL (NUMERIC)</p>
                     </li><li class="listitem">
                        <p>REAL (FLOAT4)</p>
                     </li><li class="listitem">
                        <p>DOUBLE PRECISION (FLOAT8)</p>
                     </li><li class="listitem">
                        <p>BOOLEAN (BOOL)</p>
                     </li><li class="listitem">
                        <p>CHAR (CHARACTER)</p>
                     </li><li class="listitem">
                        <p>VARCHAR (CHARACTER VARYING)</p>
                     </li><li class="listitem">
                        
                        <p>VARBYTE (CHARACTER VARYING) – Parquet および ORC データファイルで、パーティション化されていないテーブルでのみ使用できます。</p>
                     </li><li class="listitem">

                        <p>DATE – テキスト、Parquet、または ORC データファイルでのみ使用できます。またはパーティション列としてのみ使用できます。</p>
                     </li><li class="listitem">
                        <p>TIMESTAMP</p>
                     </li></ul></div>
                  
                  <p></p>
                  <p>DATE では、以下に示す形式を使用できます。数字を使用して表される月の値では、次の形式がサポートされています。</p>
                  <div class="itemizedlist">
                      

                      
                  <ul class="itemizedlist"><li class="listitem"><p><code class="code">mm-dd-yyyy</code> は、例えば、<code class="code">05-01-2017</code> です。これがデフォルトです。</p></li><li class="listitem"><p><code class="code">yyyy-mm-dd</code>、ただし年は 2 桁以上で表します。例えば、<code class="code">2017-05-01</code> と指定します。</p>
                        </li></ul></div>
                  <p>3 文字の略語を使用して表される月の値では、次の形式がサポートされています。</p>
                  <div class="itemizedlist">
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem"><p><code class="code">mmm-dd-yyyy</code> は、例えば、<code class="code">may-01-2017</code> です。これがデフォルトです。</p></li><li class="listitem"><p><code class="code">dd-mmm-yyyy</code>、ただし年は 2 桁以上で表します。例えば、<code class="code">01-may-2017</code> と指定します。</p>
                     </li><li class="listitem"><p><code class="code">yyyy-mmm-dd</code>、ただし年は 3 桁以上で表します。例えば、<code class="code">2017-may-01</code> と指定します。</p>
                     </li></ul></div>
                     <p>年の値が一貫して 100 未満の場合、年は次の方法で計算されます。</p>
                     <div class="itemizedlist">
                         
                         
                         
                     <ul class="itemizedlist"><li class="listitem"><p>年の値が 70 より小さい場合、年は 2000 を足した数として計算されます。例えば、<code class="code">mm-dd-yyyy</code>形式での 05-01-17 という日付は <code class="code">05-01-2017</code> に変換されます。</p></li><li class="listitem"><p>年の値が 100 未満で 69 より大きい場合、年は 1900 を足した数として計算されます。例えば、<code class="code">mm-dd-yyyy</code>形式での 05-01-89 という日付は <code class="code">05-01-1989</code> に変換されます。</p></li><li class="listitem"><p>2 桁で表される年の値については、先頭にゼロを追加した 4 桁として年を表します。</p></li></ul></div>


                  <p>テキストファイルのタイムスタンプ値は、<code class="code">yyyy-mm-dd
                        HH:mm:ss.SSSSSS</code>形式であることが必要です。次のタイムスタンプ値は、<code class="code">2017-05-01 11:30:59.000000</code>となっています。</p>
                  <p>VARCHAR 列の長さは、文字単位ではなくバイト単位で定義されます。例えば、VARCHAR(12) 列には、シングルバイト文字なら 12 個、2 バイト文字なら 6 個含めることができます。外部テーブルのクエリを実行すると、エラーが返されずに、定義された列サイズに合うように結果が切り捨てられます。詳細については、「<a href="./r_Character_types.html#r_Character_types-storage-and-ranges">ストレージと範囲</a>」を参照してください。</p>
                  <p>最高のパフォーマンスを得るために、データに合う最小の列サイズを指定することをお勧めします。列の値の最大サイズ (バイト単位) を調べるには、<a href="./r_OCTET_LENGTH.html">OCTET_LENGTH</a> 関数を使用します。次の例では、E メール列の値の最大サイズを返します。</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="コピー"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="userinput">select max(octet_length(email)) from users;</code>

max
---
 62</code></pre>
               </dd>
             
               <dt><span class="term">PARTITIONED BY (<em>col_name</em> <em>data_type</em> [, … ] )</span></dt>
               <dd>
                  <p>1 つ以上のパーティション列でパーティション化されたテーブルを定義する句。指定の組み合わせごとに独立したデータディレクトリが使用されます。これにより、一部の状況でクエリパフォーマンスが向上します。パーティション化された列はテーブルデータ内には存在しません。テーブル列と同じ <em>col_name</em> の値を使用すると、エラーになります。</p>
                  <p>パーティションテーブルを作成した後、<a href="./r_ALTER_TABLE.html">ALTER TABLE</a>… ADD PARTITION ステートメントを使用してテーブルを変更し、新しいパーティションを外部カタログに登録します。パーティションを追加する際は、パーティションデータを含む で Amazon S3 サブフォルダの位置を定義します。</p>
                  <p>たとえば、テーブル <code class="code">spectrum.lineitem_part</code> が <code class="code">PARTITIONED BY (l_shipdate date)</code> で定義されている場合は、以下の ALTER TABLE コマンドを実行してパーティションを追加します。</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="コピー"><awsui-icon name="copy"></awsui-icon></div></div><code class="">ALTER TABLE spectrum.lineitem_part ADD PARTITION (l_shipdate='1992-01-29')
LOCATION 's3://spectrum-public/lineitem_partition/l_shipdate=1992-01-29';</code></pre>
                  <p>CREATE EXTERNAL TABLE AS を使用する場合、ALTER TABLE...ADD PARTITION を実行する必要はありません。Amazon Redshift は、新しいパーティションを外部カタログに自動的に登録します。また、Amazon Redshift は、テーブルに定義された 1 つまたは複数のパーティションキーに基づいて、対応するデータを Amazon S3 のパーティションに自動的に書き込みます。</p>

                  <p>パーティションを表示するには、<a href="./r_SVV_EXTERNAL_PARTITIONS.html">SVV_EXTERNAL_PARTITIONS</a>システムビューにクエリを実行します。</p>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注記</h6></div><div class="awsdocs-note-text"><p>CREATE EXTERNAL TABLE AS コマンドの場合、この列はクエリから取得されるため、パーティション列のデータ型を指定する必要はありません。</p></div></div>

               </dd>
             
               <dt><span class="term">ROW FORMAT DELIMITED <em>rowformat</em></span></dt>
               <dd>
                  <p>仮想データの型式を指定する句。以下に、<em>rowformat</em> で想定される値を示します。</p>
                  <div class="itemizedlist">
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>LINES TERMINATED BY '<em>delimiter</em>'</p>
                     </li><li class="listitem">
                        <p>FIELDS TERMINATED BY '<em>delimiter</em>'</p>
                     </li></ul></div>
                  <p>'<em>区切り記号</em>'に 1 つの ASCII 文字を指定します｡ 印刷不能な ASCII 文字は、<code class="code">'\</code><em><code class="code">ddd</code></em><code class="code">'</code>の形式 (<em><code class="code">d</code></em> は、0～7 で表され最大 '\177' までを取る 8 進数) を使用して指定できます。次の例では、BEL (ベル) 文字を 8 進数で指定しています。</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="コピー"><awsui-icon name="copy"></awsui-icon></div></div><code class="">ROW FORMAT DELIMITED FIELDS TERMINATED BY '\007'</code></pre>
                  <p>ROW FORMAT を省略した場合のデフォルト形式は DELIMITED FIELDS TERMINATED BY '\A' (ヘッダーの開始) と LINES TERMINATED BY '\n' (改行) です。</p>
                  
               </dd>
             
               <dt><span class="term">ROW FORMAT SERDE '<em>serde_name</em>'</span></dt>
               <dt><span class="term">[WITH SERDEPROPERTIES ( '<em>property_name</em>' = '<em>property_value</em>' [, ...] ) ]</span></dt>
               <dd>
                  <p>基盤となるデータの SERDE 形式を指定する句。</p>
                  <div class="variablelist">
                      
                  <dl>
                        <dt><span class="term">'<em>serde_name</em>'</span></dt>
                        <dd>
                           <p>SerDe 名。以下の形式を指定できます。</p>
                           <div class="itemizedlist">
                               
                               
                              
                               
                               
                              
                               
                           <ul class="itemizedlist"><li class="listitem">
                                 <p>org.apache.hadoop.hive.serde2.RegexSerDe </p>
                              </li><li class="listitem">
                                 <p>com.amazonaws.glue.serde.GrokSerDe </p>
                              </li><li class="listitem">
                                 <p>org.apache.hadoop.hive.serde2.OpenCSVSerde </p>
                                 <p>このパラメーターは、OpenCSVSerde において、次の SerDe プロパティをサポートします。</p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="コピー"><awsui-icon name="copy"></awsui-icon></div></div><code class="">'wholeFile' = 'true' </code></pre>
                                 <p><code class="code">wholeFile</code> プロパティに <code class="code">true</code> を設定することで、OpenCSV リクエストの引用符で囲まれた文字列内の改行文字 (\ n) を、正しく解析することができます。</p>

                              </li><li class="listitem">
                                 <p>org.openx.data.jsonserde.JsonSerDe</p>
                                 <div class="itemizedlist">
                                     
                                     
                                    
                                     
                                     

                                 <ul class="itemizedlist"><li class="listitem">
                                       <p>JSON SERDE は Ion ファイルもサポートしています。</p>
                                    </li><li class="listitem">
                                       <p>JSON は正しい形式になっている必要があります。</p>
                                    </li><li class="listitem">
                                       <p>Ion および JSON 形式のタイムスタンプには、ISO8601 形式を使用する必要があります。</p>
                                    </li><li class="listitem">
                                       <p>このパラメータでは、JsonSerDe のための、次の SerDe プロパティがサポートされています。</p>
                                       <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="コピー"><awsui-icon name="copy"></awsui-icon></div></div><code class="">'strip.outer.array'='true' </code></pre>
                                       <p>配列内に複数の JSON レコードが含まれているかのように、大括弧で囲まれた 1 つの非常に大きな配列 ( [ … ] ) を含む Ion/JSON ファイルを処理します。</p>
                                    </li></ul></div>
                              </li><li class="listitem">
                                 <p>com.amazon.ionhiveserde.IonHiveSerDe</p>
                                 <p>Amazon ION 形式では、データ型に加えて、テキスト形式とバイナリ形式を使用できます。ION 形式のデータを参照する外部テーブルの場合、外部テーブルの各列を、対応する ION 形式データの各要素にマッピングします。詳細については、「<a href="https://amzn.github.io/ion-docs/" rel="noopener noreferrer" target="_blank"><span>Amazon Ion</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>」を参照してください。また、入力形式と出力形式を指定する必要もあります。</p>

                              </li></ul></div>
                        </dd>
                     </dl></div>
                  <div class="variablelist">
                      
                  <dl>
                        <dt><span class="term">WITH SERDEPROPERTIES ( '<em>property_name</em>' = '<em>property_value</em>' [, ...] ) ]</span></dt>
                        <dd>
                           <p>オプションで、プロパティ名と値をコンマで区切って指定します。</p>
                        </dd>
                     </dl></div>
                  <p>ROW FORMAT を省略した場合のデフォルト形式は DELIMITED FIELDS TERMINATED BY '\A' (ヘッダーの開始) と LINES TERMINATED BY '\n' (改行) です。</p>
                  
               </dd>
             
               <dt><span class="term">STORED AS <em>file_format</em></span></dt>
               <dd>
                  <p>外部データファイルのファイル形式。</p>
                  <p>有効な形式は次のとおりです。</p>
                  <div class="itemizedlist">
                      
                      
                      
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>PARQUET</p>
                     </li><li class="listitem">
                        <p>RCFILE (LazyBinaryColumnarSerDe ではなく ColumnarSerD eのみを使用するデータ用)</p>
                     </li><li class="listitem">
                        <p>SEQUENCEFILE</p>
                     </li><li class="listitem">
                        <p>TEXTFILE (JSON ファイルを含むテキストファイル)。</p> 
                     </li><li class="listitem">
                        <p>ORC </p>
                     </li><li class="listitem">
                        <p>AVRO </p>
                     </li><li class="listitem">
                        <p>INPUTFORMAT '<em>input_format_classname</em>' OUTPUTFORMAT '<em>output_format_classname</em>'</p>
                     </li></ul></div>
                  <p>CREATE EXTERNAL TABLE AS コマンドは、TEXTFILE と PARQUET の 2 つのファイル形式のみをサポートしています。</p>
                  <p>INPUTFORMAT と OUTPUTFORMAT では、以下の例に示すように、クラス名を指定します。</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="コピー"><awsui-icon name="copy"></awsui-icon></div></div><code class="">'org.apache.hadoop.mapred.TextInputFormat'</code></pre>
               </dd>
             
               <dt id="create-external-table-location"><span class="term">LOCATION <span>{</span> 's3://<em>bucket/folder</em>/' | 's3://<em>bucket/manifest_file</em>'}</span></dt>
               <dd>
                  <p>データファイルを含む Amazon S3 バケットかフォルダ、または Amazon S3 オブジェクトパスのリストを含むマニフェストファイルへのパス。バケットは、Amazon Redshift クラスターと同じ AWS リージョン内に置かれている必要があります。サポートされている AWS リージョンの一覧は、「<a href="./c-using-spectrum.html#c-spectrum-considerations">Amazon Redshift Spectrum の考慮事項</a>」でご確認ください。</p>


                  
                  <p>パスがバケットかフォルダを指定している場合 (<code class="code">'s3://mybucket/custdata/'</code> など)、Redshift Spectrum は指定されたバケットかフォルダ、およびサブフォルダのファイルをスキャンします。Redshift Spectrum は、隠しファイルと、ファイル名がピリオドやアンダースコアで始まるファイルを無視します。</p>
                  <p>パスがマニフェストファイルを指定している場合、<code class="code">'s3://bucket/manifest_file'</code>引数は 1 つのファイル (たとえば <code class="code">'s3://mybucket/manifest.txt'</code> など) を明示的に参照する必要があります。キープレフィックスを参照することはできません。</p>
                  
                  <p>マニフェストは、JSON 形式のテキストファイルであり、Amazon S3 からロードする各ファイルの URL とファイルサイズ (バイト単位) を示します。URL にはバケット名およびファイルの完全オブジェクトパスが含まれます。マニフェストで指定するファイルの場所は異なるバケットでもかまいませんが、すべてのバケットは Amazon Redshift クラスターと同じ AWS リージョンに置かれている必要があります。ファイルが 2 回リストされている場合、ファイルは 2 回ロードされます。次の例は、3 つのファイルをロードするマニフェストの JSON を示しています。</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="コピー"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
  "entries": [
    <span>{</span>"url":"s3://mybucket-alpha/custdata.1", "meta": <span>{</span> "content_length": 5956875 } },
    <span>{</span>"url":"s3://mybucket-alpha/custdata.2", "meta": <span>{</span> "content_length": 5997091 } },
    <span>{</span>"url":"s3://mybucket-beta/custdata.1", "meta": <span>{</span> "content_length": 5978675 } }
  ]
}</code></pre>
                  
                  
                  <p>特定のファイルを含めることを必須にすることができます。これを行うには、マニフェストのファイルレベルで <code class="code">mandatory</code> オプションを含めます。欠落している必須ファイルを使用して外部テーブルをクエリすると、SELECT ステートメントは失敗します。外部テーブルの定義に含まれるすべてのファイルが存在することを確認します。これらがすべて存在しない場合は、最初の必須ファイルが見つかりませんというエラーが表示されます。次の例では、<code class="code">mandatory</code>オプションを <code class="code">true</code> に設定したマニフェストの JSON を説明します。</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="コピー"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
  "entries": [
    <span>{</span>"url":"s3://mybucket-alpha/custdata.1", "mandatory":true, "meta": <span>{</span> "content_length": 5956875 } },
    <span>{</span>"url":"s3://mybucket-alpha/custdata.2", "mandatory":false, "meta": <span>{</span> "content_length": 5997091 } },
    <span>{</span>"url":"s3://mybucket-beta/custdata.1", "meta": <span>{</span> "content_length": 5978675 } }
  ]
}</code></pre>
                  <p>UNLOAD を使用して作成したファイルを参照する場合は、<a href="./r_UNLOAD.html">UNLOAD</a>で MANIFEST パラメータを使用して作成したマニフェストを使用できます。マニフェストファイルは、「<a href="./copy-parameters-data-source-s3.html">Amazon S3 からの COPY</a>」でのマニフェストファイルと互換性がありますが、使用するキーが異なります。使用しないキーは無視されます。</p>
               </dd>
             
               <dt><span class="term">TABLE PROPERTIES ( '<em>property_name</em>'='<em>property_value</em>' [, ...] ) </span></dt>
               <dd>
                  <p>テーブルプロパティのテーブル定義を設定する句。</p>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注記</h6></div><div class="awsdocs-note-text"><p>テーブルのプロパティでは、大文字と小文字が区別されます。</p></div></div>
                  <div class="variablelist">
                     



                      

                      

                      
                      

                      


                      

                      

                      


                      
                      
                      


                      
                      
                      
                     
                      

                      
                  <dl>
                        <dt><span class="term"> 'compression_type'='<em>value</em>'</span></dt>
                        <dd>
                           <p> ファイル名に拡張子が含まれていない場合に使用する圧縮タイプを設定するプロパティ。ファイル拡張子があるときに、このプロパティを設定すると、拡張子は無視されて、プロパティで設定された値が使用されます。圧縮タイプの有効値は次のとおりです。</p>
                           <div class="itemizedlist">
                               
                              
                               
                               
                               
                           <ul class="itemizedlist"><li class="listitem">
                                 <p>bzip2</p>
                              </li><li class="listitem">
                                 <p>gzip</p>
                              </li><li class="listitem">
                                 <p>なし</p>
                              </li><li class="listitem">
                                 <p>snappy</p>
                              </li></ul></div>
                        </dd>
                      
                        <dt><span class="term">'data_cleansing_enabled'='true / false’</span></dt>
                        <dd>
                           <p>このプロパティは、テーブルのデータ処理が有効かどうかを設定します。'data_cleansing_enabled' が true に設定されている場合は、テーブルのデータ処理が有効です。'data_cleansing_enabled' が false に設定されている場合、テーブルのデータ処理は無効です。以下は、このプロパティが制御するテーブルレベルでのデータ処理プロパティのリストです。</p>
                           <div class="itemizedlist">
                               
                               
                               
                               
                               
                           <ul class="itemizedlist"><li class="listitem"><p>column_count_mismatch_handling</p></li><li class="listitem"><p>invalid_char_handling</p></li><li class="listitem"><p>overflow_handling</p></li><li class="listitem"><p>replacement_char</p></li><li class="listitem"><p>surplus_char_handling</p></li></ul></div>
                           <p>例については、「<a href="./r_CREATE_EXTERNAL_TABLE_examples.html#r_CREATE_EXTERNAL_TABLE_examples-data-handling">データ処理の例</a>」を参照してください。</p>
                        </dd>

                      
                        <dt><span class="term">'invalid_char_handling'='<em>value</em>'</span></dt>
                        <dd>
                           <p>クエリ結果に無効な UTF-8 文字値が含まれている場合に実行するアクションを指定します。以下のアクションを指定できます。</p>
                           <div class="variablelist">
                               
                               
                               
                               
                               

                           <dl>
                                 <dt><span class="term">DISABLED</span></dt>
                                 <dd><p>無効な文字の処理を実行しません。</p></dd>
                               
                                 <dt><span class="term">FAIL</span></dt>
                                 <dd><p>無効な UTF-8 値が含まれたデータを返すクエリをキャンセルします。</p></dd>
                               
                                 <dt><span class="term">SET_TO_NULL </span></dt>
                                 <dd><p>無効な UTF-8 値を null に置き換えます。</p></dd>
                               
                                 <dt><span class="term">DROP_ROW</span></dt>
                                 <dd><p>行内の各値を null に置き換えます。</p></dd>
                               
                                 <dt><span class="term">REPLACE</span></dt>
                                 <dd><p><code class="code">replacement_char</code> を使用して無効な文字を指定した置換文字に置き換えます。</p></dd>
                              </dl></div>
                        </dd>
                      
                        <dt><span class="term">'replacement_char'='<em>character</em>’</span></dt>
                        <dd>
                           <p><code class="code">invalid_char_handling</code> を <code class="code">REPLACE</code> に設定するときに使用する置換文字を指定します。</p>
                        </dd>
                      
                        <dt><span class="term">'numeric_overflow_handling'='value’</span></dt>
                        <dd>
                           <p>ORC データに列定義 (例えば SMALLINT や int16) よりも大きい整数 (例えば BIGINT や int64) が含まれているときに実行するアクションを指定します。以下のアクションを指定できます。</p>
                           <div class="variablelist">
                               
                               
                               
                               
                           <dl>
                                 <dt><span class="term">DISABLED</span></dt>
                                 <dd><p>無効な文字の処理が無効化されています。</p></dd>
                               
                                 <dt><span class="term">FAIL</span></dt>
                                 <dd><p>データに無効な文字が含まれているときにクエリをキャンセルします。</p></dd>
                               
                                 <dt><span class="term">SET_TO_NULL</span></dt>
                                 <dd><p>無効な文字を null に設定します。</p></dd>
                               
                                 <dt><span class="term">DROP_ROW</span></dt>
                                 <dd><p>行内の各値を null に設定します。</p></dd>
                              </dl></div>

                        </dd>

                      
                        
                        <dt><span class="term">'surplus_bytes_handling'='<em>value</em>'</span></dt>
                        <dd>
                           <p>ロードされているデータで、VARBYTE データが含まれる列に定義されたデータ型の長さを超えるデータの処理方法を指定します。Redshift Spectrum はデフォルトで、列の幅を超えるデータの値を null に設定します。</p>
                           <p>クエリがデータ型の長さを超えるデータを返すときに実行する以下のアクションを指定できます。</p>
                           <div class="variablelist">
                               
                               
                               
                               
                               
                           <dl>
                                 <dt><span class="term">SET_TO_NULL</span></dt>
                                 <dd><p>列幅を超えるデータを null に置き換えます。</p></dd>
                               
                                 <dt><span class="term">無効</span></dt>
                                 <dd><p>余剰バイトの処理を実行しません。</p></dd>
                               
                                 <dt><span class="term">FAIL</span></dt>
                                 <dd><p>列幅を超えるデータを返すクエリをキャンセルします。</p></dd>
                               
                                 <dt><span class="term">DROP_ROW</span></dt>
                                 <dd><p>列幅を超えるデータを含むすべての行を削除します。</p></dd>
                               
                                 <dt><span class="term">TRUNCATE</span></dt>
                                 <dd><p>列に定義された最大文字数を超える文字を削除します。</p></dd>
                              </dl></div>
                        </dd>
                      
                        <dt><span class="term">'surplus_char_handling'='<em>value</em>'</span></dt>
                        <dd>
                           <p>ロードされているデータで、VARCHAR、CHAR、または文字列データが含まれる列に定義されたデータ型の長さを超えるデータの処理方法を指定します。Redshift Spectrum はデフォルトで、列の幅を超えるデータの値を null に設定します。</p>
                           <p>クエリが列幅を超えるデータを返すときに実行する以下のアクションを指定できます。</p>
                           <div class="variablelist">
                               
                               
                               
                               
                               
                           <dl>
                                 <dt><span class="term">SET_TO_NULL</span></dt>
                                 <dd><p>列幅を超えるデータを null に置き換えます。</p></dd>
                               
                                 <dt><span class="term">無効</span></dt>
                                 <dd><p>余剰文字の処理を実行しません。</p></dd>
                               
                                 <dt><span class="term">FAIL</span></dt>
                                 <dd><p>列幅を超えるデータを返すクエリをキャンセルします。</p></dd>
                               
                                 <dt><span class="term">DROP_ROW</span></dt>
                                 <dd><p>行内の各値を null に置き換えます。</p></dd>
                               
                                 <dt><span class="term">TRUNCATE</span></dt>
                                 <dd><p>列に定義された最大文字数を超える文字を削除します。</p></dd>
                              </dl></div>
                        </dd>
                      
                        
                        <dt><span class="term">'column_count_mismatch_handling'='value'</span></dt>
                        <dd>
                           <p>ファイルに含まれる行の値が、外部テーブル定義で指定された列数よりも少ないか多いかを識別します。このプロパティは、非圧縮テキストファイル形式でのみ使用できます。以下のアクションを指定できます。</p>
                           <div class="variablelist">
                               
                               
                               
                               
                           <dl>
                                 <dt><span class="term">DISABLED</span></dt>
                                 <dd><p>列数の不一致処理が無効化されています。</p></dd>
                               
                                 <dt><span class="term">FAIL</span></dt>
                                 <dd><p>列数の不一致が検出された場合、クエリは失敗します。</p></dd>
                               
                                 <dt><span class="term">SET_TO_NULL</span></dt>
                                 <dd><p>欠落した値を NULL で埋め、各行の追加の値を無視します。</p></dd>
                               
                                 <dt><span class="term">DROP_ROW</span></dt>
                                 <dd><p>列数の不一致エラーを含むすべての行をスキャンからドロップします。</p></dd>
                              </dl></div>
                        </dd>
                      
                        <dt><span class="term">'numRows'='<em>row_count</em>'</span></dt>
                        <dd>
                           <p>テーブル定義の numRows 値を設定するプロパティ。外部テーブルの統計を明示的に更新するには、テーブルのサイズを示す numRows プロパティを設定します。Amazon Redshift は、外部テーブルを分析して、クエリオプティマイザがクエリプランを生成するために使用するテーブル統計を生成することはありません。外部テーブルに対してテーブル統計が設定されていない場合、Amazon Redshift は、外部テーブルが大きなテーブルであり、ローカルテーブルが小さいテーブルであるという前提に基づいてクエリ実行プランを生成します。</p>
                        </dd>
                      
                        <dt><span class="term">'skip.header.line.count'='<em>line_count</em>'</span></dt>
                        <dd>
                           <p>各ソースファイルの最初に省略する行数を設定するプロパティ。</p>
                        </dd>
                      
                        <dt><span class="term">'serialization.null.format'=' '</span></dt>
                        <dd>
                           <p>範囲を示すプロパティは、フィールドで指定されたテキストに完全に一致するものがある場合に、値 <code class="code">NULL</code> を返します。</p>
                        </dd>
                      
                        <dt><span class="term">'orc.schema.resolution'='mapping_type'</span></dt>
                        <dd>
                           <p>ORC データ形式を使用するテーブルの列マッピングタイプを設定するプロパティ。このプロパティは、他のデータ形式では無視されます。</p>
                           <p>列マッピングタイプの有効値は次のとおりです。</p>
                           <div class="itemizedlist">
                               
                               
                           <ul class="itemizedlist"><li class="listitem">
                                 <p>name </p>
                              </li><li class="listitem">
                                 <p>position </p>
                              </li></ul></div>
                           <p><em>orc.schema.resolution</em> プロパティが省略されている場合、列はデフォルトで、名前を基準としてマップされます。<em>orc.schema.resolution</em> が <em>'name'</em> または <em>'position'</em> 以外の値に設定されている場合、列は位置を基準としてマップされます。列マッピングの詳細については、「<a href="./c-spectrum-external-tables.html#c-spectrum-column-mapping-orc">外部テーブル列を ORC 列にマッピングする</a>」を参照してください。</p>
                           <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注記</h6></div><div class="awsdocs-note-text"><p>COPY コマンドは、位置のみを基準として ORC データファイルにマップします。<em>orc.schema.resolution</em> テーブルプロパティは、COPY コマンドの動作には影響しません。</p></div></div>
                        </dd>
                      
                        <dt><span class="term">'write.parallel'='on / off'</span></dt>
                        <dd>
                           <p>CREATE EXTERNAL TABLE AS がデータを並列で書き込む必要があるかどうかを設定するプロパティ。デフォルトでは、CREATE EXTERNAL TABLE AS は、クラスター内のスライスの数に応じて、データを複数のファイルに並列で書き込みます。デフォルトのオプションは on です。'write.parallel' が off に設定されている場合、CREATE EXTERNAL TABLE AS は 1 つ以上のデータファイルを Amazon S3 に順次に書き込みます。このテーブルプロパティは、同じ外部テーブルへの後続の INSERT ステートメントにも適用されます。</p>
                        </dd>
                      
                        <dt><span class="term">'write.maxfilesize.mb'='size'</span></dt>
                        <dd>
                           <p>CREATE EXTERNAL TABLE AS によって Amazon S3 に書き込まれる各ファイルの最大サイズ (MB 単位) を設定するプロパティ。サイズは 5 〜 6200 の有効な整数であることが必要です。デフォルトの最大ファイルサイズは 6,200 MB です。このテーブルプロパティは、同じ外部テーブルへの後続の INSERT ステートメントにも適用されます。</p>
                        </dd>
                      
                        <dt><span class="term">‘write.kms.key.id’=‘<em>value</em>’</span></dt>
                        <dd>
                           <p>Amazon S3 オブジェクトのサーバー側の暗号化 (SSE) を有効にする AWS Key Management Service キーを指定できます。この <em>value</em> は、以下のいずれかになります。</p>
                           <div class="itemizedlist">
                               
                                                                     <ul class="itemizedlist"><li class="listitem"><p>Amazon S3 バケットに保存されたデフォルトの AWS KMS キーを使用するための <code class="code">auto</code>。</p></li><li class="listitem"><p>データを暗号化するために指定する <em>kms-key</em>。</p></li></ul></div>
                        </dd>
                      
                        <dt><span class="term"><em>select_statement</em></span></dt>
                        <dd>
                           <p>クエリを定義して 1 つ以上の行を外部テーブルに挿入するステートメント。クエリによって生成されるすべての行は、テーブル定義に基づいて、テキストまたは Parquet 形式で Amazon S3 に書き込まれます。</p>
                        </dd>
                     </dl></div>
               </dd>
            </dl></div>
       
         <h2 id="r_CREATE_EXTERNAL_TABLE_examples_link">例</h2>
         <p>例のコレクションは、<a href="./r_CREATE_EXTERNAL_TABLE_examples.html">例</a> にあります。</p>
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="警告" /> <strong>ブラウザで JavaScript が無効になっているか、使用できません。</strong></p><p>AWS ドキュメントを使用するには、JavaScript を有効にする必要があります。手順については、使用するブラウザのヘルプページを参照してください。</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">ドキュメントの表記規則</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_CREATE_EXTERNAL_SCHEMA.html">CREATE EXTERNAL SCHEMA</div><div id="next" class="next-link" accesskey="n" href="./r_CREATE_EXTERNAL_TABLE_usage.html">使用に関する注意事項</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">このページは役に立ちましたか? - はい</div><div class="content"><p>ページが役に立ったことをお知らせいただき、ありがとうございます。</p><p>お時間がある場合は、何が良かったかお知らせください。今後の参考にさせていただきます。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="フィードバック" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">このページは役に立ちましたか? - いいえ</div><div class="content"><p>このページは修正が必要なことをお知らせいただき、ありがとうございます。ご期待に沿うことができず申し訳ありません。</p><p>お時間がある場合は、ドキュメントを改善する方法についてお知らせください。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="フィードバック" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>