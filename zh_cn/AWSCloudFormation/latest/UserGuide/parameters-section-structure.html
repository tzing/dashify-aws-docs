<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>参数 - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="parameters-section-structure" /><meta name="default_state" content="parameters-section-structure" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/parameters-section-structure.html" /><meta name="description" content="在创建或更新堆栈时使用参数将值传递到模板，以便能自定义每个堆栈部署。" /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="用户指南" /><meta name="abstract" content="根据此用户指南，使用 AWS CloudFormation 以可预见方式反复创建和管理 AWS 基础设施部署。" /><meta name="guide-locale" content="zh_cn" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/parameters-section-structure.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/parameters-section-structure.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/parameters-section-structure.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/parameters-section-structure.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/parameters-section-structure.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/parameters-section-structure.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/parameters-section-structure.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/parameters-section-structure.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/parameters-section-structure.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/parameters-section-structure.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/parameters-section-structure.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/parameters-section-structure.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/parameters-section-structure.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/parameters-section-structure.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/parameters-section-structure.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/parameters-section-structure.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/parameters-section-structure.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/parameters-section-structure.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/parameters-section-structure.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/parameters-section-structure.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/parameters-section-structure.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/parameters-section-structure.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="用户指南" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="用户指南" /><meta id="panorama-serviceConsolePage" value="参数" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>参数 - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/parameters-section-structure.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/parameters-section-structure.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/parameters-section-structure.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,资源预置,资源配置,基础设施管理,CloudFormer,CloudFormation 堆栈,CloudFormation 堆栈集,CloudFormation 模板,更改集" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "用户指南",
        "item" : "https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "使用 AWS CloudFormation 模板",
        "item" : "https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/template-guide.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "模板剖析",
        "item" : "https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/template-anatomy.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "参数",
        "item" : "https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/template-anatomy.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">文档</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">用户指南</a></div><div id="page-toc-src"><a href="#parameters-section-structure-defining">在模板中定义参数</a><a href="#parameters-section-structure-referencing">在模板中引用参数</a><a href="#parameters-section-structure-requirements">参数的一般要求</a><a href="#parameters-section-structure-syntax">JSON</a><a href="#parameters-section-structure-syntax.yaml">YAML</a><a href="#parameters-section-structure-properties">属性</a><a href="#aws-specific-parameter-types">特定于 AWS 的参数类型</a><a href="#aws-ssm-parameter-types">SSM 参数类型</a><a href="#parameters-section-structure-grouping">在 AWS CloudFormation 控制台中对参数进行分组和排序</a><a href="#parameters-section-examples">示例</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="parameters-section-structure">参数</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>使用可选的 <code class="code">Parameters</code> 部分来自定义模板。利用参数，您能够在每次创建或更新堆栈时将自定义值输入模板。</p>
    <h2 id="parameters-section-structure-defining">在模板中定义参数</h2>
    <p>以下示例声明名为 <code class="code">InstanceTypeParameter</code> 的参数。利用此参数，您可以为堆栈指定 Amazon EC2 实例类型以在创建或更新堆栈时使用。</p>
    <p>请注意，<code class="code">InstanceTypeParameter</code> 具有默认值 <code class="code">t2.micro</code>。除非提供有其他值，否则这是 AWS CloudFormation 用于预置堆栈的值。</p>
    <div id="JSON" name="JSON" class="section langfilter">
      <h3 id="parameters-section-structure-example.json">JSON</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Parameters" : <span>{</span>
  "InstanceTypeParameter" : <span>{</span>
    "Type" : "String",
    "Default" : "t2.micro",
    "AllowedValues" : ["t2.micro", "m1.small", "m1.large"],
    "Description" : "Enter t2.micro, m1.small, or m1.large. Default is t2.micro."
  }
}</code></pre>
    </div>
    <div id="YAML" name="YAML" class="section langfilter">
      <h3 id="parameters-section-structure-example.yaml">YAML</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Parameters:
  InstanceTypeParameter:
    Type: String
    Default: t2.micro
    AllowedValues:
      - t2.micro
      - m1.small
      - m1.large
    Description: Enter t2.micro, m1.small, or m1.large. Default is t2.micro.</code></pre>
    </div>
   
    <h2 id="parameters-section-structure-referencing">在模板中引用参数</h2>
    <p>您使用 <code class="code">Ref</code> 内部函数来引用某个参数，AWS CloudFormation 使用该参数的值来预置堆栈。您可以引用同一模板的 <code class="code">Resources</code> 和 <code class="code">Outputs</code> 部分中的参数。</p>
    <p>在以下示例中，EC2 实例资源的 <code class="code">InstanceType</code> 属性引用了 <code class="code">InstanceTypeParameter</code> 参数值：</p>
    <div id="JSON" name="JSON" class="section langfilter">
      <h3 id="parameters-section-structure-example2.json">JSON</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Ec2Instance" : <span>{</span>
  "Type" : "AWS::EC2::Instance",
  "Properties" : <span>{</span>
    "InstanceType" : <span>{</span> "Ref" : "InstanceTypeParameter" },
    "ImageId" : "ami-0ff8a91507f77f867"
  }
}</code></pre>
    </div>
    <div id="YAML" name="YAML" class="section langfilter">
      <h3 id="parameters-section-structure-example2.yaml">YAML</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Ec2Instance:
  Type: AWS::EC2::Instance
  Properties:
    InstanceType:
      Ref: InstanceTypeParameter
    ImageId: ami-0ff8a91507f77f867</code></pre>
    </div>
   
    <h2 id="parameters-section-structure-requirements">参数的一般要求</h2>

    <p>使用参数时存在以下要求：</p>
    <div class="itemizedlist">
       
       
       
       
       
    <ul class="itemizedlist"><li class="listitem">
        <p>一个 AWS CloudFormation 模板中最多可包含 200 个参数。</p>
      </li><li class="listitem">
        <p>必须为每个参数提供一个逻辑名称 (也称为逻辑 ID)，该名称必须是字母数字，并且在模板内的所有逻辑名称中必须是唯一的。</p>
      </li><li class="listitem">
        <p>必须向每个参数分配一个受 AWS CloudFormation 支持的参数类型。有关更多信息，请参阅<a href="#parameters-section-structure-properties-type">类型</a>。</p>
      </li><li class="listitem">
        <p>必须向每个参数分配一个运行时的值，使 AWS CloudFormation 能够成功预置堆栈。您可以选择为要使用的 AWS CloudFormation 指定默认值，除非提供有其他值。</p>
      </li><li class="listitem">
        <p>必须在同一模板内声明和引用参数。您可以引用模板的 <code class="code">Resources</code> 和 <code class="code">Outputs</code> 部分中的参数。</p>
      </li></ul></div>
  <div id="JSON" name="JSON" class="section langfilter">
    <h2 id="parameters-section-structure-syntax">JSON</h2>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Parameters" : <span>{</span>
  "<code class="replaceable">ParameterLogicalID</code>" : <span>{</span>
    "Type" : "<code class="replaceable">DataType</code>",
    "<code class="replaceable">ParameterProperty</code>" : "<code class="replaceable">value</code>"
  }
}</code></pre>
  </div><div id="YAML" name="YAML" class="section langfilter">
    <h2 id="parameters-section-structure-syntax.yaml">YAML</h2>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Parameters:
  <code class="replaceable">ParameterLogicalID</code>:
    Type: <code class="replaceable">DataType</code>
    <code class="replaceable">ParameterProperty</code>: <code class="replaceable">value</code>
</code></pre>
  </div>
    <h2 id="parameters-section-structure-properties">属性</h2>
    <div class="variablelist">
       
       
       
       
       
       
       
       
       
       
       
    <dl>
        <dt><span class="term"><code class="code">AllowedPattern</code></span></dt>
        <dd>
          <p>一个正则表达式，表示要允许 <code class="code">String</code> 和 <code class="code">CommaDelimitedList</code> 类型使用的模式。应用于类型为 <code class="code">String</code> 的参数时，模式必须与提供的整个参数值匹配。应用于类型为 <code class="code">CommaDelimitedList</code> 的参数时，模式必须与列表中的每个值匹配。</p>
          <p><em>必需</em>：否</p>
        </dd>
       
        <dt><span class="term"><code class="code">AllowedValues</code></span></dt>
        <dd>
          <p>包含参数允许值列表的阵列。应用于类型为 <code class="code">String</code> 的参数时，该参数值必须是允许的值之一。应用于类型为 <code class="code">CommaDelimitedList</code> 的参数时，列表中的每个值都必须是指定的允许的值之一。</p>
          <p><em>必需</em>：否</p>
          <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注意</h6></div><div class="awsdocs-note-text"><p>如果您使用 YAML，并且想要在 <code class="code">AllowedValues</code> 中使用 <code class="code">Yes</code> 和 <code class="code">No</code> 字符串，请使用单引号来防止 YAML 解析器考虑这些布尔值。</p></div></div>
        </dd>
       
        <dt><span class="term"><code class="code">ConstraintDescription</code></span></dt>
        <dd>
          <p>用于在违反约束时说明该约束的字符串。例如，在没有约束条件描述的情况下，具有允许的 <code class="code">[A-Za-z0-9]+</code> 模式的参数会在用户指定无效值时显示以下错误消息：</p>
          <p><code class="code">Malformed input-Parameter MyParameter must match pattern
            [A-Za-z0-9]+</code></p>
          <p>通过添加约束描述（如 <em>must only contain letters (uppercase and lowercase) and numbers</em>），您可以显示以下自定义的错误消息：</p>
          <p><code class="code">Malformed input-Parameter MyParameter must only contain uppercase and
              lowercase letters and numbers</code></p>
          <p><em>必需</em>：否</p>
        </dd>
       
        <dt><span class="term"><code class="code">Default</code></span></dt>
        <dd>
          <p>模板适当类型的值，用于在创建堆栈时未指定值的情况下。如果您定义参数的约束，则必须指定一个符合这些约束的值。</p>
          <p><em>必需</em>：否</p>
        </dd>
       
        <dt><span class="term"><code class="code">Description</code></span></dt>
        <dd>
          <p>用于描述参数的长度最多为 4000 个字符的字符串。</p>
          <p><em>必需</em>：否</p>
        </dd>
       
        <dt><span class="term"><code class="code">MaxLength</code></span></dt>
        <dd>
          <p>一个整数值，确定要允许 <code class="code">String</code> 类型使用的字符的最大数目。</p>
          <p><em>必需</em>：否</p>
        </dd>
       
        <dt><span class="term"><code class="code">MaxValue</code></span></dt>
        <dd>
          <p>一个数字值，确定要允许 <code class="code">Number</code> 类型使用的最大数字值。</p>
          <p><em>必需</em>：否</p>
        </dd>
       
        <dt><span class="term"><code class="code">MinLength</code></span></dt>
        <dd>
          <p>一个整数值，确定要允许 <code class="code">String</code> 类型使用的字符的最小数目。</p>
          <p><em>必需</em>：否</p>
        </dd>
       
        <dt><span class="term"><code class="code">MinValue</code></span></dt>
        <dd>
          <p>一个数字值，确定要允许 <code class="code">Number</code> 类型使用的最小数字值。</p>
          <p><em>必需</em>：否</p>
        </dd>
       
        <dt><span class="term"><code class="code">NoEcho</code></span></dt>
        <dd>
          <p>是否遮蔽参数值以防止在控制台、命令行或 API 中显示。如果您将 <code class="code">NoEcho</code> 属性设置为 <code class="code">true</code>，则对于描述堆栈或堆栈事件的任何调用，CloudFormation 返回使用星号 (*****) 遮蔽的参数值，但存储在下面指定位置的信息除外。</p>
          <p><em>必需</em>：否</p>
          <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>重要</h6></div><div class="awsdocs-note-text"><p>使用 <code class="code">NoEcho</code> 属性不会遮蔽在以下各区段中存储的任何信息：</p><div class="itemizedlist">
           
           
           
         <ul class="itemizedlist"><li class="listitem">
           <p><code class="code">Metadata</code> 模板区段。CloudFormation 不会转换、修改或编辑您在 <code class="code">Metadata</code> 部分中包含的任何信息。有关更多信息，请参阅<a href="./metadata-section-structure.html">元数据</a>。</p>
          </li><li class="listitem">
           <p><code class="code">Outputs</code> 模板区段。有关更多信息，请参阅<a href="./outputs-section-structure.html">输出</a>。</p>
          </li><li class="listitem">
           <p>资源定义的 <code class="code">Metadata</code> 属性。有关更多信息，请参阅<a href="./aws-attribute-metadata.html">Metadata 属性</a>。</p>
          </li></ul></div><p>强烈建议您不要使用这些机制来包含敏感信息，例如密码。</p></div></div>
          <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>重要</h6></div><div class="awsdocs-note-text"><p>我们建议不要将敏感信息直接嵌入 CloudFormation 模板中，而应使用堆栈模板中的动态参数来引用在 CloudFormation 外部存储和管理的敏感信息，例如 AWS Systems Manager Parameter Store 或 AWS Secrets Manager 中的敏感信息。</p><p>有关更多信息，请参阅 <a href="./security-best-practices.html#creds">请勿将凭证嵌入您的模板</a> 最佳实践。</p></div></div>
          <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>重要</h6></div><div class="awsdocs-note-text"><p>我们建议不要在作为资源主标识符一部分的资源属性中包含 <code class="code">NoEcho</code> 参数或任何敏感数据。</p><p>当 <code class="code">NoEcho</code> 参数包含在构成主资源标识符的属性中时，CloudFormation 可能会在主资源标识符中使用<em>实际明文值</em>。此资源 ID 可能出现在任何派生输出或目标中。</p><p>要确定哪些资源属性构成了资源类型的主标识符，请参阅该资源的<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html">资源参考文档</a>。在 <b>Return values</b>（返回值）部分，<code class="code">Ref</code> 函数返回值，表示构成资源类型主标识符的资源属性。</p></div></div>
        </dd>
       
        <dt id="parameters-section-structure-properties-type"><span class="term"><code class="code">Type</code></span></dt>
        <dd>
          <p>参数 (<code class="code">DataType</code>) 的数据类型。</p>
          <p><em>必需</em>：是</p>
          <p>AWS CloudFormation 支持以下参数类型：</p>
          <div class="variablelist">
             
             
             
             
             
             
          <dl>
              <dt><span class="term"><code class="code">String</code></span></dt>
              <dd>
                <p>一个文字字符串。</p>
                <p>例如，用户可指定 <code class="code">"MyUserName"</code>。</p>
              </dd>
             
              <dt><span class="term"><code class="code">Number</code></span></dt>
              <dd>
                <p>整数或浮点数。AWS CloudFormation 将参数值验证为数字；但当您在模板中的其他位置使用该参数时（例如，通过使用 <code class="code">Ref</code> 内部函数），该参数值将变成字符串。</p>
                <p>例如，用户可指定 <code class="code">"8888"</code>。</p>
              </dd>
             
              <dt><span class="term"><code class="code">List&lt;Number&gt;</code></span></dt>
              <dd>
                <p>一组用逗号分隔的整数或浮点数。AWS CloudFormation 将参数值验证为数字，但当您在模板中的其他位置使用该参数时（例如，通过使用 <code class="code">Ref</code> 内部函数），该参数值将变成字符串列表。</p>
                <p>例如，用户可指定 <code class="code">"80,20"</code>，并且 <code class="code">Ref</code> 将生成 <code class="code">["80","20"]</code>。</p>
              </dd>
             
              <dt><span class="term"><code class="code">CommaDelimitedList</code></span></dt>
              <dd>
                <p>一组用逗号分隔的文本字符串。字符串的总数应比逗号总数多 1。此外，会对每个成员字符串进行空间修剪。</p>
                <p>例如，用户可指定 <code class="code">"test,dev,prod"</code>，并且 <code class="code">Ref</code> 将生成 <code class="code">["test","dev","prod"]</code>。</p>
              </dd>
             
              <dt><span class="term">特定于 AWS 的参数类型</span></dt>
              <dd>
                <p>AWS 值，例如 Amazon EC2 密钥对名称和 VPC ID。有关更多信息，请参阅<a href="#aws-specific-parameter-types">特定于 AWS 的参数类型</a>。</p>
              </dd>
             
              <dt><span class="term"><code class="code">SSM</code> 参数类型</span></dt>
              <dd>
                <p>与 Systems Manager Parameter Store 中的现有参数对应的参数。您指定 Systems Manager 参数密钥作为 <code class="code">SSM</code> 参数的值，并且 AWS CloudFormation 从 Parameter Store 提取最新值来用于堆栈。有关更多信息，请参阅<a href="#aws-ssm-parameter-types">SSM 参数类型</a>。</p>
              </dd>
            </dl></div>
        </dd>
      </dl></div>
   
    <h2 id="aws-specific-parameter-types">特定于 AWS 的参数类型</h2>
    <p>要在开始创建或更新堆栈时捕获无效值，特定于 AWS 的参数类型很有帮助。要使用特定于 AWS 的类型指定参数，模板用户必须输入其 AWS 账户中的现有 AWS 值。AWS CloudFormation 针对该账户中的现有值来验证这些输入值。例如，对于 <code class="code">AWS::EC2::VPC::Id</code> 参数类型，用户必须<a href="./cfn-using-console-create-stack-parameters.html">输入在其中创建堆栈的账户和区域中的现有 VPC ID</a>。</p>
    <p>如果要允许模板用户输入来自不同 AWS 账户的输入值，请不要使用特定于 AWS 的类型来定义参数，反之，您可以定义类型为 <code class="code">String</code> 或 <code class="code">CommaDelimitedList</code> 的参数。</p>
     
      <h3 id="aws-specific-parameter-types-supported">支持的特定于 AWS 的参数类型</h3>
      <p>AWS CloudFormation 支持以下特定于 AWS 的类型：</p>
      <div class="variablelist">
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
      <dl>
          <dt><span class="term"><code class="code">AWS::EC2::AvailabilityZone::Name</code></span></dt>
          <dd>
            <p>可用区，如 <code class="code">us-west-2a</code>。</p>
          </dd>
         
          <dt><span class="term"><code class="code">AWS::EC2::Image::Id</code></span></dt>
          <dd>
            <p>Amazon EC2 映像 ID，如 <code class="code">ami-0ff8a91507f77f867</code>。请注意，AWS CloudFormation 控制台不会显示此参数类型的值的下拉列表。</p>
          </dd>
         
          <dt><span class="term"><code class="code">AWS::EC2::Instance::Id</code></span></dt>
          <dd>
            <p>Amazon EC2 实例 ID，如 <code class="code">i-1e731a32</code>。</p>
          </dd>
         
          <dt><span class="term"><code class="code">AWS::EC2::KeyPair::KeyName</code></span></dt>
          <dd>
            <p>Amazon EC2 密钥对名称。</p>
          </dd>
         
          <dt><span class="term"><code class="code">AWS::EC2::SecurityGroup::GroupName</code></span></dt>
          <dd>
            <p>EC2-Classic 或默认 VPC 安全组名称，如 <code class="code">my-sg-abc</code>。</p>
          </dd>
         
          <dt><span class="term"><code class="code">AWS::EC2::SecurityGroup::Id</code></span></dt>
          <dd>
            <p>安全组 ID，如 <code class="code">sg-a123fd85</code>。</p>
          </dd>
         
          <dt><span class="term"><code class="code">AWS::EC2::Subnet::Id</code></span></dt>
          <dd>
            <p>子网 ID，如 <code class="code">subnet-123a351e</code>。</p>
          </dd>
         
          <dt><span class="term"><code class="code">AWS::EC2::Volume::Id</code></span></dt>
          <dd>
            <p>Amazon EBS 卷 ID，如 <code class="code">vol-3cdd3f56</code>。</p>
          </dd>
         
          <dt><span class="term"><code class="code">AWS::EC2::VPC::Id</code></span></dt>
          <dd>
            <p>VPC ID，如 <code class="code">vpc-a123baa3</code>。</p>
          </dd>
         
          <dt><span class="term"><code class="code">AWS::Route53::HostedZone::Id</code></span></dt>
          <dd>
            <p>Amazon Route 53 托管区域 ID，如 <code class="code">Z23YXV4OVPL04A</code>。</p>
          </dd>
         
          <dt><span class="term"><code class="code">List&lt;AWS::EC2::AvailabilityZone::Name&gt;</code></span></dt>
          <dd>
            <p>针对某个区域的一组可用区，如 <code class="code">us-west-2a,
                us-west-2b</code>。</p>
          </dd>
         
          <dt><span class="term"><code class="code">List&lt;AWS::EC2::Image::Id&gt;</code></span></dt>
          <dd>
            <p>一组 Amazon EC2 映像 ID，如 <code class="code">ami-0ff8a91507f77f867,
                ami-0a584ac55a7631c0c</code>。请注意，AWS CloudFormation 控制台不会显示此参数类型的值的下拉列表。</p>
          </dd>
         
          <dt><span class="term"><code class="code">List&lt;AWS::EC2::Instance::Id&gt;</code></span></dt>
          <dd>
            <p>一组 Amazon EC2 实例 ID，如 <code class="code">i-1e731a32,
              i-1e731a34</code>。</p>
          </dd>
         
          <dt><span class="term"><code class="code">List&lt;AWS::EC2::SecurityGroup::GroupName&gt;</code></span></dt>
          <dd>
            <p>一组 EC2-Classic 或默认 VPC 安全组名称，如 <code class="code">my-sg-abc, my-sg-def</code>。</p>
          </dd>
         
          <dt><span class="term"><code class="code">List&lt;AWS::EC2::SecurityGroup::Id&gt;</code></span></dt>
          <dd>
            <p>一组安全组 ID，如 <code class="code">sg-a123fd85,
              sg-b456fd85</code>。</p>
          </dd>
         
          <dt><span class="term"><code class="code">List&lt;AWS::EC2::Subnet::Id&gt;</code></span></dt>
          <dd>
            <p>一组子网 ID，如 <code class="code">subnet-123a351e,
              subnet-456b351e</code>。</p>
          </dd>
         
          <dt><span class="term"><code class="code">List&lt;AWS::EC2::Volume::Id&gt;</code></span></dt>
          <dd>
            <p>一组 Amazon EBS 卷 ID，如 <code class="code">vol-3cdd3f56,
              vol-4cdd3f56</code>。</p>
          </dd>
         
          <dt><span class="term"><code class="code">List&lt;AWS::EC2::VPC::Id&gt;</code></span></dt>
          <dd>
            <p>一组 VPC ID，如 <code class="code">vpc-a123baa3, vpc-b456baa3</code>。</p>
          </dd>
         
          <dt><span class="term"><code class="code">List&lt;AWS::Route53::HostedZone::Id&gt;</code></span></dt>
          <dd>
            <p>一组 Amazon Route 53 托管区域 ID，如 <code class="code">Z23YXV4OVPL04A,
                Z23YXV4OVPL04B</code>。</p>
          </dd>
        </dl></div>
     
   
   <h2 id="aws-ssm-parameter-types">SSM 参数类型</h2>
   <p>SSM 参数类型与 Systems Manager Parameter Store 中的现有参数对应。您指定 Systems Manager 参数密钥作为 <code class="code">SSM</code> 参数的值，并且 AWS CloudFormation 从 Parameter Store 提取最新值来用于堆栈。对于存储在相同 AWS 账户 的 SSM 参数，请输入参数名称。对于其他 AWS 账户 共享的 SSM 参数，请输入完整的参数 ARN。有关 Systems Manager 参数的更多信息，请参阅《AWS Systems Manager 用户指南》<em></em>中的 <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/systems-manager-paramstore.html">Systems Manager Parameter Store</a> 和<a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/parameter-store-shared-parameters.html">使用共享参数</a>。</p>
    <p>您也可以使用 <code class="code">ssm</code> 或 <code class="code">ssm-secure</code> 动态参数模式在模板中指定参数<em>值</em>。有关更多信息，请参阅<a href="./dynamic-references.html">使用动态引用以指定模板值</a>。</p>
    <p>当您创建或更新堆栈并创建更改集时，AWS CloudFormation 会在此操作运行时使用 Parameter Store 中存在的任何值。如果某个指定的参数在调用方的 AWS 账户下的参数仓库中不存在，AWS CloudFormation 会返回验证错误。</p>
    <p>当您执行更改集时，AWS CloudFormation 将使用在更改集中指定的值。您应在执行更改集前检查这些值，因为在您创建更改集和运行更改集之间的时间内，它们可能会在 Parameter Store 中发生更改。</p>

    <div class="awsdocs-note awsdocs-tip"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>提示</h6></div><div class="awsdocs-note-text"><p>您可以在控制台中或通过运行 <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/describe-stacks.html"><code class="code">describe-stacks</code></a> 或 <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/describe-change-set.html"><code class="code">describe-change-set</code></a> 来查看堆栈的 <b>Parameters</b>（参数）选项卡上 <code class="code">SSM</code> 参数的<em>解析值</em>。这些是目前在堆栈定义中用于相应的 Systems Manager 参数键的值。请注意，这些值是在创建或更新堆栈时设置的，因此它们可能与 Parameter Store 中的最新值不同。</p><p>如果您使用 <code class="code">ssm-secure</code> 模式指定参数值作为安全字符串，AWS CloudFormation 不会存储安全字符串值或将其显示在控制台中或 API 调用的结果中。</p></div></div>

    <p>由于 <code class="code">SSM</code> 参数的值是 Systems Manager 参数键，因此您应了解以下行为：</p>
    <div class="itemizedlist">
       
       
    <ul class="itemizedlist"><li class="listitem">
        <p>对于堆栈更新，控制台中的 <b>Use existing value</b>（使用现有值）选项和 <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/update-stack.html"><code class="code">update-stack</code></a> 的 <code class="code">UsePreviousValue</code> 属性告知 AWS CloudFormation 使用现有 Systems Manager 参数密钥，而不是其值。AWS CloudFormation 在更新堆栈时始终从 Parameter Store 中提取最新值。</p>
        <p>但是，如果您使用 <code class="code">ssm</code> 或 <code class="code">ssm-secure</code> 动态参数模式来指定参数值，您必须指 Systems Manager 参数的版本以便 AWS CloudFormation 使用。</p>
      </li><li class="listitem">
        <p>AWS CloudFormation 可以对 Systems Manager 参数密钥执行验证，但不能对其对应的值执行验证。为了进行验证，您可以将参数键视为字符串。您应为 Parameter Store 中的 Systems Manager 参数值执行任何验证。</p>
      </li></ul></div>

    <p>有关使用 <code class="code">SSM</code> 参数类型的示例，请参阅 <a href="#parameters-section-ssm-examples">SSM 参数类型</a>。</p>
     
      <h3 id="aws-ssm-parameter-types-supported">支持的 SSM 参数类型</h3>
      <p>AWS CloudFormation 支持以下 <code class="code">SSM</code> 参数类型：</p>
      <div class="variablelist">
         
         
         
         
         
      <dl>
          <dt><span class="term"><code class="code">AWS::SSM::Parameter::Name</code></span></dt>
          <dd>
            <p>Systems Manager 参数键的名称。</p>
            <p>请在您要传递参数键时使用此参数。例如，您可以使用此类型验证此参数是否存在。</p>
          </dd>
         
          <dt><span class="term"><code class="code">AWS::SSM::Parameter::Value&lt;String&gt;</code></span></dt>
          <dd>
            <p>其值是字符串的 Systems Manager 参数。这与 Parameter Store 中的 <code class="code">String</code> 参数对应。</p>
          </dd>
         
          <dt><span class="term"><code class="code">AWS::SSM::Parameter::Value&lt;List&lt;String&gt;&gt;</code> 或 <code class="code">AWS::SSM::Parameter::Value&lt;CommaDelimitedList&gt;</code></span></dt>
          <dd>
            <p>其值是字符串列表的 Systems Manager 参数。这与 Parameter Store 中的 <code class="code">StringList</code> 参数对应。</p>
          </dd>
         
          <dt><span class="term"><code class="code">AWS::SSM::Parameter::Value&lt;<code class="replaceable">AWS-specific parameter
                type</code>&gt;</code></span></dt>
          <dd>
            <p>其值是 <a href="#aws-specific-parameter-types">特定于 AWS 的参数类型</a>的 Systems Manager 参数。例如，下面指定了 <code class="code">AWS::EC2::KeyPair::KeyName</code> 类型：</p>
            <p><code class="code">AWS::SSM::Parameter::Value&lt;AWS::EC2::KeyPair::KeyName&gt;</code></p>
          </dd>
         
          <dt><span class="term"><code class="code">AWS::SSM::Parameter::Value&lt;List&lt;<code class="replaceable">AWS-specific parameter
                type</code>&gt;&gt;</code></span></dt>
          <dd>
            <p>其值是 <a href="#aws-specific-parameter-types">特定于 AWS 的参数类型</a>列表的 Systems Manager 参数。例如，下面指定了 <code class="code">AWS::EC2::KeyPair::KeyName</code> 类型的列表：</p>
            <p><code class="code">AWS::SSM::Parameter::Value&lt;List&lt;AWS::EC2::KeyPair::KeyName&gt;&gt;</code></p>
          </dd>
        </dl></div>
     
     
      <h3 id="aws-ssm-parameter-types-unsupported">不支持的 SSM 参数类型</h3>
      <p>AWS CloudFormation 不支持以下 <code class="code">SSM</code> 参数类型：</p>
      <div class="itemizedlist">
         
      <ul class="itemizedlist"><li class="listitem">
          <p><code class="code">SSM</code> 参数类型的列表，例如：<code class="code">List&lt;AWS::SSM::Parameter::Value&lt;String&gt;&gt;</code></p>
        </li></ul></div>
      <p>此外，AWS CloudFormation 不支持将模板参数定义为 <code class="code">SecureString</code> Systems Manager 参数类型。但是，您可以使用动态参数模式为某些资源指定安全字符串作为参数<em>值</em>。有关更多信息，请参阅<a href="./dynamic-references.html">使用动态引用以指定模板值</a>。</p>
     
   
    <h2 id="parameters-section-structure-grouping">在 AWS CloudFormation 控制台中对参数进行分组和排序</h2>
    <p>使用 AWS CloudFormation 控制台创建或更新堆栈时，控制台根据输入参数的逻辑 ID 按照字母顺序列出输入参数。要覆盖默认排序方式，您可以使用 <code class="code">AWS::CloudFormation::Interface</code> 元数据键。通过对参数进行分组和排序，用户可更轻松地指定参数值。例如，您可以将所有 VPC 相关参数放到一个组中，免得它们散落在按字母排序的列表中而难以查找。</p>
    <p>在元数据键中，您可以指定要创建的组、每个组包含的参数以及控制台在其分组中显示各个参数时的顺序。此外，您还可以定义易记参数名称，以便控制台显示描述性名称而不是逻辑 ID。在元数据键中引用的所有参数都必须在模板的 <code class="code">Parameters</code> 部分中声明。</p>
    <p>有关更多信息和 <code class="code">AWS::CloudFormation::Interface</code> 元数据键的示例，请参阅 <a href="./aws-resource-cloudformation-interface.html">AWS::CloudFormation::Interface</a>。</p>
   
    <h2 id="parameters-section-examples">示例</h2>
     
      <h3 id="parameters-section-examples-basic">基本输入参数</h3>
      <p>以下示例 <code class="code">Parameters</code> 部分声明有两个参数。<code class="code">DBPort</code> 参数属于 <code class="code">Number</code> 类型，默认值为 <code class="code">3306</code>。可指定的最小值为 <code class="code">1150</code>，可指定的最大值为 <code class="code">65535</code>。<code class="code">DBPwd</code> 参数属于 <code class="code">String</code> 类型，无默认值。<code class="code">NoEcho</code> 属性设置为 <code class="code">true</code>，以阻止<em>描述堆栈</em>调用（如 <code class="code">aws cloudformation describe-stacks</code> AWS CLI 命令）返回参数值。可指定的最小长度为 <code class="code">1</code>，可指定的最大长度为 <code class="code">41</code>。该模式允许小写和大写字母字符和数字。</p>
      <div id="JSON" name="JSON" class="section langfilter">
        <h4 id="parameters-section-structure-examples-example.json">JSON</h4>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Parameters" : <span>{</span>
  "DBPort" : <span>{</span>
    "Default" : "3306",
    "Description" : "TCP/IP port for the database",
    "Type" : "Number",
    "MinValue" : "1150",
    "MaxValue" : "65535"
  },
  "DBPwd" : <span>{</span>
    "NoEcho" : "true",
    "Description" : "The database admin account password",
    "Type" : "String",
    "MinLength" : "1",
    "MaxLength" : "41",
    "AllowedPattern" : "^[a-zA-Z0-9]*$"
  }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h4 id="parameters-section-structure-examples-example.yaml">YAML</h4>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Parameters: 
  DBPort: 
    Default: 3306
    Description: TCP/IP port for the database
    Type: Number
    MinValue: 1150
    MaxValue: 65535
  DBPwd: 
    NoEcho: true
    Description: The database admin account password
    Type: String
    MinLength: 1
    MaxLength: 41
    AllowedPattern: ^[a-zA-Z0-9]*$</code></pre>
      </div>
     
     
      <h3 id="parameters-section-structure-aws-specific-types">特定于 AWS 的参数类型</h3>
      <p>当您使用特定于 AWS 的参数类型时，使用您的模板创建或更新堆栈的用户必须指定其用户账户中和当前堆栈所在区域中的现有 AWS 值。特定于 AWS 的参数类型可帮助确保在 AWS CloudFormation 创建或更新任何资源之前，这些类型的输入值存在且正确。例如，如果使用 <code class="code">AWS::EC2::KeyPair::KeyName</code> 参数类型，AWS CloudFormation 在创建任何资源（如 Amazon EC2 实例）之前，将针对用户的现有密钥对名称验证输入值。</p>
      <p>如果用户使用 AWS Management Console，则 AWS CloudFormation <a href="./cfn-using-console-create-stack-parameters.html">向特定于 AWS 的参数类型预填充有效值</a>。这样一来，用户便无需记住和正确输入特定的名称或 ID，只需从下拉列表中选择一个或多个值。此外，根据参数类型，用户还可以按 ID、名称或名称标签值来搜索值。有关更多信息，请参阅<a href="./cfn-using-console-create-stack-parameters.html">指定堆栈名称和参数</a>。</p>
      <p>以下示例声明类型 <code class="code">AWS::EC2::KeyPair::KeyName</code> 和 <code class="code">AWS::EC2::Subnet::Id</code> 的两个参数。这些类型限制现有密钥对名称和子网 ID 的有效值。因为将 <code class="code">mySubnetIDs</code> 参数指定为列表，所以用户可指定一个或多个子网 ID。</p>
      <div id="JSON" name="JSON" class="section langfilter">
        <h4 id="parameters-section-structure-examples-example2.json">JSON</h4>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Parameters" : <span>{</span>
  "myKeyPair" : <span>{</span>
    "Description" : "Amazon EC2 Key Pair",
    "Type" : "AWS::EC2::KeyPair::KeyName"
  },
  "mySubnetIDs" : <span>{</span>
    "Description" : "Subnet IDs",
    "Type" : "List&lt;AWS::EC2::Subnet::Id&gt;"
  }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h4 id="parameters-section-structure-examples-example2.yaml">YAML</h4>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Parameters: 
  myKeyPair: 
    Description: Amazon EC2 Key Pair
    Type: "AWS::EC2::KeyPair::KeyName"
  mySubnetIDs: 
    Description: Subnet IDs
    Type: "List&lt;AWS::EC2::Subnet::Id&gt;"</code></pre>
      </div>
       
        <h4 id="parameters-section-cli-support">AWS CLI 和 API 支持</h4>
        <p>目前，用户无法使用 AWS CLI 或 AWS CloudFormation API 查看特定于 AWS 的参数的有效值列表。但用户可通过使用 <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/get-template-summary.html"><code class="code">aws cloudformation get-template-summary</code></a> 命令或 <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_GetTemplateSummary.html"><code class="code">GetTemplateSummary</code></a> API 来查看有关每个参数的信息，如参数类型。</p>
       
     
     
      <h3 id="parameters-section-structure-comma-list-type">逗号分隔列表参数类型</h3>
      <p>您可使用 <code class="code">CommaDelimitedList</code> 参数类型在一个参数中指定多个字符串值。这样一来，您可使用一个参数而不是许多不同的参数来指定多个值。例如，如果您使用各自不同的 CIDR 块分别创建三个不同子网，则可以使用三个不同参数指定三个不同 CIDR 块。不过更简单的方法是使用包括三个 CIDR 块的列表的单个参数，如以下代码段所示：</p>
      <div id="JSON" name="JSON" class="section langfilter">
        <h4 id="parameters-section-structure-examples-example3.json">JSON</h4>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Parameters" : <span>{</span>
  "DbSubnetIpBlocks": <span>{</span>
    "Description": "Comma-delimited list of three CIDR blocks",
    "Type": "CommaDelimitedList",
    "Default": "10.0.48.0/24, 10.0.112.0/24, 10.0.176.0/24"
  }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h4 id="parameters-section-structure-examples-example3.yaml">YAML</h4>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Parameters: 
  DbSubnetIpBlocks: 
    Description: "Comma-delimited list of three CIDR blocks"
    Type: CommaDelimitedList
    Default: "10.0.48.0/24, 10.0.112.0/24, 10.0.176.0/24"
</code></pre>
      </div>
       
        <h4 id="parameters-section-structure-examples-return-value">从逗号分隔列表参数返回值</h4>
        <p>要引用列表中的特定值，请在模板的 <code class="code"><a href="./intrinsic-function-reference-select.html">Fn::Select</a></code> 部分中使用 <code class="code">Resources</code> 内部函数。可传递所需对象的索引值和对象列表，如以下代码段所示：</p>
        <div id="JSON" name="JSON" class="section langfilter">
          <h5 id="parameters-section-structure-examples-example4.json">JSON</h5>
          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"DbSubnet1" : <span>{</span>
  "Type" : "AWS::EC2::Subnet",
  "Properties" : <span>{</span>
    "AvailabilityZone" : <span>{</span>"Fn::Join" : ["",[ <span>{</span> "Ref" : "AWS::Region" }, <span>{</span> "Fn::Select" : [ "0", <span>{</span>"Ref" : "VpcAzs"} ] } ] ]} ,
    "VpcId" :  <span>{</span> "Ref" : "VPC" },
    "CidrBlock" : <span>{</span> "Fn::Select" : [ "0", <span>{</span>"Ref" : "DbSubnetIpBlocks"} ] }
  }
},
"DbSubnet2" : <span>{</span>
  "Type" : "AWS::EC2::Subnet",
  "Properties" : <span>{</span>
    "AvailabilityZone" : <span>{</span>"Fn::Join" : ["",[ <span>{</span> "Ref" : "AWS::Region" }, <span>{</span> "Fn::Select" : [ "1", <span>{</span>"Ref" : "VpcAzs"} ] } ] ]} ,
    "VpcId" : <span>{</span> "Ref" : "VPC" },
    "CidrBlock" : <span>{</span> "Fn::Select" : [ "1", <span>{</span>"Ref" : "DbSubnetIpBlocks"} ] }
  }
},
"DbSubnet3" : <span>{</span>
  "Type" : "AWS::EC2::Subnet",
  "Properties" : <span>{</span>
    "AvailabilityZone" : <span>{</span>"Fn::Join" : ["",[ <span>{</span> "Ref" : "AWS::Region" }, <span>{</span> "Fn::Select" : [ "2", <span>{</span>"Ref" : "VpcAzs"} ] } ] ]} ,
    "VpcId" : <span>{</span> "Ref" : "VPC" },
    "CidrBlock" : <span>{</span> "Fn::Select" : [ "2", <span>{</span>"Ref" : "DbSubnetIpBlocks"} ] }
  }
}</code></pre>
        </div>
        <div id="YAML" name="YAML" class="section langfilter">
          <h5 id="parameters-section-structure-examples-example4.yaml">YAML</h5>
          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">DbSubnet1:
  Type: AWS::EC2::Subnet
  Properties:
    AvailabilityZone: !Sub
      - "$<span>{</span>AWS::Region}$<span>{</span>AZ}"
      - AZ: !Select [0, !Ref VpcAzs]
    VpcId: !Ref VPC
    CidrBlock: !Select [0, !Ref DbSubnetIpBlocks]
DbSubnet2: 
  Type: AWS::EC2::Subnet
  Properties:
    AvailabilityZone: !Sub
      - "$<span>{</span>AWS::Region}$<span>{</span>AZ}"
      - AZ: !Select [1, !Ref VpcAzs]
    VpcId: !Ref VPC
    CidrBlock: !Select [1, !Ref DbSubnetIpBlocks]
DbSubnet3: 
  Type: AWS::EC2::Subnet
  Properties:
    AvailabilityZone: !Sub
      - "$<span>{</span>AWS::Region}$<span>{</span>AZ}"
      - AZ: !Select [2, !Ref VpcAzs]
    VpcId: !Ref VPC
    CidrBlock: !Select [2, !Ref DbSubnetIpBlocks]</code></pre>
        </div>
       
     
     
      <h3 id="parameters-section-ssm-examples">SSM 参数类型</h3>
      <p></p>
       
        <h4 id="parameters-section-ssm-examples-example1"><code class="code">AWS::SSM::Parameter::Value</code>&lt;String&gt; 类型</h4>
        <p>以下模板声明 <code class="code">AWS::SSM::Parameter::Value&lt;String&gt;</code> 参数类型。</p>
        <div id="JSON" name="JSON" class="section langfilter">
          <h5 id="parameters-ssm-string.json">JSON</h5>
          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Parameters": <span>{</span>
    "InstanceType": <span>{</span>
      "Type": "AWS::SSM::Parameter::Value&lt;String&gt;"
    }
  },
  "Resources": <span>{</span>
    "Instance": <span>{</span>
      "Type": "AWS::EC2::Instance",
      "Properties": <span>{</span>
        "InstanceType": <span>{</span>
          "Ref": "InstanceType"
        }
      }
    }
  }
}</code></pre>
        </div>
        <div id="YAML" name="YAML" class="section langfilter">
          <h5 id="parameters-ssm-string.yaml">YAML</h5>
          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Parameters: 
  InstanceType: 
    Type: 'AWS::SSM::Parameter::Value&lt;String&gt;'
Resources: 
  Instance: 
    Type: 'AWS::EC2::Instance'
    Properties: 
      InstanceType: !Ref InstanceType
</code></pre>
        </div>
        <p>以下命令基于示例模板创建堆栈。它提供 Systems Manager 参数键 (<code class="code">myInstanceType</code>) 作为 <code class="code">InstanceType</code> 模板参数的值。这假定 <code class="code">myInstanceType</code> 参数在调用方的 AWS 账户下的参数仓库中存在。</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">aws cloudformation create-stack --stack-name S1 --template-body <code class="replaceable">example template</code> --parameters ParameterKey=InstanceType,ParameterValue=myInstanceType</code></pre>
       
      <p> </p>
       
        <h4 id="parameters-section-ssm-examples-example2"><code class="code">AWS::SSM::Parameter::Value</code>&lt;<code class="code">AWS::EC2::Image::Id</code>&gt; 类型</h4>
        <p>以下模板声明 <code class="code">AWS::SSM::Parameter::Value&lt;AWS::EC2::Image::Id&gt;</code> 参数类型。</p>
        <div id="JSON" name="JSON" class="section langfilter">
          <h5 id="parameters-ssm-ec2keypair.json">JSON</h5>
          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Parameters": <span>{</span>
    "ImageId": <span>{</span>
      "Type": "AWS::SSM::Parameter::Value&lt;AWS::EC2::Image::Id&gt;"
    }
  },
  "Resources": <span>{</span>
    "Instance": <span>{</span>
      "Type": "AWS::EC2::Instance",
      "Properties": <span>{</span>
        "ImageId": <span>{</span>
          "Ref": "ImageId"
        }
      }
    }
  }
}</code></pre>
        </div>
        <div id="YAML" name="YAML" class="section langfilter">
          <h5 id="parameters-ssm-ec2keypair.yaml">YAML</h5>
          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Parameters: 
  ImageId: 
    Type: 'AWS::SSM::Parameter::Value&lt;AWS::EC2::Image::Id&gt;'
Resources: 
  Instance: 
    Type: 'AWS::EC2::Instance'
    Properties:
      ImageId: !Ref ImageId</code></pre>
        </div>
        <p>以下命令基于示例模板创建堆栈。它提供 Systems Manager 参数键 (<code class="code">myLatestAMI</code>) 作为 <code class="code">ImageId</code> 模板参数的值。这假定 <code class="code">myLatestAMI</code> 参数在调用方的 AWS 账户下的参数仓库中存在。</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">aws cloudformation create-stack --stack-name S2 --template-body <code class="replaceable">example template</code> --parameters ParameterKey=ImageId,ParameterValue=myLatestAMI</code></pre>
       
     
  <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="警告" /> <strong>Javascript 在您的浏览器中被禁用或不可用。</strong></p><p>要使用 Amazon Web Services 文档，必须启用 Javascript。请参阅浏览器的帮助页面以了解相关说明。</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">文档惯例</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./aws-properties-cloudformation-interface-parameterlabel.html">ParameterLabel</div><div id="next" class="next-link" accesskey="n" href="./dynamic-references.html">使用动态引用以指定模板值</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">此页面对您有帮助吗？- 是</div><div class="content"><p>感谢您对我们工作的肯定！</p><p>如果不耽误您的时间，请告诉我们做得好的地方，让我们做得更好。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="反馈" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/parameters-section-structure.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">此页面对您有帮助吗？- 否</div><div class="content"><p>感谢您告诉我们本页内容还需要完善。很抱歉让您失望了。</p><p>如果不耽误您的时间，请告诉我们如何改进文档。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="反馈" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/parameters-section-structure.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>