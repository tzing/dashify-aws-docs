<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>AWS::RUM::AppMonitor MetricDefinition - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="aws-properties-rum-appmonitor-metricdefinition" /><meta name="default_state" content="aws-properties-rum-appmonitor-metricdefinition" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-rum-appmonitor-metricdefinition.html" /><meta name="description" content="In addition to these default metrics, you can choose to send extended metrics or custom metrics or both." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Create and manage AWS infrastructure deployments predictably and repeatedly using AWS CloudFormation with this User Guide." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json;toc-AWS_RUM.json" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-rum-appmonitor-metricdefinition.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-properties-rum-appmonitor-metricdefinition.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-properties-rum-appmonitor-metricdefinition.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-properties-rum-appmonitor-metricdefinition.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-properties-rum-appmonitor-metricdefinition.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-rum-appmonitor-metricdefinition.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-rum-appmonitor-metricdefinition.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-properties-rum-appmonitor-metricdefinition.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-properties-rum-appmonitor-metricdefinition.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-properties-rum-appmonitor-metricdefinition.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-properties-rum-appmonitor-metricdefinition.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-properties-rum-appmonitor-metricdefinition.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-properties-rum-appmonitor-metricdefinition.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-properties-rum-appmonitor-metricdefinition.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-properties-rum-appmonitor-metricdefinition.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-properties-rum-appmonitor-metricdefinition.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-properties-rum-appmonitor-metricdefinition.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-properties-rum-appmonitor-metricdefinition.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-properties-rum-appmonitor-metricdefinition.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/aws-properties-rum-appmonitor-metricdefinition.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/aws-properties-rum-appmonitor-metricdefinition.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-rum-appmonitor-metricdefinition.html" hreflang="x-default" /><meta name="feedback-item" content="CloudWatch" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="AWS::RUM::AppMonitor MetricDefinition" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>AWS::RUM::AppMonitor MetricDefinition - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudWatch&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-properties-rum-appmonitor-metricdefinition.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-properties-rum-appmonitor-metricdefinition.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-properties-rum-appmonitor-metricdefinition.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Amazon CloudWatch RUM resource type reference",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/AWS_RUM.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "AWS::RUM::AppMonitor",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-rum-appmonitor.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "AWS::RUM::AppMonitor MetricDefinition",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-rum-appmonitor.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="AWS_RUM.html">User Guide</a></div><div id="page-toc-src"><a href="#aws-properties-rum-appmonitor-metricdefinition-syntax">Syntax</a><a href="#aws-properties-rum-appmonitor-metricdefinition-properties">Properties</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="aws-properties-rum-appmonitor-metricdefinition">AWS::RUM::AppMonitor MetricDefinition</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Specifies one custom metric or extended metric that you want the CloudWatch RUM app monitor to 
            send to a destination. Valid
            destinations include CloudWatch and Evidently.</p><p>By default, RUM app monitors send some metrics to CloudWatch. These default metrics
            are listed in <a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/CloudWatch-RUM-metrics.html">CloudWatch metrics that you can collect.</a></p><p>In addition to these default metrics, you can choose to send extended metrics or custom metrics or both.</p><div class="itemizedlist">
                     
                     
                <ul class="itemizedlist"><li class="listitem"> <p>Extended metrics enable you to send metrics with additional dimensions not included 
                        in the default metrics. You can also send extended metrics to Evidently as well as CloudWatch. 
                        The valid dimension names for the additional dimensions for extended metrics are
                        <code class="code">BrowserName</code>, <code class="code">CountryCode</code>, <code class="code">DeviceType</code>,
                        <code class="code">FileType</code>, <code class="code">OSName</code>, and <code class="code">PageId</code>. For more information, see 
                        <a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/CloudWatch-RUM-vended-metrics.html">
                            Extended metrics</a>.</p></li><li class="listitem"><p>Custom metrics are metrics that you define. You can send custom metrics to CloudWatch or
                        to CloudWatch Evidently or to both. With custom metrics, 
                        you can use any metric name and namespace, and to derive the metrics you can use any custom events, built-in events, 
                        custom attributes, or default attributes. </p>
                        <p>You can't send custom metrics to the <code class="code">AWS/RUM</code> namespace. You must send custom metrics to a 
                            custom namespace that you define. The namespace that you use can't start with <code class="code">AWS/</code>. 
                            CloudWatch RUM prepends <code class="code">RUM/CustomMetrics/</code> to the custom namespace that you define, 
                            so the final namespace for your metrics in CloudWatch is 
                            <code class="code">RUM/CustomMetrics/<em>your-custom-namespace</em></code>.</p></li></ul></div><p>For information about syntax rules for specifying custom metrics and extended metrics, 
                    see 
                    <a href="https://docs.aws.amazon.com/cloudwatchrum/latest/APIReference/API_MetricDefinitionRequest.html">MetridDefinitionRequest</a>
                in the <em>CloudWatch RUM API Reference</em>.</p><p>The maximum number of metric definitions that one destination can contain is 2000.</p><p>Extended metrics sent to CloudWatch and RUM custom metrics are charged as CloudWatch custom metrics. Each combination of additional dimension name and dimension
            value counts as a custom metric. </p><p>If some metric definitions that you specify are not valid,
          then the operation will not modify any metric definitions even if other metric definitions specified are valid.</p><h2 id="aws-properties-rum-appmonitor-metricdefinition-syntax">Syntax</h2><p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p><div id="JSON" name="JSON" class="section langfilter"><h3 id="aws-properties-rum-appmonitor-metricdefinition-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "<a href="#cfn-rum-appmonitor-metricdefinition-dimensionkeys">DimensionKeys</a>" : <code class="replaceable"><span>{</span><code class="replaceable">Key</code>: <code class="replaceable">Value</code>, ...}</code>,
  "<a href="#cfn-rum-appmonitor-metricdefinition-eventpattern">EventPattern</a>" : <code class="replaceable">String</code>,
  "<a href="#cfn-rum-appmonitor-metricdefinition-name">Name</a>" : <code class="replaceable">String</code>,
  "<a href="#cfn-rum-appmonitor-metricdefinition-namespace">Namespace</a>" : <code class="replaceable">String</code>,
  "<a href="#cfn-rum-appmonitor-metricdefinition-unitlabel">UnitLabel</a>" : <code class="replaceable">String</code>,
  "<a href="#cfn-rum-appmonitor-metricdefinition-valuekey">ValueKey</a>" : <code class="replaceable">String</code>
}
</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h3 id="aws-properties-rum-appmonitor-metricdefinition-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">  <a href="#cfn-rum-appmonitor-metricdefinition-dimensionkeys">DimensionKeys</a>: <code class="replaceable">
    <code class="replaceable">Key</code>: <code class="replaceable">Value</code></code>
  <a href="#cfn-rum-appmonitor-metricdefinition-eventpattern">EventPattern</a>: <code class="replaceable">String</code>
  <a href="#cfn-rum-appmonitor-metricdefinition-name">Name</a>: <code class="replaceable">String</code>
  <a href="#cfn-rum-appmonitor-metricdefinition-namespace">Namespace</a>: <code class="replaceable">String</code>
  <a href="#cfn-rum-appmonitor-metricdefinition-unitlabel">UnitLabel</a>: <code class="replaceable">String</code>
  <a href="#cfn-rum-appmonitor-metricdefinition-valuekey">ValueKey</a>: <code class="replaceable">String</code>
</code></pre></div><h2 id="aws-properties-rum-appmonitor-metricdefinition-properties">Properties</h2><div class="variablelist"><dl><dt id="cfn-rum-appmonitor-metricdefinition-dimensionkeys"><span class="term"><code class="code">DimensionKeys</code></span></dt><dd>
        <p>This field is a map of field paths to dimension names. It defines the dimensions to associate with this
            metric in CloudWatch. The value of this field is used only if the metric destination is <code class="code">CloudWatch</code>.
            If the metric destination is <code class="code">Evidently</code>, the value of <code class="code">DimensionKeys</code> is ignored.</p>
    <p><em>Required</em>: No</p><p><em>Type</em>: Object of String</p><p><em>Pattern</em>: <code class="code">^(?!:).*[^\s].*</code></p><p><em>Minimum</em>: <code class="code">1</code></p><p><em>Maximum</em>: <code class="code">255</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-rum-appmonitor-metricdefinition-eventpattern"><span class="term"><code class="code">EventPattern</code></span></dt><dd>
        <p>The pattern that defines the metric. RUM checks events that happen in a user's session
            against the pattern, and events that match the pattern are sent to the metric destination.</p>
        <p>If the metrics destination
            is <code class="code">CloudWatch</code> and the event
            also matches a value in <code class="code">DimensionKeys</code>, then the metric is published with the specified dimensions. </p>
    <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Minimum</em>: <code class="code">1</code></p><p><em>Maximum</em>: <code class="code">4000</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-rum-appmonitor-metricdefinition-name"><span class="term"><code class="code">Name</code></span></dt><dd>
        <p>The name of the metric that is defined in this structure.</p>
    <p><em>Required</em>: Yes</p><p><em>Type</em>: String</p><p><em>Minimum</em>: <code class="code">1</code></p><p><em>Maximum</em>: <code class="code">255</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-rum-appmonitor-metricdefinition-namespace"><span class="term"><code class="code">Namespace</code></span></dt><dd>
        <p>If you are creating a custom metric instead of an extended metrics, use this parameter to define 
            the metric namespace for that custom metric. Do not specify this parameter if you are creating an extended metric.</p>
            
            <p>You can't use any string that starts with <code class="code">AWS/</code> for your namespace.</p>
    <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Pattern</em>: <code class="code">[a-zA-Z0-9-._/#:]+$</code></p><p><em>Minimum</em>: <code class="code">1</code></p><p><em>Maximum</em>: <code class="code">237</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-rum-appmonitor-metricdefinition-unitlabel"><span class="term"><code class="code">UnitLabel</code></span></dt><dd>
        <p>Use this field only if you are sending this metric to CloudWatch. It defines
            the CloudWatch metric unit that this metric is measured in. </p>
    <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Minimum</em>: <code class="code">1</code></p><p><em>Maximum</em>: <code class="code">256</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-rum-appmonitor-metricdefinition-valuekey"><span class="term"><code class="code">ValueKey</code></span></dt><dd>
        <p>The field within the event object that the metric value is sourced from.</p>
    <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Pattern</em>: <code class="code">.*</code></p><p><em>Minimum</em>: <code class="code">1</code></p><p><em>Maximum</em>: <code class="code">256</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd></dl></div><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./aws-properties-rum-appmonitor-customevents.html">CustomEvents</div><div id="next" class="next-link" accesskey="n" href="./aws-properties-rum-appmonitor-metricdestination.html">MetricDestination</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudWatch&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-properties-rum-appmonitor-metricdefinition.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudWatch&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-properties-rum-appmonitor-metricdefinition.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>