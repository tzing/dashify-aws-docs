<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>AWS::CloudTrail::EventDataStore - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="aws-resource-cloudtrail-eventdatastore" /><meta name="default_state" content="aws-resource-cloudtrail-eventdatastore" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-cloudtrail-eventdatastore.html" /><meta name="description" content="Creates a new event data store." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Create and manage AWS infrastructure deployments predictably and repeatedly using AWS CloudFormation with this User Guide." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json;toc-AWS_CloudTrail.json" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-cloudtrail-eventdatastore.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-cloudtrail-eventdatastore.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-cloudtrail-eventdatastore.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-cloudtrail-eventdatastore.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-cloudtrail-eventdatastore.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-cloudtrail-eventdatastore.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-cloudtrail-eventdatastore.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-resource-cloudtrail-eventdatastore.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-resource-cloudtrail-eventdatastore.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-resource-cloudtrail-eventdatastore.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-resource-cloudtrail-eventdatastore.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-resource-cloudtrail-eventdatastore.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-resource-cloudtrail-eventdatastore.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-resource-cloudtrail-eventdatastore.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-resource-cloudtrail-eventdatastore.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-cloudtrail-eventdatastore.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-cloudtrail-eventdatastore.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-resource-cloudtrail-eventdatastore.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-resource-cloudtrail-eventdatastore.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/aws-resource-cloudtrail-eventdatastore.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/aws-resource-cloudtrail-eventdatastore.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-cloudtrail-eventdatastore.html" hreflang="x-default" /><meta name="feedback-item" content="CloudTrail" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="AWS::CloudTrail::EventDataStore" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>AWS::CloudTrail::EventDataStore - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudTrail&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-cloudtrail-eventdatastore.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-cloudtrail-eventdatastore.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-cloudtrail-eventdatastore.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "AWS CloudTrail resource type reference",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/AWS_CloudTrail.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "AWS::CloudTrail::EventDataStore",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/AWS_CloudTrail.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="AWS_CloudTrail.html">User Guide</a></div><div id="page-toc-src"><a href="#aws-resource-cloudtrail-eventdatastore-syntax">Syntax</a><a href="#aws-resource-cloudtrail-eventdatastore-properties">Properties</a><a href="#aws-resource-cloudtrail-eventdatastore-return-values">Return values</a><a href="#aws-resource-cloudtrail-eventdatastore--examples">Examples</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="aws-resource-cloudtrail-eventdatastore">AWS::CloudTrail::EventDataStore</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Creates a new event data store.</p><h2 id="aws-resource-cloudtrail-eventdatastore-syntax">Syntax</h2><p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p><div id="JSON" name="JSON" class="section langfilter"><h3 id="aws-resource-cloudtrail-eventdatastore-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Type" : "AWS::CloudTrail::EventDataStore",
  "Properties" : <span>{</span>
      "<a href="#cfn-cloudtrail-eventdatastore-advancedeventselectors">AdvancedEventSelectors</a>" : <code class="replaceable">[ <a href="./aws-properties-cloudtrail-eventdatastore-advancedeventselector.html">AdvancedEventSelector</a>, ... ]</code>,
      "<a href="#cfn-cloudtrail-eventdatastore-billingmode">BillingMode</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-cloudtrail-eventdatastore-federationenabled">FederationEnabled</a>" : <code class="replaceable">Boolean</code>,
      "<a href="#cfn-cloudtrail-eventdatastore-federationrolearn">FederationRoleArn</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-cloudtrail-eventdatastore-ingestionenabled">IngestionEnabled</a>" : <code class="replaceable">Boolean</code>,
      "<a href="#cfn-cloudtrail-eventdatastore-insightsdestination">InsightsDestination</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-cloudtrail-eventdatastore-insightselectors">InsightSelectors</a>" : <code class="replaceable">[ <a href="./aws-properties-cloudtrail-eventdatastore-insightselector.html">InsightSelector</a>, ... ]</code>,
      "<a href="#cfn-cloudtrail-eventdatastore-kmskeyid">KmsKeyId</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-cloudtrail-eventdatastore-multiregionenabled">MultiRegionEnabled</a>" : <code class="replaceable">Boolean</code>,
      "<a href="#cfn-cloudtrail-eventdatastore-name">Name</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-cloudtrail-eventdatastore-organizationenabled">OrganizationEnabled</a>" : <code class="replaceable">Boolean</code>,
      "<a href="#cfn-cloudtrail-eventdatastore-retentionperiod">RetentionPeriod</a>" : <code class="replaceable">Integer</code>,
      "<a href="#cfn-cloudtrail-eventdatastore-tags">Tags</a>" : <code class="replaceable">[ <a href="./aws-properties-cloudtrail-eventdatastore-tag.html">Tag</a>, ... ]</code>,
      "<a href="#cfn-cloudtrail-eventdatastore-terminationprotectionenabled">TerminationProtectionEnabled</a>" : <code class="replaceable">Boolean</code>
    }
}
</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h3 id="aws-resource-cloudtrail-eventdatastore-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Type: AWS::CloudTrail::EventDataStore
Properties:
  <a href="#cfn-cloudtrail-eventdatastore-advancedeventselectors">AdvancedEventSelectors</a>: <code class="replaceable">
    - <a href="./aws-properties-cloudtrail-eventdatastore-advancedeventselector.html">AdvancedEventSelector</a></code>
  <a href="#cfn-cloudtrail-eventdatastore-billingmode">BillingMode</a>: <code class="replaceable">String</code>
  <a href="#cfn-cloudtrail-eventdatastore-federationenabled">FederationEnabled</a>: <code class="replaceable">Boolean</code>
  <a href="#cfn-cloudtrail-eventdatastore-federationrolearn">FederationRoleArn</a>: <code class="replaceable">String</code>
  <a href="#cfn-cloudtrail-eventdatastore-ingestionenabled">IngestionEnabled</a>: <code class="replaceable">Boolean</code>
  <a href="#cfn-cloudtrail-eventdatastore-insightsdestination">InsightsDestination</a>: <code class="replaceable">String</code>
  <a href="#cfn-cloudtrail-eventdatastore-insightselectors">InsightSelectors</a>: <code class="replaceable">
    - <a href="./aws-properties-cloudtrail-eventdatastore-insightselector.html">InsightSelector</a></code>
  <a href="#cfn-cloudtrail-eventdatastore-kmskeyid">KmsKeyId</a>: <code class="replaceable">String</code>
  <a href="#cfn-cloudtrail-eventdatastore-multiregionenabled">MultiRegionEnabled</a>: <code class="replaceable">Boolean</code>
  <a href="#cfn-cloudtrail-eventdatastore-name">Name</a>: <code class="replaceable">String</code>
  <a href="#cfn-cloudtrail-eventdatastore-organizationenabled">OrganizationEnabled</a>: <code class="replaceable">Boolean</code>
  <a href="#cfn-cloudtrail-eventdatastore-retentionperiod">RetentionPeriod</a>: <code class="replaceable">Integer</code>
  <a href="#cfn-cloudtrail-eventdatastore-tags">Tags</a>: <code class="replaceable">
    - <a href="./aws-properties-cloudtrail-eventdatastore-tag.html">Tag</a></code>
  <a href="#cfn-cloudtrail-eventdatastore-terminationprotectionenabled">TerminationProtectionEnabled</a>: <code class="replaceable">Boolean</code>
</code></pre></div><h2 id="aws-resource-cloudtrail-eventdatastore-properties">Properties</h2><div class="variablelist"><dl><dt id="cfn-cloudtrail-eventdatastore-advancedeventselectors"><span class="term"><code class="code">AdvancedEventSelectors</code></span></dt><dd>
         <p>The advanced event selectors to use to select the events for the data store. You can
         configure up to five advanced event selectors for each event data store.</p>
         <p> For more information about how to use advanced event selectors to log CloudTrail
         events, see <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/logging-data-events-with-cloudtrail.html#creating-data-event-selectors-advanced">Log events by using advanced event selectors</a> in the CloudTrail User Guide.</p>
         <p>For more information about how to use advanced event selectors to include AWS Config configuration items in your event data store, see <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/query-lake-cli.html#lake-cli-create-eds-config">Create an event data store for AWS Config configuration
            items</a> in the CloudTrail User Guide.</p>
         <p>For more information about how to use advanced event selectors to include non-AWS events in your event data store, see <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/query-lake-cli.html#lake-cli-create-integration">Create an integration to log events from outside AWS</a> in the CloudTrail User Guide.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: Array of <a href="./aws-properties-cloudtrail-eventdatastore-advancedeventselector.html">AdvancedEventSelector</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-cloudtrail-eventdatastore-billingmode"><span class="term"><code class="code">BillingMode</code></span></dt><dd>
         <p>The billing mode for the event data store determines the cost for ingesting events and the default and maximum retention period for the event data store.</p>
         <p>The following are the possible values:</p>
         <div class="itemizedlist">
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>
                  <code class="code">EXTENDABLE_RETENTION_PRICING</code> - This billing mode is generally recommended if you want a flexible retention period of up to 3653 days (about 10 years). 
                The default retention period for this billing mode is 366 days.</p>
            </li><li class="listitem">
               <p>
                  <code class="code">FIXED_RETENTION_PRICING</code> - This billing mode is recommended if you expect to ingest more than 25 TB of event data per month and need a retention period of up to 2557 days (about 7 years). 
                The default retention period for this billing mode is 2557 days.</p>
            </li></ul></div>
         <p>The default value is <code class="code">EXTENDABLE_RETENTION_PRICING</code>.</p>
         <p>For more information about CloudTrail pricing, 
         see <a href="https://aws.amazon.com/cloudtrail/pricing/" rel="noopener noreferrer" target="_blank"><span>AWS CloudTrail Pricing</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> and 
         <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-lake-manage-costs.html">Managing CloudTrail Lake costs</a>.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Allowed values</em>: <code class="code">EXTENDABLE_RETENTION_PRICING | FIXED_RETENTION_PRICING</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-cloudtrail-eventdatastore-federationenabled"><span class="term"><code class="code">FederationEnabled</code></span></dt><dd>
      <p>
         Indicates if <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/query-federation.html">Lake query federation</a> is enabled. By default, Lake query federation is disabled. 
         You cannot delete an event data store if Lake query federation is enabled.
      </p>
   <p><em>Required</em>: No</p><p><em>Type</em>: Boolean</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-cloudtrail-eventdatastore-federationrolearn"><span class="term"><code class="code">FederationRoleArn</code></span></dt><dd>
      <p>
         If Lake query federation is enabled, provides the ARN of the federation role used to access the resources for the federated event data store.
      </p>
      <p>The federation role must exist in your account and provide the <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/query-federation.html#query-federation-permissions-role">required minimum permissions</a>.
      </p>
   <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Pattern</em>: <code class="code">^[a-zA-Z0-9._/\-:@=\+,\.]+$</code></p><p><em>Minimum</em>: <code class="code">3</code></p><p><em>Maximum</em>: <code class="code">125</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-cloudtrail-eventdatastore-ingestionenabled"><span class="term"><code class="code">IngestionEnabled</code></span></dt><dd>
         <p>Specifies whether the event data store should start ingesting live events. The default is true.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: Boolean</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-cloudtrail-eventdatastore-insightsdestination"><span class="term"><code class="code">InsightsDestination</code></span></dt><dd>
      <p>
         The ARN (or ID suffix of the ARN) of the destination event data store that logs Insights events. For more information, see 
         <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/query-event-data-store-insights.html">Create an event data store for CloudTrail Insights events</a>.
      </p>
   <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Pattern</em>: <code class="code">^[a-zA-Z0-9._/\-:]+$</code></p><p><em>Minimum</em>: <code class="code">3</code></p><p><em>Maximum</em>: <code class="code">256</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-cloudtrail-eventdatastore-insightselectors"><span class="term"><code class="code">InsightSelectors</code></span></dt><dd>
      <p>A JSON string that contains the Insights types you want to log on an event data store. 
         <code class="code">ApiCallRateInsight</code> and <code class="code">ApiErrorRateInsight</code> are valid Insight
         types.</p>
      <p>The <code class="code">ApiCallRateInsight</code> Insights type analyzes write-only
         management API calls that are aggregated per minute against a baseline API call volume.</p>
      <p>The <code class="code">ApiErrorRateInsight</code> Insights type analyzes management
         API calls that result in error codes. The error is shown if the API call is
         unsuccessful.</p>
   <p><em>Required</em>: No</p><p><em>Type</em>: Array of <a href="./aws-properties-cloudtrail-eventdatastore-insightselector.html">InsightSelector</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-cloudtrail-eventdatastore-kmskeyid"><span class="term"><code class="code">KmsKeyId</code></span></dt><dd>
         <p>Specifies the AWS KMS key ID to use to encrypt the events delivered by
            CloudTrail. The value can be an alias name prefixed by <code class="code">alias/</code>, a
         fully specified ARN to an alias, a fully specified ARN to a key, or a globally unique
         identifier.</p>
         <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>Disabling or deleting the KMS key, or removing CloudTrail
            permissions on the key, prevents CloudTrail from logging events to the event data
            store, and prevents users from querying the data in the event data store that was
            encrypted with the key. After you associate an event data store with a KMS key, the KMS key cannot be removed or changed. Before you
            disable or delete a KMS key that you are using with an event data store,
            delete or back up your event data store.</p></div></div>
         <p>CloudTrail also supports AWS KMS multi-Region keys. For more
         information about multi-Region keys, see <a href="https://docs.aws.amazon.com/kms/latest/developerguide/multi-region-keys-overview.html">Using multi-Region
            keys</a> in the <em>
               AWS Key Management Service Developer Guide</em>.</p>
         <p>Examples:</p>
         <div class="itemizedlist">
             
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>
                  <code class="code">alias/MyAliasName</code>
               </p>
            </li><li class="listitem">
               <p>
                  <code class="code">arn:aws:kms:us-east-2:123456789012:alias/MyAliasName</code>
               </p>
            </li><li class="listitem">
               <p>
                  <code class="code">arn:aws:kms:us-east-2:123456789012:key/12345678-1234-1234-1234-123456789012</code>
               </p>
            </li><li class="listitem">
               <p>
                  <code class="code">12345678-1234-1234-1234-123456789012</code>
               </p>
            </li></ul></div>
      <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Pattern</em>: <code class="code">^[a-zA-Z0-9._/\-:]+$</code></p><p><em>Minimum</em>: <code class="code">1</code></p><p><em>Maximum</em>: <code class="code">350</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-cloudtrail-eventdatastore-multiregionenabled"><span class="term"><code class="code">MultiRegionEnabled</code></span></dt><dd>
         <p>Specifies whether the event data store includes events from all Regions, or only from
         the Region in which the event data store is created.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: Boolean</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-cloudtrail-eventdatastore-name"><span class="term"><code class="code">Name</code></span></dt><dd>
         <p>The name of the event data store.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Pattern</em>: <code class="code">^[a-zA-Z0-9._\-]+$</code></p><p><em>Minimum</em>: <code class="code">3</code></p><p><em>Maximum</em>: <code class="code">128</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-cloudtrail-eventdatastore-organizationenabled"><span class="term"><code class="code">OrganizationEnabled</code></span></dt><dd>
         <p>Specifies whether an event data store collects events logged for an organization in
            AWS Organizations.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: Boolean</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-cloudtrail-eventdatastore-retentionperiod"><span class="term"><code class="code">RetentionPeriod</code></span></dt><dd>
         <p>The retention period of the event data store, in days. If <code class="code">BillingMode</code> is set to <code class="code">EXTENDABLE_RETENTION_PRICING</code>, you can set a retention period of
         up to 3653 days, the equivalent of 10 years. If <code class="code">BillingMode</code> is set to <code class="code">FIXED_RETENTION_PRICING</code>, you can set a retention period of
         up to 2557 days, the equivalent of seven years.</p>
         <p>CloudTrail  Lake determines whether to retain an event by checking if the <code class="code">eventTime</code> 
         of the event is within the specified retention period. For example, if you set a retention period of 90 days, CloudTrail will remove events 
      when the <code class="code">eventTime</code> is older than 90 days.</p>
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>If you plan to copy trail events to this event data store, we recommend 
            that you consider both the age of the events that you
            want to copy as well as how long you want to keep the copied events
            in your event data store. For example, if you copy trail events that are 5 years old 
            and specify a retention period of 7 years, the event data store 
            will retain those events for two years.</p></div></div>
      <p><em>Required</em>: No</p><p><em>Type</em>: Integer</p><p><em>Minimum</em>: <code class="code">7</code></p><p><em>Maximum</em>: <code class="code">3653</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-cloudtrail-eventdatastore-tags"><span class="term"><code class="code">Tags</code></span></dt><dd>
         <p>A list of tags.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: Array of <a href="./aws-properties-cloudtrail-eventdatastore-tag.html">Tag</a></p><p><em>Maximum</em>: <code class="code">200</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-cloudtrail-eventdatastore-terminationprotectionenabled"><span class="term"><code class="code">TerminationProtectionEnabled</code></span></dt><dd>
         <p>Specifies whether termination protection is enabled for the event data store. If
         termination protection is enabled, you cannot delete the event data store until termination
         protection is disabled.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: Boolean</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd></dl></div><h2 id="aws-resource-cloudtrail-eventdatastore-return-values">Return values</h2><h3 id="aws-resource-cloudtrail-eventdatastore-return-values-ref">Ref</h3><p>When the logical ID of this resource is provided to the Ref intrinsic function, <code class="code">Ref</code> returns the resource name. </p><h3 id="aws-resource-cloudtrail-eventdatastore-return-values-fn--getatt">Fn::GetAtt</h3><p>The <code class="code">Fn::GetAtt</code> intrinsic function returns a value for a specified attribute of this type. The following are the available attributes and sample return values.</p>
<p>For more information about using the <code class="code">Fn::GetAtt</code> intrinsic function, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-getatt.html"><code class="code">Fn::GetAtt</code></a>.</p><h4 id="aws-resource-cloudtrail-eventdatastore-return-values-fn--getatt-fn--getatt"></h4><div class="variablelist"><dl><dt id="CreatedTimestamp-fn::getatt"><span class="term"><code class="code">CreatedTimestamp</code></span></dt><dd>
      <p>When you pass the logical ID of this resource to the intrinsic <code class="code">Ref</code> function, <code class="code">Ref</code> returns the time stamp of the creation of the event data store, such as <code class="code">1248496624</code>.</p>
   </dd><dt id="EventDataStoreArn-fn::getatt"><span class="term"><code class="code">EventDataStoreArn</code></span></dt><dd><p>
      When you pass the logical ID of this resource to the intrinsic <code class="code">Ref</code> function, <code class="code">Ref</code> returns the ARN of the CloudTrail event data store, such as 
      <code class="code">arn:aws:cloudtrail:us-east-1:12345678910:eventdatastore/EXAMPLE-f852-4e8f-8bd1-bcf6cEXAMPLE</code>.</p></dd><dt id="Status-fn::getatt"><span class="term"><code class="code">Status</code></span></dt><dd>
      <p>When you pass the logical ID of this resource to the intrinsic <code class="code">Ref</code> function, <code class="code">Ref</code> returns the status of the event data store, such as <code class="code">ENABLED</code>.</p>
   </dd><dt id="UpdatedTimestamp-fn::getatt"><span class="term"><code class="code">UpdatedTimestamp</code></span></dt><dd>
      <p>When you pass the logical ID of this resource to the intrinsic <code class="code">Ref</code> function, <code class="code">Ref</code> returns the time stamp that updates were made to an event data store, such as <code class="code">1598296624</code>.</p>
   </dd></dl></div><h2 id="aws-resource-cloudtrail-eventdatastore--examples">Examples</h2><div class="highlights" id="inline-topiclist"><h6> </h6><ul><li><a href="#aws-resource-cloudtrail-eventdatastore--examples--Example:_Create_an_event_data_store_for_management_events">Example: Create an event data store for management events</a></li><li><a href="#aws-resource-cloudtrail-eventdatastore--examples--Example:_Create_a_destination_event_data_store_to_collect_Insights_events">Example: Create a destination event data store to collect Insights events</a></li><li><a href="#aws-resource-cloudtrail-eventdatastore--examples--Example:_Create_a_source_event_data_store_that_enables_Insights_events">Example: Create a source event data store that enables Insights events</a></li></ul></div><h3 id="aws-resource-cloudtrail-eventdatastore--examples--Example:_Create_an_event_data_store_for_management_events">Example: Create an event data store for management events</h3><p>The following example creates an event data store that logs management events in all Regions. 
               For information about creating an event data store for management events, see 
               <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/query-event-data-store-cloudtrail.html">Create an event data store for CloudTrail events</a> 
               in the <em>AWS CloudTrail User Guide</em>.</p><p>In this example, <code class="code">FederationEnabled</code> is set to <code class="code">true</code> to enable <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/query-federation.html">Lake query federation</a> and <code class="code">FederationRoleArn</code> is set to the 
            ARN of the federation role used to access the federated resources. The federation role must exist in your account and provide the <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/query-federation.html#query-federation-permissions-role">required minimum permissions</a>.</p><div id="JSON" name="JSON" class="section langfilter"><h4 id="aws-resource-cloudtrail-eventdatastore--examples--Example:_Create_an_event_data_store_for_management_events--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Parameters": <span>{</span>
        "Name": <span>{</span>
            "Type": "String"
        }
    },
    "Conditions": <span>{</span>
        "IsOrganizationsSupported": <span>{</span>
            "Fn::Not": [
                <span>{</span>
                    "Fn::Equals": [
                        <span>{</span>
                            "Ref": "AWS::Partition"
                        },
                        "aws-cn"
                    ]
                }
            ]
        }
    },
    "Resources": <span>{</span>
        "myEventDataStore": <span>{</span>
            "Type": "AWS::CloudTrail::EventDataStore",
            "Properties": <span>{</span>
                "Name": <span>{</span>
                    "Ref": "Name"
                },
                "MultiRegionEnabled": true,
                "IngestionEnabled": true,
                "FederationEnabled": true,
                "FederationRoleArn": "arn:aws:iam::account-id:role/federation-role-name",
                "BillingMode": "EXTENDABLE_RETENTION_PRICING",
                "RetentionPeriod": 366,
                "OrganizationEnabled": <span>{</span>
                    "Fn::If": [
                        "IsOrganizationsSupported",
                        true,
                        <span>{</span>
                            "Ref": "AWS::NoValue"
                        }
                    ]
                },
                "TerminationProtectionEnabled": false,
                "KmsKeyId": <span>{</span>
                    "Fn::ImportValue": "EventDataStoreKeyTest"
                },
                "Tags": [
                    <span>{</span>
                        "Key": "TagKeyIntTest",
                        "Value": "TagValueIntTest"
                    },
                    <span>{</span>
                        "Key": "TagKeyIntTest2",
                        "Value": "TagValueIntTest2"
                    }
                ],
                "AdvancedEventSelectors": [
                    <span>{</span>
                        "Name": "AdvancedEventSelectors1",
                        "FieldSelectors": [
                            <span>{</span>
                                "Field": "eventCategory",
                                "Equals": [
                                    "Management"
                                ]
                            }
                        ]
                    }
                ]
            }
        }
    },
    "Outputs": <span>{</span>
        "myEventDataStoreArn": <span>{</span>
            "Description": "The event data store ARN",
            "Value": <span>{</span>
                "Fn::GetAtt": [
                    "myEventDataStore",
                    "EventDataStoreArn"
                ]
            }
        }
    }
}</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-resource-cloudtrail-eventdatastore--examples--Example:_Create_an_event_data_store_for_management_events--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Parameters:
  Name:
    Type: String
Conditions:
  IsOrganizationsSupported:
    !Not [!Equals [Ref: "AWS::Partition", "aws-cn"]]
Resources:
  myEventDataStore:
    Type: AWS::CloudTrail::EventDataStore
    Properties:
      Name: !Ref Name
      MultiRegionEnabled: true
      IngestionEnabled: true
      FederationEnabled: true
      FederationRoleArn: "arn:aws:iam::account-id:role/federation-role-name"
      BillingMode: "EXTENDABLE_RETENTION_PRICING"
      RetentionPeriod: 366
      OrganizationEnabled:
        Fn::If:
          - IsOrganizationsSupported
          - true
          - !Ref "AWS::NoValue"
      TerminationProtectionEnabled: false
      KmsKeyId:
        Fn::ImportValue: EventDataStoreKeyTest
      Tags:
        - Key: "TagKeyIntTest"
          Value: "TagValueIntTest"
        - Key: "TagKeyIntTest2"
          Value: "TagValueIntTest2"
      AdvancedEventSelectors:
        - Name: "AdvancedEventSelectors1"
          FieldSelectors:
          - Field: "eventCategory"
            Equals: [ "Management" ]
Outputs:
  myEventDataStoreArn:
    Description: The eventdatastore ARN
    Value:
      'Fn::GetAtt':
        - myEventDataStore
        - EventDataStoreArn
</code></pre></div><h3 id="aws-resource-cloudtrail-eventdatastore--examples--Example:_Create_a_destination_event_data_store_to_collect_Insights_events">Example: Create a destination event data store to collect Insights events</h3><p>The following example creates a destination event data store that collects Insights on unusual management event activity in the source event data store. 
               For information about creating event data stores for CloudTrail Insights, see 
               <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/query-event-data-store-insights.html">Create an event data store for CloudTrail Insights events</a> 
               in the <em>AWS CloudTrail User Guide</em>.</p><div id="JSON" name="JSON" class="section langfilter"><h4 id="aws-resource-cloudtrail-eventdatastore--examples--Example:_Create_a_destination_event_data_store_to_collect_Insights_events--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Parameters": <span>{</span>
        "Name": <span>{</span>
            "Type": "String"
        }
    },
    "Conditions": <span>{</span>
        "IsOrganizationsSupported": <span>{</span>
            "Fn::Not": [
                <span>{</span>
                    "Fn::Equals": [
                        <span>{</span>
                            "Ref": "AWS::Partition"
                        },
                        "aws-cn"
                    ]
                }
            ]
        }
    },
    "Resources": <span>{</span>
        "myEventDataStore": <span>{</span>
            "Type": "AWS::CloudTrail::EventDataStore",
            "Properties": <span>{</span>
                "Name": <span>{</span>
                    "Ref": "Name"
                },
                "MultiRegionEnabled": false,
                "IngestionEnabled": true,
                "BillingMode": "EXTENDABLE_RETENTION_PRICING",
                "RetentionPeriod": 90,
                "OrganizationEnabled": <span>{</span>
                    "Fn::If": [
                        "IsOrganizationsSupported",
                        true,
                        <span>{</span>
                            "Ref": "AWS::NoValue"
                        }
                    ]
                },
                "TerminationProtectionEnabled": false,
                "KmsKeyId": <span>{</span>
                    "Fn::ImportValue": "EventDataStoreKeyTest"
                },
                "Tags": [
                    <span>{</span>
                        "Key": "TagKeyIntTest",
                        "Value": "TagValueIntTest"
                    },
                    <span>{</span>
                        "Key": "TagKeyIntTest2",
                        "Value": "TagValueIntTest2"
                    }
                ],
                "AdvancedEventSelectors": [
                    <span>{</span>
                        "Name": "AdvancedEventSelectors1",
                        "FieldSelectors": [
                            <span>{</span>
                                "Field": "eventCategory",
                                "Equals": [
                                    "Insight"
                                ]
                            }
                        ]
                    }
                ]
            }
        }
    },
    "Outputs": <span>{</span>
        "myEventDataStoreArn": <span>{</span>
            "Description": "The event data store ARN",
            "Value": <span>{</span>
                "Fn::GetAtt": [
                    "myEventDataStore",
                    "EventDataStoreArn"
                ]
            }
        }
    }
}</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-resource-cloudtrail-eventdatastore--examples--Example:_Create_a_destination_event_data_store_to_collect_Insights_events--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Parameters:
  Name:
    Type: String
Conditions:
  IsOrganizationsSupported:
    !Not [!Equals [Ref: "AWS::Partition", "aws-cn"]]
Resources:
  myEventDataStore:
    Type: AWS::CloudTrail::EventDataStore
    Properties:
      Name: !Ref Name
      MultiRegionEnabled: false
      IngestionEnabled: true
      BillingMode: "EXTENDABLE_RETENTION_PRICING"
      RetentionPeriod: 90
      OrganizationEnabled:
        Fn::If:
          - IsOrganizationsSupported
          - true
          - !Ref "AWS::NoValue"
      TerminationProtectionEnabled: false
      KmsKeyId:
        Fn::ImportValue: EventDataStoreKeyTest
      Tags:
        - Key: "TagKeyIntTest"
          Value: "TagValueIntTest"
        - Key: "TagKeyIntTest2"
          Value: "TagValueIntTest2"
      AdvancedEventSelectors:
        - Name: "AdvancedEventSelectors1"
          FieldSelectors:
          - Field: "eventCategory"
            Equals: [ "Insight" ]
Outputs:
  myEventDataStoreArn:
    Description: The eventdatastore ARN
    Value:
      'Fn::GetAtt':
        - myEventDataStore
        - EventDataStoreArn
</code></pre></div><h3 id="aws-resource-cloudtrail-eventdatastore--examples--Example:_Create_a_source_event_data_store_that_enables_Insights_events">Example: Create a source event data store that enables Insights events</h3><p>The following example creates a source event data store that logs management events and enables Insights. Specify the ARN (or ID suffix of the ARN) 
               of the destination event data store created in the preceding example as the value of the <code class="code">InsighsDestination</code> parameter.
               For information about creating event data stores for CloudTrail Insights, see 
               <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/query-event-data-store-insights.html">Create an event data store for CloudTrail Insights events</a> 
               in the <em>AWS CloudTrail User Guide</em>.</p><div id="JSON" name="JSON" class="section langfilter"><h4 id="aws-resource-cloudtrail-eventdatastore--examples--Example:_Create_a_source_event_data_store_that_enables_Insights_events--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Parameters": <span>{</span>
        "Name": <span>{</span>
            "Type": "String"
        }
    },
    "Conditions": <span>{</span>
        "IsOrganizationsSupported": <span>{</span>
            "Fn::Not": [
                <span>{</span>
                    "Fn::Equals": [
                        <span>{</span>
                            "Ref": "AWS::Partition"
                        },
                        "aws-cn"
                    ]
                }
            ]
        }
    },
    "Resources": <span>{</span>
        "myEventDataStore": <span>{</span>
            "Type": "AWS::CloudTrail::EventDataStore",
            "Properties": <span>{</span>
                "Name": <span>{</span>
                    "Ref": "Name"
                },
                "MultiRegionEnabled": true,
                "IngestionEnabled": true,
                "BillingMode": "EXTENDABLE_RETENTION_PRICING",
                "RetentionPeriod": 90,
                "OrganizationEnabled": <span>{</span>
                    "Fn::If": [
                        "IsOrganizationsSupported",
                        true,
                        <span>{</span>
                            "Ref": "AWS::NoValue"
                        }
                    ]
                },
                "TerminationProtectionEnabled": false,
                "KmsKeyId": <span>{</span>
                    "Fn::ImportValue": "EventDataStoreKeyTest"
                },
                "Tags": [
                    <span>{</span>
                        "Key": "TagKeyIntTest",
                        "Value": "TagValueIntTest"
                    },
                    <span>{</span>
                        "Key": "TagKeyIntTest2",
                        "Value": "TagValueIntTest2"
                    }
                ],
                "InsightsDestination": "DestinationEventDataStoreArn",
                "InsightSelectors": [
                  <span>{</span>
                        "InsightType": "ApiCallRateInsight"
                  },
                  <span>{</span>
                        "InsightType": "ApiErrorRateInsight"
                  }
               ],
                "AdvancedEventSelectors": [
                    <span>{</span>
                        "Name": "AdvancedEventSelectors1",
                        "FieldSelectors": [
                            <span>{</span>
                                "Field": "eventCategory",
                                "Equals": [
                                    "Management"
                                ]
                            }
                        ]
                    }
                ]
            }
        }
    },
    "Outputs": <span>{</span>
        "myEventDataStoreArn": <span>{</span>
            "Description": "The event data store ARN",
            "Value": <span>{</span>
                "Fn::GetAtt": [
                    "myEventDataStore",
                    "EventDataStoreArn"
                ]
            }
        }
    }
}</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-resource-cloudtrail-eventdatastore--examples--Example:_Create_a_source_event_data_store_that_enables_Insights_events--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Parameters:
  Name:
    Type: String
Conditions:
  IsOrganizationsSupported:
    !Not [!Equals [Ref: "AWS::Partition", "aws-cn"]]
Resources:
  myEventDataStore:
    Type: AWS::CloudTrail::EventDataStore
    Properties:
      Name: !Ref Name
      MultiRegionEnabled: true
      IngestionEnabled: true
      BillingMode: "EXTENDABLE_RETENTION_PRICING"
      RetentionPeriod: 90
      OrganizationEnabled:
        Fn::If:
          - IsOrganizationsSupported
          - true
          - !Ref "AWS::NoValue"
      TerminationProtectionEnabled: false
      KmsKeyId:
        Fn::ImportValue: EventDataStoreKeyTest
      Tags:
        - Key: "TagKeyIntTest"
          Value: "TagValueIntTest"
        - Key: "TagKeyIntTest2"
          Value: "TagValueIntTest2"
      InsightsDestination: DestinationEventDataStoreArn
      InsightSelectors:
         - InsightType: "ApiCallRateInsight"
         - InsightType: "ApiErrorRateInsight"
      AdvancedEventSelectors:
        - Name: "AdvancedEventSelectors1"
          FieldSelectors:
          - Field: "eventCategory"
            Equals: [ "Management" ]
Outputs:
  myEventDataStoreArn:
    Description: The eventdatastore ARN
    Value:
      'Fn::GetAtt':
        - myEventDataStore
        - EventDataStoreArn
</code></pre></div><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./aws-properties-cloudtrail-channel-tag.html">Tag</div><div id="next" class="next-link" accesskey="n" href="./aws-properties-cloudtrail-eventdatastore-advancedeventselector.html">AdvancedEventSelector</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudTrail&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-cloudtrail-eventdatastore.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudTrail&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-cloudtrail-eventdatastore.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>