<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>AWS::ApiGatewayV2::Api - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="aws-resource-apigatewayv2-api" /><meta name="default_state" content="aws-resource-apigatewayv2-api" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-apigatewayv2-api.html" /><meta name="description" content="Use the AWS CloudFormation AWS::ApiGatewayV2::Api resource for ApiGatewayV2." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Create and manage AWS infrastructure deployments predictably and repeatedly using AWS CloudFormation with this User Guide." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json;toc-AWS_ApiGatewayV2.json" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-apigatewayv2-api.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-apigatewayv2-api.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-apigatewayv2-api.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-apigatewayv2-api.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-apigatewayv2-api.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-apigatewayv2-api.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-apigatewayv2-api.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-resource-apigatewayv2-api.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-resource-apigatewayv2-api.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-resource-apigatewayv2-api.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-resource-apigatewayv2-api.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-resource-apigatewayv2-api.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-resource-apigatewayv2-api.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-resource-apigatewayv2-api.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-resource-apigatewayv2-api.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-apigatewayv2-api.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-apigatewayv2-api.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-resource-apigatewayv2-api.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-resource-apigatewayv2-api.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/aws-resource-apigatewayv2-api.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/aws-resource-apigatewayv2-api.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-apigatewayv2-api.html" hreflang="x-default" /><meta name="feedback-item" content="API Gateway" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="AWS::ApiGatewayV2::Api" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>AWS::ApiGatewayV2::Api - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=API%20Gateway&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-apigatewayv2-api.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-apigatewayv2-api.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-apigatewayv2-api.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Amazon API Gateway V2 resource type reference",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/AWS_ApiGatewayV2.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "AWS::ApiGatewayV2::Api",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/AWS_ApiGatewayV2.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="AWS_ApiGatewayV2.html">User Guide</a></div><div id="page-toc-src"><a href="#aws-resource-apigatewayv2-api-syntax">Syntax</a><a href="#aws-resource-apigatewayv2-api-properties">Properties</a><a href="#aws-resource-apigatewayv2-api-return-values">Return values</a><a href="#aws-resource-apigatewayv2-api--examples">Examples</a><a href="#aws-resource-apigatewayv2-api--seealso">See also</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="aws-resource-apigatewayv2-api">AWS::ApiGatewayV2::Api</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>The <code class="code">AWS::ApiGatewayV2::Api</code> resource creates an API. WebSocket APIs
                  and HTTP APIs are supported. For more information about
                  WebSocket APIs, see <a href="https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-websocket-api-overview.html">About WebSocket APIs in API Gateway</a> in the <em>API Gateway
                        Developer Guide</em>. For more information about HTTP APIs, see <a href="https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api.html">HTTP APIs</a> in the <em>API Gateway Developer
                  Guide.</em></p><h2 id="aws-resource-apigatewayv2-api-syntax">Syntax</h2><p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p><div id="JSON" name="JSON" class="section langfilter"><h3 id="aws-resource-apigatewayv2-api-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Type" : "AWS::ApiGatewayV2::Api",
  "Properties" : <span>{</span>
      "<a href="#cfn-apigatewayv2-api-apikeyselectionexpression">ApiKeySelectionExpression</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-apigatewayv2-api-basepath">BasePath</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-apigatewayv2-api-body">Body</a>" : <code class="replaceable">Json</code>,
      "<a href="#cfn-apigatewayv2-api-bodys3location">BodyS3Location</a>" : <code class="replaceable"><a href="./aws-properties-apigatewayv2-api-bodys3location.html">BodyS3Location</a></code>,
      "<a href="#cfn-apigatewayv2-api-corsconfiguration">CorsConfiguration</a>" : <code class="replaceable"><a href="./aws-properties-apigatewayv2-api-cors.html">Cors</a></code>,
      "<a href="#cfn-apigatewayv2-api-credentialsarn">CredentialsArn</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-apigatewayv2-api-description">Description</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-apigatewayv2-api-disableexecuteapiendpoint">DisableExecuteApiEndpoint</a>" : <code class="replaceable">Boolean</code>,
      "<a href="#cfn-apigatewayv2-api-disableschemavalidation">DisableSchemaValidation</a>" : <code class="replaceable">Boolean</code>,
      "<a href="#cfn-apigatewayv2-api-failonwarnings">FailOnWarnings</a>" : <code class="replaceable">Boolean</code>,
      "<a href="#cfn-apigatewayv2-api-name">Name</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-apigatewayv2-api-protocoltype">ProtocolType</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-apigatewayv2-api-routekey">RouteKey</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-apigatewayv2-api-routeselectionexpression">RouteSelectionExpression</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-apigatewayv2-api-tags">Tags</a>" : <code class="replaceable"><span>{</span><code class="replaceable">Key</code>: <code class="replaceable">Value</code>, ...}</code>,
      "<a href="#cfn-apigatewayv2-api-target">Target</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-apigatewayv2-api-version">Version</a>" : <code class="replaceable">String</code>
    }
}
</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h3 id="aws-resource-apigatewayv2-api-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Type: AWS::ApiGatewayV2::Api
Properties:
  <a href="#cfn-apigatewayv2-api-apikeyselectionexpression">ApiKeySelectionExpression</a>: <code class="replaceable">String</code>
  <a href="#cfn-apigatewayv2-api-basepath">BasePath</a>: <code class="replaceable">String</code>
  <a href="#cfn-apigatewayv2-api-body">Body</a>: <code class="replaceable">Json</code>
  <a href="#cfn-apigatewayv2-api-bodys3location">BodyS3Location</a>: <code class="replaceable">
    <a href="./aws-properties-apigatewayv2-api-bodys3location.html">BodyS3Location</a></code>
  <a href="#cfn-apigatewayv2-api-corsconfiguration">CorsConfiguration</a>: <code class="replaceable">
    <a href="./aws-properties-apigatewayv2-api-cors.html">Cors</a></code>
  <a href="#cfn-apigatewayv2-api-credentialsarn">CredentialsArn</a>: <code class="replaceable">String</code>
  <a href="#cfn-apigatewayv2-api-description">Description</a>: <code class="replaceable">String</code>
  <a href="#cfn-apigatewayv2-api-disableexecuteapiendpoint">DisableExecuteApiEndpoint</a>: <code class="replaceable">Boolean</code>
  <a href="#cfn-apigatewayv2-api-disableschemavalidation">DisableSchemaValidation</a>: <code class="replaceable">Boolean</code>
  <a href="#cfn-apigatewayv2-api-failonwarnings">FailOnWarnings</a>: <code class="replaceable">Boolean</code>
  <a href="#cfn-apigatewayv2-api-name">Name</a>: <code class="replaceable">String</code>
  <a href="#cfn-apigatewayv2-api-protocoltype">ProtocolType</a>: <code class="replaceable">String</code>
  <a href="#cfn-apigatewayv2-api-routekey">RouteKey</a>: <code class="replaceable">String</code>
  <a href="#cfn-apigatewayv2-api-routeselectionexpression">RouteSelectionExpression</a>: <code class="replaceable">String</code>
  <a href="#cfn-apigatewayv2-api-tags">Tags</a>: <code class="replaceable">
    <code class="replaceable">Key</code>: <code class="replaceable">Value</code></code>
  <a href="#cfn-apigatewayv2-api-target">Target</a>: <code class="replaceable">String</code>
  <a href="#cfn-apigatewayv2-api-version">Version</a>: <code class="replaceable">String</code>
</code></pre></div><h2 id="aws-resource-apigatewayv2-api-properties">Properties</h2><div class="variablelist"><dl><dt id="cfn-apigatewayv2-api-apikeyselectionexpression"><span class="term"><code class="code">ApiKeySelectionExpression</code></span></dt><dd>

            <p>An API key selection expression. Supported only for WebSocket APIs. See <a href="https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-websocket-api-selection-expressions.html#apigateway-websocket-api-apikey-selection-expressions">API Key Selection Expressions</a>.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-apigatewayv2-api-basepath"><span class="term"><code class="code">BasePath</code></span></dt><dd>
                     <p>Specifies how to interpret the base path of the API during import. Valid values are <code class="code">ignore</code>, <code class="code">prepend</code>, and
                  <code class="code">split</code>. The default value is <code class="code">ignore</code>. To learn more, see <a href="https://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-import-api-basePath.html">Set the OpenAPI basePath
                  Property</a>. Supported only for HTTP APIs.</p>
                  <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-apigatewayv2-api-body"><span class="term"><code class="code">Body</code></span></dt><dd>
            <p>The OpenAPI definition. Supported only for HTTP APIs. To import an HTTP API, you must specify a <code class="code">Body</code> or <code class="code">BodyS3Location</code>. If you specify
              a <code class="code">Body</code> or <code class="code">BodyS3Location</code>, don't specify CloudFormation resources such as <code class="code">AWS::ApiGatewayV2::Authorizer</code> or <code class="code">AWS::ApiGatewayV2::Route</code>.
              API Gateway doesn't support the combination of OpenAPI and CloudFormation resources.
            </p>
         <p><em>Required</em>: Conditional</p><p><em>Type</em>: Json</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-apigatewayv2-api-bodys3location"><span class="term"><code class="code">BodyS3Location</code></span></dt><dd>
        <p>The S3 location of an OpenAPI definition. Supported only for HTTP APIs. To import an HTTP API, you must specify a <code class="code">Body</code> or <code class="code">BodyS3Location</code>. If you specify
          a <code class="code">Body</code> or <code class="code">BodyS3Location</code>, don't specify CloudFormation resources such as <code class="code">AWS::ApiGatewayV2::Authorizer</code> or <code class="code">AWS::ApiGatewayV2::Route</code>.
          API Gateway doesn't support the combination of OpenAPI and CloudFormation resources.</p>
      <p><em>Required</em>: Conditional</p><p><em>Type</em>: <a href="./aws-properties-apigatewayv2-api-bodys3location.html">BodyS3Location</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-apigatewayv2-api-corsconfiguration"><span class="term"><code class="code">CorsConfiguration</code></span></dt><dd>
            <p>A CORS configuration. Supported only for HTTP APIs. See <a href="https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-cors.html">Configuring CORS</a> for more information.</p>
         <p><em>Required</em>: No</p><p><em>Type</em>: <a href="./aws-properties-apigatewayv2-api-cors.html">Cors</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-apigatewayv2-api-credentialsarn"><span class="term"><code class="code">CredentialsArn</code></span></dt><dd>
                              <p>This property is part of quick create. It specifies the credentials required for
               the integration, if any. For a Lambda integration, three options are available. To
               specify an IAM Role for API Gateway to assume, use the role's Amazon Resource Name
               (ARN). To require that the caller's identity be passed through from the request,
               specify <code class="code">arn:aws:iam::*:user/*</code>. To use resource-based permissions on
               supported AWS services, specify <code class="code">null</code>. Currently, this property is not used for HTTP
               integrations. Supported only for HTTP APIs.</p>
                           <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-apigatewayv2-api-description"><span class="term"><code class="code">Description</code></span></dt><dd>
                              <p>The description of the API.</p>
                           <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-apigatewayv2-api-disableexecuteapiendpoint"><span class="term"><code class="code">DisableExecuteApiEndpoint</code></span></dt><dd>
                              <p>Specifies whether clients can invoke your API by using the default
                        <code class="code">execute-api</code> endpoint. By default, clients can invoke your API
                    with the default https://<span>{</span>api_id}.execute-api.<span>{</span>region}.amazonaws.com endpoint.
                    To require that clients use a custom domain name to invoke your API, disable the
                    default endpoint.</p>
                           <p><em>Required</em>: No</p><p><em>Type</em>: Boolean</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-apigatewayv2-api-disableschemavalidation"><span class="term"><code class="code">DisableSchemaValidation</code></span></dt><dd>
                              <p>Avoid validating models when creating a deployment. Supported only for WebSocket APIs.</p>
                           <p><em>Required</em>: No</p><p><em>Type</em>: Boolean</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-apigatewayv2-api-failonwarnings"><span class="term"><code class="code">FailOnWarnings</code></span></dt><dd>
                     <p>Specifies whether to rollback the API creation when a warning is encountered. By default, API creation continues if a warning is encountered.</p>
                  <p><em>Required</em>: No</p><p><em>Type</em>: Boolean</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-apigatewayv2-api-name"><span class="term"><code class="code">Name</code></span></dt><dd>
            <p>The name of the API. Required unless you specify an OpenAPI definition for <code class="code">Body</code> or <code class="code">S3BodyLocation</code>.</p><p><em>Required</em>: Conditional</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-apigatewayv2-api-protocoltype"><span class="term"><code class="code">ProtocolType</code></span></dt><dd>
            <p>The API protocol. Valid values are <code class="code">WEBSOCKET</code> or <code class="code">HTTP</code>. Required unless you specify an OpenAPI definition for <code class="code">Body</code> or <code class="code">S3BodyLocation</code>.</p><p><em>Required</em>: Conditional</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-apigatewayv2-api-routekey"><span class="term"><code class="code">RouteKey</code></span></dt><dd>
                              <p>This property is part of quick create. If you don't specify a
                  <code class="code">routeKey</code>, a default route of <code class="code">$default</code> is created. The
                  <code class="code">$default</code> route acts as a catch-all for any request made to your API,
               for a particular stage. The <code class="code">$default</code> route key can't be modified. You
               can add routes after creating the API, and you can update the route keys of
               additional routes. Supported only for HTTP APIs.</p>
                           <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-apigatewayv2-api-routeselectionexpression"><span class="term"><code class="code">RouteSelectionExpression</code></span></dt><dd>
                              <p>The route selection expression for the API. For HTTP APIs, the <code class="code">routeSelectionExpression</code> must be <code class="code">$<span>{</span>request.method} $<span>{</span>request.path}</code>. If not provided, this will be the default for HTTP APIs. This property is required for WebSocket APIs.</p>
                           <p><em>Required</em>: Conditional</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-apigatewayv2-api-tags"><span class="term"><code class="code">Tags</code></span></dt><dd>
                              <p>The collection of tags. Each tag element is associated with a given resource.</p>
                           <p><em>Required</em>: No</p><p><em>Type</em>: Object of String</p><p><em>Pattern</em>: <code class="code">.*</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-apigatewayv2-api-target"><span class="term"><code class="code">Target</code></span></dt><dd>
                              <p>This property is part of quick create. Quick create produces an API with an
               integration, a default catch-all route, and a default stage which is configured to
               automatically deploy changes. For HTTP integrations, specify a fully qualified URL.
               For Lambda integrations, specify a function ARN. The type of the integration will be
               HTTP_PROXY or AWS_PROXY, respectively. Supported only for HTTP APIs.</p>
                           <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-apigatewayv2-api-version"><span class="term"><code class="code">Version</code></span></dt><dd>
                              <p>A version identifier for the API.</p>
                           <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd></dl></div><h2 id="aws-resource-apigatewayv2-api-return-values">Return values</h2><h3 id="aws-resource-apigatewayv2-api-return-values-ref">Ref</h3><p>When you pass the logical ID of this resource to the intrinsic <code class="code">Ref</code> function, <code class="code">Ref</code> returns the API ID, such as <code class="code">a1bcdef2gh</code>.</p><p>For more information about using the <code class="code">Ref</code> function, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-ref.html"><code class="code">Ref</code></a>.</p><h3 id="aws-resource-apigatewayv2-api-return-values-fn--getatt">Fn::GetAtt</h3><p>The <code class="code">Fn::GetAtt</code> intrinsic function returns a value for a specified attribute of this type. The following are the available attributes and sample return values.</p>
<p>For more information about using the <code class="code">Fn::GetAtt</code> intrinsic function, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-getatt.html"><code class="code">Fn::GetAtt</code></a>.</p><h4 id="aws-resource-apigatewayv2-api-return-values-fn--getatt-fn--getatt"></h4><div class="variablelist"><dl><dt id="ApiEndpoint-fn::getatt"><span class="term"><code class="code">ApiEndpoint</code></span></dt><dd>
        <p>The default endpoint for an API. For example: <code class="code">https://abcdef.execute-api.us-west-2.amazonaws.com</code>.</p>
    </dd><dt id="ApiId-fn::getatt"><span class="term"><code class="code">ApiId</code></span></dt><dd>
        <p>The API identifier.</p>
      </dd></dl></div><h2 id="aws-resource-apigatewayv2-api--examples">Examples</h2><p></p><div class="highlights" id="inline-topiclist"><h6> </h6><ul><li><a href="#aws-resource-apigatewayv2-api--examples--API_creation_example">API creation example</a></li><li><a href="#aws-resource-apigatewayv2-api--examples--Quick_create_HTTP_API">Quick create HTTP API</a></li></ul></div><h3 id="aws-resource-apigatewayv2-api--examples--API_creation_example">API creation example</h3><p>The following example creates a WebSocket <code class="code">Api</code> resource called
                                    <code class="code">MyApi</code>.</p><div id="JSON" name="JSON" class="section langfilter"><h4 id="aws-resource-apigatewayv2-api--examples--API_creation_example--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "MyApi": <span>{</span>
      "Type": "AWS::ApiGatewayV2::Api",
      "Properties": <span>{</span>
        "Name": "MyApi",
        "ProtocolType": "WEBSOCKET",
        "RouteSelectionExpression": "$request.body.action",
        "ApiKeySelectionExpression": "$request.header.x-api-key"
      }
   }
}
</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-resource-apigatewayv2-api--examples--API_creation_example--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">MyApi:&#xD;
  Type: 'AWS::ApiGatewayV2::Api'&#xD;
  Properties:&#xD;
    Name: MyApi&#xD;
    ProtocolType: WEBSOCKET&#xD;
    RouteSelectionExpression: $request.body.action&#xD;
    ApiKeySelectionExpression: $request.header.x-api-key&#xD;
</code></pre></div><h3 id="aws-resource-apigatewayv2-api--examples--Quick_create_HTTP_API">Quick create HTTP API</h3><p>The following example uses quick create to launch an HTTP API
                                    <code class="code">Api</code> resource called <code class="code">HttpApi</code> that's
                              integrated with a Lambda function. Quick create produces an HTTP API
                              with an integration, a default catch-all route, and a default stage
                              which is configured to automatically deploy changes.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>To invoke a Lambda integration, API Gateway must have the required permissions. You can use a
                              resource-based policy or an IAM role to grant API Gateway permissions to invoke a Lambda
                              function. To learn more, see <a href="https://docs.aws.amazon.com/lambda/latest/dg/lambda-permissions.html">AWS Lambda
                                    Permissions</a> in the <em> AWS Lambda Developer
                                          Guide</em>.</p></div></div><div id="JSON" name="JSON" class="section langfilter"><h4 id="aws-resource-apigatewayv2-api--examples--Quick_create_HTTP_API--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"HttpApi": <span>{</span>
    "Type": "AWS::ApiGatewayV2::Api",
    "Properties": <span>{</span>
        "Name": "Lambda Proxy",
        "Description": "Lambda proxy using quick create",
        "ProtocolType": "HTTP",
        "Target": "arn:aws:apigateway:<span>{</span>region}:lambda:path/2015-03-31/functions/arn:aws:lambda:<span>{</span>region}:<span>{</span>account-id}:function:<span>{</span>function-name}/invocations"
     }
}
                  </code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-resource-apigatewayv2-api--examples--Quick_create_HTTP_API--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">HttpApi:
  Type: AWS::ApiGatewayV2::Api
  Properties:
    Name: Lambda Proxy
    Description: Lambda proxy using quick create
    ProtocolType: HTTP
    Target: arn:aws:apigateway:<span>{</span>region}:lambda:path/2015-03-31/functions/arn:aws:lambda:<span>{</span>region}:<span>{</span>account-id}:function:<span>{</span>function-name}/invocations</code></pre></div><h2 id="aws-resource-apigatewayv2-api--seealso">See also</h2><div class="itemizedlist">
                         
                  <ul class="itemizedlist"><li class="listitem">
                              <p><a href="https://docs.aws.amazon.com/apigatewayv2/latest/api-reference/apis.html#CreateApi">CreateApi</a> in the <em>Amazon API Gateway
                                          Version 2 API Reference</em></p>
                        </li></ul></div><p></p><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./AWS_ApiGatewayV2.html">Amazon API Gateway V2</div><div id="next" class="next-link" accesskey="n" href="./aws-properties-apigatewayv2-api-bodys3location.html">BodyS3Location</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=API Gateway&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-apigatewayv2-api.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=API Gateway&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-apigatewayv2-api.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>