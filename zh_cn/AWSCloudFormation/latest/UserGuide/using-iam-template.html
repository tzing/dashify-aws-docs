<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>使用 AWS Identity and Access Management 控制访问权限 - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="using-iam-template" /><meta name="default_state" content="using-iam-template" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/using-iam-template.html" /><meta name="description" content="使用 AWS Identity and Access Management 控制有权在 AWS CloudFormation 中访问您的 AWS 资源的人员。" /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="用户指南" /><meta name="abstract" content="根据此用户指南，使用 AWS CloudFormation 以可预见方式反复创建和管理 AWS 基础设施部署。" /><meta name="guide-locale" content="zh_cn" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/using-iam-template.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="用户指南" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="用户指南" /><meta id="panorama-serviceConsolePage" value="使用 AWS Identity and Access Management 控制访问权限" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>使用 AWS Identity and Access Management 控制访问权限 - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/using-iam-template.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/using-iam-template.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/using-iam-template.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,资源预置,资源配置,基础设施管理,CloudFormer,CloudFormation 堆栈,CloudFormation 堆栈集,CloudFormation 模板,更改集" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "用户指南",
        "item" : "https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "AWS CloudFormation 中的安全性",
        "item" : "https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/security.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "使用 AWS Identity and Access Management 控制访问权限",
        "item" : "https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/security.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">文档</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">用户指南</a></div><div id="page-toc-src"><a href="#using-iam-template-actions">AWS CloudFormation 操作</a><a href="#resource-level-permissions">AWS CloudFormation 资源</a><a href="#using-iam-template-conditions">AWS CloudFormation 条件</a><a href="#using-iam-capabilities">确认 AWS CloudFormation 模板中的 IAM 资源</a><a href="#using-iam-template-manage-creds">管理 Amazon EC2 实例上运行的应用程序的凭证</a><a href="#using-iam-template-grant-access">授予临时访问权限 (联合访问)</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="using-iam-template">使用 AWS Identity and Access Management 控制访问权限</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>使用 AWS Identity and Access Management（IAM），您可以创建 IAM 用户以控制谁有权访问您的 AWS 账户 账户中的哪些资源。您可以将 IAM 与 AWS CloudFormation 结合使用以控制用户使用 AWS CloudFormation 可以执行的操作，例如，是否可以查看堆栈模板、创建堆栈或删除堆栈。</p><p>除了 AWS CloudFormation 操作之外，您还可以管理每个用户可以使用哪些 AWS 服务和资源。这样一来，您可以控制用户在使用 AWS CloudFormation 时可访问哪些资源。例如，您可以指定哪些用户可以创建 Amazon EC2 实例、终止数据库实例或更新 VPC。只要这些用户使用 AWS CloudFormation 执行这些操作，这些相同的权限就会被应用。</p><p>有关您可以控制访问权限的所有服务的更多信息，请参阅《IAM 用户指南》中的<a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/Using_SpecificProducts.html">支持 IAM 的 AWS 服务</a>。</p><div class="highlights"><h6>主题</h6><ul><li><a href="#using-iam-template-actions">AWS CloudFormation 操作</a></li><li><a href="#resource-level-permissions">AWS CloudFormation 资源</a></li><li><a href="#using-iam-template-conditions">AWS CloudFormation 条件</a></li><li><a href="#using-iam-capabilities">确认 AWS CloudFormation 模板中的 IAM 资源</a></li><li><a href="#using-iam-template-manage-creds">管理 Amazon EC2 实例上运行的应用程序的凭证</a></li><li><a href="#using-iam-template-grant-access">授予临时访问权限 (联合访问)</a></li><li><a href="./using-iam-servicerole.html">AWS CloudFormation 服务角色</a></li></ul></div><h2 id="using-iam-template-actions">AWS CloudFormation 操作</h2>
      
      <p>当您在 AWS 账户 中创建组或用户时，您可以将 IAM policy 与该组或该用户关联，用于指定要授予的权限。例如，假设您有一个入门级开发人员组。您可以创建包含所有入门级开发人员的 <code class="code">Junior
            application developers</code> 组。然后，您可以将一个只允许用户查看 AWS CloudFormation 堆栈的策略与该组关联。在这种情况下，您可能有一个类似下面示例的策略：</p>
      <div class="example"><h6>例 授予查看堆栈权限的示例策略</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version":"2012-10-17",
    "Statement":[<span>{</span>
        "Effect":"Allow",
        "Action":[
            "cloudformation:DescribeStacks",
            "cloudformation:DescribeStackEvents",
            "cloudformation:DescribeStackResource",
            "cloudformation:DescribeStackResources"
        ],
        "Resource":"*"
    }]
}</code></pre></div></div>
      <p>该策略授予 <code class="code">DescribeStack</code> 元素中列出的所有 <code class="code">Action</code> API 操作的权限。</p>
      <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>重要</h6></div><div class="awsdocs-note-text"><p>如果语句中未指定堆栈名称或 ID，则还必须对 <code class="code">*</code> 资源使用 <code class="code">Resource</code> 通配符向该操作授予使用所有资源的权限。</p></div></div>
      <p>除了 AWS CloudFormation 操作之外，创建或删除堆栈的用户还需要依赖于堆栈模板的其他权限。例如，如果您有一个描述 Amazon SQS 队列的模板，则用户必须具有 Amazon SQS 操作的对应权限才能成功创建堆栈，如下面的示例策略所示：</p>
      <div class="example"><h6>例 授予创建和查看堆栈操作以及所有 Amazon SQS 操作的示例策略</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version":"2012-10-17",
    "Statement":[<span>{</span>
        "Effect":"Allow",
        "Action":[
            "sqs:*",
            "cloudformation:CreateStack",
            "cloudformation:DescribeStacks",
            "cloudformation:DescribeStackEvents",
            "cloudformation:DescribeStackResources",
            "cloudformation:GetTemplate",
            "cloudformation:ValidateTemplate"  
        ],
        "Resource":"*"
    }]
}</code></pre></div></div>
      <p>有关您可以允许或拒绝的所有 AWS CloudFormation 操作的列表，请参阅<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/">《AWS CloudFormation API 参考》</a>。</p>
      <h3 id="w9aac17c19c11c16">AWS CloudFormation 控制台特定的操作</h3>
         
         <p>使用 AWS CloudFormation 控制台的用户需要具有使用 AWS Command Line Interface 或 AWS CloudFormation API 时不需要的其他权限。与 AWS CLI 和 API 比较，控制台提供了需要额外权限的其他功能，如将模板上传到 Amazon S3 桶和 <a href="./parameters-section-structure.html#aws-specific-parameter-types">AWS 特定参数类型</a>的下拉列表。</p>
         <p>对于所有以下操作，授予对所有资源的权限；不限制对特定堆栈或存储桶的操作。</p>
         <p>以下必需操作仅由 AWS CloudFormation 控制台使用，未记录在 API 参考中。该操作允许用户将模板上传到 Amazon S3 存储桶。</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="text ">cloudformation:CreateUploadBucket</code></pre>
         <p>当用户上传模板时，他们需要以下 Amazon S3 权限：</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="text ">s3:PutObject
s3:ListBucket
s3:GetObject
s3:CreateBucket</code></pre>
         <p>对于具有 <a href="./parameters-section-structure.html#aws-specific-parameter-types">AWS 特定的参数类型</a>的模板，用户需要进行对应的描述 API 调用的权限。例如，如果模板包含 <code class="code">AWS::EC2::KeyPair::KeyName</code> 参数类型，用户需要调用 EC2 <code class="code">DescribeKeyPairs</code> 操作的权限 (该操作是控制台获取参数下拉列表的值的方法)。以下示例是用户需对其他参数类型执行的操作：</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="text ">ec2:DescribeSecurityGroups (for the AWS::EC2::SecurityGroup::Id parameter type)
ec2:DescribeSubnets (for the Subnet::Id parameter type)
ec2:DescribeVpcs (for the AWS::EC2::VPC::Id parameter type)</code></pre>
       
   <h2 id="resource-level-permissions">AWS CloudFormation 资源</h2>
      
      <p>AWS CloudFormation 支持资源级权限，因此您可以指定针对特定堆栈的操作，如下述策略所示：</p>
      <div class="example"><h6>例 拒绝 MyProductionStack 的删除和更新堆栈操作的策略示例</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version":"2012-10-17",
    "Statement":[<span>{</span>
        "Effect":"Deny",
        "Action":[
            "cloudformation:DeleteStack",
            "cloudformation:UpdateStack"
        ],
        "Resource":"arn:aws:cloudformation:us-east-1:123456789012:stack/MyProductionStack/*"
    }]
}</code></pre></div></div>
      <p>上面的策略在堆栈名称末尾使用通配符，以便拒绝为整个堆栈 ID (如 <code class="code">arn:aws:cloudformation:us-east-1:123456789012:stack/MyProductionStack/abc9dbf0-43c2-11e3-a6e8-50fa526be49c</code>) 和堆栈名称 (如 <code class="code">MyProductionStack</code>) 执行删除堆栈和更新堆栈操作。</p>

      <p>要允许 <code class="code">AWS::Serverless</code> 转换创建更改集，策略应包含 <code class="code">arn:aws:cloudformation:&lt;region&gt;:aws:transform/Serverless-2016-10-31</code> 资源级权限，如以下策略中所示：</p>
      <div class="example"><h6>例 允许为转换执行创建更改集操作的示例策略</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "> <span>{</span>
    "Version": "2012-10-17",
    "Statement": [<span>{</span>
        "Effect": "Allow",
        "Action": [
            "cloudformation:CreateChangeSet"
        ],
        "Resource": "arn:aws:cloudformation:us-west-2:aws:transform/Serverless-2016-10-31"
    }]
}</code></pre></div></div>
       
         <h3 id="resource-level-permissions-service-managed-stack-set">授予服务托管的堆栈集权限的示例策略</h3>
            <p>以下示例 IAM policy 向委托人实体（用户、角色或组）授予服务托管的堆栈集权限。具有此策略的用户只能对其模板包含 Amazon S3 资源类型（<code class="code">AWS::S3::*</code>）或 <code class="code">AWS::SES::ConfigurationSet</code> 资源类型的堆栈集执行操作。如果使用 ID <code class="code">123456789012</code> 登录到组织管理账户，则用户还可以仅对以 OU（ID 为 <code class="replaceable">ou-1fsfsrsdsfrewr</code>）为目标的堆栈集执行操作，并可以对以 AWS 账户（ID 为 <code class="replaceable">987654321012</code>）为目标的堆栈集（ID 为 <code class="code">stack-set-id</code>）执行操作。</p>
            <p>如果堆栈集模板包含除策略中指定的资源类型以外的其他资源类型，或者如果部署的目标 OU 或账户 ID 不是在对应管理账户和堆栈集的策略中指定的内容，则堆栈集操作将失败。</p>
         <p>这些策略限制仅在堆栈集操作以 <code class="code">us-east-1</code>、<code class="code">us-west-2</code> 或 <code class="code">eu-west-2</code> AWS 区域 为目标时适用。</p>
         
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "cloudformation:*"
            ],
            "Resource": [
                "arn:aws:cloudformation:*:*:stackset/*",
                "arn:aws:cloudformation:*:*:type/resource/<code class="replaceable">AWS-S3</code>-*",
                "arn:aws:cloudformation:us-west-2::type/resource/<code class="replaceable">AWS-SES-ConfigurationSet</code>",
                "arn:aws:cloudformation:*:<code class="replaceable">123456789012</code>:stackset-target/*/<code class="replaceable">ou-1fsfsrsdsfrewr</code>",
                "arn:aws:cloudformation:*:<code class="replaceable">123456789012</code>:stackset-target/<code class="replaceable">stack-set-id</code>/<code class="replaceable">987654321012</code>"
            ],
            "Condition": <span>{</span>
                "ForAllValues:StringEqualsIgnoreCase": <span>{</span>
                    "cloudformation:TargetRegion": [
                        "<code class="replaceable">us-east-1</code>",
                        "<code class="replaceable">us-west-2</code>",
                        "<code class="replaceable">eu-west-1</code>"
                    ]
                }
            }
        }
    ]
}</code></pre>
       
   <h2 id="using-iam-template-conditions">AWS CloudFormation 条件</h2>
      
      <p>在 IAM policy 中，您可以指定控制策略何时生效的条件。例如，您可以定义一条策略，使  用户只能在指定了特定的模板 URL 时才能创建堆栈。您可以定义特定于 AWS CloudFormation 的条件和 AWS 范围的条件，如 <code class="code">DateLessThan</code>，该条件指定策略停止生效的时间。有关 AWS 范围条件列表的更多信息，请参阅《IAM 用户指南》中 <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/AccessPolicyLanguage_ElementDescriptions.html#Condition">IAM policy 元素参考</a>中的“条件”。</p>
      <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注意</h6></div><div class="awsdocs-note-text"><p>请勿使用 <code class="code">aws:SourceIp</code> AWS 范围的条件。AWS CloudFormation 使用其自己的 IP 地址而不是原始请求的 IP 地址预置资源。例如，在创建堆栈时，AWS CloudFormation 从它的 IP 地址发送请求来启动 Amazon EC2 实例或创建 Amazon S3 桶，而不是来自 <code class="code">CreateStack</code> 调用或 <code class="code">aws cloudformation create-stack</code> 命令的 IP 地址。</p></div></div>
      <p>下面的列表介绍特定于 AWS CloudFormation 的条件。这些条件仅在用户创建或更新堆栈时应用：</p>
      <div class="variablelist">
          
          

          
          
          
          
      <dl>
            <dt><span class="term"><code class="code">cloudformation:ChangeSetName</code></span></dt>
            <dd>
               <p>要与策略关联的 AWS CloudFormation 更改集名称。使用此条件可控制  用户可执行或删除的更改集。</p>
            </dd>
          
            <dt><span class="term"><code class="code">cloudformation:ImportResourceTypes</code></span></dt>
            <dd>
               <p>要与策略关联的模板资源类型，如 <code class="code">AWS::EC2::Instance</code>。可以使用该条件控制在  用户将资源导入到堆栈时可以使用的资源类型。系统将核对此条件和用户在 <code class="code">ResourcesToImport</code> 参数（当前只支持 AWS CLI 和 API 请求）中声明的资源类型。在使用该参数时，必须指定您希望用户在导入操作期间控制的所有资源类型。有关 <code class="code">ResourcesToImport</code> 参数的更多信息，请参阅《AWS CloudFormation API 参考》<em></em>中的 <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_CreateChangeSet.html"><code class="code">CreateChangeSet</code></a> 操作。</p>
               <p>有关可能的 <code class="code">ResourcesToImport</code> 列表，请参阅<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/resource-import-supported-resources.html">支持导入操作的资源</a>。</p>
               <p>使用包含三个部分的资源命名约定来指定用户可以使用的资源类型，上至组织中的所有资源，下至单个资源类型。</p>
               <div class="variablelist">
                      
                   
                   
               <dl>
                     <dt><span class="term"><code class="code"><code class="replaceable">organization</code>::*</code></span></dt>
                     <dd>
                        <p>指定给定组织的所有资源类型。</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code"><code class="replaceable">organization</code>::<code class="replaceable"><code class="replaceable">service_name</code></code>::*</code></span></dt>
                     <dd>
                        <p>指定给定组织内指定服务的所有资源类型。</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code"><code class="replaceable">organization</code>::<code class="replaceable"><code class="replaceable">service_name</code></code>::<code class="replaceable">resource_type</code></code></span></dt>
                     <dd>
                        <p>指定一个特定的资源类型。</p>
                     </dd>
                  </dl></div>
               
                  <p>例如：</p>
               <div class="variablelist">
                   
                   
                   
                  
               <dl>
                     <dt><span class="term"><code class="code">AWS::*</code></span></dt>
                     <dd>
                        <p>指定所有支持的 AWS 资源类型。</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code">AWS::<code class="replaceable">service_name</code>::*</code></span></dt>
                     <dd>
                        <p>为特定的 AWS 服务指定所有支持的资源。</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code">AWS::<code class="replaceable">service_name</code>::<code class="replaceable">resource_type</code></code></span></dt>
                     <dd>
                        <p>指定特定的 AWS 资源类型，如 <code class="code">AWS::EC2::Instance</code>（所有 EC2 实例）。</p>
                     </dd>
                  </dl></div>
            </dd>
          
            <dt><span class="term"><code class="code">cloudformation:ResourceTypes</code></span></dt>
            <dd>
               <p>要与策略关联的模板资源的类型，如 <code class="code">AWS::EC2::Instance</code>。使用此条件控制  用户在创建或更新堆栈时可以使用的资源类型。系统将核对此条件和用户在 <code class="code">ResourceTypes</code> 参数（当前只支持 AWS CLI 和 API 请求）中声明的资源类型。使用此参数时，用户必须指定其模板中的所有资源类型。有关 <code class="code">ResourceTypes</code> 参数的更多信息，请参阅《AWS CloudFormation API 参考》<em></em>中的 <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_CreateStack.html"><code class="code">CreateStack</code></a> 操作。</p>
               <p>有关资源类型列表的信息，请参阅<a href="./aws-template-resource-type-ref.html">AWS 资源和属性类型参考</a>。</p>
               <p>使用包含三个部分的资源命名约定来指定用户可以使用的资源类型，上至组织中的所有资源，下至单个资源类型。</p>
               <div class="variablelist">
                   
                   
                   
               <dl>
                     <dt><span class="term"><code class="code"><code class="replaceable">organization</code>::*</code></span></dt>
                     <dd>
                        <p>指定给定组织的所有资源类型。</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code"><code class="replaceable">organization</code>::<code class="replaceable"><code class="replaceable">service_name</code></code>::*</code></span></dt>
                     <dd>
                        <p>指定给定组织内指定服务的所有资源类型。</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code"><code class="replaceable">organization</code>::<code class="replaceable"><code class="replaceable">service_name</code></code>::<code class="replaceable">resource_type</code></code></span></dt>
                     <dd>
                        <p>指定一个特定的资源类型。</p>
                     </dd>
                  </dl></div>
               
               <p>例如：</p>          
               <div class="variablelist">            
                   
                   
                   
                   
                   
                   
                   
                  
                  
                  
               <dl>
                     <dt><span class="term"><code class="code">AWS::*</code></span></dt>
                     <dd>
                        <p>指定所有支持的 AWS 资源类型。</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code">AWS::<code class="replaceable">service_name</code>::*</code></span></dt>
                     <dd>
                        <p>为特定的 AWS 服务指定所有支持的资源。</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code">AWS::<code class="replaceable">service_name</code>::<code class="replaceable">resource_type</code></code></span></dt>
                     <dd>
                        <p>指定特定的 AWS 资源类型，如 <code class="code">AWS::EC2::Instance</code>（所有 EC2 实例）。</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code">Alexa::ASK::*</code></span></dt>
                     <dd>
                        <p>指定 Alexa Skill Kit 中的所有资源类型。</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code">Alexa::ASK::Skill</code></span></dt>
                     <dd>
                        <p>指定单个 <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ask-skill.html">Skill</a> 资源类型。</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code">Custom::*</code></span></dt>
                     <dd>
                        <p>指定所有自定义资源。</p>
                        <p>有关自定义资源的更多信息，请参阅<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-custom-resources.html">自定义资源</a>。</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code">Custom::<code class="replaceable">resource_type</code></code></span></dt>
                     <dd>
                        <p>指定特定的自定义资源类型。</p>
                        <p>有关自定义资源的更多信息，请参阅<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-custom-resources.html">自定义资源</a>。</p>
                     </dd>
                  </dl></div>
            </dd>
          
            <dt><span class="term"><code class="code">cloudformation:RoleARN</code></span></dt>
            <dd>
               <p>要与策略关联的 IAM 服务角色的 Amazon 资源名称（ARN）。使用此条件可控制  用户在处理堆栈或更改集时可使用的服务角色。</p>
            </dd>
          
            <dt><span class="term"><code class="code">cloudformation:StackPolicyUrl</code></span></dt>
            <dd>
               <p>要与策略关联的 Amazon S3 堆栈策略 URL。使用此条件控制在创建或更新堆栈操作期间  用户可将哪些堆栈策略关联到堆栈。有关堆栈策略的更多信息，请参阅<a href="./protect-stack-resources.html">防止更新堆栈资源</a>。</p>
               <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注意</h6></div><div class="awsdocs-note-text"><p>要确保用户只能使用您上传的堆栈策略创建或更新堆栈，请针对这些用户将 S3 存储桶设为 <code class="code">read only</code>。</p></div></div>
            </dd>
          
            <dt><span class="term"><code class="code">cloudformation:TemplateUrl</code></span></dt>
            <dd>
               <p>要与策略关联的 Amazon S3 模板 URL。使用此条件控制  用户在创建或更新堆栈时可以使用的模板。</p>
               <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注意</h6></div><div class="awsdocs-note-text"><p>要确保用户只能使用您上传的模板创建或更新堆栈，请针对这些用户将 S3 存储桶设为 <code class="code">read only</code>。</p></div></div>
               <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注意</h6></div><div class="awsdocs-note-text"><p>以下 AWS CloudFormation 特定条件适用于同名的 API 参数：</p><div class="itemizedlist">
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p><code class="code">cloudformation:ChangeSetName</code></p>
                     </li><li class="listitem">
                        <p><code class="code">cloudformation:RoleARN</code></p>
                     </li><li class="listitem">
                        <p><code class="code">cloudformation:StackPolicyUrl</code></p>
                     </li><li class="listitem">
                        <p><code class="code">cloudformation:TemplateUrl</code></p>
                     </li></ul></div><p>例如，<code class="code">cloudformation:TemplateUrl</code> 仅适用于 <code class="code">CreateStack</code>、<code class="code">UpdateStack</code> 和 <code class="code">CreateChangeSet</code> API 的 <code class="code">TemplateUrl</code> 参数。</p></div></div>
            </dd>
         </dl></div>
      <h3 id="w9aac17c19c15c10">示例</h3>
         
         <p>下面的示例策略使用户只能使用 <code class="code">https://s3.amazonaws.com/testbucket/test.template</code> 模板 URL 创建或更新堆栈。</p>
         <div class="example"><h6>例 模板 URL 条件</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version":"2012-10-17",
  "Statement":[
    <span>{</span>
      "Effect" : "Allow",
      "Action" : [ "cloudformation:CreateStack", "cloudformation:UpdateStack" ],
      "Resource" : "*",
      "Condition" : <span>{</span>
        "StringEquals" : <span>{</span>
          "cloudformation:TemplateUrl" : [ "https://s3.amazonaws.com/testbucket/test.template" ]
        }
      }
    }
  ]
}</code></pre></div></div>
         <p>以下示例策略允许用户完成导入操作<em>以外</em> 的所有 AWS CloudFormation 操作。</p>
         <div class="example"><h6>例 导入资源类型条件</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span> 
  "Version": "2012-10-17", 
  "Statement": [ 
    <span>{</span> 
      "Sid": "AllowAllStackOperations",
      "Effect": "Allow", 
      "Action": "cloudformation:*", 
      "Resource": "*" 
    }, 
    <span>{</span> 
      "Sid": "DenyImport", 
      "Effect": "Deny", 
      "Action": "cloudformation:*", 
      "Resource": "*",
      "Condition": <span>{</span> 
        "ForAnyValue:StringLike": <span>{</span>
          "cloudformation:ImportResourceTypes": [ 
            "*" 
          ] 
        } 
      } 
    } 
  ] 
}</code></pre></div></div>
            <p>以下示例策略允许所有堆栈操作以及仅针对指定资源（在该示例中为 <code class="code">AWS::S3::Bucket</code>）的导入操作。</p>
            <div class="example"><h6>例 导入资源类型条件</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span> 
  "Version": "2012-10-17", 
  "Statement": [ 
    <span>{</span> 
      "Sid": "AllowImport",
      "Effect": "Allow", 
      "Action": "cloudformation:*", 
      "Resource": "*" 
      "Condition": <span>{</span> 
        "ForAllValues:StringEqualsIgnoreCase": <span>{</span>
          "cloudformation:ImportResourceTypes": [ 
            "AWS::S3::Bucket" 
          ] 
        } 
      } 
    } 
  ] 
}</code></pre></div></div>
         <p>以下示例策略允许用户创建堆栈，但在堆栈的模板包含来自 IAM 服务的任意资源时拒绝请求。此策略还要求用户指定 <code class="code">ResourceTypes</code> 参数（仅适用于 AWS CLI 和 API 请求）。此策略使用显式拒绝语句，以便在任何其他策略授予额外权限时，此策略始终保持有效 (显式拒绝语句始终覆盖显式允许语句)。</p>
         <div class="example"><h6>例 资源类型条件</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version":"2012-10-17",
  "Statement":[
    <span>{</span>
      "Effect" : "Allow",
      "Action" : [ "cloudformation:CreateStack" ],
      "Resource" : "*"
    },
    <span>{</span>
      "Effect" : "Deny",
      "Action" : [ "cloudformation:CreateStack" ],
      "Resource" : "*",
      "Condition" : <span>{</span>
        "ForAnyValue:StringLikeIfExists" : <span>{</span>
          "cloudformation:ResourceTypes" : [ "AWS::IAM::*" ]
        }
      }
    },
    <span>{</span>
      "Effect": "Deny",
      "Action" : [ "cloudformation:CreateStack" ],
      "Resource": "*",
      "Condition": <span>{</span>
        "Null": <span>{</span>
          "cloudformation:ResourceTypes": "true"
        }
      }
    }
  ]
}</code></pre></div></div>
         <p>以下示例策略与上一示例类似。此策略允许用户创建堆栈，但当堆栈模板包含来自 IAM 服务的任意资源时除外。它还要求用户指定 <code class="code">ResourceTypes</code> 参数（仅适用于 AWS CLI 和 API 请求）。此策略更简单，但不使用显式拒绝语句。其他授予额外权限的策略可以覆盖此策略。</p>
         <div class="example"><h6>例 资源类型条件</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version":"2012-10-17",
  "Statement":[
    <span>{</span>
      "Effect" : "Allow",
      "Action" : [ "cloudformation:CreateStack" ],
      "Resource" : "*",
      "Condition" : <span>{</span>
        "ForAllValues:StringNotLikeIfExists" : <span>{</span>
          "cloudformation:ResourceTypes" : [ "AWS::IAM::*" ]
        },
        "Null":<span>{</span>
          "cloudformation:ResourceTypes": "false"
        }
      }
    }
  ]
}</code></pre></div></div>
       
   <h2 id="using-iam-capabilities">确认 AWS CloudFormation 模板中的 IAM 资源</h2>
      
      <p>在创建堆栈之前， AWS CloudFormation 验证您的模板后。在验证期间，AWS CloudFormation 检查模板中可能创建的 IAM 资源。IAM 资源（如具有完全访问权限的 IAM 用户）可以访问和修改您的 AWS 账户 中的任何资源。因此，建议您在继续之前检查与每个 IAM 资源关联的权限，以便您不会无意中创建具有升级权限的资源。为了确保您已执行此操作，您必须确认模板包含这些资源，从而在 AWS CloudFormation 创建堆栈之前为其提供指定功能。</p>
      <p>您可以使用 AWS CloudFormation 控制台、AWS Command Line Interface（AWS CLI）或 API 确认 AWS CloudFormation 模板的功能：</p>
      <div class="itemizedlist">
          
          
          
      <ul class="itemizedlist"><li class="listitem">
            <p>在 AWS CloudFormation 控制台中，在 Create Stack (创建堆栈) 或 Update Stack (更新堆栈) 向导的 <b>Review (审核)</b> 页面上，选择 <b>I acknowledge that this template may create IAM resources (我确认此模板可创建 IAM 资源)</b>。</p>
         </li><li class="listitem">
            <p>在 AWS CLI 中，当您使用 <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/create-stack.html"><code class="code">aws cloudformation create-stack</code></a> 和 <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/update-stack.html"><code class="code">aws cloudformation update-stack</code></a> 命令时，请指定 <code class="code">--capabilities</code> 参数的 <code class="code">CAPABILITY_IAM</code> 或 <code class="code">CAPABILITY_NAMED_IAM</code> 值。如果您的模板包含 IAM 资源，则可以指定任一功能。如果您的模板包含 IAM 资源的自定义名称，则必须指定 <code class="code">CAPABILITY_NAMED_IAM</code>。</p>
         </li><li class="listitem">
            <p>在 API 中，当您使用 <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_CreateStack.html"><code class="code">CreateStack</code></a> 和 <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_UpdateStack.html"><code class="code">UpdateStack</code></a> 操作时，请指定 <code class="code">Capabilities.member.1=CAPABILITY_IAM</code> 或 <code class="code">Capabilities.member.1=CAPABILITY_NAMED_IAM</code>。如果您的模板包含 IAM 资源，则可以指定任一功能。如果您的模板包含 IAM 资源的自定义名称，则必须指定 <code class="code">CAPABILITY_NAMED_IAM</code>。</p>
         </li></ul></div>
      <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>重要</h6></div><div class="awsdocs-note-text"><p>如果您的模板包含自定义命名的 IAM 资源，请不要重用同一模板来创建多个堆栈。IAM 资源在您的账户内必须是全局唯一的。如果使用同一模板在不同的区域中创建多个堆栈，则您的堆栈可能会共享相同 IAM 资源，而不是每个堆栈均具有唯一资源。在堆栈之间共享的资源可能会造成无法恢复的意外后果。例如，如果您在一个堆栈中删除或更新共享的 IAM 资源，则将无意中修改其他堆栈的资源。</p></div></div>
   <h2 id="using-iam-template-manage-creds">管理 Amazon EC2 实例上运行的应用程序的凭证</h2>
      
      <p>如果您有应用程序在 Amazon EC2 实例上运行，并且需要向 AWS 资源（如 Amazon S3 桶或 DynamoDB 表）发出请求，则应用程序会要求提供 AWS 安全证书。但是，在启动的每个实例中分配并嵌入长期安全凭证非常困难，而且存在潜在安全风险。建议您创建在启动 Amazon EC2 实例时与该实例关联的 IAM 角色，而不是使用长期凭证，如 IAM 用户凭证。然后，应用程序可以从 Amazon EC2 实例获取临时安全凭证。您不必在实例上嵌入长期凭证。此外，为简化凭证管理工作，您可以为多个 Amazon EC2 实例指定一个角色；无需为每个实例创建唯一凭证。</p>
      <p>有关演示如何使用角色启动实例的模板代码段，请参阅 <a href="./quickref-iam.html#scenarios-iamroles">IAM 角色模板示例</a>。</p>
      <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注意</h6></div><div class="awsdocs-note-text"><p>使用临时安全凭证的实例上的应用程序可以调用任何 AWS CloudFormation 操作。然而，因为 AWS CloudFormation 与很多其他 AWS 服务交互，您必须确定要使用的所有服务都支持临时安全凭证。有关更多信息，请参阅<a href="https://docs.aws.amazon.com/STS/latest/UsingSTS/UsingTokens.html">支持 AWS STS 的 AWS 服务</a>。</p></div></div>
   <h2 id="using-iam-template-grant-access">授予临时访问权限 (联合访问)</h2>
      
      <p>在某些情况下，您可能希望授予没有 AWS 凭证的用户对您的 AWS 账户 的临时访问权限。您可以使用 AWS Security Token Service（AWS STS），而不必在每次授予临时访问权限时创建和删除长期证书。例如，您可以使用 IAM 角色。通过一个 IAM 角色，您可以通过编程方式创建并分配很多临时安全凭证 (包括访问密钥、秘密访问密钥和安全令牌)。这些凭证的有效期有限，因此过期后不能用于访问您的 AWS 账户。您也可以创建多个 IAM 角色，向每个用户授予不同级别的权限。IAM 角色对于联合身份和单点登录等情况非常有用。</p>
      <p>联合身份是可以跨多个系统使用的独特身份。对于已建立本地身份系统 (如 LDAP 或 Active Directory) 的企业用户，可以使用本地身份系统处理所有身份验证。在对用户进行身份验证后，您可从相应的 IAM 用户或角色提供临时安全凭证。举例来说，您可以创建一个 <code class="code">administrators</code> 角色和一个 <code class="code">developers</code> 角色，其中，管理员对 AWS 账户拥有完全访问权限，而开发人员只拥有使用 AWS CloudFormation 堆栈的权限。经过身份验证后，管理员有权获取 <code class="code">administrators</code> 角色的临时安全凭证。而开发人员只能获取 <code class="code">developers</code> 角色的临时安全凭证。</p>
      <p>您还可以授予联合用户对 AWS Management Console的访问权限。使用本地身份系统对用户进行身份验证后，您可以通过编程来构造一个临时 URL 以提供对 AWS Management Console的直接访问。用户使用临时 URL 时无需登录 AWS，因为他们已经过身份验证（单一登录）。此外，因为 URL 是从用户的临时安全凭证构造的，所以通过这些凭证提供的权限可确定用户在 AWS Management Console中拥有的权限。</p>
      <p>您可使用多种不同的 AWS STS API 来生成临时安全凭证。有关要使用的 API 的更多信息，请参阅<a href="https://docs.aws.amazon.com/STS/latest/UsingSTS/Welcome.html#AccessingSTS">使用临时安全凭证</a>中的<em>获取临时安全凭证的方式</em>。</p>
      <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>重要</h6></div><div class="awsdocs-note-text"><p>在使用从 <code class="code">GetFederationToken</code> API 生成的临时安全证书时，您无法使用 IAM。相反，如果您需要使用 IAM，请使用来自角色的临时安全凭证。</p></div></div>
      <p>AWS CloudFormation 与许多其他 AWS 服务交互。将临时安全凭证用于 AWS CloudFormation 时，请确认要使用的所有服务都支持临时安全凭证。有关更多信息，请参阅<a href="https://docs.aws.amazon.com/STS/latest/UsingSTS/UsingTokens.html">支持 AWS STS 的 AWS 服务</a>。</p>
      <p>有关更多信息，请参阅<em>使用临时安全凭证</em> 中的以下相关资源：</p>
      <div class="itemizedlist">
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p><a href="https://docs.aws.amazon.com/STS/latest/UsingSTS/STSUseCases.html">授予临时访问权限的情形</a></p>
            </li><li class="listitem">
               <p><a href="https://docs.aws.amazon.com/STS/latest/UsingSTS/STSMgmtConsole.html">授予联合用户直接访问 AWS Management Console的权限</a></p>
            </li></ul></div>
   <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="警告" /> <strong>Javascript 在您的浏览器中被禁用或不可用。</strong></p><p>要使用 Amazon Web Services 文档，必须启用 Javascript。请参阅浏览器的帮助页面以了解相关说明。</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">文档惯例</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./security-data-protection.html">数据保护</div><div id="next" class="next-link" accesskey="n" href="./using-iam-servicerole.html">AWS CloudFormation 服务角色</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">此页面对您有帮助吗？- 是</div><div class="content"><p>感谢您对我们工作的肯定！</p><p>如果不耽误您的时间，请告诉我们做得好的地方，让我们做得更好。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="反馈" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/using-iam-template.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">此页面对您有帮助吗？- 否</div><div class="content"><p>感谢您告诉我们本页内容还需要完善。很抱歉让您失望了。</p><p>如果不耽误您的时间，请告诉我们如何改进文档。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="反馈" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/using-iam-template.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>