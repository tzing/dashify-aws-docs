<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>AWS::ApiGateway::Authorizer - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="aws-resource-apigateway-authorizer" /><meta name="default_state" content="aws-resource-apigateway-authorizer" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-authorizer.html" /><meta name="description" content="Use the AWS CloudFormation AWS::ApiGateway::Authorizer resource for ApiGateway." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Create and manage AWS infrastructure deployments predictably and repeatedly using AWS CloudFormation with this User Guide." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json;toc-AWS_ApiGateway.json" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-authorizer.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-authorizer.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-authorizer.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-authorizer.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-authorizer.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-authorizer.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-authorizer.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-authorizer.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-authorizer.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-authorizer.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-authorizer.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-authorizer.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-authorizer.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-authorizer.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-authorizer.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-authorizer.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-authorizer.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-authorizer.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-authorizer.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-authorizer.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-authorizer.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-authorizer.html" hreflang="x-default" /><meta name="feedback-item" content="API Gateway" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="AWS::ApiGateway::Authorizer" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>AWS::ApiGateway::Authorizer - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=API%20Gateway&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-authorizer.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-authorizer.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-authorizer.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Amazon API Gateway resource type reference",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/AWS_ApiGateway.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "AWS::ApiGateway::Authorizer",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/AWS_ApiGateway.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="AWS_ApiGateway.html">User Guide</a></div><div id="page-toc-src"><a href="#aws-resource-apigateway-authorizer-syntax">Syntax</a><a href="#aws-resource-apigateway-authorizer-properties">Properties</a><a href="#aws-resource-apigateway-authorizer-return-values">Return values</a><a href="#aws-resource-apigateway-authorizer--examples">Examples</a><a href="#aws-resource-apigateway-authorizer--seealso">See also</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="aws-resource-apigateway-authorizer">AWS::ApiGateway::Authorizer</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>The <code class="code">AWS::ApiGateway::Authorizer</code> resource creates an authorization layer that API Gateway activates for methods that have authorization enabled. API Gateway activates the authorizer when a client calls those methods.</p><h2 id="aws-resource-apigateway-authorizer-syntax">Syntax</h2><p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p><div id="JSON" name="JSON" class="section langfilter"><h3 id="aws-resource-apigateway-authorizer-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Type" : "AWS::ApiGateway::Authorizer",
  "Properties" : <span>{</span>
      "<a href="#cfn-apigateway-authorizer-authorizercredentials">AuthorizerCredentials</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-apigateway-authorizer-authorizerresultttlinseconds">AuthorizerResultTtlInSeconds</a>" : <code class="replaceable">Integer</code>,
      "<a href="#cfn-apigateway-authorizer-authorizeruri">AuthorizerUri</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-apigateway-authorizer-authtype">AuthType</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-apigateway-authorizer-identitysource">IdentitySource</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-apigateway-authorizer-identityvalidationexpression">IdentityValidationExpression</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-apigateway-authorizer-name">Name</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-apigateway-authorizer-providerarns">ProviderARNs</a>" : <code class="replaceable">[ String, ... ]</code>,
      "<a href="#cfn-apigateway-authorizer-restapiid">RestApiId</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-apigateway-authorizer-type">Type</a>" : <code class="replaceable">String</code>
    }
}
</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h3 id="aws-resource-apigateway-authorizer-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Type: AWS::ApiGateway::Authorizer
Properties:
  <a href="#cfn-apigateway-authorizer-authorizercredentials">AuthorizerCredentials</a>: <code class="replaceable">String</code>
  <a href="#cfn-apigateway-authorizer-authorizerresultttlinseconds">AuthorizerResultTtlInSeconds</a>: <code class="replaceable">Integer</code>
  <a href="#cfn-apigateway-authorizer-authorizeruri">AuthorizerUri</a>: <code class="replaceable">String</code>
  <a href="#cfn-apigateway-authorizer-authtype">AuthType</a>: <code class="replaceable">String</code>
  <a href="#cfn-apigateway-authorizer-identitysource">IdentitySource</a>: <code class="replaceable">String</code>
  <a href="#cfn-apigateway-authorizer-identityvalidationexpression">IdentityValidationExpression</a>: <code class="replaceable">String</code>
  <a href="#cfn-apigateway-authorizer-name">Name</a>: <code class="replaceable">String</code>
  <a href="#cfn-apigateway-authorizer-providerarns">ProviderARNs</a>: <code class="replaceable">
    - String</code>
  <a href="#cfn-apigateway-authorizer-restapiid">RestApiId</a>: <code class="replaceable">String</code>
  <a href="#cfn-apigateway-authorizer-type">Type</a>: <code class="replaceable">String</code>
</code></pre></div><h2 id="aws-resource-apigateway-authorizer-properties">Properties</h2><div class="variablelist"><dl><dt id="cfn-apigateway-authorizer-authorizercredentials"><span class="term"><code class="code">AuthorizerCredentials</code></span></dt><dd>
         <p>Specifies the required credentials as an IAM role for API Gateway to invoke the authorizer. To specify an IAM role for API Gateway to assume, use the role's Amazon Resource Name (ARN). To use resource-based permissions on the Lambda function, specify null.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-apigateway-authorizer-authorizerresultttlinseconds"><span class="term"><code class="code">AuthorizerResultTtlInSeconds</code></span></dt><dd>
         <p>The TTL in seconds of cached authorizer results. If it equals 0, authorization caching is disabled. If it is greater than 0, API Gateway will cache authorizer responses. If this field is not set, the default value is 300. The maximum value is 3600, or 1 hour.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: Integer</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-apigateway-authorizer-authorizeruri"><span class="term"><code class="code">AuthorizerUri</code></span></dt><dd>
         <p>Specifies the authorizer's Uniform Resource Identifier (URI). For <code class="code">TOKEN</code> or <code class="code">REQUEST</code> authorizers, this must be a well-formed Lambda function URI, for example, <code class="code">arn:aws:apigateway:us-west-2:lambda:path/2015-03-31/functions/arn:aws:lambda:us-west-2:<span>{</span>account_id}:function:<span>{</span>lambda_function_name}/invocations</code>. In general, the URI has this form  <code class="code">arn:aws:apigateway:<span>{</span>region}:lambda:path/<span>{</span>service_api}</code>, where <code class="code"><span>{</span>region}</code> is the same as the region hosting the Lambda function, <code class="code">path</code> indicates that the remaining substring in the URI should be treated as the path to the resource, including the initial <code class="code">/</code>. For Lambda functions, this is usually of the form <code class="code">/2015-03-31/functions/[FunctionARN]/invocations</code>.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-apigateway-authorizer-authtype"><span class="term"><code class="code">AuthType</code></span></dt><dd>
         <p>Optional customer-defined field, used in OpenAPI imports and exports without functional impact.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-apigateway-authorizer-identitysource"><span class="term"><code class="code">IdentitySource</code></span></dt><dd>
         <p>The identity source for which authorization is requested. For a <code class="code">TOKEN</code> or
        <code class="code">COGNITO_USER_POOLS</code> authorizer, this is required and specifies the request
      header mapping expression for the custom header holding the authorization token submitted by
      the client. For example, if the token header name is <code class="code">Auth</code>, the header mapping
      expression is <code class="code">method.request.header.Auth</code>. For the <code class="code">REQUEST</code>
      authorizer, this is required when authorization caching is enabled. The value is a
      comma-separated string of one or more mapping expressions of the specified request parameters.
      For example, if an <code class="code">Auth</code> header, a <code class="code">Name</code> query string parameter are
      defined as identity sources, this value is <code class="code">method.request.header.Auth,
        method.request.querystring.Name</code>. These parameters will be used to derive the
      authorization caching key and to perform runtime validation of the <code class="code">REQUEST</code>
      authorizer by verifying all of the identity-related request parameters are present, not null
      and non-empty. Only when this is true does the authorizer invoke the authorizer Lambda
      function, otherwise, it returns a 401 Unauthorized response without calling the Lambda
      function. The valid value is a string of comma-separated mapping expressions of the specified
      request parameters. When the authorization caching is not enabled, this property is
      optional.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-apigateway-authorizer-identityvalidationexpression"><span class="term"><code class="code">IdentityValidationExpression</code></span></dt><dd>
         <p>A validation expression for the incoming identity token. For <code class="code">TOKEN</code> authorizers, this value is a regular expression. For <code class="code">COGNITO_USER_POOLS</code> authorizers, API Gateway will match the <code class="code">aud</code> field of the incoming token from the client against the specified regular expression. It will invoke the authorizer's Lambda function when there is a match. Otherwise, it will return a 401 Unauthorized response without calling the Lambda function. The validation expression does not apply to the <code class="code">REQUEST</code> authorizer.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-apigateway-authorizer-name"><span class="term"><code class="code">Name</code></span></dt><dd>
         <p>The name of the authorizer.</p>
      <p><em>Required</em>: Yes</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-apigateway-authorizer-providerarns"><span class="term"><code class="code">ProviderARNs</code></span></dt><dd>
         <p>A list of the Amazon Cognito user pool ARNs for the <code class="code">COGNITO_USER_POOLS</code> authorizer. Each element is of this format: <code class="code">arn:aws:cognito-idp:<span>{</span>region}:<span>{</span>account_id}:userpool/<span>{</span>user_pool_id}</code>. For a <code class="code">TOKEN</code> or <code class="code">REQUEST</code> authorizer, this is not defined. </p>
      <p><em>Required</em>: No</p><p><em>Type</em>: Array of String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-apigateway-authorizer-restapiid"><span class="term"><code class="code">RestApiId</code></span></dt><dd>
         <p>The string identifier of the associated RestApi.</p>
      <p><em>Required</em>: Yes</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-apigateway-authorizer-type"><span class="term"><code class="code">Type</code></span></dt><dd>
         <p>The authorizer type. Valid values are <code class="code">TOKEN</code> for a Lambda function using a single authorization token submitted in a custom header, <code class="code">REQUEST</code> for a Lambda function using incoming request parameters, and <code class="code">COGNITO_USER_POOLS</code> for using an Amazon Cognito user pool.</p>
      <p><em>Required</em>: Yes</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd></dl></div><h2 id="aws-resource-apigateway-authorizer-return-values">Return values</h2><h3 id="aws-resource-apigateway-authorizer-return-values-ref">Ref</h3><p>When you pass the logical ID of this resource to the intrinsic <code class="code">Ref</code> function, <code class="code">Ref</code> returns the authorizer's ID, such as <code class="code">abcde1</code>.</p><p>For more information about using the <code class="code">Ref</code> function, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-ref.html"><code class="code">Ref</code></a>.</p><h3 id="aws-resource-apigateway-authorizer-return-values-fn--getatt">Fn::GetAtt</h3><p>The <code class="code">Fn::GetAtt</code> intrinsic function returns a value for a specified attribute of this type. The following are the available attributes and sample return values.</p>
<p>For more information about using the <code class="code">Fn::GetAtt</code> intrinsic function, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-getatt.html"><code class="code">Fn::GetAtt</code></a>.</p><h4 id="aws-resource-apigateway-authorizer-return-values-fn--getatt-fn--getatt"></h4><div class="variablelist"><dl><dt id="AuthorizerId-fn::getatt"><span class="term"><code class="code">AuthorizerId</code></span></dt><dd>
    <p>The ID for the authorizer. For example: <code class="code">abc123</code>.</p>
  </dd></dl></div><h2 id="aws-resource-apigateway-authorizer--examples">Examples</h2><p></p><h3 id="aws-resource-apigateway-authorizer--examples--Create_authorizer">Create authorizer</h3><p>The following examples create a custom authorizer that is an AWS Lambda function.</p><div id="JSON" name="JSON" class="section langfilter"><h4 id="aws-resource-apigateway-authorizer--examples--Create_authorizer--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Authorizer": <span>{</span>
        "Type": "AWS::ApiGateway::Authorizer",
        "Properties": <span>{</span>
            "AuthorizerCredentials": <span>{</span>
                "Fn::GetAtt": [
                    "LambdaInvocationRole",
                    "Arn"
                ]
            },
            "AuthorizerResultTtlInSeconds": "300",
            "AuthorizerUri": <span>{</span>
                "Fn::Join": [
                    "",
                    [
                        "arn:aws:apigateway:",
                        <span>{</span>
                            "Ref": "AWS::Region"
                        },
                        ":lambda:path/2015-03-31/functions/",
                        <span>{</span>
                            "Fn::GetAtt": [
                                "LambdaAuthorizer",
                                "Arn"
                            ]
                        },
                        "/invocations"
                    ]
                ]
            },
            "Type": "TOKEN",
            "IdentitySource": "method.request.header.Auth",
            "Name": "DefaultAuthorizer",
            "RestApiId": <span>{</span>
                "Ref": "RestApi"
            }
        }
    }
}</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-resource-apigateway-authorizer--examples--Create_authorizer--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Authorizer:
  Type: 'AWS::ApiGateway::Authorizer'
  Properties:
    AuthorizerCredentials: !GetAtt 
      - LambdaInvocationRole
      - Arn
    AuthorizerResultTtlInSeconds: '300'
    AuthorizerUri: !Join 
      - ''
      - - 'arn:aws:apigateway:'
        - !Ref 'AWS::Region'
        - ':lambda:path/2015-03-31/functions/'
        - !GetAtt 
          - LambdaAuthorizer
          - Arn
        - /invocations
    Type: TOKEN
    IdentitySource: method.request.header.Auth
    Name: DefaultAuthorizer
    RestApiId: !Ref RestApi
</code></pre></div><h2 id="aws-resource-apigateway-authorizer--seealso">See also</h2><div class="itemizedlist">
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><a href="https://docs.aws.amazon.com/apigateway/latest/api/API_CreateAuthorizer.html">authorizer:create</a> in the <em>Amazon API Gateway REST API Reference</em></p>
                </li></ul></div><p></p><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./aws-properties-apigateway-apikey-tag.html">Tag</div><div id="next" class="next-link" accesskey="n" href="./aws-resource-apigateway-basepathmapping.html">AWS::ApiGateway::BasePathMapping</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=API Gateway&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-authorizer.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=API Gateway&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-authorizer.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>