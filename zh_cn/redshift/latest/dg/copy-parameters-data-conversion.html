<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>数据转换参数 - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="copy-parameters-data-conversion" /><meta name="default_state" content="copy-parameters-data-conversion" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/copy-parameters-data-conversion.html" /><meta name="description" content="在加载表时，COPY 会尝试将源数据中的字符串隐式转换为目标列的数据类型。如果您需要指定不同于默认行为的转换，或者默认转换会产生错误，则可以通过指定以下参数来管理数据转换。有关这些参数语法的更多信息，请参阅 COPY 语法 。" /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="数据库开发人员指南" /><meta name="abstract" content="使用 Amazon Redshift – 一种完全托管的企业 PB 级数据仓库服务 – 创建和管理数据仓库。" /><meta name="guide-locale" content="zh_cn" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/copy-parameters-data-conversion.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/copy-parameters-data-conversion.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/copy-parameters-data-conversion.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/copy-parameters-data-conversion.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/copy-parameters-data-conversion.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/copy-parameters-data-conversion.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/copy-parameters-data-conversion.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/copy-parameters-data-conversion.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/copy-parameters-data-conversion.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/copy-parameters-data-conversion.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/copy-parameters-data-conversion.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/copy-parameters-data-conversion.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/copy-parameters-data-conversion.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/copy-parameters-data-conversion.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/copy-parameters-data-conversion.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/copy-parameters-data-conversion.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/copy-parameters-data-conversion.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/copy-parameters-data-conversion.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/copy-parameters-data-conversion.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/copy-parameters-data-conversion.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/copy-parameters-data-conversion.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/copy-parameters-data-conversion.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="数据库开发人员指南" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="数据库开发人员指南" /><meta id="panorama-serviceConsolePage" value="数据转换参数" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>数据转换参数 - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#copy-parameters-data-conversion" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/copy-parameters-data-conversion.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/copy-parameters-data-conversion.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/copy-parameters-data-conversion.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,集群,数据仓库,开发人员,示例数据,数据库,数据库开发人员,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "数据库开发人员指南",
        "item" : "https://docs.aws.amazon.com/zh_cn/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "SQL 参考",
        "item" : "https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "SQL 命令",
        "item" : "https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "COPY",
        "item" : "https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_COPY.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "COPY 参数参考",
        "item" : "https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_COPY-parameters.html"
      },
      {
        "@type" : "ListItem",
        "position" : 8,
        "name" : "数据转换参数",
        "item" : "https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_COPY-parameters.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#copy-parameters-data-conversion" target="_blank" rel="noopener noreferrer" title="打开 PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">文档</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">数据库开发人员指南</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="copy-parameters-data-conversion">数据转换参数</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>在加载表时，COPY 会尝试将源数据中的字符串隐式转换为目标列的数据类型。如果您需要指定不同于默认行为的转换，或者默认转换会产生错误，则可以通过指定以下参数来管理数据转换。有关这些参数语法的更多信息，请参阅 <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_COPY.html#r_COPY-syntax">COPY 语法</a>。</p><div class="itemizedlist">
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
            <ul class="itemizedlist"><li class="listitem">
                  <p><a href="#copy-acceptanydate">ACCEPTANYDATE</a>
                  </p>
               </li><li class="listitem">
                  <p><a href="#copy-acceptinvchars">ACCEPTINVCHARS</a>
                  </p>
               </li><li class="listitem">
                  <p><a href="#copy-blanksasnull">BLANKSASNULL</a>
                  </p>
               </li><li class="listitem">
                  <p><a href="#copy-dateformat">DATEFORMAT</a>
                  </p>
               </li><li class="listitem">
                  <p><a href="#copy-emptyasnull">EMPTYASNULL</a>
                  </p>
               </li><li class="listitem">
                  <p><a href="#copy-encoding">ENCODING</a>
                  </p>
               </li><li class="listitem">
                  <p><a href="#copy-escape">ESCAPE</a>
                  </p>
               </li><li class="listitem">
                  <p><a href="#copy-explicit-ids">EXPLICIT_IDS</a>
                  </p>
               </li><li class="listitem">
                  <p><a href="#copy-fillrecord">FILLRECORD</a>
                  </p>
               </li><li class="listitem">
                  <p><a href="#copy-ignoreblanklines">IGNOREBLANKLINES</a>
                  </p>
               </li><li class="listitem">
                  <p><a href="#copy-ignoreheader">IGNOREHEADER</a>
                  </p>
               </li><li class="listitem">
                  <p><a href="#copy-null-as">NULL AS</a>
                  </p>
               </li><li class="listitem">
                  <p><a href="#copy-removequotes">REMOVEQUOTES</a>
                  </p>
               </li><li class="listitem">
                  <p><a href="#copy-roundec">ROUNDEC</a>
                  </p>
               </li><li class="listitem">
                  <p><a href="#copy-timeformat">TIMEFORMAT</a>
                  </p>
               </li><li class="listitem">
                  <p><a href="#copy-trimblanks">TRIMBLANKS</a>
                  </p>
               </li><li class="listitem">
                  <p><a href="#copy-truncatecolumns">TRUNCATECOLUMNS</a>
                  </p>
               </li></ul></div><div class="variablelist">
               <h6>数据转换参数</h6>
                
                
                
                
                
                
                
                
                
                

                
                

                
                

                
                

                

            <dl>
                  <dt id="copy-acceptanydate"><span class="term">ACCEPTANYDATE </span></dt>
                  <dd>
                     <p>允许加载包括无效格式（如 <code class="code">00/00/00
                           00:00:00</code>）在内的任何日期格式，而不生成错误。此参数仅适用于 TIMESTAMP 和 DATE 列。始终将 ACCEPTANYDATE 与 DATEFORMAT 参数结合使用。如果数据的日期格式与 DATEFORMAT 规范不匹配，则 Amazon Redshift 会将 NULL 值插入该字段中。</p>

                  </dd>
                
                  <dt id="acceptinvchars"><span class="term">ACCEPTINVCHARS [AS] ['<em>replacement_char</em>'] </span></dt>
                  <dd>
                     <p>允许将数据加载到 VARCHAR 列中，即使数据包含无效的 UTF-8 字符。如果指定 ACCEPTINVCHARS，则 COPY 会将每个无效的 UTF-8 字符替换为长度相等且包含由 <em>replacement_char</em> 指定的字符的字符串。例如，如果替换字符为“<code class="code">^</code>”，则将使用“<code class="code">^^^</code>”替换无效的三字节字符。</p>
                     <p> 替换字符可以是除 NULL 之外的任何 ASCII 字符。默认值为一个问号 (?)。有关无效的 UTF-8 字符的信息，请参阅<a href="./multi-byte-character-load-errors.html">多字节字符加载错误</a>。</p>
                     <p>COPY 将返回包含无效 UTF-8 字符的行的数量，并将为每个受影响的行在 <a href="./r_STL_REPLACEMENTS.html">STL_REPLACEMENTS</a> 系统表中添加一个条目，每个节点切片最多有 100 行。还将替换其他无效的 UTF-8 字符，但不会记录这些替换事件。</p>
                     <p>如果未指定 ACCEPTINVCHARS，则 COPY 在遇到无效 UTF-8 字符时将返回错误。</p>
                     <p>ACCEPTINVCHARS 仅对 VARCHAR 列有效。</p>
                  </dd>
                
                  <dt id="copy-blanksasnull"><span class="term">BLANKSASNULL </span></dt>
                  <dd>
                     <p>将仅包含空格字符的空白字段作为 NULL 加载。此选项仅适用于 CHAR 和 VARCHAR 列。其他数据类型（如 INT）的空白字段始终作为 NULL 加载。例如，包含三个连续的空格字符（并且无其他字符）的字符串将作为 NULL 加载。如果不使用此选项，则默认行为是按原样加载空白字符。</p>
                  </dd>
                
                  <dt id="copy-dateformat"><span class="term">DATEFORMAT [AS] <span>{</span>'<em>dateformat_string</em>' | 'auto' }</span></dt>
                  <dd>
                     <p>如果未指定 DATEFORMAT，则默认格式为 <code class="code">'YYYY-MM-DD'</code>。例如，一种有效的替代格式为 <code class="code">'MM-DD-YYYY'</code>。</p>
                     <p>如果 COPY 命令未识别日期或时间值的格式，或者日期或时间值使用不同的格式，请将 <code class="code">'auto'</code> 参数与 DATEFORMAT 或 TIMEFORMAT 参数结合使用。在使用 DATEFORMAT 和 TIMEFORMAT 字符串时，<code class="code">'auto'</code> 参数将识别一些不受支持的格式。<code class="code">'auto'</code> 的关键字区分大小写。有关更多信息，请参阅<a href="./automatic-recognition.html">在 DATEFORMAT 和 TIMEFORMAT 中使用自动识别</a>。</p>
                     <p>日期格式可包含时间信息（小时、分钟、秒），但此信息将被忽略。AS 关键字是可选的。有关更多信息，请参阅<a href="./r_DATEFORMAT_and_TIMEFORMAT_strings.html"> DATEFORMAT 和 TIMEFORMAT 字符串</a>。</p>
                  </dd>
                
                  <dt id="copy-emptyasnull"><span class="term">EMPTYASNULL </span></dt>
                  <dd>
                     <p>指示 Amazon Redshift 应将空 CHAR 和 VARCHAR 字段作为 NULL 加载。其他数据类型（如 INT）的空字段始终作为 NULL 加载。当数据包含两个连续的分隔符且分隔符之间没有字符时，将出现空字段。EMPTYASNULL 和 NULL AS ''（空字符串）将产生相同的行为。</p>
                  </dd>
                
                  <dt id="copy-encoding"><span class="term">ENCODING [AS] <em>file_encoding</em></span></dt>
                  <dd>
                     <p>指定加载数据的编码类型。COPY 命令在加载过程中将数据从指定的编码转换为 UTF-8。</p>
                     <p><em>file_encoding</em> 的有效值如下所示：</p>
                     <div class="itemizedlist">
                         
                         
                         
                         
                     <ul class="itemizedlist"><li class="listitem">
                           <p><code class="code">UTF8</code>
                           </p>
                        </li><li class="listitem">
                           <p><code class="code">UTF16</code>
                           </p>
                        </li><li class="listitem">
                           <p><code class="code">UTF16LE</code>
                           </p>
                        </li><li class="listitem">
                           <p><code class="code">UTF16BE</code>
                           </p>
                        </li></ul></div>
                     <p>默认为 <code class="code">UTF8</code>。</p>
                     <p>源文件名必须使用 UTF-8 编码。</p>
                     <p>下列文件必须使用 UTF-8 编码，即使为加载数据指定了不同的编码：</p>
                     <div class="itemizedlist">
                         
                         
                     <ul class="itemizedlist"><li class="listitem">
                           <p>清单文件</p>
                        </li><li class="listitem">
                           <p>JSONPaths 文件</p>
                        </li></ul></div>
                     <p>随下列参数提供的参数字符串必须使用 UTF-8：</p>
                     <div class="itemizedlist">
                         
                         
                         
                         
                         
                     <ul class="itemizedlist"><li class="listitem">
                           <p>FIXEDWIDTH '<em>fixedwidth_spec</em>'</p>
                        </li><li class="listitem">
                           <p>ACCEPTINVCHARS '<em>replacement_char</em>'</p>
                        </li><li class="listitem">
                           <p>DATEFORMAT '<em>dateformat_string</em>'</p>
                        </li><li class="listitem">
                           <p>TIMEFORMAT '<em>timeformat_string</em>'</p>
                        </li><li class="listitem">
                           <p>NULL AS '<em>null_string</em>'</p>
                        </li></ul></div>
                     <p>固定宽度的数据文件必须使用 UTF-8 编码。字段宽度基于字符数，而不是字节数。</p>
                     <p>所有加载数据必须使用指定编码。如果 COPY 遇到不同的编码，将跳过文件并返回错误。</p>
                     <p>如果您指定 <code class="code">UTF16</code>，则您的数据必须具有字节顺序标记 (BOM)。如果您知道您的 UTF-16 数据是否为 little-endian (LE) 或 big-endian (BE)，则不管是否存在 BOM，均可使用 <code class="code">UTF16LE</code> 或 <code class="code">UTF16BE</code>。</p>
                  </dd>
                

                  <dt id="copy-escape"><span class="term">ESCAPE </span></dt>
                  <dd>
                     <p>指定此参数后，输入数据中的反斜杠字符 (<code class="code">\</code>) 将被视为转义字符。紧跟在反斜杠字符后面的字符将作为当前列值的一部分加载到表中，即使它是通常用作特殊用途的字符。例如，您可使用此参数转义分隔符字符、引号、嵌入的换行符或转义字符本身，前提是这些字符中的任何字符是列值的合法部分。</p>
                     <p>如果您指定 ESCAPE 参数与 REMOVEQUOTES 参数的组合，则可转义并保留可能会被删除的引号（<code class="code">'</code> 或 <code class="code">"</code>）。默认 null 字符串 <code class="code">\N</code> 按原样工作，但也可在输入数据中转义为 <code class="code">\\N</code>。只要您未使用 NULL AS 参数指定替换 null 字符串，<code class="code">\N</code> 和 <code class="code">\\N</code> 就会产生相同的结果。</p>
                     <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注意</h6></div><div class="awsdocs-note-text"><p>控制字符 <code class="code">0x00</code> (NUL) 无法转义，应从输入数据中删除或进行转换。此字符将被视为记录结束 (EOR) 标记，并导致记录的剩余部分被截断。</p></div></div>
                     <p>您无法对 FIXEDWIDTH 加载使用 ESCAPE 参数，并且无法指定转义字符本身；转义字符始终为反斜杠字符。此外，您必须确保输入数据在合适的位置包含转义字符。</p>
                     <p>下面是在指定 ESCAPE 参数的情况下的输入数据和产生的加载数据的一些示例。第 4 行的结果假设还指定了 REMOVEQUOTES 参数。输入数据包含两个用竖线分隔的字段：</p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="">1|The quick brown fox\[newline]
jumped over the lazy dog.
2| A\\B\\C
3| A \| B \| C
4| 'A Midsummer Night\'s Dream'</code></pre>
                     <p>加载到第 2 列的数据看上去与下面类似：</p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="">The quick brown fox
jumped over the lazy dog.
A\B\C
A|B|C
A Midsummer Night's Dream</code></pre>
                     <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注意</h6></div><div class="awsdocs-note-text"><p>对加载的输入数据应用转义字符是用户的责任。此要求的一个例外情况是在您重新加载之前使用 ESCAPE 参数卸载的数据时。在此情况下，数据将已经包含必需的转义字符。</p></div></div>
                     <p>ESCAPE 参数不会解释 octal、hex、Unicode 或其他转义序列表示法。例如，如果您的源数据包含 octal 换行符值 (<code class="code">\012</code>) 并且您尝试使用 ESCAPE 参数加载此数据，则 Amazon Redshift 会将值 <code class="code">012</code> 加载到表中并且不会将此值解释为要转义的换行符。</p>
                     <p>为了转义源自 Microsoft Windows 平台的数据中的换行符，您可能需要使用两个转义字符：一个用于回车，一个用于换行。您也可以在加载文件（例如，通过使用 dos2unix 实用工具）之前删除回车符。</p>
                  </dd>
                
                  <dt id="copy-explicit-ids"><span class="term">EXPLICIT_IDS </span></dt>
                  <dd>
                     <p>如果要将表中自动生成的值替换为源数据文件中的显式值，请对具有 IDENTITY 列的表使用 EXPLICIT_IDS。如果命令包含一个列列表，则该列表必须包含 IDENTITY 列才能使用此参数。EXPLICIT_IDS 值的数据格式必须与 CREATE TABLE 定义指定的 IDENTITY 格式匹配。</p>
                     
                     <p>在对表运行带 EXPLICIT_IDS 选项的 COPY 命令时，Amazon Redshift 不会检查表中 IDENTITY 列的唯一性。</p>
                     
                     
                     
                     <p>如果某个列使用 GENERATED BY DEFAULT AS IDENTITY 进行定义，则可以复制该列。使用您提供的值生成或更新值。EXPLICIT_IDS 选项不是必需项。COPY 不会更新身份高级别水印。</p>
                     
                     <p> 有关使用 EXPLICIT_IDS 的 COPY 命令的示例，请参阅<a href="./r_COPY_command_examples.html#r_COPY_command_examples-load-venue-with-explicit-values-for-an-identity-column">加载具有显式的 IDENTITY 列值的 VENUE</a>。</p>
                  </dd>
                
                  <dt id="copy-fillrecord"><span class="term">FILLRECORD </span></dt>
                  <dd>
                     <p>当一些记录的末尾缺少相邻列时，允许加载数据文件。将缺少的列加载为 NULL。对于文本和 CSV 格式，如果缺少的是 VARCHAR 列，则会加载零长度字符串而非 NULL。要从文本和 CSV 将 NULL 加载到 VARCHAR 列，请指定 EMPTYASNULL 关键字。仅当列定义允许 NULL 时，NULL 替换才会工作。</p>
                     <p>例如，如果表定义包含 4 个可以为 null 的 CHAR 列，并且记录包含值 <code class="code">apple, orange, banana, mango</code>，则 COPY 命令可能加载并填充仅包含 <code class="code">apple, orange</code> 值的记录。缺少的 CHAR 值将作为 NULL 值加载。</p>
                  </dd>
                
                  <dt id="copy-ignoreblanklines"><span class="term">IGNOREBLANKLINES </span></dt>
                  <dd>
                     <p>忽略数据文件中仅包含换行符的空行并且不尝试加载它们。</p>
                  </dd>
                
                  <dt id="copy-ignoreheader"><span class="term">IGNOREHEADER [ AS ] <em>number_rows</em> </span></dt>
                  <dd>
                     <p>将指定的 <em>number_rows</em> 视为文件标题并且不加载它们。使用 IGNOREHEADER 跳过并行加载的所有文件中的文件标题。</p>
                  </dd>
                
                  <dt id="copy-null-as"><span class="term">NULL AS '<em>null_string</em>'</span></dt>
                  <dd>
                     <p>加载将 <em>null_string</em> 匹配为 NULL 的字段，其中 <em>null_string</em> 可以是任何字符串。如果您的数据包含 null 终止符（也称为 NUL (UTF-8 0000) 或二进制零 (0x000)），则 COPY 会将其视为任何其他字符。例如，包含 '1' || NUL || '2' 的记录被复制为长度为 3 个字节的字符串。如果字段仅包含 NUL，您可使用 NULL AS 通过指定 <code class="code">'\0'</code> 或 <code class="code">'\000'</code> 来将 null 终止符替换为 NULL，例如，<code class="code">NULL AS '\0'</code> 或 <code class="code">NULL AS '\000'</code>。如果指定包含以 NUL 和 NULL AS 结尾的字符串的字段，则将在末尾处插入 NUL。请勿将“\n”（换行符）用于 <em>null_string</em> 值。Amazon Redshift 将保留“\n”以用作行分隔符。默认 <em>null_string</em> 为 <code class="code">'\N</code>'。</p>
                     <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注意</h6></div><div class="awsdocs-note-text"><p>如果您尝试将 null 加载到定义为 NOT NULL 的列中，则 COPY 命令将失败。</p></div></div>
                  </dd>
                
                  <dt id="copy-removequotes"><span class="term">REMOVEQUOTES </span></dt>
                  <dd>

                     <p>删除传入数据中的字符串周围的引号。将保留引号中的所有字符（包括分隔符）。如果字符串具有开始单引号或双引号但没有对应的结束引号，则 COPY 命令将无法加载相应行并返回错误。下表显示了包含引号的字符串和最终加载值的一些简单示例。</p>
                     <div class="table-container"><div class="table-contents"><table id="w319aac47b9c67c27c17b7c27b3b3"><thead>
                              <tr>
                                 <th>输入字符串 </th>
                                 <th>使用 REMOVEQUOTES 选项加载的值 </th>
                              </tr>
                           </thead>
                              <tr>
                                 <td tabindex="-1">"The delimiter is a pipe (|) character"</td>
                                 <td tabindex="-1">The delimiter is a pipe (|) character</td>
                              </tr>
                              <tr>
                                 <td tabindex="-1">'Black'</td>
                                 <td tabindex="-1">Black </td>
                              </tr>
                              <tr>
                                 <td tabindex="-1">"White"</td>
                                 <td tabindex="-1">White </td>
                              </tr>
                              <tr>
                                 <td tabindex="-1">Blue'</td>
                                 <td tabindex="-1">Blue'</td>
                              </tr>
                              <tr>
                                 <td tabindex="-1">'Blue </td>
                                 <td tabindex="-1"><em>Value not loaded: error condition</em> </td>
                              </tr>
                              <tr>
                                 <td tabindex="-1">"Blue </td>
                                 <td tabindex="-1"><em>Value not loaded: error condition</em> </td>
                              </tr>
                              <tr>
                                 <td tabindex="-1">' ' 'Black' ' '</td>
                                 <td tabindex="-1">' 'Black' '</td>
                              </tr>
                              <tr>
                                 <td tabindex="-1">' ' </td>
                                 <td tabindex="-1"><em>&lt;空格&gt;</em> </td>
                              </tr>
                           </table></div></div>

                  </dd>
                
                  <dt id="copy-roundec"><span class="term">ROUNDEC </span></dt>
                  <dd>
                     <p>当输入值的小数位数超出列的小数位数时，会将数值向上取整。默认情况下，COPY 将在必要时截断值以匹配列的小数位数。例如，如果将值 <code class="code">20.259</code> 加载到 DECIMAL(8,2) 列中，则 COPY 默认情况下会将此值截断为 <code class="code">20.25</code>。如果指定 ROUNDEC，则 COPY 会将值取整为 <code class="code">20.26</code>。INSERT 命令始终在必要时将值取整以匹配列的小数位数，因此包含 ROUNDEC 参数的 COPY 命令的行为方式与 INSERT 命令相同。</p>
                  </dd>
                
                  <dt id="copy-timeformat"><span class="term">TIMEFORMAT [AS] <span>{</span>'<em>timeformat_string</em>' | 'auto' | 'epochsecs' | 'epochmillisecs' }</span></dt>
                  <dd>
                     <p>指定时间格式。如果未指定 TIMEFORMAT，则默认格式为 <code class="code">YYYY-MM-DD HH:MI:SS</code>（对于 TIMESTAMP 列）或 <code class="code">YYYY-MM-DD HH:MI:SSOF</code>（对于 TIMESTAMPTZ 列），其中 <code class="code">OF</code> 是与协调世界时 (UTC) 的时差。您不能在 <em>timeformat_string</em> 中包括时区标识符。要加载格式与默认格式不同的 TIMESTAMPTZ 数据，请指定“自动”；有关更多信息，请参阅 <a href="./automatic-recognition.html">在 DATEFORMAT 和 TIMEFORMAT 中使用自动识别</a>。有关 <em>timeformat_string</em> 的更多信息，请参阅 <a href="./r_DATEFORMAT_and_TIMEFORMAT_strings.html"> DATEFORMAT 和 TIMEFORMAT 字符串</a>。</p>
                     <p>在使用 DATEFORMAT 和 TIMEFORMAT 字符串时，<code class="code">'auto'</code> 参数将识别一些不受支持的格式。如果 COPY 命令未识别日期或时间值的格式，或者日期和时间值使用不同的格式，请将 <code class="code">'auto'</code> 参数与 DATEFORMAT 或 TIMEFORMAT 参数结合使用。有关更多信息，请参阅<a href="./automatic-recognition.html">在 DATEFORMAT 和 TIMEFORMAT 中使用自动识别</a>。</p>
                     <p>如果源数据以纪元时间（自 1970 年 1 月 1 日 00:00:00 UTC 以来的秒数或微秒数）表示，请指定 <code class="code">'epochsecs'</code> 或 <code class="code">'epochmillisecs'</code>。</p>
                     <p><code class="code">'auto'</code>、<code class="code">'epochsecs'</code> 和 <code class="code">'epochmillisecs'</code> 关键字区分大小写。</p>
                     <p>AS 关键字是可选的。</p>
                  </dd>
                
                  <dt id="copy-trimblanks"><span class="term">TRIMBLANKS </span></dt>
                  <dd>
                     <p>删除 VARCHAR 字符串的尾部空格字符。此参数仅适用于具有 VARCHAR 数据类型的列。</p>
                  </dd>
                
                  <dt id="copy-truncatecolumns"><span class="term">TRUNCATECOLUMNS </span></dt>
                  <dd>
                     <p>将列中的数据截断为合适的字符数以符合列规范。仅适用于具有 VARCHAR 或 CHAR 数据类型的列以及大小为 4 MB 或以下的行。</p>
                  </dd>
               </dl></div><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="警告" /> <strong>Javascript 在您的浏览器中被禁用或不可用。</strong></p><p>要使用 Amazon Web Services 文档，必须启用 Javascript。请参阅浏览器的帮助页面以了解相关说明。</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">文档惯例</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./copy-parameters-file-compression.html">文件压缩参数</div><div id="next" class="next-link" accesskey="n" href="./copy-parameters-data-load.html"> 数据加载操作</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">此页面对您有帮助吗？- 是</div><div class="content"><p>感谢您对我们工作的肯定！</p><p>如果不耽误您的时间，请告诉我们做得好的地方，让我们做得更好。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="反馈" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/copy-parameters-data-conversion.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">此页面对您有帮助吗？- 否</div><div class="content"><p>感谢您告诉我们本页内容还需要完善。很抱歉让您失望了。</p><p>如果不耽误您的时间，请告诉我们如何改进文档。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="反馈" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/copy-parameters-data-conversion.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>