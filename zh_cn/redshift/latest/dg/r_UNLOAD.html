<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>UNLOAD - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_UNLOAD" /><meta name="default_state" content="r_UNLOAD" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_UNLOAD.html" /><meta name="description" content="将查询结果卸载到 Amazon Simple Storage Service (Amazon S3) 上的一个或多个文件中。" /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="数据库开发人员指南" /><meta name="abstract" content="使用 Amazon Redshift – 一种完全托管的企业 PB 级数据仓库服务 – 创建和管理数据仓库。" /><meta name="guide-locale" content="zh_cn" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_UNLOAD.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_UNLOAD.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_UNLOAD.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_UNLOAD.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_UNLOAD.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_UNLOAD.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_UNLOAD.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_UNLOAD.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_UNLOAD.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_UNLOAD.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_UNLOAD.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_UNLOAD.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_UNLOAD.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_UNLOAD.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_UNLOAD.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_UNLOAD.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_UNLOAD.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_UNLOAD.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_UNLOAD.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_UNLOAD.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_UNLOAD.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_UNLOAD.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="数据库开发人员指南" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="数据库开发人员指南" /><meta id="panorama-serviceConsolePage" value="UNLOAD" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>UNLOAD - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#r_UNLOAD" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_UNLOAD.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_UNLOAD.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_UNLOAD.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,集群,数据仓库,开发人员,示例数据,数据库,数据库开发人员,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "数据库开发人员指南",
        "item" : "https://docs.aws.amazon.com/zh_cn/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "SQL 参考",
        "item" : "https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "SQL 命令",
        "item" : "https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "UNLOAD",
        "item" : "https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/c_SQL_commands.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#r_UNLOAD" target="_blank" rel="noopener noreferrer" title="打开 PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">文档</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">数据库开发人员指南</a></div><div id="page-toc-src"><a href="#r_UNLOAD-permissions">所需的特权和权限</a><a href="#r_UNLOAD-synopsis">语法</a><a href="#unload-parameters">参数</a><a href="#unload-usage-notes">使用说明</a><a href="#r_UNLOAD-examples">示例</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="r_UNLOAD">UNLOAD</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>使用 Amazon S3 服务器端加密 (SSE-S3) 功能将查询结果卸载到 Amazon S3 上的一个或多个文本文件、JSON 或 Apache Parquet 文件中。您还可以指定利用 AWS Key Management Service 密钥进行服务器端加密 (SSE-KMS)，或利用客户管理的密钥进行客户端加密。</p><p>预设情况下，卸载文件的格式为管道符分隔 ( <code class="code">|</code> ) 的文本。</p><p>您可以通过设置 MAXFILESIZE 参数来管理 Amazon S3 上文件的大小，并可通过扩展对文件数进行管理。确保将 S3 IP 范围添加到您的允许列表中。要了解有关所需 S3 IP 范围的更多信息，请参阅<a href="https://docs.aws.amazon.com/redshift/latest/mgmt/security-network-isolation.html#network-isolation">网络隔离</a>。</p><p>现在，您可以将 Amazon Redshift 查询的结果卸载到 Apache Parquet 中的 Amazon S3 数据湖，Apache Parquet 是一种用于分析的高效开放列式存储格式。与文本格式相比，Parquet 格式的卸载速度提高了 2 倍，并且在 Amazon S3 中耗用的存储量减少了 6 倍。这使您能够以开放格式将在 Amazon S3 中完成的数据转换和数据扩充保存到 Amazon S3 数据湖中。然后，您可以使用 Redshift Spectrum 和其他 AWS 服务（例如 Amazon Athena、Amazon EMR 和 Amazon SageMaker）分析您的数据。</p><p>有关使用 UNLOAD 命令的更多信息和示例场景，请参阅<a href="./c_unloading_data.html">卸载数据</a>。</p>
         <h2 id="r_UNLOAD-permissions">所需的特权和权限</h2>
         <p>要成功执行 UNLOAD 命令，至少需要对数据库中的数据具有 SELECT 权限以及写入 Amazon S3 位置的权限。所需的权限与 COPY 命令类似。有关 COPY 命令权限的信息，请参阅<a href="./copy-usage_notes-access-permissions.html">访问其他 AWS 资源的权限</a>。</p>
       
         <h2 id="r_UNLOAD-synopsis">语法</h2>
         
         
         
         
         
         
         
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">UNLOAD ('<em>select-statement</em>')
TO '<em>s3://object-path/name-prefix</em>'
<em>authorization</em>
[ <em>option</em>, ...] 

where <em>authorization</em> is
IAM_ROLE <span>{</span> default | 'arn:aws:iam::<code class="replaceable">&lt;AWS 账户-id-1&gt;</code>:role/<code class="replaceable">&lt;role-name&gt;</code>[,arn:aws:iam::<code class="replaceable">&lt;AWS 账户-id-2&gt;</code>:role/<code class="replaceable">&lt;role-name&gt;</code>][,...]' }
            
where <em>option</em> is
| [ FORMAT [ AS ] ] CSV | PARQUET | JSON
| PARTITION BY ( <em>column_name</em> [, ... ] ) [ INCLUDE ]
| MANIFEST [ VERBOSE ]
| HEADER
| DELIMITER [ AS ] '<em>delimiter-char</em>'
| FIXEDWIDTH [ AS ] '<em>fixedwidth-spec</em>'
| ENCRYPTED [ AUTO ]
| BZIP2
| GZIP
| ZSTD
| ADDQUOTES
| NULL [ AS ] '<em>null-string</em>'
| ESCAPE
| ALLOWOVERWRITE
| CLEANPATH
| PARALLEL [ <span>{</span> ON | TRUE } | <span>{</span> OFF | FALSE } ]
| MAXFILESIZE [AS] <em>max-size</em> [ MB | GB ]
| ROWGROUPSIZE [AS] <em>size</em> [ MB | GB ]
| REGION [AS] '<em>aws-region</em>' }
| EXTENSION '<em>extension-name</em>'

</code></pre>
       
         <h2 id="unload-parameters">参数</h2>
         <div class="variablelist">
             
             
             
             
            
            
             
            
            
            
             
             
             
             
             
             
             
             
             
             
             
             
             
             
             
             
             
            
             
             
             
            
             
         <dl>
               <dt><span class="term">('<em>select-statement</em>') </span></dt>
               <dd>
                  <p>SELECT 查询。卸载查询的结果。大多数情况下，通过在查询中指定 ORDER BY 子句来按排序顺序卸载数据是值得的。这种方法可以节省重新加载数据时对数据进行排序所需的时间。</p>
                  <p>必须用单引号将查询括起来，如下所示：</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="">('select * from venue order by venueid')</code></pre>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注意</h6></div><div class="awsdocs-note-text"><p>如果查询包含引号（例如，用引号将文本值引起来），则将文本放在两组单引号之间—您还必须用单引号将查询引起来：</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">('select * from venue where venuestate=''NV''')</code></pre></div></div>
               </dd>
             
               <dt><span class="term">TO 's3://<em>object-path/name-prefix</em>'</span></dt>
               <dd>
                  <p>Amazon S3 上的位置的完整路径（包括桶名称），Amazon Redshift 会将输出文件对象（如果指定 MANIFEST，则包括清单文件）写入到该位置。对象名将带有 <em>name-prefix</em> 前缀。如果使用 <code class="code">PARTITION BY</code>，则会根据需要自动将正斜杠 (/) 添加到 <em>name-prefix</em> 值的末尾。为了增强安全性，UNLOAD 使用 HTTPS 连接来连接到 Amazon S3。默认情况下，UNLOAD 为每个切片写入一个或多个文件。UNLOAD 会将一个分片编号和一个分段编号附加到指定名称前缀，如下所示：</p>
                  <p><code class="code"><code class="replaceable">&lt;object-path&gt;</code>/<code class="replaceable">&lt;name-prefix&gt;</code><code class="replaceable">&lt;slice-number&gt;</code>_part_<code class="replaceable">&lt;part-number&gt;</code></code>. </p>
                  <p>如果指定了 MANIFEST，则会按以下格式写入清单文件：</p>
                  <p><code class="code"><code class="replaceable">&lt;object_path&gt;</code>/<code class="replaceable">&lt;name_prefix&gt;</code>manifest</code>. </p>
                  <p>如果将 PARALLEL 指定为 OFF，则按如下方式写入数据文件：</p>
                  <p><code class="code"><code class="replaceable">&lt;object_path&gt;</code>/<code class="replaceable">&lt;name_prefix&gt;</code><code class="replaceable">&lt;part-number&gt;</code></code>. </p>
                  <p>UNLOAD 会使用 Amazon S3 服务器端加密 (SSE) 自动创建加密文件，如果使用 MANIFEST，还将包括清单文件。COPY 命令在加载操作期间会自动读取服务器端加密文件。您可以使用 Amazon S3 控制台或 API 以透明方式从桶下载服务器端加密文件。有关更多信息，请参阅<a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/serv-side-encryption.html">使用服务器端加密保护数据</a>。</p>
                  <p>要使用 Amazon S3 客户端加密，请指定 ENCRYPTED 选项。</p>
                  <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>重要</h6></div><div class="awsdocs-note-text"><p>当 Amazon S3 桶与 Amazon Redshift 数据库不在同一个 AWS 区域时，需要 REGION。</p></div></div>
               </dd>
             
               <dt><span class="term"><em> 授权</em></span></dt>
               <dd>
                  <p>UNLOAD 命令需要向 Amazon S3 写入数据的授权。UNLOAD 命令的授权参数与 COPY 命令相同。有关更多信息，请参阅 COPY 命令语法参考中的 <a href="./copy-parameters-authorization.html">授权参数</a>。</p>
               </dd>
             
               <dt id="unload-iam"><span class="term">IAM_ROLE <span>{</span> default | ‘arn:aws:iam::<code class="replaceable">&lt;AWS 账户-id-1&gt;</code>:role/<code class="replaceable">&lt;role-name&gt;</code>'</span></dt>
               <dd>
                  <p>使用默认关键字让 Amazon Redshift 使用 IAM 角色，该角色设置为默认值并在 UNLOAD 命令运行时与集群关联。</p>
                  <p>使用 IAM 角色的 Amazon 资源名称 (ARN)，您的集群使用该角色进行身份验证和授权。如果您指定 IAM_ROLE，则无法使用 ACCESS_KEY_ID 和 SECRET_ACCESS_KEY、SESSION_TOKEN 或 CREDENTIALS。IAM_ROLE 可以链接起来。有关更多信息，请参阅《Amazon Redshift 管理指南》<em></em>中的<a href="https://docs.aws.amazon.com/redshift/latest/mgmt/authorizing-redshift-service.html#authorizing-redshift-service-chaining-roles">链接 IAM 角色</a>。</p>
               </dd>
             
               <dt id="unload-csv"><span class="term">[ FORMAT [AS] ] CSV | PARQUET | JSON</span></dt>
               <dd>
                  <p>用于指定卸载格式以覆盖默认格式的关键词。</p>
                  <p>使用 CSV 时，使用逗号 (,) 字符作为默认分隔符卸载到 CSV 格式的文本文件。如果某个字段包含分隔符、双引号、换行符或回车符，则卸载文件中的该字段会用双引号引起来。数据字段中的双引号由一个额外的双引号转义。当卸载零行时，Amazon Redshift 可能会写入空的 Amazon S3 对象。</p>
                  <p>使用 PARQUET 时，卸载到 Apache Parquet 1.0 版本格式的文件。默认情况下，每个行组都使用 SNAPPY 压缩进行压缩。有关 Apache Parquet 格式的更多信息，请参阅 <a href="https://parquet.apache.org/" rel="noopener noreferrer" target="_blank"><span>Parquet</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>。</p>
                  <p>当 JSON 卸载到 JSON 文件时，其中每行都包含一个 JSON 对象，表示查询结果中的完整记录。当查询结果包含 SUPER 列时，Amazon Redshift 支持编写嵌套 JSON。要创建有效的 JSON 对象，查询中每个列的名称必须唯一。在 JSON 文件中，布尔值将卸载为 <code class="code">t</code> 或 <code class="code">f</code>，并且 NULL 值卸载为 <code class="code">null</code>。当卸载零行时，Amazon Redshift 不写入 Amazon S3 对象。</p>
                  <p>关键字 FORMAT 和 AS 是可选的。不能将 CSV 与 FIXEDWITH 或 ADDQUOTES 一起使用。您不能将 PARQUET 与 DELIMITER、FIXEDWIDTH、ADDQUOTES、ESCAPE、NULL AS、HEADER、GZIP、BZIP2 或 ZSTD 一起使用。只有使用 AWS Key Management Service 密钥的服务器端加密 (SSE-KMS) 支持带有 ENCRYPTED 的 PARQUET。您不能将 JSON 与 DELIMITER、HEADER、FIXEDWIDTH、ADDQUOTES、ESCAPE 或 NULL AS 一起使用。</p>
               </dd>
             
               <dt id="unload-partitionby"><span class="term">PARTITION BY ( <em>column_name</em> [, ... ] ) [INCLUDE]</span></dt>
               <dd>
                  <p>指定卸载操作的分区键。UNLOAD 按照 Apache Hive 约定，根据分区键值自动将输出文件分区到分区文件夹中。例如，属于 2019 分区年和 9 月份的 Parquet 文件具有以下前缀：<code>s3://my_bucket_name/my_prefix/year=2019/month=September/000.parquet</code>。</p>
                  <p><em>column_name</em> 的值必须是正在卸载的查询结果中的列。</p>
                  <p>如果指定 PARTITION BY 与 INCLUDE 选项，则不会从卸载的文件中删除分区列。</p>

                  <p>Amazon Redshift 不支持 PARTITION BY 子句中的字符串文本。</p>


               </dd>
             
               <dt><span class="term">MANIFEST [ VERBOSE ]</span></dt>
               <dd>
                  <p>创建一个清单文件，其中明确列出由 UNLOAD 过程创建的数据文件的详细信息。清单是一个 JSON 格式的文本文件，其中列出写入到 Amazon S3 的每个文件的 URL。</p>
                  <p>如果使用 VERBOSE 选项指定 MANIFEST，则清单包含以下详细信息：</p>
                  <div class="itemizedlist">
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>列名和数据类型，对于 CHAR、VARCHAR 或 NUMERIC 数据类型，还包含每列的维度。对于 CHAR 和 VARCHAR 数据类型，维度是长度。对于 DECIMAL 或 NUMERIC 数据类型，维度是精度和小数位数。</p>
                     </li><li class="listitem">
                        <p>已卸载到每个文件的行计数。如果指定了 HEADER 选项，则行计数包括标题行。</p>
                     </li><li class="listitem">
                        <p>卸载的所有文件的总文件大小以及卸载到所有文件的总行数。如果指定了 HEADER 选项，则行计数包括标题行。</p>
                     </li><li class="listitem">
                        <p>作者。作者始终是“Amazon Redshift”。</p>
                     </li></ul></div>
                  <p>您只能在 MANIFEST 之后指定 VERBOSE。</p>
                  <p>清单文件将采用与卸载文件相同的 Amazon S3 路径前缀，按照 <code class="code">&lt;object_path_prefix&gt;manifest</code> 的格式写入。例如，如果 UNLOAD 指定 Amazon S3 路径前缀“<code class="code">s3://mybucket/venue_</code>”，则清单文件位置为“<code class="code">s3://mybucket/venue_manifest</code>”。</p>
               </dd>
             
               <dt><span class="term">HEADER</span></dt>
               <dd>
                  <p>在每个输出文件的顶部添加包含列名称的标题行。文本转换选项（如 CSV、DELIMITER、ADDQUOTES 和 ESCAPE）也适用于标题行。您不能将 HEADER 与 FIXEDWIDTH 一起使用。</p>
               </dd>
             
               <dt><span class="term">DELIMITER AS '<em>delimiter_character</em>'</span></dt>
               <dd>
                  <p>指定用于在输出文件中分隔字段的单个 ASCII 字符，如管道字符 (|)、逗号 (,) 或制表符 (\t)。文本文件的默认分隔符是竖线字符。CSV 文件的默认分隔符是逗号字符。AS 关键字是可选的。您不能将 DELIMITER 与 FIXEDWIDTH 一起使用。如果数据包含分隔符，您需要指定 ESCAPE 选项来转义分隔符，或者使用 ADDQUOTES 用双引号将数据括起来。或者，指定一个数据中不包含的分隔符。</p>
               </dd>
             
               <dt><span class="term">FIXEDWIDTH '<em>fixedwidth_spec</em>'</span></dt>
               <dd>
                  <p>将数据卸载到一个文件，其中每个列的宽度均为固定长度，而不是由分隔符隔开。<em>fixedwidth_spec</em> 是一个字符串，用于指定列数和列宽。AS 关键字是可选的。由于 FIXEDWIDTH 不会截断数据，因此 UNLOAD 语句中每个列的规格必须至少为该列最长条目的长度。<em>fixedwidth_spec</em> 的格式如下：</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">'<em>colID1:colWidth1,colID2:colWidth2, ...</em>'</code></pre>
                  <p>您不能将 FIXEDWIDTH 与 DELIMITER 或 HEADER 一起使用。</p>
               </dd>
             
               <dt id="unload-parameters-encrypted"><span class="term">ENCRYPTED [AUTO] (加密 [自动])</span></dt>
               <dd>
                  <p>指定 Amazon S3 上的输出文件的加密方法是 Amazon S3 服务器端加密还是客户端加密。如果指定了 MANIFEST，也会加密清单文件。有关更多信息，请参阅<a href="./t_unloading_encrypted_files.html">卸载加密的数据文件</a>。如果不指定 ENCRYPTED 参数，UNLOAD 会使用 AWS 托管的加密密钥进行 Amazon S3 服务器端加密 (SSE-S3)，自动创建加密文件。</p>
                  <p>对于 ENCRYPTED，您可能希望使用 AWS KMS 密钥进行服务器端加密 (SSE-KMS) 卸载到 Amazon S3。如果是这样，请使用 <a href="#unload-parameters-kms-key-id">KMS_KEY_ID</a> 参数提供密钥 ID。<a href="./copy-parameters-authorization.html#copy-credentials">CREDENTIALS</a> 参数不能与 KMS_KEY_ID 参数配合使用。如果使用 KMS_KEY_ID 对数据运行 UNLOAD 命令，则可以对同一数据执行 COPY 操作，而无需指定密钥。</p>
                  <p>要利用客户提供的对称密钥进行客户端加密来卸载到 Amazon S3，请通过以下两种方式之一提供密钥。要提供密钥，请使用 <a href="#unload-parameters-master-symmetric-key">MASTER_SYMMETRIC_KEY</a> 参数或 <code class="code">master_symmetric_key</code> 凭证字符串的 <a href="./copy-parameters-authorization.html#copy-credentials">CREDENTIALS</a> 部分。如果使用根对称密钥卸载数据，请确保在对加密数据执行 COPY 操作时提供相同的密钥。</p>
                  <p>UNLOAD 不支持使用客户提供的密钥（SSE-C）的 Amazon S3 服务器端加密。</p>
                  <p>如果使用 ENCRYPTED AUTO，则 UNLOAD 命令将提取目标 Amazon S3 桶属性上的默认 AWS KMS 加密密钥，并使用 AWS KMS 密钥加密写入 Amazon S3 的文件。如果桶没有默认的 AWS KMS 加密密钥，UNLOAD 会使用 AWS 托管的加密密钥进行 Amazon Redshift 服务器端加密 (SSE-S3) 以自动创建加密文件。您不能将此选项与 KMS_KEY_ID、MASTER_SYMMETRIC_KEY 或包含 master_symmetric_key 的 CREDENTIALS 一起使用。</p>
               </dd>
             
               <dt id="unload-parameters-kms-key-id"><span class="term">KMS_KEY_ID '<em>key-id</em>'</span></dt>
               <dd>
                  <p>指定用于在 Amazon S3 上加密数据文件的 AWS Key Management Service（AWS KMS）密钥的密钥 ID。有关更多信息，请参阅<a href="https://docs.aws.amazon.com/kms/latest/developerguide/overview.html">什么是 AWS Key Management Service？</a> 如果指定 KMS_KEY_ID，您还必须指定 <a href="#unload-parameters-encrypted">ENCRYPTED</a> 参数。如果指定 KMS_KEY_ID，则不能使用 CREDENTIALS 参数进行身份验证，而应使用 <a href="./copy-parameters-authorization.html#copy-iam-role">IAM_ROLE</a> 或 <a href="./copy-parameters-authorization.html#copy-access-key-id">ACCESS_KEY_ID and SECRET_ACCESS_KEY</a>。</p>

               </dd>
             
               <dt id="unload-parameters-master-symmetric-key"><span class="term">MASTER_SYMMETRIC_KEY '<em>root_key</em>'</span></dt>
               <dd>
                  <p>指定用于在 Amazon S3 上加密数据文件的根对称密钥。如果指定 MASTER_SYMMETRIC_KEY，您还必须指定 <a href="#unload-parameters-encrypted">ENCRYPTED</a> 参数。您不能将 MASTER_SYMMETRIC_KEY 与 CREDENTIALS 参数结合使用。有关更多信息，请参阅<a href="./c_loading-encrypted-files.html">从 Amazon S3 中加载加密的数据文件</a>。</p>
               </dd>
             
               <dt><span class="term">BZIP2 </span></dt>
               <dd>
                  <p>对于每个切片，将数据卸载到一个或多个 bzip2 压缩的文件。将为每个生成的文件附加 <code class="code">.bz2</code> 扩展名。</p>
               </dd>
             
               <dt><span class="term">GZIP </span></dt>
               <dd>
                  <p>对于每个切片，将数据卸载到一个或多个 gzip 压缩的文件。将为每个生成的文件附加 <code class="code">.gz</code> 扩展名。</p>
               </dd>
             
               <dt><span class="term">ZSTD </span></dt>
               <dd>
                  <p>对于每个切片，将数据卸载到一个或多个 Zstandard 压缩的文件。将为每个生成的文件附加 <code class="code">.zst</code> 扩展名。</p>
               </dd>
             
               <dt><span class="term">ADDQUOTES </span></dt>
               <dd>
                  <p>使用引号将每个卸载的数据字段括起来，以便 Amazon Redshift 能够自行卸载包含分隔符自身的数据值。例如，如果分隔符为逗号，则可以成功卸载并重新加载以下数据：</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class=""> "1","Hello, World" </code></pre>
                  <p>如果不添加引号，则将字符串 <code class="code">Hello, World</code> 解析为两个单独的字段。</p>
                  <p>某些输出格式不支持 ADDQUOTES。</p>
                  <p>在使用 ADDQUOTES 的情况下，如果重新加载数据，则必须在 COPY 中指定 REMOVEQUOTES。</p>
               </dd>
             
               <dt><span class="term">NULL AS '<em>null-string</em>'</span></dt>
               <dd>
                  <p>指定表示卸载文件中的 null 值的字符串。如果使用此选项，所有输出文件将包含指定字符串来替代在选定数据中找到的所有 null 值。如果未指定此选项，则 null 值将卸载为：</p>
                  <div class="itemizedlist">
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>零长度字符串（对于分隔的输出） </p>
                     </li><li class="listitem">
                        <p>空格字符串（对于固定宽度输出）</p>
                     </li></ul></div>
                  <p>如果为固定宽度的卸载指定 null 字符串，并且输出列的宽度小于 null 字符串的宽度，则将发生以下行为：</p>
                  <div class="itemizedlist">
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>使用空字段作为非字符列的输出 </p>
                     </li><li class="listitem">
                        <p>针对字符列报告错误 </p>
                     </li></ul></div>
                  <p>与用户定义的字符串表示 null 值的其他数据类型不同，Amazon Redshift 使用 JSON 格式导出 SUPER 数据列，并根据 JSON 格式将其表示为 null。因此，SUPER 数据列会忽略 UNLOAD 命令中使用的 NULL [AS] 选项。</p>
               </dd>
             
               <dt><span class="term">ESCAPE </span></dt>
               <dd>
                  <p>对于分隔的卸载文件中的 CHAR 和 VARCHAR 列，将在每次出现的以下字符之前放置一个转义字符 (<code class="code">\</code>)：</p>
                  <div class="itemizedlist">
                      
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>换行：<code class="code">\n</code></p>
                     </li><li class="listitem">
                        <p>回车：<code class="code">\r</code></p>
                     </li><li class="listitem">
                        <p>为卸载的数据指定的分隔符。</p>
                     </li><li class="listitem">
                        <p>转义字符：<code class="code">\</code></p>
                     </li><li class="listitem">
                        <p>引号字符：<code class="code">"</code> 或 <code class="code">'</code>（如果在 UNLOAD 命令中同时指定 ESCAPE 和 ADDQUOTES）。</p>
                     </li></ul></div>
                  <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>重要</h6></div><div class="awsdocs-note-text"><p>如果已将 COPY 与 ESCAPE 选项结合使用来加载数据，则还必须在 UNLOAD 命令中指定 ESCAPE 选项以生成反向输出文件。同样，如果您使用 ESCAPE 选项执行 UNLOAD 命令，则在您对相同数据执行 COPY 操作时将需要使用 ESCAPE 选项。</p></div></div>
               </dd>
             
               <dt id="allowoverwrite"><span class="term">ALLOWOVERWRITE </span></dt>
               <dd>
                  <p>默认情况下，如果 UNLOAD 找到可能会覆盖的文件，则该命令将失败。如果指定 ALLOWOVERWRITE，则 UNLOAD 将覆盖现有文件（包括清单文件）。</p>
               </dd>
             
               <dt id="cleanpath"><span class="term">CLEANPATH</span></dt>
               <dd>
                  <p>CLEANPATH 选项会删除位于 TO 子句中指定的 Amazon S3 路径中的现有文件，然后再将文件卸载到指定位置。</p>
                  <p>如果包含 PARTITION BY 子句，则只会从分区文件夹中删除现有文件，以接收 UNLOAD 操作生成的新文件。</p>
                  <p>您必须拥有 Amazon S3 桶的 <code class="code">s3:DeleteObject</code> 权限。有关更多信息，请参阅《Amazon Simple Storage Service 用户指南》<em></em>中的 Amazon S3 <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/access-policy-language-overview.html">中的策略和权限</a>。您使用 CLEANPATH 选项删除的文件将永久删除并且无法恢复。</p>
                  <p>如果您指定了 ALLOWOVERWRITE 选项，则无法指定 CLEANPATH 选项。</p>
               </dd>
             
               <dt id="unload-parallel"><span class="term">PARALLEL </span></dt>
               <dd>
                  <p>默认情况下，UNLOAD 根据集群中切片的数量将数据并行写入到多个文件。默认选项为 ON 或 TRUE。如果 PARALLEL 为 OFF 或 FALSE，UNLOAD 将按顺序写入到一个或多个数据文件，并完全根据 ORDER BY 子句（如果已使用）进行排序。数据文件的最大大小为 6.2 GB。例如，如果您卸载 13.4GB 数据，则 UNLOAD 将创建以下三个文件。</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="">s3://mybucket/key000    6.2 GB
s3://mybucket/key001    6.2 GB
s3://mybucket/key002    1.0 GB</code></pre>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注意</h6></div><div class="awsdocs-note-text"><p>UNLOAD 命令旨在使用并行处理。对于大多数情况，特别是文件将用于通过 COPY 命令加载表时，我们建议保留 PARALLEL 为启用状态。</p></div></div>
               </dd>
             
               <dt id="unload-maxfilesize"><span class="term">MAXFILESIZE [AS] 最大大小 [ MB | GB ] </span></dt>
               <dd>
                  <p>指定 UNLOAD 在 Amazon S3 中创建的文件的最大大小。可以指定 5 MB 到 6.2 GB 之间的十进制值。AS 关键字是可选的。默认单位为 MB。如果未指定 MAXFILESIZE，则默认最大文件大小为 6.2 GB。清单文件（如果使用）的大小不受 MAXFILESIZE 的影响。</p>
               </dd>
             
               <dt id="unload-rowgroupsize"><span class="term">ROWGROUPSIZE [AS] size [ MB | GB ] </span></dt>
               <dd>
                  <p>指定行组的大小。选择更大的容量可以减少行组的数量，从而减少网络通信量。指定介于 32MB 到 128MB 之间的整数值。AS 关键字是可选的。默认单位为 MB。</p>
                  <p>如果未指定 ROWGROUPSIZE，则默认大小为 32MB。要使用此参数，存储格式必须是 Parquet，节点类型必须是 ra3.4xlarge、ra3.16xlarge、ds2.8xlarge 或 dc2.8xlarge。</p>
               </dd>
             
               <dt id="unload-region"><span class="term">REGION [AS] '<em>aws-region</em>'</span></dt>
               <dd>
                  <p>指定目标 Amazon S3 桶所在的 AWS 区域。当 UNLOAD 的目标 Amazon S3 桶与 Amazon Redshift 数据库不在同一个 AWS 区域时，需要 REGION。</p>
                  <p><em>aws_region</em> 的值必须与《AWS 一般参考》<em></em>的 <a href="https://docs.aws.amazon.com/general/latest/gr/rande.html#redshift_region">Amazon Redshift 区域和端点</a>中列出的 AWS 区域匹配。</p>
                  <p>原定设置情况下，UNLOAD 假定目标 Amazon S3 桶位于 Amazon Redshift 数据库所在的 AWS 区域。</p>
               </dd>
             
               <dt id="unload-extension"><span class="term">EXTENSION ‘<em>extension-name</em>'</span></dt>
               <dd>
                  <p>指定要附加到卸载文件的名称后的文件扩展名。Amazon Redshift 不运行任何验证，因此您必须验证指定的文件扩展名是否正确。如果您使用的是 GZIP 等压缩方法，则仍然需要在扩展参数中指定 <code class="code">.gz</code>。如果您不提供任何扩展名，则 Amazon Redshift 不会向文件名添加任何内容。如果您指定压缩方法而不提供扩展名，则 Amazon Redshift 只会将压缩方法的扩展名添加到文件名。</p>
               </dd>
            </dl></div>
       
         <h2 id="unload-usage-notes">使用说明</h2>
          
            <h3 id="unload-usage-escape">将 ESCAPE 用于所有分隔的文本 UNLOAD 操作</h3>
            <p>在使用分隔符执行 UNLOAD 时，您的数据可能包含该分隔符或 ESCAPE 选项描述中列出的任意字符。在这种情况下，必须将 ESCAPE 选项与 UNLOAD 语句一起使用。如果不将 ESCAPE 选项与 UNLOAD 结合使用，则使用卸载的数据执行的后续 COPY 操作可能会失败。</p>
            <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>重要</h6></div><div class="awsdocs-note-text"><p>我们强烈建议您始终将 ESCAPE 与 UNLOAD 和 COPY 语句一起使用。例外情况是您确定您的数据不包含任何分隔符或可能需要转义的其他字符。</p></div></div>
          
          
            <h3 id="unload-usage-floating-point-precision">丢失浮点精度</h3>
            <p>您可能遇到连续卸载并重新加载的浮点数据的精度丢失的情况。</p>
          
          
            <h3 id="unload-usage-limit-clause">Limit 子句</h3>
            <p>SELECT 查询无法在外部 SELECT 中使用 LIMIT 子句。例如，以下 UNLOAD 语句将失败。</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">unload ('select * from venue limit 10')
to 's3://mybucket/venue_pipe_' iam_role 'arn:aws:iam::0123456789012:role/MyRedshiftRole'; </code></pre>
            <p>应改用嵌套的 LIMIT 子句，如下例所示。</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">unload ('select * from venue where venueid in
(select venueid from venue order by venueid desc limit 10)')
to 's3://mybucket/venue_pipe_' iam_role 'arn:aws:iam::0123456789012:role/MyRedshiftRole';</code></pre>
            <p>您也可以使用 LIMIT 子句通过 SELECT…INTO 或 CREATE TABLE AS 来填充表，然后从该表卸载。</p>
          
          
            <h3 id="unload-usage-geometry">卸载 GEOMETRY 数据类型的列</h3>
            <p>您只能将 GEOMETRY 列卸载为文本或 CSV 格式。无法使用 <code class="code">FIXEDWIDTH</code> 选项卸载 GEOMETRY 数据。以扩展的已知二进制 (EWKB) 格式的十六进制形式卸载数据。如果 EWKB 数据的大小大于 4 MB，则会出现警告，因为以后无法将数据加载到表中。</p>
          


          
            <h3 id="unload-usage-hll">卸载 HLLSKETCH 数据类型</h3>

            <p>您只能将 HLLSKETCH 列卸载为文本或 CSV 格式。无法使用 <code class="code">FIXEDWIDTH</code> 选项卸载 HLLSKETCH 数据。对于密集的 HyperLogLog 草图，数据将以 Base64 格式卸载，对于稀疏 HyperLogLog 草图，则以 JSON 格式卸载数据。有关更多信息，请参阅<a href="./hyperloglog-functions.html">HyperLogLog 函数</a>。</p>
            <p>以下示例将包含 HLLSKETCH 列的表导出到文件中。</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">CREATE TABLE a_table(an_int INT, b_int INT);
INSERT INTO a_table VALUES (1,1), (2,1), (3,1), (4,1), (1,2), (2,2), (3,2), (4,2), (5,2), (6,2);

CREATE TABLE hll_table (sketch HLLSKETCH);
INSERT INTO hll_table select hll_create_sketch(an_int) from a_table group by b_int;

UNLOAD ('select * from hll_table') TO 's3://mybucket/unload/'
IAM_ROLE 'arn:aws:iam::0123456789012:role/MyRedshiftRole' NULL AS 'null' ALLOWOVERWRITE CSV;</code></pre>
          

          
            
            <h3 id="unload-usage-varbyte">卸载 VARBYTE 数据类型的列</h3>
            <p>您只能将 VARBYTE 列卸载为文本或 CSV 格式。以十六进制形式卸载数据。无法使用 <code class="code">FIXEDWIDTH</code> 选项卸载 VARBYTE 数据。不支持 <code class="code">ADDQUOTES</code> 选项“卸载到 CSV”。VARBYTE 列不得为 PARTITIONED BY 列。</p>
          


          
            <h3 id="unload-parquet-usage">FORMAT AS PARQUET 子句</h3>
            <p>使用 FORMAT AS PARQUET 时，请注意以下注意事项：</p>
            <div class="itemizedlist">
                
                
                
                
            <ul class="itemizedlist"><li class="listitem">
                  <p>卸载到 Parquet 不使用文件级压缩。每个行组都使用 SNAPPY 进行压缩。</p>
               </li><li class="listitem">
                  <p>如果未指定 MAXFILESIZE，则默认最大文件大小为 6.2 GB。您可以使用 MAXFILESIZE 指定 5 MB–6.2 GB 的文件大小。写入文件时，实际文件大小是近似值，因此它可能不完全等于您指定的数字。</p>
                  <p>要最大限度地提高扫描性能，Amazon Redshift 尝试创建包含相同大小的 32 MB 行组的 Parquet 文件。您指定的 MAXFILESIZE 值会自动向下舍入为 32 MB 的最接近倍数。例如，如果您指定 MAXFILESIZE 200 MB，则卸载的每个 Parquet 文件大约为 192 MB（32 MB 行组 x 6 = 192 MB）。</p>
               </li><li class="listitem">
                  <p>如果列使用 TIMESTAMPTZ 数据格式，则只卸载时间戳值。未卸载时区信息。</p>
               </li><li class="listitem">
                  <p>不要指定以下划线 (_) 或句点 (.) 字符开头的文件名前缀。Redshift Spectrum 将以这些字符开头的文件视为隐藏文件并忽略它们。</p>
               </li></ul></div>
          
          
            <h3 id="unload-partitionby-usage">PARTITION BY 子句</h3>
            <p>使用 PARTITION BY 时，请注意以下注意事项：</p>
            <div class="itemizedlist">

                
                
                
                
                
                

            <ul class="itemizedlist"><li class="listitem">
                  <p>分区列不包含在输出文件中。</p>
               </li><li class="listitem">
                  <p>请确保在 UNLOAD 语句中使用的 SELECT 查询中包含分区列。您可以在 UNLOAD 命令中指定任意数量的分区列。但有一个限制，即至少应有一个非分区列作为文件的一部分。</p>
               </li><li class="listitem">
                  <p>如果分区键值为 null，Amazon Redshift 会自动将该数据卸载到名为 <code class="code">partition_column=__HIVE_DEFAULT_PARTITION__</code> 的默认分区中。</p>
               </li><li class="listitem">
                  <p>UNLOAD 命令不会对外部目录进行任何调用。要将新分区注册为现有外部表的一部分，请使用单独的 ALTER TABLE ... ADD PARTITION ... 命令。或者，您可以运行 CREATE EXTERNAL TABLE 命令将卸载的数据注册为新的外部表。也可以使用 AWS Glue 爬网程序填充您的 Data Catalog。有关更多信息，请参阅《AWS Glue 开发人员指南》<em></em>中的<a href="https://docs.aws.amazon.com/glue/latest/dg/add-crawler.html">定义爬网程序</a>。</p>
               </li><li class="listitem">
                  <p>如果使用 MANIFEST 选项，则 Amazon Redshift 在根 Amazon S3 文件夹中仅生成一个清单文件。</p>
               </li><li class="listitem">
                  <p>可以用作分区键的列数据类型为：SMALLINT、INTEGER、BIGINT、DECIMAL、REAL、BOOLEAN、CHAR、VARCHAR、DATE 和 TIMESTAMP。</p>
               </li></ul></div>
          
         

         


         

          
            <h3 id="unload-assumerole-privilege-usage">使用 ASSUMEROLE 权限授予对 UNLOAD 操作的 IAM 角色的访问权限</h3>

            <p>要为特定用户和组提供对 UNLOAD 操作的 IAM 角色的访问权限，超级用户可以向用户和组授予 IAM 角色的 ASSUMEROLE 权限。有关信息，请参阅  <a href="./r_GRANT.html">GRANT</a>。</p>

          

          
            <h3 id="unload-usage-s3-access-point-alias">UNLOAD 不支持 Amazon S3 接入点别名</h3>

            <p>不得将 Amazon S3 接入点别名与 UNLOAD 命令一起使用。</p>
          
         
       
            <h2 id="r_UNLOAD-examples">示例</h2>
            <p>有关如何使用 UNLOAD 命令的示例，请参阅 <a href="./r_UNLOAD_command_examples.html">UNLOAD 示例</a>。</p>
         <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="警告" /> <strong>Javascript 在您的浏览器中被禁用或不可用。</strong></p><p>要使用 Amazon Web Services 文档，必须启用 Javascript。请参阅浏览器的帮助页面以了解相关说明。</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">文档惯例</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_TRUNCATE.html">TRUNCATE</div><div id="next" class="next-link" accesskey="n" href="./r_UNLOAD_command_examples.html">UNLOAD 示例</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">此页面对您有帮助吗？- 是</div><div class="content"><p>感谢您对我们工作的肯定！</p><p>如果不耽误您的时间，请告诉我们做得好的地方，让我们做得更好。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="反馈" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_UNLOAD.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">此页面对您有帮助吗？- 否</div><div class="content"><p>感谢您告诉我们本页内容还需要完善。很抱歉让您失望了。</p><p>如果不耽误您的时间，请告诉我们如何改进文档。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="反馈" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_UNLOAD.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>