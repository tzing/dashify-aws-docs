<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>ALTER TABLE - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_ALTER_TABLE" /><meta name="default_state" content="r_ALTER_TABLE" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_ALTER_TABLE.html" /><meta name="description" content="更改 Amazon Redshift 表的定义。此命令更新 或 设置的值和属性。" /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="数据库开发人员指南" /><meta name="abstract" content="使用 Amazon Redshift – 一种完全托管的企业 PB 级数据仓库服务 – 创建和管理数据仓库。" /><meta name="guide-locale" content="zh_cn" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_ALTER_TABLE.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="数据库开发人员指南" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="数据库开发人员指南" /><meta id="panorama-serviceConsolePage" value="ALTER TABLE" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>ALTER TABLE - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#r_ALTER_TABLE" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_ALTER_TABLE.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_ALTER_TABLE.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_ALTER_TABLE.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,集群,数据仓库,开发人员,示例数据,数据库,数据库开发人员,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "数据库开发人员指南",
        "item" : "https://docs.aws.amazon.com/zh_cn/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "SQL 参考",
        "item" : "https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "SQL 命令",
        "item" : "https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "ALTER TABLE",
        "item" : "https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/c_SQL_commands.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#r_ALTER_TABLE" target="_blank" rel="noopener noreferrer" title="打开 PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">文档</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">数据库开发人员指南</a></div><div id="page-toc-src"><a href="#r_ALTER_TABLE-privileges">所需的权限</a><a href="#r_ALTER_TABLE-synopsis">语法</a><a href="#r_ALTER_TABLE-parameters">参数</a><a href="#r_ALTER_TABLE-examples">示例</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="r_ALTER_TABLE">ALTER TABLE</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>此命令更改 Amazon Redshift 表或 Amazon Redshift Spectrum 外部表的定义。此命令更新 <a href="./r_CREATE_TABLE_NEW.html">CREATE TABLE</a> 或 <a href="./r_CREATE_EXTERNAL_TABLE.html">CREATE EXTERNAL TABLE</a> 设置的值和属性。</p><p>您不能在以下事务块内的外部表上运行 ALTER TABLE (BEGIN ... END)。有关事务的更多信息，请参阅 <a href="./c_serial_isolation.html">可序列化的隔离</a>。</p><p>除非文档中明确规定可以在表更改时查询表或执行其他操作，否则 ALTER TABLE 会锁定表的读写操作，直到包含 ALTER TABLE 操作的事务完成。</p>
         <h2 id="r_ALTER_TABLE-privileges">所需的权限</h2>
         <p>修改表的用户需要适当的权限才能成功执行命令。根据具体的 ALTER TABLE 命令，需要以下权限之一。</p>
         <div class="itemizedlist">
             
             
             
         <ul class="itemizedlist"><li class="listitem"><p>Superuser</p></li><li class="listitem"><p>具有 ALTER TABLE 权限的用户</p></li><li class="listitem"><p>对模式拥有 USAGE 权限的表拥有者</p></li></ul></div>
       
         <h2 id="r_ALTER_TABLE-synopsis">语法</h2>
         





         <pre class="screen">ALTER TABLE <em>table_name</em>
<span>{</span>
ADD <em>table_constraint</em>
| DROP CONSTRAINT <em>constraint_name</em> [ RESTRICT | CASCADE ]
| OWNER TO <em>new_owner</em>
| RENAME TO <em>new_name</em>
| RENAME COLUMN <em>column_name</em> TO <em>new_name</em>
| ALTER COLUMN <em>column_name</em> TYPE <em>updated_varchar_data_type_size</em>
| ALTER COLUMN <em>column_name</em> ENCODE <em>new_encode_type</em>
| ALTER COLUMN <em>column_name</em> ENCODE <em>encode_type</em>,
| ALTER COLUMN <em>column_name</em> ENCODE <em>encode_type</em>, .....;
| ALTER DISTKEY <em>column_name</em>
| ALTER DISTSTYLE ALL
| ALTER DISTSTYLE EVEN
| ALTER DISTSTYLE KEY DISTKEY <em>column_name</em>
| ALTER DISTSTYLE AUTO
| ALTER [COMPOUND] SORTKEY ( <em>column_name</em> [,...] )
| ALTER SORTKEY AUTO
| ALTER SORTKEY NONE
| ALTER ENCODE AUTO
| ADD [ COLUMN ] <em>column_name column_type</em>
  [ DEFAULT <em>default_expr</em> ]
  [ ENCODE <em>encoding</em> ]
  [ NOT NULL | NULL ]
  [ COLLATE <span>{</span> CASE_SENSITIVE | CASE_INSENSITIVE } ] |
| DROP [ COLUMN ] <em>column_name</em> [ RESTRICT | CASCADE ] 
| ROW LEVEL SECURITY <span>{</span> ON | OFF } [ CONJUNCTION TYPE <span>{</span> AND | OR } ] [ FOR DATASHARES ]}

where <em>table_constraint</em> is:

[ CONSTRAINT <em>constraint_name</em> ]
<span>{</span> UNIQUE ( <em>column_name</em> [, ... ] )
| PRIMARY KEY ( <em>column_name</em> [, ... ] )
| FOREIGN KEY (<em>column_name</em> [, ... ] )
   REFERENCES  <em>reftable</em> [ ( <em>refcolumn</em> ) ]}

The following options apply only to external tables:

SET LOCATION <span>{</span> 's3://<em>bucket/folder</em>/' | 's3://<em>bucket/manifest_file</em>' }
| SET FILE FORMAT <em>format</em> |
| SET TABLE PROPERTIES ('<em>property_name</em>'='<em>property_value</em>')
| PARTITION ( partition_column=partition_value [, ...] )
  SET LOCATION <span>{</span> 's3://<em>bucket</em>/<em>folder</em>' |'s3://<em>bucket</em>/<em>manifest_file</em>' }
| ADD [IF NOT EXISTS]
    PARTITION ( partition_column=partition_value [, ...] ) LOCATION <span>{</span> 's3://<em>bucket</em>/<em>folder</em>' |'s3://<em>bucket</em>/<em>manifest_file</em>' }
    [, ... ]
| DROP PARTITION ( <em>partition_column</em>=<em>partition_value</em> [, ...] )  </pre>
         
         <p>要减少运行 ALTER TABLE 命令的时间，可以结合使用 ALTER TABLE 命令的一些子句。</p>
         <p>Amazon Redshift 支持以下 ALTER TABLE 子句组合：</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">ALTER TABLE <em>tablename</em> ALTER SORTKEY (<em>column_list</em>), ALTER DISTKEY <em>column_Id</em>;
ALTER TABLE <em>tablename</em> ALTER DISTKEY <em>column_Id</em>, ALTER SORTKEY (<em>column_list</em>);
ALTER TABLE <em>tablename</em> ALTER SORTKEY (<em>column_list</em>), ALTER DISTSTYLE ALL;
ALTER TABLE <em>tablename</em> ALTER DISTSTYLE ALL, ALTER SORTKEY (<em>column_list</em>);</code></pre>

              
         
         

         

            
         <h2 id="r_ALTER_TABLE-parameters">参数</h2>
         <div class="variablelist">
             
             
             
             
             
             
             
            
             
            
             
            
             
            
             
            
             
            
             


            
             


            
             

            
             
             
            
            
             

             
             
             
             
            
             
             
             
            
             
             
             
         <dl>
               <dt><span class="term"> <em>table_name</em> </span></dt>
               <dd>
                  <p>要修改的表的名称。只指定表的名称，或者通过格式 <em>schema_name.table_name</em> 使用特定 schema。外部表必须通过一个外部 schema 名称进行限定。如果您使用 ALTER TABLE 语句重命名视图或更改其拥有者，您还可以指定视图名称。表名称的最大长度为 127 个字节；更长的名称将被截断为 127 个字节。您可以使用 UTF-8 多字节字符，每个字符最多为四个字节。有关有效名称的更多信息，请参阅<a href="./r_names.html">名称和标识符</a>。</p>
               </dd>
             
               <dt><span class="term">ADD <em>table_constraint</em> </span></dt>
               <dd>
                  <p>用于将指定约束添加到表的子句。有关有效 <em>table_constraint</em> 值的描述，请参阅 <a href="./r_CREATE_TABLE_NEW.html">CREATE TABLE</a>。</p>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注意</h6></div><div class="awsdocs-note-text"><p>您不能将主键约束添加到可为空的列。如果列最初是使用 NOT NULL 约束创建的，您可以添加主键约束。</p></div></div>
               </dd>
             
               <dt><span class="term">DROP CONSTRAINT <em>constraint_name</em> </span></dt>
               <dd>
                  <p>用于从表中删除指定约束的子句。要删除约束，请指定约束名称而不是约束类型。要查看表约束名称，请运行以下查询。</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select constraint_name, constraint_type
from information_schema.table_constraints;</code></pre>
               </dd>
             
               <dt><span class="term">RESTRICT </span></dt>
               <dd>
                  <p>用于仅删除指定约束的子句。RESTRICT 是 DROP CONSTRAINT 的一个选项。RESTRICT 不能与 CASCADE 一起使用。</p>
               </dd>
             
               <dt><span class="term">CASCADE </span></dt>
               <dd>
                  <p>用于删除指定约束和依赖于该约束的任何内容的子句。CASCADE 是 DROP CONSTRAINT 的选项。CASCADE 不能与 RESTRICT 一起使用。</p>
               </dd>
             
               <dt><span class="term">OWNER TO <em>new_owner</em> </span></dt>
               <dd>
                  <p>用于将表（或视图）的所有者更改为 <em>new_owner</em> 值的子句。</p>
               </dd>
             
               <dt><span class="term">RENAME TO <em>new_name</em> </span></dt>
               <dd>
                  <p>用于将表（或视图）重命名为 <em>new_name</em> 中指定的值的子句。表名称的最大长度为 127 个字节；更长的名称将被截断为 127 个字节。</p>
                  <p>您不能将永久表重命名为以“#”开头的表。名称以“#”开头的表是临时表。</p>
                  <p>您无法重命名外部表。</p>
               </dd>
             
               <dt><span class="term">ALTER COLUMN <em>column_name</em> TYPE <em>updated_varchar_data_type_size</em> </span></dt>
               <dd>
                  
                  
                  
                  <p>这是一个更改定义为 VARCHAR 数据类型的列大小的子句。此子句仅支持修改 VARCHAR 数据类型的大小。请考虑以下限制：</p>
                  <div class="itemizedlist">
                      
                      
                      
                      
                      
                     
                  <ul class="itemizedlist"><li class="listitem">
                        <p>您无法修改具有 BYTEDICT、RUNLENGTH、TEXT255 或 TEXT32K 压缩编码的列。</p>
                     </li><li class="listitem">
                        <p>您无法将大小减少到小于现有数据的最大大小。</p>
                     </li><li class="listitem">
                        <p>您无法更改具有默认值的列。</p>
                     </li><li class="listitem">
                        <p>您无法更改具有 UNIQUE、PRIMARY KEY 或 FOREIGN KEY 的列。</p>
                     </li><li class="listitem">
                        <p>您不能更改以下事务块中的列：(BEGIN ... END)。有关事务的更多信息，请参阅 <a href="./c_serial_isolation.html">可序列化的隔离</a>。</p>
                     </li></ul></div>
                  
               </dd>
             
               <dt><span class="term">ALTER COLUMN <em>column_name</em> ENCODE <em>new_encode_type</em> </span></dt>
               <dd>

                  <p>更改列的压缩编码的子句。如果为列指定压缩编码，则表不再设置为 ENCODE AUTO。有关压缩编码的信息，请参阅<a href="./t_Compressing_data_on_disk.html">使用列压缩</a>。</p>
                  <p>在更改列的压缩编码时，表仍可供查询。</p>
                  <p>请考虑以下限制：</p>
                  <div class="itemizedlist">
                      
                      


                  <ul class="itemizedlist"><li class="listitem">
                        <p>您不能将列更改为与当前为该列定义的相同的编码。</p>
                     </li><li class="listitem">
                        <p>不能使用交错排序键更改表中列的编码。</p>
                     </li></ul></div>

               </dd>
             
               <dt><span class="term">ALTER COLUMN <em>column_name</em> ENCODE <em>encode_type</em>, ALTER COLUMN <em>column_name</em> ENCODE <em>encode_type</em>, .....;</span></dt>
               <dd>

                  <p>更改单个命令中多个列的压缩编码的子句。有关压缩编码的信息，请参阅<a href="./t_Compressing_data_on_disk.html">使用列压缩</a>。</p>
                  <p>在更改列的压缩编码时，表仍可供查询。</p>
                    <p> 请考虑以下限制：</p>
                  <div class="itemizedlist">
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem"><p>您不能在单个命令中多次将列更改为相同或不同的编码类型。</p></li><li class="listitem"><p>您不能将列更改为与当前为该列定义的相同的编码。</p></li><li class="listitem">
                        <p>不能使用交错排序键更改表中列的编码。</p>
                     </li></ul></div>
               </dd>
             
               <dt><span class="term">ALTER DISTSTYLE ALL</span></dt>
               <dd>
                  <p>用于将表的现有分配样式更改为 <code class="code">ALL</code> 的子句。请考虑以下事项：</p>
                  <div class="itemizedlist">
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>ALTER DISTSTYLE、ALTER SORTKEY 和 VACUUM 不能同时对同一个表运行。</p>
                        <div class="itemizedlist">
                            
                            
                        <ul class="itemizedlist"><li class="listitem">
                              <p>如果 VACUUM 当前正在运行，则运行 ALTER DISTSTYLE ALL 将返回错误。</p>
                           </li><li class="listitem">
                              <p>如果 ALTER DISTSTYLE ALL 正在运行，则不在表上启动后台 vacuum。</p>
                           </li></ul></div>
                     </li><li class="listitem">
                        <p>对于具有交错排序键和临时表的表，不支持 ALTER DISTSTYLE ALL 命令。</p>
                     </li><li class="listitem"><p>如果分配方式以前被定义为 AUTO，则表不再是自动表优化的候选项。</p></li></ul></div>
                  <p>有关 DISTSTYLE ALL 的更多信息，请参阅 <a href="./r_CREATE_TABLE_NEW.html">CREATE TABLE</a>。</p>
               </dd>
             
               <dt><span class="term">ALTER DISTSTYLE EVEN</span></dt>
               <dd>
                  
                  <p>用于将表的现有分配样式更改为 <code class="code">EVEN</code> 的子句。请考虑以下事项：</p>
                  <div class="itemizedlist">
                      
                      
                      

                  <ul class="itemizedlist"><li class="listitem">
                        <p>ALTER DISTSYTLE、ALTER SORTKEY 和 VACUUM 不能同时对同一个表运行。</p>
                        <div class="itemizedlist">
                            
                            
                        <ul class="itemizedlist"><li class="listitem">
                              <p>如果 VACUUM 当前正在运行，则运行 ALTER DISTSTYLE EVEN 将返回错误。</p>
                           </li><li class="listitem">
                              <p>如果 ALTER DISTSTYLE EVEN 正在运行，则不在表上启动后台 Vacuum。</p>
                           </li></ul></div>
                     </li><li class="listitem"><p>对于具有交错排序键和临时表的表，不支持 ALTER DISTSTYLE EVEN 命令。</p></li><li class="listitem"><p>如果分配方式以前被定义为 AUTO，则表不再是自动表优化的候选项。</p> </li></ul></div>


                  <p>有关 DISTSTYLE EVEN 的更多信息，请参阅 <a href="./r_CREATE_TABLE_NEW.html">CREATE TABLE</a>。</p>

               </dd>
             
               <dt><span class="term">ALTER DISTKEY <em>column_name</em> 或 ALTER DISTSTYLE KEY DISTKEY <em>column_name</em></span></dt>
               <dd>
                  <p>一个子句，可更改用作表的分配键的列。请考虑以下事项：</p>
                  <div class="itemizedlist">
                     
                      
                      
                     
                     
                      

                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>不能在同一个表上并发运行 VACUUM 和 ALTER DISTKEY。</p>
                        <div class="itemizedlist">
                            
                            
                            
                        <ul class="itemizedlist"><li class="listitem">
                              <p>如果 VACUUM 已经运行，则 ALTER DISTKEY 返回错误。</p>
                           </li><li class="listitem">
                              <p>如果 ALTER DISTKEY 正在运行，则不在表上启动后台 Vacuum。</p>
                           </li><li class="listitem">
                              <p>如果 ALTER DISTKEY 正在运行，则前台 vacuum 会返回错误。</p>
                           </li></ul></div>
                     </li><li class="listitem">
                        <p>您一次只能在一个表上运行一个 ALTER DISTKEY 命令。</p>
                     </li><li class="listitem">
                        <p>具有交错排序键的表不支持 ALTER DISTKEY 命令。</p>
                     </li><li class="listitem"><p>如果分配方式以前被定义为 AUTO，则表不再是自动表优化的候选项。</p> </li></ul></div>
                  
                  <p>指定 DISTSTYLE KEY 时，按 DISTKEY 列中的值分配数据。有关 DISTSTYLE 的更多信息，请参阅 <a href="./r_CREATE_TABLE_NEW.html">CREATE TABLE</a>。</p>
               </dd>
             
               <dt><span class="term">ALTER DISTSTYLE AUTO</span></dt>
               <dd>
                  <p>用于将表的现有分配方式更改为 AUTO 的子句。</p>

                  <p>将分配方式更改为 AUTO 时，表的分配模式设置为以下内容：</p>
                     
                    <div class="itemizedlist">
                        
                        
                        
                        
                        
                        
                    <ul class="itemizedlist"><li class="listitem"><p>带有 DISTSTYLE ALL 的小型表被转换为 AUTO(ALL)。</p></li><li class="listitem"><p>带有 DISTSTYLE EVEN 的小型表被转换为 AUTO(ALL)。</p></li><li class="listitem"><p>带有 DISTSTYLE KEY 的小型表被转换为 AUTO(ALL)。</p></li><li class="listitem"><p>带有 DISTSTYLE ALL 的大型表被转换为 AUTO(EVEN)。</p></li><li class="listitem"><p>带有 DISTSTYLE EVEN 的大型表被转换为 AUTO(EVEN)。</p></li><li class="listitem"><p>带有 DISTSTYLE KEY 的大型表被转换为 AUTO(KEY)，且 DISTKEY 被保留。在这种情况下，Amazon Redshift 不对表进行任何更改。</p></li></ul></div>

                  <p>如果 Amazon Redshift 确定新的分配方式或密钥将提高查询的性能，那么 Amazon Redshift 将来可能会更改您的表格的分配方式或键。例如，Amazon Redshift 可能会将 DISTYLE 为 AUTO(KEY) 的表转换为 AUTO(EVEN)，反之亦然。有关分发密钥被更改时行为的更多信息（包括数据重新分发和锁定），请参阅 <a href="https://docs.aws.amazon.com/redshift/latest/dg/advisor-recommendations.html#alter-diststyle-distkey-recommendation">Amazon Redshift Advisor 建议</a>。</p>

                  <p>有关 DISTSTYLE AUTO 的更多信息，请参阅<a href="./r_CREATE_TABLE_NEW.html">CREATE TABLE</a>。</p>


                  <p>要查看表的分配方式，请查询 SVV_TABLE_INFO 系统目录视图。有关更多信息，请参阅<a href="./r_SVV_TABLE_INFO.html">SVV_TABLE_INFO</a>。要查看 Amazon Redshift Advisor 对表的建议，请查询 SVV_ALTER_TABLE_RECOMMENDATIONS 系统目录视图。有关更多信息，请参阅<a href="./r_SVV_ALTER_TABLE_RECOMMENDATIONS.html">SVV_ALTER_TABLE_RECOMMENDATIONS</a>。要查看 Amazon Redshift 所采取的操作，请查询 SVL_AUTO_WORKER_ACTION 系统目录视图。有关更多信息，请参阅<a href="./r_SVL_AUTO_WORKER_ACTION.html">SVL_AUTO_WORKER_ACTION</a>。</p>

               </dd>
             
               <dt><span class="term">ALTER [COMPOUND] SORTKEY ( <em>column_name</em> [,...] )</span></dt>
               <dd>
                  <p>一个旨在更改或添加用于表的排序键的子句。</p>
                  <p>当您更改排序键时，新排序键或原始排序键中列的压缩编码可能会更改。如果没有为表显式定义编码，则 Amazon Redshift 按如下方式自动分配压缩编码：</p>
                  <div class="itemizedlist">
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>为定义为排序键的列分配 RAW 压缩。</p>
                     </li><li class="listitem">
                        <p>为定义为 BOOLEAN、REAL 或 DOUBLE PRECISION 数据类型的列分配 RAW 压缩。</p>
                     </li><li class="listitem">

                        <p>定义为 SMALLINT、INTEGER、BIGINT、DECIMAL、DATE、TIME、TIMETZT、IMESTAMP 或 TIMESTAMPTZ 的列分配了 AZ64 压缩。</p>

                     </li><li class="listitem">
                        <p>定义为 CHAR 或 VARCHAR 的列分配了 LZO 压缩。</p>
                     </li></ul></div>
                  <p>请考虑以下事项：</p>
                  <div class="itemizedlist">
                      
                     
                      
                     
                      
                     
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>最多可以为每个表的排序键定义 400 列。</p>
                     </li><li class="listitem">
                        <p>您可以将交错排序键更改为复合排序键或没有排序键。但是，您不能将复合排序键更改为交错排序键。</p>
                        
                     </li><li class="listitem"><p>如果排序键以前被定义为 AUTO，则表不再是自动表优化的候选项。</p> </li><li class="listitem">
                        <p>Amazon Redshift 建议对定义为排序键的列使用 RAW 编码（不压缩）。当您更改列以将其选择为排序键时，列的压缩将更改为 RAW 压缩（无压缩）。这将增加表所需的存储空间。表大小的增加程度取决于特定的表定义和表格内容。有关压缩的更多信息，请参阅<a href="./c_Compression_encodings.html">压缩编码</a> </p>
                     </li></ul></div>
                  <p>将数据加载到表中时，将按照排序键的顺序加载数据。更改排序键时，Amazon Redshift 对数据重新排序。有关 SORTKEY 的更多信息，请参阅 <a href="./r_CREATE_TABLE_NEW.html">CREATE TABLE</a>。</p>
               </dd>
             
               <dt><span class="term">ALTER SORTKEY AUTO</span></dt>
               <dd>
                  <p>一个可更改目标表的排序键或将其添加到 AUTO 的子句。</p>

                  <p>当您将排序键更改为 AUTO 时，Amazon Redshift 会保留表的现有排序键。</p>

                  


                  <p>如果 Amazon Redshift 确定新的排序键将提高查询的性能，那么 Amazon Redshift 将来可能会更改您的表的排序键。</p>

                  <p>有关 SORTKEY AUTO 的更多信息，请参阅<a href="./r_CREATE_TABLE_NEW.html">CREATE TABLE</a>。</p>

                     <p>要查看表的排序键，请查询 SVV_TABLE_INFO 系统目录视图。有关更多信息，请参阅<a href="./r_SVV_TABLE_INFO.html">SVV_TABLE_INFO</a>。要查看 Amazon Redshift Advisor 对表的建议，请查询 SVV_ALTER_TABLE_RECOMMENDATIONS 系统目录视图。有关更多信息，请参阅<a href="./r_SVV_ALTER_TABLE_RECOMMENDATIONS.html">SVV_ALTER_TABLE_RECOMMENDATIONS</a>。要查看 Amazon Redshift 所采取的操作，请查询 SVL_AUTO_WORKER_ACTION 系统目录视图。有关更多信息，请参阅<a href="./r_SVL_AUTO_WORKER_ACTION.html">SVL_AUTO_WORKER_ACTION</a>。</p>
               </dd>
             
               <dt><span class="term">ALTER SORTKEY NONE</span></dt>
               <dd>
                  <p>删除目标表的排序键的子句。</p>

                  <p>如果排序键以前被定义为 AUTO，则表不再是自动表优化的候选项。</p>
               </dd>
             
               <dt><span class="term">ALTER ENCODE AUTO</span></dt>
               <dd>
                  <p>将目标表列的编码类型更改为 AUTO 的子句。当您将编码更改为 AUTO 时，Amazon Redshift 会保留表中列的现有编码类型。然后，如果 Amazon Redshift 确定新的编码类型可以提高查询性能，则 Amazon Redshift 可以更改表列的编码类型。</p>
                  <p>如果您更改一个或多个列以指定编码，Amazon Redshift 将不再自动调整表中所有列的编码。这些列保留当前的编码设置。</p>
                  <p>以下操作不会影响表的 ENCODE AUTO 设置：</p>
                  <div class="itemizedlist">
                      
                      
                      
                      

                  <ul class="itemizedlist"><li class="listitem"><p>重命名表。</p></li><li class="listitem"><p>更改表的 DISTSTYLE 或 SORTKEY 设置。</p></li><li class="listitem"><p>使用 ENCODE 设置添加或删除列。</p></li><li class="listitem"><p>使用 COPY 命令的 COMPUPDATE 选项。有关更多信息，请参阅<a href="./copy-parameters-data-load.html"> 数据加载操作</a>。</p></li></ul></div>
                  <p>要查看表的编码，请查询 SVV_TABLE_INFO 系统目录视图。有关更多信息，请参阅<a href="./r_SVV_TABLE_INFO.html">SVV_TABLE_INFO</a>。</p>
            </dd>

             
               <dt><span class="term">RENAME COLUMN <em>column_name</em> TO <em>new_name</em> </span></dt>
               <dd>
                  <p>用于将列重命名为 <em>new_name</em> 中指定的值的子句。列名称的最大长度为 127 个字节；更长的名称将被截断为 127 个字节。有关有效名称的更多信息，请参阅<a href="./r_names.html">名称和标识符</a>。</p>
               </dd>
             
               <dt><span class="term">ADD [ COLUMN ] <em>column_name</em> </span></dt>
               <dd>
                  <p>用于将具有指定名称的列添加到表的子句。您在每个 ALTER TABLE 语句中只能修改一列。</p>
                  <p>您无法添加用作表的分配键 (DISTKEY) 或排序键 (SORTKEY) 的列。</p>
                  <p> 您不能使用 ALTER TABLE ADD COLUMN 命令修改以下表和列属性：</p>
                  <div class="itemizedlist">
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>UNIQUE</p>
                     </li><li class="listitem">
                        <p>PRIMARY KEY</p>
                     </li><li class="listitem">
                        <p>REFERENCES（外键）</p>
                     </li><li class="listitem">
                        <p>IDENTITY 或 GENERATED BY DEFAULT AS IDENTITY</p>
                     </li></ul></div>
                  <p>列名称的最大长度为 127 个字节；更长的名称将被截断为 127 个字节。可在单个表中定义的列的最大数目为 1,600。</p>
                  <p>在将列添加到外部表时，会应用以下限制：</p>
                  <div class="itemizedlist">
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>您无法向列约束为 DEFAULT、ENCODE、NOT NULL 或 NULL 的外部表中添加列。</p>
                     </li><li class="listitem">
                        <p>您无法向使用 AVRO 文件格式定义的外部表中添加列。</p>
                     </li><li class="listitem">
                        <p>如果启用 pseudocolumns，则可在单个表中定义的最大列数为 1,598。如果未启用 pseudocolumns，则可在单个表中定义的最大列数为 1600。</p>
                     </li></ul></div>
                  <p>有关更多信息，请参阅<a href="./r_CREATE_EXTERNAL_TABLE.html">CREATE EXTERNAL TABLE</a>。</p>
               </dd>
             
               <dt><span class="term"> <em>column_type</em> </span></dt>
               <dd>
                  <p>要添加的列的数据类型。对于 CHAR 和 VARCHAR 列，您可以使用 MAX 关键字而不是声明最大长度。MAX 将最大长度设置为 4096 字节（对于 CHAR）或 65535 字节（对于 VARCHAR）。GEOMETRY 对象的最大大小为 1048447 字节。</p>
                  <p>有关 Amazon Redshift 支持的数据类型的信息，请参阅<a href="./c_Supported_data_types.html">数据类型</a>。</p>
               </dd>
             
               <dt id="alter-table-default"><span class="term">DEFAULT <em>default_expr</em> </span></dt>
               <dd>
                  <p>用于为列分配默认数据值的子句。<em>default_expr</em> 的数据类型必须匹配列的数据类型。DEFAULT 值必须是无变量的表达式。不允许子查询、对当前表中其他列的交叉引用和用户定义的函数。</p>
                  <p><em>default_expr</em> 在未为列指定值的任何 INSERT 操作中使用。如果未指定默认值，则列的默认值为 null。</p>
                  <p>如果 COPY 操作在具有 DEFAULT 值和 NOT NULL 约束的列上遇到空字段，则 COPY 命令将插入 <em>default_expr</em> 值。</p>
                  <p>外部表不支持 DEFAULT。</p>
               </dd>
             
               <dt id="alter-table-encode"><span class="term">ENCODE <em>encoding</em> </span></dt>
               <dd>
                  <p>列的压缩编码。预设情况下，如果您没有为表中的任何列指定压缩编码，或者您为表指定了 ENCODE AUTO 选项，Amazon Redshift 会自动管理表中所有列的压缩编码。</p>
                  <p>如果您为表中的任何列指定压缩编码，或者您没有为表指定 ENCODE AUTO 选项，Amazon Redshift 会自动将压缩编码分配给您未指定压缩编码的列，如下所示：</p>
                  <div class="itemizedlist">
                      
                      
                      
                      
                      
                     
                  <ul class="itemizedlist"><li class="listitem">
                        <p>默认情况下，会为临时表中的所有列分配 RAW 压缩。</p>
                     </li><li class="listitem">
                        <p>为定义为排序键的列分配 RAW 压缩。</p>
                     </li><li class="listitem">
                        
                        <p>定义为 BOOLEAN、REAL、DOUBLE PRECISION、GEOMETRY 或 GEOGRAPHY 数据类型的列分配了 RAW 压缩。</p>
                     </li><li class="listitem">

                        <p>定义为 SMALLINT、INTEGER、BIGINT、DECIMAL、DATE、TIME、TIMETZT、IMESTAMP 或 TIMESTAMPTZ 的列分配了 AZ64 压缩。</p>

                     </li><li class="listitem">
                        <p>定义为 CHAR、VARCHAR 或 VARBYTE 的列分配了 LZO 压缩。</p>
                     </li></ul></div>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注意</h6></div><div class="awsdocs-note-text"><p>如果您不希望压缩某个列，请显式指定 RAW 编码。</p></div></div>
                  <p>支持以下<a href="./c_Compression_encodings.html#compression-encoding-list">compression encodings</a>：</p>
                  <div class="itemizedlist">
                     
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>AZ64</p>
                     </li><li class="listitem">
                        <p>BYTEDICT</p>
                     </li><li class="listitem">
                        <p>DELTA</p>
                     </li><li class="listitem">
                        <p>DELTA32K</p>
                     </li><li class="listitem">
                        <p>LZO</p>
                     </li><li class="listitem">
                        <p>MOSTLY8</p>
                     </li><li class="listitem">
                        <p>MOSTLY16</p>
                     </li><li class="listitem">
                        <p>MOSTLY32</p>
                     </li><li class="listitem">
                        <p>RAW（无压缩）</p>
                     </li><li class="listitem">
                        <p>RUNLENGTH</p>
                     </li><li class="listitem">
                        <p>TEXT255</p>
                     </li><li class="listitem">
                        <p>TEXT32K</p>
                     </li><li class="listitem">
                        <p>ZSTD</p>
                     </li></ul></div>
                  <p>外部表不支持 ENCODE。</p>
               </dd>
             
               <dt><span class="term">NOT NULL | NULL </span></dt>
               <dd>
                  <p>NOT NULL 指定列中不允许包含 null 值。NULL（默认值）指定列接受 null 值。</p>
                  <p>外部表不支持 NOT NULL 和 NULL。</p>
               </dd>
             
               <dt><span class="term">COLLATE <span>{</span> CASE_SENSITIVE | CASE_INSENSITIVE }</span></dt>
               <dd>
                  <p>指定列中的字符串搜索或比较是 CASE_SENSITIVE 还是 CASE_INSENSITIVE 的子句。默认值与数据库的当前区分大小写的配置相同。</p>
                  
                  <p>要查找数据库排序规则信息，请使用以下命令：</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="复制"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">SELECT db_collation();
                     
<code class="computeroutput" copy="false">db_collation
----------------
 case_sensitive
(1 row)</code></code></pre>
               </dd>
             
               <dt><span class="term">DROP [ COLUMN ] <em>column_name</em> </span></dt>
               <dd>
                  <p>要从表中删除的列的名称。</p>
                  <p>您无法删除表中的最后一列。表必须有至少一列。</p>
                  <p>您无法删除用作表的分配键 (DISTKEY) 或排序键 (SORTKEY) 的列。如果列具有任何从属对象，例如视图、主键、外键或 UNIQUE 限制，则 DROP COLUMN 的默认行为是 RESTRICT。</p>
                  <p>对外部表中的列执行 DROP 时，会应用以下限制：</p>
                  <div class="itemizedlist">
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>如果列用作分区，则您无法哦那个外部表中删除列。</p>
                     </li><li class="listitem">
                        <p>您无法从使用 AVRO 文件格式定义的外部表中删除列。</p>
                     </li><li class="listitem">
                        <p>对于外部表，将会忽略 RESTRICT 和 CASCADE。</p>
                     </li><li class="listitem"><p>除非删除或分离策略，否则您无法删除策略定义中引用的策略表中的列。在指定 CASCADE 选项时，这也将适用。您可以删除策略表中的其他列。</p></li></ul></div>

                  <p>有关更多信息，请参阅<a href="./r_CREATE_EXTERNAL_TABLE.html">CREATE EXTERNAL TABLE</a>。</p>


               </dd>
             
               <dt><span class="term">RESTRICT </span></dt>
               <dd>
                  <p>在下面这些情况下，与 DROP COLUMN 一起使用时，RESTRICT 表示不删除要删除的列：</p>
                  <div class="itemizedlist">
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>定义的视图引用了要删除的列</p>
                     </li><li class="listitem">
                        <p>外键引用了该列</p>
                     </li><li class="listitem">
                        <p>该列参与了多部分键</p>
                     </li></ul></div>
                  <p>RESTRICT 不能与 CASCADE 一起使用。</p>
                  <p>对于外部表，将会忽略 RESTRICT 和 CASCADE。</p>
               </dd>
             
               <dt><span class="term">CASCADE </span></dt>
               <dd>
                  <p>在与 DROP COLUMN 配合使用时，删除指定的列以及依赖该列的任何内容。CASCADE 不能与 RESTRICT 一起使用。</p>
                  <p>对于外部表，将会忽略 RESTRICT 和 CASCADE。</p>
               </dd>
            </dl></div>
         <p>以下选项仅适用于外部表。</p>
         <div class="variablelist">
             
             
             
             
             
             

             




            

            



         <dl>
               <dt><span class="term">SET LOCATION <span>{</span> 's3://<em>bucket/folder</em>/' | 's3://<em>bucket/manifest_file</em>' }</span></dt>
               <dd>
                  <p>包含数据文件的 Amazon S3 文件夹的路径或包含 Amazon S3 对象路径列表的清单文件。桶必须与 Amazon Redshift 集群位于同一 AWS 区域。有关受支持的 AWS 区域的列表，请参阅<a href="./c-using-spectrum.html#c-spectrum-considerations">Amazon Redshift Spectrum 注意事项</a>。有关使用清单文件的更多信息，请参阅 CREATE EXTERNAL TABLE <a href="./r_CREATE_EXTERNAL_TABLE.html#r_CREATE_EXTERNAL_TABLE-parameters">参数</a> 参考中的 LOCATION。</p>
               </dd>
             
               <dt><span class="term">SET FILE FORMAT <em>format</em></span></dt>
               <dd>
                  <p>外部数据文件的文件格式。</p>
                  <p>有效格式如下所示：</p>
                  <div class="itemizedlist">
                      
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>AVRO </p>
                     </li><li class="listitem">
                        <p>PARQUET</p>
                     </li><li class="listitem">
                        <p>RCFILE</p>
                     </li><li class="listitem">
                        <p>SEQUENCEFILE</p>
                     </li><li class="listitem">
                        <p>TEXTFILE </p>
                     </li></ul></div>
               </dd>
             
               <dt><span class="term">SET TABLE PROPERTIES ( '<em>property_name</em>'='<em>property_value</em>') </span></dt>
               <dd>
                  <p>一个子句，用于设置外部表的表属性的表定义。</p>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注意</h6></div><div class="awsdocs-note-text"><p>表属性区分大小写。</p></div></div>
                  <div class="variablelist">
                      
                      
                  <dl>
                        <dt><span class="term">'numRows'='<em>row_count</em>'</span></dt>
                        <dd>
                           <p>用于为表定义设置 numRows 值的属性。若要显式更新外部表的统计数据，请设置 numRows 属性来指示表的大小。Amazon Redshift 不分析外部表来生成表统计数据，查询优化程序会使用这些统计数据来生成查询计划。如果没有为外部表设置表统计数据，则 Amazon Redshift 会生成查询执行计划。此计划是基于“外部表较大，本地表较小”的假设生成的。</p>
                        </dd>
                      
                        <dt><span class="term">'skip.header.line.count'='<em>line_count</em>'</span></dt>
                        <dd>
                           <p>用于设置在每个源文件开头要跳过的行数的属性。</p>
                        </dd>
                     </dl></div>
               </dd>
             
               <dt><span class="term">PARTITION ( <em>partition_column</em>=<em>partition_value</em> [, ...] SET LOCATION <span>{</span> 's3://<em>bucket</em>/<em>folder</em>' | 's3://<em>bucket</em>/<em>manifest_file</em>' }</span></dt>
               <dd>
                  <p>用于为一个或多个分区列设置新位置的子句。</p>
               </dd>
             
               <dt><span class="term">ADD [ IF NOT EXISTS ] PARTITION ( <em>partition_column</em>=<em>partition_value</em> [, ...] ) LOCATION <span>{</span> 's3://<em>bucket</em>/<em>folder</em>' | 's3://<em>bucket</em>/<em>manifest_file</em>' } [, ... ]</span></dt>
               <dd>
                  <p>用于添加一个或多个分区的子句。您可以使用单个 ALTER TABLE … ADD 语句指定多个 PARTITION 子句。</p>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注意</h6></div><div class="awsdocs-note-text"><p>如果使用 AWS Glue 目录，则可以使用单个 ALTER TABLE 语句最多添加 100 个分区。</p></div></div>
                  <p>IF NOT EXISTS 子句指示，如果指定的分区已存在，命令应不进行任何更改。它还指示该命令应返回分区存在的消息，而不是以错误终止。此子句在编写脚本时很有用，可使脚本在 ALTER TABLE 尝试添加已存在的分区时不会失败。</p>
               </dd>
             
               <dt><span class="term">DROP PARTITION (<em>partition_column</em>=<em>partition_value</em> [, ...] ) </span></dt>
               <dd>
                  <p>用于删除指定分区的子句。删除分区只会更改外部表元数据。Amazon S3 上的数据不受影响。</p>
               </dd>
             
               <dt><span class="term">ROW LEVEL SECURITY <span>{</span> ON | OFF } [ CONJUNCTION TYPE <span>{</span> AND | OR } ] [ FOR DATASHARES ]</span></dt>
                     <dd><p>一个对关系开启或关闭行级安全性的子句。</p>
                        <p>在为关系开启行级安全性后，您只能读取行级安全策略允许您访问的行。如果没有策略向您授予对关系的访问权限，您将看不到关系中的任何行。只有超级用户和拥有 <code class="code">sys:secadmin</code> 角色的用户或角色才能设置 ROW LEVEL SECURITY 子句。有关更多信息，请参阅<a href="./t_rls.html">行级别安全性</a>。</p>
                  <div class="itemizedlist">
                      
                      
                  <ul class="itemizedlist"><li class="listitem"><p>[ CONJUNCTION TYPE <span>{</span> AND | OR } ] </p>
                        <p>一个允许您为关系选择行级安全策略的联接类型的子句。将多个行级安全策略附加到关系时，可以将这些策略与 AND 或 OR 子句合并。默认情况下，Amazon Redshift 将 RLS 策略与 AND 子句合并。具有 <code class="code">sys:secadmin</code> 角色的超级用户、用户或角色可以使用此子句为关系定义行级安全策略的联接类型。有关更多信息，请参阅<a href="./t_rls_combine_policies.html">为每个用户组合多个策略</a>。</p></li><li class="listitem"><p>FOR DATASHARES</p>
                        <p>一个子句，用于确定是否可以通过数据共享访问受 RLS 保护的关系。默认情况下，无法通过数据共享访问受 RLS 保护的关系。使用此子句运行的 ALTER TABLE ROW LEVEL SECURITY 命令只会影响关系的数据共享可访问性属性。ROW LEVEL SECURITY 属性未更改。</p>
                        <p> 如果您允许通过数据共享访问受 RLS 保护的关系，则该关系在使用者端数据共享数据库中没有行级安全性。该关系在生产者端保留其 RLS 属性。</p>
                     </li></ul></div>
               </dd>
            </dl></div>
       
            <h2 id="r_ALTER_TABLE-examples">示例</h2>
            <p>有关说明 ALTER TABLE 命令用法的示例，请参阅以下内容。</p>
               <div class="itemizedlist">
                   
                   
                   
               <ul class="itemizedlist"><li class="listitem"><p><a href="./r_ALTER_TABLE_examples_basic.html">ALTER TABLE 示例</a></p></li><li class="listitem"><p><a href="./r_ALTER_TABLE_external-table.html">ALTER EXTERNAL TABLE 示例</a></p></li><li class="listitem"><p><a href="./r_ALTER_TABLE_COL_ex-add-drop.html">ALTER TABLE ADD 和 DROP COLUMN 示例</a></p></li></ul></div>       
         <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="警告" /> <strong>Javascript 在您的浏览器中被禁用或不可用。</strong></p><p>要使用 Amazon Web Services 文档，必须启用 Javascript。请参阅浏览器的帮助页面以了解相关说明。</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">文档惯例</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_ALTER_SYSTEM.html">ALTER SYSTEM</div><div id="next" class="next-link" accesskey="n" href="./r_ALTER_TABLE_examples_basic.html">ALTER TABLE 示例</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">此页面对您有帮助吗？- 是</div><div class="content"><p>感谢您对我们工作的肯定！</p><p>如果不耽误您的时间，请告诉我们做得好的地方，让我们做得更好。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="反馈" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_ALTER_TABLE.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">此页面对您有帮助吗？- 否</div><div class="content"><p>感谢您告诉我们本页内容还需要完善。很抱歉让您失望了。</p><p>如果不耽误您的时间，请告诉我们如何改进文档。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="反馈" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_ALTER_TABLE.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>