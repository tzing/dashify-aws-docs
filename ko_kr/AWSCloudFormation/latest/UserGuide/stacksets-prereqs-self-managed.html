<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="ko-KR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>자체 관리형 권한 부여 - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="stacksets-prereqs-self-managed" /><meta name="default_state" content="stacksets-prereqs-self-managed" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/stacksets-prereqs-self-managed.html" /><meta name="description" content="자체 관리형 권한을 사용하면 StackSets가 계정 및 AWS 리전 전체에 배포하는 데 필요한 AWS Identity and Access Management(IAM) 역할을 생성할 수 있습니다. 이러한 역할은 스택 세트를 관리하는 계정과 스택 인스턴스를 배포하는 계정 간에 신뢰 관계를 설정하는 데 필요합니다. 이 권한 모델을 사용하여 StackSets에서는 IAM 역할을 생성할 수 있는 권한이 있는 모든 AWS 계정에 배포할 수 있습니다." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="사용자 가이드" /><meta name="abstract" content="이 사용 설명서와 AWS CloudFormation을 사용하여 AWS 인프라 배포를 예상한 대로 반복해서 생성 및 관리합니다." /><meta name="guide-locale" content="ko_kr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/stacksets-prereqs-self-managed.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/stacksets-prereqs-self-managed.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/stacksets-prereqs-self-managed.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/stacksets-prereqs-self-managed.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/stacksets-prereqs-self-managed.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stacksets-prereqs-self-managed.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stacksets-prereqs-self-managed.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/stacksets-prereqs-self-managed.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/stacksets-prereqs-self-managed.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/stacksets-prereqs-self-managed.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/stacksets-prereqs-self-managed.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/stacksets-prereqs-self-managed.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/stacksets-prereqs-self-managed.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/stacksets-prereqs-self-managed.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/stacksets-prereqs-self-managed.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/stacksets-prereqs-self-managed.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/stacksets-prereqs-self-managed.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/stacksets-prereqs-self-managed.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/stacksets-prereqs-self-managed.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/stacksets-prereqs-self-managed.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/stacksets-prereqs-self-managed.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stacksets-prereqs-self-managed.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="사용자 가이드" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="사용자 가이드" /><meta id="panorama-serviceConsolePage" value="자체 관리형 권한 부여" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>자체 관리형 권한 부여 - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/stacksets-prereqs-self-managed.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/stacksets-prereqs-self-managed.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/stacksets-prereqs-self-managed.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,리소스 프로비저닝,리소스 구성,인프라 관리,CloudFormer,CloudFormation 스택,CloudFormation stackset,CloudFormation 템플릿,변경 세트" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "사용자 가이드",
        "item" : "https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "AWS CloudFormation StackSets 작업",
        "item" : "https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/what-is-cfnstacksets.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "스택 세트 작업을 위한 사전 조건",
        "item" : "https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/stacksets-prereqs.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "자체 관리형 권한 부여",
        "item" : "https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/stacksets-prereqs.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">aws-documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">사용자 가이드</a></div><div id="page-toc-src"><a href="#prereqs-self-managed-permissions">자체 관리형 권한</a><a href="#stacksets-prereqs-accountsetup">스택 세트 작업에 대한 기본 권한 설정</a><a href="#stacksets-prereqs-advanced-perms">스택 세트 작업에 대한 고급 권한 옵션 설정</a><a href="#confused-deputy-mitigation">혼동된 대리자 방지</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="stacksets-prereqs-self-managed">자체 관리형 권한 부여</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>자체 관리형 권한을 사용하면 StackSets가 계정 및 AWS 리전 전체에 배포하는 데 필요한 AWS Identity and Access Management(IAM) 역할을 생성할 수 있습니다. 이러한 역할은 스택 세트를 관리하는 계정과 스택 인스턴스를 배포하는 계정 간에 신뢰 관계를 설정하는 데 필요합니다. 이 권한 모델을 사용하여 StackSets에서는 IAM 역할을 생성할 수 있는 권한이 있는 모든 AWS 계정에 배포할 수 있습니다.</p><div class="highlights" id="inline-topiclist"><h6>주제</h6><ul><li><a href="#prereqs-self-managed-permissions">자체 관리형 권한</a></li><li><a href="#stacksets-prereqs-accountsetup">스택 세트 작업에 대한 기본 권한 설정</a></li><li><a href="#stacksets-prereqs-advanced-perms">스택 세트 작업에 대한 고급 권한 옵션 설정</a></li><li><a href="#confused-deputy-mitigation">혼란스러운 대리자 문제를 완화하기 위해 전역 키 설정</a></li></ul></div>
            <h2 id="prereqs-self-managed-permissions">자체 관리형 권한</h2>
            <p><b>서비스 관리형</b> 스택 세트를 생성하는 데 필요한 권한을 설정하려면 <a href="./stacksets-orgs-activate-trusted-access.html">AWS Organizations를 사용하여 신뢰할 수 있는 액세스 활성화</a>를 참조하세요.</p>
            <p><b>자체 관리형</b> 권한으로 스택 세트를 만들기 전에 각 계정에 IAM 역할을 만들어 관리자와 대상 계정 간에 신뢰 관계를 수립해야 합니다.</p>
            <div class="orderedlist">
                 
                 
                 
            <ol><li>
                    <p>어느 AWS 계정이 <em>관리자 계정</em>인지 결정합니다.</p>
                    <p>이 관리자 계정에 스택 세트가 생성됩니다. <em>대상 계정</em>은 스택 세트에 속하는 개별 스택이 생성되는 계정입니다.</p>
                </li><li>
                    <p>스택 세트에 대한 권한 구조를 결정합니다.</p>
                    <p>가장 단순한 (그리고 가장 허용적인) 권한 구성은 관리자 계정의 <em>모든</em> 사용자 및 그룹에게 해당 계정을 통해 관리하는 <em>모든</em> 스택 세트를 생성하고 업데이트하는 기능을 제공하는 것입니다. 더욱 세분화된 제어가 필요한 경우 다음을 지정할 권한을 설정할 수 있습니다.</p>
                    <div class="itemizedlist">
                         
                         
                         
                    <ul class="itemizedlist"><li class="listitem">
                            <p>대상 계정의 스택 세트 작업을 수행할 수 있는 사용자 및 그룹.</p>
                        </li><li class="listitem">
                            <p>스택 세트에 포함될 수 있는 리소스 사용자 및 그룹.</p>
                        </li><li class="listitem">
                            <p>특정 사용자 및 그룹에서 수행할 수 있는 스택 세트 작업.</p>
                        </li></ul></div>
                </li><li>
                    <p>관리자 및 대상 계정에 필요한 IAM 서비스 역할을 생성하여 원하는 권한을 정의합니다.</p>
                </li></ol></div>
         
            <h2 id="stacksets-prereqs-accountsetup">스택 세트 작업에 대한 기본 권한 설정</h2>
            <p>가장 단순한 (그리고 가장 허용적인) 권한 구성은 관리자 계정의 <em>모든</em> 사용자 및 그룹에게 해당 계정을 통해 관리하는 <em>모든</em> 스택 세트를 생성하고 업데이트하는 기능을 제공하는 것입니다. 이렇게 하려면 관리자 및 모든 대상 계정에 대한 IAM 서비스 역할을 생성합니다. 관리자 계정에 대한 권한을 가진 누구나 모든 대상 계정의 스택을 생성, 업데이트 또는 삭제할 권한을 갖습니다.</p>
            <p>관리자 계정 및 대상 계정에는 계정 간의 신뢰 관계를 생성하고, 대상 계정에 템플릿에 설명된 리소스를 생성 및 관리할 수 있는 권한을 부여하는 서비스 역할이 구성되어 있어야 합니다.</p>
            <p>이런 방식으로 권한 구조가 이루어진 경우에는 사용자가 스택 세트를 생성 또는 업데이트할 때 관리자 역할을 전달하지 않습니다.</p>
            <div class="mediaobject">
                 
                    <img src="images/stacksets_perms_master_target.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;                    관리자 계정과 대상 계정 간의 신뢰 관계를 설정합니다. 관리자 계정의 모든 사용자는 어떤 스택 세트든 생성할 수 있습니다.&#xA;                " style="max-width:100%" />
                 
                 
            </div>
            <div class="procedure"><h6>관리자 계정의 모든 사용자가 모든 대상 계정의 스택 세트 작업을 수행하도록 권한을 설정합니다.</h6><ol><li>
                    <p>관리자 계정에서 <b>AWSCloudFormationStackSetAdministrationRole</b>이라는 이름의 IAM 역할을 생성합니다. <a href="https://s3.amazonaws.com/cloudformation-stackset-sample-templates-us-east-1/AWSCloudFormationStackSetAdministrationRole.yml" rel="noopener noreferrer" target="_blank"><span>https://s3.amazonaws.com/cloudformation-stackset-sample-templates-us-east-1/AWSCloudFormationStackSetAdministrationRole.yml</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>에서 온라인으로 사용할 수 있는 다음 AWS CloudFormation 템플릿에서 스택을 생성하여 해당 역할을 생성할 수 있습니다. 이 템플릿에 의해 생성된 역할을 사용하면 관리자 계정에 대해 다음 정책을 사용할 수 있습니다.</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Action": [
        "sts:AssumeRole"
      ],
      "Resource": [
        "arn:aws:iam::*:role/AWSCloudFormationStackSetExecutionRole"
      ],
      "Effect": "Allow"
    }
  ]
}</code></pre>
                    <p>다음 신뢰 관계는 이전 템플릿에 의해 생성됩니다.</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Principal": <span>{</span>
        "Service": "cloudformation.amazonaws.com"
      },
      "Action": "sts:AssumeRole"
    }
  ]
}</code></pre>
                    <p>기본적으로 비활성화되어 있는 리전에 상주하는 대상 계정에 스택 인스턴스를 배포하려면 해당 리전의 리전 서비스 보안 주체도 포함해야 합니다. 기본적으로 비활성화된 각 리전에는 자체 리전 서비스 보안 주체가 있습니다.</p>
                    <p>엔드포인트 목록을 비롯하여 리전 엔드포인트에 대한 자세한 내용을 알아보려면 <em>AWS 일반 참조 안내서</em>의 <a href="https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints">Regional endpoints</a>(리전 엔드포인트)를 참조하세요.</p>
                    <p>다음 예제에서는 기본적으로 비활성화되어 있는 리전인 아시아 태평양(홍콩) 리전의 리전 서비스 보안 주체(<code class="code">cloudformation.ap-east-1.amazonaws.com</code>)가 포함되어 있습니다.</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Principal": <span>{</span>
        "Service": [
            "cloudformation.amazonaws.com",
            "cloudformation.ap-east-1.amazonaws.com"
         ]
      },
      "Action": "sts:AssumeRole"
    }
  ]
}</code></pre>
                    <p>자세한 내용은 <a href="./stacksets-prereqs.html#stacksets-opt-in-regions">기본적으로 비활성화된 리전과 관련된 스택 세트 작업 수행</a> 단원을 참조하십시오.</p>
                </li><li>
                    <p>각 대상 계정에서 관리자 계정을 신뢰하는 <b>AWSCloudFormationStackSetExecutionRole</b>이라는 이름의 서비스 역할을 생성합니다. 역할에는 정확한 이름이 있어야 합니다. <a href="https://s3.amazonaws.com/cloudformation-stackset-sample-templates-us-east-1/AWSCloudFormationStackSetExecutionRole.yml" rel="noopener noreferrer" target="_blank"><span>https://s3.amazonaws.com/cloudformation-stackset-sample-templates-us-east-1/AWSCloudFormationStackSetExecutionRole.yml</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>에서 온라인으로 사용할 수 있는 다음 AWS CloudFormation 템플릿에서 스택을 생성하여 해당 역할을 생성할 수 있습니다. 이 템플릿을 사용하면 대상 계정과 신뢰 관계가 있어야 하는 관리자 계정의 이름을 제공하라는 메시지가 표시됩니다.</p>
                    <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>중요</h6></div><div class="awsdocs-note-text"><p>이 템플릿은 관리자 액세스 권한을 부여하므로 유의하십시오. 템플릿을 사용하여 대상 계정 실행 역할을 생성한 후에는 정책 설명에 있는 권한의 범위를 StackSets를 사용하여 생성하는 리소스의 유형으로 지정해야 합니다.</p></div></div>
                    <p>대상 계정 서비스 역할에는 AWS CloudFormation 템플릿에서 지정된 작업을 수행할 수 있는 권한이 필요합니다. 예를 들어, 템플릿이 S3 버킷을 생성할 경우 S3에 대한 새 객체를 생성할 수 있는 권한이 필요합니다. 대상 계정에는 항상 스택의 생성, 업데이트, 삭제, 설명을 비롯한 전체 AWS CloudFormation 권한이 필요합니다. 이 템플릿에 의해 생성된 역할을 사용하면 대상 계정에 대해 다음 정책을 사용할 수 있습니다.</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Action": "*",
      "Resource": "*"
    }
  ]
}</code></pre>
                    <p>StackSets가 작동하려면 각 대상 계정에 대해 S3 서비스 작업 및 리소스를 <code class="code">AWSCloudFormationStackSetExecutionRole</code> 정책 문에 추가해야 합니다. StackSets는 이러한 권한을 사용하여 대상 계정과 관리자 계정에서 스택 인스턴스 상태를 알립니다.</p>
                    <p>대상 계정에서 CloudFormation 이외의 서비스에서 리소스를 사용하는 스택을 생성하려면 각 대상 계정에 대한 <code class="code">AWSCloudFormationStackSetExecutionRole</code> 정책 문에 해당 서비스 작업 및 리소스를 추가해야 합니다. 다음 예제에서는 StackSets에 필요한 권한이 있는 정책 문을 보여줍니다.</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Action": [
         "cloudformation:*",
         "s3:*"
      ],
      "Resource": "*"
    }
  ]
}</code></pre>
                    <p>다음 신뢰 관계는 템플릿에 의해 생성됩니다. 관리자 계정의 ID는 <code class="replaceable">admin_account_id</code>로 표시됩니다.</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Principal": <span>{</span>
        "AWS": "arn:aws:iam::<code class="replaceable">admin_account_id</code>:root"
      },
      "Action": "sts:AssumeRole"
    }
  ]
}</code></pre>
                    <p>관리자 계정의 특정 역할을 신뢰하도록 기존 대상 계정 실행 역할의 신뢰 관계를 구성할 수 있습니다. 관리자 계정에서 역할을 삭제하고 대체할 새 역할을 생성하는 경우, 이전 예에서 <code class="replaceable">admin_account_id</code>로 표현된 새 관리자 계정 역할과의 대상 계정 신뢰 관계를 구성해야 합니다.</p>
                </li></ol></div>
         
            <h2 id="stacksets-prereqs-advanced-perms">스택 세트 작업에 대한 고급 권한 옵션 설정</h2>
            <p>사용자 및 그룹이 단일 관리자 계정을 통해 생성한 스택 세트에 대한 더욱 세분화된 제어가 필요한 경우 IAM 역할을 사용하여 다음을 지정할 수 있습니다.</p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>대상 계정의 스택 세트 작업을 수행할 수 있는 사용자 및 그룹.</p>
                </li><li class="listitem">
                    <p>스택 세트에 포함될 수 있는 리소스 사용자 및 그룹.</p>
                </li><li class="listitem">
                    <p>특정 사용자 및 그룹에서 수행할 수 있는 스택 세트 작업.</p>
                </li></ul></div>
             
                <h3 id="stacksets-prereqs-multiadmin">대상 계정 액세스 제어 권한 설정</h3>
                <p>사용자 지정 관리자 역할을 사용하여 어떤 대상 계정에서 어떤 사용자 및 그룹이 스택 세트 작업을 수행할 수 있는지 제어합니다. 어떤 대상 계정에서 어떤 관리자 계정의 사용자가 스택 세트 작업을 수행할 수 있는지를 제어하고 싶을 수 있습니다. 이를 위해 관리자 계정 자체 내에 <b>AWSCloudFormationStackSetAdministrationRole</b> 서비스 역할을 생성하는 대신 각 대상 계정과 특정 사용자 지정 관리자 역할(관리자 계정 자체가 아닌) 간에 신뢰 관계를 생성합니다. 그런 다음 특정 대상 계정에서 스택 세트 작업을 수행할 때 사용자 지정 관리 역할을 사용하도록 특정 사용자 및 그룹을 활성화합니다.</p>
                <p>예를 들어 관리자 계정 내에 역할 A와 역할 B를 생성할 수 있습니다. 역할 A에 계정 8을 통해 대상 계정 1에 액세스할 수 있는 권한을 부여할 수 있습니다. 또한 역할 B에 계정 16을 통해 대상 계정 9에 액세스할 수 있는 권한을 부여할 수 있습니다.</p>
                <div class="mediaobject">
                     
                        <img src="images/stacksets_perms_admin_target.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;                         사용자 지정 관리자 역할과 대상 계정 간의 신뢰 관계를 설정합니다. 이제 사용자는 스택 세트를 생성할 때 해당 역할을 전달합니다.&#xA;                    " style="max-width:100%" />
                     
                     
                </div>
                <p>필요한 권한을 설정하려면 사용자 지정 관리자 역할을 정의하고, 대상 계정에 대한 서비스 역할을 생성하며, 사용자에게 스택 세트 작업을 수행할 때 사용자 지정 관리자 역할을 전달할 수 있는 권한을 부여해야 합니다.</p>
                <p>일반적으로 필요한 권한을 확보했으면 다음과 같이 진행됩니다. 사용자는 스택 세트를 생성할 때 사용자 지정 관리자를 지정해야 합니다. 사용자는 AWS CloudFormation에 역할을 전달할 수 있는 권한을 가지고 있어야 합니다. 뿐만 아니라 사용자 지정 관리자 역할은 스택 세트에 지정된 대상 계정과 신뢰 관계를 맺고 있어야 합니다. AWS CloudFormation은 스택 세트를 생성하고 사용자 지정 관리자 역할을 여기에 연결합니다. 스택 세트를 업데이트할 때 사용자는 사용자 지정 관리자 역할을 명시적으로 지정해야 합니다. 이전에 이 스택 세트에 사용된 것과 동일한 사용자 지정 관리자 역할인 경우에도 마찬가지입니다. AWS CloudFormation은 위의 요구 사항에 따라 해당 역할을 사용하여 스택을 업데이트합니다.</p>
                <div class="procedure"><h6>특정 대상 계정의 스택 세트 작업을 수행할 수 있는 사용자 및 그룹에 대한 권한을 설정합니다.</h6><ol><li>
                        <p>각 스택 세트에 대해 대상 계정에서 <b>AWSCloudFormationStackSetExecutionRole</b> 서비스 역할을 수임할 수 있는 권한을 가진 사용자 지정 관리자 역할을 생성합니다.</p>
                        <p>다음과 같은 권한 정책을 사용하여 사용자 지정 이름을 가진 <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-service.html">IAM 서비스 역할</a>을 생성합니다.</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Action": [
        "sts:AssumeRole"
      ],
      "Resource": [
        "arn:aws:iam::<code class="replaceable">target_account_id</code>:role/AWSCloudFormationStackSetExecutionRole"
      ],
      "Effect": "Allow"
    }
  ]
}</code></pre>
                        <p>모든 대상 계정을 지정하고 싶은 경우에는 다음과 같은 권한 정책을 사용합니다.</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Action": [
        "sts:AssumeRole"
      ],
      "Resource": [
        "arn:aws:iam::<code class="replaceable">*</code>:role/AWSCloudFormationStackSetExecutionRole"
      ],
      "Effect": "Allow"
    }
  ]
}</code></pre>
                        <p>신뢰 관계를 정의하기 위해서는 역할을 생성할 때 다음과 같은 신뢰 정책을 제공해야 합니다.</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span> 
  "Version": "2012-10-17", 
  "Statement": [ 
    <span>{</span> 
      "Effect": "Allow", 
      "Principal": <span>{</span> 
        "Service": "cloudformation.amazonaws.com" 
      }, 
      "Action": "sts:AssumeRole" 
    } 
  ] 
}</code></pre>
                        <p>기본적으로 비활성화되어 있는 리전에 상주하는 대상 계정에 스택 인스턴스를 배포하려면 해당 리전의 리전 서비스 보안 주체도 포함해야 합니다. 기본적으로 사용할 수 없는 각 리전에는 자체 리전 서비스 주체가 있습니다.</p>
                        <p>엔드포인트 목록을 비롯하여 리전 엔드포인트에 대한 자세한 내용을 알아보려면 <em>AWS 일반 참조 안내서</em>의 <a href="https://docs.aws.amazon.com/general/latest/gr/rande.html#regional-endpoints">Regional endpoints</a>(리전 엔드포인트)를 참조하세요.</p>
                        <p>다음 예제에서는 기본적으로 비활성화되어 있는 리전인 아시아 태평양(홍콩) 리전의 리전 서비스 보안 주체(<code class="code">cloudformation.ap-east-1.amazonaws.com</code>)가 포함되어 있습니다.</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Principal": <span>{</span>
        "Service": [
            "cloudformation.amazonaws.com",
            "cloudformation.ap-east-1.amazonaws.com"
         ]
      },
      "Action": "sts:AssumeRole"
    }
  ]
}</code></pre>
                        <p>자세한 내용은 <a href="./stacksets-prereqs.html#stacksets-opt-in-regions">기본적으로 비활성화된 리전과 관련된 스택 세트 작업 수행</a> 단원을 참조하십시오.</p>
                    </li><li>
                        <p>각 대상 계정에서 <b>AWSCloudFormationStackSetExecutionRole</b>이라는 서비스 역할을 생성합니다. 이 서비스 역할은 이 계정에서 사용하고 싶은 사용자 지정 관리자 역할과 신뢰 관계를 맺고 있습니다.</p>
                        <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>중요</h6></div><div class="awsdocs-note-text"><p>정책 설명에 있는 권한의 범위를 스택 세트를 사용해 생성하고 있는 리소스의 유형으로 지정해야 합니다.</p></div></div>
                        <p>대상 계정 서비스 역할에는 AWS CloudFormation 템플릿에서 지정된 작업을 수행할 수 있는 권한이 필요합니다. 예를 들어, 템플릿이 S3 버킷을 생성할 경우 S3에서 새 객체를 생성할 수 있는 권한이 필요합니다. 대상 계정에는 항상 스택의 생성, 업데이트, 삭제, 설명을 비롯한 전체 AWS CloudFormation 권한이 필요합니다.</p>
                        <p>다음 예는 스택 세트가 작동하기 위한 <em>최소</em> 권한이 포함된 정책 설명을 보여줍니다. AWS CloudFormation 이외의 서비스에서 리소스를 사용하는 대상 계정에서 스택을 생성하려면 각 대상 계정에 대한 <b>AWSCloudFormationStackSetExecutionRole</b> 권한 정책 설명에 이러한 서비스 작업 및 리소스를 추가해야 합니다.</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "cloudformation:*",
        "s3:*"
      ],
      "Resource": "*"
    }
  ]
}</code></pre>
                        <p>신뢰 관계를 정의하기 위해서는 역할을 생성할 때 다음과 같은 신뢰 정책을 제공해야 합니다.</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17", 
  "Statement": [ 
    <span>{</span> 
      "Effect": "Allow", 
      "Principal": <span>{</span> 
      "AWS": "arn:aws:iam::<code class="replaceable">admin_account_id</code>:role/<code class="replaceable">customized_admin_role</code>" 
      }, 
      "Action": "sts:AssumeRole"
    } 
  ] 
} </code></pre>
                    </li><li>
                        <p>사용자가 스택 세트 작업을 수행할 때 사용자 지정 관리자 역할을 전달하도록 허용합니다.</p>
                        <p>IAM 권한 정책을 사용자 또는 그룹에 연결하여 특정 스택 세트를 생성 또는 업데이트할 때 적절한 사용자 지정 관리자 역할을 전달할 수 있도록 합니다. 자세한 내용은 <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_use_passrole.html">사용자에게 AWS 서비스 역할을 전달할 수 있는 권한 부여</a>를 참조하세요. 아래 예제에서 <code class="replaceable">customized_admin_role</code>은 사용자가 전달해야 하는 관리자 역할을 뜻합니다.</p>

                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "iam:GetRole",
        "iam:PassRole"
      ],
      "Resource": "arn:aws:iam::*:role/<code class="replaceable">customized_admin_role</code>"
    }
  ]
}</code></pre>
                    </li></ol></div>
             
             
                <h3 id="stacksets-prereqs-executionrole">스택 리소스 포함 제어 권한 설정</h3>
                <p>사용자 지정 실행 역할을 사용하여 사용자 및 그룹이 스택 세트에 어떤 스택 리소스를 포함시킬 수 있는지 제어합니다. 예를 들어 생성한 스택 세트에 Amazon S3 관련 리소스만을 포함시킬 수 있도록 그룹을 설정하면서 다른 팀에서는 DynamoDB 리소스만을 포함시키고자 할 수 있습니다. 이렇게 하려면 각 그룹에 대한 사용자 지정 계정과 각 리소스 세트에 대한 사용자 지정 실행 역할 간 신뢰 관계를 생성합니다. 사용자 지정 실행 역할은 스택 세트에 어떤 스택 리소스를 포함시킬 수 있는지를 정의합니다. 사용자 지정 관리자 역할은 관리자 계정 내에 상주하고, 사용자 지정 실행 역할은 정의된 리소스를 사용하여 스택 세트를 생성하고자 하는 각 대상 계정 내에 상주합니다. 그런 다음 스택 세트 작업을 수행할 때 사용자 지정 관리 역할을 사용하도록 특정 사용자 및 그룹을 활성화합니다.</p>
                <p>예를 들어 관리자 계정 내에 사용자 지정 역할 A, B 및 C를 생성할 수 있습니다. 역할 A를 사용할 수 있는 권한을 보유한 사용자 및 그룹은 사용자 지정 실행 역할 X에 나열된 스택 리소스를 포함하는 스택 세트를 생성할 수 있지만 여기에 역할 Y나 Z에 나열된 스택 리소스 또는 모든 실행 역할에 포함되지 않은 리소스를 포함할 수는 없습니다.</p>
                <div class="mediaobject">
                     
                        <img src="images/stacksets_perms_admin_execution.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;                        사용자 지정 관리자 역할과 대상 계정 내 사용자 지정 실행 역할 간의 신뢰 관계를 설정합니다. 이제 사용자는 스택 세트를 생성할 때 해당 역할을 전달합니다.&#xA;                    " style="max-width:100%" />
                     
                     
                </div>
                <p>스택 세트를 업데이트할 때 사용자는 사용자 지정 관리자 역할을 명시적으로 지정해야 합니다. 이전에 이 스택 세트에 사용된 것과 동일한 사용자 지정 관리자 역할인 경우에도 마찬가지입니다. 사용자에게 스택 세트에서 작업을 수행할 수 있는 권한이 있는 한 AWS CloudFormation은 지정된 사용자 지정 관리자 역할을 사용하여 업데이트를 수행합니다.</p>
                <p>마찬가지로 사용자는 사용자 지정 실행 역할 또한 지정할 수 있습니다. 사용자 지정 실행 역할을 지정하는 경우, AWS CloudFormation은 위의 요구 사항에 따라 해당 역할을 사용하여 스택을 업데이트합니다. 사용자가 사용자 지정 실행 역할을 지정하지 않은 경우 AWS CloudFormation은 이전에 스택 세트에 연결된 사용자 지정 실행 역할을 사용하여 업데이트를 수행합니다(단, 사용자가 스택 세트에서 작업을 수행할 수 있는 권한을 가지고 있는 경우).</p>
                <div class="procedure"><h6>사용자 및 그룹이 특정 스택 세트에 포함시킬 수 있는 리소스에 대한 권한을 설정합니다.</h6><ol><li>
                        <p>스택 세트를 생성하고자 하는 대상 계정에서 사용자 및 그룹에서 스택 세트에 포함시킬 수 있는 서비스 및 리소스에 대한 권한을 부여하는 사용자 지정 실행 역할을 생성합니다.</p>
                        <p>다음 예제는 Amazon DynamoDB 테이블 생성 권한이 포함된 스택 세트에 대한 최소 권한을 제공합니다.</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "cloudformation:*",
        "s3:*",
      ],
      "Resource": "*"
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "dynamoDb:createTable"
      ],
      "Resource": "*"
    }
  ]
}</code></pre>
                        <p>신뢰 관계를 정의하기 위해서는 역할을 생성할 때 다음과 같은 신뢰 정책을 제공해야 합니다.</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17", 
  "Statement": [ 
    <span>{</span> 
      "Effect": "Allow", 
      "Principal": <span>{</span> 
      "AWS": "arn:aws:iam::<code class="replaceable">admin_account_id</code>:role/<code class="replaceable">customized_admin_role</code>" 
      }, 
      "Action": "sts:AssumeRole"
    } 
  ] 
} </code></pre>
                    </li><li>
                        <p><a href="#stacksets-prereqs-multiadmin">대상 계정 액세스 제어 권한 설정</a>의 세부 정보와 같이 관리자 계정에 사용자 지정 관리자 계정을 생성합니다. 사용자 지정 관리자 역할과 사용하고자 하는 사용자 지정 실행 역할 간의 신뢰 관계를 포함합니다.</p>
                        <p>다음 예제에는 사용자 지정 실행 역할은 물론 대상 계정에 대해 정의된 <b>AWSCloudFormationStackSetExecutionRole</b>에 대한 <code class="code">sts::AssumeRole</code> 정책이 포함됩니다.</p>
                    </li></ol></div>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
   "Statement": [
    <span>{</span>
      "Sid": "Stmt1487980684000",
      "Effect": "Allow",
      "Action": [
        "sts:AssumeRole" 
      ],
      "Resource": [ 
        "arn:aws:iam::*:role/AWSCloudFormationStackSetExecutionRole",
        "arn:aws:iam::*:role/<code class="replaceable">custom_execution_role</code>" 
      ]
    } 
  ]
}</code></pre>
             
             
                <h3 id="stacksets-prereqs-iam-actions">특정 스택 세트 작업에 대한 권한 설정</h3>
                <p>추가로 사용자 및 그룹에서 특정 스택 세트 작업을 수행할 수 있는 권한을 설정할 수 있습니다(예: 스택 세트 또는 스택 인스턴스 생성, 업데이트 또는 삭제). 자세한 내용을 알아보려면 <em>IAM 사용 설명서</em>의 <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/list_awscloudformation.html">AWS CloudFormation에 사용되는 작업, 리소스 및 조건 키</a>를 참조하세요.</p>
             
         
            <h2 id="confused-deputy-mitigation">혼란스러운 대리자 문제를 완화하기 위해 전역 키 설정</h2>
            <p>혼동된 대리인 문제는 작업을 수행할 권한이 없는 개체가 권한이 더 많은 개체에게 작업을 수행하도록 강요할 수 있는 보안 문제입니다. AWS에서는 교차 서비스 가장으로 인해 혼동된 대리인 문제가 발생할 수 있습니다. 교차 서비스 가장은 한 서비스(<em>직접적으로 호출하는 서비스</em>)가 다른 서비스(<em>직접적으로 호출되는 서비스</em>)를 직접적으로 호출할 때 발생할 수 있습니다. 호출하는 서비스는 다른 고객의 리소스에 대해 액세스 권한이 없는 방식으로 작동하게 권한을 사용하도록 조작될 수 있습니다. 이를 방지하기 위해 AWS에서는 계정의 리소스에 대한 액세스 권한이 부여된 서비스 보안 주체를 사용하여 모든 서비스에 대한 데이터를 보호하는 데 도움이 되는 도구를 제공합니다.</p>
            <p>AWS CloudFormation StackSets가 다른 서비스를 제공하는 리소스에 대한 권한을 제한하려면 리소스 정책에서 <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_condition-keys.html#condition-keys-sourcearn"><code class="code">aws:SourceArn</code></a> 및 <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_condition-keys.html#condition-keys-sourceaccount"><code class="code">aws:SourceAccount</code></a> 글로벌 조건 컨텍스트 키를 사용하는 것이 좋습니다. 두 글로벌 조건 컨텍스트 키를 모두 사용하는 경우 <code class="code">aws:SourceAccount</code>값과 <code class="code">aws:SourceArn</code>값의 계정은 동일한 정책 문에서 사용할 경우 동일한 계정 ID를 사용해야 합니다.</p>

            <p>혼동된 대리인 문제로부터 보호하는 가장 효과적인 방법은 리소스의 전체 ARN이 포함된 <code class="code">aws:SourceArn</code> 글로벌 조건 컨텍스트 키를 사용하는 것입니다. 리소스의 전체 Amazon 리소스 이름(ARN)을 모를 경우 또는 여러 리소스를 지정하는 경우, Amazon 리소스 이름(ARN)의 알 수 없는 부분에 대해 와일드카드(<code class="code">*</code>)를 포함한 <code class="code">aws:SourceArn</code>글로벌 조건 컨텍스트 키를 사용합니다. 예: <code class="code">arn:aws:<code class="replaceable">cloudformation</code>::<code class="replaceable">123456789012</code>:*</code> 가능하면 더 구체적인 <code class="code">aws:SourceArn</code>을 사용합니다. 올바른 ARN 또는 ARN 패턴을 결정할 수 없는 경우에만 <code class="code">aws:SourceAccount</code>를 사용합니다.</p>


            <p>StackSets가 <b>administrator</b>(관리자) 계정에서 <b>Administration</b>(관리) 역할을 맡으면 StackSets는 <b>administrator</b>(관리자) 계정 ID와 StackSets Amazon 리소스 이름(ARN)을 채웁니다. 따라서 <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/confused-deputy.html">혼란스러운 대리자 문제</a>를 방지하기 위해 신뢰 관계에서 <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_condition-keys.html#condition-keys-sourceaccount">전역 키</a> <code class="code">aws:SourceAccount</code> 및 <code class="code">aws:SourceArn</code>에 대한 조건을 정의할 수 있습니다. 다음 예제에서는 StackSets에서 <code class="code">aws:SourceArn</code> 및 <code class="code">aws:SourceAccount</code> 전역 조건 컨텍스트 키를 사용하여 혼동된 대리자 문제를 방지하는 방법을 보여줍니다.</p>
            <div class="example"><h6>예 <code class="code">aws:SourceAccount</code> 및 <code class="code">aws:SourceArn</code>에 대한 전역 키</h6><div class="example-contents"><p>StackSets를 사용할 때 <code class="code">AWSCloudFormationStackSetAdministrationRole</code> 신뢰 정책에 전역 키 <code class="code">aws:SourceAccount</code> 및 <code class="code">aws:SourceArn</code>을 정의하여 혼란스러운 대리자 문제를 방지합니다.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Principal": <span>{</span>
        "Service": "cloudformation.amazonaws.com"
      },
      "Action": "sts:AssumeRole",
      "Condition": <span>{</span>
        "StringEquals": <span>{</span>
          "aws:SourceAccount": "<code class="replaceable">111122223333</code>"
        },
        "StringLike": <span>{</span>
          "aws:SourceArn": "arn:aws:cloudformation:*:<code class="replaceable">111122223333</code>:stackset/*"
        }
      }
    }
  ]
}</code></pre></div></div>
            <div class="example"><h6>예 StackSets ARN</h6><div class="example-contents"><p>더 세밀하게 제어할 수 있도록 연결된 StackSets ARN을 지정합니다.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Principal": <span>{</span>
        "Service": "cloudformation.amazonaws.com"
      },
      "Action": "sts:AssumeRole",
      "Condition": <span>{</span>
        "StringEquals": <span>{</span>
          "aws:SourceAccount": "<code class="replaceable">111122223333</code>",
          "aws:SourceArn": [
            "arn:aws:cloudformation:<code class="replaceable">STACKSETS-REGION</code>:<code class="replaceable">111122223333</code>:stackset/<code class="replaceable">STACK-SET-ID-1</code>",
            "arn:aws:cloudformation:<code class="replaceable">STACKSETS-REGION</code>:<code class="replaceable">111122223333</code>:stackset/<code class="replaceable">STACK-SET-ID-2</code>",
          ]
        }
      }
    }
  ]
}</code></pre></div></div>
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="주의" /> <strong>javascript가 브라우저에서 비활성화되거나 사용이 불가합니다.</strong></p><p>AWS 설명서를 사용하려면 Javascript가 활성화되어야 합니다. 지침을 보려면 브라우저의 도움말 페이지를 참조하십시오.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">문서 규칙</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./stacksets-prereqs.html">스택 세트 작업을 위한 사전 조건</div><div id="next" class="next-link" accesskey="n" href="./stacksets-orgs-activate-trusted-access.html">AWS Organizations를 사용하여 신뢰할 수 있는 액세스 활성화</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">이 페이지의 내용이 도움이 되었습니까? - 예</div><div class="content"><p>칭찬해 주셔서 감사합니다!</p><p>잠깐 시간을 내어 좋았던 부분을 알려 주시면 더 열심히 만들어 보겠습니다.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="feedback-tell-us" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/stacksets-prereqs-self-managed.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">이 페이지의 내용이 도움이 되었습니까? - 아니요</div><div class="content"><p>이 페이지에 작업이 필요하다는 점을 알려 주셔서 감사합니다. 실망시켜 드려 죄송합니다.</p><p>잠깐 시간을 내어 설명서를 향상시킬 수 있는 방법에 대해 말씀해 주십시오.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="feedback-tell-us" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/stacksets-prereqs-self-managed.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>