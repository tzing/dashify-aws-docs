<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="ko-KR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>템플릿 기본 사항 알아보기 - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="gettingstarted.templatebasics" /><meta name="default_state" content="gettingstarted.templatebasics" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" /><meta name="description" content="템플릿 리소스, 파라미터 및 기타 구성 요소의 사용과 이들 구성 요소의 상호 작동 방법 등 템플릿 기본 사항에 대해 알아봅니다." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="사용자 가이드" /><meta name="abstract" content="이 사용 설명서와 AWS CloudFormation을 사용하여 AWS 인프라 배포를 예상한 대로 반복해서 생성 및 관리합니다." /><meta name="guide-locale" content="ko_kr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="사용자 가이드" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="사용자 가이드" /><meta id="panorama-serviceConsolePage" value="템플릿 기본 사항 알아보기" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>템플릿 기본 사항 알아보기 - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,리소스 프로비저닝,리소스 구성,인프라 관리,CloudFormer,CloudFormation 스택,CloudFormation stackset,CloudFormation 템플릿,변경 세트" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "사용자 가이드",
        "item" : "https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "AWS CloudFormation 시작하기",
        "item" : "https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/GettingStarted.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "템플릿 기본 사항 알아보기",
        "item" : "https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/GettingStarted.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">aws-documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">사용자 가이드</a></div><div id="page-toc-src"><a href="#gettingstarted.templatebasics.what">AWS CloudFormation 템플릿이란 무엇인가요?</a><a href="#gettingstarted.templatebasics.simple">Resources: Hello Bucket!</a><a href="#gettingstarted.templatebasics.multiple">리소스 속성과 여러 리소스를 함께 사용</a><a href="#gettingstarted.templatebasics.parameters">입력 파라미터를 사용하여 사용자 입력 수신</a><a href="#gettingstarted.templatebasics.mappings">매핑을 사용하여 조건 값 지정</a><a href="#gettingstarted.templatebasics.outputs">구성된 값과 출력 값</a><a href="#gettingstarted.templatebasics.learnmore">다음 단계</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="gettingstarted.templatebasics">템플릿 기본 사항 알아보기</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><div class="highlights" id="inline-topiclist"><h6>주제</h6><ul><li><a href="#gettingstarted.templatebasics.what">AWS CloudFormation 템플릿이란 무엇인가요?</a></li><li><a href="#gettingstarted.templatebasics.simple">Resources: Hello Bucket!</a></li><li><a href="#gettingstarted.templatebasics.multiple">리소스 속성과 여러 리소스를 함께 사용</a></li><li><a href="#gettingstarted.templatebasics.parameters">입력 파라미터를 사용하여 사용자 입력 수신</a></li><li><a href="#gettingstarted.templatebasics.mappings">매핑을 사용하여 조건 값 지정</a></li><li><a href="#gettingstarted.templatebasics.outputs">구성된 값과 출력 값</a></li><li><a href="#gettingstarted.templatebasics.learnmore">다음 단계</a></li></ul></div><p><a href="./GettingStarted.Walkthrough.html">시작</a>에서는 템플릿을 사용하여 스택을 생성하는 방법을 배웠습니다. 템플릿에 선언된 리소스와 이들 리소스를 스택의 리소스로 매핑하는 방법에 대해 살펴보았습니다. 입력 파라미터와 템플릿에서 스택 생성 시 이러한 파라미터를 사용하여 특정 값을 전달하는 방법도 살펴보았습니다. 이 섹션에서는 리소스와 파라미터에 대해 좀더 자세히 살펴보겠습니다. 또한 이러한 구성 요소를 함께 사용하여 원하는 AWS 리소스를 생성하는 템플릿을 작성하는 방법을 알 수 있도록 템플릿의 다양한 구성 요소도 살펴보겠습니다.</p>
    <h2 id="gettingstarted.templatebasics.what">AWS CloudFormation 템플릿이란 무엇인가요?</h2>

    <p>템플릿이란 스택을 구성하는 AWS 리소스를 선언한 것입니다. 템플릿은 JavaScript Object Notation(JSON) 또는 YAML 표준을 준수하는 형식의 텍스트 파일로 저장됩니다. 템플릿은 텍스트 파일이기 때문에 텍스트 편집기에서 작성 및 편집하고 소스 코드의 나머지 부분과 함께 소스 제어 시스템에서 관리할 수 있습니다. 템플릿 형식에 대한 자세한 내용은 <a href="./template-formats.html">AWS CloudFormation 템플릿 형식</a> 단원을 참조하십시오.</p>
    <p>생성 및 구성할 AWS 리소스를 템플릿에서 선언합니다. 객체를 이름-값 페어 또는 이름과 포함된 자식 객체 세트 페어로 선언합니다. 구문은 사용하는 형식에 따라 다릅니다. 자세한 내용은 <a href="./template-anatomy.html">템플릿 구조</a>를 참조하세요. 필요한 최상위 객체는 Resources 객체뿐이며, 하나 이상의 리소스를 선언해야 합니다. Resources 객체만을 포함하는 가장 기본적인 수준의 템플릿으로 시작하겠습니다. 이 템플릿에는 단일 리소스 선언만 들어 있습니다.</p>
   
    <h2 id="gettingstarted.templatebasics.simple">Resources: Hello Bucket!</h2>
    <p>Resources 객체에는 리소스 객체 목록이 포함됩니다. 리소스 선언에는 리소스의 속성이 포함되는데, 이러한 속성은 자식 객체로 자체 선언됩니다. 리소스에는 <code class="code">Type</code> 속성이 지정되어야 하며, 이 속성은 생성할 AWS 리소스의 종류를 정의합니다. <code class="code">Type</code> 속성은 특수한 형식으로 되어 있습니다.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="text ">AWS::<code class="replaceable">ProductIdentifier</code>::<code class="replaceable">ResourceType</code></code></pre>
    <p>예를 들면 Amazon S3 버킷의 리소스 유형은 <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-s3-bucket.html">AWS::S3::Bucket</a>입니다. 전체 리소스 유형 목록은 <a href="./template-reference.html">템플릿 참조</a> 단원을 참조하십시오.</p>
    <p>기본적인 템플릿을 살펴보겠습니다. 다음 템플릿은 HelloBucket 이름을 사용하여 <code class="code">AWS::S3::Bucket:</code> 형식의 단일 리소스를 선언합니다.</p>
    <div id="JSON" name="JSON" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.simple.json">JSON</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>&#xD;
    "Resources": <span>{</span>&#xD;
        "HelloBucket": <span>{</span>&#xD;
            "Type": "AWS::S3::Bucket"&#xD;
        }&#xD;
    }&#xD;
}</code></pre>
    </div>
    <div id="YAML" name="YAML" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.simple.yaml">YAML</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources:&#xD;
  HelloBucket:&#xD;
    Type: 'AWS::S3::Bucket'&#xD;
</code></pre>
    </div>
    <p>이 템플릿을 사용하여 스택을 생성할 경우 AWS CloudFormation에서는 Amazon S3 버킷을 생성합니다. CloudFormation에서는 기본 설정을 사용하여 버킷을 생성할 수 있으므로 버킷을 간단히 생성할 수 있습니다. Amazon EC2 Auto Scaling 그룹이나 EC2 인스턴스와 같은 기타 리소스의 경우 CloudFormation은 추가 정보를 요구합니다. 리소스 선언에서는 <code class="code">Properties</code> 속성을 사용하여 리소스 생성을 위한 정보를 지정합니다.</p>
    <p>리소스 유형에 따라, <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-instance.html">AWS::EC2::Instance</a> 리소스의 경우 ImageId 등 일부 속성은 필수 속성이고 그 밖의 속성은 선택적 속성입니다. <code class="code">AWS::S3::Bucket</code> 리소스의 AccessControl 등 일부 속성에는 기본값이 있으므로, 이러한 속성에는 선택적으로 값을 지정할 수 있습니다. 그 밖의 속성은 필수는 아니지만, <code class="code">AWS::S3::Bucket</code> 리소스의 <code class="code">WebsiteConfiguration</code> 속성과 같이 원하는 기능을 추가하기도 합니다. 이러한 속성에 대한 값은 반드시 지정할 필요는 없으며, 필요에 따라 지정하면 됩니다. 위의 예제에서 <code class="code">AWS::S3::Bucket</code> 리소스에는 선택적 속성만 포함되어 있으며 우리에게는 선택적 기능이 필요하지 않으므로 기본값을 그대로 사용하고 Properties 속성을 생략할 수도 있습니다.</p>
    <p>각 리소스 유형에 대한 속성을 보려면 <a href="./aws-template-resource-type-ref.html">AWS 리소스 및 속성 유형 참조</a> 단원의 주제를 참조하십시오.</p>
   
    <h2 id="gettingstarted.templatebasics.multiple">리소스 속성과 여러 리소스를 함께 사용</h2>

    <p>일반적으로 리소스 속성은 단순 문자열 값입니다. 예를 들면 다음 템플릿은 버킷의 AccessControl 속성에 대해 미리 준비된 ACL(PublicRead)을 지정합니다.</p>
    <div id="JSON" name="JSON" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.multiple.json">JSON</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>&#xD;
    "Resources": <span>{</span>&#xD;
        "HelloBucket": <span>{</span>&#xD;
            "Type": "AWS::S3::Bucket",&#xD;
            "Properties": <span>{</span>&#xD;
                "AccessControl": "PublicRead"&#xD;
            }&#xD;
        }&#xD;
    }&#xD;
}</code></pre>
    </div>
    <div id="YAML" name="YAML" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.multiple.yaml">YAML</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources:&#xD;
  HelloBucket:&#xD;
    Type: 'AWS::S3::Bucket'&#xD;
    Properties:&#xD;
      AccessControl: PublicRead&#xD;
</code></pre>
    </div>
    <p>일부 리소스에는 여러 속성을 지정할 수 있으며, 또 다른 일부 속성에는 하나 이상의 하위 속성을 지정할 수도 있습니다. 예를 들면 <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-s3-bucket.html">AWS::S3::Bucket</a> 리소스에는 AccessControl 속성과 WebsiteConfiguration 속성이라는 두 가지 속성이 지정되어 있습니다. WebsiteConfiguration 속성에는 IndexDocument 및 ErrorDocument라는 두 가지 하위 속성이 있습니다. 다음 템플릿은 추가 속성이 지정된 원래 버킷 리소스를 표시합니다.</p>
    <div id="JSON" name="JSON" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.multiple.json2">JSON</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>&#xD;
    "Resources": <span>{</span>&#xD;
        "HelloBucket": <span>{</span>&#xD;
            "Type": "AWS::S3::Bucket",&#xD;
            "Properties": <span>{</span>&#xD;
                "AccessControl": "PublicRead",&#xD;
                "WebsiteConfiguration": <span>{</span>&#xD;
                    "IndexDocument": "index.html",&#xD;
                    "ErrorDocument": "error.html"&#xD;
                }&#xD;
            }&#xD;
        }&#xD;
    }&#xD;
}</code></pre>
    </div>
    <div id="YAML" name="YAML" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.multiple.yaml2">YAML</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources:&#xD;
  HelloBucket:&#xD;
    Type: 'AWS::S3::Bucket'&#xD;
    Properties:&#xD;
      AccessControl: PublicRead&#xD;
      WebsiteConfiguration:&#xD;
        IndexDocument: index.html&#xD;
        ErrorDocument: error.html&#xD;
</code></pre>
    </div>
    <p>템플릿 및 CloudFormation의 가장 큰 이점 중 하나는 함께 작동하는 리소스 세트를 만들어서 애플리케이션이나 솔루션을 생성할 수 있다는 점입니다. 템플릿 내 리소스에 사용되는 이름은 논리적 이름입니다. CloudFormation에서는 리소스 생성 시 논리명, 스택 이름 및 고유 ID의 조합에 기초한 물리적 이름을 생성합니다.</p>

    <p>다른 리소스의 이름이나 속성에 기초하여 한 리소스에 대한 속성을 설정하는 방법이 궁금하실 것입니다. <span>예를 들면<span> S3 버킷이 지원하는 CloudFront 배포 또는 </span>EC2 보안 그룹을 사용하는 EC2 인스턴스와 이러한 모든 리소스를 동일한 템플릿 안에서 생성할 수 있습니다.</span> CloudFormation에는 다른 리소스 및 해당 속성을 참조하는 데 사용할 수 있는 여러 내장 함수가 있습니다. <a href="./intrinsic-function-reference-ref.html">Ref 함수</a>를 사용하여 리소스의 식별 속성을 참조할 수 있습니다. 대체로 이 속성은 리소스의 물리적 이름이지만, 경우에 따라서 <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-eip.html">AWS::EC2::EIP</a> 리소스용 IP 주소나 Amazon SNS 주제에 대한 Amazon 리소스 이름(ARN) 등 식별자일 수도 있습니다. Ref 함수에서 반환되는 값 목록은 <a href="./intrinsic-function-reference-ref.html">Ref 함수</a>를 참조하십시오. 다음 템플릿에는 <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-instance.html">AWS::EC2::Instance</a> 리소스가 포함되어 있습니다. 이 리소스의 SecurityGroups 속성은 Ref 함수를 호출하여 <code class="code">AWS::EC2::SecurityGroup</code> 리소스 InstanceSecurityGroup을 참조합니다.</p>
    <div id="JSON" name="JSON" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.multiple.json3">JSON</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Resources": <span>{</span>
        "Ec2Instance": <span>{</span>
            "Type": "AWS::EC2::Instance",
            "Properties": <span>{</span>
                "SecurityGroups": [
                    <span>{</span>
                        "Ref": "InstanceSecurityGroup"
                    }
                ],
                "KeyName": "mykey",
                "ImageId": ""
            }
        },
        "InstanceSecurityGroup": <span>{</span>
            "Type": "AWS::EC2::SecurityGroup",
            "Properties": <span>{</span>
                "GroupDescription": "Enable SSH access via port 22",
                "SecurityGroupIngress": [
                    <span>{</span>
                        "IpProtocol": "tcp",
                        "FromPort": 22,
                        "ToPort": 22,
                        "CidrIp": "0.0.0.0/0"
                    }
                ]
            }
        }
    }
}</code></pre>
    </div>
    <div id="YAML" name="YAML" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.multiple.yaml3">YAML</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources:
  Ec2Instance:
    Type: 'AWS::EC2::Instance'
    Properties:
      SecurityGroups:
        - !Ref InstanceSecurityGroup
      KeyName: mykey
      ImageId: ''
  InstanceSecurityGroup:
    Type: 'AWS::EC2::SecurityGroup'
    Properties:
      GroupDescription: Enable SSH access via port 22
      SecurityGroupIngress:
        - IpProtocol: tcp
          FromPort: 22
          ToPort: 22
          CidrIp: 0.0.0.0/0</code></pre>
    </div>
    <p>SecurityGroups 속성은 보안 그룹 목록이며, 이전 예제에서는 이 목록에 항목이 하나만 들어 있었습니다. 다음 템플릿에는 SecurityGroups 속성 목록에 추가 항목이 있습니다.</p>
    <div id="JSON" name="JSON" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.multiple.json4">JSON</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Resources": <span>{</span>
        "Ec2Instance": <span>{</span>
            "Type": "AWS::EC2::Instance",
            "Properties": <span>{</span>
                "SecurityGroups": [
                    <span>{</span>
                        "Ref": "InstanceSecurityGroup"
                    },
                    "MyExistingSecurityGroup"
                ],
                "KeyName": "mykey",
                "ImageId": "ami-7a11e213"
            }
        },
        "InstanceSecurityGroup": <span>{</span>
            "Type": "AWS::EC2::SecurityGroup",
            "Properties": <span>{</span>
                "GroupDescription": "Enable SSH access via port 22",
                "SecurityGroupIngress": [
                    <span>{</span>
                        "IpProtocol": "tcp",
                        "FromPort": 22,
                        "ToPort": 22,
                        "CidrIp": "0.0.0.0/0"
                    }
                ]
            }
        }
    }
}</code></pre>
    </div>
    <div id="YAML" name="YAML" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.multiple.yaml4">YAML</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources:
  Ec2Instance:
    Type: 'AWS::EC2::Instance'
    Properties:
      SecurityGroups:
        - !Ref InstanceSecurityGroup
        - MyExistingSecurityGroup
      KeyName: mykey
      ImageId: ami-7a11e213
  InstanceSecurityGroup:
    Type: 'AWS::EC2::SecurityGroup'
    Properties:
      GroupDescription: Enable SSH access via port 22
      SecurityGroupIngress:
        - IpProtocol: tcp
          FromPort: 22
          ToPort: 22
          CidrIp: 0.0.0.0/0</code></pre>
    </div>
    <p>MyExistingSecurityGroup은 템플릿에 선언된 보안 그룹 대신에 기존 EC2 보안 그룹을 참조하는 문자열입니다. 리터럴 문자열을 사용하여 기존 AWS 리소스를 참조합니다.</p>
    <p>위의 예제에서 <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-instance.html">AWS::EC2::Instance</a>의 KeyName 속성은 리터럴 문자열 mykey입니다. 다시 말해서 이름 mykey를 포함하는 키 페어가 스택을 생성 중인 리전에 존재해야 합니다. 그렇지 않으면 키 페어가 존재하지 않아서 스택이 생성되지 않습니다. 사용하는 키 페어는 스택을 생성 중인 리전마다 다르거나, 다른 사람과 템플릿을 공유하여 그들의 AWS 계정에서 사용하도록 할 수도 있습니다. 이 경우, 입력 파라미터를 사용하면 스택 생성 시 키 페어 이름을 지정할 수 있습니다. Ref 함수는 스택 생성 시 지정되는 입력 파라미터를 참조할 수 있습니다. 다음 템플릿은 KeyName 파라미터를 포함하는 Parameters 객체를 추가합니다. KeyName 파라미터는 <code class="code">AWS::EC2::Instance</code> 리소스의 KeyName 속성을 지정하는 데 사용됩니다. 파라미터 유형은 <code class="code">AWS::EC2::KeyPair::KeyName</code>으로, 사용자가 스택을 생성 중인 리전과 자신의 계정에서 유효한 키 페어 이름을 지정하는지 확인합니다.</p>
    <div id="JSON" name="JSON" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.multiple.json5">JSON</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Parameters": <span>{</span>
    "KeyName": <span>{</span>
      "Description": "The EC2 Key Pair to allow SSH access to the instance",
      "Type": "AWS::EC2::KeyPair::KeyName"
    }
  },
  "Resources": <span>{</span>
    "Ec2Instance": <span>{</span>
      "Type": "AWS::EC2::Instance",
      "Properties": <span>{</span>
        "SecurityGroups": [
          <span>{</span>
            "Ref": "InstanceSecurityGroup"
          },
          "MyExistingSecurityGroup"
        ],
        "KeyName": <span>{</span>
          "Ref": "KeyName"
        },
        "ImageId": "ami-7a11e213"
      }
    },
    "InstanceSecurityGroup": <span>{</span>
      "Type": "AWS::EC2::SecurityGroup",
      "Properties": <span>{</span>
        "GroupDescription": "Enable SSH access via port 22",
        "SecurityGroupIngress": [
          <span>{</span>
            "IpProtocol": "tcp",
            "FromPort": 22,
            "ToPort": 22,
            "CidrIp": "0.0.0.0/0"
          }
        ]
      }
    }
  }
}</code></pre>
    </div>
    <div id="YAML" name="YAML" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.multiple.yaml5">YAML</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Parameters:
  KeyName:
    Description: The EC2 Key Pair to allow SSH access to the instance
    Type: 'AWS::EC2::KeyPair::KeyName'
Resources:
  Ec2Instance:
    Type: 'AWS::EC2::Instance'
    Properties:
      SecurityGroups:
        - !Ref InstanceSecurityGroup
        - MyExistingSecurityGroup
      KeyName: !Ref KeyName
      ImageId: ami-7a11e213
  InstanceSecurityGroup:
    Type: 'AWS::EC2::SecurityGroup'
    Properties:
      GroupDescription: Enable SSH access via port 22
      SecurityGroupIngress:
        - IpProtocol: tcp
          FromPort: 22
          ToPort: 22
          CidrIp: 0.0.0.0/0</code></pre>
    </div>
    <p>Ref 함수는 리소스에 대해 반환되는 파라미터나 값이 정확히 원하는 값인 경우에 유용하지만, 리소스의 다른 속성이 필요할 수도 있습니다. 예를 들어 S3 오리진을 사용하여 CloudFront 배포를 생성하려는 경우 DNS 스타일 주소를 사용하여 버킷 위치를 지정해야 합니다. 일부 리소스에는 템플릿에서 사용할 수 있는 값이 지정되는 추가 속성이 있습니다. 이러한 속성을 가져오려면 <a href="./intrinsic-function-reference-getatt.html">Fn::GetAtt</a> 함수를 사용합니다. 다음 템플릿은 Fn::GetAtt 함수를 사용하여 버킷의 DomainName 속성을 가져옴으로써 S3 버킷 리소스의 DNS 이름을 지정하는 CloudFront 배포 리소스를 생성합니다.</p>
    <div id="JSON" name="JSON" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.multiple.json6">JSON</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Resources": <span>{</span>
    "myBucket": <span>{</span>
      "Type": "AWS::S3::Bucket"
    },
    "myDistribution": <span>{</span>
      "Type": "AWS::CloudFront::Distribution",
      "Properties": <span>{</span>
        "DistributionConfig": <span>{</span>
          "Origins": [
            <span>{</span>
              "DomainName": <span>{</span>
                "Fn::GetAtt": [
                  "myBucket",
                  "DomainName"
                ]
              },
              "Id": "myS3Origin",
              "S3OriginConfig": <span>{</span>}
            }
          ],
          "Enabled": "true",
          "DefaultCacheBehavior": <span>{</span>
            "TargetOriginId": "myS3Origin",
            "ForwardedValues": <span>{</span>
              "QueryString": "false"
            },
            "ViewerProtocolPolicy": "allow-all"
          }
        }
      }
    }
  }
}</code></pre>
    </div>
    <div id="YAML" name="YAML" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.multiple.yaml6">YAML</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources:
  myBucket:
    Type: 'AWS::S3::Bucket'
  myDistribution:
    Type: 'AWS::CloudFront::Distribution'
    Properties:
      DistributionConfig:
        Origins:
          - DomainName: !GetAtt 
              - myBucket
              - DomainName
            Id: myS3Origin
            S3OriginConfig: <span>{</span>}
        Enabled: 'true'
        DefaultCacheBehavior:
          TargetOriginId: myS3Origin
          ForwardedValues:
            QueryString: 'false'
          ViewerProtocolPolicy: allow-all</code></pre>
    </div>
    <p>Fn::GetAtt 함수는 두 개 파라미터, 리소스의 논리적 이름, 그리고 검색할 속성의 이름을 사용합니다. 리소스에 사용할 수 있는 전체 속성 목록은 <a href="./intrinsic-function-reference-getatt.html">Fn::GetAtt</a>를 참조하십시오. Fn::GetAtt 함수는 두 파라미터를 어레이 형태로 나열합니다. 여러 파라미터를 사용하는 함수의 경우 어레이를 사용하여 파라미터를 지정합니다.</p>
   
    <h2 id="gettingstarted.templatebasics.parameters">입력 파라미터를 사용하여 사용자 입력 수신</h2>

    <p>지금까지는 리소스에 대해 알아보았으며 템플릿 내에서 리소스를 함께 사용하는 방법도 조금 살펴보았습니다. 입력 파라미터를 참조하는 방법을 배웠지만 입력 파라미터를 자체적으로 정의하는 방법에 대해서는 아직까지 자세히 살펴보지 않았습니다. 이번에는 파라미터 선언과 사용자 입력을 제한하고 확인하는 방법에 대해 살펴보겠습니다.</p>
    <p>파라미터는 템플릿의 Parameters 객체에서 선언합니다. 파라미터에는 해당 값과 값에 대한 구속 조건을 정의하는 속성 목록이 포함됩니다. 유일한 필수 속성은 Type으로, String, Number 또는 AWS 특정 유형일 수 있습니다. 사용자에게 지정해야 하는 값의 종류에 대해 자세히 알려 주는 Description 속성을 추가할 수도 있습니다. 파라미터의 이름과 설명은 사용자가 [Create Stack] 마법사에서 템플릿을 사용할 때 [Specify Parameters] 페이지에 나타납니다.</p>
    <p>다음 템플릿 조각은 위의 [Specify Parameters] 페이지에 사용된 파라미터를 선언하는 Parameters 객체입니다.</p>
    <div id="JSON" name="JSON" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.parameters.json">JSON</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">  "Parameters": <span>{</span>
    "KeyName": <span>{</span>
      "Description" : "Name of an existing EC2 KeyPair to enable SSH access into the WordPress web server",
      "Type": "AWS::EC2::KeyPair::KeyName"
    },
    "WordPressUser": <span>{</span>
      "Default": "admin",
      "NoEcho": "true",
      "Description" : "The WordPress database admin account user name",
      "Type": "String",
      "MinLength": "1",
      "MaxLength": "16",
      "AllowedPattern" : "[a-zA-Z][a-zA-Z0-9]*"
    },
    "WebServerPort": <span>{</span>
      "Default": "8888",
      "Description" : "TCP/IP port for the WordPress web server",
      "Type": "Number",
      "MinValue": "1",
      "MaxValue": "65535"
    }
  }</code></pre>
    </div>
    <div id="YAML" name="YAML" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.parameters.yaml">YAML</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Parameters:
  KeyName:
    Description: Name of an existing EC2 KeyPair to enable SSH access into the WordPress web server
    Type: AWS::EC2::KeyPair::KeyName
  WordPressUser:
    Default: admin
    NoEcho: true
    Description: The WordPress database admin account user name
    Type: String
    MinLength: 1
    MaxLength: 16
    AllowedPattern: "[a-zA-Z][a-zA-Z0-9]*"
  WebServerPort:
    Default: 8888
    Description: TCP/IP port for the WordPress web server
    Type: Number
    MinValue: 1
    MaxValue: 65535</code></pre>
    </div>
    <p>기본값이 있는 파라미터의 경우 CloudFormation에서는 사용자가 다른 값을 지정하지 않을 경우 기본값이 사용됩니다. 기본 속성을 생략하는 경우에는 사용자가 해당 파라미터에 대해 값을 지정해야 하지만, 사용자가 값을 입력한다고 해서 값이 반드시 유효한 것은 아닙니다. 파라미터 값을 검증하려는 경우 제약을 선언하거나 AWS 특정 유형을 지정할 수 있습니다.</p>
    <p><code class="code">KeyName</code> 파라미터에는 <code class="code">Default</code> 속성이 없지만 다른 파라미터에는 있습니다. <code class="code">WordPressUser</code> 파라미터에는 <code class="code">Default: admin</code> 속성이 없지만 <code class="code">KeyName</code> 파라미터에는 있습니다. 사용자는 스택 생성 시 키 이름 값을 지정해야 합니다. 지정하지 않을 경우 CloudFormation에서 스택을 생성할 수 없으며 예외(<code class="code">Parameters: [KeyName] must have
        values</code>)가 발생합니다.</p>
    <p>AWS 특정 파라미터 유형의 경우 CloudFormation에서는 사용자가 스택 리소스를 생성하기 <em>전에</em> 사용자가 스택을 생성 중인 리전과 사용자의 AWS 계정에서 기존 값과 대조하여 입력 값을 검증합니다. 샘플 템플릿에서 <code class="code">KeyName</code> 파라미터는 <code class="code">AWS::EC2::KeyPair::KeyName</code>의 AWS 특정 파라미터 유형입니다. CloudFormation은 스택을 생성하기 전에 사용자가 유효한 EC2 키 페어 이름을 지정하는지 확인합니다. AWS 특정 파라미터 유형의 또 한 가지 예는 <code class="code">AWS::EC2::VPC::Id</code>이며 사용자는 유효한 VPC ID를 지정해야 합니다. 선행 검증에 더해 AWS 콘솔은 사용자가 Create Stack(스택 생성) 마법사를 사용할 때 유효한 EC2 키 페어 이름이나 VPC ID와 같은 AWS 특정 파라미터 유형에 대한 유효 값의 드롭다운 목록을 표시합니다.</p>
    <p><code class="code">String</code> 유형의 경우 <code class="code">MinLength</code>, <code class="code">MaxLength</code>, <code class="code">Default</code>, <code class="code">AllowedValues</code> 및 <code class="code">AllowedPattern</code> 속성을 사용하여 제약을 선언할 수 있습니다. 위의 예제에서 <code class="code">WordPressUser</code> 파라미터에는 세 가지 제약으로, 파라미터 값 길이는 1 ~ 16자여야 하며(<code class="code">MinLength</code>, <code class="code">MaxLength</code>), 문자로 시작하고 그 뒤에 문자와 숫자의 조합(<code class="code">AllowedPattern</code>)이 이어져야 합니다.</p>
    <p><code class="code">Number</code> 유형의 경우 <code class="code">MinValue</code>, <code class="code">MaxValue</code>, <code class="code">Default</code> 및 <code class="code">AllowedValues</code> 제약을 선언할 수 있습니다. 숫자는 정수 또는 부동 소수점 값일 수 있습니다. 위의 예제에서 <code class="code">WebServerPort</code> 파라미터는 1에서 65535 사이(포함)의 정수여야 합니다(<code class="code">MinValue</code>, <code class="code">MaxValue</code>).</p>
    <p>이 섹션 앞부분에서, 사용해야 하지만 템플릿에 자체적으로 포함하지 않을 암호나 사용자 이름 같은 중요 또는 구현 관련 데이터를 지정하기에 파라미터가 바람직한 방법이라고 언급했습니다. <code class="code">NoEcho</code> 속성을 <code class="code">true</code>로 설정한 경우, 아래 지정된 위치에 저장된 정보를 제외하고 CloudFormation은 스택 또는 스택 이벤트를 설명하는 모든 호출에 대해 별표(*****)로 마스킹 처리된 파라미터 값을 반환합니다. 위의 예제에서 <code class="code">WordPressUser</code> 파라미터 값은 스택 설정을 보고 있는 사람에게 표시되지 않으며, 해당 값이 별표로 반환됩니다.</p>
    <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>중요</h6></div><div class="awsdocs-note-text"><p><code class="code">NoEcho</code> 속성을 사용해도 다음에 저장된 정보는 마스킹되지 않습니다.</p><div class="itemizedlist">
           
           
           
         <ul class="itemizedlist"><li class="listitem">
           <p><code class="code">Metadata</code> 템플릿 섹션. CloudFormation은 <code class="code">Metadata</code> 섹션에 포함된 정보를 변환, 수정 또는 삭제하지 않습니다. 자세한 내용은 <a href="./metadata-section-structure.html">Metadata</a> 단원을 참조하십시오.</p>
          </li><li class="listitem">
           <p><code class="code">Outputs</code> 템플릿 섹션. 자세한 내용은 <a href="./outputs-section-structure.html">결과</a> 단원을 참조하십시오.</p>
          </li><li class="listitem">
           <p>리소스 정의의 <code class="code">Metadata</code> 속성입니다. 자세한 내용은 <a href="./aws-attribute-metadata.html">Metadata 속성</a> 단원을 참조하십시오.</p>
          </li></ul></div><p>이러한 메커니즘을 사용하여 암호나 보안 정보와 같은 중요한 정보를 포함하지 않는 것이 좋습니다.</p></div></div>
    <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>중요</h6></div><div class="awsdocs-note-text"><p>AWS Systems Manager Parameter Store 또는 AWS Secrets Manager와 같이 CloudFormation 외부에서 저장 및 관리되는 중요한 정보를 참조하려면 CloudFormation 템플릿에 직접 중요한 정보를 포함하는 대신 스택 템플릿에 있는 동적 파라미터를 사용하는 것이 좋습니다.</p><p>자세한 내용은 <a href="./security-best-practices.html#creds">템플릿에 자격 증명을 포함하지 않음</a> 모범 사례를 참조하세요.</p></div></div>
   
    <h2 id="gettingstarted.templatebasics.mappings">매핑을 사용하여 조건 값 지정</h2>

    <p>파라미터는 사용자가 스택 리소스의 속성에서 사용해야 할 고유하거나 중요한 값을 지정할 수 있도록 하는 좋은 방법입니다. 하지만 리전에 따라 설정이 달라지거나 다른 조건 또는 종속성으로 인해 사용자가 이해하기에 다소 어려울 수도 있습니다. 이러한 경우 사용자가 원하는 결과를 얻기 위해 보다 간단한 값을 지정할 수 있도록(또는 전혀 지정할 필요가 없도록( 템플릿에 자체적으로 논리를 추가할 수도 있습니다. 앞의 예제에서는 EC2 인스턴스의 ImageId 속성에 대한 AMI ID를 하드코딩했습니다. <span>이 설정은 원하는 AMI를 표현하는 미국 동부 리전에서는 문제가 되지 않습니다. 그러나 사용자가 다른 리전에서 스택을 구성하려고 하면 잘못된 AMI를 받거나 AMI를 아예 받지 못합니다. AMI ID가 리전마다 고유하여 다른 리전의 동일 AMI ID는 AMI를 나타내지 않거나 전혀 다른 AMI를 나타낼 수도 있기 때문입니다.</span></p>
    <p>이 문제를 방지하려면 조건부 입력(이 예제에서는 스택이 생성되는 리전)에 따라 올바른 AMI ID를 지정하는 방법이 필요합니다. 도움이 될 수 있는 2가지 템플릿 기능이 있으며, 각각 Mappings 객체와 <code class="code">AWS::Region</code> 가상 파라미터입니다.</p>
    <p><code class="code">AWS::Region</code> 가상 파라미터는 CloudFormation에서 스택이 생성되는 리전으로 확인되는 값입니다. 가상 파라미터는 스택 생성 시 CloudFormation에서 확인됩니다. 매핑을 사용하면 다른 값을 결정하는 조건으로서 입력 값을 사용할 수 있습니다. switch 문과 마찬가지로, 매핑은 값 세트 하나를 다른 세트와 연결합니다. <code class="code">AWS::Region</code> 파라미터와 매핑을 함께 사용하면 리전에 해당하는 AMI ID를 지정할 수 있습니다. <span>다음 템플릿에는 AMI ID를 해당 리전으로 매핑하는 데 사용되는 RegionMap이라는 매핑이 지정된 Mappings 객체가 들어 있습니다.</span></p>
    <div id="JSON" name="JSON" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.mappings.json">JSON</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Parameters": <span>{</span>
    "KeyName": <span>{</span>
      "Description": "Name of an existing EC2 KeyPair to enable SSH access to the instance",
      "Type": "String"
    }
  },
  "Mappings": <span>{</span>
    "RegionMap": <span>{</span>
      "us-east-1": <span>{</span>
        "AMI": "ami-76f0061f"
      },
      "us-west-1": <span>{</span>
        "AMI": "ami-655a0a20"
      },
      "eu-west-1": <span>{</span>
        "AMI": "ami-7fd4e10b"
      },
      "ap-southeast-1": <span>{</span>
        "AMI": "ami-72621c20"
      },
      "ap-northeast-1": <span>{</span>
        "AMI": "ami-8e08a38f"
      }
    }
  },
  "Resources": <span>{</span>
    "Ec2Instance": <span>{</span>
      "Type": "AWS::EC2::Instance",
      "Properties": <span>{</span>
        "KeyName": <span>{</span>
          "Ref": "KeyName"
        },
        "ImageId": <span>{</span>
          "Fn::FindInMap": [
            "RegionMap",
            <span>{</span>
              "Ref": "AWS::Region"
            },
            "AMI"
          ]
        },
        "UserData": <span>{</span>
          "Fn::Base64": "80"
        }
      }
    }
  }
}</code></pre>
    </div>
    <div id="YAML" name="YAML" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.mappings.yaml">YAML</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Parameters:
  KeyName:
    Description: Name of an existing EC2 KeyPair to enable SSH access to the instance
    Type: String
Mappings:
  RegionMap:
    us-east-1:
      AMI: ami-76f0061f
    us-west-1:
      AMI: ami-655a0a20
    eu-west-1:
      AMI: ami-7fd4e10b
    ap-southeast-1:
      AMI: ami-72621c20
    ap-northeast-1:
      AMI: ami-8e08a38f
Resources:
  Ec2Instance:
    Type: 'AWS::EC2::Instance'
    Properties:
      KeyName: !Ref KeyName
      ImageId: !FindInMap 
        - RegionMap
        - !Ref 'AWS::Region'
        - AMI
      UserData: !Base64 '80'</code></pre>
    </div>
    <p>RegionMap에서 각 리전은 이름-값 페어로 매핑됩니다. 이름-값 페어는 레이블과, 매핑할 값입니다. RegionMap에서 AMI는 레이블이며 AMI ID는 값입니다. 맵을 사용하여 값을 반환하려면 <a href="./intrinsic-function-reference-findinmap.html">Fn::FindInMap</a> 함수를 사용하여 맵의 이름, 매핑된 값을 찾는 데 사용되는 값, 그리고 반환할 매핑된 값의 레이블을 전달합니다.<span> 위의 예제에서 리소스 Ec2Instance의 ImageId 속성은 Fn::FindInMap 함수를 사용하여 RegionMap을 사용할 맵으로, AWS::Region을 매핑할 소스 입력 값으로, 그리고 AMI를 매핑할 값을 식별할 레이블로 지정하여 값을 결정합니다. 예를 들어 템플릿을 사용하여 미국 서부(캘리포니아 북부) 리전에서 스택을 생성한 경우 <code class="code">ImageId</code>는 <code class="code">ami-655a0a20</code>으로 설정됩니다.</span></p>
    <div class="awsdocs-note awsdocs-tip"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>작은 정보</h6></div><div class="awsdocs-note-text"><p><code class="code">AWS::Region</code> 가상 파라미터를 사용하면 스택이 생성되는 리전을 가져올 수 있습니다. <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-instance.html">AWS::EC2::Instance</a>, <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-as-group.html">AWS::AutoScaling::AutoScalingGroup</a> 및 <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-elb.html">AWS::ElasticLoadBalancing::LoadBalancer</a> 같은 일부 리소스에는 가용 영역을 지정하는 속성이 있습니다. <a href="./intrinsic-function-reference-getavailabilityzones.html">Fn::GetAZs 함수</a>를 사용하여 리전에서 모든 가용 영역의 목록을 가져올 수 있습니다.</p></div></div>
   
    <h2 id="gettingstarted.templatebasics.outputs">구성된 값과 출력 값</h2>

    <p>파라미터와 매핑은 스택 생성 시간에 특정 값을 전달하거나 확인할 수 있는 유용한 방법이지만, 파라미터의 값이나 기타 리소스 속성이 필요한 값의 일부일 뿐인 경우가 발생할 수 있습니다. 예를 들어, WordPress 템플릿의 다음 조각에서 Fn::Join 함수는 필요한 값을 만들기 위해 <code class="code">WebServerPort</code> 파라미터를 다른 리터럴 문자열과 연결하여 <code class="code">ElasticLoadBalancer</code> 리소스에 대한 <code class="code">HealthCheck</code> 속성의 <code class="code">Target</code> 하위 속성을 구성합니다.</p>
    <div id="JSON" name="JSON" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.outputs.json">JSON</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Resources": <span>{</span>
    "ElasticLoadBalancer": <span>{</span>
      "Type": "AWS::ElasticLoadBalancing::LoadBalancer",
      "Properties": <span>{</span>
        "AvailabilityZones": <span>{</span>
          "Fn::GetAZs": ""
        },
        "Instances": [
          <span>{</span>
            "Ref": "Ec2Instance1"
          },
          <span>{</span>
            "Ref": "Ec2Instance2"
          }
        ],
        "Listeners": [
          <span>{</span>
            "LoadBalancerPort": "80",
            "InstancePort": <span>{</span>
              "Ref": "WebServerPort"
            },
            "Protocol": "HTTP"
          }
        ],
        "HealthCheck": <span>{</span>
          "Target": <span>{</span>
            "Fn::Join": [
              "",
              [
                "HTTP:",
                <span>{</span>
                  "Ref": "WebServerPort"
                },
                "/"
              ]
            ]
          },
          "HealthyThreshold": "3",
          "UnhealthyThreshold": "5",
          "Interval": "30",
          "Timeout": "5"
        }
      }
    }
  }
}</code></pre>
    </div>
    <div id="YAML" name="YAML" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.outputs.yaml">YAML</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources:
  ElasticLoadBalancer:
    Type: 'AWS::ElasticLoadBalancing::LoadBalancer'
    Properties:
      AvailabilityZones: !GetAZs ''
      Instances:
        - !Ref Ec2Instance1
        - !Ref Ec2Instance2
      Listeners:
        - LoadBalancerPort: '80'
          InstancePort: !Ref WebServerPort
          Protocol: HTTP
      HealthCheck:
        Target: !Join 
          - ''
          - - 'HTTP:'
            - !Ref WebServerPort
            - /
        HealthyThreshold: '3'
        UnhealthyThreshold: '5'
        Interval: '30'
        Timeout: '5'</code></pre>
    </div>
    <p>Fn::Join 함수는 연결할 값을 구분하는 구분 기호와 표시될 순서대로 나열된 값 어레이, 이렇게 두 파라미터를 사용합니다. 위의 예제에서 Fn::Join 함수는 빈 문자열을 구분 기호로 지정하고 HTTP:를 WebServerPort 파라미터로, / 문자를 연결할 값으로 지정합니다. WebServerPort의 값이 8888인 경우 Target 속성은 다음 값으로 설정됩니다.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="text ">HTTP:8888/</code></pre>
    <p>Fn::Join 함수는 스택의 출력 값을 선언할 때도 유용합니다. 템플릿의 Outputs 객체에는 스택이 생성된 후 사용 가능하도록 설정할 값에 대한 선언이 포함되어 있습니다. 출력은 리소스 또는 입력 파라미터에 대한 중요한 정보를 편리하게 수집할 수 있는 방법입니다. 예를 들면 WordPress 템플릿에서 다음 Outputs 객체를 선언합니다.</p>
    <div id="JSON" name="JSON" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.outputs.json2">JSON</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Outputs": <span>{</span>
        "InstallURL": <span>{</span>
            "Value": <span>{</span>
                "Fn::Join": [
                    "",
                    [
                        "http://",
                        <span>{</span>
                            "Fn::GetAtt": [
                                "ElasticLoadBalancer",
                                "DNSName"
                            ]
                        },
                        "/wp-admin/install.php"
                    ]
                ]
            },
            "Description": "Installation URL of the WordPress website"
        },
        "WebsiteURL": <span>{</span>
            "Value": <span>{</span>
                "Fn::Join": [
                    "",
                    [
                        "http://",
                        <span>{</span>
                            "Fn::GetAtt": [
                                "ElasticLoadBalancer",
                                "DNSName"
                            ]
                        }
                    ]
                ]
            }
        }
    }
}</code></pre>
    </div>
    <div id="YAML" name="YAML" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.outputs.yaml2">YAML</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Outputs:
  InstallURL:
    Value: !Join 
      - ''
      - - 'http://'
        - !GetAtt 
          - ElasticLoadBalancer
          - DNSName
        - /wp-admin/install.php
    Description: Installation URL of the WordPress website
  WebsiteURL:
    Value: !Join 
      - ''
      - - 'http://'
        - !GetAtt 
          - ElasticLoadBalancer
          - DNSName</code></pre>
    </div>
    <p>각 출력 값에는 이름, 출력 값으로 반환된 값의 선언을 포함하는 Value 속성, 그리고 값에 대한 설명(선택 사항)이 포함되어 있습니다. 이전 예제에서 InstallURL은 Fn::Join 함수 호출에 의해 반환되는 문자열로, http://, ElasticLoadBalancer 리소스의 DNS 이름, 그리고 /wp-admin/install.php가 연결됩니다. 출력 값은 다음과 비슷합니다.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="text ">http://mywptests-elasticl-1gb51l6sl8y5v-206169572.<span>us-east-2</span>.elb.amazonaws.com/wp-admin/install.php</code></pre>
    <p>Get Started 자습서에서는 이 링크를 사용하여 우리가 생성한 WordPress 블록의 설치 페이지로 편리하게 이동했습니다. CloudFormation은 스택 생성이 완료된 후 출력 값을 생성합니다. CloudFormation 콘솔의 Outputs(출력) 탭이나 <code class="code">aws cloudformation describe-stacks</code> 명령을 사용하여 출력 값을 볼 수 있습니다.</p>
   
    <h2 id="gettingstarted.templatebasics.learnmore">다음 단계</h2>

    <p>조금 전에는 템플릿의 기본적인 부분과 이러한 부분들을 사용하는 방법에 대해 살펴보았습니다. 템플릿에 대해 다음과 같은 내용을 알아보았습니다.</p>
    <div class="itemizedlist">
       
       
       
       
       
       
    <ul class="itemizedlist"><li class="listitem">
        <p>리소스 및 해당 속성 선언</p>
      </li><li class="listitem">
        <p>Ref 함수를 사용한 다른 리소스 참조와 Fn::GetAtt 함수를 사용한 리소스 속성 참조</p>
      </li><li class="listitem">
        <p>파라미터를 사용하여 사용자가 스택 생성 시 값을 지정하도록 허용하고 제약 조건을 사용하여 파라미터 입력을 확인하도록 허용</p>
      </li><li class="listitem">
        <p>매핑을 사용하여 조건 값 결정</p>
      </li><li class="listitem">
        <p>Fn::Join 함수를 사용하여 파라미터, 리소스 속성 및 기타 문자열에 기초한 값 구성</p>
      </li><li class="listitem">
        <p>출력 값을 사용하여 스택의 리소스에 대한 정보를 수집합니다.</p>
      </li></ul></div>
    <p>AWSTemplateFormatVersion과 Description이라는 템플릿의 최상위 객체 두 가지에 대해서는 살펴보지 않았습니다. AWSTemplateFormatVersion은 단순히 템플릿 형식 버전입니다. 지정하지 않을 경우 CloudFormation에서 최신 버전이 사용됩니다.</p>
    <p>Description은 유효한 JSON 또는 YAML 문자열입니다. 이 설명은 [Create Stack] 마법사의 Specify Parameters 페이지에 표시됩니다. 자세한 내용은 <a href="./format-version-structure.html">포맷 버전</a> 및 <a href="./template-description-structure.html">설명</a> 단원을 참조하세요.</p>

    <p>물론, 더 전문적인 템플릿과 스택 기능도 있습니다. 다음은 자세히 알아보아야 할 몇 가지 중요 항목입니다.</p>
    <p>리소스와 함께 사용할 수 있는 <em>선택적 속성</em>:</p>
    <div class="itemizedlist">
       
       
       
    <ul class="itemizedlist"><li class="listitem">
        <p><a href="./aws-attribute-dependson.html">DependsOn 속성</a>을 사용하면 한 리소스 다음에 다른 리소스 하나를 생성하도록 지정할 수 있습니다.</p>
      </li><li class="listitem">
        <p><a href="./aws-attribute-deletionpolicy.html">DeletionPolicy 속성</a>을 사용하면 CloudFormation에서 리소스 삭제를 처리하는 방법을 지정할 수 있습니다.</p>
      </li><li class="listitem">
        <p><a href="./aws-attribute-metadata.html">Metadata</a> 속성을 사용하면 리소스와 함께 구조화된 데이터를 지정할 수 있습니다.</p>
      </li></ul></div>
    <p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-stack.html"><em>AWS::CloudFormation::Stack</em></a>을 사용하면 다른 스택을 템플릿 내에서 리소스로 중첩할 수 있습니다.</p>
  <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="주의" /> <strong>javascript가 브라우저에서 비활성화되거나 사용이 불가합니다.</strong></p><p>AWS 설명서를 사용하려면 Javascript가 활성화되어야 합니다. 지침을 보려면 브라우저의 도움말 페이지를 참조하십시오.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">문서 규칙</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./GettingStarted.Walkthrough.html">시작</div><div id="next" class="next-link" accesskey="n" href="./updating.stacks.walkthrough.html">연습: 스택 업데이트</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">이 페이지의 내용이 도움이 되었습니까? - 예</div><div class="content"><p>칭찬해 주셔서 감사합니다!</p><p>잠깐 시간을 내어 좋았던 부분을 알려 주시면 더 열심히 만들어 보겠습니다.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="feedback-tell-us" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">이 페이지의 내용이 도움이 되었습니까? - 아니요</div><div class="content"><p>이 페이지에 작업이 필요하다는 점을 알려 주셔서 감사합니다. 실망시켜 드려 죄송합니다.</p><p>잠깐 시간을 내어 설명서를 향상시킬 수 있는 방법에 대해 말씀해 주십시오.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="feedback-tell-us" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>