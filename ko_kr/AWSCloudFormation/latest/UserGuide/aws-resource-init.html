<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="ko-KR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>AWS::CloudFormation::Init - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="aws-resource-init" /><meta name="default_state" content="aws-resource-init" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" /><meta name="description" content="AWS::CloudFormation::Init 리소스 유형을 사용하여 cfn-init 도우미 스크립트에 대한 Amazon EC2 인스턴스의 메타데이터를 포함시킵니다." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="사용자 가이드" /><meta name="abstract" content="이 사용 설명서와 AWS CloudFormation을 사용하여 AWS 인프라 배포를 예상한 대로 반복해서 생성 및 관리합니다." /><meta name="guide-locale" content="ko_kr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="사용자 가이드" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="사용자 가이드" /><meta id="panorama-serviceConsolePage" value="AWS::CloudFormation::Init" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>AWS::CloudFormation::Init - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,리소스 프로비저닝,리소스 구성,인프라 관리,CloudFormer,CloudFormation 스택,CloudFormation stackset,CloudFormation 템플릿,변경 세트" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "사용자 가이드",
        "item" : "https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "AWS CloudFormation 템플릿 사용",
        "item" : "https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/template-guide.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "템플릿 구조",
        "item" : "https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/template-anatomy.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Metadata",
        "item" : "https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/metadata-section-structure.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "AWS::CloudFormation::Init",
        "item" : "https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/metadata-section-structure.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">aws-documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">사용자 가이드</a></div><div id="page-toc-src"><a href="#aws-resource-cloudformation-init-syntax">명령문</a><a href="#aws-resource-init-configsets">Configsets</a><a href="#aws-resource-init-commands">명령</a><a href="#aws-resource-init-files">파일</a><a href="#aws-resource-init-groups">그룹</a><a href="#aws-resource-init-packages">패키지</a><a href="#aws-resource-init-services">서비스</a><a href="#aws-resource-init-sources">소스</a><a href="#aws-resource-init-users">사용자</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="aws-resource-init"><code class="code">AWS::CloudFormation::Init</code></h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p><code class="code">AWS::CloudFormation::Init</code> 유형을 사용하여 cfn-init 헬퍼 스크립트에 대한 Amazon EC2 인스턴스에 메타데이터를 포함합니다. 템플릿이 cfn-init 스크립트를 호출하는 경우 이 스크립트는 <code class="code">AWS::CloudFormation::Init</code> 메타데이터 키를 루트로 하는 리소스 메타데이터를 찾습니다. cfn-init에 대한 자세한 내용은 <a href="./cfn-init.html">cfn-init</a> 단원을 참조하십시오.</p><p>cfn-init는 Linux 시스템에 대한 모든 메타데이터 유형을 지원하며, 이어지는 단원에 설명된 조건과 함께 Windows용 메타데이터 유형을 지원합니다.</p><p><code class="code">AWS::CloudFormation::Init</code> 및 cfn-init 헬퍼 스크립트를 사용하는 예제는 <a href="./deploying.applications.html">AWS CloudFormation을 사용하여 Amazon EC2에서 애플리케이션 배포</a> 섹션을 참조하세요.</p><p>cfn-init를 사용하여 Windows 스택을 생성하는 방법을 보여주는 예제는 <a href="./cfn-windows-stacks-bootstrapping.html">AWS CloudFormation Windows 스택 부트스트랩</a> 단원을 참조하십시오.</p>
      <h2 id="aws-resource-cloudformation-init-syntax">명령문</h2>

      <p>구성은 여러 섹션으로 나눠져 있습니다. 다음 템플릿 코드 조각은 템플릿 내에서 cfn-init에 대한 메타데이터를 EC2 인스턴스 리소스에 연결하는 방법을 보여줍니다.</p>
      <p>이 메타데이터는 config 키로 구성되는데, 이 키는 configset으로 그룹화할 수 있습니다. 템플릿에서 cfn-init을 호출할 때 configset을 지정할 수 있습니다. configset을 지정하지 않을 경우 cfn-init는 <em>config</em>라는 단일 config 키를 찾습니다.</p>
      <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>참고</h6></div><div class="awsdocs-note-text"><p>cfn-init 헬퍼 스크립트는 패키지, 그룹, 사용자, 소스, 파일, 명령 및 서비스 순으로 구성 섹션을 처리합니다. 다른 순서가 필요한 경우 섹션을 서로 다른 config 키로 분리한 다음 config 키를 처리해야 할 순서를 지정하는 configset을 사용합니다.</p></div></div>

      <div id="JSON" name="JSON" class="section langfilter">
         <h3 id="aws-resource-cloudformation-init-syntax.json">JSON</h3>

         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Resources": <span>{</span>
  "MyInstance": <span>{</span>
    "Type": "AWS::EC2::Instance",
    "Metadata" : <span>{</span>
      "AWS::CloudFormation::Init" : <span>{</span>
        "config" : <span>{</span>
          "packages" : <span>{</span>
            :
          },
          "groups" : <span>{</span>
            :
          },
          "users" : <span>{</span>
            :
          },
          "sources" : <span>{</span>
            :
          },
          "files" : <span>{</span>
            :
          },
          "commands" : <span>{</span>
            :
          },
          "services" : <span>{</span>
            :
          }
        }
      }
    },
    "Properties": <span>{</span>
      :
    }
  }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
         <h3 id="aws-resource-cloudformation-init-syntax.yaml">YAML</h3>

         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources: 
  MyInstance: 
    Type: AWS::EC2::Instance
    Metadata: 
      AWS::CloudFormation::Init: 
        config: 
          packages: 
            :
          groups: 
            :
          users: 
            :
          sources: 
            :
          files: 
            :
          commands: 
            :
          services: 
            :
    Properties: 
      :</code></pre>
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>참고</h6></div><div class="awsdocs-note-text"><p>Amazon EC2 인스턴스의 <code class="code">AWS::CloudFormation::Init</code> 속성을 지정하려면 <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-init.html#cfn-init-Examples">Amazon Linux 예제</a>를 참조하세요.</p></div></div>
      </div>
    
      <h2 id="aws-resource-init-configsets">Configsets</h2>

      <p>두 개 이상의 config 키를 생성하고 cfn-init를 통해 이들 키를 특정 순서대로 처리하려는 경우 원하는 순서대로 config 키를 포함하는 configset을 생성합니다.</p>
       
         <h3 id="w9aac23c15c15c23c13b5">단일 configset</h3>

         <p>다음 템플릿 코드 조각은 각각 config 키 두 개를 포함하는 <code class="code">ascending</code> 및 <code class="code">descending</code> 이름의 configset을 생성합니다.</p>
         <div id="JSON" name="JSON" class="section langfilter">
            <h4 id="aws-resource-cloudformation-init-configset-example1.json">JSON</h4>

            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"AWS::CloudFormation::Init" : <span>{</span>
    "configSets" : <span>{</span>
        "ascending" : [ "config1" , "config2" ],
        "descending" : [ "config2" , "config1" ]
    },
    "config1" : <span>{</span>
        "commands" : <span>{</span>
            "test" : <span>{</span>
                "command" : "echo \"$CFNTEST\" &gt; test.txt",
                "env" : <span>{</span> "CFNTEST" : "I come from config1." },
                "cwd" : "~"
            }
        }
    },
    "config2" : <span>{</span>
        "commands" : <span>{</span>
            "test" : <span>{</span>
                "command" : "echo \"$CFNTEST\" &gt; test.txt",
                "env" : <span>{</span> "CFNTEST" : "I come from config2" },
                "cwd" : "~"
            }
        }
    }
}     </code></pre>
         </div>
         <div id="YAML" name="YAML" class="section langfilter">
            <h4 id="aws-resource-cloudformation-init-configset-example1.yaml">YAML</h4>

            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">AWS::CloudFormation::Init: 
  configSets: 
    ascending: 
      - "config1"
      - "config2"
    descending: 
      - "config2"
      - "config1"
  config1: 
    commands: 
      test: 
        command: "echo \"$CFNTEST\" &gt; test.txt"
        env: 
          CFNTEST: "I come from config1."
        cwd: "~"
  config2: 
    commands: 
      test: 
        command: "echo \"$CFNTEST\" &gt; test.txt"
        env: 
          CFNTEST: "I come from config2"
        cwd: "~"</code></pre>
         </div>
          
            <h4 id="w9aac23c15c15c23c13b5b9">관련 cfn-init 직접 호출</h4>

            <p>다음 예제에서는 cfn-init를 호출하여 이전 예제 configset을 참조합니다. 예제 직접 호출은 명확성을 위해 생략되었으며, 전체 구문은 <a href="./cfn-init.html">cfn-init</a> 단원을 참조하십시오.</p>
            <div class="itemizedlist">
                
                
            <ul class="itemizedlist"><li class="listitem">
                  <p>cfn-init 직접 호출이 <code class="code">ascending</code> configset을 지정하는 경우:</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="userinput">cfn-init -c ascending</code></code></pre>
                  <p>스크립트가 <code class="code">config1</code>를 처리하고 나서 <code class="code">config2</code>을 처리하면 test.txt 파일에 <code class="code">I
                        come from config2</code> 텍스트가 포함됩니다.</p>
               </li><li class="listitem">
                  <p>cfn-init 직접 호출이 <code class="code">descending</code> configset을 지정하는 경우:</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="userinput">cfn-init -c descending</code></code></pre>
                  <p>스크립트가 <code class="code">config2</code>를 처리하고 나서 <code class="code">config1</code>을 처리하면 test.txt 파일에 <code class="code">I
                        come from config1</code> 텍스트가 포함됩니다.</p>
               </li></ul></div>
          
       
       
         <h3 id="w9aac23c15c15c23c13b7">여러 configset</h3>

         <p>configset을 여러 개 생성하고 cfn-init 스크립트를 사용하여 configset 시리즈를 호출할 수 있습니다. 각 configset에는 config 키 또는 다른 configset에 대한 참조 목록을 포함할 수 있습니다. 예를 들면 다음 템플릿 코드 조각은 configset 세 개를 생성합니다. 첫 번째 configset인 <code class="code">test1</code>에는 <code class="code">1</code>이라는 config 키 하나가 포함됩니다. 두 번째 configset인 <code class="code">test2</code>에는 <code class="code">test1</code> configset의 참조와 <code class="code">2</code>라는 config 키 하나가 포함됩니다. 세 번째 configset인 default에는 <code class="code">test2</code> configset의 참조가 포함됩니다.</p>
         <div id="JSON" name="JSON" class="section langfilter">
            <h4 id="aws-resource-cloudformation-init-configset-example2.json">JSON</h4>

            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"AWS::CloudFormation::Init" : <span>{</span>
    "configSets" : <span>{</span>
        "test1" : [ "1" ],
        "test2" : [ <span>{</span> "ConfigSet" : "test1" }, "2" ],
        "default" : [ <span>{</span> "ConfigSet" : "test2" } ]
    },
    "1" : <span>{</span>
        "commands" : <span>{</span>
            "test" : <span>{</span>
                "command" : "echo \"$MAGIC\" &gt; test.txt",
                "env" : <span>{</span> "MAGIC" : "I come from the environment!" },
                "cwd" : "~"
            }
        }
    },
    "2" : <span>{</span>
        "commands" : <span>{</span>
            "test" : <span>{</span>
                "command" : "echo \"$MAGIC\" &gt;&gt; test.txt",
                "env" : <span>{</span> "MAGIC" : "I am test 2!" },
                "cwd" : "~"
            }
        }
    }
}</code></pre>
         </div>
         <div id="YAML" name="YAML" class="section langfilter">
            <h4 id="aws-resource-cloudformation-init-configset-example2.yaml">YAML</h4>

            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">AWS::CloudFormation::Init:
  1:
    commands:
      test:
        command: "echo \"$MAGIC\" &gt; test.txt"
        env:
          MAGIC: "I come from the environment!"
        cwd: "~"
  2:
    commands:
      test:
        command: "echo \"$MAGIC\" &gt;&gt; test.txt"
        env:
          MAGIC: "I am test 2!"
        cwd: "~"
  configSets: 
    test1:
      - "1"
    test2:
      -
        ConfigSet: "test1"
      - "2"
    default:
      -
        ConfigSet: "test2"</code></pre>
         </div>
          
            <h4 id="w9aac23c15c15c23c13b7b9">관련 cfn-init 직접 호출</h4>

            <p>다음 예제에서는 cfn-init를 호출하여 이전 템플릿 코드 조각에 선언된 configSet을 참조합니다. 예제 직접 호출은 명확성을 위해 생략되었으며, 전체 구문은 <a href="./cfn-init.html">cfn-init</a> 단원을 참조하십시오.</p>
            <div class="itemizedlist">
                
                
                
            <ul class="itemizedlist"><li class="listitem">
                  <p><code class="code">test1</code>만 지정하는 경우:</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="userinput">cfn-init -c test1</code></code></pre>
                  <p>cfn-init가 config key <code class="code">1</code>만 처리합니다.</p>
               </li><li class="listitem">
                  <p><code class="code">test2</code>만 지정하는 경우:</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="userinput">cfn-init -c test2</code></code></pre>
                  <p>cfn-init가 config 키 <code class="code">1</code>을 처리하고 나서 config 키 <code class="code">2</code>를 처리합니다.</p>
               </li><li class="listitem">
                  <p><code class="code">default</code> configset(또는 configset 없음)을 지정하는 경우:</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="userinput">cfn-init -c default</code></code></pre>
                  <p>configset <code class="code">test2</code>를 지정할 때와 똑같이 작동합니다.</p>
               </li></ul></div>
          
       
    
      <h2 id="aws-resource-init-commands">명령</h2>

      <p>command 키를 사용하여 EC2 인스턴스에서 명령을 실행할 수 있습니다. 명령은 이름별 영문자 순으로 처리됩니다.</p>
      <div class="table-container"><div class="table-contents"><table id="w1348aac17c17c17c19c17b5"><thead>
               <tr>
                  <th>키</th>
                  <th>필수</th>
                  <th>설명</th>
               </tr>
            </thead>
               <tr>
                  <td tabindex="-1">
                     <p>명령</p>
                  </td>
                  <td tabindex="-1">필수</td>
                  <td tabindex="-1">
                     <p>실행할 명령을 지정하는 어레이나 문자열입니다. 어레이를 사용하는 경우 특수 문자를 이스케이프하거나 명령 파라미터를 따옴표로 묶을 필요가 없습니다. 어레이를 사용하여 여러 명령을 지정하지 마십시오.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>env</p>
                  </td>
                  <td tabindex="-1">선택 사항</td>
                  <td tabindex="-1">
                     <p>명령에 대한 환경 변수를 설정합니다. 이 속성은 기존 환경을 추가하는 것이 아니라 덮어씁니다.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>cwd</p>
                  </td>
                  <td tabindex="-1">선택 사항</td>
                  <td tabindex="-1">
                     <p>작업 디렉터리입니다.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>테스트</p>
                  </td>
                  <td tabindex="-1">선택 사항</td>
                  <td tabindex="-1">
                     <p>cfn-init가 command 키에 지정된 명령을 실행하는지 여부를 결정하는 테스트 명령입니다. 테스트를 통과하면 cfn-init가 명령을 실행합니다. cfn-init 스크립트는 Bash 또는 <code>cmd.exe</code> 같은 명령 인터프리터에서 테스트를 실행합니다. 테스트 통과 여부는 인터프리터가 반환하는 종료 코드에 따라 달라집니다.</p>
                     <p>Linux의 경우, 테스트를 통과하려면 테스트 명령이 종료 코드 <code class="code">0</code>을 반환해야 합니다. Windows의 경우, 테스트 명령이 %ERRORLEVEL% <code class="code">0</code>을 반환해야 합니다.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>ignoreErrors</p>
                  </td>
                  <td tabindex="-1">선택 사항</td>
                  <td tabindex="-1">
                     <p>command 키에 포함된 명령이 실패할 경우 cfn-init가 계속 실행되는지 여부를 결정하는 부울 값입니다(0이 아닌 값 반환). 명령이 실패하더라도 cfn-init가 계속 실행되도록 하려면 <code class="code">true</code>로 설정합니다. 명령이 실패할 경우 cfn-init의 실행이 중지되도록 하려면 <code class="code">false</code>로 설정합니다. 기본 값은 <code class="code">false</code>입니다.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>waitAfterCompletion</p>
                  </td>
                  <td tabindex="-1">선택 사항</td>
                  <td tabindex="-1">
                     <p>Windows 시스템에만 해당합니다. 명령으로 인해 재부팅해야 하는 경우 명령이 완료된 후 대기 시간(초)을 지정합니다. 기본값은 60초이며 "forever" 값을 지정하면 cfn-init가 종료되고 재부팅이 완료된 후에만 재개됩니다. 모든 명령에 대해 대기하지 않으려면 이 값을 <code class="code">0</code>으로 설정합니다.</p>
                  </td>
               </tr>
            </table></div></div>
       
         <h3 id="w9aac23c15c15c23c15b7">예</h3>

         <p>다음 예제 코드 조각은 <code class="code">~/test.txt</code> 파일이 존재하지 않을 경우 echo 명령을 호출합니다.</p>
         <div id="JSON" name="JSON" class="section langfilter">
            <h4 id="aws-resource-init-commands-example.json">JSON</h4>

            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"commands" : <span>{</span>
    "test" : <span>{</span>
        "command" : "echo \"$MAGIC\" &gt; test.txt",
        "env" : <span>{</span> "MAGIC" : "I come from the environment!" },
        "cwd" : "~",
        "test" : "test ! -e ~/test.txt",
        "ignoreErrors" : "false"
    },
    "test2" : <span>{</span>
        "command" : "echo \"$MAGIC2\" &gt; test2.txt",
        "env" : <span>{</span> "MAGIC2" : "I come from the environment!" },
        "cwd" : "~",
        "test" : "test ! -e ~/test2.txt",
        "ignoreErrors" : "false"
    }
}</code></pre>
         </div>
         <div id="YAML" name="YAML" class="section langfilter">
            <h4 id="aws-resource-init-commands-example.yaml">YAML</h4>

            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">commands:
  test:
    command: "echo \"$MAGIC\" &gt; test.txt"
    env:
      MAGIC: "I come from the environment!"
    cwd: "~"
    test: "test ! -e ~/test.txt"
    ignoreErrors: "false"
  test2:
    command: "echo \"$MAGIC2\" &gt; test2.txt"
    env:
      MAGIC2: "I come from the environment!"
    cwd: "~"
    test: "test ! -e ~/test2.txt"
    ignoreErrors: "false"</code></pre>
         </div>
       
    
      <h2 id="aws-resource-init-files">파일</h2>

      <p><code class="code">files</code> 키를 사용하여 EC2 인스턴스에서 파일을 생성할 수 있습니다. 콘텐츠는 템플릿에서 인라인이거나 내용을 URL에서 가져올 수 있습니다. 파일은 사전 순서로 디스크에 작성됩니다. 다음 표에는 지원되는 키가 나열되어 있습니다.</p>
      <div class="table-container"><div class="table-contents"><table id="w1348aac17c17c17c19c19b5"><thead>
               <tr>
                  <th>키</th>
                  <th>설명</th>
               </tr>
            </thead>
               <tr>
                  <td tabindex="-1">
                     <p>content</p>
                  </td>
                  <td tabindex="-1">
                     <p>문자열 또는 올바른 형식의 JSON 객체입니다. JSON 객체를 content로 사용할 경우 JSON이 디스크의 파일에 기록됩니다. JSON 객체를 디스크에 기록하기 전에 <code class="code">Fn::GetAtt</code> 또는 <code class="code">Ref</code> 같은 내장 함수를 평가합니다. symlink를 만드는 경우 symlink 대상을 content로 지정합니다.</p>
                     <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>참고</h6></div><div class="awsdocs-note-text"><p>symlink를 만드는 경우 헬퍼 스크립트가 대상 파일의 권한을 수정합니다. 현재는 대상 파일의 권한을 수정하지 않고는 symlink를 만들 수 없습니다.</p></div></div>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>source</p>
                  </td>
                  <td tabindex="-1">
                     <p>파일을 로드할 URL입니다. 이 옵션은 content 키와 함께 지정할 수 없습니다.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>인코딩</p>
                  </td>
                  <td tabindex="-1">
                     <p>인코딩 형식입니다. content가 문자열인 경우에만 사용됩니다. source를 사용 중인 경우 enconding이 적용되지 않습니다.</p>
                     <p>유효한 값: <code class="code">plain</code> | <code class="code">base64</code></p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>그룹</p>
                  </td>
                  <td tabindex="-1">
                     <p>이 파일을 소유하는 그룹의 이름입니다. Windows 시스템에는 지원되지 않습니다.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>owner</p>
                  </td>
                  <td tabindex="-1">
                     <p>이 파일을 소유하는 사용자 이름입니다. Windows 시스템에는 지원되지 않습니다.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>mode</p>
                  </td>
                  <td tabindex="-1">
                     <p>이 파일의 모드를 나타내는 6자리 8진수 값입니다. Windows 시스템에는 지원되지 않습니다. symlink에는 처음 세 자리를 사용하고 설정 권한에는 마지막 세 자리를 사용합니다. symlink를 만들려면 <code class="userinput">120<code class="replaceable">xxx</code></code>를 지정합니다. 이때 <code class="code">xxx</code>는 대상 파일의 권한을 정의합니다. 파일의 권한을 지정하려면 마지막 세 자리를 사용합니다(예: <code class="userinput">000644</code>).</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>authentication</p>
                  </td>
                  <td tabindex="-1">
                     <p>사용할 인증 방법의 이름입니다. 이 키를 지정하면 기본 인증이 재정의됩니다. 이 속성을 사용하면 <a href="./aws-resource-authentication.html">AWS::CloudFormation::Authentication</a> 리소스를 사용하여 정의하는 인증 방법을 선택할 수 있습니다.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>context</p>
                  </td>
                  <td tabindex="-1">
                     <p><a href="http://mustache.github.io/mustache.5.html" rel="noopener noreferrer" target="_blank"><span>Mustache 템플릿</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>으로 처리해야 할 파일의 컨텍스트를 지정합니다. 이 키를 사용하려면 <a href="https://github.com/defunkt/pystache" rel="noopener noreferrer" target="_blank"><span>pystache</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> 외에 <code class="code">aws-cfn-bootstrap</code> 1.3~11 이상이 설치되어 있어야 합니다.</p>
                  </td>
               </tr>
            </table></div></div>
       
         <h3 id="w9aac23c15c15c23c17b7">예제</h3>

         <p>다음 예제 코드 조각은 setup.mysql 파일을 더 큰 설치의 일부로서 생성합니다.</p>
         <div id="JSON" name="JSON" class="section langfilter">
            <h4 id="aws-resource-init-setup-mysql.json">JSON</h4>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"files" : <span>{</span>
  "/tmp/setup.mysql" : <span>{</span>
    "content" : <span>{</span> "Fn::Join" : ["", [
      "CREATE DATABASE ", <span>{</span> "Ref" : "DBName" }, ";\n",
      "CREATE USER '", <span>{</span> "Ref" : "DBUsername" }, "'@'localhost' IDENTIFIED BY '",
                       <span>{</span> "Ref" : "DBPassword" }, "';\n",
      "GRANT ALL ON ", <span>{</span> "Ref" : "DBName" }, ".* TO '", <span>{</span> "Ref" : "DBUsername" },
                       "'@'localhost';\n",
      "FLUSH PRIVILEGES;\n"
      ]]},
    "mode"  : "000644",
    "owner" : "root",
    "group" : "root"
  }
}</code></pre>
         </div>
         <div id="YAML" name="YAML" class="section langfilter">
            <h4 id="aws-resource-init-setup-mysql.yaml">YAML</h4>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">files: 
  /tmp/setup.mysql: 
    content: !Sub |
      CREATE DATABASE $<span>{</span>DBName};
      CREATE USER '$<span>{</span>DBUsername}'@'localhost' IDENTIFIED BY '$<span>{</span>DBPassword}';
      GRANT ALL ON $<span>{</span>DBName}.* TO '$<span>{</span>DBUsername}'@'localhost';
      FLUSH PRIVILEGES;
    mode: "000644"
    owner: "root"
    group: "root"</code></pre>
         </div>
         <p>전체 템플릿은 <a href="https://s3.amazonaws.com/cloudformation-templates-us-east-1/Drupal_Single_Instance.template" rel="noopener noreferrer" target="_blank"><span>https://s3.amazonaws.com/cloudformation-templates-us-east-1/Drupal_Single_Instance.template</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>에서 확인할 수 있습니다.</p>
         <p>다음 예제 코드 조작은 기존 파일 <code class="code">/tmp/myfile2.txt</code>를 가리키는 symlink <code class="code">/tmp/myfile1.txt</code>를 생성합니다. 대상 파일 <code class="code">/tmp/myfile1.txt</code>의 권한은 모드 값 <code class="code">644</code>로 정의됩니다.</p>
         <div id="JSON" name="JSON" class="section langfilter">
            <h4 id="aws-resource-init-symlink.json">JSON</h4>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"files" : <span>{</span>
  "/tmp/myfile2.txt" : <span>{</span>
    "content" : "/tmp/myfile1.txt",
    "mode" : "120644"
  }
}</code></pre>
         </div>
         <div id="YAML" name="YAML" class="section langfilter">
            <h4 id="aws-resource-init-symlink.yaml">YAML</h4>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">files:
  /tmp/myfile2.txt:
    content: "/tmp/myfile1.txt"
    mode: "120644"</code></pre>
         </div>
         <p>Mustache 템플릿은 기본적으로 구성 파일을 생성하는 데 사용됩니다. 예를 들면 S3 버킷에 구성 파일을 저장하고 <a href="./intrinsic-function-reference-join.html">Fn::Join</a>을 사용하는 대신에 템플릿에서 Refs 및 GetAtts를 보간할 수 있습니다. 다음 예제 코드 조각은 "Content for test9"를 <code>/tmp/test9.txt</code>로 출력합니다.</p>
         <div id="JSON" name="JSON" class="section langfilter">
            <h4 id="aws-resource-init-test9.json">JSON</h4>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">
"files" : <span>{</span>
    "/tmp/test9.txt" : <span>{</span>
        "content" : "Content for <span>{</span><span>{</span>name}}",
        "context" : <span>{</span> "name" : "test9" }
    }
} </code></pre>
         </div>
         <div id="YAML" name="YAML" class="section langfilter">
            <h4 id="aws-resource-init-test9.yaml">YAML</h4>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">files:
  /tmp/test9.txt:
    content: "Content for <span>{</span><span>{</span>name}}"
    context:
      name: "test9"</code></pre>
         </div>
         <p>Mustache 템플릿 작업 시 다음 사항에 유의하십시오.</p>
         <div class="itemizedlist">
             
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>처리해야 할 파일에 대해 context 키가 존재해야 합니다.</p>
            </li><li class="listitem">
               <p>context 키는 키-값 맵이어야 하지만, 중첩될 수도 있습니다.</p>
            </li><li class="listitem">
               <p>content 키를 사용하여 인라인 콘텐츠를 포함하는 파일을 처리할 수 있으며 source 키를 사용하여 원격 파일을 처리할 수 있습니다.</p>
            </li><li class="listitem">
               <p>Mustache 지원은 pystache 버전에 따라 달라집니다. 버전 0.5.2는 <a href="https://github.com/mustache/spec/tree/v1.1.2" rel="noopener noreferrer" target="_blank"><span>Mustache 1.1.2 사양</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>을 지원합니다.</p>
            </li></ul></div>
       
    
      <h2 id="aws-resource-init-groups">그룹</h2>

      <p>groups 키를 사용하여 Linux/UNIX 그룹을 생성하고 그룹 ID를 할당할 수 있습니다. groups 키는 Windows 시스템에는 지원되지 않습니다.</p>
      <p>그룹을 생성하려면 새 그룹 이름을 그룹 ID(선택 사항)로 매핑하는 새 키-값 페어를 추가합니다. groups 키에는 하나 이상의 그룹 이름이 포함될 수 있습니다. 다음 표에는 가용 키가 나열되어 있습니다.</p>
      <div class="table-container"><div class="table-contents"><table id="w1348aac17c17c17c19c21b7"><thead>
               <tr>
                  <th>키</th>
                  <th>설명</th>
               </tr>
            </thead>
               <tr>
                  <td tabindex="-1">
                     <p>
                        <code class="code">gid</code></p>
                  </td>
                  <td tabindex="-1">
                     <p>그룹 ID 번호입니다.</p>
                     <p>그룹 ID를 지정했으며 그룹 이름이 이미 존재하는 경우 그룹이 생성되지 않습니다. 다른 그룹에 해당 그룹 ID를 지정한 경우 OS에서 그룹 생성을 거부할 수도 있습니다.</p>
                     <p>예제: <code class="code"><span>{</span> "gid" : "23" }</code></p>
                  </td>
               </tr>
            </table></div></div>
      
       
         <h3 id="aws-resource-init-groups-snippet">예제 코드 조각</h3>

         <p>다음 코드 조각은 그룹 ID를 할당하지 않은 <code class="code">groupOne</code> 이름의 그룹과 그룹 ID 값 <code class="code">groupTwo</code>를 지정한 <code class="code">45</code> 이름의 그룹을 지정합니다.</p>
         <div id="JSON" name="JSON" class="section langfilter">
            <h4 id="aws-resource-init-groups-snippet.json">JSON</h4>

            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"groups" : <span>{</span>
    "groupOne" : <span>{</span>},
    "groupTwo" : <span>{</span> "gid" : "45" }
}</code></pre>
         </div>
         
         <div id="YAML" name="YAML" class="section langfilter">
            <h4 id="aws-resource-init-groups-snippet.yaml">YAML</h4>

            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">groups:
  groupOne: <span>{</span>}
  groupTwo:
    gid: "45"</code></pre>
         </div>
       
    
      <h2 id="aws-resource-init-packages">패키지</h2>

      <p>packages 키를 사용하여 사전 패키징된 애플리케이션 및 구성 요소를 다운로드 및 설치할 수 있습니다. Windows 시스템에서는 packages 키가 MSI 설치 프로그램만 지원합니다.</p>
       
         <h3 id="aws-resource-init-packages-formats">지원되는 패키지 형식</h3>

         <p>cfn-init 스크립트는 현재 apt, msi, python, rpm, rubygems, yum 및 Zypper 패키지 형식을 지원합니다. 패키지는 rpm, yum/apt/zypper 및 rubygems와 python 순서로 처리됩니다. rubygems와 python 사이에는 순서가 정해져 있지 않으며, 각 패키지 관리자 안에 있는 패키지는 특정 순서대로 설치해야 할 수도 있습니다.</p>
       
       
         <h3 id="aws-resource-init-packages-versions">버전 지정</h3>

         <p>각 패키지 관리자 내에서 각 패키지는 패키지 이름과 버전 목록으로 지정됩니다. 버전은 문자열, 버전 목록 또는 빈 문자열이나 목록일 수 있습니다. 빈 문자열이나 목록은 최신 버전 사용을 나타냅니다. rpm 관리자에서 버전은 디스크의 파일 경로 또는 URL로 지정됩니다.</p>
         <p>패키지의 버전을 지정하는 경우 cfn-init는 패키지의 새 버전이 인스턴스에 이미 설치되었더라도 해당 버전을 설치하려고 합니다. 일부 패키지 관리자는 여러 버전을 지원하지만 다른 패키지 관리자는 지원하지 않을 수도 있습니다. 자세한 내용은 패키지 관리자 설명서를 확인하세요. 버전을 지정하지 않았으며 패키지 버전이 이미 설치된 경우, cfn-init 스크립트가 새 버전을 설치할 수 없습니다. 이 스크립트는 사용자가 기존 버전을 유지하고 사용하고자 한다고 가정합니다.</p>
       
       
         <h3 id="aws-resource-init-packages-snippet">예제 코드 조각</h3>

          
            <h4 id="w9aac23c15c15c23c21b9b3">RPM, yum, Rubygems 및 Zypper</h4>

            <p>다음 코드 조각은 rpm용 버전 URL을 지정하고, yum 및 Zypper의 최신 버전과 rubygems의 chef 0.10.2 버전을 요청합니다.</p>
            <div id="JSON" name="JSON" class="section langfilter">
               <h5 id="aws-resource-init-packages-example1.json">JSON</h5>

               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"rpm" : <span>{</span>
  "epel" : "http://download.fedoraproject.org/pub/epel/5/i386/epel-release-5-4.noarch.rpm"
},
"yum" : <span>{</span>
  "httpd" : [],
  "php" : [],
  "wordpress" : []
},
"rubygems" : <span>{</span>
  "chef" : [ "0.10.2" ]
},
"zypper" : <span>{</span>
  "git" : []
}</code></pre>
            </div>
            <div id="YAML" name="YAML" class="section langfilter">
               <h5 id="aws-resource-init-packages-example1.yaml">YAML</h5>

               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">rpm:
  epel: "http://download.fedoraproject.org/pub/epel/5/i386/epel-release-5-4.noarch.rpm"
yum:
  httpd: []
  php: []
  wordpress: []
rubygems:
  chef:
    - "0.10.2"
zypper:
  git: []</code></pre>
            </div>
          
          
            <h4 id="w9aac23c15c15c23c21b9b5">MSI 패키지</h4>

            <p>다음 코드 조각은 MSI 패키지의 URL을 지정합니다.</p>
            <div id="JSON" name="JSON" class="section langfilter">
               <h5 id="aws-resource-init-packages-example2.json">JSON</h5>

               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"msi" : <span>{</span>
  "awscli" : "https://s3.amazonaws.com/aws-cli/AWSCLI64.msi"
}</code></pre>
            </div>
            <div id="YAML" name="YAML" class="section langfilter">
               <h5 id="aws-resource-init-packages-example2.yaml">YAML</h5>

               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">msi:
  awscli: "https://s3.amazonaws.com/aws-cli/AWSCLI64.msi"</code></pre>
            </div>
          
       
    
      <h2 id="aws-resource-init-services">서비스</h2>

      <p>services 키를 사용하여 인스턴스가 실행될 때 활성화되거나 비활성화될 서비스를 정의할 수 있습니다. Linux 시스템에서 이 키는 sysvinit 또는 systemd를 사용하여 지원됩니다. Windows 시스템에서는 Windows 서비스 관리자를 사용하여 지원됩니다.</p>
      <p>services 키를 사용하면 소스, 패키지 및 파일에 대한 종속성을 지정할 수 있으므로 설치하려는 파일로 인해 재시작해야 하는 경우 cfn-init가 서비스 재시작을 처리합니다. 예를 들어 Apache HTTP Server 패키지를 다운로드하는 경우 패키지 설치는 스택 생성 프로세스 중에 Apache HTTP Server를 자동으로 시작합니다. 하지만 Apache HTTP Server 구성이 스택 생성 프로세스의 뒷부분에서 업데이트되는 경우 Apache 서버를 다시 시작하지 않으면 업데이트가 적용되지 않습니다. services 키를 사용하여 Apache HTTP 서비스가 다시 시작되도록 할 수 있습니다.</p>
      <p>다음 표에는 지원되는 키가 나열되어 있습니다.</p>
      <div class="table-container"><div class="table-contents"><table id="w1348aac17c17c17c19c25b9"><thead>
               <tr>
                  <th>키</th>
                  <th>설명</th>
               </tr>
            </thead>
               <tr>
                  <td tabindex="-1">
                     <p>ensureRunning</p>
                  </td>
                  <td tabindex="-1">
                     <p>cfn-init가 완료된 후에도 서비스를 실행 중 상태로 유지하려면 true로 설정합니다.</p>
                     <p>cfn-init가 완료된 후 서비스가 실행되지 않도록 하려면 false로 설정합니다.</p>
                     <p>서비스 상태를 변경하지 않으려면 이 키를 생략합니다.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>enabled</p>
                  </td>
                  <td tabindex="-1">
                     <p>서비스가 부팅 시 자동으로 시작되도록 하려면 true로 설정합니다.</p>
                     <p>서비스가 부팅 시 자동으로 시작되지 않도록 하려면 false로 설정합니다.</p>
                     <p>이 속성을 변경하지 않으려면 이 키를 생략합니다.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>files</p>
                  </td>
                  <td tabindex="-1">
                     <p>파일 목록입니다. cfn-init가 파일 블록을 통해 직접 한 번 변경하는 경우 이 서비스가 다시 시작됩니다.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>sources</p>
                  </td>
                  <td tabindex="-1">
                     <p>디렉터리 목록입니다. cfn-init가 이러한 디렉터리 중 하나로 아카이브의 압축을 푸는 경우 이 서비스가 다시 시작됩니다.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>packages</p>
                  </td>
                  <td tabindex="-1">
                     <p>패키지 관리자와 패키지 이름 목록 간 맵입니다. cfn-init가 이러한 패키지 중 하나를 설치하거나 업데이트하는 경우 이 서비스가 다시 시작됩니다.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>명령</p>
                  </td>
                  <td tabindex="-1">
                     <p>명령 이름 목록입니다. cfn-init가 지정된 명령을 실행하면 이 서비스가 다시 시작됩니다.</p>
                  </td>
               </tr>
            </table></div></div>
       
         <h3 id="w9aac23c15c15c23c23c11">예제</h3>

          
            <h4 id="w9aac23c15c15c23c23c11b3">Linux</h4>

            <p>다음 Linux 코드 조각은 다음과 같이 서비스를 구성합니다.</p>
            <div class="itemizedlist">
                
                
                
            <ul class="itemizedlist"><li class="listitem">
                  <p>cfn-init에서 <code class="code">/etc/nginx/nginx.conf</code> 또는 <code class="code">/var/www/html</code>을 수정하는 경우 nginx 서비스가 다시 시작됩니다.</p>
               </li><li class="listitem">
                  <p>cfn-init가 yum을 사용하여 php 또는 spawn-fcgi를 설치하거나 업데이트하는 경우 php-fastcgi 서비스가 다시 시작됩니다.</p>
               </li><li class="listitem">
                  <p>sendmail 서비스는 systemd를 사용하여 중지되고 비활성화됩니다.</p>
               </li></ul></div>
            <div id="JSON" name="JSON" class="section langfilter">
               <h5 id="aws-resource-init-services-example1.json">JSON</h5>

               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"services" : <span>{</span>
  "sysvinit" : <span>{</span>
    "nginx" : <span>{</span>
      "enabled" : "true",
      "ensureRunning" : "true",
      "files" : ["/etc/nginx/nginx.conf"],
      "sources" : ["/var/www/html"]
    },
    "php-fastcgi" : <span>{</span>
      "enabled" : "true",
      "ensureRunning" : "true",
      "packages" : <span>{</span> "yum" : ["php", "spawn-fcgi"] }
    }
  },
  "systemd": <span>{</span>
    "sendmail" : <span>{</span>
      "enabled" : "false",
      "ensureRunning" : "false"
    }
  }
}</code></pre>
            </div>
            <div id="YAML" name="YAML" class="section langfilter">
               <h5 id="aws-resource-init-services-example1.yaml">YAML</h5>

               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">services:
  sysvinit:
    nginx:
      enabled: "true"
      ensureRunning: "true"
      files:
        - "/etc/nginx/nginx.conf"
      sources:
        - "/var/www/html"
    php-fastcgi:
      enabled: "true"
      ensureRunning: "true"
      packages:
        yum:
          - "php"
          - "spawn-fcgi"
  systemd:
    sendmail:
      enabled: "false"
      ensureRunning: "false"</code></pre>
               <p>서비스와 함께 systemd를 사용하려면 서비스에 시스템 단위 파일이 구성되어 있어야 합니다. 다음 단위 파일을 사용하면 systemd가 다중 사용자 서비스 대상에서 <a href="./cfn-hup.html">cfn-hup</a> 대몬(daemon)을 시작 및 중지할 수 있습니다.</p>
                  
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="conf ">[Unit]
Description=cfn-hup daemon
[Service]
ExecStart=/usr/bin/cfn-hup -v
PIDFile=/var/run/cfn-hup.pid
[Install]
WantedBy=multi-user.target</code></pre>
               <p>이 구성에서는 cfn-hup가 <em>/usr/bin</em> 디렉터리 아래에 설치되어 있다고 가정합니다. 그러나 cfn-hup가 설치되는 실제 위치는 플랫폼에 따라 다를 수 있습니다. 다음과 같이 <em>/etc/systemd/system/cfn-hup.service.d/override.conf</em>에 재정의 파일을 생성하여 이 구성을 재정의할 수 있습니다.</p>
                  
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="conf "># In this example, cfn-hup executable is available under /usr/local/bin
[Service]
ExecStart=
ExecStart=/usr/local/bin/cfn-hup -v</code></pre>
            </div>
          
          
            <h4 id="aws-resource-init-windows-example">Windows</h4>

            <p>다음 Windows 코드 조각은 <a href="./cfn-hup.html">cfn-hup</a> 서비스를 시작하고 [Automatic]으로 설정한 다음 <code class="code">cfn-init</code>가 지정된 구성 파일을 수정하는 경우 서비스를 다시 시작합니다.</p>
            <div id="JSON" name="JSON" class="section langfilter">
               <h5 id="aws-resource-init-services-example2.json">JSON</h5>

               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"services" : <span>{</span>
  "windows" : <span>{</span>
    "cfn-hup" : <span>{</span>
      "enabled" : "true",
      "ensureRunning" : "true",
      "files" : ["c:\\cfn\\cfn-hup.conf", "c:\\cfn\\hooks.d\\cfn-auto-reloader.conf"]
    }
  }
}</code></pre>
            </div>
            <div id="YAML" name="YAML" class="section langfilter">
               <h5 id="aws-resource-init-services-example2.yaml">YAML</h5>

               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">services:
  windows:
    cfn-hup:
      enabled: "true"
      ensureRunning: "true"
      files:
        - "c:\\cfn\\cfn-hup.conf"
        - "c:\\cfn\\hooks.d\\cfn-auto-reloader.conf"</code></pre>
            </div>
          
       
    
      <h2 id="aws-resource-init-sources">소스</h2>

      <p>sources 키를 사용하여 아카이브 파일을 다운로드한 후 EC2 인스턴스의 대상 디렉터리에 압축을 풉니다. 이 키는 Linux 및 Windows 시스템에서 모두 완벽하게 지원됩니다.</p>
       
         <h6>지원되는 형식</h6>
         <p>지원되는 형식:</p>
       
      <div class="itemizedlist">
          
          
          
          
      <ul class="itemizedlist"><li class="listitem">
            <p><code class="code">tar</code></p>
         </li><li class="listitem">
            <p><code class="code">tar+gzip</code></p>
         </li><li class="listitem">
            <p><code class="code">tar+bz2</code></p>
         </li><li class="listitem">
            <p><code class="code">zip</code></p>
         </li></ul></div>
     
         <h3 id="aws-resource-init-sources-examples">예제</h3>
      
            <h4 id="aws-resource-init-sources-examples-github">GitHub</h4>
            <p>GitHub를 소스 제어 시스템으로 사용하는 경우 cfn-init와 소스 패키지 메커니즘을 사용하여 애플리케이션의 특정 버전을 가져올 수 있습니다. GitHub를 사용하면 다음과 같이 URL을 통해 특정 버전에서 zip 또는 tar를 생성할 수 있습니다.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="text ">https://github.com/&lt;your directory&gt;/(zipball|tarball)/&lt;version&gt;</code></pre>
            <p>예를 들면 다음 코드 조각은 <em>main</em> 버전을 <code>.tar</code> 파일로 풀다운합니다.</p>
            <div id="JSON" name="JSON" class="section langfilter">
               <h5 id="aws-resource-init-sources-example1.json">JSON</h5>

               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"sources" : <span>{</span>
  "/etc/puppet" : "https://github.com/user1/cfn-demo/tarball/main"
  }</code></pre>
            </div>
            <div id="YAML" name="YAML" class="section langfilter">
               <h5 id="aws-resource-init-sources-example1.yaml">YAML</h5>

               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">sources:
  /etc/puppet: "https://github.com/user1/cfn-demo/tarball/main"</code></pre>
            </div>
          
      
            <h4 id="aws-resource-init-sources-examples-s3">S3 Bucket</h4>
            <p>다음 예제에서는 S3 버킷에서 tarball을 다운로드하여 <code class="code">/etc/myapp</code>에 압축을 풉니다.</p>
            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>참고</h6></div><div class="awsdocs-note-text"><p>소스로 인증 자격 증명을 사용할 수 있습니다. 하지만 소스 블록에 인증 키를 추가할 수는 없습니다. 대신에 <code class="code">S3AccessCreds</code> 블록에 버킷 키를 포함합니다. Amazon S3 인증 자격 증명에 대한 자세한 내용은 <a href="./aws-resource-authentication.html">AWS::CloudFormation::Authentication</a> 단원을 참조하십시오.</p><p><span>예제는 <a href="https://s3.amazonaws.com/cloudformation-templates-us-east-1/S3Bucket_SourceAuth.template" rel="noopener noreferrer" target="_blank"><span>예제 템플릿</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>을 참조하십시오.</span></p></div></div>
            <div id="JSON" name="JSON" class="section langfilter">
               <h5 id="aws-resource-init-sources-example2.json">JSON</h5>

               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"sources" : <span>{</span>
  "/etc/myapp" : "https://s3.amazonaws.com/mybucket/myapp.tar.gz"
  }</code></pre>
               
               
               

            </div>
            <div id="YAML" name="YAML" class="section langfilter">
               <h5 id="aws-resource-init-sources-example2.yaml">YAML</h5>

               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">sources:
  /etc/myapp: "https://s3.amazonaws.com/mybucket/myapp.tar.gz"</code></pre>
               
               
               


            </div>
          
       
    
      <h2 id="aws-resource-init-users">사용자</h2>

      <p>users 키를 사용하여 EC2 인스턴스에서 Linux/UNIX 사용자를 생성할 수 있습니다. users 키는 Windows 시스템에는 지원되지 않습니다.</p>
      <p>다음 표에는 지원되는 키가 나열되어 있습니다.</p>
      <div class="table-container"><div class="table-contents"><table id="w1348aac17c17c17c19c29b7"><thead>
               <tr>
                  <th>키</th>
                  <th>설명</th>
               </tr>
            </thead>
               <tr>
                  <td tabindex="-1">
                     <p>uid</p>
                  </td>
                  <td tabindex="-1">
                     <p>사용자 ID. 다른 사용자 ID의 사용자 이름이 존재하는 경우 생성 프로세스가 실패합니다. 해당 사용자 ID가 기존 사용자에게 이미 할당된 경우 운영 체제에서 생성 요청을 거부할 수 있습니다.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>그룹</p>
                  </td>
                  <td tabindex="-1">
                     <p>그룹 이름 목록. 사용자는 목록의 각 그룹에 추가됩니다.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>homeDir</p>
                  </td>
                  <td tabindex="-1">
                     <p>사용자의 홈 디렉터리.</p>
                  </td>
               </tr>
            </table></div></div>
       
         <h3 id="aws-resource-init-users-example">예</h3>

         <p>사용자는 <code class="code">/sbin/nologin</code> 셸을 사용하여 비대화형 시스템 사용자로 생성됩니다. 이러한 생성은 설계에 따른 것이므로 수정할 수 없습니다.</p>
         <div id="JSON" name="JSON" class="section langfilter">
            <h4 id="aws-resource-init-users-example.json">JSON</h4>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"users" : <span>{</span>
    "myUser" : <span>{</span>
        "groups" : ["groupOne", "groupTwo"],
        "uid" : "50",
        "homeDir" : "/tmp"
    }
}</code></pre>
         </div>
         <div id="YAML" name="YAML" class="section langfilter">
            <h4 id="aws-resource-init-users-example.yaml">YAML</h4>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">users:
  myUser:
    groups:
      - "groupOne"
      - "groupTwo"
    uid: "50"
    homeDir: "/tmp"</code></pre>
         </div>
       
   <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="주의" /> <strong>javascript가 브라우저에서 비활성화되거나 사용이 불가합니다.</strong></p><p>AWS 설명서를 사용하려면 Javascript가 활성화되어야 합니다. 지침을 보려면 브라우저의 도움말 페이지를 참조하십시오.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">문서 규칙</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./aws-resource-authentication.html">AWS::CloudFormation::Authentication</div><div id="next" class="next-link" accesskey="n" href="./aws-resource-cloudformation-interface.html">AWS::CloudFormation::Interface</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">이 페이지의 내용이 도움이 되었습니까? - 예</div><div class="content"><p>칭찬해 주셔서 감사합니다!</p><p>잠깐 시간을 내어 좋았던 부분을 알려 주시면 더 열심히 만들어 보겠습니다.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="feedback-tell-us" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-init.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">이 페이지의 내용이 도움이 되었습니까? - 아니요</div><div class="content"><p>이 페이지에 작업이 필요하다는 점을 알려 주셔서 감사합니다. 실망시켜 드려 죄송합니다.</p><p>잠깐 시간을 내어 설명서를 향상시킬 수 있는 방법에 대해 말씀해 주십시오.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="feedback-tell-us" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-init.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>