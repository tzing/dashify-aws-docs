<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="ko-KR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>CloudFormation 문제 해결 - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="troubleshooting" /><meta name="default_state" content="troubleshooting" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/troubleshooting.html" /><meta name="description" content="AWS CloudFormation 스택 생성, 업데이트 또는 삭제 시 발생할 수 있는 문제를 해결합니다." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="사용자 가이드" /><meta name="abstract" content="이 사용 설명서와 AWS CloudFormation을 사용하여 AWS 인프라 배포를 예상한 대로 반복해서 생성 및 관리합니다." /><meta name="guide-locale" content="ko_kr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/troubleshooting.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="사용자 가이드" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="사용자 가이드" /><meta id="panorama-serviceConsolePage" value="CloudFormation 문제 해결" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>CloudFormation 문제 해결 - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/troubleshooting.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/troubleshooting.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/troubleshooting.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,리소스 프로비저닝,리소스 구성,인프라 관리,CloudFormer,CloudFormation 스택,CloudFormation stackset,CloudFormation 템플릿,변경 세트" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "사용자 가이드",
        "item" : "https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "CloudFormation 문제 해결",
        "item" : "https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/troubleshooting.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">aws-documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">사용자 가이드</a></div><div id="page-toc-src"><a href="#basic-ts-guide">문제 해결 가이드</a><a href="#troubleshooting-errors">오류 해결</a><a href="#contacting-support"> Support에 문의</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="troubleshooting">CloudFormation 문제 해결</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>AWS CloudFormation을 사용할 때 CloudFormation 스택 생성, 업데이트 또는 삭제 시 문제가 발생할 수 있습니다. 다음 단원은 발생할 수 있는 몇 가지 일반적인 문제를 해결하는 데 도움이 될 수 있습니다.</p><p>CloudFormation에 대한 일반적인 질문은 <a href="https://aws.amazon.com/cloudformation/faqs/" rel="noopener noreferrer" target="_blank"><span>AWS CloudFormation FAQ</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>를 참조하세요. <a href="https://forums.aws.amazon.com/forum.jspa?forumID=92" rel="noopener noreferrer" target="_blank"><span>AWS CloudFormation 포럼</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>에서 답을 검색하고 질문을 올릴 수도 있습니다.</p><div class="highlights" id="inline-topiclist"><h6>주제</h6><ul><li><a href="#basic-ts-guide">문제 해결 가이드</a></li><li><a href="#troubleshooting-errors">오류 해결</a></li><li><a href="#contacting-support"> Support에 문의</a></li></ul></div>
        <h2 id="basic-ts-guide">문제 해결 가이드</h2>

        <p>AWS CloudFormation에서 스택 생성, 업데이트 또는 삭제에 실패하면 오류 메시지 또는 로그를 보고 해당 문제에 대한 자세한 내용을 확인할 수 있습니다. 다음 태스크는 CloudFormation 문제 해결을 위한 일반적인 방법을 설명합니다. 구체적인 오류와 해결책에 대해서는 <a href="#troubleshooting-errors">오류 해결</a> 단원을 참조하십시오.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><a href="https://console.aws.amazon.com/cloudformation/" rel="noopener noreferrer" target="_blank"><span>CloudFormation 콘솔을</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> 사용하여 스택 상태를 볼 수 있습니다. 콘솔에서는 스택 생성, 업데이트 또는 삭제 중 스택 이벤트 목록을 볼 수 있습니다. 이 목록에서 실패 이벤트를 찾은 다음 해당 이벤트에 대한 상태 사유를 확인할 수 있습니다. 상태 사유에는 문제 해결에 도움이 될 수 있는 AWS CloudFormation 또는 특정 서비스의 오류 메시지가 포함되어 있을 수 있습니다. 스택 이벤트 보기에 대한 자세한 내용은 <a href="./cfn-console-view-stack-data-resources.html">AWS Management Console에서 AWS CloudFormation 스택 데이터 및 리소스 보기</a> 단원을 참조하십시오.</p>
            </li><li class="listitem">
                <p>Amazon EC2 문제의 경우 cloud-init 및 cfn 로그를 확인하십시오. Amazon EC2 인스턴스에 대한 이러한 로그는 <code>/var/log/</code> 디렉터리에 게시됩니다. 이러한 로그는 AWS CloudFormation에서 인스턴스를 설정하는 동안 발생하는 프로세스 및 명령 출력을 캡처합니다. Windows의 경우 <code>%ProgramFiles%\Amazon\EC2ConfigService</code>에서 EC2Configure 서비스를 보고, <code>%ProgramData%\Amazon\EC2-Windows\Launch\Logs</code>에서 EC2 Launch를 보고, <code>%ProgramData%\Amazon\EC2Launch\log</code>에서 EC2 Launch v2를 보고, <code>C:\cfn\log</code>에서 cfn 로그를 봅니다.</p>
                <p>또한 AWS Management Console에 로그를 표시하는 Amazon CloudWatch에 로그가 게시되도록 AWS CloudFormation 템플릿을 구성할 수 있습니다. 그러면 Amazon EC2 인스턴스에 연결할 필요가 없습니다. 자세한 내용은 Application Management 블로그의 <a href="https://aws.amazon.com/blogs/devops/view-cloudformation-logs-in-the-console/" rel="noopener noreferrer" target="_blank"><span>View CloudFormation Logs in the Console</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>을 참조하세요.</p>
            </li></ul></div>
     
        <h2 id="troubleshooting-errors">오류 해결</h2>

        <p>AWS CloudFormation 스택과 관련해 다음 오류가 발생하면 아래 해결책에 따라 문제의 원인을 찾아 해결할 수 있습니다.</p>
        <div class="highlights" id="inline-topiclist"><h6>주제</h6><ul><li><a href="#troubleshooting-errors-delete-stack-fails">스택 삭제 실패</a></li><li><a href="#troubleshooting-errors-dependency-error">종속성 오류</a></li><li><a href="#troubleshooting-errors-error-parsing-parameter-when-passing-a-list">목록 전달 시 발생하는 파라미터 구분 분석 오류</a></li><li><a href="#troubleshooting-errors-insufficient-iam-permissions">IAM 권한 부족</a></li><li><a href="#troubleshooting-errors-invalid-value-or-unsupported-resource-property">잘못된 값 또는 지원되지 않는 리소스 속성</a></li><li><a href="#troubleshooting-errors-limit-exceeded">할당량 초과</a></li><li><a href="#troubleshooting-errors-nested-stacks-are-stuck">중첩 스택이 UPDATE_COMPLETE_CLEANUP_IN_PROGRESS, UPDATE_ROLLBACK_COMPLETE_CLEANUP_IN_PROGRESS 또는 UPDATE_ROLLBACK_IN_PROGRESS 상태에서 정체됨</a></li><li><a href="#troubleshooting-errors-no-updates-to-perform">수행할 업데이트 없음</a></li><li><a href="#troubleshooting-resource-did-not-stabilize">스택 생성, 업데이트 또는 삭제 작업 중 리소스 안정화에 실패</a></li><li><a href="#troubleshooting-errors-security-group-does-not-exist-in-vpc">VPC에 보안 그룹이 없음</a></li><li><a href="#troubleshooting-errors-update-rollback-failed">업데이트 롤백에 실패</a></li><li><a href="#troubleshooting-errors-wait-condition-didnt-receive-the-required-number-of-signals">대기 조건이 Amazon EC2 인스턴스에서 필요한 수의 신호를 수신하지 못함</a></li><li><a href="#troubleshooting-errors-resource-removed-not-deleted">리소스가 스택에서 제거되었지만 삭제되지 않음</a></li></ul></div>
         
            <h3 id="troubleshooting-errors-delete-stack-fails">스택 삭제 실패</h3>

            <p>이러한 상황을 해결하려면 다음 작업을 시도해 보십시오.</p>
            <div class="itemizedlist">
                 
                 
                 
                 
                     
            <ul class="itemizedlist"><li class="listitem">
                    <p>삭제하려면 일부 리소스는 비어 있어야 합니다. 예를 들어, 버킷 또는 보안 그룹을 삭제하려면 Amazon S3 버킷의 객체를 모두 삭제하거나 Amazon EC2 보안 그룹의 인스턴스를 모두 제거해야 합니다.</p>
                </li><li class="listitem">
                    <p>스택의 리소스를 삭제하려면 필수 IAM 권한이 있어야 합니다. AWS CloudFormation 권한 이외에 기본 서비스(예: Amazon S3 또는 Amazon EC2)를 사용할 수 있어야 합니다.</p>
                </li><li class="listitem">
                    <p>AWS CloudFormation에서 리소스를 삭제할 수 없어 스택이 <code class="code">DELETE_FAILED</code> 상태인 경우 <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_DeleteStack.html"><code class="code">RetainResources</code></a> 파라미터를 사용하여 삭제를 다시 실행한 다음 AWS CloudFormation에서 삭제할 수 없는 리소스를 지정합니다. AWS CloudFormation은 보존된 리소스를 삭제하지 않고 스택을 삭제합니다. 유지하려는 객체가 포함된 리소스(예: S3 버킷)를 삭제할 수 없지만 스택을 삭제하고자 하는 경우에 리소스를 보존하면 유용합니다.</p>
                    <p>스택을 삭제한 후에는 연결된 AWS 서비스를 사용하여 보존한 리소스를 수동으로 삭제할 수 있습니다.</p>
                </li><li class="listitem">
                    <p>종료 방지 기능이 활성화된 스택은 삭제할 수 없습니다. 종료 방지 기능이 활성화된 스택을 삭제하려고 시도하면 삭제가 실패하고 스택(상태 포함)은 변함없이 그대로 유지됩니다. 스택의 종료 방지 기능을 비활성화한 다음 삭제 작업을 다시 수행하십시오.</p>
                    <p>여기에는 루트 스택의 종료 방지 기능이 활성화된 <a href="./using-cfn-nested-stacks.html">중첩 스택</a>이 포함됩니다. 루트 스택의 종료 방지 기능을 비활성화한 다음 삭제 작업을 다시 수행합니다. 중첩 스택은 직접 삭제하지 말고 루트 스택과 모든 리소스를 삭제하는 과정에서 삭제하는 것이 좋습니다.</p>
                    <p>자세한 내용은 <a href="./using-cfn-protect-stacks.html">스택 삭제 방지</a> 단원을 참조하십시오.</p>
                </li><li class="listitem">
                        <p>다른 모든 문제의 경우 AWS Support이 있으면 AWS Support 사례를 생성할 수 있습니다. <a href="#contacting-support"> Support에 문의</a> 섹션을 참조하세요.</p>
                </li></ul></div>
         
         
            <h3 id="troubleshooting-errors-dependency-error">종속성 오류</h3>

            <p>종속성 오류를 해결하려면 템플릿의 기타 리소스에 따라 리소스에 <code class="code">DependsOn</code> 속성을 추가합니다. 경우에 따라 AWS CloudFormation이 올바른 순서로 리소스를 생성 또는 삭제할 수 있도록 종속성을 명시적으로 선언해야 합니다. 예를 들어, 동일한 스택에서 인터넷 게이트웨이를 사용하여 탄력적 IP 및 VPC를 생성하는 경우 탄력적 IP는 인터넷 게이트웨이 연결에 따라 달라져야 합니다. 자세한 내용은 <a href="./aws-attribute-dependson.html">DependsOn 속성</a> 섹션을 참조하세요.</p>
         
         
            <h3 id="troubleshooting-errors-error-parsing-parameter-when-passing-a-list">목록 전달 시 발생하는 파라미터 구분 분석 오류</h3>

            <p>AWS Command Line Interface 또는 AWS CloudFormation을 사용하여 목록을 전달하는 경우 각 쉼표 앞에 이스케이프 문자(<code class="code">\</code>)를 추가합니다. 다음 샘플은 AWS CLI를 사용하는 경우 입력 파라미터를 지정하는 방법을 보여줍니다.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="text ">ParameterKey=CIDR,ParameterValue='10.10.0.0/16\,10.10.0.0/24\,10.10.1.0/24'</code></pre>
         
         
            <h3 id="troubleshooting-errors-insufficient-iam-permissions">IAM 권한 부족</h3>

            <p>AWS CloudFormation 스택 작업을 수행하는 경우 AWS CloudFormation 사용 권한 뿐만 아니라 템플릿에 설명된 기본 서비스 사용 권한도 있어야 합니다. 예를 들어, Amazon S3 버킷을 생성하거나 Amazon EC2 인스턴스를 생성하는 경우 Amazon S3 또는 Amazon EC2에 대한 권한이 필요합니다. IAM 정책을 검토하고 AWS CloudFormation 스택 작업을 수행하기 전에 필수 권한이 있는지 확인합니다. 자세한 내용을 알아보려면 <a href="./using-iam-template.html">AWS Identity and Access Management을(를) 통한 액세스 제어</a> 섹션을 참조하세요.</p>
         
         
            <h3 id="troubleshooting-errors-invalid-value-or-unsupported-resource-property">잘못된 값 또는 지원되지 않는 리소스 속성</h3>

            <p>AWS CloudFormation 스택을 생성 또는 업데이트하는 경우 잘못된 입력 파라미터, 지원되지 않는 리소스 속성 이름 또는 지원되지 않는 리소스 속성 값으로 인해 스택에 오류가 발생할 수 있습니다. 입력 파라미터의 경우 리소스가 존재하는지 확인합니다. 예를 들어, Amazon EC2 키 페어 또는 VPC ID를 지정하는 경우 해당 리소스가 사용자 계정에 있어야 하고, 스택을 생성 또는 업데이트한 리전에 있어야 합니다. AWS 특정 <a href="./parameters-section-structure.html#parameters-section-structure-syntax">파라미터 유형</a>을 사용하여 올바른 값을 사용하는지 확인할 수 있습니다.</p>
            <p>리소스 속성 이름 및 값의 경우 올바른 이름 및 값을 사용하도록 템플릿을 업데이트합니다. 전체 리소스 및 해당 속성 이름 목록은 <a href="./aws-template-resource-type-ref.html">AWS 리소스 및 속성 유형 참조</a> 단원을 참조하십시오.</p>
         
         
            <h3 id="troubleshooting-errors-limit-exceeded">할당량 초과</h3>

            <p>리소스 할당량에 도달하지 않았는지 확인합니다. 예를 들어 시작할 수 있는 Amazon EC2 온디맨드 인스턴스의 최대 개수는 5개입니다. 계정 할당량보다 더 많은 Amazon EC2 온디맨드 인스턴스를 생성하려고 하면 인스턴스 생성에 실패하고 오류 <code class="code">Status=start_failed</code>가 수신됩니다. 서비스별 기본 AWS 할당량을 보려면 AWS 일반 참조<em></em>의 <a href="https://docs.aws.amazon.com/general/latest/gr/aws_service_limits.html">AWS Service Quotas</a>를 참조하세요.</p>
            <p>AWS CloudFormation 할당량 및 조정 전략은 <a href="./cloudformation-limits.html">AWS CloudFormation 할당량</a> 섹션을 참조하세요.</p>
            <p>또한 업데이트 중 리소스가 바뀌면 AWS CloudFormation은 이전 리소스를 삭제하기 전에 새 리소스를 생성합니다. 이로 인해 계정이 리소스 할당량을 초과할 수 있고, 결국 업데이트에 실패할 수 있습니다. 초과 리소스를 삭제하거나 <a href="https://docs.aws.amazon.com/general/latest/gr/aws_service_limits.html">할당량 증가</a>를 요청할 수 있습니다.</p>
         
         
            <h3 id="troubleshooting-errors-nested-stacks-are-stuck">중첩 스택이 <code class="code">UPDATE_COMPLETE_CLEANUP_IN_PROGRESS</code>, <code class="code">UPDATE_ROLLBACK_COMPLETE_CLEANUP_IN_PROGRESS</code> 또는 <code class="code">UPDATE_ROLLBACK_IN_PROGRESS</code> 상태에서 정체됨</h3>

            <p>중첩 스택 롤백에 실패합니다. 중첩 스택 간의 잠재적인 리소스 종속성으로 인해 모든 중첩 스택이 업데이트되거나 롤백될 때까지 AWS CloudFormation에서 중첩 스택 리소스 정리를 시작하지 않습니다. 중첩 스택 롤백에 실패하면 AWS CloudFormation은 나머지 중첩 스택의 상태와 관계없이 작업을 모두 취소합니다. 업데이트 또는 롤백을 완료했으나 다른 중첩 스택의 롤백 실패로 인해 AWS CloudFormation으로부터 정리 시작 신호를 수신하지 못한 중첩 스택의 상태는 <code class="code">UPDATE_COMPLETE_CLEANUP_IN_PROGRESS</code> 또는 <code class="code">UPDATE_ROLLBACK_COMPLETE_CLEANUP_IN_PROGRESS</code>입니다. 업데이트에 실패했으나 롤백 신호를 수신하지 못한 중첩 스택의 상태는 <code class="code">UPDATE_ROLLBACK_IN_PROGRESS</code>입니다.</p>
            <p>스택 템플릿이 스택의 상태를 정확하게 반영하지 않은 경우 AWS CloudFormation 외부에서 수행된 변경 사항으로 인해 중첩 스택 롤백에 실패할 수 있습니다. 또한 그룹이 생성 또는 업데이트된 경우 중첩 스택의 Auto Scaling 그룹에 리소스 신호 제한 시간이 짧게 지정되어 있으면 중첩 스택에 실패할 수 있습니다.</p>
            <p>스택을 수정하려면 <a href="#contacting-support">AWS Support</a>에 문의하세요.</p>
         
         
            <h3 id="troubleshooting-errors-no-updates-to-perform">수행할 업데이트 없음</h3>

            <p>AWS CloudFormation 스택을 업데이트하려면 템플릿 또는 파라미터 값 변경 사항을 AWS CloudFormation에 제출해야 합니다. 그러나 AWS CloudFormation은 일부 템플릿 변경 사항을 업데이트로 인식하지 않습니다(예: 삭제 정책, 업데이트 정책, 조건 선언 또는 출력 선언에 대한 변경 사항). 다른 변경 없이 이러한 변경을 수행해야 하는 경우 리소스에 대한 <a href="./aws-attribute-metadata.html">메타데이터</a> 속성을 추가 또는 수정할 수 있습니다.</p>
            <p>업데이트 중 템플릿 수정에 대한 자세한 내용은 <a href="./using-cfn-updating-stacks-get-template.html">스택 템플릿 수정</a> 단원을 참조하십시오.</p>
         
         
            <h3 id="troubleshooting-resource-did-not-stabilize">스택 생성, 업데이트 또는 삭제 작업 중 리소스 안정화에 실패</h3>


            <p>작업이 AWS CloudFormation 제한 시간을 초과했거나 AWS 서비스가 중단되어 리소스가 응답하지 않았습니다. 서비스 중단의 경우 관련 AWS 서비스가 실행 중인지 <a href="https://status.aws.amazon.com/" rel="noopener noreferrer" target="_blank"><span>확인</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>한 다음 스택 작업을 다시 시도합니다.</p>
            <p>AWS 서비스가 성공적으로 실행된 경우에는 스택에 다음 리소스 중 하나가 포함되어 있는지 확인합니다.</p>
            <div class="itemizedlist">
                 
                 
                 
                 
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">AWS::AutoScaling::AutoScalingGroup</code>(생성, 업데이트 및 삭제 작업의 경우)</p>
                </li><li class="listitem">
                    <p><code class="code">AWS::CertificateManager::Certificate</code>(생성 작업의 경우)</p>
                </li><li class="listitem">
                    <p><code class="code">AWS::CloudFormation::Stack</code>(생성, 업데이트 및 삭제 작업의 경우)</p>
                </li><li class="listitem">
                    <p><code class="code">AWS::ElasticSearch::Domain</code>(업데이트 작업의 경우)</p>
                </li><li class="listitem">
                    <p><code class="code">AWS::RDS::DBCluster</code>(생성 및 업데이트 작업의 경우)</p>
                </li><li class="listitem">
                    <p><code class="code">AWS::RDS::DBInstance</code>(생성, 업데이트 및 삭제 작업의 경우)</p>
                </li><li class="listitem">
                    <p><code class="code">AWS::Redshift::Cluster</code>(업데이트 작업의 경우)</p>
                </li></ul></div>

            <p>이러한 리소스에 대한 작업은 기본 제한 시간보다 오래 걸릴 수 있습니다. 제한 시간은 사용하는 리소스와 자격 증명에 따라 달라집니다. 제한 시간을 연장하려면 스택 작업을 수행할 때 <a href="./using-iam-servicerole.html">서비스 역할</a>을 지정합니다. 이미 서비스 역할을 사용 중이거나 스택에 목록에 없는 리소스가 포함된 경우 <a href="#contacting-support">AWS Support</a>에 문의하세요.</p>
            <p>스택 상태가 <code class="code">UPDATE_ROLLBACK_FAILED</code>인 경우 <a href="#troubleshooting-errors-update-rollback-failed">업데이트 롤백 실패</a>를 참조하십시오.</p>

         
         
            <h3 id="troubleshooting-errors-security-group-does-not-exist-in-vpc">VPC에 보안 그룹이 없음</h3>

            <p>VPC에 지정한 보안 그룹이 있는지 확인합니다. 보안 그룹이 없으면 보안 그룹 이름이 아니라 보안 그룹 ID를 지정했는지 확인합니다. 예를 들어, <code class="code">AWS::EC2::SecurityGroupIngress</code> 리소스에는 <code class="code">SourceSecurityGroupName</code> 및 <code class="code">SourceSecurityGroupId</code> 속성이 있습니다. VPC 보안 그룹의 경우 <code class="code">SourceSecurityGroupId</code> 속성을 사용하고 보안 그룹 ID를 지정해야 합니다.</p>
         
         
            <h3 id="troubleshooting-errors-update-rollback-failed">업데이트 롤백에 실패</h3>

            <p>종속 리소스가 원래 상태로 되돌아 갈 수 없으면 롤백에 실패합니다(<code class="code">UPDATE_ROLLBACK_FAILED</code> 상태). 예를 들어, AWS CloudFormation 외부에서 삭제된 이전 데이터베이스 인스턴스로 롤백되는 스택이 있을 수 있습니다. AWS CloudFormation에서는 이 데이터베이스가 삭제되었는지 알지 못하므로 해당 데이터베이스 인스턴스가 존재하는 것으로 간주하고 롤백을 시도합니다. 따라서 업데이트 롤백에 실패합니다.</p>
            <p>실패 원인에 따라 오류를 수동으로 수정하거나 계속해서 롤백할 수 있습니다. 계속해서 롤백하여 스택을 작업 상태(<code class="code">UPDATE_ROLLBACK_COMPLETE</code> 상태)로 되돌린 다음 스택을 다시 업데이트해 볼 수 있습니다. 다음 목록에는 업데이트 롤백 실패를 일으키는 일반적인 오류에 대한 해결책이 나와 있습니다.</p>
            <div class="itemizedlist">
                 
                 
                 
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <div class="variablelist">
                         
                    <dl>
                            <dt><span class="term">필요한 신호 수 수신에 실패</span></dt>
                            <dd>
                                <p><a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/signal-resource.html">signal-resource</a> 명령을 사용하여 성공 신호를 대기 중인 리소스에 필요한 수의 성공 신호를 수동으로 전송한 다음 계속해서 업데이트를 롤백합니다. 예를 들어 업데이트 롤백 중 Auto Scaling 그룹의 인스턴스가 지정된 제한 시간 이내에 성공 신호를 보내지 못할 수 있습니다. Auto Scaling 그룹에 성공 신호를 수동으로 전송합니다. 업데이트 롤백을 계속 진행하면 AWS CloudFormation에서 수동으로 보낸 신호를 감지해 롤백을 계속 진행합니다.</p>
                            </dd>
                        </dl></div>
                </li><li class="listitem">
                    <div class="variablelist">
                         
                    <dl>
                            <dt><span class="term">AWS CloudFormation 외부에서 리소스 변경이 수행됨</span></dt>
                            <dd>
                                <p>원본 스택의 템플릿과 일치하도록 리소스를 수동으로 동기화한 다음 계속해서 업데이트를 롤백합니다. 예를 들어, AWS CloudFormation에서 롤백하려는 리소스를 수동으로 삭제한 경우 원본 스택과 이름 및 속성이 동일한 리소스를 수동으로 생성해야 합니다.</p>
                            </dd>
                        </dl></div>
                </li><li class="listitem">
                    <div class="variablelist">
                         
                    <dl>
                            <dt><span class="term">권한 부족</span></dt>
                            <dd>
                                <p>리소스를 수정할 IAM 권한이 충분한지 확인한 다음 업데이트 롤백을 계속 진행합니다. 예를 들어, IAM 정책이 S3 버킷의 생성은 허용하지만 해당 버킷의 수정은 허용하지 않을 수 있습니다. 정책에 수정 작업을 추가하십시오.</p>
                            </dd>
                        </dl></div>
                </li><li class="listitem">
                    <div class="variablelist">
                         
                    <dl>
                            <dt><span class="term">잘못된 보안 토큰</span></dt>
                            <dd>
                                <p>AWS CloudFormation에는 새로운 자격 증명 세트가 필요합니다. 아무 변경도 필요하지 않습니다. 계속해서 업데이트를 롤백하면 자격 증명이 갱신됩니다.</p>
                            </dd>
                        </dl></div>
                </li><li class="listitem">
                    <div class="variablelist">
                         
                    <dl>
                            <dt><span class="term">제한 오류</span></dt>
                            <dd>
                                <p>필요 없는 리소스를 삭제하거나 <a href="https://docs.aws.amazon.com/general/latest/gr/aws_service_limits.html">할당량 증가</a>를 요청한 다음 계속해서 업데이트 롤백을 진행합니다. 예를 들어, EC2 온디맨드 인스턴스 개수에 대한 계정 할당량이 5개인데 업데이트 롤백이 이 할당량을 초과한 경우 롤백에 실패합니다.</p>
                            </dd>
                        </dl></div>
                </li><li class="listitem">
                    <div class="variablelist">
                         
                    <dl>
                            <dt><span class="term">리소스가 안정화되지 않음</span></dt>
                            <dd>
                                <p>작업이 AWS CloudFormation 제한 시간을 초과했거나 AWS 서비스가 중단되어 리소스가 응답하지 않았습니다. 아무 변경도 필요하지 않습니다. 리소스 작업이 완료되거나 AWS 서비스가 다시 작동 상태가 되면 계속해서 업데이트를 롤백합니다.</p>
                            </dd>
                        </dl></div>
                </li></ul></div>
            <p>계속해서 업데이트를 롤백하려면 AWS CloudFormation 콘솔 또는 AWS 명령줄 인터페이스(AWS CLI)를 사용할 수 있습니다. 자세한 내용은 <a href="./using-cfn-updating-stacks-continueupdaterollback.html">업데이트 롤백 계속</a> 단원을 참조하십시오.</p>
            <p>이러한 해결책을 모두 수행해도 문제가 해결되지 않으면 AWS CloudFormation에서 성공적으로 롤백할 수 없는 리소스를 건너뛸 수 있습니다. 자세한 내용은 <em>AWS CloudFormation API 참조</em>의 <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_ContinueUpdateRollback.html"><code class="code">ContinueUpdateRollback</code></a> API 작업에서 <code class="code">ResourcesToSkip</code> 파라미터를 참조하세요. AWS CloudFormation에서는 지정된 리소스 상태를 <code class="code">UPDATE_COMPLETE</code>로 설정하고 계속해서 스택을 롤백합니다. 롤백이 완료된 이후에는 건너뛴 리소스의 상태가 스택 템플릿에 있는 리소스의 상태와 일치하지 않게 됩니다. 다른 스택을 업데이트하기 전에 서로 일치하도록 리소스를 수정하거나 스택을 업데이트해야 합니다. 그렇지 않으면 후속 스택 업데이트에 실패할 수 있고, 이 경우 스택을 복구할 수 없습니다.</p>
         
         
            <h3 id="troubleshooting-errors-wait-condition-didnt-receive-the-required-number-of-signals">대기 조건이 Amazon EC2 인스턴스에서 필요한 수의 신호를 수신하지 못함</h3>

            <p>이러한 상황을 해결하려면 다음 작업을 시도해 보십시오.</p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>사용 중인 AMI에 AWS CloudFormation 헬퍼 스크립트가 설치되어 있는지 확인합니다. AMI에 헬퍼 스크립트가 포함되어 있지 않은 경우에는 인스턴스로 다운로드할 수 있습니다. 자세한 내용은 <a href="./cfn-helper-scripts-reference.html">CloudFormation 헬퍼 스크립트 참조</a> 단원을 참조하십시오.</p>
                </li><li class="listitem">
                    <p>인스턴스에서 <code class="code">cfn-signal</code> 명령이 성공적으로 실행되었는지 확인합니다. <code>/var/log/cloud-init.log</code> 또는 <code>/var/log/cfn-init.log</code>와 같은 로그를 보면 인스턴스 시작을 디버그하는 데 도움이 될 수 있습니다. 인스턴스에 로그인해 로그를 검색할 수 있지만 <a href="./cfn-console-add-tags.html">실패 시 롤백을 사용하지 않도록 설정</a>하거나 그렇지 않으면 스택 생성 실패 후 AWS CloudFormation에서 인스턴스를 삭제합니다. 또한 Amazon CloudWatch에 <a href="https://aws.amazon.com/blogs/devops/view-cloudformation-logs-in-the-console/" rel="noopener noreferrer" target="_blank"><span>로그를 게시</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>할 수도 있습니다. Windows의 경우 <code>C:\cfn\log</code>에서 cfn 로그를, <code>%ProgramFiles%\Amazon\EC2ConfigService</code>에서 EC2Configure 서비스 로그를 확인할 수 있습니다.</p>
                </li><li class="listitem">
                    <p>인스턴스가 인터넷에 연결되어 있는지 확인합니다. 인스턴스가 VPC에 있는 경우 인스턴스가 프라이빗 서브넷에 있는 경우에는 NAT 디바이스를 통해 또는 퍼블릭 서브넷에 있는 경우에는 인터넷 게이트웨이를 통해 인터넷에 연결할 수 있어야 합니다. 인스턴스의 인터넷 연결을 테스트하려면 퍼블릭 웹 페이지(예: <code class="code">http://aws.amazon.com</code>)에 액세스해 봅니다. 예를 들어 인스턴스에서 다음 명령을 실행할 수 있습니다. 이 명령이 HTTP 200 상태 코드를 반환해야 합니다.</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="userinput">curl -I https://aws.amazon.com</code></code></pre>
                    <p>NAT 디바이스 구성에 대한 내용은 <em>Amazon VPC 사용 설명서</em>의 <a href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-nat.html">NAT</a>를 참조하세요.</p>
                </li></ul></div>
         
         
            <h3 id="troubleshooting-errors-resource-removed-not-deleted">리소스가 스택에서 제거되었지만 삭제되지 않음</h3>
            <p>스택 업데이트 중 CloudFormation이 스택에서 리소스를 제거했지만 리소스를 삭제하지 않았습니다. 리소스가 아직 남아 있지만 더 이상 CloudFormation을 통해 액세스할 수 없습니다. 스택 업데이트 중에 다음과 같은 경우에 문제가 발생할 수 있습니다.</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>CloudFormation이 기존 리소스를 교체해야 하므로, 먼저 새로운 리소스를 만들고 이전 리소스를 삭제하려고 시도합니다.</p>
                </li><li class="listitem">
                    <p>스택 템플릿에서 리소스를 제거했기 때문에 CloudFormation이 스택에서 리소스를 삭제하려고 시도합니다.</p>
                </li></ul></div>
            <p>그러나 CloudFormation이 리소스를 삭제하지 못하는 경우가 있습니다. 예를 들어 사용자가 특정 유형의 리소스를 삭제할 권한이 없을 수 있습니다.</p>
            <p>CloudFormation은 세 번에 걸쳐 이전 리소스를 삭제하려고 시도합니다. CloudFormation이 이전 리소스를 삭제하지 못하면 스택에서 이전 리소스를 제거하고 스택 업데이트를 진행합니다. 스택 업데이트가 완료되면 CloudFormation이 <code class="code">UPDATE_COMPLETE</code> 스택 이벤트를 실행하지만 하나 이상의 리소스를 삭제할 수 없다고 되어 있는 <code class="code">StatusReason</code>이(가) 포함됩니다. CloudFormation은 특정 리소스에 대한 <code class="code">DELETE_FAILED</code> 이벤트를 실행하는데, CloudFormation이 리소스 삭제에 실패한 이유가 자세히 나와 있는 해당 <code class="code">StatusReason</code>도 제공됩니다.</p>
            <p>이 문제를 해결하려면 콘솔 또는 API를 사용하여 기본 서비스에 대한 리소스를 직접 삭제하세요.</p>
         
     
        <h2 id="contacting-support"> Support에 문의</h2>

        <p>AWS Support를 사용하는 경우 <a href="https://console.aws.amazon.com/support/home#/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/support/home#/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>에서 기술 지원 사례를 생성할 수 있습니다. 지원 센터에 연락하기 전에 다음 정보를 수집합니다.</p>
        <div class="itemizedlist">
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>스택의 ID. 스택 ID는 <a href="https://console.aws.amazon.com/cloudformation/" rel="noopener noreferrer" target="_blank"><span>AWS CloudFormation 콘솔</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>의 <b>Overview</b>(개요) 탭에서 확인할 수 있습니다. 자세한 내용은 <a href="./cfn-console-view-stack-data-resources.html">AWS Management Console에서 AWS CloudFormation 스택 데이터 및 리소스 보기</a> 단원을 참조하십시오.</p>
                <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>중요</h6></div><div class="awsdocs-note-text"><p>AWS CloudFormation 외부의 스택은 변경하지 마십시오. AWS CloudFormation 외부에서 스택을 변경하면 스택이 복구 불가능한 상태가 될 수 있습니다.</p></div></div>
            </li><li class="listitem">
                <p>모든 스택 오류 메시지. 스택 오류 메시지 보기에 대한 내용은 <a href="#basic-ts-guide">문제 해결 가이드</a> 단원을 참조하십시오.</p>
            </li><li class="listitem">
                <p>Amazon EC2 문제의 경우 cloud-init 및 cfn 로그를 수집하십시오. Amazon EC2 인스턴스에 대한 이러한 로그는 <code>/var/log/</code> 디렉터리에 게시됩니다. 이러한 로그는 인스턴스를 설정하는 동안 발생하는 프로세스 및 명령 출력을 캡처합니다. Windows의 경우 <code>%ProgramFiles%\Amazon\EC2ConfigService</code> 및 <code>C:\cfn\log</code>에서 EC2Configure 서비스 및 cfn 로그를 수집합니다.</p>
            </li></ul></div>
        <p><a href="https://forums.aws.amazon.com/forum.jspa?forumID=92" rel="noopener noreferrer" target="_blank"><span>AWS CloudFormation 포럼</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>에서 답을 검색하고 질문을 올릴 수도 있습니다.</p>
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="주의" /> <strong>javascript가 브라우저에서 비활성화되거나 사용이 불가합니다.</strong></p><p>AWS 설명서를 사용하려면 Javascript가 활성화되어야 합니다. 지침을 보려면 브라우저의 도움말 페이지를 참조하십시오.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">문서 규칙</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./example_cross_ApiGatewayDataTracker_section.html">COVID-19 데이터를 추적하는 REST API 생성</div><div id="next" class="next-link" accesskey="n" href="./ReleaseHistory.html">릴리스 이력</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">이 페이지의 내용이 도움이 되었습니까? - 예</div><div class="content"><p>칭찬해 주셔서 감사합니다!</p><p>잠깐 시간을 내어 좋았던 부분을 알려 주시면 더 열심히 만들어 보겠습니다.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="feedback-tell-us" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/troubleshooting.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">이 페이지의 내용이 도움이 되었습니까? - 아니요</div><div class="content"><p>이 페이지에 작업이 필요하다는 점을 알려 주셔서 감사합니다. 실망시켜 드려 죄송합니다.</p><p>잠깐 시간을 내어 설명서를 향상시킬 수 있는 방법에 대해 말씀해 주십시오.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="feedback-tell-us" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/troubleshooting.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>