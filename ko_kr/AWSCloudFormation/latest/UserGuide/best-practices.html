<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="ko-KR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>AWS CloudFormation 모범 사례 - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="best-practices" /><meta name="default_state" content="best-practices" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/best-practices.html" /><meta name="description" content="모범 사례를 통해 보다 효과적이고 안전하게 AWS CloudFormation을 사용할 수 있습니다." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="사용자 가이드" /><meta name="abstract" content="이 사용 설명서와 AWS CloudFormation을 사용하여 AWS 인프라 배포를 예상한 대로 반복해서 생성 및 관리합니다." /><meta name="guide-locale" content="ko_kr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/best-practices.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="사용자 가이드" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="사용자 가이드" /><meta id="panorama-serviceConsolePage" value="AWS CloudFormation 모범 사례" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>AWS CloudFormation 모범 사례 - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/best-practices.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/best-practices.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/best-practices.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,리소스 프로비저닝,리소스 구성,인프라 관리,CloudFormer,CloudFormation 스택,CloudFormation stackset,CloudFormation 템플릿,변경 세트" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "사용자 가이드",
        "item" : "https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "AWS CloudFormation 모범 사례",
        "item" : "https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/best-practices.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">aws-documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">사용자 가이드</a></div><div id="page-toc-src"><a href="#shortenfeedbackloop">피드백 루프를 단축하여 전달 속도 개선</a><a href="#organizingstacks">수명 주기 및 소유권별로 스택 구성</a><a href="#cross-stack">교차 스택 참조를 사용하여 공유 리소스 내보내기</a><a href="#limits">모든 리소스 유형에 대한 할당량 확인</a><a href="#reuse">템플릿을 재사용하여 다양한 환경에서 스택 복제</a><a href="#modules-reuse">모듈을 사용하여 리소스 구성 재사용</a><a href="#parmtypes">AWS 특정 파라미터 유형 사용</a><a href="#parmconstraints">파라미터 제약 조건 사용</a><a href="#pseudoparameters">유사 파라미터를 사용하여 이식성 향상</a><a href="#cfninit">AWS::CloudFormation::Init를 사용하여 Amazon EC2 인스턴스에서 소프트웨어 애플리케이션 배포</a><a href="#helper-scripts">최신 헬퍼 스크립트 사용</a><a href="#validate">템플릿을 사용하기 전에 템플릿 확인</a><a href="#donttouch">AWS CloudFormation을 통해 모든 스택 리소스 관리</a><a href="#cfn-best-practices-changesets">스택을 업데이트하기 전에 변경 세트 생성</a><a href="#stackpolicy">스택 정책 사용</a><a href="#code">코드 검토 및 버전 관리를 사용하여 사용자 템플릿 관리</a><a href="#update-ec2-linux">정기적으로 Amazon EC2 인스턴스 업데이트</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="best-practices">AWS CloudFormation 모범 사례</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>모범 사례는 전체 워크플로우에서 보다 효과적이고 안전하게 AWS CloudFormation을 사용할 수 있도록 돕는 권장 사항입니다. 스택을 계획 및 구성하는 방법, 이러한 스택에서 실행되는 리소스 및 소프트웨어 애플리케이션을 형성하는 템플릿을 생성하는 방법 및 스택 및 리소스를 관리하는 방법을 알아봅니다. 다음 모범 사례는 현재 CloudFormation 고객의 실제 경험을 기반으로 합니다.</p><div class="variablelist">
     
     
     
  <dl>
      <dt><b><span class="term">계획 및 구성</span></b></dt>
      <dd>
        <div class="itemizedlist">
           
           
           
           
           
           
           
        <ul class="itemizedlist"><li class="listitem">
            <p><a href="#shortenfeedbackloop">피드백 루프를 단축하여 전달 속도 개선</a></p>
          </li><li class="listitem">
            <p><a href="#organizingstacks">수명 주기 및 소유권별로 스택 구성</a></p>
          </li><li class="listitem">
            <p><a href="#cross-stack">교차 스택 참조를 사용하여 공유 리소스 내보내기</a></p>
          </li><li class="listitem">
            <p><a href="./security-best-practices.html#use-iam-to-control-access">IAM을 사용하여 액세스 제어</a></p>
          </li><li class="listitem">
            <p><a href="#reuse">템플릿을 재사용하여 다양한 환경에서 스택 복제</a></p>
          </li><li class="listitem">
            <p><a href="#limits">모든 리소스 유형에 대한 할당량 확인</a>
            </p>
          </li><li class="listitem">
            <p><a href="#modules-reuse">모듈을 사용하여 리소스 구성 재사용</a></p>
          </li></ul></div>
      </dd>
    
      <dt><b><span class="term">템플릿 생성</span></b></dt>
      <dd>
        <div class="itemizedlist">
           
           
           
           
           
           
           
        <ul class="itemizedlist"><li class="listitem">
            <p><a href="./security-best-practices.html#creds">템플릿에 자격 증명을 포함하지 않음</a></p>
          </li><li class="listitem">
            <p><a href="#parmtypes">AWS 특정 파라미터 유형 사용</a></p>
          </li><li class="listitem">
            <p><a href="#parmconstraints">파라미터 제약 조건 사용</a></p>
          </li><li class="listitem">
            <p><a href="#pseudoparameters">유사 파라미터를 사용하여 이식성 향상</a></p>
          </li><li class="listitem">
            <p><a href="#cfninit">AWS::CloudFormation::Init를 사용하여 Amazon EC2 인스턴스에서 소프트웨어 애플리케이션 배포</a></p>
          </li><li class="listitem">
            <p><a href="#helper-scripts">최신 헬퍼 스크립트 사용</a></p>
          </li><li class="listitem">
            <p><a href="#validate">템플릿을 사용하기 전에 템플릿 확인</a></p>
          </li></ul></div>
      </dd>
    
      <dt><b><span class="term">스택 관리</span></b></dt>
      <dd>
        <div class="itemizedlist">
           
           
           
           
           
           
        <ul class="itemizedlist"><li class="listitem">
            <p><a href="#donttouch">AWS CloudFormation을 통해 모든 스택 리소스 관리</a></p>
          </li><li class="listitem">
            <p><a href="#cfn-best-practices-changesets">스택을 업데이트하기 전에 변경 세트 생성</a></p>
          </li><li class="listitem">
            <p><a href="#stackpolicy">스택 정책 사용</a></p>
          </li><li class="listitem">
            <p><a href="./security-best-practices.html#cloudtrail">AWS CloudTrail을 사용하여 AWS CloudFormation 호출 로깅</a></p>
          </li><li class="listitem">
            <p><a href="#code">코드 검토 및 버전 관리를 사용하여 사용자 템플릿 관리</a></p>
          </li><li class="listitem">
            <p><a href="#update-ec2-linux">정기적으로 Amazon EC2 인스턴스 업데이트</a></p>
          </li></ul></div>
      </dd>
    </dl></div>
    <h2 id="shortenfeedbackloop">피드백 루프를 단축하여 전달 속도 개선</h2>

    <p>CloudFormation 템플릿으로 설명하는 인프라에 대한 피드백 루프를 단축하는 데 도움이 되는 방법과 도구를 채택하세요. 여기에는 워크스테이션에서 템플릿의 초기 린팅 및 테스트 수행이 포함됩니다. 이를 통해 소스 코드 리포지토리에 기여를 제출하기 전에도 잠재적인 구문 및 구성 문제를 발견할 수 있습니다. 이러한 문제를 조기에 발견하면 개발, 품질 보증 및 생산과 같은 공식 수명 주기 환경에 도달하는 것을 방지할 수 있습니다. 이러한 조기 테스트 및 빠른 실패 접근 방식은 재작업 대기 시간을 줄이고, 잠재적 영향 영역을 줄이고, 성공적인 프로비저닝 작업에 대한 신뢰도를 높이는 이점을 제공합니다.</p>
    <p>빠른 실패 실행을 달성하는 데 도움이 되는 도구 선택에는 <a href="https://github.com/aws-cloudformation/cfn-lint" rel="noopener noreferrer" target="_blank"><span>AWS CloudFormation Linter</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>(cfn-lint) 및 <a href="https://github.com/aws-ia/taskcat" rel="noopener noreferrer" target="_blank"><span>TaskCat</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> 명령줄 도구가 포함됩니다. cfn-lint 도구는 <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-resource-specification.html">AWS CloudFormation 리소스 사양</a>에 대해 CloudFormation 템플릿을 검증할 수 있는 기능을 제공합니다. 여기에는 리소스 속성의 유효한 값 확인과 모범 사례가 포함됩니다. cfn-lint용 플러그인은 <a href="https://github.com/aws-cloudformation/cfn-lint#editor-plugins" rel="noopener noreferrer" target="_blank"><span>여러 코드 편집기에서 사용</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>할 수 있습니다. 이를 통해 편집기 내에서 문제를 시각화하고 직접적인 린터 피드백을 얻을 수 있습니다. 기여를 커밋할 때 템플릿 검증을 수행할 수 있도록 소스 코드 리포지토리의 구성에 cfn-lint를 통합하도록 선택할 수도 있습니다. 자세한 내용은 <a href="https://aws.amazon.com/blogs/mt/git-pre-commit-validation-of-aws-cloudformation-templates-with-cfn-lint/" rel="noopener noreferrer" target="_blank"><span>Git pre-commit validation of AWS CloudFormation templates with cfn-lint</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>를 참조하세요. 초기 린팅을 수행하고 cfn-lint에서 발생할 수 있는 모든 문제를 수정한 후에는 TaskCat을 사용하여 프로그래밍 방식으로 선택한 AWS 리전에 스택을 생성하여 템플릿을 테스트할 수 있습니다. 또한 TaskCat은 선택한 각 리전의 합격/불합격 성적이 포함된 보고서를 생성합니다.</p>
    <p>두 도구를 모두 사용하여 피드백 루프를 단축하는 방법을 단계별로 실습해 보려면 <a href="https://catalog.workshops.aws/cfn101/en-US" rel="noopener noreferrer" target="_blank"><span>AWS CloudFormation Workshop</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>의 <a href="https://catalog.workshops.aws/cfn101/en-US/basics/templates/linting-and-testing" rel="noopener noreferrer" target="_blank"><span>Linting and Testing lab</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>을 수행하세요.</p>
   
    <h2 id="organizingstacks">수명 주기 및 소유권별로 스택 구성</h2>

    <p>AWS 리소스의 수명 주기 및 소유권을 사용하면 각 스택에 어떤 리소스가 있어야 하는지 결정하는 데 도움이 됩니다. 처음에는 하나의 스택에 모든 리소스를 넣어 둘 수 있지만 스택의 규모가 커지고 범위가 넓어지면 단일 스택을 관리하는 것이 번거롭고 시간이 오래 걸릴 수 있습니다. 공통 수명 주기 및 소유권으로 리소스를 그룹화하면 소유자는 다른 리소스에 영향을 미치지 않고 고유한 프로세스 및 일정을 사용하여 리소스 세트를 변경할 수 있습니다.</p>
    <p>예를 들어 개발자 및 엔지니어로 구성된 팀이 로드 밸런서를 지원하는 Autoscaling 인스턴스에서 호스팅되는 웹사이트를 소유하고 있다고 가정해 보겠습니다. 웹사이트는 자체 수명 주기를 가지고 있고 웹사이트 팀에서 유지하기 때문에 웹사이트 및 해당 리소스에 대한 스택을 생성할 수 있습니다. 이제 웹사이트에서 백엔드 데이터베이스를 사용한다고 가정해 보겠습니다. 여기에서 데이터베이스는 데이터베이스 관리자가 소유하고 유지하는 별도의 스택에 있습니다. 웹사이트 팀 또는 데이터베이스 팀은 리소스를 업데이트해야 할 때마다 서로의 스택에 영향을 주지 않고 업데이트할 수 있습니다. 모든 리소스가 단일 스택에 있는 경우 업데이트 조정 및 전달이 어려울 수 있습니다.</p>
    <p>스택 구성에 대한 추가 지침을 얻기 위해 다계층 아키텍처 및 서비스 중심 아키텍처(SOA), 이렇게 두 가지 공통 프레임워크를 사용할 수 있습니다.</p>
    <p>계층화된 아키텍처는 서로 위에 쌓이는 다중 수평 계층으로 스택을 구성하고, 여기서 각 계층은 바로 아래 계층에 대한 종속성을 갖습니다. 각 계층에는 스택이 하나 이상 있을 수 있지만 각 계층 내에서 스택에는 수명 주기 및 소유권이 유사한 AWS 리소스가 있어야 합니다.</p>
    <p>서비스 중심 아키텍처 덕분에 커다란 비즈니스 문제를 관리 가능한 부분으로 구성할 수 있습니다. 이러한 각 부분은 명확하게 정의된 목적을 갖는 서비스로, 독립형 기능 단위를 나타냅니다. 이러한 서비스는 스택에 매핑할 수 있으며 각 스택에는 자체 수명 주기 및 소유권이 있습니다. 이러한 서비스(스택)는 서로 상호 작용할 수 있도록 함께 연결할 수 있습니다.</p>
   
    <h2 id="cross-stack">교차 스택 참조를 사용하여 공유 리소스 내보내기</h2>

    <p>수명 주기 및 소유권을 기반으로 AWS 리소스를 구성하는 경우 다른 스택에 있는 리소스를 사용하는 스택을 구축하려고 할 수 있습니다. 값을 하드코딩하거나 입력 파라미터를 사용하여 리소스 이름 및 ID를 전달할 수 있습니다. 그러나 이러한 방법을 사용하면 템플릿을 재사용하기 어렵거나 스택을 실행하기 위해 오버헤드가 증가할 수 있습니다. 대신 교차 스택 참조를 사용하여 리소스를 내보내면 내보낸 리소스를 다른 스택에서 사용할 수 있습니다. 스택은 <code class="code">Fn::ImportValue</code> 함수를 사용하여 내보낸 리소스를 호출해 사용할 수 있습니다.</p>
    <p>예를 들어 VPC, 보안 그룹 및 서브넷을 포함하는 네트워크 스택이 있을 수 있습니다. 모든 퍼블릭 웹 애플리케이션에서 이러한 리소스를 사용하도록 하려고 합니다. 리소스를 내보내면 퍼블릭 웹 애플리케이션이 있는 모든 스택에서 이러한 리소스를 사용하도록 허용할 수 있습니다. 자세한 내용은 <a href="./walkthrough-crossstackref.html">연습: 다른 AWS CloudFormation 스택의 리소스 출력 참조</a> 단원을 참조하십시오.</p>
   
    <h2 id="limits">모든 리소스 유형에 대한 할당량 확인</h2>

    <p>스택을 시작하기 전에 AWS 계정 제한에 도달하지 않고 모든 리소스를 생성할 수 있는지 확인합니다. 제한을 초과한 경우 할당량을 늘리거나 추가 리소스를 삭제하기 전까지 CloudFormation에서는 스택을 성공적으로 생성할 수 없습니다. 각 서비스에는 스택을 시작하기 전에 알아두어야 할 다양한 제한이 있을 수 있습니다. 예를 들어 기본적으로 여러분의 AWS 계정에서는 리전당 CloudFormation 스택을 2,000개만 시작할 수 있습니다. 제한 및 기본 제한을 늘리는 방법에 대한 자세한 내용은 AWS 일반 참조<em></em>의 <a href="https://docs.aws.amazon.com/general/latest/gr/aws_service_limits.html">AWS Service Quotas</a>를 참조하세요.</p>
   
    <h2 id="reuse">템플릿을 재사용하여 다양한 환경에서 스택 복제</h2>

    <p>스택 및 리소스를 설정한 후에 템플릿을 재사용하여 다양한 환경에서 인프라를 복제할 수 있습니다. 예를 들어 변경 사항을 프로덕션에 구현하기 전에 변경 사항을 테스트할 수 있도록 개발, 테스트 및 프로덕션을 위한 환경을 생성할 수 있습니다. 템플릿을 재사용할 수 있도록 하려면 스택 생성 시 스택을 사용자 지정할 수 있도록 파라미터, 매핑 및 조건 섹션을 사용합니다. 예를 들어 개발 환경의 경우 프로덕션 환경에 비해 저렴한 인스턴스 유형을 지정할 수 있지만 다른 모든 구성 및 설정은 동일하게 유지됩니다. 파라미터, 매핑 및 조건에 대한 자세한 내용은 <a href="./template-anatomy.html">템플릿 구조</a> 단원을 참조하십시오.</p>
   
    <h2 id="modules-reuse">모듈을 사용하여 리소스 구성 재사용</h2>

    <p>인프라가 커짐에 따라 각 템플릿에서 동일한 구성 요소를 선언하는 공통 패턴이 나타날 수 있습니다. <em>모듈</em>을 사용하면 모든 스택 템플릿에 포함하기 위한 리소스 구성을 투명하고 관리가 편리하면서도 반복적으로 패키징할 수 있습니다. 모듈은 공통적 서비스 구성과 모범 사례를 모듈식 맞춤형 구성 요소로 캡슐화하고 스택 템플릿에 포함할 수 있습니다.</p>
    <p>Amazon Elastic Compute Cloud(Amazon EC2) 인스턴스를 정의할 때의 모범 사례와 같이 단일 리소스에 이러한 구성 요소를 사용하거나 여러 리소스에 사용하여 애플리케이션 아키텍처의 공통 패턴을 정의할 수 있습니다. 이러한 구성 요소를 다른 모듈에 중첩하여 상위 구성 요소 안에 모범 사례를 포함할 수 있습니다. CloudFormation 모듈은 <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/registry.html">CloudFormation 레지스트리</a>에서 사용할 수 있으므로 기본 리소스처럼 사용할 수 있습니다. CloudFormation 모듈을 사용하면 모듈 템플릿이 소비 템플릿으로 확장되므로 <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-ref.html">Ref</a> 또는 <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-getatt.html">Fn::GetAtt</a>를 사용하여 모듈 안의 리소스에 액세스할 수 있습니다. 자세한 내용은 <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/modules.html">모듈</a>을 참조하세요.</p>
   
    <h2 id="parmtypes">AWS 특정 파라미터 유형 사용</h2>

    <p>템플릿에 기존 AWS별 값(예: 기존 Amazon Virtual Private Cloud ID 또는 Amazon EC2 키 페어 이름)에 대한 입력값이 필요한 경우 AWS별 파라미터 유형을 사용합니다. 예를 들어 파라미터를 <code class="code">AWS::EC2::KeyPair::KeyName</code> 유형으로 지정할 수 있습니다. 그러면 스택을 생성한 AWS 계정 및 리전에 있는 기존 키 페어 이름을 가져옵니다. AWS CloudFormation에서는 스택을 생성하기 전에 AWS 특정 파라미터 유형의 값을 신속하게 검증할 수 있습니다. 또한 CloudFormation 콘솔을 사용할 경우 CloudFormation에 유효한 값의 드롭다운 목록이 표시되므로 올바른 VPC ID 또는 키 페어 이름을 조회하거나 기억할 필요가 없습니다. 자세한 내용은 <a href="./parameters-section-structure.html">파라미터</a> 단원을 참조하십시오.</p>
   
    <h2 id="parmconstraints">파라미터 제약 조건 사용</h2>

    <p>제약 조건을 사용하면 스택을 생성하기 전에 CloudFormation에서 잘못된 값을 포착할 수 있도록 허용되는 입력 값을 설명할 수 있습니다. 최소 길이, 최대 길이 및 허용되는 패턴과 같은 제약 조건을 설정할 수 있습니다. 예를 들어 최소 길이는 8자이고 영숫자만 포함하도록 데이터베이스 사용자 이름 값에 대한 제약 조건을 설정할 수 있습니다. 자세한 내용은 <a href="./parameters-section-structure.html">파라미터</a> 단원을 참조하십시오.</p>
   
    <h2 id="pseudoparameters">유사 파라미터를 사용하여 이식성 향상</h2>

    <p>템플릿에서 <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/pseudo-parameter-reference.html">의사 파라미터</a>를 <code class="code">Ref</code> 및 <code class="code">Fn::Sub</code>와 같은 <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference.html">내장 함수</a>에 대한 인수로 사용할 수 있습니다. 가상 파라미터는 CloudFormation에서 사전 정의된 파라미터입니다. 따라서 템플릿에서 가상 파라미터를 선언할 필요가 없습니다. 내장 함수에서 의사 파라미터를 사용하면 리전 및 계정 간에 스택 템플릿의 이식성이 향상됩니다.</p>
    <p>예를 들어, 지정된 리소스 속성에 대해 다른 기존 리소스의 <a href="https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html">Amazon 리소스 이름</a>(ARN)을 지정해야 하는 템플릿을 생성하려고 한다고 가정해 보겠습니다. 이 경우 기존 리소스는 ARN이 <code class="code">arn:aws:ssm:us-east-1:111122223333:parameter/MySampleParameter</code>인 <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/systems-manager-parameter-store.html">AWS Systems Manager Parameter Store</a> 리소스입니다. <a href="https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html#arns-syntax">ARN 형식</a>을 대상 AWS 파티션, 리전 및 계정 ID에 맞게 조정해야 합니다. 이러한 값을 하드 코딩하는 대신 <code class="code">AWS::Partition</code>, <code class="code">AWS::Region</code> 및 <code class="code">AWS::AccountId</code> 유사 파라미터를 사용하여 템플릿의 이식성을 높일 수 있습니다. 이 경우 다음 예제에서는 ARN의 요소를 CloudFormation과 연결하는 방법을 보여줍니다. <code class="code">!Sub
        'arn:$<span>{</span>AWS::Partition}:ssm:$<span>{</span>AWS::Region}:$<span>{</span>AWS::AccountId}:parameter/MySampleParameter</code> </p>
    <p>또 다른 예로 <a href="./walkthrough-crossstackref.html">연습: 다른 AWS CloudFormation 스택의 리소스 출력 참조</a>의 방법을 사용하여 다른 CloudFormation 스택의 리소스 출력을 참조하려고 한다고 가정해 보겠습니다. 이 예제에서는 VPC에 대한 <a href="https://docs.aws.amazon.com/vpc/latest/userguide/configure-subnets.html">서브넷</a>을 생성한 다음 동일한 계정 및 리전의 다른 스택에서 사용하기 위해 해당 ID를 <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/outputs-section-structure.html">내보냈다</a>고 가정합니다. 다른 스택에서는 Amazon EC2 인스턴스를 설명할 때 내보낸 서브넷 ID 값을 참조합니다.</p>
    <p>스택 내보내기는 계정 및 리전별로 고유해야 합니다. 따라서 이 경우 <code class="code">AWS::StackName</code> 의사 파라미터를 사용하여 내보내기에 대한 접두사를 생성할 수 있습니다. 스택 이름은 계정 및 리전별로 고유해야 하므로 이 의사 파라미터를 접두사로 사용하면 고유한 내보내기 이름을 가질 가능성이 높아지는 동시에 값을 내보내는 스택 전체에서 재사용 가능한 접근 방식이 장려됩니다. 또는 원하는 접두사를 사용할 수 있습니다.</p>
    <p><code class="code">Export</code> 출력 필드 및 <code class="code">Fn::ImportValue</code> 내장 함수 사용에 대한 자세한 예제는 <a href="./walkthrough-crossstackref.html">연습: 다른 AWS CloudFormation 스택의 리소스 출력 참조</a>를 참조하세요.</p>
   
    <h2 id="cfninit"><code class="code">AWS::CloudFormation::Init</code>를 사용하여 Amazon EC2 인스턴스에서 소프트웨어 애플리케이션 배포</h2>

    <p>스택을 시작하면 cfn-init 헬퍼 스크립트 및 <code class="code">AWS::CloudFormation::Init</code> 리소스를 사용하여 Amazon EC2 인스턴스에서 소프트웨어 애플리케이션을 설치 및 구성할 수 있습니다. <code class="code">AWS::CloudFormation::Init</code>를 사용하여 절차 단계를 스크립팅하지 않고 원하는 구성을 설명할 수 있습니다. 인스턴스를 다시 생성하지 않고 구성을 업데이트할 수도 있습니다. 구성에 문제가 발생한 경우 CloudFormation에서는 문제를 조사하는 데 사용할 수 있는 로그를 생성합니다.</p>
    <p>템플릿의 <code class="code">AWS::CloudFormation::Init</code> 리소스에서 설치 및 구성 상태를 지정합니다. cfn-init 및 <code class="code">AWS::CloudFormation::Init</code>를 사용하는 방법을 보여주는 연습은 <a href="./deploying.applications.html">AWS CloudFormation을 사용하여 Amazon EC2에서 애플리케이션 배포</a> 섹션을 참조하세요.</p>
   
    <h2 id="helper-scripts">최신 헬퍼 스크립트 사용</h2>

    <p><a href="./cfn-helper-scripts-reference.html">헬퍼 스크립트</a>는 주기적으로 업데이트됩니다. 헬퍼 스크립트를 호출하여 시작된 인스턴스에서 최신 헬퍼 스크립트를 가져왔는지 확인하기 전에 템플릿의 <code class="code">UserData</code> 속성에 다음 명령이 포함되어 있는지 확인합니다.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="userinput">yum install -y aws-cfn-bootstrap</code></code></pre>
    <p>최신 헬퍼 스크립트 가져오기에 대한 자세한 내용은 <a href="./cfn-helper-scripts-reference.html">CloudFormation 헬퍼 스크립트 참조</a> 단원을 참조하십시오.</p>
   
    <h2 id="validate">템플릿을 사용하기 전에 템플릿 확인</h2>

    <p>템플릿을 사용하여 스택을 생성하거나 업데이트하기 전에 CloudFormation을 사용하여 템플릿을 확인합니다. CloudFormation에서 리소스를 생성하기 전에 템플릿을 확인하면 구문 및 일부 의미 체계 오류(예: 순환 종속성)를 파악할 수 있습니다. CloudFormation 콘솔을 사용하는 경우 입력 파라미터를 지정하면 콘솔에서 자동으로 템플릿을 확인합니다. AWS CLI 또는 CloudFormation API의 경우 <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/validate-template.html"><code class="code">aws cloudformation validate-template</code></a> 명령 또는 <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_ValidateTemplate.html"><code class="code">ValidateTemplate</code></a> API 작업을 사용합니다.</p>
    <p>확인 중에 CloudFormation에서는 먼저 템플릿이 유효한 JSON인지를 확인합니다. 유효한 JSON이 아니면 CloudFormation은 템플릿이 유효한 YAML인지를 확인합니다. 두 확인이 모두 실패한 경우 CloudFormation에서는 템플릿 확인 오류를 반환합니다.</p>
     
      <h3 id="validate-compliance">조직 정책 준수를 위한 템플릿 확인</h3>
      <p>템플릿을 확인하여 조직 정책 지침을 준수하는지 검증할 수도 있습니다. AWS CloudFormation Guard(<code class="code">cfn-guard</code>)는 코드 정책 언어를 제공하여 필수 리소스 구성과 금지된 리소스 구성을 모두 확인할 수 있는 규칙을 정의하는 오픈 소스 명령줄 인터페이스(CLI) 도구입니다. 그런 다음 이러한 규칙에 대해 템플릿을 확인할 수 있습니다. 예를 들어, 관리자는 사용자가 항상 암호화된 Amazon S3 버킷을 생성하도록 보장하는 규칙을 생성할 수 있습니다.</p>
      <p>템플릿을 편집하는 동안 <code class="code">cfn-guard</code>를 로컬로 사용하거나 CI/CD 파이프라인의 일부로 자동 사용함으로써 규정 미준수 리소스의 배포를 방지할 수 있습니다.</p>
      <p>또한 <code class="code">cfn-guard</code>에는 기존 규정 준수 CloudFormation 템플릿에서 규칙을 추출할 수 있는 기능인 <code class="code">rulegen</code>이 포함되어 있습니다,</p>
      <p>자세한 내용은 GitHub에서 <a href="https://github.com/aws-cloudformation/cloudformation-guard" rel="noopener noreferrer" target="_blank"><span>cfn-guard</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> 리포지토리를 참조하세요.</p>
     
   
    <h2 id="donttouch">AWS CloudFormation을 통해 모든 스택 리소스 관리</h2>

    <p>스택을 시작한 후에는 CloudFormation <a href="https://console.aws.amazon.com/cloudformation/home" rel="noopener noreferrer" target="_blank"><span>콘솔</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>, <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/">API</a> 또는<a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/index.html">AWS CLI</a>를 사용하여 스택의 리소스를 업데이트합니다. CloudFormation 외부의 스택 리소스는 변경하지 마세요. 변경하면 스택 템플릿과 스택 리소스의 현재 상태 간에 불일치가 발생할 수 있으며 이로 인해 스택을 업데이트하거나 삭제할 경우 오류가 발생할 수 있습니다. 자세한 내용은 <a href="./updating.stacks.walkthrough.html">연습: 스택 업데이트</a> 단원을 참조하십시오.</p>
   
    <h2 id="cfn-best-practices-changesets">스택을 업데이트하기 전에 변경 세트 생성</h2>

    <p>변경 세트를 사용하면 제안된 스택 변경 사항이 구현 전에 실행 중인 리소스에 어떤 영향을 미칠 수 있는지 확인할 수 있습니다. CloudFormation은 변경 세트를 실행할 때까지 스택을 변경하지 않으므로 제안된 변경을 계속 진행할지 아니면 다른 변경 세트를 생성할지 결정할 수 있습니다.</p>
    <p>변경 세트를 사용하여 변경 사항이 실행 중인 리소스 특히, 중요 리소스에 미치는 영향을 확인합니다. 예를 들어 Amazon RDS 데이터베이스 인스턴스의 이름을 변경하면 CloudFormation에서는 새 데이터베이스가 생성되고 이전 데이터베이스는 삭제됩니다. 따라서 데이터베이스를 백업하지 않은 경우 이전 데이터베이스의 데이터가 손실됩니다. 변경 세트를 생성하면 변경 사항이 데이터베이스를 대체합니다. 따라서 스택을 업데이트하기 전에 계획을 세우기 좋습니다. 자세한 내용은 <a href="./using-cfn-updating-stacks-changesets.html">변경 세트를 사용하여 스택 업데이트</a> 단원을 참조하십시오.</p>
   
    <h2 id="stackpolicy">스택 정책 사용</h2>

    <p>스택 정책을 사용하면 리소스 중단 또는 리소스 대체를 일으킬 수 있는 중요 스택 리소스의 의도치 않은 업데이트를 방지할 수 있습니다. 스택 정책은 지정된 리소스에 대해 수행할 수 있는 업데이트 작업을 설명하는 JSON 문서입니다. 중요 리소스가 있는 스택을 생성할 때마다 스택 정책을 지정합니다.</p>
    <p>스택을 업데이트하는 동안 업데이트하려는 보호된 리소스를 명시적으로 지정해야 합니다. 그렇지 않으면 보호된 리소스가 변경되지 않습니다. 자세한 내용은 <a href="./protect-stack-resources.html">스택 리소스에 대한 업데이트 방지</a> 단원을 참조하십시오.</p>
   
    <h2 id="code">코드 검토 및 버전 관리를 사용하여 사용자 템플릿 관리</h2>

    <p>스택 템플릿에서는 속성 값과 같은 AWS 리소스의 구성을 설명합니다. 변경 사항을 검토하고 정확한 리소스 기록을 유지하려면 코드 검토 및 버전 관리를 사용합니다. 이러한 방법을 사용하면 템플릿의 여러 버전 간에 변경 사항을 추적할 수 있어 스택 리소스의 변경 사항을 추적할 수 있습니다. 또한 기록을 유지하면 언제든지 스택을 특정 템플릿 버전으로 되돌릴 수 있습니다.</p>
   
    <h2 id="update-ec2-linux">정기적으로 Amazon EC2 인스턴스 업데이트</h2>

    <p>CloudFormation에서 생성된 모든 Amazon EC2 Windows 인스턴스 및 Amazon EC2 Linux 인스턴스에서 정기적으로 <code class="code">yum update</code> 명령을 실행하여 RPM 패키지를 업데이트합니다. 이렇게 하면 최신 수정 사항 및 보안 업데이트를 받을 수 있습니다.</p>
  <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="주의" /> <strong>javascript가 브라우저에서 비활성화되거나 사용이 불가합니다.</strong></p><p>AWS 설명서를 사용하려면 Javascript가 활성화되어야 합니다. 지침을 보려면 브라우저의 도움말 페이지를 참조하십시오.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">문서 규칙</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./vpc-interface-endpoints.html">VPC 엔드포인트(AWS PrivateLink)</div><div id="next" class="next-link" accesskey="n" href="./continuous-delivery-codepipeline.html">지속적 전달</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">이 페이지의 내용이 도움이 되었습니까? - 예</div><div class="content"><p>칭찬해 주셔서 감사합니다!</p><p>잠깐 시간을 내어 좋았던 부분을 알려 주시면 더 열심히 만들어 보겠습니다.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="feedback-tell-us" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/best-practices.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">이 페이지의 내용이 도움이 되었습니까? - 아니요</div><div class="content"><p>이 페이지에 작업이 필요하다는 점을 알려 주셔서 감사합니다. 실망시켜 드려 죄송합니다.</p><p>잠깐 시간을 내어 설명서를 향상시킬 수 있는 방법에 대해 말씀해 주십시오.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="feedback-tell-us" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/best-practices.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>