<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>AWS::ServiceDiscovery::Service DnsConfig - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="aws-properties-servicediscovery-service-dnsconfig" /><meta name="default_state" content="aws-properties-servicediscovery-service-dnsconfig" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-servicediscovery-service-dnsconfig.html" /><meta name="description" content="Use the AWS CloudFormation AWS::ServiceDiscovery::Service.DnsConfig resource for ServiceDiscovery." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Create and manage AWS infrastructure deployments predictably and repeatedly using AWS CloudFormation with this User Guide." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json;toc-AWS_ServiceDiscovery.json" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-servicediscovery-service-dnsconfig.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-properties-servicediscovery-service-dnsconfig.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-properties-servicediscovery-service-dnsconfig.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-properties-servicediscovery-service-dnsconfig.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-properties-servicediscovery-service-dnsconfig.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-servicediscovery-service-dnsconfig.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-servicediscovery-service-dnsconfig.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-properties-servicediscovery-service-dnsconfig.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-properties-servicediscovery-service-dnsconfig.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-properties-servicediscovery-service-dnsconfig.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-properties-servicediscovery-service-dnsconfig.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-properties-servicediscovery-service-dnsconfig.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-properties-servicediscovery-service-dnsconfig.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-properties-servicediscovery-service-dnsconfig.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-properties-servicediscovery-service-dnsconfig.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-properties-servicediscovery-service-dnsconfig.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-properties-servicediscovery-service-dnsconfig.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-properties-servicediscovery-service-dnsconfig.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-properties-servicediscovery-service-dnsconfig.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/aws-properties-servicediscovery-service-dnsconfig.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/aws-properties-servicediscovery-service-dnsconfig.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-servicediscovery-service-dnsconfig.html" hreflang="x-default" /><meta name="feedback-item" content="Cloud Map" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="AWS::ServiceDiscovery::Service DnsConfig" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>AWS::ServiceDiscovery::Service DnsConfig - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Cloud%20Map&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-properties-servicediscovery-service-dnsconfig.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-properties-servicediscovery-service-dnsconfig.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-properties-servicediscovery-service-dnsconfig.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "AWS Cloud Map resource type reference",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/AWS_ServiceDiscovery.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "AWS::ServiceDiscovery::Service",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-servicediscovery-service.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "AWS::ServiceDiscovery::Service DnsConfig",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-servicediscovery-service.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="AWS_ServiceDiscovery.html">User Guide</a></div><div id="page-toc-src"><a href="#aws-properties-servicediscovery-service-dnsconfig-syntax">Syntax</a><a href="#aws-properties-servicediscovery-service-dnsconfig-properties">Properties</a><a href="#aws-properties-servicediscovery-service-dnsconfig--seealso">See also</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="aws-properties-servicediscovery-service-dnsconfig">AWS::ServiceDiscovery::Service DnsConfig</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>A complex type that contains information about the Amazon Route 53 DNS records that you want AWS Cloud Map to create
   when you register an instance.</p><div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>The record types of a service can only be changed by deleting the service and recreating it with a new
     <code class="code">Dnsconfig</code>.</p></div></div><h2 id="aws-properties-servicediscovery-service-dnsconfig-syntax">Syntax</h2><p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p><div id="JSON" name="JSON" class="section langfilter"><h3 id="aws-properties-servicediscovery-service-dnsconfig-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "<a href="#cfn-servicediscovery-service-dnsconfig-dnsrecords">DnsRecords</a>" : <code class="replaceable">[ <a href="./aws-properties-servicediscovery-service-dnsrecord.html">DnsRecord</a>, ... ]</code>,
  "<a href="#cfn-servicediscovery-service-dnsconfig-namespaceid">NamespaceId</a>" : <code class="replaceable">String</code>,
  "<a href="#cfn-servicediscovery-service-dnsconfig-routingpolicy">RoutingPolicy</a>" : <code class="replaceable">String</code>
}
</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h3 id="aws-properties-servicediscovery-service-dnsconfig-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">  <a href="#cfn-servicediscovery-service-dnsconfig-dnsrecords">DnsRecords</a>: <code class="replaceable">
    - <a href="./aws-properties-servicediscovery-service-dnsrecord.html">DnsRecord</a></code>
  <a href="#cfn-servicediscovery-service-dnsconfig-namespaceid">NamespaceId</a>: <code class="replaceable">String</code>
  <a href="#cfn-servicediscovery-service-dnsconfig-routingpolicy">RoutingPolicy</a>: <code class="replaceable">String</code>
</code></pre></div><h2 id="aws-properties-servicediscovery-service-dnsconfig-properties">Properties</h2><div class="variablelist"><dl><dt id="cfn-servicediscovery-service-dnsconfig-dnsrecords"><span class="term"><code class="code">DnsRecords</code></span></dt><dd>
         <p>An array that contains one <code class="code">DnsRecord</code> object for each Route 53 DNS record that you want AWS Cloud Map
   to create when you register an instance.</p>
      <p><em>Required</em>: Yes</p><p><em>Type</em>: Array of <a href="./aws-properties-servicediscovery-service-dnsrecord.html">DnsRecord</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-servicediscovery-service-dnsconfig-namespaceid"><span class="term"><code class="code">NamespaceId</code></span></dt><dd>
  <p>The ID of the namespace to use for DNS configuration.</p>
  <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>You must specify a value for <code class="code">NamespaceId</code> either for <code class="code">DnsConfig</code> or for the <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-servicediscovery-service.html">service
     properties</a>. Don't specify a value in both places. </p></div></div>
 <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Maximum</em>: <code class="code">64</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-servicediscovery-service-dnsconfig-routingpolicy"><span class="term"><code class="code">RoutingPolicy</code></span></dt><dd>
         <p>The routing policy that you want to apply to all Route 53 DNS records that AWS Cloud Map creates when you
   register an instance and specify this service.</p>
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>If you want to use this service to register instances that create alias records, specify
     <code class="code">WEIGHTED</code> for the routing policy.</p></div></div>
         <p>You can specify the following values:</p>
         <div class="variablelist">
             
             
         <dl>
               <dt><span class="term">MULTIVALUE</span></dt>
               <dd>
                  <p>If you define a health check for the service and the health check is healthy, Route 53 returns the
      applicable value for up to eight instances.</p>
                  <p>For example, suppose that the service includes configurations for one <code class="code">A</code> record and a health
      check. You use the service to register 10 instances. Route 53 responds to DNS queries with IP addresses for up
      to eight healthy instances. If fewer than eight instances are healthy, Route 53 responds to every DNS query with
      the IP addresses for all of the healthy instances.</p>
                  <p>If you don't define a health check for the service, Route 53 assumes that all instances are healthy and
      returns the values for up to eight instances.</p>
                  <p>For more information about the multivalue routing policy, see <a href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/routing-policy.html#routing-policy-multivalue">Multivalue Answer
       Routing</a> in the <em>Route 53 Developer Guide</em>.</p>
               </dd>
             
               <dt><span class="term">WEIGHTED</span></dt>
               <dd>
                  <p>Route 53 returns the applicable value from one randomly selected instance from among the instances that you
      registered using the same service. Currently, all records have the same weight, so you can't route more or
      less traffic to any instances.</p>
                  <p>For example, suppose that the service includes configurations for one <code class="code">A</code> record and a health
      check. You use the service to register 10 instances. Route 53 responds to DNS queries with the IP address for
      one randomly selected instance from among the healthy instances. If no instances are healthy, Route 53 responds
      to DNS queries as if all of the instances were healthy.</p>
                  <p>If you don't define a health check for the service, Route 53 assumes that all instances are healthy and
      returns the applicable value for one randomly selected instance.</p>
                  <p>For more information about the weighted routing policy, see <a href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/routing-policy.html#routing-policy-weighted">Weighted Routing</a> in
      the <em>Route 53 Developer Guide</em>.</p>
               </dd>
            </dl></div>
      <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Allowed values</em>: <code class="code">MULTIVALUE | WEIGHTED</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd></dl></div><h2 id="aws-properties-servicediscovery-service-dnsconfig--seealso">See also</h2><div class="itemizedlist">
     
     
   <ul class="itemizedlist"><li class="listitem">
     <p>
      <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-servicediscovery-service.html#aws-resource-servicediscovery-service-return-values">Return values</a> in the topic <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-servicediscovery-service.html">AWS::ServiceDiscovery::Service</a>
     </p>
    </li><li class="listitem">
     <p>
      <a href="https://docs.aws.amazon.com/cloud-map/latest/api/API_DnsConfig.html">DnsConfig</a> in the
        <em>AWS Cloud Map API Reference</em>
     </p>
    </li></ul></div><p></p><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./aws-resource-servicediscovery-service.html">AWS::ServiceDiscovery::Service</div><div id="next" class="next-link" accesskey="n" href="./aws-properties-servicediscovery-service-dnsrecord.html">DnsRecord</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Cloud Map&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-properties-servicediscovery-service-dnsconfig.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Cloud Map&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-properties-servicediscovery-service-dnsconfig.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>