<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="ko-KR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>변경 세트의 예 - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="using-cfn-updating-stacks-changesets-samples" /><meta name="default_state" content="using-cfn-updating-stacks-changesets-samples" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" /><meta name="description" content="AWS CloudFormation 변경 세트의 예를 통해 알아봅니다." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="사용자 가이드" /><meta name="abstract" content="이 사용 설명서와 AWS CloudFormation을 사용하여 AWS 인프라 배포를 예상한 대로 반복해서 생성 및 관리합니다." /><meta name="guide-locale" content="ko_kr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="사용자 가이드" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="사용자 가이드" /><meta id="panorama-serviceConsolePage" value="변경 세트의 예" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>변경 세트의 예 - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,리소스 프로비저닝,리소스 구성,인프라 관리,CloudFormer,CloudFormation 스택,CloudFormation stackset,CloudFormation 템플릿,변경 세트" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "사용자 가이드",
        "item" : "https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "스택 작업",
        "item" : "https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/stacks.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "AWS CloudFormation 스택 업데이트",
        "item" : "https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "변경 세트를 사용하여 스택 업데이트",
        "item" : "https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "변경 세트의 예",
        "item" : "https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">aws-documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">사용자 가이드</a></div><div id="page-toc-src"><a href="#using-cfn-updating-stacks-changesets-samples-directly-editing-a-template">직접 템플릿 편집</a><a href="#using-cfn-updating-stacks-changesets-samples-modifying-a-single-input-parameter-value">입력 파라미터 값 수정</a><a href="#using-cfn-updating-stacks-changesets-samples-determining-the-value-of-the-replacement-field">대체 필드의 값 확인</a><a href="#using-cfn-updating-stacks-changesets-samples-adding-and-removing-resources">리소스 추가 및 제거</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="using-cfn-updating-stacks-changesets-samples">변경 세트의 예</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>이 단원에서는 CloudFormation에서 일반적인 스택 변경을 위해 생성하는 변경 세트의 예를 제공합니다. 이러한 예에서는 템플릿을 직접 편집하는 방법, 단일 입력 파라미터를 수정하는 방법, 백업되지 않은 데이터 손실을 방지하거나 스택에서 실행 중인 애플리케이션이 중단되지 않도록 리소스 재생성(대체)을 계획하는 방법, 그리고 리소스를 추가 및 제거하는 방법을 보여줍니다. 변경 세트의 작동 방식을 설명하기 위해 제출된 변경 사항을 살펴보고 그 결과 생성된 변경 세트에 대해 알아봅니다. 각 예는 여러분이 이전의 예를 이해하고 있다고 가정하고 작성되었으므로 해당하는 예를 순서대로 읽어보는 것이 좋습니다. 변경 세트 내 각 필드에 대한 설명은 <em>AWS CloudFormation API 참조</em>의 <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_Change.html">Change</a> 데이터 유형을 참조하세요.</p><p><a href="./using-cfn-updating-stacks-changesets-view.html">콘솔</a>, AWS CLI 또는 CloudFormation <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_DescribeChangeSet.html"><code class="code">DescribeChangeSet</code></a> API 작업을 사용하여 변경 세트 세부 정보를 확인할 수 있습니다.</p><p>다음 각 변경 세트는 <a href="https://s3.amazonaws.com/cloudformation-examples/user-guide/changesets/ec2-instance.txt" rel="noopener noreferrer" target="_blank"><span>샘플 템플릿</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>을 사용하여 스택에서 생성했습니다.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "AWSTemplateFormatVersion" : "2010-09-09",
  "Description" : "A sample EC2 instance template for testing change sets.",
  "Parameters" : <span>{</span>
    "Purpose" : <span>{</span>
      "Type" : "String",
      "Default" : "testing",
      "AllowedValues" : ["testing", "production"],
      "Description" : "The purpose of this instance."
    },
    "KeyPairName" : <span>{</span>
      "Type": "AWS::EC2::KeyPair::KeyName",
      "Description" : "Name of an existing EC2 KeyPair to enable SSH access to the instance"
    },
    "InstanceType" : <span>{</span>
      "Type" : "String",
      "Default" : "t2.micro",
      "AllowedValues" : ["t2.micro", "t2.small", "t2.medium"],
      "Description" : "The EC2 instance type."
    }
  },
  "Resources" : <span>{</span>
    "MyEC2Instance" : <span>{</span>
      "Type" : "AWS::EC2::Instance",
      "Properties" : <span>{</span>
        "KeyName" : <span>{</span> "Ref" : "KeyPairName" },
        "InstanceType" : <span>{</span> "Ref" : "InstanceType" },
        "ImageId" : "ami-8fcee4e5",
        "Tags" : [
          <span>{</span>
            "Key" : "Purpose",
            "Value" : <span>{</span> "Ref" : "Purpose" }
          }
        ]
      }
    }
  }
}</code></pre>
      <h2 id="using-cfn-updating-stacks-changesets-samples-directly-editing-a-template">직접 템플릿 편집</h2>

      <p>스택의 템플릿에서 직접 리소스를 수정해 변경 세트를 생성하면 업데이트된 파라미터 값으로 시작되는 변경 사항과 달리 CloudFormation은 이러한 변경 사항을 직접적인 수정 사항으로 분류합니다. <code class="code">i-1abc23d4</code> 인스턴스에 새 태그를 추가한 다음 변경 세트는 직접 수정의 예입니다. 파라미터 값 및 기능과 같은 기타 모든 입력이 변경되지 않으므로 <code class="code">Changes</code> 구조에 중점을 둘 수 있습니다.</p>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "StackId": "arn:aws:cloudformation:us-east-1:123456789012:stack/SampleStack/1a2345b6-0000-00a0-a123-00abc0abc000",
    "Status": "CREATE_COMPLETE",
    "ChangeSetName": "SampleChangeSet-direct",
    "Parameters": [
        <span>{</span>
            "ParameterValue": "testing",
            "ParameterKey": "Purpose"
        },
        <span>{</span>
            "ParameterValue": "MyKeyName",
            "ParameterKey": "KeyPairName"
        },
        <span>{</span>
            "ParameterValue": "t2.micro",
            "ParameterKey": "InstanceType"
        }
    ],
    "Changes": [
        <span>{</span>
            "ResourceChange": <span>{</span>
                "ResourceType": "AWS::EC2::Instance",
                "PhysicalResourceId": "i-1abc23d4",
                "Details": [
                    <span>{</span>
                        "ChangeSource": "DirectModification",
                        "Evaluation": "Static",
                        "Target": <span>{</span>
                            "Attribute": "Tags",
                            "RequiresRecreation": "Never"
                        }
                    }
                ],
                "Action": "Modify",
                "Scope": [
                    "Tags"
                ],
                "LogicalResourceId": "MyEC2Instance",
                "Replacement": "False"
            },
            "Type": "Resource"
        }
    ],
    "CreationTime": "2020-11-18T23:35:25.813Z",
    "Capabilities": [],
    "StackName": "SampleStack",
    "NotificationARNs": [],
    "ChangeSetId": "arn:aws:cloudformation:us-east-1:123456789012:changeSet/SampleChangeSet-direct/1a2345b6-0000-00a0-a123-00abc0abc000"
}</code></pre>
      <p><code class="code">Changes</code> 구조에는 <code class="code">ResourceChange</code> 구조가 하나 뿐입니다. 이 구조는 CloudFormation에서 변경할 리소스 유형, CloudFormation에서 취할 조치, 리소스 ID, 변경 범위 및 변경 시 리소스를 바꿔야 하는지 여부(CloudFormation이 새 리소스를 만든 다음 이전 리소스 삭제) 등과 같은 정보를 설명합니다. 이 예에서 변경 세트는 CloudFormation에서 <code class="code">i-1abc23d4</code> EC2 인스턴스의 <code class="code">Tags</code> 속성을 수정하고 인스턴스 대체가 필요하지 않음을 나타냅니다.</p>
      <p><code class="code">Details</code> 구조에서 CloudFormation은 이러한 변경 사항에 직접 수정이라는 레이블을 붙입니다. 직접 수정 시에는 인스턴스를 다시 생성할(바꿀) 필요가 없습니다. CloudFormation에서 인스턴스를 바꾸지 않을 것이므로 사용자는 이 변경 사항을 자신 있게 실행할 수 있습니다.</p>
      <p>CloudFormation에서는 이러한 변경을 <code class="code">Static</code> 평가로 표시합니다. 정적 평가는 CloudFormation이 변경 세트를 실행하기 전에 태그의 값을 결정할 수 있음을 의미합니다. 변경 세트를 실행한 후에만 CloudFormation에서 값을 결정할 수 있는 경우도 있습니다. CloudFormation은 <code class="code">Dynamic</code> 평가라는 레이블을 지정하여 이러한 변경 사항을 분류합니다. 예를 들어 조건부로 바뀌는 업데이트된 리소스를 참조하는 경우, CloudFormation은 업데이트된 리소스에 대한 참조가 변경될지 여부를 결정할 수 없습니다.</p>
     
      <h2 id="using-cfn-updating-stacks-changesets-samples-modifying-a-single-input-parameter-value">입력 파라미터 값 수정</h2>

      <p>입력 파라미터 값을 수정하면 CloudFormation에서는 업데이트된 파라미터 값을 사용하는 각 리소스에 대해 변경 사항 2개를 생성합니다. 이 예에서는 이러한 변경 사항이 어떻게 표시되는지 그리고 어떤 정보를 중점적으로 살펴봐야 하는지 알아보고자 합니다. 다음 예는 <code class="code">Purpose</code> 입력 파라미터의 값만 변경하여 생성되었습니다.</p>
      <p><code class="code">Purpose</code> 파라미터는 EC2 인스턴스에 대한 태그 키 값을 지정합니다. 이 예에서 파라미터 값은 <code class="code">testing</code>에서 <code class="code">production</code>으로 변경되었습니다. 새 값은 <code class="code">Parameters</code> 구조로 표시됩니다.</p>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "StackId": "arn:aws:cloudformation:us-east-1:123456789012:stack/SampleStack/1a2345b6-0000-00a0-a123-00abc0abc000",
    "Status": "CREATE_COMPLETE",
    "ChangeSetName": "SampleChangeSet",
    "Parameters": [
        <span>{</span>
            "ParameterValue": "production",
            "ParameterKey": "Purpose"
        },
        <span>{</span>
            "ParameterValue": "MyKeyName",
            "ParameterKey": "KeyPairName"
        },
        <span>{</span>
            "ParameterValue": "t2.micro",
            "ParameterKey": "InstanceType"
        }
    ],
    "Changes": [
        <span>{</span>
            "ResourceChange": <span>{</span>
                "ResourceType": "AWS::EC2::Instance",
                "PhysicalResourceId": "i-1abc23d4",
                "Details": [
                    <span>{</span>
                        "ChangeSource": "DirectModification",
                        "Evaluation": "Dynamic",
                        "Target": <span>{</span>
                            "Attribute": "Tags",
                            "RequiresRecreation": "Never"
                        }
                    },
                    <span>{</span>
                        "CausingEntity": "Purpose",
                        "ChangeSource": "ParameterReference",
                        "Evaluation": "Static",
                        "Target": <span>{</span>
                            "Attribute": "Tags",
                            "RequiresRecreation": "Never"
                        }
                    }
                ],
                "Action": "Modify",
                "Scope": [
                    "Tags"
                ],
                "LogicalResourceId": "MyEC2Instance",
                "Replacement": "False"
            },
            "Type": "Resource"
        }
    ],
    "CreationTime": "2020-11-18T23:59:18.447Z",
    "Capabilities": [],
    "StackName": "SampleStack",
    "NotificationARNs": [],
    "ChangeSetId": "arn:aws:cloudformation:us-east-1:123456789012:changeSet/SampleChangeSet/1a2345b6-0000-00a0-a123-00abc0abc000"
}</code></pre>
      <p><code class="code">Changes</code> 구조는 <a href="#using-cfn-updating-stacks-changesets-samples-directly-editing-a-template">직접 템플릿 편집</a> 예에서 수행한 것과 유사한 방법으로 작동합니다. <code class="code">ResourceChange</code> 구조가 하나 뿐이고, 이 구조는 <code class="code">Tags</code> EC2 인스턴스의 <code class="code">i-1abc23d4</code> 속성에 대한 변경 사항을 설명합니다.</p>
      <p>그러나 <code class="code">Details</code> 구조에서는 단일 파라미터 값이 변경되었더라도 변경 세트에는 <code class="code">Tags</code> 속성에 대한 변경 사항이 2개 표시됩니다. (<code class="code">Ref</code> 내장 함수를 사용하여) 변경된 파라미터 값을 참조하는 리소스에는 변경 사항이 항상 2개 있습니다. 하나는 <code class="code">Dynamic</code> 평가와 관련된 변경 사항이고 다른 하나는 <code class="code">Static</code> 평가와 관련된 변경 사항입니다. 이러한 유형의 변경 사항은 다음 필드를 보고 확인할 수 있습니다.</p>
      <div class="itemizedlist">
         
         
      <ul class="itemizedlist"><li class="listitem">
          <p><code class="code">Static</code> 평가 변경의 경우 <code class="code">ChangeSource</code> 필드를 확인합니다. 이 예에서 <code class="code">ChangeSource</code> 필드는 <code class="code">ParameterReference</code>와 동일합니다. 즉, 이 변경은 업데이트된 파라미터 참조 값의 결과입니다. 변경 세트에는 유사한 <code class="code">Dynamic</code> 평가 변경이 포함되어 있어야 합니다.</p>
        </li><li class="listitem">
          <p>두 변경 사항에 대한 <code class="code">Dynamic</code> 구조를 비교해 일치하는 <code class="code">Target</code> 평가 변경을 찾을 수 있습니다. 이러한 구조에는 동일한 정보가 포함됩니다. 이 예에서 두 변경 사항에 대한 <code class="code">Target</code> 구조에는 <code class="code">Attribute</code> 및 <code class="code">RequireRecreation</code> 필드에 대해 동일한 값이 포함되어 있습니다.</p>
        </li></ul></div>
      <p>이러한 변경 유형의 경우, 변경 사항에 대해 가장 자세한 정보를 제공하는 정적 평가를 중점적으로 살펴보겠습니다. 이 예에서 정적 평가는 변경 사항이 파라미터 참조 값(<code class="code">ParameterReference</code>)을 변경한 결과임을 보여줍니다. 변경된 정확한 파라미터는 <code class="code">CauseEntity</code> 필드(<code class="code">Purpose</code> 파라미터)로 표시됩니다.</p>
     
      <h2 id="using-cfn-updating-stacks-changesets-samples-determining-the-value-of-the-replacement-field">대체 필드의 값 확인</h2>

      <p><code class="code">ResourceChange</code> 구조의 <code class="code">Replacement</code> 필드는 CloudFormation에서 리소스를 다시 생성할지 여부를 나타냅니다. 리소스 재생성(대체)을 계획하면 백업되지 않은 데이터 손실 또는 스택에서 실행 중인 애플리케이션 중단이 방지됩니다.</p>
      <p><code class="code">Replacement</code> 필드의 값은 변경 시 리소스를 바꿔야 하는지 여부에 따라 달라지며, 변경의 <code class="code">RequiresRecreation</code> 구조 내 <code class="code">Target</code> 필드로 표시됩니다. 예를 들어, <code class="code">RequiresRecreation</code> 필드가 <code class="code">Never</code>이면 <code class="code">Replacement</code> 필드는 <code class="code">False</code>입니다. 그러나 한 리소스에 대한 변경 사항이 여러 개인데 변경마다 <code class="code">RequiresRecreation</code> 필드 값이 다른 경우, CloudFormation은 가장 적극적인 개입 동작을 사용하여 리소스를 업데이트합니다. 다시 말해, 여러 변경 사항 중 리소스를 바꿔야 하는 것이 하나뿐인 경우 CloudFormation은 해당 리소스를 바꾸기 위해 <code class="code">Replacement</code> 필드를 <code class="code">True</code>로 설정합니다.</p>
      <p>다음 변경 세트는 전부 EC2 인스턴스에서 사용되는 모든 파라미터(<code class="code">Purpose</code>, <code class="code">InstanceType</code> 및 <code class="code">KeyPairName</code>)의 값을 변경하여 생성된 것입니다. <code class="code">Replacement</code> 필드가 <code class="code">True</code>이기 때문에 이러한 변경이 있는 경우 CloudFormation은 인스턴스를 바꿔야 합니다.</p>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "StackId": "arn:aws:cloudformation:us-east-1:123456789012:stack/SampleStack/1a2345b6-0000-00a0-a123-00abc0abc000",
    "Status": "CREATE_COMPLETE",
    "ChangeSetName": "SampleChangeSet-multiple",
    "Parameters": [
        <span>{</span>
            "ParameterValue": "production",
            "ParameterKey": "Purpose"
        },
        <span>{</span>
            "ParameterValue": "MyNewKeyName",
            "ParameterKey": "KeyPairName"
        },
        <span>{</span>
            "ParameterValue": "t2.small",
            "ParameterKey": "InstanceType"
        }
    ],
    "Changes": [
        <span>{</span>
            "ResourceChange": <span>{</span>
                "ResourceType": "AWS::EC2::Instance",
                "PhysicalResourceId": "i-7bef86f8",
                "Details": [
                    <span>{</span>
                        "ChangeSource": "DirectModification",
                        "Evaluation": "Dynamic",
                        "Target": <span>{</span>
                            "Attribute": "Properties",
                            "Name": "KeyName",
                            "RequiresRecreation": "Always"
                        }
                    },
                    <span>{</span>
                        "ChangeSource": "DirectModification",
                        "Evaluation": "Dynamic",
                        "Target": <span>{</span>
                            "Attribute": "Properties",
                            "Name": "InstanceType",
                            "RequiresRecreation": "Conditionally"
                        }
                    },
                    <span>{</span>
                        "ChangeSource": "DirectModification",
                        "Evaluation": "Dynamic",
                        "Target": <span>{</span>
                            "Attribute": "Tags",
                            "RequiresRecreation": "Never"
                        }
                    },
                    <span>{</span>
                        "CausingEntity": "KeyPairName",
                        "ChangeSource": "ParameterReference",
                        "Evaluation": "Static",
                        "Target": <span>{</span>
                            "Attribute": "Properties",
                            "Name": "KeyName",
                            "RequiresRecreation": "Always"
                        }
                    },
                    <span>{</span>
                        "CausingEntity": "InstanceType",
                        "ChangeSource": "ParameterReference",
                        "Evaluation": "Static",
                        "Target": <span>{</span>
                            "Attribute": "Properties",
                            "Name": "InstanceType",
                            "RequiresRecreation": "Conditionally"
                        }
                    },
                    <span>{</span>
                        "CausingEntity": "Purpose",
                        "ChangeSource": "ParameterReference",
                        "Evaluation": "Static",
                        "Target": <span>{</span>
                            "Attribute": "Tags",
                            "RequiresRecreation": "Never"
                        }
                    }
                ],
                "Action": "Modify",
                "Scope": [
                    "Tags",
                    "Properties"
                ],
                "LogicalResourceId": "MyEC2Instance",
                "Replacement": "True"
            },
            "Type": "Resource"
        }
    ],
    "CreationTime": "2020-11-18T00:39:35.974Z",
    "Capabilities": [],
    "StackName": "SampleStack",
    "NotificationARNs": [],
    "ChangeSetId": "arn:aws:cloudformation:us-east-1:123456789012:changeSet/SampleChangeSet-multiple/1a2345b6-0000-00a0-a123-00abc0abc000"
}</code></pre>
      <p>각 변경(<code class="code">Details</code> 구조의 정적 평가)을 보고 리소스를 바꿔야 하는 변경을 찾습니다. 이 예제에서는 변경 사항마다 <code class="code">RequireRecreation</code> 필드 값이 다르지만, <code class="code">KeyName</code> 속성의 변경에는 가장 적극적인 업데이트 동작이 포함되어 있어 항상 재생성해야 합니다. 키 이름이 변경되었으므로 CloudFormation이 인스턴스를 대체합니다.</p>
      <p>키 이름이 변경되지 않은 경우 <code class="code">InstanceType</code> 속성의 변경에는 가장 적극적인 업데이트 동작(<code class="code">Conditionally</code>)이 포함되어 있어 <code class="code">Replacement</code> 필드가 <code class="code">Conditionally</code>가 됩니다. CloudFormation이 인스턴스를 바꿔야 하는 조건을 찾아보려면 <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-instance.html#cfn-ec2-instance-instancetype"><code class="code">InstanceType</code></a> 속성에 대한 업데이트 동작을 확인하십시오.</p>
     
      <h2 id="using-cfn-updating-stacks-changesets-samples-adding-and-removing-resources">리소스 추가 및 제거</h2>

      <p>다음은 EC2 인스턴스를 제거하고 Auto Scaling 그룹 및 시작 구성을 추가하는 수정된 템플릿을 제출하여 생성된 예제입니다.</p>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "StackId": "arn:aws:cloudformation:us-east-1:123456789012:stack/SampleStack/1a2345b6-0000-00a0-a123-00abc0abc000",
    "Status": "CREATE_COMPLETE",
    "ChangeSetName": "SampleChangeSet-addremove",
    "Parameters": [
        <span>{</span>
            "ParameterValue": "testing",
            "ParameterKey": "Purpose"
        },
        <span>{</span>
            "ParameterValue": "MyKeyName",
            "ParameterKey": "KeyPairName"
        },
        <span>{</span>
            "ParameterValue": "t2.micro",
            "ParameterKey": "InstanceType"
        }
    ],
    "Changes": [
        <span>{</span>
            "ResourceChange": <span>{</span>
                "Action": "Add",
                "ResourceType": "AWS::AutoScaling::AutoScalingGroup",
                "Scope": [],
                "Details": [],
                "LogicalResourceId": "AutoScalingGroup"
            },
            "Type": "Resource"
        },
        <span>{</span>
            "ResourceChange": <span>{</span>
                "Action": "Add",
                "ResourceType": "AWS::AutoScaling::LaunchConfiguration",
                "Scope": [],
                "Details": [],
                "LogicalResourceId": "LaunchConfig"
            },
            "Type": "Resource"
        },
        <span>{</span>
            "ResourceChange": <span>{</span>
                "ResourceType": "AWS::EC2::Instance",
                "PhysicalResourceId": "i-1abc23d4",
                "Details": [],
                "Action": "Remove",
                "Scope": [],
                "LogicalResourceId": "MyEC2Instance"
            },
            "Type": "Resource"
        }
    ],
    "CreationTime": "2020-11-18T01:44:08.444Z",
    "Capabilities": [],
    "StackName": "SampleStack",
    "NotificationARNs": [],
    "ChangeSetId": "arn:aws:cloudformation:us-east-1:123456789012:changeSet/SampleChangeSet-addremove/1a2345b6-0000-00a0-a123-00abc0abc000"
}</code></pre>
      <p><code class="code">Changes</code> 구조에는 리소스마다 하나씩 세 가지 <code class="code">ResourceChange</code> 구조가 있습니다. 각 리소스의 <code class="code">Action</code> 필드는 CloudFormation에서 리소스를 추가하는지 아니면 제거하는지 여부를 나타냅니다. <code class="code">Scope</code> 및 <code class="code">Details</code> 필드는 수정된 리소스에만 적용되므로 비어 있습니다.</p>
      <p>새 리소스의 경우, 변경 세트를 실행할 때까지 CloudFormation이 일부 필드의 값을 확인할 수 없습니다. 예를 들어 오토 스케일링의 물리적 ID 및 시작 구성이 아직 존재하지 않기 때문에 CloudFormation은 이러한 정보를 제공하지 않습니다. CloudFormation은 변경 세트를 실행할 때 새 리소스를 생성합니다.</p>
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="주의" /> <strong>javascript가 브라우저에서 비활성화되거나 사용이 불가합니다.</strong></p><p>AWS 설명서를 사용하려면 Javascript가 활성화되어야 합니다. 지침을 보려면 브라우저의 도움말 페이지를 참조하십시오.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">문서 규칙</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./using-cfn-updating-stacks-changesets-delete.html">변경 세트 삭제</div><div id="next" class="next-link" accesskey="n" href="./using-cfn-updating-stacks-direct.html">직접 스택 업데이트</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">이 페이지의 내용이 도움이 되었습니까? - 예</div><div class="content"><p>칭찬해 주셔서 감사합니다!</p><p>잠깐 시간을 내어 좋았던 부분을 알려 주시면 더 열심히 만들어 보겠습니다.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="feedback-tell-us" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">이 페이지의 내용이 도움이 되었습니까? - 아니요</div><div class="content"><p>이 페이지에 작업이 필요하다는 점을 알려 주셔서 감사합니다. 실망시켜 드려 죄송합니다.</p><p>잠깐 시간을 내어 설명서를 향상시킬 수 있는 방법에 대해 말씀해 주십시오.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="feedback-tell-us" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-changesets-samples.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>