<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>AWS::RDS::GlobalCluster - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="aws-resource-rds-globalcluster" /><meta name="default_state" content="aws-resource-rds-globalcluster" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-rds-globalcluster.html" /><meta name="description" content="The global database contains a single primary cluster with read-write capability, and a read-only secondary cluster that receives data from the primary cluster through high-speed replication performed by the Aurora storage subsystem." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Create and manage AWS infrastructure deployments predictably and repeatedly using AWS CloudFormation with this User Guide." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json;toc-AWS_RDS.json" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-rds-globalcluster.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-rds-globalcluster.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-rds-globalcluster.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-rds-globalcluster.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-rds-globalcluster.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-rds-globalcluster.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-rds-globalcluster.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-resource-rds-globalcluster.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-resource-rds-globalcluster.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-resource-rds-globalcluster.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-resource-rds-globalcluster.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-resource-rds-globalcluster.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-resource-rds-globalcluster.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-resource-rds-globalcluster.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-resource-rds-globalcluster.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-rds-globalcluster.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-rds-globalcluster.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-resource-rds-globalcluster.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-resource-rds-globalcluster.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/aws-resource-rds-globalcluster.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/aws-resource-rds-globalcluster.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-rds-globalcluster.html" hreflang="x-default" /><meta name="feedback-item" content="RDS" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="AWS::RDS::GlobalCluster" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>AWS::RDS::GlobalCluster - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=RDS&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-rds-globalcluster.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-rds-globalcluster.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-rds-globalcluster.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Amazon Relational Database Service resource type reference",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/AWS_RDS.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "AWS::RDS::GlobalCluster",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/AWS_RDS.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="AWS_RDS.html">User Guide</a></div><div id="page-toc-src"><a href="#aws-resource-rds-globalcluster-syntax">Syntax</a><a href="#aws-resource-rds-globalcluster-properties">Properties</a><a href="#aws-resource-rds-globalcluster-return-values">Return values</a><a href="#aws-resource-rds-globalcluster--examples">Examples</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="aws-resource-rds-globalcluster">AWS::RDS::GlobalCluster</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>The <code class="code">AWS::RDS::GlobalCluster</code> resource creates or updates an Amazon Aurora global database
        spread across multiple AWS Regions.</p><p>The global database contains a single primary cluster with read-write capability,
        and a read-only secondary cluster that receives
        data from the primary cluster through high-speed replication
        performed by the Aurora storage subsystem.</p><p>You can create a global database that is initially empty, and then
        add a primary cluster and a secondary cluster to it.</p><p>For information about Aurora global databases, see <a href="https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/aurora-global-database.html">
           Working with Amazon Aurora Global Databases</a> in the <em>Amazon Aurora User Guide</em>.</p><h2 id="aws-resource-rds-globalcluster-syntax">Syntax</h2><p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p><div id="JSON" name="JSON" class="section langfilter"><h3 id="aws-resource-rds-globalcluster-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Type" : "AWS::RDS::GlobalCluster",
  "Properties" : <span>{</span>
      "<a href="#cfn-rds-globalcluster-deletionprotection">DeletionProtection</a>" : <code class="replaceable">Boolean</code>,
      "<a href="#cfn-rds-globalcluster-engine">Engine</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-rds-globalcluster-engineversion">EngineVersion</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-rds-globalcluster-globalclusteridentifier">GlobalClusterIdentifier</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-rds-globalcluster-sourcedbclusteridentifier">SourceDBClusterIdentifier</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-rds-globalcluster-storageencrypted">StorageEncrypted</a>" : <code class="replaceable">Boolean</code>
    }
}
</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h3 id="aws-resource-rds-globalcluster-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Type: AWS::RDS::GlobalCluster
Properties:
  <a href="#cfn-rds-globalcluster-deletionprotection">DeletionProtection</a>: <code class="replaceable">Boolean</code>
  <a href="#cfn-rds-globalcluster-engine">Engine</a>: <code class="replaceable">String</code>
  <a href="#cfn-rds-globalcluster-engineversion">EngineVersion</a>: <code class="replaceable">String</code>
  <a href="#cfn-rds-globalcluster-globalclusteridentifier">GlobalClusterIdentifier</a>: <code class="replaceable">String</code>
  <a href="#cfn-rds-globalcluster-sourcedbclusteridentifier">SourceDBClusterIdentifier</a>: <code class="replaceable">String</code>
  <a href="#cfn-rds-globalcluster-storageencrypted">StorageEncrypted</a>: <code class="replaceable">Boolean</code>
</code></pre></div><h2 id="aws-resource-rds-globalcluster-properties">Properties</h2><div class="variablelist"><dl><dt id="cfn-rds-globalcluster-deletionprotection"><span class="term"><code class="code">DeletionProtection</code></span></dt><dd>
         <p>Specifies whether to enable deletion protection for the new global database cluster.
        The global database can't be deleted when deletion protection is enabled.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: Boolean</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-rds-globalcluster-engine"><span class="term"><code class="code">Engine</code></span></dt><dd>
         <p>The database engine to use for this global database cluster.</p>
         <p>Valid Values: <code class="code">aurora-mysql | aurora-postgresql</code>
         </p>
         <p>Constraints:</p>
         <div class="itemizedlist">
             
         <ul class="itemizedlist"><li class="listitem">
               <p>Can't be specified if <code class="code">SourceDBClusterIdentifier</code> is specified. In this case, Amazon Aurora uses the engine of the source DB cluster.</p>
            </li></ul></div>
      <p><em>Required</em>: Conditional</p><p><em>Type</em>: String</p><p><em>Allowed values</em>: <code class="code">aurora | aurora-mysql | aurora-postgresql</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-rds-globalcluster-engineversion"><span class="term"><code class="code">EngineVersion</code></span></dt><dd>
         <p>The engine version to use for this global database cluster.</p>
         <p>Constraints:</p>
         <div class="itemizedlist">
             
         <ul class="itemizedlist"><li class="listitem">
               <p>Can't be specified if <code class="code">SourceDBClusterIdentifier</code> is specified. In this case, Amazon Aurora uses the engine version of the source DB cluster.</p>
            </li></ul></div>
      <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-rds-globalcluster-globalclusteridentifier"><span class="term"><code class="code">GlobalClusterIdentifier</code></span></dt><dd>
         <p>The cluster identifier for this global database cluster. This parameter is stored as a lowercase string.</p>
      <p><em>Required</em>: Conditional</p><p><em>Type</em>: String</p><p><em>Pattern</em>: <code class="code">^[a-zA-Z]<span>{</span>1}(?:-?[a-zA-Z0-9])<span>{</span>0,62}$</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-rds-globalcluster-sourcedbclusteridentifier"><span class="term"><code class="code">SourceDBClusterIdentifier</code></span></dt><dd>
         <p>The Amazon Resource Name (ARN) to use as the primary cluster of the global database.</p>
         <p>If you provide a value for this parameter, don't specify values for the following settings because Amazon Aurora uses the values from the specified source DB cluster:</p>
         <div class="itemizedlist">
             
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>
                  <code class="code">DatabaseName</code>
               </p>
            </li><li class="listitem">
               <p>
                  <code class="code">Engine</code>
               </p>
            </li><li class="listitem">
               <p>
                  <code class="code">EngineVersion</code>
               </p>
            </li><li class="listitem">
               <p>
                  <code class="code">StorageEncrypted</code>
               </p>
            </li></ul></div>
      <p><em>Required</em>: Conditional</p><p><em>Type</em>: String</p><p><em>Pattern</em>: <code class="code">^(?=.<span>{</span>40,128}$)arn.*</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-rds-globalcluster-storageencrypted"><span class="term"><code class="code">StorageEncrypted</code></span></dt><dd>
         <p>Specifies whether to enable storage encryption for the new global database cluster.</p>
         <p>Constraints:</p>
         <div class="itemizedlist">
             
         <ul class="itemizedlist"><li class="listitem">
               <p>Can't be specified if <code class="code">SourceDBClusterIdentifier</code> is specified. In this case, Amazon Aurora uses the setting from the source DB cluster.</p>
            </li></ul></div>
      <p><em>Required</em>: No</p><p><em>Type</em>: Boolean</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd></dl></div><h2 id="aws-resource-rds-globalcluster-return-values">Return values</h2><h3 id="aws-resource-rds-globalcluster-return-values-ref">Ref</h3><p>
            When you pass the logical ID of this resource to the intrinsic <code class="code">Ref</code> function, <code class="code">Ref</code> returns the name of the global database cluster.</p><p>For more information about using the <code class="code">Ref</code> function, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-ref.html"><code class="code">Ref</code></a>.</p><h2 id="aws-resource-rds-globalcluster--examples">Examples</h2><div class="highlights" id="inline-topiclist"><h6> </h6><ul><li><a href="#aws-resource-rds-globalcluster--examples--Creating_a_Global_Database_cluster_for_Aurora_MySQL">Creating a Global Database cluster for Aurora MySQL</a></li><li><a href="#aws-resource-rds-globalcluster--examples--Creating_a_Global_Database_cluster_for_Aurora_PostgreSQL">Creating a Global Database cluster for Aurora PostgreSQL</a></li><li><a href="#aws-resource-rds-globalcluster--examples--Adding_a_Region_to_an_Aurora_database_cluster">Adding a Region to an Aurora database cluster</a></li><li><a href="#aws-resource-rds-globalcluster--examples--Adding_a_DB_cluster_to_a_Global_Database_cluster">Adding a DB cluster to a Global Database cluster</a></li></ul></div><h3 id="aws-resource-rds-globalcluster--examples--Creating_a_Global_Database_cluster_for_Aurora_MySQL">Creating a Global Database cluster for Aurora MySQL</h3><p>The following example creates a global database cluster with an Aurora MySQL DB cluster and DB instance.</p><div id="JSON" name="JSON" class="section langfilter"><h4 id="aws-resource-rds-globalcluster--examples--Creating_a_Global_Database_cluster_for_Aurora_MySQL--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>&#xD;
    "AWSTemplateFormatVersion": "2010-09-09",&#xD;
    "Parameters": <span>{</span>&#xD;
        "GlobalClusterIdentifier": <span>{</span>&#xD;
          "Type": "String",&#xD;
          "Description": "Identifier used for global database cluster",&#xD;
          "AllowedPattern": "^[a-zA-Z]<span>{</span>1}(?:-?[a-zA-Z0-9])<span>{</span>0,62}$"&#xD;
        },&#xD;
        "username": <span>{</span>&#xD;
            "NoEcho": "true",&#xD;
            "Description": "Username for MySQL database access",&#xD;
            "Type": "String",&#xD;
            "MinLength": "1",&#xD;
            "MaxLength": "16",&#xD;
            "AllowedPattern": "[a-zA-Z][a-zA-Z0-9]*",&#xD;
            "ConstraintDescription": "must begin with a letter and contain only alphanumeric characters."&#xD;
        },&#xD;
        "password": <span>{</span>&#xD;
            "NoEcho": "true",&#xD;
            "Description": "Password for MySQL database access",&#xD;
            "Type": "String",&#xD;
            "MinLength": "8",&#xD;
            "MaxLength": "41",&#xD;
            "AllowedPattern": "[a-zA-Z0-9]*",&#xD;
            "ConstraintDescription": "must contain only alphanumeric characters."&#xD;
        }&#xD;
    },&#xD;
    "Resources": <span>{</span>&#xD;
        "GlobalCluster": <span>{</span>&#xD;
            "Type": "AWS::RDS::GlobalCluster",&#xD;
            "Properties": <span>{</span>&#xD;
                "GlobalClusterIdentifier": <span>{</span>&#xD;
                    "Ref": "GlobalClusterIdentifier"&#xD;
                },&#xD;
                "SourceDBClusterIdentifier": <span>{</span>&#xD;
                    "Ref": "RDSCluster"&#xD;
                }&#xD;
            }&#xD;
        },&#xD;
        "RDSCluster": <span>{</span>&#xD;
            "Type": "AWS::RDS::DBCluster",&#xD;
            "Properties": <span>{</span>&#xD;
                "MasterUsername": <span>{</span>&#xD;
                    "Ref": "username"&#xD;
                },&#xD;
                "MasterUserPassword": <span>{</span>&#xD;
                    "Ref": "password"&#xD;
                },&#xD;
                "DBClusterParameterGroupName": "default.aurora-mysql5.7",&#xD;
                "Engine": "aurora-mysql",&#xD;
                "EngineVersion": "5.7.mysql_aurora.2.10.0"&#xD;
            }&#xD;
        },&#xD;
        "RDSDBInstance": <span>{</span>&#xD;
            "Type": "AWS::RDS::DBInstance",&#xD;
            "Properties": <span>{</span>&#xD;
                "Engine": "aurora-mysql",&#xD;
                "DBClusterIdentifier": <span>{</span>&#xD;
                    "Ref": "RDSCluster"&#xD;
                },&#xD;
                "DBParameterGroupName": "default.aurora-mysql5.7",&#xD;
                "PubliclyAccessible": "true",&#xD;
                "DBInstanceClass": "db.r5.xlarge"&#xD;
            }&#xD;
        }&#xD;
    }&#xD;
}&#xD;
        &#xD;
     </code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-resource-rds-globalcluster--examples--Creating_a_Global_Database_cluster_for_Aurora_MySQL--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">AWSTemplateFormatVersion: 2010-09-09&#xD;
Parameters:&#xD;
  GlobalClusterIdentifier:&#xD;
    Type: String&#xD;
    Description: Identifier used for global database cluster&#xD;
    AllowedPattern: '^[a-zA-Z]<span>{</span>1}(?:-?[a-zA-Z0-9])<span>{</span>0,62}$'&#xD;
  username:&#xD;
    NoEcho: 'true'&#xD;
    Description: Username for MySQL database access&#xD;
    Type: String&#xD;
    MinLength: '1'&#xD;
    MaxLength: '16'&#xD;
    AllowedPattern: '[a-zA-Z][a-zA-Z0-9]*'&#xD;
    ConstraintDescription: must begin with a letter and contain only alphanumeric characters.&#xD;
  password:&#xD;
    NoEcho: 'true'&#xD;
    Description: Password for MySQL database access&#xD;
    Type: String&#xD;
    MinLength: '8'&#xD;
    MaxLength: '41'&#xD;
    AllowedPattern: '[a-zA-Z0-9]*'&#xD;
    ConstraintDescription: must contain only alphanumeric characters.&#xD;
Resources:&#xD;
  GlobalCluster:&#xD;
    Type: 'AWS::RDS::GlobalCluster'&#xD;
    Properties:&#xD;
      GlobalClusterIdentifier: !Ref GlobalClusterIdentifier&#xD;
      SourceDBClusterIdentifier: !Ref RDSCluster&#xD;
  RDSCluster:&#xD;
    Type: 'AWS::RDS::DBCluster'&#xD;
    Properties:&#xD;
      MasterUsername: !Ref username&#xD;
      MasterUserPassword: !Ref password&#xD;
      DBClusterParameterGroupName: default.aurora-mysql5.7&#xD;
      Engine: aurora-mysql&#xD;
      EngineVersion: 5.7.mysql_aurora.2.10.0&#xD;
  RDSDBInstance:&#xD;
    Type: 'AWS::RDS::DBInstance'&#xD;
    Properties:&#xD;
      Engine: aurora-mysql&#xD;
      DBClusterIdentifier: !Ref RDSCluster&#xD;
      DBParameterGroupName: default.aurora-mysql5.7&#xD;
      PubliclyAccessible: 'true'&#xD;
      DBInstanceClass: db.r5.xlarge&#xD;
        &#xD;
     </code></pre></div><h3 id="aws-resource-rds-globalcluster--examples--Creating_a_Global_Database_cluster_for_Aurora_PostgreSQL">Creating a Global Database cluster for Aurora PostgreSQL</h3><p>The following example creates a global database cluster with an Aurora PostgreSQL DB cluster and DB instance.</p><div id="JSON" name="JSON" class="section langfilter"><h4 id="aws-resource-rds-globalcluster--examples--Creating_a_Global_Database_cluster_for_Aurora_PostgreSQL--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>&#xD;
    "AWSTemplateFormatVersion": "2010-09-09",&#xD;
    "Parameters": <span>{</span>&#xD;
        "GlobalClusterIdentifier": <span>{</span>&#xD;
          "Type": "String",&#xD;
          "Description": "Identifier used for global database cluster",&#xD;
          "AllowedPattern": "^[a-zA-Z]<span>{</span>1}(?:-?[a-zA-Z0-9])<span>{</span>0,62}$"&#xD;
        },&#xD;
        "username": <span>{</span>&#xD;
            "NoEcho": "true",&#xD;
            "Description": "Username for PostgreSQL database access",&#xD;
            "Type": "String",&#xD;
            "MinLength": "1",&#xD;
            "MaxLength": "16",&#xD;
            "AllowedPattern": "[a-zA-Z][a-zA-Z0-9]*",&#xD;
            "ConstraintDescription": "must begin with a letter and contain only alphanumeric characters."&#xD;
        },&#xD;
        "password": <span>{</span>&#xD;
            "NoEcho": "true",&#xD;
            "Description": "Password for PostgreSQL database access",&#xD;
            "Type": "String",&#xD;
            "MinLength": "8",&#xD;
            "MaxLength": "41",&#xD;
            "AllowedPattern": "[a-zA-Z0-9]*",&#xD;
            "ConstraintDescription": "must contain only alphanumeric characters."&#xD;
        }&#xD;
    },&#xD;
    "Resources": <span>{</span>&#xD;
        "GlobalCluster": <span>{</span>&#xD;
            "Type": "AWS::RDS::GlobalCluster",&#xD;
            "Properties": <span>{</span>&#xD;
                "GlobalClusterIdentifier": <span>{</span>&#xD;
                    "Ref": "GlobalClusterIdentifier"&#xD;
                },&#xD;
                "SourceDBClusterIdentifier": <span>{</span>&#xD;
                    "Ref": "RDSCluster"&#xD;
                }&#xD;
            }&#xD;
        },&#xD;
        "RDSCluster": <span>{</span>&#xD;
            "Type": "AWS::RDS::DBCluster",&#xD;
            "Properties": <span>{</span>&#xD;
                "MasterUsername": <span>{</span>&#xD;
                    "Ref": "username"&#xD;
                },&#xD;
                "MasterUserPassword": <span>{</span>&#xD;
                    "Ref": "password"&#xD;
                },&#xD;
                "DBClusterParameterGroupName": "default.aurora-postgresql11",&#xD;
                "Engine": "aurora-postgresql",&#xD;
                "EngineVersion": "11.7"&#xD;
            }&#xD;
        },&#xD;
        "RDSDBInstance": <span>{</span>&#xD;
            "Type": "AWS::RDS::DBInstance",&#xD;
            "Properties": <span>{</span>&#xD;
                "Engine": "aurora-postgresql",&#xD;
                "DBClusterIdentifier": <span>{</span>&#xD;
                    "Ref": "RDSCluster"&#xD;
                },&#xD;
                "DBParameterGroupName": "default.aurora-postgresql11",&#xD;
                "PubliclyAccessible": "true",&#xD;
                "DBInstanceClass": "db.r5.xlarge"&#xD;
            }&#xD;
        }&#xD;
    }&#xD;
}&#xD;
        &#xD;
     </code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-resource-rds-globalcluster--examples--Creating_a_Global_Database_cluster_for_Aurora_PostgreSQL--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">AWSTemplateFormatVersion: 2010-09-09&#xD;
Parameters:&#xD;
  GlobalClusterIdentifier:&#xD;
    Type: String&#xD;
    Description: Identifier used for global database cluster&#xD;
    AllowedPattern: '^[a-zA-Z]<span>{</span>1}(?:-?[a-zA-Z0-9])<span>{</span>0,62}$'&#xD;
  username:&#xD;
    NoEcho: 'true'&#xD;
    Description: Username for PostgreSQL database access&#xD;
    Type: String&#xD;
    MinLength: '1'&#xD;
    MaxLength: '16'&#xD;
    AllowedPattern: '[a-zA-Z][a-zA-Z0-9]*'&#xD;
    ConstraintDescription: must begin with a letter and contain only alphanumeric characters.&#xD;
  password:&#xD;
    NoEcho: 'true'&#xD;
    Description: Password for PostgreSQL database access&#xD;
    Type: String&#xD;
    MinLength: '8'&#xD;
    MaxLength: '41'&#xD;
    AllowedPattern: '[a-zA-Z0-9]*'&#xD;
    ConstraintDescription: must contain only alphanumeric characters.&#xD;
Resources:&#xD;
  GlobalCluster:&#xD;
    Type: 'AWS::RDS::GlobalCluster'&#xD;
    Properties:&#xD;
      GlobalClusterIdentifier: !Ref GlobalClusterIdentifier&#xD;
      SourceDBClusterIdentifier: !Ref RDSCluster&#xD;
  RDSCluster:&#xD;
    Type: 'AWS::RDS::DBCluster'&#xD;
    Properties:&#xD;
      MasterUsername: !Ref username&#xD;
      MasterUserPassword: !Ref password&#xD;
      DBClusterParameterGroupName: default.aurora-postgresql11&#xD;
      Engine: aurora-postgresql&#xD;
      EngineVersion: '11.7'&#xD;
  RDSDBInstance:&#xD;
    Type: 'AWS::RDS::DBInstance'&#xD;
    Properties:&#xD;
      Engine: aurora-postgresql&#xD;
      DBClusterIdentifier: !Ref RDSCluster&#xD;
      DBParameterGroupName: default.aurora-postgresql11&#xD;
      PubliclyAccessible: 'true'&#xD;
      DBInstanceClass: db.r5.xlarge&#xD;
        &#xD;
     </code></pre></div><h3 id="aws-resource-rds-globalcluster--examples--Adding_a_Region_to_an_Aurora_database_cluster">Adding a Region to an Aurora database cluster</h3><p>The following example creates a new Aurora DB cluster, attaches it to a global database cluster as a read-only 
                    secondary cluster, and then adds a DB instance to the new DB cluster.</p><p>Specify the <code class="code">GlobalClusterIdentifier</code> of a global database cluster with the primary DB cluster in a separate AWS Region.</p><div id="JSON" name="JSON" class="section langfilter"><h4 id="aws-resource-rds-globalcluster--examples--Adding_a_Region_to_an_Aurora_database_cluster--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>&#xD;
    "AWSTemplateFormatVersion": "2010-09-09",&#xD;
    "Parameters": <span>{</span>&#xD;
        "GlobalClusterIdentifier": <span>{</span>&#xD;
          "Type": "String",&#xD;
          "Description": "Identifier used for global database cluster",&#xD;
          "AllowedPattern": "^[a-zA-Z]<span>{</span>1}(?:-?[a-zA-Z0-9])<span>{</span>0,62}$"&#xD;
        }&#xD;
    },&#xD;
    "Resources": <span>{</span>&#xD;
        "RDSCluster": <span>{</span>&#xD;
            "Type": "AWS::RDS::DBCluster",&#xD;
            "Properties": <span>{</span>&#xD;
                "GlobalClusterIdentifier": <span>{</span>&#xD;
                    "Ref": "GlobalClusterIdentifier"&#xD;
                },&#xD;
                "DBClusterParameterGroupName": "default.aurora-mysql5.7",&#xD;
                "Engine": "aurora-mysql",&#xD;
                "EngineVersion": "5.7.mysql_aurora.2.10.0"&#xD;
            }&#xD;
        },&#xD;
        "RDSDBInstance": <span>{</span>&#xD;
            "Type": "AWS::RDS::DBInstance",&#xD;
            "Properties": <span>{</span>&#xD;
                "Engine": "aurora-mysql",&#xD;
                "DBClusterIdentifier": <span>{</span>&#xD;
                    "Ref": "RDSCluster"&#xD;
                },&#xD;
                "DBParameterGroupName": "default.aurora-mysql5.7",&#xD;
                "PubliclyAccessible": "true",&#xD;
                "DBInstanceClass": "db.r5.xlarge"&#xD;
            }&#xD;
        }&#xD;
    }&#xD;
}&#xD;
        &#xD;
     </code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-resource-rds-globalcluster--examples--Adding_a_Region_to_an_Aurora_database_cluster--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">AWSTemplateFormatVersion: 2010-09-09&#xD;
Parameters:&#xD;
  GlobalClusterIdentifier:&#xD;
    Type: String&#xD;
    Description: Identifier used for global database cluster&#xD;
    AllowedPattern: '^[a-zA-Z]<span>{</span>1}(?:-?[a-zA-Z0-9])<span>{</span>0,62}$'&#xD;
Resources:&#xD;
  RDSCluster:&#xD;
    Type: 'AWS::RDS::DBCluster'&#xD;
    Properties:&#xD;
      GlobalClusterIdentifier: !Ref GlobalClusterIdentifier&#xD;
      DBClusterParameterGroupName: default.aurora-mysql5.7&#xD;
      Engine: aurora-mysql&#xD;
      EngineVersion: 5.7.mysql_aurora.2.10.0&#xD;
  RDSDBInstance:&#xD;
    Type: 'AWS::RDS::DBInstance'&#xD;
    Properties:&#xD;
      Engine: aurora-mysql&#xD;
      DBClusterIdentifier: !Ref RDSCluster&#xD;
      DBParameterGroupName: default.aurora-mysql5.7&#xD;
      PubliclyAccessible: 'true'&#xD;
      DBInstanceClass: db.r5.xlarge&#xD;
        &#xD;
     </code></pre></div><h3 id="aws-resource-rds-globalcluster--examples--Adding_a_DB_cluster_to_a_Global_Database_cluster">Adding a DB cluster to a Global Database cluster</h3><p>The following example adds a DB cluster to a global database cluster.</p><p>The example includes the template that was used to create the DB cluster. After the DB cluster created by the first template exists, 
                   the second template in the example adds the DB cluster to a global database cluster.</p><div id="JSON" name="JSON" class="section langfilter"><h4 id="aws-resource-rds-globalcluster--examples--Adding_a_DB_cluster_to_a_Global_Database_cluster--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><b>The following template was used to create DB cluster that you want to add to the global database cluster.</b>
<span>{</span>
    "AWSTemplateFormatVersion": "2010-09-09",
    "Parameters": <span>{</span>
        "username": <span>{</span>
            "NoEcho": "true",
            "Description": "Username for MySQL database access",
            "Type": "String",
            "MinLength": "1",
            "MaxLength": "16",
            "AllowedPattern": "[a-zA-Z][a-zA-Z0-9]*",
            "ConstraintDescription": "must begin with a letter and contain only alphanumeric characters."
         },
         "password": <span>{</span>
             "NoEcho": "true",
             "Description": "Password MySQL database access",
             "Type": "String",
             "MinLength": "8",
             "MaxLength": "41",
             "AllowedPattern": "[a-zA-Z0-9]*",
             "ConstraintDescription": "must contain only alphanumeric characters."
         }
    },
    "Resources": <span>{</span>
        "RDSCluster": <span>{</span>
            "Type": "AWS::RDS::DBCluster",
            "Properties": <span>{</span>
                "MasterUsername": <span>{</span>
                    "Ref": "username"
                },
                "MasterUserPassword": <span>{</span>
                    "Ref": "password"
                },
                "DBClusterParameterGroupName": "default.aurora-mysql8.0",
                "Engine": "aurora-mysql",
                "EngineVersion": "8.0.mysql_aurora.8.0.30"
            }
        },
        "RDSDBInstance": <span>{</span>
            "Type": "AWS::RDS::DBInstance",
                "Properties": <span>{</span>
                    "Engine": "aurora-mysql",
                    "DBClusterIdentifier": <span>{</span>
                        "Ref": "RDSCluster"
                },
                "DBParameterGroupName": "default.aurora-mysql8.0",
                "PubliclyAccessible": "true",
                "DBInstanceClass": "db.r5.xlarge"
            }
        }
    }
}
                
<b>The following template adds the DB cluster created by the previous template to a global database cluster.</b>
<span>{</span>
    "AWSTemplateFormatVersion": "2010-09-09",
    "Parameters": <span>{</span>
        "GlobalClusterIdentifier": <span>{</span>
            "Description": "Global cluster identifier",
            "Type": "String"
        },
        "username": <span>{</span>
            "NoEcho": "true",
            "Description": "Username for MySQL database access",
            "Type": "String",
            "MinLength": "1",
            "MaxLength": "16",
            "AllowedPattern": "[a-zA-Z][a-zA-Z0-9]*",
            "ConstraintDescription": "must begin with a letter and contain only alphanumeric characters."
        },
        "password": <span>{</span>
            "NoEcho": "true",
            "Description": "Password MySQL database access",
            "Type": "String",
            "MinLength": "8",
            "MaxLength": "41",
            "AllowedPattern": "[a-zA-Z0-9]*",
            "ConstraintDescription": "must contain only alphanumeric characters."
        }
    },
    "Resources": <span>{</span>
        "GlobalCluster": <span>{</span>
            "Type": "AWS::RDS::GlobalCluster",
            "Properties": <span>{</span>
                "GlobalClusterIdentifier": <span>{</span>
                    "Ref": "GlobalClusterIdentifier"
                },
                "SourceDBClusterIdentifier": <span>{</span>
                    "Ref": "RDSCluster"
                }
            }
        },
        "RDSCluster": <span>{</span>
            "Type": "AWS::RDS::DBCluster",
            "Properties": <span>{</span>
                "MasterUsername": <span>{</span>
                    "Ref": "username"
                },
                "MasterUserPassword": <span>{</span>
                    "Ref": "password"
                },
                "DBClusterParameterGroupName": "default.aurora-mysql8.0",
                "Engine": "aurora-mysql",
                "EngineVersion": "8.0.mysql_aurora.8.0.30"
            }
        },
        "RDSDBInstance": <span>{</span>
            "Type": "AWS::RDS::DBInstance",
            "Properties": <span>{</span>
                "Engine": "aurora-mysql",
                "DBClusterIdentifier": <span>{</span>
                    "Ref": "RDSCluster"
                },
                "DBParameterGroupName": "default.aurora-mysql8.0",
                "PubliclyAccessible": "true",
                "DBInstanceClass": "db.r5.xlarge"
            }
        }
    }
}
            </code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-resource-rds-globalcluster--examples--Adding_a_DB_cluster_to_a_Global_Database_cluster--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml "><b>The following template created the DB cluster that you want to add to the global database cluster.</b>
AWSTemplateFormatVersion: 2010-09-09
Parameters:
  username:
    NoEcho: 'true'
    Description: Username for MySQL database access
    Type: String
    MinLength: '1'
    MaxLength: '16'
    AllowedPattern: '[a-zA-Z][a-zA-Z0-9]*'
    ConstraintDescription: must begin with a letter and contain only alphanumeric characters.
  password:
    NoEcho: 'true'
    Description: Password MySQL database access
    Type: String
    MinLength: '8'
    MaxLength: '41'
    AllowedPattern: '[a-zA-Z0-9]*'
    ConstraintDescription: must contain only alphanumeric characters.
Resources:
  RDSCluster:
    Type: 'AWS::RDS::DBCluster'
    Properties:
      MasterUsername: !Ref username
      MasterUserPassword: !Ref password
      DBClusterParameterGroupName: default.aurora-mysql8.0
      Engine: aurora-mysql
      EngineVersion: 8.0.mysql_aurora.8.0.30
  RDSDBInstance:
    Type: 'AWS::RDS::DBInstance'
    Properties:
      Engine: aurora-mysql
      DBClusterIdentifier: !Ref RDSCluster
      DBParameterGroupName: default.aurora-mysql8.0
      PubliclyAccessible: 'true'
      DBInstanceClass: db.r5.xlarge
                
<b>The following template adds the DB cluster created by the previous template to a global database cluster.</b>
AWSTemplateFormatVersion: 2010-09-09
Parameters:
  GlobalClusterIdentifier:
    Description: Global cluster identifier
    Type: String
  username:
    NoEcho: 'true'
    Description: Username for MySQL database access
    Type: String
    MinLength: '1'
    MaxLength: '16'
    AllowedPattern: '[a-zA-Z][a-zA-Z0-9]*'
    ConstraintDescription: must begin with a letter and contain only alphanumeric characters.
  password:
    NoEcho: 'true'
    Description: Password MySQL database access
    Type: String
    MinLength: '8'
    MaxLength: '41'
    AllowedPattern: '[a-zA-Z0-9]*'
    ConstraintDescription: must contain only alphanumeric characters.
Resources:
  GlobalCluster:
    Type: 'AWS::RDS::GlobalCluster'
    Properties:
      GlobalClusterIdentifier: !Ref GlobalClusterIdentifier
      SourceDBClusterIdentifier: !Ref RDSCluster
  RDSCluster:
    Type: 'AWS::RDS::DBCluster'
    Properties:
      MasterUsername: !Ref username
      MasterUserPassword: !Ref password
      DBClusterParameterGroupName: default.aurora-mysql8.0
      Engine: aurora-mysql
      EngineVersion: 8.0.mysql_aurora.8.0.30
  RDSDBInstance:
    Type: 'AWS::RDS::DBInstance'
    Properties:
      Engine: aurora-mysql
      DBClusterIdentifier: !Ref RDSCluster
      DBParameterGroupName: default.aurora-mysql8.0
      PubliclyAccessible: 'true'
      DBInstanceClass: db.r5.xlarge
            </code></pre></div><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./aws-properties-rds-eventsubscription-tag.html">Tag</div><div id="next" class="next-link" accesskey="n" href="./aws-resource-rds-integration.html">AWS::RDS::Integration</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=RDS&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-rds-globalcluster.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=RDS&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-rds-globalcluster.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>