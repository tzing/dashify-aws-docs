<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="ko-KR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>연습: 테스트 및 프로덕션 스택용 파이프라인 빌드 - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="continuous-delivery-codepipeline-basic-walkthrough" /><meta name="default_state" content="continuous-delivery-codepipeline-basic-walkthrough" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" /><meta name="description" content="연속 전달 워크플로를 위해 여러 AWS CloudFormation 작업을 자동화하는 CodePipeline 파이프라인 구축 방법에 대해 알아봅니다." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="사용자 가이드" /><meta name="abstract" content="이 사용 설명서와 AWS CloudFormation을 사용하여 AWS 인프라 배포를 예상한 대로 반복해서 생성 및 관리합니다." /><meta name="guide-locale" content="ko_kr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="사용자 가이드" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="사용자 가이드" /><meta id="panorama-serviceConsolePage" value="연습: 테스트 및 프로덕션 스택용 파이프라인 빌드" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>연습: 테스트 및 프로덕션 스택용 파이프라인 빌드 - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,리소스 프로비저닝,리소스 구성,인프라 관리,CloudFormer,CloudFormation 스택,CloudFormation stackset,CloudFormation 템플릿,변경 세트" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "사용자 가이드",
        "item" : "https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "CodePipeline을 사용한 지속적 전달",
        "item" : "https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "연습: 테스트 및 프로덕션 스택용 파이프라인 빌드",
        "item" : "https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">aws-documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">사용자 가이드</a></div><div id="page-toc-src"><a href="#w9aac21c11b5">필수 조건</a><a href="#w9aac21c11b7">연습 개요</a><a href="#w9aac21c11b9">1단계: 아티팩트 편집 및 S3 버킷에 업로드</a><a href="#w9aac21c11c11">2단계: 파이프라인 스택 생성</a><a href="#w9aac21c11c13">3단계: WordPress 스택 보기</a><a href="#w9aac21c11c15">4단계: 리소스 정리</a><a href="#w9aac21c11c19">다음 사항도 참조하십시오.</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="continuous-delivery-codepipeline-basic-walkthrough">연습: 테스트 및 프로덕션 스택용 파이프라인 빌드</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>AWS CloudFormation 템플릿을 제출하면 AWS CloudFormation에서 이 템플릿을 사용하여 테스트 스택을 자동으로 빌드하는 릴리스 프로세스가 있다고 상상해 보십시오. 테스트 스택을 검토한 후, 변경 시 프로덕션 스택이 어떻게 수정될지 미리 보고 나서 구현 여부를 선택할 수 있습니다. 이 워크플로우를 실현하기 위해 AWS CloudFormation을 사용하여 테스트 스택을 빌드한 후, 테스트 스택을 삭제한 다음, 변경 세트를 생성하고 나서 변경 세트를 실행할 수 있습니다. 하지만 각 작업마다 AWS CloudFormation과 수동으로 상호 작용해야 합니다. 이 연습에서는 AWS CloudFormation 스택을 사용하여 연속 전달 워크플로를 실현하는 데 도움이 되도록 이러한 여러 작업을 자동화하는 CodePipeline 파이프라인을 구축하겠습니다.</p>
    <h2 id="w9aac21c11b5">필수 조건</h2>
    <p>이 연습에서는 CodePipeline 및 AWS CloudFormation을 사용해본 적이 있으며 파이프라인과 AWS CloudFormation 템플릿 및 스택의 작동 방식에 대해 잘 알고 있다고 가정하겠습니다. CodePipeline에 대한 자세한 내용을 알아보려면 <a href="https://docs.aws.amazon.com/codepipeline/latest/userguide/">AWS CodePipeline 사용 설명서</a>를 참조하세요. 파이프라인을 생성할 동일한 AWS 리전에 Amazon S3 <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingBucket.html">버킷</a>도 있어야 합니다.</p>
    <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>중요</h6></div><div class="awsdocs-note-text"><p>샘플 WordPress 템플릿은 인터넷에 연결해야 하는 EC2 인스턴스를 생성합니다. 인터넷에 대한 트래픽을 허용하는 기본 VPC와 서브넷이 있는지 확인합니다.</p></div></div>
   
    <h2 id="w9aac21c11b7">연습 개요</h2>
    <p>이 연습은 스택에서 샘플 WordPress 사이트용 파이프라인을 빌드합니다. 파이프라인은 세 단계로 분리됩니다. 각 단계마다 최소 한 개의 작업이 포함되어야 하며, 이 때의 작업은 파이프라인에서 아티팩트(입력)에 대해 수행되는 작업입니다. 스테이지는 파이프라인에 작업을 구성합니다. CodePipeline이 스테이지에서 새 아티팩트를 처리하기 전에(예를 들어 파이프라인을 재실행하기 위해 새 입력을 제출한 경우) 스테이지의 모든 작업은 완료해야 합니다.</p>
    <p>이 연습이 끝나면 다음 워크플로우를 수행하는 파이프라인이 생성됩니다.</p>
    <div class="orderedlist">
       
       
       
    <ol><li>
        <p>파이프라인의 첫 번째 단계는 리포지토리에서 소스 아티팩트(AWS CloudFormation 템플릿과 관련 구성 파일)를 검색합니다.</p>
        <p>샘플 WordPress 템플릿을 포함하는 아티팩트를 준비하여 S3 버킷에 업로드합니다.</p>
      </li><li>
        <p>두 번째 단계에서는 파이프라인이 테스트 스택을 생성하고 승인을 기다립니다.</p>
        <p>테스트 스택을 검토한 후 원래 파이프라인을 계속 사용할지 아니면 다른 아티팩트를 생성 및 제출하여 변경할지 선택할 수 있습니다. 승인하고 나면 이 단계에서 테스트 스택이 삭제되고 나서 파이프라인이 다음 단계로 이동합니다.</p>
      </li><li>
        <p>세 번째 단계에서는 파이프라인이 프로덕션 스택에 대해 변경 세트를 생성하고 나서 승인을 기다립니다.</p>
        <p>초기 실행에서는 프로덕션 스택이 없습니다. 변경 세트에는 AWS CloudFormation에서 생성할 모든 리소스가 표시됩니다. 승인하면 이 단계에서 변경 세트가 실행되고 프로덕션 스택이 빌드됩니다.</p>
      </li></ol></div>
    <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>참고</h6></div><div class="awsdocs-note-text"><p>AWS CloudFormation은 무료 서비스입니다. 하지만 각각에 대해 현재 요금에서 스택에 포함시키는 EC2 인스턴스 같은 AWS 리소스에 대해 요금이 청구됩니다. AWS 요금에 대한 자세한 내용을 알아보려면 <a href="https://aws.amazon.com/" rel="noopener noreferrer" target="_blank"><span>http://aws.amazon.com</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>의 제품별 세부 정보 페이지를 참조하세요.</p></div></div>
   
    <h2 id="w9aac21c11b9">1단계: 아티팩트 편집 및 S3 버킷에 업로드</h2>
    <p>파이프라인을 구축하기 전에 소스 리포지토리와 파일을 설정해야 합니다. CodePipeline에서는 이러한 소스 파일을 파이프라인의 <a href="https://docs.aws.amazon.com/codepipeline/latest/userguide/concepts.html">아티팩트 스토어</a>로 복사하고 나서 이러한 파일을 사용하여 AWS CloudFormation 스택 생성 같은 작업을 파이프라인에서 수행합니다.</p>
    <p>Amazon Simple Storage Service(Amazon S3)를 소스 리포지토리로 사용하는 경우 CodePipeline에서는 소스 파일을 S3 버킷으로 업로드하기 전에 이러한 파일을 압축해야 합니다. 압축한 파일은 AWS CloudFormation 템플릿, 템플릿 구성 파일 또는 2가지 모두를 포함할 수 있는 CodePipeline 아티팩트입니다. Amazon에서는 샘플 WordPress 템플릿 하나와 템플릿 구성 파일 두 개를 포함하는 아티팩트를 제공합니다. 2개의 구성 파일은 WordPress 템플릿의 파라미터 값을 지정합니다. CodePipeline은 WordPress 스택을 생성할 때 이를 사용합니다. 파일 하나에는 테스트 스택용 파라미터 값이 들어 있으며 다른 하나에는 프로덕션 스택용 파라미터 값이 들어 있습니다. 예를 들어 자신의 고유한 기존 EC2 키-페어 이름을 지정하려면 구성 파일을 편집해야 합니다. 아티팩트에 대한 자세한 내용은 <a href="./continuous-delivery-codepipeline-cfn-artifacts.html">AWS CloudFormation 아티팩트</a> 단원을 참조하십시오.</p>
    <p>아티팩트를 빌드한 후에는 S3 버킷에 업로드합니다.</p>
    <div class="procedure"><h6>아티팩트를 편집 및 업로드하려면</h6><ol><li>
        <p>샘플 아티팩트인 <a href="https://s3.amazonaws.com/cloudformation-examples/user-guide/continuous-deployment/wordpress-single-instance.zip" rel="noopener noreferrer" target="_blank"><span>https://s3.amazonaws.com/cloudformation-examples/user-guide/continuous-deployment/wordpress-single-instance.zip</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>을 다운로드하여 엽니다.</p>
        <p>아티팩트에는 세 가지 파일이 들어 있습니다.</p>
        <div class="itemizedlist">
           
           
           
        <ul class="itemizedlist"><li class="listitem">
            <p>샘플 WordPress 템플릿: <code class="code">wordpress-single-instance.yaml</code></p>
          </li><li class="listitem">
            <p>테스트 스택용 템플릿 구성 파일: <code class="code">test-stack-configuration.json</code> </p>
          </li><li class="listitem">
            <p>프로덕션 스택용 템플릿 구성 파일: <code class="code">prod-stack-configuration.json</code></p>
          </li></ul></div>
      </li><li>
        <p>모든 파일의 압축을 풀고 나서 텍스트 편집기를 사용하여 템플릿 구성 파일을 수정합니다.</p>
        <p>구성 파일을 열어서 WordPress 템플릿의 파라미터로 매핑되는 키-값 페어가 들어 있는지 확인합니다. 이 구성 파일은 테스트 및 프로덕션 스택 생성 시 파이프라인에서 사용하는 파라미터 값을 지정합니다.</p>
        <p><code class="code">test-stack-configuration.json</code> 파일에는 테스트 스택용 파라미터 값이 들어 있으며 <code class="code">prod-stack-configuration.json</code> 파일에는 프로덕션 스택용 파라미터 값이 들어 있습니다.</p>
        <div class="itemizedlist">
           
           
        <ul class="itemizedlist"><li class="listitem">
            <p><code class="code">DBPassword</code> 및 <code class="code">DBRootPassword</code> 키의 값을 WordPress 데이터베이스에 로그인할 때 사용할 수 있는 암호로 변경합니다. WordPress 템플릿에 정의된 대로, 파라미터 값에는 영숫자만 포함되어야 합니다.</p>
          </li><li class="listitem">
            <p>파이프라인을 생성할 리전의 기존 EC2 키-페어 이름으로 <code class="code">KeyName</code> 키의 값을 변경합니다.</p>
          </li></ul></div>
      </li><li>
        <p>수정된 구성 파일을 원래 아티팩트(<code class="code">.zip</code>) 파일에 추가하여 중복 파일을 대체합니다.</p>
        <p>이제 S3 버킷에 업로드할 수 있는 사용자 지정 아티팩트가 있습니다.</p>
      </li><li>
        <p><a href="https://docs.aws.amazon.com/AmazonS3/latest/user-guide/UploadingObjectsintoAmazonS3.html">자신의 고유 S3 버킷에 아티팩트를 업로드합니다.</a></p>
        <p>파일 위치를 적어둡니다. 파이프라인을 빌드할 때 이 파일의 위치를 지정합니다.</p>
        <p>아티팩트 및 S3 버킷에 대한 중요 정보:</p>
        <div class="itemizedlist">
           
           
           
           
        <ul class="itemizedlist"><li class="listitem">
            <p>파이프라인을 생성할 동일한 AWS 리전에 있는 버킷을 사용합니다.</p>
          </li><li class="listitem">
            <p>CodePipeline에서는 버킷에 대해 <a href="https://docs.aws.amazon.com/AmazonS3/latest/user-guide/enable-bucket-versioning.html">버전 관리가 활성화</a>되어야 합니다.</p>
          </li><li class="listitem">
            <p>소스 리포지토리로 업로드하기 전에 파일을 압축할 필요가 없는 GitHub 또는 CodeCommit 같은 서비스를 사용할 수도 있습니다.</p>
          </li><li class="listitem">
            <p>암호 등 중요 정보가 아티팩트에 포함될 수 있습니다. 허용된 사용자만 파일을 볼 수 있도록 <a href="https://docs.aws.amazon.com/AmazonS3/latest/user-guide/EditingPermissionsonanObject.html">액세스를 제한</a>하십시오. 그렇게 해도 CodePipeline에서는 여전히 파일에 액세스할 수 있습니다.</p>
          </li></ul></div>
      </li></ol></div>
    <p>이제 CodePipeline에서 파이프라인에 아티팩트를 추가할 수 있습니다. 다음 단계에서는 아티팩트의 위치를 지정하고 WordPress 파이프라인을 빌드하겠습니다.</p>
   
    <h2 id="w9aac21c11c11">2단계: 파이프라인 스택 생성</h2>
    <p>WordPress 파이프라인을 생성하려면 샘플 AWS CloudFormation 템플릿을 사용합니다. 파이프라인 빌드 외에도, 이 템플릿은 CodePipeline 및 AWS CloudFormation용 AWS Identity and Access Management(IAM) 서비스 역할, CodePipeline 아티팩트 스토어용 S3 버킷, 그리고 파이프라인에서 알림(예: 검토에 대한 알림)을 보낼 Amazon Simple Notification Service(Amazon SNS) 주제를 설정합니다. 이 샘플 템플릿을 사용하면 이러한 리소스를 단일 AWS CloudFormation 스택에서 쉽게 프로비저닝 및 구성할 수 있습니다.</p>
    <p>파이프라인 구성에 대한 자세한 내용은 <a href="#codepipeline-basic-walkthrough-template-details">파이프라인의 기능</a> 단원을 참조하십시오.</p>
    <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>중요</h6></div><div class="awsdocs-note-text"><p>샘플 WordPress 템플릿은 인터넷에 연결해야 하는 EC2 인스턴스를 생성합니다. 기본 VPC와 서브넷에서 인터넷에 대한 트래픽을 허용하는지 확인합니다.</p></div></div>
    <div class="procedure"><h6>파이프라인 스택을 생성하려면</h6><ol><li>
        <p><a href="https://s3.amazonaws.com/cloudformation-examples/user-guide/continuous-deployment/basic-pipeline.yml" rel="noopener noreferrer" target="_blank"><span>https://s3.amazonaws.com/cloudformation-examples/user-guide/continuous-deployment/basic-pipeline.yml</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>에서 샘플 템플릿을 다운로드합니다. 그런 다음 컴퓨터에 저장합니다.</p>
      </li><li>
        <p>AWS CloudFormation 콘솔(<a href="https://console.aws.amazon.com/cloudformation/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/cloudformation/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>)을 엽니다.</p>
      </li><li>
        <p>CodePipeline과 AWS CloudFormation을 지원하는 AWS 리전을 선택합니다.</p>
        <p>자세한 내용은 AWS 일반 참조<em></em>의 <a href="https://docs.aws.amazon.com/general/latest/gr/rande.html">AWS Regions and endpoints</a>를 참조하세요.</p>
      </li><li>
        <p><b>스택 생성</b>을 선택합니다.</p>
      </li><li>
        <p><b>템플릿 지정</b> 섹션에서 <b>템플릿 파일 업로드</b>를 선택한 다음, 방금 다운로드한 템플릿인 <code class="code">basic-pipeline.yml</code>을 선택합니다.</p>
      </li><li>
        <p><b>다음</b>을 선택합니다.</p>
      </li><li>
        <p><b>스택 이름</b>에는 <code class="code">sample-WordPress-pipeline</code>을 입력합니다.</p>
      </li><li>
        <p><b>파라미터</b> 섹션에서 다음 파라미터 값을 지정하고 나서 <b>다음</b>을 선택합니다. 스택 파라미터를 설정할 때, WordPress 템플릿 및 관련 구성 파일에 대해 동일한 이름을 유지한 경우, 기본값을 사용할 수 있습니다. 그렇지 않은 경우에는 사용했던 파일 이름을 지정합니다.</p>
        <div class="variablelist">
           
           
           
           
        <dl>
            <dt><span class="term"><b>PipelineName</b></span></dt>
            <dd>
              <p><code class="code">WordPress-test-pipeline</code> 같은 파이프라인의 이름입니다.</p>
            </dd>
           
            <dt><span class="term"><b>S3Bucket</b></span></dt>
            <dd>
              <p>아티팩트(<code class="code">.zip</code> 파일)를 저장한 S3 버킷의 이름입니다.</p>
            </dd>
           
            <dt><span class="term"><b>SourceS3Key</b></span></dt>
            <dd>
              <p>아티팩트의 파일 이름입니다. 아티팩트를 폴더에 저장한 경우 <code class="code">folder/subfolder/wordpress-single-instance.zip</code>과 같이 파일 이름에 이를 포함시킵니다.</p>
            </dd>
           
            <dt><span class="term"><b>이메일</b></span></dt>
            <dd>
              <p>CodePipeline에서 파이프라인 알림을 보내는 이메일 주소입니다(예: <code class="code">myemail@example.com</code>).</p>
            </dd>
          </dl></div>
      </li><li>
        <p>이 연습에서는 태그를 추가하거나 고급 설정을 지정할 필요가 없으므로 <b>다음</b>을 선택합니다.</p>
      </li><li>
        <p>스택 이름과 템플릿 URL이 올바른지 확인한 다음 <b>스택 생성</b>을 선택합니다.</p>
      </li><li>
        <p>AWS CloudFormation이 IAM 리소스를 생성할 수 있다는 것을 알고 있음을 확인하려면 확인란을 선택합니다.</p>
      </li></ol></div>
    <p>AWS CloudFormation에서 스택을 생성하는 데 몇 분 정도 걸릴 수 있습니다. 진행 상황을 모니터링하려면 스택 이벤트를 확인합니다. 자세한 내용은 <a href="./cfn-console-view-stack-data-resources.html">AWS Management Console에서 AWS CloudFormation 스택 데이터 및 리소스 보기</a> 단원을 참조하십시오.</p>
    <p>스택이 생성되고 나면 CodePipeline에서 새 파이프라인을 시작합니다. 상태를 보려면 <a href="https://console.aws.amazon.com/codepipeline/" rel="noopener noreferrer" target="_blank"><span>CodePipeline 콘솔</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>을 확인합니다. 파이프라인 목록에서 <b>WordPress-test-pipeline</b>을 선택합니다.</p>
     
      <h3 id="codepipeline-basic-walkthrough-template-details">파이프라인의 기능</h3>
      <p>이 섹션에서는 샘플 WordPress 파이프라인 템플릿의 코드 조각을 사용하여 파이프라인의 세 단계를 설명합니다.</p>
       
        <h4 id="w9aac21c11c11c15b5">1단계: 소스</h4>
        <p>파이프라인의 첫 번째 단계는 소스 코드의 위치를 지정하는 소스 단계입니다. 개정을 이 위치로 푸시할 때마다 CodePipeline에서 파이프라인을 다시 실행합니다.</p>
        <p>소스 코드는 S3 버킷에 있으며 파일 이름으로 식별합니다. 파이프라인 스택을 생성할 때 이러한 값을 입력 파라미터 값으로 지정했습니다. 후속 단계에서 소스 아티팩트 사용을 허용하기 위해 코드 조각에서 <code class="code">OutputArtifacts</code> 속성을 <code class="code">TemplateSource</code>라는 이름으로 지정합니다. 이후 단계에서 이 아티팩트를 사용하려면 <code class="code">TemplateSource</code>를 입력 아티팩트로 지정하면 됩니다.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">- Name: S3Source
  Actions:
    - Name: TemplateSource
      ActionTypeId:
        Category: Source
        Owner: AWS
        Provider: S3
        Version: '1'
      Configuration:
        S3Bucket: !Ref 'S3Bucket'
        S3ObjectKey: !Ref 'SourceS3Key'
      OutputArtifacts:
        - Name: TemplateSource</code></pre>
       
       
        <h4 id="w9aac21c11c11c15b7">2단계: TestStage</h4>
        <p><code class="code">TestStage</code> 단계에서 파이프라인은 테스트 스택을 생성한 후, 승인을 기다렸다가 테스트 스택을 삭제합니다.</p>
        <p><code class="code">CreateStack</code> 작업의 경우, 파이프라인은 테스트 구성 파일과 WordPress 템플릿을 사용하여 테스트 스택을 생성합니다. 두 파일은 <code class="code">TemplateSource</code> 입력 아티팩트에 포함되어 있으며, 이 아티팩트는 소스 단계에서 가져옵니다. 이 코드 조각은 <code class="code">REPLACE_ON_FAILURE</code> 작업 모드를 사용합니다. 스택 생성에 실패할 경우 파이프라인이 해당 스택을 대체하므로 파이프라인을 다시 실행하기 전에 스택을 정리하거나 문제를 해결할 필요가 없습니다. 작업 모드는 테스트 스택에 대해 신속히 반복할 때 유용합니다. <code class="code">RoleArn</code> 속성의 경우, 값은 템플릿의 어딘가에 선언되어 있는 AWS CloudFormation 서비스 역할입니다.</p>
        <p><code class="code">ApproveTestStack</code> 작업은 파이프라인을 일시 정지하고, 파이프라인 스택을 생성할 때 지정했던 이메일 주소로 알림을 전송합니다. 파이프라인이 일시 정지된 동안 WordPress 테스트 스택과 관련 리소스를 확인할 수 있습니다. CodePipeline을 사용하여 이 작업을 <a href="https://docs.aws.amazon.com/codepipeline/latest/userguide/approvals-approve-or-reject.html">승인 또는 거부</a>합니다. <code class="code">CustomData</code> 속성에는 승인 대기 중인 작업에 대한 설명이 포함되어 있으며, 파이프라인은 이 설명을 알림 이메일에 추가합니다.</p>
        <p>이 작업이 승인되고 나면 CodePipeline에서 <code class="code">DeleteTestStack</code> 작업으로 이동하여 테스트 WordPress 스택과 관련 리소스를 삭제합니다.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">- Name: TestStage
  Actions:
    - Name: CreateStack
      ActionTypeId:
        Category: Deploy
        Owner: AWS
        Provider: CloudFormation
        Version: '1'
      InputArtifacts:
        - Name: TemplateSource
      Configuration:
        ActionMode: REPLACE_ON_FAILURE
        RoleArn: !GetAtt [CFNRole, Arn]
        StackName: !Ref TestStackName
        TemplateConfiguration: !Sub "TemplateSource::$<span>{</span>TestStackConfig}"
        TemplatePath: !Sub "TemplateSource::$<span>{</span>TemplateFileName}"
      RunOrder: '1'
    - Name: ApproveTestStack
      ActionTypeId:
        Category: Approval
        Owner: AWS
        Provider: Manual
        Version: '1'
      Configuration:
        NotificationArn: !Ref CodePipelineSNSTopic
        CustomData: !Sub 'Do you want to create a change set against the production stack and delete the $<span>{</span>TestStackName} stack?'
      RunOrder: '2'
    - Name: DeleteTestStack
      ActionTypeId:
        Category: Deploy
        Owner: AWS
        Provider: CloudFormation
        Version: '1'
      Configuration:
        ActionMode: DELETE_ONLY
        RoleArn: !GetAtt [CFNRole, Arn]
        StackName: !Ref TestStackName
      RunOrder: '3'</code></pre>
       
       
        <h4 id="w9aac21c11c11c15b9">3단계: ProdStage</h4>
        <p>파이프라인의 <code class="code">ProdStage</code> 단계에서는 기존 프로덕션 스택과 대조하여 변경 세트를 생성한 다음, 승인을 기다렸다가 변경 세트를 실행합니다.</p>
        <p>변경 세트는 수정 사항을 구현하기 전에 AWS CloudFormation에서 프로덕션 스택에 대해 수행할 모든 수정 사항에 대한 미리 보기를 제공합니다. 파이프라인을 처음 실행할 때는 실행 중인 프로덕션 스택이 없습니다. 변경 세트는 테스트 스택 생성 시 AWS CloudFormation에서 수행한 작업을 보여줍니다. 변경 세트를 생성하기 위해 <code class="code">CreateChangeSet</code> 작업은 <code class="code">TemplateSource</code> 입력 아티팩트의 WordPress 샘플 템플릿과 프로덕션 템플릿 구성을 사용합니다.</p>
        <p>이전 단계와 마찬가지로, <code class="code">ApproveChangeSet</code> 작업은 파이프라인을 일시 정지하고 이메일 알림을 보냅니다. 파이프라인이 일시 정지된 동안은 변경 세트를 보고 프로덕션 WordPress 스택에 대해 제안된 모든 수정 사항을 확인할 수 있습니다. CodePipeline을 사용하여 이 작업을 <a href="https://docs.aws.amazon.com/codepipeline/latest/userguide/approvals-approve-or-reject.html">승인 또는 거부</a>함으로써 각각 파이프라인을 계속 진행하거나 중지합니다.</p>
        <p>이 작업을 승인한 후에는 <code class="code">ExecuteChangeSet</code> 작업이 변경 세트를 실행하므로 AWS CloudFormation에서 변경 세트에 설명된 모든 작업을 수행합니다. 초기 실행의 경우, AWS CloudFormation에서 WordPress 프로덕션 스택을 생성합니다. 후속 실행 시 AWS CloudFormation에서는 스택을 업데이트합니다.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">- Name: ProdStage
  Actions:
    - Name: CreateChangeSet
      ActionTypeId:
        Category: Deploy
        Owner: AWS
        Provider: CloudFormation
        Version: '1'
      InputArtifacts:
        - Name: TemplateSource
      Configuration:
        ActionMode: CHANGE_SET_REPLACE
        RoleArn: !GetAtt [CFNRole, Arn]
        StackName: !Ref ProdStackName
        ChangeSetName: !Ref ChangeSetName
        TemplateConfiguration: !Sub "TemplateSource::$<span>{</span>ProdStackConfig}"
        TemplatePath: !Sub "TemplateSource::$<span>{</span>TemplateFileName}"
      RunOrder: '1'
    - Name: ApproveChangeSet
      ActionTypeId:
        Category: Approval
        Owner: AWS
        Provider: Manual
        Version: '1'
      Configuration:
        NotificationArn: !Ref CodePipelineSNSTopic
        CustomData: !Sub 'A new change set was created for the $<span>{</span>ProdStackName} stack. Do you want to implement the changes?'
      RunOrder: '2'
    - Name: ExecuteChangeSet
      ActionTypeId:
        Category: Deploy
        Owner: AWS
        Provider: CloudFormation
        Version: '1'
      Configuration:
        ActionMode: CHANGE_SET_EXECUTE
        ChangeSetName: !Ref ChangeSetName
        RoleArn: !GetAtt [CFNRole, Arn]
        StackName: !Ref ProdStackName
      RunOrder: '3'</code></pre>
       
     
   
    <h2 id="w9aac21c11c13">3단계: WordPress 스택 보기</h2>
    <p>CodePipeline은 파이프라인을 따라 실행하면서 AWS CloudFormation을 사용하여 테스트 및 프로덕션 스택을 생성합니다. 이러한 스택 및 출력의 상태를 보려면 AWS CloudFormation 콘솔을 사용합니다.</p>
    <div class="procedure"><h6>스택을 보려면</h6><ol><li>
        <p>AWS CloudFormation 콘솔(<a href="https://console.aws.amazon.com/cloudformation/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/cloudformation/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>)을 엽니다.</p>
      </li><li>
        <p>파이프라인이 테스트 단계에 있는지 프로덕션 단계에서 있는지에 따라, <code class="code">Test-MyWordPressSite</code> 또는 <code class="code">Prod-MyWordPressSite</code> 스택을 선택합니다.</p>
      </li><li>
        <p>스택의 상태를 보려면 <a href="./cfn-console-view-stack-data-resources.html">이벤트</a>를 확인합니다.</p>
      </li></ol></div>
    <p>스택이 실패 상태인 경우 상태 이유를 보고 스택 오류를 찾습니다. 오류를 수정하고 나서 파이프라인을 다시 실행합니다. 스택이 <code class="code">CREATE_COMPLETE</code> 상태에 있는 경우 관련 출력을 보고 WordPress 사이트의 URL을 가져옵니다.</p>
    <p>CodePipeline을 사용하여 샘플 WordPress 사이트에 대해 연속 전달 워크플로우를 빌드했습니다. 변경 내용을 S3 버킷으로 제출할 경우 CodePipeline에서는 새 버전을 자동으로 감지한 다음 파이프라인을 다시 실행합니다. 이 워크플로우를 사용하면 프로덕션 사이트를 변경하기 전에 변경 내용을 보다 쉽게 제출 및 테스트할 수 있습니다.</p>
   
    <h2 id="w9aac21c11c15">4단계: 리소스 정리</h2>
    <p>원치 않는 서비스에 대해 요금이 청구되지 않도록 하려면 리소스를 삭제합니다.</p>
    <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>중요</h6></div><div class="awsdocs-note-text"><p>파이프라인 스택을 삭제하기 전에 테스트 및 프로덕션 WordPress 스택을 삭제합니다. 파이프라인 스택에는 WordPress 스택을 삭제하는 데 필요한 서비스 역할이 포함되어 있습니다. 파이프라인 스택을 처음 삭제한 경우 <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_DeleteStack.html">다른 서비스 역할 Amazon 리소스 이름(ARN)</a>과 WordPress 스택을 연결하고 나서 이러한 스택을 삭제할 수 있습니다.</p></div></div>
    <div class="procedure"><h6>아티팩트 스토어에서 객체를 삭제하려면</h6><ol><li><p><a href="https://console.aws.amazon.com/s3/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/s3/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>에서 Amazon S3 콘솔을 엽니다.</p></li><li>
        <p>CodePipeline에서 파이프라인의 아티팩트 스토어로 사용된 S3 버킷을 선택합니다.</p>
        <p>버킷의 이름은 <code class="code"><code class="replaceable">stackname-artifactstorebucket-id</code></code> 형식이어야 합니다. 이 연습을 살펴본 경우 버킷의 이름이 다음 예제와 비슷할 것입니다. <code class="code">sample-WordPress-pipeline-artifactstorebucket-12345abcd12345</code>.</p>
      </li><li>
        <p>아티팩트 스토어 S3 버킷에서 모든 객체를 삭제합니다.</p>
        <p>다음 단계에서 파이프라인 스택을 삭제할 경우 이 버킷이 비어 있어야 합니다. 그렇지 않으면, AWS CloudFormation에서 버킷을 삭제할 수 없습니다.</p>
      </li></ol></div>
    <div class="procedure"><h6>스택을 삭제하려면</h6><ol><li>
        <p>AWS CloudFormation 콘솔에서 삭제할 스택을 선택합니다.</p>
        <p>파이프라인에서 생성된 WordPress 스택이 여전히 실행 중인 경우 이들 스택을 먼저 선택합니다. 기본적으로 스택 이름은 <code class="code">Test-MyWordPressSite</code> 및 <code class="code">Prod-MyWordPressSite</code>입니다.</p>
        <p>이미 WordPress 스택을 삭제한 경우 <code class="code">sample-WordPress-pipeline</code> 스택을 선택합니다.</p>
      </li><li>
        <p>[<b>Actions</b>]를 선택한 다음 [<b>Delete Stack</b>]을 선택합니다.</p>
      </li><li>
        <p>확인 메시지에서 <b>예, 삭제</b>를 선택합니다.</p>
      </li></ol></div>
    <p>AWS CloudFormation은 EC2 인스턴스, 알림 주제, 서비스 역할 및 파이프라인 등 스택의 모든 리소스를 삭제합니다.</p>
    <p>이제 CodePipeline을 사용하여 기본 AWS CloudFormation 워크플로를 구성하는 방법을 이해했으므로 샘플 템플릿 및 아티팩트에서 시작하여 자신만의 고유한 템플릿과 아티팩트를 구축할 수 있습니다.</p>
   
    <h2 id="w9aac21c11c19">다음 사항도 참조하십시오.</h2>
    <p>이러한 파라미터를 이용할 때 참조할 수 있는 관련 리소스는 다음과 같습니다.</p>
    <div class="itemizedlist">
       
       
       
       
    <ul class="itemizedlist"><li class="listitem">
        <p>CodePipeline의 AWS CloudFormation 작업 파라미터에 대한 자세한 내용을 알아보려면 <em>AWS CodePipeline 사용 설명서</em>의 <a href="https://docs.aws.amazon.com/codepipeline/latest/userguide/action-reference-CloudFormation.html">AWS CloudFormation</a> 작업 구성 참조를 참조하세요.</p>
      </li><li class="listitem">
        <p><code class="code">Owner</code> 필드 또는 <code class="code">configuration</code> 필드와 같은 작업 공급자별 예제 템플릿 값은 <em></em>AWS CodePipeline 사용 설명서의 <a href="https://docs.aws.amazon.com/codepipeline/latest/userguide/action-reference.html">Action structure reference</a>에서 확인하세요.</p>
      </li><li class="listitem">
        <p>YAML 또는 JSON 형식의 예제 파이프라인 스택 템플릿을 다운로드하려면 <em>AWS CodePipeline 사용 설명서</em>의 <a href="https://docs.aws.amazon.com/codepipeline/latest/userguide/tutorials-cloudformation.html">AWS CloudFormation이 포함된 파이프라인 생성</a>에서 자습서를 참조하세요.</p>
      </li><li class="listitem">
        <p>템플릿 예제 구성 파일은 <a href="https://docs.aws.amazon.com/codepipeline/latest/userguide/continuous-delivery-codepipeline-cfn-artifacts.html">AWS CloudFormation 아티팩트</a>를 참조하세요.</p>
      </li></ul></div>
  <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="주의" /> <strong>javascript가 브라우저에서 비활성화되거나 사용이 불가합니다.</strong></p><p>AWS 설명서를 사용하려면 Javascript가 활성화되어야 합니다. 지침을 보려면 브라우저의 도움말 페이지를 참조하십시오.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">문서 규칙</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./continuous-delivery-codepipeline.html">지속적 전달</div><div id="next" class="next-link" accesskey="n" href="./continuous-delivery-codepipeline-action-reference.html">구성 속성 참조</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">이 페이지의 내용이 도움이 되었습니까? - 예</div><div class="content"><p>칭찬해 주셔서 감사합니다!</p><p>잠깐 시간을 내어 좋았던 부분을 알려 주시면 더 열심히 만들어 보겠습니다.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="feedback-tell-us" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">이 페이지의 내용이 도움이 되었습니까? - 아니요</div><div class="content"><p>이 페이지에 작업이 필요하다는 점을 알려 주셔서 감사합니다. 실망시켜 드려 죄송합니다.</p><p>잠깐 시간을 내어 설명서를 향상시킬 수 있는 방법에 대해 말씀해 주십시오.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="feedback-tell-us" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>