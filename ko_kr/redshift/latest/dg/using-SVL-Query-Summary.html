<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="ko-KR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>SVL_QUERY_SUMMARY 뷰 사용 - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="using-SVL-Query-Summary" /><meta name="default_state" content="using-SVL-Query-Summary" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/using-SVL-Query-Summary.html" /><meta name="description" content="스트림 단위의 쿼리 요약 정보에 대한 분석 방법은 다음과 같습니다." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="데이터베이스 개발자 안내서" /><meta name="abstract" content="페타바이트 규모의 엔터프라이즈급 완전관리형 데이터 웨어하우징 서비스인 Amazon Redshift로 데이터 웨어하우스를 생성하고 관리합니다." /><meta name="guide-locale" content="ko_kr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/using-SVL-Query-Summary.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="데이터베이스 개발자 안내서" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="데이터베이스 개발자 안내서" /><meta id="panorama-serviceConsolePage" value="SVL_QUERY_SUMMARY 뷰 사용" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>SVL_QUERY_SUMMARY 뷰 사용 - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#using-SVL-Query-Summary" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/using-SVL-Query-Summary.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/using-SVL-Query-Summary.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/using-SVL-Query-Summary.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,데이터 웨어하우스,샘플 데이터,데이터베이스,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "데이터베이스 개발자 안내서",
        "item" : "https://docs.aws.amazon.com/ko_kr/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "쿼리 성능 튜닝",
        "item" : "https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/c-optimizing-query-performance.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "쿼리 분석 및 개선",
        "item" : "https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/c-query-tuning.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "쿼리 요약 분석",
        "item" : "https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/c-analyzing-the-query-summary.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "SVL_QUERY_SUMMARY 뷰 사용",
        "item" : "https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/c-analyzing-the-query-summary.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#using-SVL-Query-Summary" target="_blank" rel="noopener noreferrer" title="pdf-tooltip"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">aws-documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">데이터베이스 개발자 안내서</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="using-SVL-Query-Summary">SVL_QUERY_SUMMARY 뷰 사용</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>스트림 단위의 쿼리 요약 정보에 대한 분석 방법은 다음과 같습니다.</p><div class="orderedlist">
                
                
                
                
                
                
                
                
            <ol><li>
                  <p>다음 쿼리를 실행하여 쿼리 ID를 확인합니다.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select query, elapsed, substring
from svl_qlog
order by query
desc limit 5;                     </code></pre>
                  <p><code class="code">substring</code> 필드에서 잘려있는 쿼리 텍스트를 검사하여 쿼리를 표현할 <code class="code">query</code> 값을 결정합니다. 쿼리를 한 번 넘게 실행한 경우에는 <code class="code">query</code> 값이 더 낮은 행의 <code class="code">elapsed</code> 값을 사용하세요. 이 행이 컴파일 버전의 행입니다. 다수의 쿼리를 실행한 경우 쿼리의 포함 여부를 확인하는 데 사용하는 LIMIT 절에서 사용되는 값을 높일 수도 있습니다.</p>
               </li><li>
                  <p>SVL_QUERY_SUMMARY에서 쿼리에 사용할 행을 선택합니다. 결과 순서는 stream, segment 및 step의 순으로 정하세요.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select * from svl_query_summary where query = MyQueryID order by stm, seg, step;</code></pre>
                  <div class="mediaobject">
                      
                        <img src="images/svl_query_summary_results.png" class="aws-docs-img-whiteBg aws-docs-img-padding" />
                      
                  </div>
               </li><li>
                  <p><a href="./query-plan-summary-map.html">쿼리 계획을 쿼리 요약에 매핑</a> 섹션의 정보를 사용하여 단계를 쿼리 계획의 작업으로 매핑합니다. 이때 각 단계는 행 값과 바이트 값이 대략적으로 동일해야 합니다(쿼리 계획의 행 * 폭). 그렇지 않은 경우 권장 솔루션은 <a href="./query-performance-improvement-opportunities.html#table-statistics-missing-or-out-of-date">테이블 통계 누락 또는 만료</a> 섹션을 참조하세요.</p>
               </li><li>
                  <p>어떤 단계든지 <code class="code">is_diskbased</code> 필드에 <code class="code">t</code>(true) 값이 있는지 확인합니다. 쿼리 처리를 위해 시스템에 할당된 메모리가 충분하지 않을 경우 해시, 집계 및 정렬 연산자는 데이터를 디스크에 작성할 가능성이 높습니다.</p>
                  <p><code class="code">is_diskbased</code>가 true인 경우 권장 솔루션은 <a href="./query-performance-improvement-opportunities.html#insufficient-memory-allocated-to-the-query">쿼리에 할당되는 메모리 부족</a> 섹션을 참조하세요.</p>
               </li><li>
                  <p><code class="code">label</code> 필드 값을 살펴보면서 여러 단계 중 어디에서든지 AGG-DIST-AGG 시퀀스가 있는지 확인합니다. 이러한 시퀀스는 2단계 집계를 의미하는 것으로 비용이 높습니다. 이 문제를 해결하려면 GROUP BY 절을 변경하여 분산 키(키가 다수인 경우 첫 번째 키)를 사용하세요.</p>
               </li><li>
                  <p>각 세그먼트마다 <code class="code">maxtime</code> 값을 살펴봅니다(이 값은 세그먼트를 구성하는 모든 단계에서 동일합니다). <code class="code">maxtime</code> 값이 가장 높은 세그먼트를 찾아 각 단계에서 다음 연산자를 확인합니다.</p>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>참고</h6></div><div class="awsdocs-note-text"><p><code class="code">maxtime</code> 값이 높다고 해서 반드시 세그먼트에 문제가 있다는 것을 의미하지는 않습니다. 높은 값에도 불구하고 세그먼트의 처리 시간이 오래 걸리지 않을 수도 있습니다. 스트림을 구성하는 세그먼트는 모두 시간을 동일하게 맞춥니다. 하지만 일부 다운스트림 세그먼트는 업스트림 세그먼트에서 데이터를 가져올 때까지 실행하지 못하는 경우도 있습니다. 이러한 세그먼트는 <code class="code">maxtime</code> 값에 대기 시간과 처리 시간이 모두 포함되기 때문에 시간이 더 오래 걸리는 원인이 될 수도 있습니다.</p></div></div>
                  <div class="itemizedlist">
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p><b>BCAST 또는 DIST</b>: 두 경우 <code class="code">maxtime</code> 값은 다수의 행을 재분산한 결과가 될 수 있습니다. 권장 솔루션은 <a href="./query-performance-improvement-opportunities.html#suboptimal-data-distribution">최적이 아닌 데이터 분산</a> 섹션을 참조하세요.</p>
                     </li><li class="listitem">
                        <p><b>HJOIN(해시 조인)</b>: 해당 단계의 <code class="code">rows</code> 필드 값이 쿼리에서 최종 RETURN 단계의 <code class="code">rows</code> 값에 비해 매우 높은 경우 권장하는 솔루션은 <a href="./query-performance-improvement-opportunities.html#hash-join">해시 조인</a> 섹션을 참조하세요.</p>
                     </li><li class="listitem">
                        <p><b>SCAN/SORT</b>: 조인 단계 바로 앞에서 SCAN, SORT, SCAN 및 MERGE 단계를 순서대로 찾습니다. 이 패턴은 정렬되지 않은 데이터가 스캔 및 정렬을 거쳐 정렬된 테이블 영역과 병합된다는 것을 의미합니다.</p>
                        <p>SCAN 단계의 rows 값이 쿼리에서 최종 RETURN 단계의 rows 값에 비해 매우 높은지 확인합니다. 이러한 패턴은 실행 엔진이 나중에 무시되는 행을 스캔한다는 것을 의미하지만, 이는 비효율적입니다. 권장 솔루션은 <a href="./query-performance-improvement-opportunities.html#insufficiently-restrictive-predicate">불충분한 제한적 조건자</a> 섹션을 참조하세요.</p>
                        <p>SCAN 단계의 <code class="code">maxtime</code> 값이 높은 경우 권장 솔루션은 <a href="./query-performance-improvement-opportunities.html#suboptimal-WHERE-clause">최상이 아닌 WHERE 절</a> 섹션을 참조하세요.</p>
                        <p>SORT 단계의 <code class="code">rows</code> 값이 0이 아닌 경우 권장 솔루션은 <a href="./query-performance-improvement-opportunities.html#unsorted-or-mis-sorted-rows">정렬되지 않았거나 잘못 정렬된 행</a> 섹션을 참조하세요.</p>
                     </li></ul></div>
               </li><li>
                  <p>최종 RETURN 단계 앞에 있는 5~10단계에서 <code class="code">rows</code> 값과 <code class="code">bytes</code> 값을 검토하여 클라이언트로 반환되는 데이터 크기를 파악합니다. 이 프로세스는 기교가 필요할 수 있습니다.</p>
                  <p>예를 들어 다음 쿼리 요약을 보면 세 번째 PROJECT 단계에서 <code class="code">rows</code> 값이 아닌 <code class="code">bytes</code> 값이 제공되는 것을 알 수 있습니다. 5~10단계까지 선행하는 단계를 살펴보면서 <code class="code">rows</code> 값이 동일한 단계가 발견되면 행과 바이트 정보를 모두 제공하는 SCAN 단계를 찾은 셈입니다.</p>
                  <div class="mediaobject">
                      
                        <img src="images/rows_and_bytes.png" class="aws-docs-img-whiteBg aws-docs-img-padding" />
                      
                  </div>
                  <p>비정상적으로 많은 데이터 볼륨을 반환하는 경우 권장 솔루션은 <a href="./query-performance-improvement-opportunities.html#very-large-result-set">매우 큰 결과 집합</a> 섹션을 참조하세요.</p>
               </li><li>
                  <p>어떤 단계에서든지 다른 단계와 비교하여 <code class="code">bytes</code> 값이 <code class="code">rows</code> 값에 비해 높은 경우가 있는지 확인합니다. 이 패턴은 다수의 열이 선택되어 있다는 것을 의미할 수 있습니다. 권장 솔루션은 <a href="./query-performance-improvement-opportunities.html#large-SELECT-list">큰 SELECT 목록</a> 섹션을 참조하세요.</p>
               </li></ol></div><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="주의" /> <strong>javascript가 브라우저에서 비활성화되거나 사용이 불가합니다.</strong></p><p>AWS 설명서를 사용하려면 Javascript가 활성화되어야 합니다. 지침을 보려면 브라우저의 도움말 페이지를 참조하십시오.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">문서 규칙</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./c-analyzing-the-query-summary.html">쿼리 요약 분석</div><div id="next" class="next-link" accesskey="n" href="./using-SVL-Query-Report.html">SVL_QUERY_REPORT 뷰 사용</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">이 페이지의 내용이 도움이 되었습니까? - 예</div><div class="content"><p>칭찬해 주셔서 감사합니다!</p><p>잠깐 시간을 내어 좋았던 부분을 알려 주시면 더 열심히 만들어 보겠습니다.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="feedback-tell-us" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/using-SVL-Query-Summary.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">이 페이지의 내용이 도움이 되었습니까? - 아니요</div><div class="content"><p>이 페이지에 작업이 필요하다는 점을 알려 주셔서 감사합니다. 실망시켜 드려 죄송합니다.</p><p>잠깐 시간을 내어 설명서를 향상시킬 수 있는 방법에 대해 말씀해 주십시오.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="feedback-tell-us" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/using-SVL-Query-Summary.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>