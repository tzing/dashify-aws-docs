<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="ko-KR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>쿼리 문제 해결 - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="queries-troubleshooting" /><meta name="default_state" content="queries-troubleshooting" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/queries-troubleshooting.html" /><meta name="description" content="이 섹션은 Amazon Redshift 쿼리를 실행할 때 발생할 수 있는 가장 공통적이고 심각한 문제 몇 가지를 식별하여 해결할 수 있는 빠른 참조를 제공합니다." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="데이터베이스 개발자 안내서" /><meta name="abstract" content="페타바이트 규모의 엔터프라이즈급 완전관리형 데이터 웨어하우징 서비스인 Amazon Redshift로 데이터 웨어하우스를 생성하고 관리합니다." /><meta name="guide-locale" content="ko_kr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/queries-troubleshooting.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/queries-troubleshooting.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/queries-troubleshooting.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/queries-troubleshooting.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/queries-troubleshooting.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/queries-troubleshooting.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/queries-troubleshooting.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/queries-troubleshooting.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/queries-troubleshooting.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/queries-troubleshooting.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/queries-troubleshooting.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/queries-troubleshooting.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/queries-troubleshooting.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/queries-troubleshooting.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/queries-troubleshooting.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/queries-troubleshooting.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/queries-troubleshooting.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/queries-troubleshooting.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/queries-troubleshooting.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/queries-troubleshooting.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/queries-troubleshooting.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/queries-troubleshooting.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="데이터베이스 개발자 안내서" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="데이터베이스 개발자 안내서" /><meta id="panorama-serviceConsolePage" value="쿼리 문제 해결" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>쿼리 문제 해결 - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#queries-troubleshooting" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/queries-troubleshooting.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/queries-troubleshooting.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/queries-troubleshooting.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,데이터 웨어하우스,샘플 데이터,데이터베이스,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "데이터베이스 개발자 안내서",
        "item" : "https://docs.aws.amazon.com/ko_kr/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "쿼리 성능 튜닝",
        "item" : "https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/c-optimizing-query-performance.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "쿼리 문제 해결",
        "item" : "https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/c-optimizing-query-performance.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#queries-troubleshooting" target="_blank" rel="noopener noreferrer" title="pdf-tooltip"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">aws-documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">데이터베이스 개발자 안내서</a></div><div id="page-toc-src"><a href="#queries-troubleshooting-connection-fails">연결 실패</a><a href="#queries-troubleshooting-query-hangs">쿼리 중단</a><a href="#queries-troubleshooting-query-takes-too-long">쿼리가 너무 오래 걸림</a><a href="#queries-troubleshooting-load-fails">로드 실패</a><a href="#queries-troubleshooting-load-takes-too-long">로드가 너무 오래 걸림</a><a href="#queries-troubleshooting-load-data-incorrect">로드 데이터가 잘못됨</a><a href="#set-the-JDBC-fetch-size-parameter">JDBC Fetch Size 파라미터 설정</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="queries-troubleshooting">쿼리 문제 해결</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>이 섹션은 Amazon Redshift 쿼리를 실행할 때 발생할 수 있는 가장 공통적이고 심각한 문제 몇 가지를 식별하여 해결할 수 있는 빠른 참조를 제공합니다.</p><div class="highlights" id="inline-topiclist"><h6>주제</h6><ul><li><a href="#queries-troubleshooting-connection-fails">연결 실패</a></li><li><a href="#queries-troubleshooting-query-hangs">쿼리 중단</a></li><li><a href="#queries-troubleshooting-query-takes-too-long">쿼리가 너무 오래 걸림</a></li><li><a href="#queries-troubleshooting-load-fails">로드 실패</a></li><li><a href="#queries-troubleshooting-load-takes-too-long">로드가 너무 오래 걸림</a></li><li><a href="#queries-troubleshooting-load-data-incorrect">로드 데이터가 잘못됨</a></li><li><a href="#set-the-JDBC-fetch-size-parameter">JDBC Fetch Size 파라미터 설정</a></li></ul></div><p>다음은 처음에 문제를 해결할 때 시도할 수 있는 권장 방법입니다. 자세한 내용은 다음 리소스를 참조할 수도 있습니다.</p><div class="itemizedlist">
          
      <ul class="itemizedlist"><li class="listitem">
            <p><a href="https://docs.aws.amazon.com/redshift/latest/mgmt/using-rs-tools.html">Amazon Redshift 클러스터 및 데이터베이스 액세스</a></p>
         </li></ul></div><div class="itemizedlist">
          
      <ul class="itemizedlist"><li class="listitem">
            <p><a href="./t_Creating_tables.html">자동 테이블 최적화 작업</a></p>
         </li></ul></div><div class="itemizedlist">
          
      <ul class="itemizedlist"><li class="listitem">
            <p><a href="./t_Loading_data.html">데이터 로딩</a></p>
         </li></ul></div><div class="itemizedlist">
          
      <ul class="itemizedlist"><li class="listitem">
            <p><a href="./tutorial-loading-data.html">튜토리얼: Amazon S3에서 데이터 로드</a></p>
         </li></ul></div><h2 id="queries-troubleshooting-connection-fails">연결 실패</h2>
         
         <p>다음과 같은 이유로 쿼리 연결이 중단되는 경우 아래와 같은 문제 해결 방법을 권장합니다.</p>
          
            <h6>클라이언트가 서버에 연결할 수 없음</h6>
            <p>SSL 또는 서버 인증서를 사용할 때는 먼저 연결 문제를 해결하면서 이러한 복잡성을 제거했다가 그런 다음 해결책을 발견하였을 때 SSL 또는 서버 인증서를 다시 추가합니다. 자세한 내용은 <em>Amazon Redshift 관리 가이드</em>의 <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/connecting-ssl-support.html">연결에 대한 보안 옵션 구성</a> 섹션을 참조하세요.</p>
          
          
            <h6>연결 거부</h6>
            <p>일반적으로 연결 구성에 실패했다는 오류 메시지가 수신되면 클러스터에 대한 액세스 권한과 관련된 문제를 의미합니다. 자세한 내용은 <em>Amazon Redshift 관리 가이드</em>의 <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/connecting-refusal-failure-issues.html">연결이 거부되거나 실패함</a> 섹션을 참조하세요.</p>
          
      <h2 id="queries-troubleshooting-query-hangs">쿼리 중단</h2>
         
         <p>쿼리는 다음과 같은 이유로 중단, 즉 응답을 멈출 수 있습니다. 이때는 아래와 같은 문제 해결 방법을 권장합니다.</p>
          
            <h6>데이터베이스 연결 해제</h6>
            <p>최대 전송 단위(MTU)의 크기를 줄이세요. 단일 이더넷 프레임으로 네트워크 연결을 통해 전송할 수 있는 패킷의 최대 크기(바이트)는 MTU의 크기에 따라 결정됩니다. 자세한 내용은 <em>Amazon Redshift 관리 가이드</em>의 <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/connecting-drop-issues.html">데이터베이스 연결이 끊어짐</a> 섹션을 참조하세요.</p>
          
          
            <h6>데이터베이스 연결 시간 초과</h6>
            <p>COPY 명령 같은 긴 쿼리를 실행할 때는 데이터베이스에 대한 클라이언트 연결이 멈추거나 제한 시간에 걸릴 수 있습니다. 이런 경우 Amazon Redshift 콘솔에서 쿼리의 완료 여부를 관찰할 수 있지만 클라이언트 도구에는 쿼리가 여전히 실행 중인 것으로 표시됩니다. 쿼리 결과는 연결 중단 시점에 따라 누락되거나 불완전할 수도 있습니다. 이러한 문제는 중간 네트워크 구성 요소에서 유휴 상태의 연결을 종료할 때 발생합니다. 자세한 내용은 <em>Amazon Redshift 관리 가이드</em>의 <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/connecting-firewall-guidance.html">방화벽 시간 제한 문제</a> 섹션을 참조하세요.</p>
          
          
            <h6>ODBC에 클라이언트 측 메모리 부족 오류 발생</h6>
            <p>클라이언트 애플리케이션이 ODBC 연결을 사용하고 쿼리가 메모리에 비해 너무 큰 결과 집합을 생성하는 경우, 커서를 사용하여 결과 집합을 클라이언트 애플리케이션으로 스트리밍할 수 있습니다. 자세한 내용은 <a href="./declare.html">DECLARE</a> 및 <a href="./declare.html#declare-performance">커서 사용 시 성능 고려사항</a> 섹션을 참조하세요.</p>
          
          
            <h6>JDBC에 클라이언트 측 메모리 부족 오류 발생</h6>
            <p>JDBC 연결을 통해 대용량의 결과 집합을 가져오려고 하면 클라이언트 측 메모리 부족 오류가 발생할 수 있습니다. 자세한 내용은 <a href="#set-the-JDBC-fetch-size-parameter">JDBC Fetch Size 파라미터 설정</a> 섹션을 참조하세요.</p>
          
          
            <h6>잠재적 교착 발생 </h6>
            <p>잠재적 교착 상황이 발생하면 다음과 같이 시도하세요.</p>
          
         <div class="itemizedlist">
             
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p><a href="./r_STV_LOCKS.html">STV_LOCKS</a> 및 <a href="./r_STL_TR_CONFLICT.html">STL_TR_CONFLICT</a> 시스템 테이블을 살펴보면서 테이블을 1개 이상 업데이트하는 데 따른 충돌 유무를 확인하세요.</p>
            </li><li class="listitem">
               <p><a href="./PG_CANCEL_BACKEND.html">PG_CANCEL_BACKEND</a> 함수를 사용하여 충돌하는 쿼리를 1개 이상 취소하세요.</p>
            </li><li class="listitem">
               <p><a href="./PG_TERMINATE_BACKEND.html">PG_TERMINATE_BACKEND</a> 함수를 사용하여 세션을 종료하세요. 그러면 종료된 세션에서 실행 중이던 트랜잭션이 모든 잠금을 강제로 해제하여 트랜잭션을 롤백시킵니다.</p>
            </li><li class="listitem">
               <p>주의하여 동시 쓰기 작업을 예약하세요. 자세한 내용은 <a href="./c_Concurrent_writes.html">동시 쓰기 작업 관리</a> 섹션을 참조하세요.</p>
            </li></ul></div>
      <h2 id="queries-troubleshooting-query-takes-too-long">쿼리가 너무 오래 걸림</h2>
         
         <p>다음과 같은 이유로 쿼리가 장기화되는 경우 아래와 같은 문제 해결 방법을 권장합니다.</p>
          
            <h6>테이블이 최적화되지 않음</h6>
            <p>테이블의 정렬 키, 분산 스타일 및 압축 인코딩을 설정하여 병렬 처리를 최대한 이용하세요. 자세한 내용은 <a href="./t_Creating_tables.html">자동 테이블 최적화 작업</a> 섹션을 참조하세요.</p>
          
          
            <h6>쿼리가 디스크에 쓰고 있음</h6>
            <p>쿼리는 쿼리 실행 중 일부분이라도 디스크에 작성할 수 있습니다. 자세한 내용은 <a href="./query-performance-improvement-opportunities.html"> 쿼리 성능 개선</a> 섹션을 참조하세요.</p>
          
          
            <h6>다른 쿼리가 끝날 때까지 쿼리가 대기해야 함</h6>
            <p>이때는 쿼리 대기열을 생성한 후 유형에 따라 쿼리를 적합한 대기열에 할당하면 전반적인 시스템 성능을 개선할 수 있습니다. 자세한 내용은 <a href="./cm-c-implementing-workload-management.html">워크로드 관리 구현</a> 섹션을 참조하세요.</p>
          
          
            <h6>쿼리가 최적화되지 않음</h6>
            <p>실행 계획을 분석하여 쿼리를 재작성하거나 데이터베이스를 최적화하세요. 자세한 내용은 <a href="./c-the-query-plan.html">쿼리 계획</a> 섹션을 참조하세요.</p>
          
          
            <h6>쿼리 실행에 더 많은 메모리 필요</h6>
            <p>특정 쿼리에 더 많은 메모리가 필요한 경우에는 <a href="./r_wlm_query_slot_count.html">wlm_query_slot_count</a> 파라미터 값을 높여서 사용 가능한 메모리를 늘릴 수 있습니다.</p>
          
          
            <h6>데이터베이스에서 VACUUM 명령 실행 필요</h6>
            <p>정렬 키 순서에 따라 데이터를 로드하지 않는 경우에는 다수의 행을 추가, 삭제 또는 수정할 때마다 VACUUM 명령을 실행하세요. VACUUM 명령은 데이터를 재구성하여 정렬 순서를 유지하는 동시에 성능을 복원합니다. 자세한 내용은 <a href="./t_Reclaiming_storage_space202.html">테이블 Vacuum</a> 단원을 참조하십시오.</p>
          

         <h3 id="queries-troubleshooting-cross-refs">장기 실행 쿼리 문제 해결을 위한 추가 리소스</h3>
            <p>다음은 쿼리 튜닝에 도움이 되는 시스템 뷰 주제 및 기타 설명서 섹션입니다.</p>
            <div class="itemizedlist">
                
                
                
                
                
                
            <ul class="itemizedlist"><li class="listitem"><p><a href="./r_STV_INFLIGHT.html">STV_INFLIGHT</a> 시스템 뷰는 클러스터에서 실행 중인 쿼리를 보여줍니다. 현재 실행 중이거나 최근에 완료된 쿼리를 확인하려면 <a href="./r_STV_RECENTS.html">STV_RECENTS</a>와 함께 사용하면 유용할 수 있습니다.</p></li><li class="listitem"><p><a href="./SYS_QUERY_HISTORY.html">SYS_QUERY_HISTORY</a>는 문제 해결에 유용합니다. <code class="code">running</code> 또는 <code class="code">failed</code>와 같은 현재 상태, 각 쿼리가 실행되는 데 걸린 시간, 쿼리가 동시성 확장 클러스터에서 실행되었는지 여부와 같은 관련 속성과 함께 DDL 및 DML 쿼리를 표시합니다.</p></li><li class="listitem"><p><a href="./r_STL_QUERYTEXT.html">STL_QUERYTEXT</a>는 SQL 명령의 쿼리 텍스트를 수집합니다. 또한 STL_QUERYTEXT를 STV_INFLIGHT에 결합하는 <a href="./r_SVV_QUERY_INFLIGHT.html">SVV_QUERY_INFLIGHT</a>는 더 많은 쿼리 메타데이터를 표시합니다.</p></li><li class="listitem"><p>트랜잭션 잠금 충돌은 쿼리 성능 문제의 원인이 될 수 있습니다. 현재 테이블에 잠금을 유지하고 있는 트랜잭션에 대한 자세한 내용은 <a href="./r_SVV_TRANSACTIONS.html">SVV_TRANSACTIONS</a>를 참조하세요.</p></li><li class="listitem"><p><a href="https://docs.aws.amazon.com/redshift/latest/dg/diagnostic-queries-for-query-tuning.html#identify-queries-that-are-top-candidates-for-tuning">조정에 가장 적합한 쿼리를 식별</a>하면 최근에 실행한 쿼리 중 가장 많은 시간이 소요된 쿼리를 파악하는 데 도움이 되는 문제 해결 쿼리를 제공합니다. 이를 통해 개선이 필요한 쿼리에 노력을 집중할 수 있습니다.</p></li><li class="listitem"><p>쿼리 관리를 더 자세히 살펴보고 쿼리 대기열을 관리하는 방법을 이해하려면 <a href="./cm-c-implementing-workload-management.html">워크로드 관리 구현</a>에서 그 방법을 확인하세요.  워크로드 관리는 고급 기능이며 대부분의 경우 자동화된 워크로드 관리를 권장합니다.</p></li></ul></div>
          
         
         
      <h2 id="queries-troubleshooting-load-fails">로드 실패</h2>
         
         <p>다음과 같은 이유로 데이터 로드가 중단되는 경우 아래와 같은 문제 해결 방법을 권장합니다.</p>
          
            <h6>데이터 원본이 다른 AWS 리전에 있습니다</h6>
            <p>기본적으로 COPY 명령에서 지정하는 Amazon S3 버킷 또는 Amazon DynamoDB 테이블은 클러스터와 동일한 AWS 리전에 있어야 합니다. 데이터와 클러스터가 서로 다른 리전에 있는 경우에는 다음과 유사한 오류 메시지가 표시됩니다.</p>
          
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">The bucket you are attempting to access must be addressed using the specified endpoint.</code></pre>
         <p>가능하면 클러스터와 데이터 원본이 동일한 리전에 있어야 합니다. 그렇게 해도 COPY 명령에서 <a href="./copy-parameters-data-source-s3.html#copy-region">REGION</a> 옵션을 사용하여 다른 리전을 지정할 수 있습니다.</p>
         
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>참고</h6></div><div class="awsdocs-note-text"><p>클러스터와 데이터 원본이 서로 다른 AWS 리전에 있는 경우 데이터 전송 비용이 발생합니다. 또한 지연 시간이 더 깁니다.</p></div></div>
          
            <h6>COPY 명령 실패</h6>
            <p>STL_LOAD_ERRORS에 대한 쿼리를 실행하여 특정 로드 도중 발생한 오류를 식별합니다. 자세한 내용은 <a href="./r_STL_LOAD_ERRORS.html">STL_LOAD_ERRORS</a> 섹션을 참조하세요.</p>
          
      <h2 id="queries-troubleshooting-load-takes-too-long">로드가 너무 오래 걸림</h2>
         
         <p>다음과 같은 이유로 로드 작업이 장기화되는 경우 아래와 같은 문제 해결 방법을 권장합니다.</p>
          
            <h6>COPY가 단일 파일에서 데이터를 로드함</h6>
            <p>로드 데이터를 여러 파일로 분할합니다. 하나의 큰 파일에서 모든 데이터를 로드하면 Amazon Redshift는 훨씬 느린 직렬화된 로드를 수행해야 합니다. 이때 파일 수는 클러스터 조각 수의 배수가 되어야 하며, 파일 크기는 압축 이후 1MB~1GB에서 대략적으로 동일해야 합니다. 자세한 내용은 <a href="./c_designing-queries-best-practices.html">Amazon Redshift 쿼리 설계 모범 사례</a> 섹션을 참조하세요.</p>
          
          
            <h6>로드 작업에서 여러 개의 COPY 명령 사용</h6>
            <p>동시에 다수의 COPY 명령을 사용하여 여러 파일에서 테이블 하나를 로드하면 Amazon Redshift가 강제로 직렬화 로딩을 실행하여 속도가 느려집니다. 이때는 COPY 명령을 하나만 사용하세요.</p>
          
      <h2 id="queries-troubleshooting-load-data-incorrect">로드 데이터가 잘못됨</h2>
         
         <p>COPY 작업이 다음과 같은 방식으로 잘못된 데이터를 로드할 수도 있습니다. 이때는 아래와 같은 문제 해결 방법을 권장합니다.</p>
         
          
            <h6>잘못된 파일이 로드됨</h6>
            <p>객체 접두사를 사용하여 데이터 파일을 지정하면 원하지 않는 파일을 읽어올 수 있습니다. 이때는 매니페스트 파일을 사용하여 로드할 파일을 정확히 지정하세요. 자세한 내용은 COPY 명령의 <a href="./copy-parameters-data-source-s3.html#copy-manifest-file">copy_from_s3_manifest_file</a> 옵션과 COPY 예의 <a href="./r_COPY_command_examples.html#copy-command-examples-manifest">Example: COPY from Amazon S3 using a manifest</a> 섹션을 참조하세요.</p>
          
      <h2 id="set-the-JDBC-fetch-size-parameter">JDBC Fetch Size 파라미터 설정</h2>
         <p>기본적으로 JDBC 드라이버는 모든 쿼리 결과를 한 번에 수집합니다. 그 결과, JDBC 연결을 통해 대용량의 결과 집합을 가져오려고 하면 클라이언트 측 메모리 부족 오류가 발생할 수 있습니다. 단 한 번에 모두 가져오거나 아무것도 가져오지 않는 방식이 아닌 배치(batch) 방식으로 결과 집합을 가져오려면 클라이언트 애플리케이션에서 JDBC Fetch Size 파라미터를 설정하세요.</p>
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>참고</h6></div><div class="awsdocs-note-text"><p>ODBC는 Fetch Size 파라미터가 지원되지 않습니다.</p></div></div>
         <p>성능을 최적화하려면 메모리 부족 오류가 일어나지 않는 범위 내에서 페치 크기 값을 가장 높게 설정하세요. 페치 크기 값이 더 낮아지면 서버 전송이 늘어나서 실행 시간이 장기화될 수 있습니다. 서버는 클라이언트가 전체 결과 집합을 가져오거나 쿼리가 취소될 때까지 WLM 쿼리 슬롯이나 연결 메모리를 비롯한 리소스를 예약합니다. 이때 Fetch Size 값을 적절히 조정하면 이러한 리소스가 더욱 빠르게 해제되어 다른 쿼리에서도 사용할 수 있게 됩니다.</p>
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>참고</h6></div><div class="awsdocs-note-text"><p>대용량 데이터 집합을 추출해야 하는 경우에는 <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_UNLOAD.html">UNLOAD</a> 문을 사용하여 데이터를 Amazon S3로 전송하는 것이 좋습니다. UNLOAD를 사용하면 컴퓨팅 노드가 병렬로 실행되어 데이터 전송 속도가 빨라집니다.</p></div></div>
         <p>JDBC Fetch Size 파라미터 설정에 대한 자세한 내용은 PostgreSQL 설명서의 <a href="https://jdbc.postgresql.org/documentation/query/#getting-results-based-on-a-cursor" rel="noopener noreferrer" target="_blank"><span>Getting results based on a cursor</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>에서 확인할 수 있습니다.</p>
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="주의" /> <strong>javascript가 브라우저에서 비활성화되거나 사용이 불가합니다.</strong></p><p>AWS 설명서를 사용하려면 Javascript가 활성화되어야 합니다. 지침을 보려면 브라우저의 도움말 페이지를 참조하십시오.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">문서 규칙</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./diagnostic-queries-for-query-tuning.html">쿼리 튜닝을 위한 진단 쿼리</div><div id="next" class="next-link" accesskey="n" href="./cm-c-implementing-workload-management.html">워크로드 관리 구현</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">이 페이지의 내용이 도움이 되었습니까? - 예</div><div class="content"><p>칭찬해 주셔서 감사합니다!</p><p>잠깐 시간을 내어 좋았던 부분을 알려 주시면 더 열심히 만들어 보겠습니다.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="feedback-tell-us" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/queries-troubleshooting.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">이 페이지의 내용이 도움이 되었습니까? - 아니요</div><div class="content"><p>이 페이지에 작업이 필요하다는 점을 알려 주셔서 감사합니다. 실망시켜 드려 죄송합니다.</p><p>잠깐 시간을 내어 설명서를 향상시킬 수 있는 방법에 대해 말씀해 주십시오.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="feedback-tell-us" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/queries-troubleshooting.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>