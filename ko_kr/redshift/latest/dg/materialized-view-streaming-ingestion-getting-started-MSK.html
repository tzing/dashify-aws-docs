<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="ko-KR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Amazon Managed Streaming for Apache Kafka에서 스트리밍 수집 시작 - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="materialized-view-streaming-ingestion-getting-started-MSK" /><meta name="default_state" content="materialized-view-streaming-ingestion-getting-started-MSK" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" /><meta name="description" content="Amazon Managed Streaming for Apache Kafka에서 스트리밍 수집을 설정하는 방법을 알아봅니다." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="데이터베이스 개발자 안내서" /><meta name="abstract" content="페타바이트 규모의 엔터프라이즈급 완전관리형 데이터 웨어하우징 서비스인 Amazon Redshift로 데이터 웨어하우스를 생성하고 관리합니다." /><meta name="guide-locale" content="ko_kr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="데이터베이스 개발자 안내서" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="데이터베이스 개발자 안내서" /><meta id="panorama-serviceConsolePage" value="Amazon Managed Streaming for Apache Kafka에서 스트리밍 수집 시작" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Amazon Managed Streaming for Apache Kafka에서 스트리밍 수집 시작 - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#materialized-view-streaming-ingestion-getting-started-MSK" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,데이터 웨어하우스,샘플 데이터,데이터베이스,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "데이터베이스 개발자 안내서",
        "item" : "https://docs.aws.amazon.com/ko_kr/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Amazon Redshift에서 구체화된 뷰 생성",
        "item" : "https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/materialized-view-overview.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "스트리밍 수집",
        "item" : "https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/materialized-view-streaming-ingestion.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Amazon Managed Streaming for Apache Kafka에서 스트리밍 수집 시작",
        "item" : "https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/materialized-view-streaming-ingestion.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#materialized-view-streaming-ingestion-getting-started-MSK" target="_blank" rel="noopener noreferrer" title="pdf-tooltip"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">aws-documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">데이터베이스 개발자 안내서</a></div><div id="page-toc-src"><a href="#materialized-view-streaming-ingestion-getting-started-MSK-setup">IAM 설정 및 Kafka에서 스트리밍 수집 수행</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="materialized-view-streaming-ingestion-getting-started-MSK">Amazon Managed Streaming for Apache Kafka에서 스트리밍 수집 시작</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p> Amazon Redshift 스트리밍 수집의 목적은 스트리밍 서비스에서 Amazon Redshift 또는 Amazon Redshift Serverless로 스트림 데이터를 직접 수집하는 프로세스를 단순화하는 것입니다. 이는 아마존 MSK 및 아마존 MSK Serverless와 Kinesis에서 작동합니다. Redshift 스트리밍 수집을 사용하면 스트림 데이터를 Amazon Redshift로 수집하기 전에 Amazon S3에서 Kinesis Data Streams 스트림 또는 Amazon MSK 주제를 준비할 필요가 없습니다.</p><p> 기술적인 수준에서 Amazon Kinesis Data Streams 및 Amazon Managed Streaming for Apache Kafka의 스트리밍 수집은 스트림 또는 주제 데이터를 Amazon Redshift 구체화 보기로 짧은 지연 시간, 고속 수집을 제공합니다. 설정 후 구체화된 뷰 새로 고침을 사용하여 대용량 데이터를 가져올 수 있습니다.</p><p>다음 단계를 수행하여 Amazon MSK에 대한 Amazon Redshift 스트리밍 수집을 설정합니다.</p><div class="orderedlist">
                         
                         
                    <ol><li><p>스트리밍 데이터 소스에 매핑되는 외부 스키마를 만듭니다.</p></li><li><p>외부 스키마를 참조하는 구체화된 뷰를 생성합니다.</p></li></ol></div><p>Amazon Redshift 스트리밍 수집을 구성하려면 먼저 Amazon MSK 소스를 사용할 수 있어야 합니다. 소스가 없는 경우 <a href="https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html">Amazon MSK 사용 시작</a>에 나와 있는 지침을 따르세요.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>참고</h6></div><div class="awsdocs-note-text"><p><em>스트리밍 수집 및 Amazon Redshift Serverless</em> -이 주제의 구성 단계는 프로비저닝된 Amazon Redshift 클러스터와 Amazon Redshift Serverless 모두에 적용됩니다. 자세한 내용은 <a href="./materialized-view-streaming-ingestion.html#materialized-view-streaming-ingestion-considerations">스트리밍 수집 고려 사항</a> 섹션을 참조하세요.</p></div></div>
                        <h2 id="materialized-view-streaming-ingestion-getting-started-MSK-setup">IAM 설정 및 Kafka에서 스트리밍 수집 수행</h2>
                        <p>사용 가능한 Amazon MSK 클러스터가 있다고 가정하면 첫 번째 단계는 <code class="code">CREATE EXTERNAL SCHEMA</code>를 사용하여 Redshift에서 스키마를 정의하고 Kafka 주제를 데이터 소스로 참조하는 것입니다. 그런 다음 주제의 데이터에 액세스하려면 구체화된 뷰에서 <code class="code">STREAM</code>을 정의합니다. 반정형 <code class="code">SUPER</code> 형식에 있는 주제의 레코드를 저장하거나 Amazon Redshift 데이터 형식으로 변환되는 데이터를 생성하는 스키마를 정의할 수 있습니다. 구체화된 뷰를 쿼리할 때 반환된 레코드는 주제의 특정 시점 보기입니다.</p>
                        <div class="procedure"><ol><li><p>Amazon Redshift 클러스터 또는 Amazon Redshift Serverless 가 이 역할을 수임하도록 허용하는 신뢰 정책으로 IAM 역할을 생성합니다. IAM 역할에 대한 신뢰 정책을 구성하는 방법에 대한 자세한 내용은 <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/authorizing-redshift-service.html">Amazon Redshift가 사용자를 대신하여 다른 AWS 서비스에 액세스할 수 있도록 권한 부여</a> 섹션을 참조하세요. 역할이 생성된 후에는 Amazon MSK 클러스터와의 통신 권한을 제공하는 다음 IAM 정책이 있어야 합니다. 필요한 정책은 Amazon MSK를 사용하는 경우 클러스터에서 사용되는 인증 방법에 따라 다릅니다. Amazon MSK에서 사용할 수 있는 인증 방법은 <a href="https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html">Apache Kafka API에 대한 인증 및 권한 부여</a>를 참조하세요.</p>
                                <p>인증되지 않은 액세스를 사용하는 Amazon MSK의 IAM 정책:</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Sid": "VisualEditor0",
            "Effect": "Allow",
            "Action": [
                "kafka:GetBootstrapBrokers"
            ],
            "Resource": "*"
        }
    ]
}</code></pre>
                                <p>IAM 인증을 사용하는 경우의 Amazon MSK에 대한 IAM 정책:</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Sid": "MSKIAMpolicy",
            "Effect": "Allow",
            "Action": [
                "kafka-cluster:ReadData",
                "kafka-cluster:DescribeTopic",
                "kafka-cluster:Connect"
            ],
            "Resource": [
                "arn:aws:kafka:*:0123456789:cluster/*/*",
                "arn:aws:kafka:*:0123456789:topic/*/*/*"
            ]
        },
        <span>{</span>
            "Sid": "MSKPolicy",
            "Effect": "Allow",
            "Action": [
                "kafka:GetBootstrapBrokers"
            ],
            "Resource": "*"
        }
    ]
}</code></pre>
                            </li><li><p> VPC 확인하고 Amazon Redshift 클러스터 또는 Amazon Redshift Serverless에 Amazon MSK 클러스터로 연결되는 경로가 있는지 확인하세요. Amazon MSK 클러스터에 대한 인바운드 보안 그룹 규칙은 Amazon Redshift 클러스터 또는 Amazon Redshift Serverless 작업 그룹의 보안 그룹을 허용해야 합니다. 지정하는 포트는 Amazon MSK를 사용하는 경우 클러스터에 사용되는 인증 방법에 따라 다릅니다. 자세한 내용은 <a href="https://docs.aws.amazon.com/msk/latest/developerguide/port-info.html">포트 정보</a> 및 <a href="https://docs.aws.amazon.com/msk/latest/developerguide/aws-access.html">AWS 내에서 그러나 VPC 외부에서 액세스</a>를 참조하세요.</p>
                                
                                <p>스트리밍 수집에는 mTLS를 이용한 클라이언트 인증이 지원되지 않습니다. 자세한 내용은 <a href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-streaming-ingestion.html#materialized-view-streaming-ingestion-limitations">제한 사항</a>을 참조하세요.</p>
                            <p>다음 테이블에는 Amazon MSK에서 스트리밍 수집을 위해 설정할 수 있는 무료 구성 옵션이 나와 있습니다.</p>
                                <div class="table-container"><div class="table-contents"><table id="w319aac21c47c15c15b5b3b6"><thead>
                                            <tr>
                                                <th>Amazon Redshift 구성</th>
                                                <th>Amazon MSK 구성</th>
                                                <th>Redshift와 Amazon MSK 간에 열 포트</th>
                                            </tr>
                                        </thead>
                                            <tr>
                                                <td tabindex="-1"> AUTHENTICATION NONE </td>
                                                <td tabindex="-1"> TLS 전송 비활성화됨 </td>
                                                <td tabindex="-1">9092</td>
                                            </tr>
                                            <tr>
                                                <td tabindex="-1"> AUTHENTICATION NONE </td>
                                                <td tabindex="-1"> TLS 전송 활성화됨 </td>
                                                <td tabindex="-1">9094</td>
                                            </tr>
                                            <tr>
                                                <td tabindex="-1"> AUTHENTICATION IAM </td>
                                                <td tabindex="-1"> IAM </td>
                                                <td tabindex="-1">9098/9198</td>
                                            </tr>
                                        </table></div></div>
                                <p>Amazon Redshift 인증은 CREATE EXTERNAL SCHEMA 문에서 설정합니다.</p>
                                <p>Amazon MSK 클러스터에 mTLS(상호 전송 계층 보안) 인증이 활성화되어 있는 경우, 인증 없음을 사용하도록 Amazon Redshift를 구성하면 인증되지 않은 액세스를 위해 포트 9094를 사용하도록 지시합니다. 그러나 이 포트는 mTLS 인증에서 사용 중이므로 실패합니다. 따라서 mTLS를 사용할 때는 인증 IAM으로 전환하는 것이 좋습니다.</p>    
                            </li><li><p>Amazon Redshift 클러스터 또는 Amazon Redshift Serverless 작업 그룹에서 향상된 VPC 라우팅을 사용하도록 설정합니다. 자세한 내용은 <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/enhanced-vpc-enabling-cluster.html">향상된 VPC 라우팅</a>을 참조하세요.</p>
                                <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>참고</h6></div><div class="awsdocs-note-text"><p>Amazon Redshift는 Amazon MSK 부트스트랩 브로커 URL을 검색하기 위해 첨부된 IAM 역할에서 제공하는 권한을 사용하여 <a href="https://docs.aws.amazon.com/msk/1.0/apireference/clusters-clusterarn-bootstrap-brokers.html#GetBootstrapBrokers">GetBootstrapBrokers</a> API를 직접 호출합니다. 단, 향상된 VPC 라우팅이 활성화되었을 때 이 요청이 성공하려면 Amazon Redshift 프로비저닝 클러스터 또는 Amazon Redshift Serverless 작업 그룹의 서브넷에 NAT 게이트웨이 또는 인터넷 게이트웨이가 있어야 합니다. 앞서 언급한 서브넷의 네트워크 ACL 및 보안 그룹 아웃바운드 규칙으로 Amazon MSK API 서비스 엔드포인트에 대한 액세스도 허용해야 합니다. 자세한 내용은 <a href="https://docs.aws.amazon.com/general/latest/gr/msk.html">Amazon Managed Streaming for Apache Kafka 엔드포인트 및 할당량</a>을 참조하세요.</p></div></div>
                            </li><li><p>Amazon Redshift에서 Amazon MSK 클러스터에 매핑할 외부 스키마를 생성합니다.</p>
                                
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE EXTERNAL SCHEMA MySchema
FROM MSK
IAM_ROLE <span>{</span> default | 'iam-role-arn' }
AUTHENTICATION <span>{</span> none | iam }
CLUSTER_ARN 'msk-cluster-arn';</code></pre>
                                
                                <p>이 <code class="code">FROM</code> 절에서 Amazon MSK는 스키마가 관리형 Kafka 서비스의 데이터를 매핑함을 나타냅니다.</p> 
                                    <p> Amazon MSK용 스트리밍 수집은 외부 스키마를 생성할 때 다음 인증 유형을 제공합니다.</p>
                                    <div class="itemizedlist">
                                         
                                         
                                    <ul class="itemizedlist"><li class="listitem"><p><b>none</b> - 인증 단계가 없다고 지정합니다.</p></li><li class="listitem"><p><b>iam</b> - IAM 인증을 지정합니다. 이 항목을 선택할 때는 IAM 역할에 IAM 인증 권한이 있는지 확인해야 합니다.</p></li></ul></div>
                                <p>TLS 인증이나 사용자 이름 및 암호 같은 추가 Amazon MSK 인증 방법은 스트리밍 수집에 지원되지 않습니다.</p>
                                <p> <code class="code">CLUSTER_ARN</code>은 스트리밍의 출처인 Amazon MSK 클러스터를 지정합니다.</p>       
                            </li><li>
                                <p>스트림 데이터를 소비할 구체화된 뷰를 생성합니다. 다음 예에서는 JSON 소스 데이터를 사용하여 구체화된 보기를 정의합니다. 다음 보기에서는 데이터가 유효한 JSON 및 utf8인지 검증합니다. Kafka 주제 이름은 대소문자를 구분하며 대문자와 소문자를 모두 포함할 수 있습니다. 대문자 이름이 있는 토픽에서 수집하려면 클러스터 수준에서 <code class="code">enable_case_sensitive_identifier</code> 구성을 <code class="code">true</code>로 설정하면 됩니다. 자세한 내용은 <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_names.html">이름 및 식별자</a> 및 <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_enable_case_sensitive_identifier.html">enable_case_sensitive_identifier</a> 섹션을 참조하세요.</p>
                                
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE MATERIALIZED VIEW MyView AUTO REFRESH YES AS
SELECT kafka_partition, 
 kafka_offset, 
 kafka_timestamp_type, 
 kafka_timestamp, 
 kafka_key, 
 JSON_PARSE(kafka_value) as Data, 
 kafka_headers
FROM MySchema."mytopic"
WHERE CAN_JSON_PARSE(kafka_value);</code></pre>
                    <p>자동 새로 고침을 켜려면 <code class="code">AUTO REFRESH YES</code>를 사용합니다. 기본 동작은 수동 새로 고침입니다.</p>
                                <p>메타데이터 열에는 다음이 포함됩니다.</p>
                                <div class="table-container"><div class="table-contents"><table id="w319aac21c47c15c15b5b9b9"><thead>
                                            <tr>
                                                <th>메타데이터 열</th>
                                                <th>데이터 유형</th>
                                                <th>설명</th>
                                            </tr>
                                        </thead>
                                            <tr>
                                                <td tabindex="-1"> kafka_partition </td>
                                                <td tabindex="-1"> bigint </td>
                                                <td tabindex="-1"> Kafka 주제에 있는 레코드의 파티션 ID </td>
                                                
                                            </tr>
                                            <tr>
                                                <td tabindex="-1"> kafka_offset </td>
                                                <td tabindex="-1"> bigint </td>
                                                <td tabindex="-1"> 주어진 파티션에 대한 Kafka 주제의 레코드 오프셋 </td>
                                                
                                            </tr>
                                            <tr>
                                                <td tabindex="-1"> kafka_timestamp_type </td>
                                                <td tabindex="-1"> char(1) </td>
                                                <td tabindex="-1">
                                                    <p>Kafka 레코드에 사용되는 타임스탬프 유형:</p> 
                                                    <div class="itemizedlist">
                                                         
                                                         
                                                         
                                                    <ul class="itemizedlist"><li class="listitem"><p><em>C</em> - 클라이언트 측의 레코드 생성 시간(CREATE_TIME)</p></li><li class="listitem"><p><em>L</em> - Kafka 서버 측의 레코드 추가 시간(LOG_APPEND_TIME) </p></li><li class="listitem"><p><em>U</em> - 레코드 생성 시간을 사용할 수 없음(NO_TIMESTAMP_TYPE)</p></li></ul></div>
                                                </td>
                                                
                                            </tr>
                                            <tr>
                                                <td tabindex="-1"> kafka_timestamp </td>
                                                <td tabindex="-1"> 시간대 미포함 TIMESTAMP </td>
                                                <td tabindex="-1"> timestamp 값의 형식 </td>
                                                
                                            </tr>
                                            <tr>
                                                <td tabindex="-1"> kafka_key </td>
                                                <td tabindex="-1"> varbyte </td>
                                                <td tabindex="-1"> Kafka 레코드의 핵심 </td>
                                                
                                            </tr>
                                            <tr>
                                                <td tabindex="-1"> kafka_value </td>
                                                <td tabindex="-1"> varbyte </td>
                                                <td tabindex="-1"> Kafka로부터 받은 레코드 </td>
                                                
                                            </tr>
                                            <tr>
                                                <td tabindex="-1"> kafka_headers </td>
                                                <td tabindex="-1"> super </td>
                                                <td tabindex="-1"> Kafka로부터 받은 레코드의 헤더 </td>
                                                
                                            </tr>
                                            <tr>
                                                <td tabindex="-1"> refresh_time </td>
                                                <td tabindex="-1"> 시간대 미포함 TIMESTAMP </td>
                                                <td tabindex="-1"> 새로 고침의 시작 시간 </td>
                                            </tr>
                                        </table></div></div>
                                
                                <p>구체화된 뷰 정의에 비즈니스 로직이 있는 경우 구문 분석 오류로 인해 경우에 따라 스트리밍 수집이 차단될 수 있다는 점에 유의해야 합니다. 이로 인해 구체화된 뷰를 삭제하고 다시 만들어야 하는 상황이 발생할 수 있습니다. 이를 방지하려면 구문 분석 로직을 가능한 한 단순하게 유지하고 수집 후 데이터에 대한 대부분의 비즈니스 로직 검사를 수행하는 것이 좋습니다. 다음 예에서는 오류를 방지하고 데이터를 더 성공적으로 수집하기 위해 <a href="./CAN_JSON_PARSE.html">CAN_JSON_PARSE 함수</a> 함수를 사용하는 방법을 보여줍니다.</p>
                                
                            </li><li><p>뷰를 새로 고치면 Amazon Redshift Redshift가 주제에서 읽고 데이터를 구체화된 뷰로 로드하도록 트리거합니다.</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">REFRESH MATERIALIZED VIEW MyView;</code></pre>
                            </li><li><p>구체화된 보기의 데이터를 쿼리합니다.</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select * from MyView;</code></pre>
                                <p>구체화된 뷰는 <code class="code">REFRESH</code> 실행 시 주제에서 직접 업데이트됩니다. Kafka 주제 데이터 소스에 매핑되는 구체화된 뷰를 생성합니다. 구체화된 뷰 정의의 일부로 데이터에 대한 필터링 및 합계를 수행할 수 있습니다. 스트리밍 수집 구체화된 뷰(기본 구체화된 뷰)는 하나의 Kafka 주제만 참조할 수 있지만 기본 구체화된 뷰 및 기타 구체화된 뷰 또는 테이블과 조인하는 구체화된 뷰를 추가로 생성할 수 있습니다.</p>
                            </li></ol></div>
                        <p>스트리밍 수집 제한 사항에 대한 자세한 내용은 <a href="./materialized-view-streaming-ingestion.html#materialized-view-streaming-ingestion-limitations">제한 사항</a> 단원을 참조하세요.</p>
                    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="주의" /> <strong>javascript가 브라우저에서 비활성화되거나 사용이 불가합니다.</strong></p><p>AWS 설명서를 사용하려면 Javascript가 활성화되어야 합니다. 지침을 보려면 브라우저의 도움말 페이지를 참조하십시오.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">문서 규칙</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./materialized-view-streaming-ingestion-getting-started.html">Amazon Kinesis Data Streams Streams에서 수집 시작</div><div id="next" class="next-link" accesskey="n" href="./materialized-view-streaming-ingestion-example-station-data.html">Kinesis를 사용한 전기차 스테이션 데이터 스트리밍 수집 튜토리얼</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">이 페이지의 내용이 도움이 되었습니까? - 예</div><div class="content"><p>칭찬해 주셔서 감사합니다!</p><p>잠깐 시간을 내어 좋았던 부분을 알려 주시면 더 열심히 만들어 보겠습니다.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="feedback-tell-us" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">이 페이지의 내용이 도움이 되었습니까? - 아니요</div><div class="content"><p>이 페이지에 작업이 필요하다는 점을 알려 주셔서 감사합니다. 실망시켜 드려 죄송합니다.</p><p>잠깐 시간을 내어 설명서를 향상시킬 수 있는 방법에 대해 말씀해 주십시오.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="feedback-tell-us" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>