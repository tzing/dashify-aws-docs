<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="ko-KR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>CREATE PROCEDURE - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_CREATE_PROCEDURE" /><meta name="default_state" content="r_CREATE_PROCEDURE" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_CREATE_PROCEDURE.html" /><meta name="description" content="새 저장 프로시저를 생성하거나 현재 데이터베이스의 기존 프로시저를 바꿉니다." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="데이터베이스 개발자 안내서" /><meta name="abstract" content="페타바이트 규모의 엔터프라이즈급 완전관리형 데이터 웨어하우징 서비스인 Amazon Redshift로 데이터 웨어하우스를 생성하고 관리합니다." /><meta name="guide-locale" content="ko_kr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_CREATE_PROCEDURE.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_CREATE_PROCEDURE.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_CREATE_PROCEDURE.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_CREATE_PROCEDURE.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_CREATE_PROCEDURE.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_PROCEDURE.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_PROCEDURE.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_CREATE_PROCEDURE.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_CREATE_PROCEDURE.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_CREATE_PROCEDURE.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_CREATE_PROCEDURE.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_CREATE_PROCEDURE.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_CREATE_PROCEDURE.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_CREATE_PROCEDURE.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_CREATE_PROCEDURE.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_CREATE_PROCEDURE.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_CREATE_PROCEDURE.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_CREATE_PROCEDURE.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_CREATE_PROCEDURE.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_CREATE_PROCEDURE.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_CREATE_PROCEDURE.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_PROCEDURE.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="데이터베이스 개발자 안내서" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="데이터베이스 개발자 안내서" /><meta id="panorama-serviceConsolePage" value="CREATE PROCEDURE" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>CREATE PROCEDURE - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#r_CREATE_PROCEDURE" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_CREATE_PROCEDURE.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_CREATE_PROCEDURE.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_CREATE_PROCEDURE.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,데이터 웨어하우스,샘플 데이터,데이터베이스,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "데이터베이스 개발자 안내서",
        "item" : "https://docs.aws.amazon.com/ko_kr/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "SQL 참조",
        "item" : "https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "SQL 명령",
        "item" : "https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "CREATE PROCEDURE",
        "item" : "https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/c_SQL_commands.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#r_CREATE_PROCEDURE" target="_blank" rel="noopener noreferrer" title="pdf-tooltip"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">aws-documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">데이터베이스 개발자 안내서</a></div><div id="page-toc-src"><a href="#r_CREATE_PROCEDURE-privileges">필수 권한</a><a href="#r_CREATE_PROCEDURE-synopsis">구문</a><a href="#r_CREATE_PROCEDURE-parameters">파라미터</a><a href="#r_CREATE_PROCEDURE-usage">사용 노트</a><a href="#r_CREATE_PROCEDURE-examples">예제</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="r_CREATE_PROCEDURE">CREATE PROCEDURE</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>새 저장 프로시저를 생성하거나 현재 데이터베이스의 기존 프로시저를 바꿉니다.</p><p>자세한 정보와 지침은 <a href="./stored-procedure-overview.html">Amazon Redshift에서 저장 프로시저 생성</a>을 참조합니다.</p>
         <h2 id="r_CREATE_PROCEDURE-privileges">필수 권한</h2>
         <p>CREATE PROCEDURE에 필요한 권한은 다음과 같습니다.</p>
         <div class="itemizedlist">
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>CREATE PROCEDURE의 경우</p>
               <div class="itemizedlist">
                   
                   
               <ul class="itemizedlist"><li class="listitem">
                     <p>수퍼유저</p>
                  </li><li class="listitem">
                     <p>CREATE [ OR REPLACE ] PROCEDURE 권한이 있는 사용자</p>
                  </li></ul></div>
            </li><li class="listitem">
               <p>REPLACE PROCEDURE의 경우</p>
               <div class="itemizedlist">
                   
                   
                   
               <ul class="itemizedlist"><li class="listitem">
                     <p>수퍼유저</p>
                  </li><li class="listitem">
                     <p>CREATE [ OR REPLACE ] PROCEDURE 권한이 있는 사용자</p>
                  </li><li class="listitem">
                     <p>프로시저 소유자</p>
                  </li></ul></div>
            </li></ul></div>
       
         <h2 id="r_CREATE_PROCEDURE-synopsis">구문</h2>

         
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">CREATE [ OR REPLACE ] PROCEDURE sp_procedure_name  
  ( [ [ argname ] [ argmode ] argtype [, ...] ] )
[ NONATOMIC ]
AS $$
  procedure_body
$$ LANGUAGE plpgsql
[ <span>{</span> SECURITY INVOKER | SECURITY DEFINER } ]
[ SET configuration_parameter <span>{</span> TO value | = value } ]
</code></pre>
       
         <h2 id="r_CREATE_PROCEDURE-parameters">파라미터</h2>
         <div class="variablelist">
             
             
             
             
             
             
             
             
             
         <dl>
               <dt><span class="term"> OR REPLACE </span></dt>
               <dd>
                  <p>이름 및 입력 인수 데이터 형식이 같은 프로시저 또는 서명이 같은 프로시저인 경우 이런 프로시저가 이미 하나 존재하므로 기존 프로시저가 대체됨을 지정하는 절입니다. 프로시저는 똑같은 데이터 형식 집합을 정의하는 새 프로시저로만 바꿀 수 있습니다. 수퍼유저 또는 소유자만 프로시저를 바꿀 수 있습니다.</p>
                  <p>기존 프로시저와 이름이 동일하지만 서명이 다른 프로시저를 정의하는 경우, 새 프로시저를 생성합니다. 다시 말해 프로시저 이름이 오버로드됩니다. 자세한 내용은 <a href="./stored-procedure-naming.html#stored-procedure-overloading-name">프로시저 이름 오버로드</a> 섹션을 참조하세요.</p>
               </dd>
             
               <dt><span class="term"> <em>sp_procedure_name</em> </span></dt>
               <dd>
                  <p>프로시저의 이름입니다. 스키마 이름을 지정하는 경우(예: <code class="userinput">myschema.myprocedure</code>), 프로시저는 지정된 스키마에서 생성됩니다. 그렇지 않으면, 프로시저가 현재 스키마에서 생성됩니다. 유효한 이름에 대한 자세한 내용은 <a href="./r_names.html">이름 및 식별자</a> 섹션을 참조하세요.</p>
                  <p>모든 저장 프로시저 이름에 <code class="code">sp_</code>를 접두사로 사용하는 것이 좋습니다. Amazon Redshift는 저장 프로시저 이름용으로 <code class="code">sp_</code> 접두사를 예약합니다. <code class="code">sp_</code> 접두사를 사용하여 저장 프로시저 이름이 기존 또는 향수 Amazon Redshift 기본 제공 저장 프로시저 또는 함수 이름과 충돌하지 않도록 할 수 있습니다. 자세한 내용은 <a href="./stored-procedure-naming.html">저장 프로시저 명명</a> 섹션을 참조하세요.</p>
                  <p>입력 인수에 대한 데이터 형식 또는 서명이 서로 다른 경우 같은 이름을 가진 프로시저를 2개 이상 정의할 수 있습니다. 다시 말해 이 경우 프로시저 이름이 오버로드됩니다. 자세한 내용은 <a href="./stored-procedure-naming.html#stored-procedure-overloading-name">프로시저 이름 오버로드</a> 섹션을 참조하세요.</p>
               </dd>
             
               <dt><span class="term"><em>[argname] [ argmode] argtype</em> </span></dt>
               <dd>
                  <p>인수 이름, 인수 모드 및 데이터 형식의 목록입니다. 데이터 형식만 필수입니다. 이름과 모드는 선택 사항이고, 위치를 전환할 수 있습니다.</p>
                  <p>인수 모드는 IN, OUT 또는 INOUT일 수 있습니다. 기본값은 IN입니다.</p>
                  <p>OUT 및 INOUT 인수를 사용하여 프로시저 호출에서 값을 하나 이상 반환할 수 있습니다. OUT 또는 INOUT 인수가 있는 경우, 프로시저 호출이 <em>n</em> 열이 포함된 결과 행 하나를 반환합니다. 여기에서 <em>n</em>은 OUT 또는 INOUT 인수의 총 수입니다.</p>
                  <p>INOUT 인수는 동시에 입력 및 출력 인수입니다. <em>입력 인수</em>에는 IN 인수와 INOUT 인수가 모두 포함되며, <em>출력 인수</em>에는 OUT 인수와 INOUT 인수가 모두 포함됩니다.</p>
                  
                  <p>OUT 인수는 CALL 문의 일부로 지정되지 않습니다. 저장 프로시저 CALL 문에서 INOUT 인수를 지정합니다. INOUT 인수는 중첩 호출에서 값을 전달 및 반환하고 <code class="code">refcursor</code>를 반환할 때 유용할 수 있습니다. <code class="code">refcursor</code> 형식에 대한 자세한 내용은 <a href="./c_PLpgSQL-statements.html#r_PLpgSQL-cursors">커서</a> 섹션을 참조하세요.</p>
                  <p>인수 데이터 형식은 모든 표준 Amazon Redshift 데이터 형식일 수 있습니다. 또한 인수 데이터 형식은 <code class="code">refcursor</code>일 수 있습니다.</p>
                  <p>최대 32개의 입력 인수와 32개의 출력 인수를 지정할 수 있습니다.</p>
               </dd>
             
               <dt><span class="term">AS $$ <em>procedure_body</em> $$ </span></dt>
               <dd>
                  <p>실행할 프로시저를 둘러싼 구문입니다. 리터럴 키워드 AS $$ 및 $$가 필요합니다.</p>
                  <p>Amazon Redshift에서는 $ 인용이라는 형식을 사용하여 프로시저의 문을 묶어야 합니다. 묶음 기호 내에 있는 것은 모두 정확히 그대로 전달됩니다. 문자열의 내용은 문자 그대로 작성되므로 특수 문자를 이스케이프할 필요가 없습니다.</p>
                  <p><em>$ 인용</em> 사용 시, 달러 기호 쌍($$)을 사용하면 다음 예에 표시된 것처럼 실행할 문의 시작과 끝을 나타낼 수 있습니다.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">$$ my statement $$</code></pre>
                  <p>각 쌍의 달러 기호들 사이에서 선택적으로 문을 식별하는 데 도움이 되는 문자열을 지정할 수 있습니다. 사용하는 문자열은 묶음 쌍의 시작과 끝에서 모두 동일해야 합니다. 이 문자열은 대/소문자를 구분하고 달러 기호를 포함할 수 없는 경우를 제외하면 따옴표가 없는 식별자와 똑같은 제약 조건을 따릅니다. 다음 예에서는 문자열 테스트를 사용합니다.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">$test$ my statement $test$</code></pre>
                  <p>이 구문은 중첩 달러 인용에도 유용합니다. 달러 인용에 대한 자세한 내용은 PostgreSQL 설명서의 <a href="https://www.postgresql.org/docs/9.0/sql-syntax-lexical.html" rel="noopener noreferrer" target="_blank"><span>어휘 구조</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>에서 “달러 기호로 인용된 문자열 상수”를 참조하십시오.</p>
               </dd>
             
               <dt><span class="term"> <em>procedure_body</em> </span></dt>
               <dd>
                  <p>유효한 PL/pgSQL 문 세트입니다. PL/pgSQL 문은 루프 및 조건 표현식을 비롯한 프로시저 구문으로 SQL 명령을 보완하여 논리 흐름을 제어합니다. COPY, UNLOAD, INSERT 등의 데이터 수정 언어(DML)와 CREATE TABLE 등의 데이터 정의 언어(DDL)를 포함한 대부분의 SQL 명령을 프로시저 본문에서 사용할 수 있습니다. 자세한 내용은 <a href="./c_pl_pgSQL_reference.html">PL/pgSQL 언어 참조</a> 섹션을 참조하세요.</p>
               </dd>
             
               <dt><span class="term">LANGUAGE <em>plpgsql</em></span></dt>
               <dd>
                  <p>언어 값입니다. <code class="code">plpgsql</code>를 지정합니다. <code class="code">plpgsql</code>을 사용하려면 언어에 대한 사용 권한이 필요합니다. 자세한 내용은 <a href="./r_GRANT.html">GRANT</a> 섹션을 참조하세요.</p>
               </dd>
             
                            
               <dt><span class="term">NONATOMIC</span></dt>
               <dd>
                  
                  <p>NONATOMIC 트랜잭션 모드에서 저장 프로시저를 생성합니다. NONATOMIC 모드는 프로시저 내에서 문을 자동으로 커밋합니다. 또한 NONATOMIC 프로시저 내에서 오류가 발생하여 예외 블록에서 처리되는 경우 오류가 다시 발생하지 않습니다. 자세한 정보는 <a href="./stored-procedure-transaction-management.html">트랜잭션 관리</a> 및 <a href="./c_PLpgSQL-statements.html#r_PLpgSQL-messages-errors">RAISE</a> 섹션을 참조하십시오.</p>
                  <p>저장 프로시저를 <code class="code">NONATOMIC</code>으로 정의할 때 다음 사항을 고려하세요.</p>
                  <div class="itemizedlist">
                      
                      
                     
                      
                     
                  <ul class="itemizedlist"><li class="listitem"><p>저장 프로시저 호출을 중첩할 때는 모든 프로시저를 동일한 트랜잭션 모드에서 생성해야 합니다.</p></li><li class="listitem"><p>NONATOMIC 모드에서 프로시저를 생성할 때는 <code class="code">SECURITY DEFINER</code> 옵션과 <code class="code">SET configuration_parameter</code> 옵션이 지원되지 않습니다.</p></li><li class="listitem"><p>암시적 커밋이 처리되면 (명시적으로 또는 암시적으로) 열린 모든 커서가 자동으로 닫힙니다. 따라서 커서 루프를 시작하기 전에 명시적 트랜잭션을 열어 루프 반복 내의 SQL이 암시적으로 커밋되지 않도록 해야 합니다.</p></li></ul></div>
               </dd>
               
             
               <dt><span class="term">SECURITY INVOKER | SECURITY DEFINER</span></dt>
               <dd>
                  <p><code class="code">NONATOMIC</code>이 지정된 경우 <code class="code">SECURITY DEFINER</code> 옵션이 지원되지 않습니다.</p>
                  <p>프로시저의 보안 모드는 실행 시간에 프로시저의 액세스 권한을 결정합니다. 프로시저는 기본 데이터베이스 객체에 액세스할 권한이 있어야 합니다.</p>
                  <p>SECURITY INVOKER 모드에서 프로시저는 프로시저를 호출하는 사용자의 권한을 사용합니다. 사용자는 기본 데이터베이스 객체에 대한 명시적 권한이 있어야 합니다. 기본값은 SECURITY INVOKER입니다.</p>
                  <p>SECURITY DEFINER 모드에서, 프로시저는 프로시저 소유자의 권한을 사용합니다. 프로시저 소유자는 런타임에 프로시저를 소유하는 사용자로 정의되며, 프로시저를 처음 정의한 사용자일 필요는 없습니다. 프로시저를 호출하는 사용자는 프로시저에 대한 권한을 실행해야 하지만, 기본 객체에 대한 권한은 필요하지 않습니다.</p>
               </dd>
             
               <dt><span class="term">SET configuration_parameter <span>{</span> TO value | = value }</span></dt>
               <dd>
                  <p><code class="code">NONATOMIC</code>이 지정된 경우 이 옵션이 지원되지 않습니다.</p>
                  <p>SET 절은 프로시저가 입력될 때 지정된 <code class="code">configuration_parameter</code>가 지정된 값으로 설정되게 합니다. 그런 다음 이 절은 프로시저가 종료되면 <code class="code">configuration_parameter</code>를 이전 값으로 복원합니다.</p>
               </dd>
            </dl></div>
       
         <h2 id="r_CREATE_PROCEDURE-usage">사용 노트</h2>
         <p>SECURITY DEFINER 옵션을 사용하여 저장 프로시저를 생성한 경우, 저장 프로시저 내에서 CURRENT_USER 함수를 호출하면 Amazon Redshift는 저장 프로시저 소유자의 사용자 이름을 반환합니다.</p>
       
         <h2 id="r_CREATE_PROCEDURE-examples">예제</h2>
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>참고</h6></div><div class="awsdocs-note-text"><p>이러한 예제를 실행할 때 다음과 비슷한 오류가 발생하는 경우</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">ERROR: 42601: [Amazon](500310) unterminated dollar-quoted string at or near "$$</code></pre><p><a href="./stored-procedure-create.html">Amazon Redshift의 저장 프로시저 개요</a>를 참조하세요.</p></div></div>
         <p>다음 예제에서는 입력 파라미터가 두 개 있는 프로시저를 생성합니다.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE OR REPLACE PROCEDURE test_sp1(f1 int, f2 varchar(20))
AS $$
DECLARE
  min_val int;
BEGIN
  DROP TABLE IF EXISTS tmp_tbl;
  CREATE TEMP TABLE tmp_tbl(id int);
  INSERT INTO tmp_tbl values (f1),(10001),(10002);
  SELECT INTO min_val MIN(id) FROM tmp_tbl;
  RAISE INFO 'min_val = %, f2 = %', min_val, f2;
END;
$$ LANGUAGE plpgsql;
</code></pre>
         
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>참고</h6></div><div class="awsdocs-note-text"><p> 저장 프로시저를 작성할 때는 민감한 값을 보호하기 위한 모범 사례를 참조하는 것이 좋습니다.</p><p> 민감한 정보를 저장 프로시저 로직 내에 하드 코딩하지 마십시오. 예를 들어, 저장 프로시저 본문의 CREATE USER 문에 사용자 암호를 할당하지 마십시오. 하드 코딩된 값이 카탈로그 테이블에 스키마 메타 데이터로 기록될 수 있기 때문에 보안 위험이 따릅니다. 암호와 같은 민감한 값은 파라미터를 사용하여 저장 프로시저에 인수로 전달하십시오.</p><p>저장된 프로시저에 대한 자세한 내용은 <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_PROCEDURE.html">프로시저 생성</a> 및 <a href="https://docs.aws.amazon.com/redshift/latest/dg/stored-procedure-overview.html">Amazon Redshift에서 저장 프로시저 생성</a>을 참조하십시오. 카탈로그 테이블에 대한 자세한 내용은 <a href="https://docs.aws.amazon.com/redshift/latest/dg/c_intro_catalog_views.html">시스템 카탈로그 테이블</a>을 참조하십시오.</p></div></div>

         <p>다음 예제에서는 IN 파라미터 한 개, OUT 파라미터 한 개, INOUT 파라미터 한 개가 있는 프로시저를 생성합니다.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE OR REPLACE PROCEDURE test_sp2(f1 IN int, f2 INOUT varchar(256), out_var OUT varchar(256))
AS $$
DECLARE
  loop_var int;
BEGIN
  IF f1 is null OR f2 is null THEN
    RAISE EXCEPTION 'input cannot be null';
  END IF;
  DROP TABLE if exists my_etl;
  CREATE TEMP TABLE my_etl(a int, b varchar);
    FOR loop_var IN 1..f1 LOOP
        insert into my_etl values (loop_var, f2);
        f2 := f2 || '+' || f2;
    END LOOP;
  SELECT INTO out_var count(*) from my_etl;
END;
$$ LANGUAGE plpgsql;
</code></pre>
         
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="주의" /> <strong>javascript가 브라우저에서 비활성화되거나 사용이 불가합니다.</strong></p><p>AWS 설명서를 사용하려면 Javascript가 활성화되어야 합니다. 지침을 보려면 브라우저의 도움말 페이지를 참조하십시오.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">문서 규칙</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_create_model_use_cases.html">사용 사례</div><div id="next" class="next-link" accesskey="n" href="./r_CREATE_RLS_POLICY.html">CREATE RLS POLICY</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">이 페이지의 내용이 도움이 되었습니까? - 예</div><div class="content"><p>칭찬해 주셔서 감사합니다!</p><p>잠깐 시간을 내어 좋았던 부분을 알려 주시면 더 열심히 만들어 보겠습니다.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="feedback-tell-us" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_CREATE_PROCEDURE.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">이 페이지의 내용이 도움이 되었습니까? - 아니요</div><div class="content"><p>이 페이지에 작업이 필요하다는 점을 알려 주셔서 감사합니다. 실망시켜 드려 죄송합니다.</p><p>잠깐 시간을 내어 설명서를 향상시킬 수 있는 방법에 대해 말씀해 주십시오.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="feedback-tell-us" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_CREATE_PROCEDURE.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>