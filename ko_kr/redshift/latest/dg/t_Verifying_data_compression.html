<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="ko-KR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>압축 인코딩 테스트 - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="t_Verifying_data_compression" /><meta name="default_state" content="t_Verifying_data_compression" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/t_Verifying_data_compression.html" /><meta name="description" content="압축 인코딩을 수동으로 지정하는 경우 Amazon Redshift의 여러 압축 형식에 대한 테스트 방법." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="데이터베이스 개발자 안내서" /><meta name="abstract" content="페타바이트 규모의 엔터프라이즈급 완전관리형 데이터 웨어하우징 서비스인 Amazon Redshift로 데이터 웨어하우스를 생성하고 관리합니다." /><meta name="guide-locale" content="ko_kr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/t_Verifying_data_compression.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/t_Verifying_data_compression.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/t_Verifying_data_compression.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/t_Verifying_data_compression.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/t_Verifying_data_compression.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/t_Verifying_data_compression.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/t_Verifying_data_compression.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/t_Verifying_data_compression.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/t_Verifying_data_compression.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/t_Verifying_data_compression.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/t_Verifying_data_compression.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/t_Verifying_data_compression.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/t_Verifying_data_compression.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/t_Verifying_data_compression.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/t_Verifying_data_compression.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/t_Verifying_data_compression.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/t_Verifying_data_compression.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/t_Verifying_data_compression.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/t_Verifying_data_compression.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/t_Verifying_data_compression.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/t_Verifying_data_compression.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/t_Verifying_data_compression.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="데이터베이스 개발자 안내서" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="데이터베이스 개발자 안내서" /><meta id="panorama-serviceConsolePage" value="압축 인코딩 테스트" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>압축 인코딩 테스트 - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#t_Verifying_data_compression" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/t_Verifying_data_compression.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/t_Verifying_data_compression.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/t_Verifying_data_compression.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,데이터 웨어하우스,샘플 데이터,데이터베이스,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "데이터베이스 개발자 안내서",
        "item" : "https://docs.aws.amazon.com/ko_kr/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "자동 테이블 최적화 작업",
        "item" : "https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/t_Creating_tables.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "열 압축 작업",
        "item" : "https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/t_Compressing_data_on_disk.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "압축 인코딩 테스트",
        "item" : "https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/t_Compressing_data_on_disk.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#t_Verifying_data_compression" target="_blank" rel="noopener noreferrer" title="pdf-tooltip"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">aws-documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">데이터베이스 개발자 안내서</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="t_Verifying_data_compression">압축 인코딩 테스트</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>압축 인코딩을 수동으로 지정하는 경우 데이터를 이용해 여러 가지 인코딩을 테스트할 수 있습니다.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>참고</h6></div><div class="awsdocs-note-text"><p>가능하다면 항상 COPY 명령을 사용하여 데이터를 로드하고, COPY 명령에서 데이터에 따른 최적의 인코딩을 선택하도록 허용하는 것이 좋습니다. 또는 <a href="./r_ANALYZE_COMPRESSION.html">ANALYZE COMPRESSION</a> 명령을 사용하여 기존 데이터에 적합한 인코딩을 확인하는 방법도 있습니다. 자동 압축 적용에 대한 자세한 내용은 <a href="./c_Loading_tables_auto_compress.html">자동 압축을 사용하여 테이블 로드</a> 섹션을 참조하세요.</p></div></div><p>데이터 압축에 대한 유의적 테스트를 위해서는 다수의 행이 필요합니다. 이번 예에서는 임의의 테이블을 생성한 후 이 테이블이 VENUE 테이블과 LISTING 테이블에서 선택하는 문을 사용하여 행을 삽입합니다. 일반적으로 두 테이블을 조인하는 WHERE 절을 생략합니다. 결과적으로 VENUE 테이블의 <em>각</em> 행이 LISTING 테이블의 <em>모든</em> 행으로 조인되어 전체 행의 수는 3,200만 개가 됩니다. 이를 데카르트 조인이라고 하며 일반적으로 권장되지 않습니다. 그러나 이는 이러한 용도로 많은 행을 생성하는 편리한 방법입니다. 테스트할 데이터가 기존 테이블에 로드되어 있으면 이번 단계를 생략해도 좋습니다.</p><p>샘플 데이터가 있는 테이블을 생성한 후 7개의 열이 있는 테이블을 생성합니다. 각각 다른 압축 인코딩(raw, bytedict, lzo, run length, text255, text32k 및 zstd)이 있습니다. 첫 번째 테이블에서 데이터를 선택할 때 사용한 INSERT 명령을 실행하여 정확히 동일한 데이터로 각 열을 채웁니다.</p><p>압축 인코딩을 테스트하려면 다음을 수행합니다.</p><div class="orderedlist">
                 
                 

                 
                 
                 
            <ol><li>
                    <p> <span>(옵션) 먼저 데카르트 조인을 사용하여 다수의 행이 포함된 테이블을 하나 생성합니다. 기존 테이블을 테스트할 때는 이 단계를 생략해도 좋습니다.</span></p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">create table cartesian_venue(
venueid smallint not null distkey sortkey,
venuename varchar(100),
venuecity varchar(30),
venuestate char(2),
venueseats integer);

insert into cartesian_venue
select venueid, venuename, venuecity, venuestate, venueseats
from venue, listing;</code></pre>
                </li><li>
                    <p> <span>비교할 인코딩을 적용하여 테이블을 생성합니다. </span> </p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">create table encodingvenue (
venueraw varchar(100) encode raw,
venuebytedict varchar(100) encode bytedict,
venuelzo varchar(100) encode lzo,
venuerunlength varchar(100) encode runlength,
venuetext255 varchar(100) encode text255,
venuetext32k varchar(100) encode text32k,
venuezstd varchar(100) encode zstd);</code></pre>
                </li><li>
                    <p> <span>SELECT 절에 INSERT 문을 사용하여 동일한 데이터를 모든 열에 삽입합니다. </span> </p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">insert into encodingvenue
select venuename as venueraw, venuename as venuebytedict, venuename as venuelzo, venuename as venuerunlength, venuename as  venuetext32k, venuename as  venuetext255, venuename as venuezstd
from cartesian_venue;</code></pre>
                </li><li>
                    <p> <span>새로운 테이블에서 행의 수를 확인합니다.</span></p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select count(*) from encodingvenue

  count
----------
 38884394
(1 row)</code></pre>
                </li><li>
                    <p> <span><a href="./r_STV_BLOCKLIST.html">STV_BLOCKLIST</a> 시스템 테이블에 대해 쿼리를 실행하여 각 열에서 사용된 1MB 디스크 블록의 수를 비교합니다. </span> </p>
                    <p>MAX 집계 함수는 각 열마다 가장 높은 블록 수를 반환합니다. STV_BLOCKLIST 테이블에는 시스템에서 작성된 열 3개에 대한 세부 정보가 포함되어 있습니다. 다음 예는 WHERE 절에서 <code class="code">col &lt; 6</code>을 사용하여 시스템에서 작성된 열을 배제한 것입니다.</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select col, max(blocknum)
from stv_blocklist b, stv_tbl_perm p
where (b.tbl=p.id) and name ='encodingvenue'
and col &lt; 7
group by name, col
order by col;</code></pre>
                    <p>위 쿼리는 다음과 같은 결과를 반환합니다. 열은 0부터 번호가 매겨집니다. 클러스터의 구성 방식에 따라 결과적으로 다른 번호가 될 수는 있지만 상대적 크기는 비슷해야 합니다. 이 데이터 집합에서는 두 번째 열에 있는 BYTEDICT 인코딩이 최상의 결과를 이끌어내는 것을 알 수 있습니다. 이 접근 방식의 압축 비율은 20:1보다 좋습니다. LZO 인코딩과 ZSTD 인코딩 역시 우수한 결과를 산출하였습니다. 물론 데이터 세트가 달라지면 결과도 바뀝니다. 열에 더욱 긴 텍스트 문자열이 포함되어 있으면 LZO 인코딩이 종종 최상의 압축 결과를 산출하기도 합니다.</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""> col | max
-----+-----
   0 | 203
   1 |  10
   2 |  22
   3 | 204
   4 |  56
   5 |  72
   6 |  20
(7 rows)</code></pre>
                </li></ol></div><p>기존 테이블에 이미 데이터가 있다면 <a href="./r_ANALYZE_COMPRESSION.html">ANALYZE COMPRESSION</a> 명령을 사용하여 테이블에 적합한 인코딩을 확인할 수도 있습니다. 예를 들어 다음 예는 행의 수가 3,800만 개인 VENUE 테이블(CARTESIAN_VENUE)을 복사하는 데 가장 적합한 인코딩을 나타내고 있습니다. 예를 보면, ANALYZE COMPRESSION을 실행한 결과 VENUENAME 열에는 LZO 인코딩을 적용하는 것이 바람직합니다. ANALYZE COMPRESSION은 감소율을 포함한 다수의 요인을 기준으로 최적의 압축 인코딩을 선택합니다. 이번 예와 같은 경우에는 BYTEDICT의 압축 성능이 우수하지만 LZO 역시 90%가 넘는 압축비를 보이고 있습니다.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">analyze compression cartesian_venue;

Table          | Column     | Encoding | Est_reduction_pct
---------------+------------+----------+------------------
reallybigvenue | venueid    | lzo      | 97.54            
reallybigvenue | venuename  | lzo      | 91.71            
reallybigvenue | venuecity  | lzo      | 96.01            
reallybigvenue | venuestate | lzo      | 97.68            
reallybigvenue | venueseats | lzo      | 98.21            </code></pre><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="주의" /> <strong>javascript가 브라우저에서 비활성화되거나 사용이 불가합니다.</strong></p><p>AWS 설명서를 사용하려면 Javascript가 활성화되어야 합니다. 지침을 보려면 브라우저의 도움말 페이지를 참조하십시오.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">문서 규칙</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./zstd-encoding.html">ZSTD</div><div id="next" class="next-link" accesskey="n" href="./Examples__compression_encodings_in_CREATE_TABLE_statements.html">예: CUSTOMER 테이블에 대한 압축 인코딩 선택</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">이 페이지의 내용이 도움이 되었습니까? - 예</div><div class="content"><p>칭찬해 주셔서 감사합니다!</p><p>잠깐 시간을 내어 좋았던 부분을 알려 주시면 더 열심히 만들어 보겠습니다.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="feedback-tell-us" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/t_Verifying_data_compression.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">이 페이지의 내용이 도움이 되었습니까? - 아니요</div><div class="content"><p>이 페이지에 작업이 필요하다는 점을 알려 주셔서 감사합니다. 실망시켜 드려 죄송합니다.</p><p>잠깐 시간을 내어 설명서를 향상시킬 수 있는 방법에 대해 말씀해 주십시오.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="feedback-tell-us" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/t_Verifying_data_compression.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>