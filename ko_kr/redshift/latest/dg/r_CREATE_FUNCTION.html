<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="ko-KR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>CREATE FUNCTION - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_CREATE_FUNCTION" /><meta name="default_state" content="r_CREATE_FUNCTION" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_CREATE_FUNCTION.html" /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="데이터베이스 개발자 안내서" /><meta name="abstract" content="페타바이트 규모의 엔터프라이즈급 완전관리형 데이터 웨어하우징 서비스인 Amazon Redshift로 데이터 웨어하우스를 생성하고 관리합니다." /><meta name="guide-locale" content="ko_kr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_CREATE_FUNCTION.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_FUNCTION.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="데이터베이스 개발자 안내서" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="데이터베이스 개발자 안내서" /><meta id="panorama-serviceConsolePage" value="CREATE FUNCTION" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>CREATE FUNCTION - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#r_CREATE_FUNCTION" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_CREATE_FUNCTION.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_CREATE_FUNCTION.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_CREATE_FUNCTION.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,데이터 웨어하우스,샘플 데이터,데이터베이스,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "데이터베이스 개발자 안내서",
        "item" : "https://docs.aws.amazon.com/ko_kr/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "SQL 참조",
        "item" : "https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "SQL 명령",
        "item" : "https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "CREATE FUNCTION",
        "item" : "https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/c_SQL_commands.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#r_CREATE_FUNCTION" target="_blank" rel="noopener noreferrer" title="pdf-tooltip"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">aws-documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">데이터베이스 개발자 안내서</a></div><div id="page-toc-src"><a href="#r_CREATE_FUNCTION-privileges">필수 권한</a><a href="#r_CREATE_FUNCTION-synopsis">명령문</a><a href="#r_CREATE_FUNCTION-parameters">파라미터</a><a href="#r_CREATE_FUNCTION-usage-notes">사용 노트</a><a href="#r_CREATE_FUNCTION-examples">예</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="r_CREATE_FUNCTION">CREATE FUNCTION</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p> </p><p>SQL SELECT 절 또는 Python 프로그램을 이용해 스칼라 사용자 정의 함수(UDF)를 새로 만듭니다.</p><p>자세한 정보와 지침은 <a href="./user-defined-functions.html">사용자 정의 함수 생성</a> 섹션을 참조하세요.</p>
         <h2 id="r_CREATE_FUNCTION-privileges">필수 권한</h2>
         <p>CREATE FUNCTION에 필요한 권한은 다음과 같습니다.</p>
         <div class="itemizedlist">
             
             
         <ul class="itemizedlist"><li class="listitem"><p>CREATE FUNCTION의 경우</p>
               <div class="itemizedlist">
                   
                   
               <ul class="itemizedlist"><li class="listitem"><p>슈퍼 사용자는 신뢰할 수 있는 언어와 신뢰할 수 없는 언어를 사용하여 함수를 만들 수 있습니다.</p></li><li class="listitem"><p>CREATE [ OR REPLACE ] FUNCTION 권한이 있는 사용자는 신뢰할 수 있는 언어로 함수를 만들 수 있습니다.</p></li></ul></div>
            </li><li class="listitem"><p>REPLACE FUNCTION의 경우</p>
               <div class="itemizedlist">
                   
                   
                   
               <ul class="itemizedlist"><li class="listitem"><p>수퍼유저</p></li><li class="listitem"><p>CREATE [ OR REPLACE ] FUNCTION 권한이 있는 사용자</p></li><li class="listitem"><p>함수 소유자</p></li></ul></div>
            </li></ul></div>
       
         <h2 id="r_CREATE_FUNCTION-synopsis">명령문</h2>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">CREATE [ OR REPLACE ] FUNCTION <em>f_function_name</em>
( <span>{</span> [<em>py_arg_name</em> <em> py_arg_data_type</em> |
<em>sql_arg_data_type</em> } [ , ... ] ] )
RETURNS <em>data_type</em>
<span>{</span> VOLATILE | STABLE | IMMUTABLE }
AS $$
  <span>{</span> <em>python_program</em> | <em>SELECT_clause</em> }
$$ LANGUAGE <span>{</span> plpythonu | sql }</code></pre>
       
         <h2 id="r_CREATE_FUNCTION-parameters">파라미터</h2>
         <div class="variablelist">
             
             
             
             
             
             
             
             
             
         <dl>
               <dt><span class="term">OR REPLACE</span></dt>
               <dd>
                  <p>이름 및 입력 인수 데이터 형식이 같은 함수 또는 <em>서명</em>이 같은 함수인 경우 이런 함수가 이미 하나 존재하므로 기존 함수가 대체됨을 지정합니다. 함수는 똑같은 데이터 형식 집합을 정의하는 새 함수로만 바꿀 수 있습니다. 수퍼유저만이 함수를 바꿀 수 있습니다.</p>
                  <p>기존 함수와 이름은 같지만 서명이 다른 함수를 정의하면 새 함수가 생성됩니다. 즉, 함수 이름이 오버로드됩니다. 자세한 내용은 <a href="./udf-naming-udfs.html#udf-naming-overloading-function-names">함수 이름 오버로드</a> 단원을 참조하십시오.</p>
               </dd>
             
               <dt><span class="term"> <em>f_function_name</em> </span></dt>
               <dd>
                  <p>함수의 이름입니다. 스키마 이름을 지정하는 경우(예: <code class="code">myschema.myfunction</code>), 함수는 지정된 스키마를 사용하여 생성됩니다. 그렇지 않으면, 함수가 현재 스키마로 생성됩니다. 유효한 이름에 대한 자세한 내용은 <a href="./r_names.html">이름 및 식별자</a> 섹션을 참조하세요.</p>
                  <p>모든 UDF 이름에 <code class="code">f_</code>를 접두사로 사용하는 것이 좋습니다. Amazon Redshift는 UDF 이름에 대해 <code class="code">f_</code> 접두사를 예약하므로, <code class="code">f_</code> 접두사를 사용하면 UDF 이름이 기존 또는 향후의 Amazon Redshift 내장 SQL 함수 이름과 충돌하지 않을 것입니다. 자세한 내용은 <a href="./udf-naming-udfs.html">UDF 이름 지정</a> 단원을 참조하십시오.</p>
                  <p>입력 인수에 대한 데이터 형식이 서로 다른 경우 함수 이름이 동일한 함수를 2개 이상 정의할 수 있습니다. 즉, 함수 이름이 오버로드됩니다. 자세한 내용은 <a href="./udf-naming-udfs.html#udf-naming-overloading-function-names">함수 이름 오버로드</a> 단원을 참조하십시오.</p>
               </dd>
             
               <dt><span class="term"> <em>py_arg_name py_arg_data_type | sql_arg_data type</em> </span></dt>
               <dd>
                  <p>Python UDF에 대해서는 입력 인수 이름과 데이터 형식의 목록입니다. SQL UDF에 대해서는 인수 이름이 없는 데이터 형식의 목록입니다. Python UDF에서는 인수 이름을 이용한 인수를 참조하십시오. SQL UDF에서는 인수 목록에서 인수의 순서를 토대로 $1, $2, ... 등을 이용한 인수를 참조하십시오.</p>
                  <p>SQL UDF의 경우, 입력 및 반환 데이터 형식은 모든 표준 Amazon Redshift 데이터 형식일 수 있습니다. Python UDF의 경우, 입력 및 반환 데이터 형식은 SMALLINT, INTEGER, BIGINT, DECIMAL, REAL, DOUBLE PRECISION, BOOLEAN, CHAR, VARCHAR, DATE 또는 TIMESTAMP일 수 있습니다. 또한 Python 사용자 정의 함수(UDF)는 ANYELEMENT 데이터 형식을 지원합니다. 이는 런타임에 제공되는 해당 인수의 데이터 형식을 기준으로 표준 데이터 형식으로 자동 변환됩니다. 여러 인수가 ANYELEMENT를 사용하는 경우 이들 인수는 모두 목록에서 첫 번째 ANYELEMENT 인수를 기준으로 런타임에 동일한 데이터 형식으로 확인됩니다. 자세한 내용은 <a href="./udf-data-types.html">Python UDF 데이터 형식</a> 및 <a href="./c_Supported_data_types.html">데이터 타입</a> 섹션을 참조하세요.</p>

                  <p>인수를 최대 32개까지 지정할 수 있습니다.</p>
               </dd>
             
               <dt><span class="term"> RETURNS <em>data_type</em> </span></dt>
               <dd>
                  <p>함수에 의해 반환되는 값의 데이터 형식입니다. RETURNS 데이터 형식은 임의의 표준 Amazon Redshift 데이터 형식일 수 있습니다. 뿐만 아니라, Python UDF는 런타임에 제공되는 인수를 기준으로 표준 데이터 형식으로 자동 변환되는 ANYELEMENT의 데이터 형식을 사용할 수 있습니다. 반환 데이터 형식에 대해 ANYELEMENT를 지정하는 경우 하나 이상의 인수가 ANYELEMENT를 사용해야 합니다. 실제 반환 데이터 형식은 함수가 호출될 때 ANYELEMENT 인수에 대해 제공되는 데이터 형식과 일치합니다. 자세한 내용은 <a href="./udf-data-types.html">Python UDF 데이터 형식</a> 단원을 참조하십시오.</p>
               </dd>
             
               <dt><span class="term"> VOLATILE | STABLE | IMMUTABLE </span></dt>
               <dd>
                  <p>쿼리 최적화 프로그램에 함수의 휘발성에 대해 알립니다.</p>
                  <p>함수에 대해 유효한 가장 엄격한 휘발성 범주로 함수에 레이블을 지정하면 최상으로 최적화할 수 있습니다. 그러나 범주가 너무 엄격하면 최적화 프로그램이 일부 호출을 잘못 건너뛰어 잘못된 결과 집합을 초래할 위험이 있습니다. 가장 덜 엄격한 범주부터 시작해서 엄격성의 순으로 휘발성 범주를 나열하면 다음과 같습니다.</p>
                  <div class="itemizedlist">
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>VOLATILE</p>
                     </li><li class="listitem">
                        <p>STABLE</p>
                     </li><li class="listitem">
                        <p>IMMUTABLE</p>
                     </li></ul></div>
                  
                  <p>VOLATILE</p>
                  <p>인수가 같을 경우, 함수는 단일 명령문의 행에 대해서도 연속적인 호출에 대해 상이한 결과를 반환할 수 있습니다. 쿼리 최적화 프로그램은 휘발성 함수의 동작에 대해 어떤 가정도 할 수 없으므로, 휘발성 함수를 사용하는 쿼리가 모든 입력 행에 대해 함수를 재평가해야 합니다.</p>
                  <p>STABLE</p>
                  <p>인수가 같을 경우, 함수는 단일 명령문 내에서 처리되는 모든 행에 대해 동일한 결과를 반환하도록 보장됩니다. 이 함수는 서로 다른 명령문에서 호출될 경우 서로 다른 결과를 반환할 수 있습니다. 최적화 프로그램은 이 범주를 사용하여 단일 명령문 내에서 함수의 여러 호출을 명령문에 대한 단일 호출로 최적화할 수 있습니다.</p>
                  <p>IMMUTABLE</p>
                  <p>인수가 같을 경우, 함수는 항상 동일한 결과를 계속 반환합니다. 쿼리가 일정한 인수로 <code class="code">IMMUTABLE</code> 함수를 호출할 때는 최적화 프로그램이 함수를 미리 평가합니다.</p>
               </dd>
             
               <dt><span class="term">AS $$ <em>statement</em> $$</span></dt>
               <dd>
                  <p> 실행할 문을 둘러싼 구문입니다. 리터럴 키워드 <code class="code">AS $$</code> 및 <code class="code">$$</code>가 필요합니다.</p>
                  <p>Amazon Redshift에서는 $ 인용이라는 형식을 사용하여 함수의 문을 묶어야 합니다. 묶음 기호 내에 있는 것은 모두 정확히 그대로 전달됩니다. 문자열의 내용은 문자 그대로 작성되므로 특수 문자를 이스케이프할 필요가 없습니다.</p>
                  <p> <em>$ 인용</em> 사용 시, 달러 기호 쌍($$)을 사용하면 다음 예에 표시된 것처럼 실행할 문의 시작과 끝을 나타낼 수 있습니다.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">$$ <code class="replaceable">my statement</code> $$</code></pre>
                  <p> 각 쌍의 달러 기호들 사이에서 선택적으로 문을 식별하는 데 도움이 되는 문자열을 지정할 수 있습니다. 사용하는 문자열은 묶음 쌍의 시작과 끝에서 모두 동일해야 합니다. 이 문자열은 대/소문자를 구분하고 달러 기호를 포함할 수 없는 경우를 제외하면 따옴표가 없는 식별자와 똑같은 제약 조건을 따릅니다. 다음 예에서는 <code class="code">test</code> 문자열을 사용합니다.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">$test$ <code class="replaceable">my statement</code> $test$</code></pre>

                  <p>달러 인용에 대한 자세한 내용은 PostgreSQL 설명서의 <a href="https://www.postgresql.org/docs/9.4/static/sql-syntax-lexical.html" rel="noopener noreferrer" target="_blank"><span> 어휘 구조</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>에서 “달러 기호로 인용된 문자열 상수”를 참조하십시오.</p>
               </dd>
             
               <dt><span class="term"><em>python_program</em> </span></dt>
               <dd>
                  <p>값을 반환하는 유효하고 실행 가능한 Python 프로그램입니다. 함수와 함께 전달하는 문은 Python 웹사이트의 <a href="https://www.python.org/dev/peps/pep-0008/#indentation" rel="noopener noreferrer" target="_blank"><span>Python 코드 스타일 가이드</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>에 지정된 들여쓰기 요구 사항을 준수해야 합니다. 자세한 내용은 <a href="./udf-python-language-support.html">UDF에 대한 Python 언어 지원</a> 단원을 참조하십시오.</p>
               </dd>
             
               <dt><span class="term"><em>SQL 절</em> </span></dt>
               <dd>
                  <p>SQL SELECT 절.</p>
                  <p>SELECT 절은 다음 유형의 절을 포함할 수 없습니다.</p>
                  <div class="itemizedlist">
                      
                      
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>FROM</p>
                     </li><li class="listitem">
                        <p>INTO</p>
                     </li><li class="listitem">
                        <p>WHERE</p>
                     </li><li class="listitem">
                        <p>GROUP BY</p>
                     </li><li class="listitem">
                        <p>ORDER BY</p>
                     </li><li class="listitem">
                        <p>LIMIT</p>
                     </li></ul></div>
               </dd>
             
               <dt><span class="term">LANGUAGE <span>{</span> plpythonu | sql } </span></dt>
               <dd>
                  <p>Python에는 <code class="code">plpythonu</code>를 지정합니다. SQL에는 <code class="code">sql</code>을 지정합니다. SQL 또는 plpythonu에 대한 언어에 사용 권한이 필요합니다. 자세한 내용은 <a href="./udf-security-and-privileges.html">UDF 보안 및 권한</a> 단원을 참조하십시오.</p>
               </dd>
            </dl></div>
       
         <h2 id="r_CREATE_FUNCTION-usage-notes">사용 노트</h2>
          
            <h3 id="r_CREATE_FUNCTION-usage-notes-nested-functions">중첩 함수</h3>
            <p>SQL UDF 안에서 다른 SQL 사용자 정의 함수(UDF)를 호출할 수 있습니다. CREATE FUNCTION 명령을 실행할 때 중첩 함수가 있어야 합니다. Amazon Redshift는 UDF에 대한 종속성을 추적하지 않으므로 중첩 함수를 삭제해도 Amazon Redshift는 오류를 반환하지 않습니다. 그러나 중첩 함수가 존재하지 않으면 UDF가 실패합니다. 예를 들어 다음 함수는 SELECT 절에 <code class="code">f_sql_greater
               </code>함수를 호출합니다.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">create function f_sql_commission (float, float )
  returns float
stable
as $$
  select f_sql_greater ($1, $2)
$$ language sql;</code></pre>
          
          
            <h3 id="r_CREATE_FUNCTION-usage-notes-security-and-privileges">UDF 보안 및 권한</h3>
            <p>UDF를 새로 만들려면 SQL 또는 plpythonu(Python)에 대한 언어에 사용 권한이 필요합니다. 기본적으로 USAGE ON LANGUAGE SQL은 PUBLIC에 허용됩니다. 그러나 특정 사용자 또는 그룹에 USAGE ON LANGUAGE PLPYTHONU 권한을 명시적으로 허용해야 합니다.</p>
            <p>SQL에 대한 사용을 취소하려면 먼저 PUBLIC에서의 사용을 취소해야 합니다. 그런 다음 SQL UDF 생성이 허용된 사용자 또는 그룹에게만 SQL에 대한 사용 권한을 허용합니다. 다음은 PUBLIC에서의 SQL 사용을 취소한 후 사용자 그룹 <code class="code">udf_devs</code>에 사용을 허용하는 예시입니다.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">revoke usage on language sql from PUBLIC;
grant usage on language sql to group udf_devs;</code></pre>
            <p>UDF를 실행하려면 각 함수마다 실행 권한이 필요합니다. 기본적으로 새로운 UDF에 대한 실행 권한은 PUBLIC에 허용됩니다. 사용을 제한하려면 함수에 대해 PUBLIC에서 실행 권한을 취소합니다. 그런 다음 개인 혹은 그룹에 권한을 허용합니다.</p>
            <p>다음은 PUBLIC에서 <code class="code">f_py_greater</code> 함수에 대한 실행 권한을 취소한 다음 사용자 그룹 <code class="code">udf_devs</code>에 사용 권한을 부여하는 예입니다.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">revoke execute on function f_py_greater(a float, b float) from PUBLIC;
grant execute on function f_py_greater(a float, b float) to group udf_devs;</code></pre>
            <p>기본적으로 수퍼유저는 모든 권한을 갖습니다.</p>
            <p>자세한 내용은 <a href="./r_GRANT.html">GRANT</a> 및 <a href="./r_REVOKE.html">REVOKE</a> 섹션을 참조하세요.</p>
          
       
         <h2 id="r_CREATE_FUNCTION-examples">예</h2>
          
            <h3 id="r_CREATE_FUNCTION-python-example">스칼라 Python UDF 예시</h3>
            <p>다음 예에서는 두 정수를 비교하여 더 큰 값을 반환하는 Python UDF를 생성합니다.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">create function f_py_greater (a float, b float)
  returns float
stable
as $$
  if a &gt; b:
    return a
  return b
$$ language plpythonu;</code></pre>
            <p>다음 예에서는 SALES 테이블을 쿼리하고 COMMISSION 또는 PRICEPAID의 20% 중 큰 값을 반환하는 새 <code class="code">f_py_greater</code> 함수를 호출합니다.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select f_py_greater (commission, pricepaid*0.20) from sales;</code></pre>
          
          
            <h3 id="r_CREATE_FUNCTION-sql-example">스칼라 SQL UDF 예시</h3>
            <p>다음은 2개의 수를 비교하여 더 큰 값을 반환하는 함수의 생성 예입니다.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">create function f_sql_greater (float, float)
  returns float
stable
as $$
  select case when $1 &gt; $2 then $1
    else $2
  end
$$ language sql;</code></pre>
            <p>다음은 새로운 <code class="code">f_sql_greater</code> 함수를 호출하여 SALES 테이블에 대한 쿼리를 실행한 후 COMMISSION 또는 PRICEPAID의 20% 중에서 더 큰 값을 반환하는 쿼리입니다.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select f_sql_greater (commission, pricepaid*0.20) from sales;</code></pre>
          
         
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="주의" /> <strong>javascript가 브라우저에서 비활성화되거나 사용이 불가합니다.</strong></p><p>AWS 설명서를 사용하려면 Javascript가 활성화되어야 합니다. 지침을 보려면 브라우저의 도움말 페이지를 참조하십시오.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">문서 규칙</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_CREATE_EXTERNAL_VIEW.html">CREATE EXTERNAL VIEW(미리 보기)</div><div id="next" class="next-link" accesskey="n" href="./r_CREATE_GROUP.html">create group</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">이 페이지의 내용이 도움이 되었습니까? - 예</div><div class="content"><p>칭찬해 주셔서 감사합니다!</p><p>잠깐 시간을 내어 좋았던 부분을 알려 주시면 더 열심히 만들어 보겠습니다.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="feedback-tell-us" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_CREATE_FUNCTION.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">이 페이지의 내용이 도움이 되었습니까? - 아니요</div><div class="content"><p>이 페이지에 작업이 필요하다는 점을 알려 주셔서 감사합니다. 실망시켜 드려 죄송합니다.</p><p>잠깐 시간을 내어 설명서를 향상시킬 수 있는 방법에 대해 말씀해 주십시오.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="feedback-tell-us" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_CREATE_FUNCTION.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>