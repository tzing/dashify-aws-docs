<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="ko-KR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Amazon Redshift Spectrum에 대한 IAM 정책 - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="c-spectrum-iam-policies" /><meta name="default_state" content="c-spectrum-iam-policies" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/c-spectrum-iam-policies.html" /><meta name="description" content="Amazon Redshift Spectrum에 대한 IAM 정책에 대해 알아보세요." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="데이터베이스 개발자 안내서" /><meta name="abstract" content="페타바이트 규모의 엔터프라이즈급 완전관리형 데이터 웨어하우징 서비스인 Amazon Redshift로 데이터 웨어하우스를 생성하고 관리합니다." /><meta name="guide-locale" content="ko_kr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/c-spectrum-iam-policies.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="데이터베이스 개발자 안내서" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="데이터베이스 개발자 안내서" /><meta id="panorama-serviceConsolePage" value="Amazon Redshift Spectrum에 대한 IAM 정책" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Amazon Redshift Spectrum에 대한 IAM 정책 - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#c-spectrum-iam-policies" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/c-spectrum-iam-policies.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/c-spectrum-iam-policies.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/c-spectrum-iam-policies.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,데이터 웨어하우스,샘플 데이터,데이터베이스,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "데이터베이스 개발자 안내서",
        "item" : "https://docs.aws.amazon.com/ko_kr/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Amazon Redshift Spectrum을 사용하여 외부 데이터 쿼리",
        "item" : "https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/c-using-spectrum.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Amazon Redshift Spectrum에 대한 IAM 정책",
        "item" : "https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/c-using-spectrum.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#c-spectrum-iam-policies" target="_blank" rel="noopener noreferrer" title="pdf-tooltip"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">aws-documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">데이터베이스 개발자 안내서</a></div><div id="page-toc-src"><a href="#spectrum-iam-policies-s3">Amazon S3 권한</a><a href="#spectrum-iam-policies-cross-account">계정 간 Amazon S3 권한</a><a href="#spectrum-iam-policies-spectrum-only">Redshift Spectrum을 사용하여 액세스 권한 부여 또는 제한</a><a href="#spectrum-iam-policies-minimum-permissions">최소 권한</a><a href="#c-spectrum-chaining-roles">IAM 역할 연결</a><a href="#c-spectrum-glue-acess">AWS Glue 데이터 액세스</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="c-spectrum-iam-policies">Amazon Redshift Spectrum에 대한 IAM 정책</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>기본적으로 Amazon Redshift Spectrum은 AWS Glue를 지원하는 AWS 리전의 AWS Glue Data Catalog를 사용합니다. 다른 AWS 리전에서는 Redshift Spectrum이 Athena Data Catalog를 사용합니다. 클러스터가 AWS Glue 또는 Athena에 있는 외부 데이터 카탈로그와 Amazon S3에 있는 데이터 파일에 액세스하려면 권한 부여가 필요합니다. 이러한 권한은 클러스터에 연결되어 있는 IAM(AWS Identity and Access Management) 역할을 참조하면 부여할 수 있습니다. Apache Hive 메타스토어를 사용하여 데이터 카탈로그를 관리하는 경우 Athena에 대한 액세스 권한을 제공할 필요가 없습니다.</p><p>역할을 함께 묶어 클러스터가 클러스터에 연결되어 있지 않은 다른 역할을 수임하도록 할 수 있습니다. 자세한 내용은 <a href="#c-spectrum-chaining-roles">Amazon Redshift Spectrum에서 IAM 역할 연결</a> 섹션을 참조하세요.</p><p>액세스하는 AWS Glue 카탈로그가 보안을 강화하기 위해 암호화될 수 있습니다. AWS Glue 카탈로그가 암호화된 경우 AWS Glue 데이터 카탈로그에 액세스하려면 AWS Glue에 AWS KMS 키가 필요합니다. 자세한 내용은 <em><a href="https://docs.aws.amazon.com/glue/latest/dg/">AWS Glue Developer Guide</a></em>의 <a href="https://docs.aws.amazon.com/glue/latest/dg/encrypt-glue-data-catalog.html">Encrypting Your AWS Glue Data Catalog</a> 섹션을 참조하세요.</p><div class="highlights" id="inline-topiclist"><h6>주제</h6><ul><li><a href="#spectrum-iam-policies-s3">Amazon S3 권한</a></li><li><a href="#spectrum-iam-policies-cross-account">계정 간 Amazon S3 권한</a></li><li><a href="#spectrum-iam-policies-spectrum-only">Redshift Spectrum을 사용하여 액세스 권한을 부여하거나 제한하기 위한 정책</a></li><li><a href="#spectrum-iam-policies-minimum-permissions">최소 권한을 부여하기 위한 정책</a></li><li><a href="#c-spectrum-chaining-roles">Amazon Redshift Spectrum에서 IAM 역할 연결</a></li><li><a href="#c-spectrum-glue-acess">AWS Glue 데이터 카탈로그에 대한 액세스 제어</a></li></ul></div><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>참고</h6></div><div class="awsdocs-note-text"><p>현재 Athena Data Catalog에 Redshift Spectrum 외부 테이블이 있다면 Athena Data Catalog를 AWS Glue Data Catalog로 마이그레이션할 수 있습니다. AWS Glue 데이터 카탈로그를 Redshift Spectrum과 함께 사용하려면 IAM 정책을 변경해야 할 수 있습니다. 자세한 내용은 <em>Athena User Guide</em>의 <a href="https://docs.aws.amazon.com/athena/latest/ug/glue-athena.html#glue-upgrade">Upgrading to the AWS Glue Data Catalog</a> 섹션을 참조하세요.</p></div></div>
         <h2 id="spectrum-iam-policies-s3">Amazon S3 권한</h2>
         <p>클러스터는 적어도 Amazon S3 버킷에 대한 GET 및 LIST 액세스가 필요합니다. 버킷이 클러스터와 동일한 AWS 계정에 속하지 않는 경우에도 마찬가지로 클러스터에게 데이터에 액세스할 수 있는 권한을 부여해야 합니다. 자세한 내용은 <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/authorizing-redshift-service.html">Amazon Redshift가 사용자를 대신하여 다른 AWS 서비스에 액세스할 수 있도록 권한 부여</a> 섹션을 참조하세요.</p>
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>참고</h6></div><div class="awsdocs-note-text"><p>Amazon S3 버킷은 특정 VPC 엔드포인트로부터의 액세스만 제한하는 버킷 정책을 사용할 수 없습니다.</p></div></div>
         <p>다음 정책은 모든 Amazon S3 버킷에 대한 GET 및 LIST 액세스 권한을 부여합니다. 이 정책은 COPY 작업뿐 아니라 Redshift Spectrum의 Amazon S3 버킷에 대한 액세스를 허용합니다.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
	"Version": "2012-10-17",
	"Statement": [<span>{</span>
		"Effect": "Allow",
		"Action": ["s3:Get*", "s3:List*"],
		"Resource": "*"
	}]
}</code></pre>

         <p>다음 정책은 <code class="code">myBucket</code>이라는 Amazon S3 버킷에 대한 GET 및 LIST 액세스 권한을 부여합니다.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
	"Version": "2012-10-17",
	"Statement": [<span>{</span>
		"Effect": "Allow",
		"Action": ["s3:Get*", "s3:List*"],
		"Resource": "arn:aws:s3:::myBucket/*"
	}]
}</code></pre>
       
         <h2 id="spectrum-iam-policies-cross-account">계정 간 Amazon S3 권한</h2>
         <p>Redshift Spectrum에 다른 AWS 계정에 속한 Amazon S3 버킷의 데이터에 액세스할 수 있는 권한을 부여하려면 Amazon S3 버킷에 다음 정책을 추가합니다. 자세한 내용은 <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/example-walkthroughs-managing-access-example2.html">교차 계정 버킷 권한 부여</a>를 참조하십시오.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Sid": "Example permissions",
            "Effect": "Allow",
            "Principal": <span>{</span>
                "AWS": "arn:aws:iam::<code class="replaceable">redshift-account</code>:role/<code class="replaceable">spectrumrole</code>"
            },
            "Action": [
                "s3:GetBucketLocation",
                "s3:GetObject",
                "s3:ListMultipartUploadParts",
                "s3:ListBucket",
                "s3:ListBucketMultipartUploads"
            ],
            "Resource": [
                "arn:aws:s3:::<code class="replaceable">bucketname</code>",
                "arn:aws:s3:::<code class="replaceable">bucketname</code>/*"
            ]
        }
    ]
}</code></pre>
       
         <h2 id="spectrum-iam-policies-spectrum-only">Redshift Spectrum을 사용하여 액세스 권한을 부여하거나 제한하기 위한 정책</h2>
         <p>Redshift Spectrum을 사용하는 경우에 한해 Amazon S3 버킷에 대한 액세스 권한을 부여하려면 사용자 에이전트 <code class="code">AWS Redshift/Spectrum</code>에 대한 액세스를 허용하는 조건을 추가합니다. 다음 정책은 Redshift Spectrum에 한해 Amazon S3 버킷에 대한 액세스를 허용합니다. COPY 작업 같은 다른 액세스는 제외됩니다.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "Version": "2012-10-17",
    "Statement": [<span>{</span>
        "Effect": "Allow",
        "Action": ["s3:Get*", "s3:List*"],
        "Resource": "arn:aws:s3:::myBucket/*",
                "Condition": <span>{</span>"StringEquals": <span>{</span>"aws:UserAgent": "AWS Redshift/Spectrum"}}
    }]
}</code></pre>
         <p>마찬가지로 COPY 작업에 대한 액세스는 허용하지만 Redshift Spectrum 액세스는 제외하는 IAM 역할을 생성할 수 있습니다. 이를 위해서는 사용자 에이전트 <code class="userinput">AWS Redshift/Spectrum</code>에 대한 액세스를 거부하는 조건을 추가하면 됩니다. 다음 정책은 Redshift Spectrum을 제외하고 Amazon S3 버킷에 대한 액세스를 허용합니다.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "Version": "2012-10-17",
    "Statement": [<span>{</span>
        "Effect": "Allow",
        "Action": ["s3:Get*", "s3:List*"],
        "Resource": "arn:aws:s3:::myBucket/*",
                "Condition": <span>{</span>"StringNotEquals": <span>{</span>"aws:UserAgent": "AWS Redshift/Spectrum"}}
    }]
}</code></pre>
       
         <h2 id="spectrum-iam-policies-minimum-permissions">최소 권한을 부여하기 위한 정책</h2>
         <p>다음 정책은 Amazon S3, AWS Glue 및 Athena에서 Redshift Spectrum을 사용하는 데 필요한 최소 권한을 부여합니다.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "s3:GetBucketLocation",
                "s3:GetObject",
                "s3:ListMultipartUploadParts",
                "s3:ListBucket",
                "s3:ListBucketMultipartUploads"
            ],
            "Resource": [
                "arn:aws:s3:::<code class="replaceable">bucketname</code>",
                "arn:aws:s3:::<code class="replaceable">bucketname</code>/<code class="replaceable">folder1</code>/<code class="replaceable">folder2</code>/*"
            ]
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "glue:CreateDatabase",
                "glue:DeleteDatabase",
                "glue:GetDatabase",
                "glue:GetDatabases",
                "glue:UpdateDatabase",
                "glue:CreateTable",
                "glue:DeleteTable",
                "glue:BatchDeleteTable",
                "glue:UpdateTable",
                "glue:GetTable",
                "glue:GetTables",
                "glue:BatchCreatePartition",
                "glue:CreatePartition",
                "glue:DeletePartition",
                "glue:BatchDeletePartition",
                "glue:UpdatePartition",
                "glue:GetPartition",
                "glue:GetPartitions",
                "glue:BatchGetPartition"
            ],
            "Resource": [
                "*"
            ]
        }
    ]
}</code></pre>
         <p>데이터 카탈로그에 AWS Glue 대신 Athena를 사용할 경우 정책에 모든 Athena 액세스 권한이 필요합니다. 다음 정책은 Athena 리소스에 대한 액세스 권한을 부여합니다. 외부 데이터베이스가 Hive 메타스토어에 있는 경우 Athena 액세스 권한이 필요 없습니다.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
	"Version": "2012-10-17",
	"Statement": [<span>{</span>
		"Effect": "Allow",
		"Action": ["athena:*"],
		"Resource": ["*"]
	}]
}</code></pre>
       
         <h2 id="c-spectrum-chaining-roles">Amazon Redshift Spectrum에서 IAM 역할 연결</h2>

         <p>역할을 클러스터에 연결하면 클러스터가 Amazon S3, Athena 및 AWS Glue에 액세스할 수 있는 역할을 맡을 수 있습니다. 클러스터에 연결된 역할에 필요한 리소스에 대한 액세스 권한이 없는 경우 다른 계정에 속한 다른 역할을 함께 묶을 수 있습니다. 그러면 클러스터는 함께 묶은 역할을 일시적으로 수임하여 데이터에 액세스합니다. 역할을 함께 묶어 교차 계정 액세스를 부여할 수도 있습니다. 최대 10개의 역할을 함께 묶을 수 있습니다. 체인의 각 역할은 클러스터가 체인의 끝에 있는 역할을 수임할 때까지 체인의 다음 역할을 수임합니다.</p>
         <p>역할을 함께 묶으려면 역할 간에 신뢰 관계를 구성해야 합니다. 다른 역할을 수임하는 역할에는 지정된 역할을 수임하도록 허용하는 권한 정책이 있어야 합니다. 결국 권한을 전달하는 역할에는 해당 권한을 다른 역할에 전달하도록 허용하는 신뢰 정책이 있어야 합니다. 자세한 내용은 <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/authorizing-redshift-service.html#authorizing-redshift-service-chaining-roles">Amazon Redshift에서 IAM 역할 연결</a> 섹션을 참조하세요.</p>

         <p>CREATE EXTERNAL SCHEMA 명령을 실행하여 쉼표로 구분된 역할 ARN 목록을 포함해 역할을 함께 묶을 수 있습니다.</p>
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>참고</h6></div><div class="awsdocs-note-text"><p>함께 묶은 역할 목록에 공백을 포함하면 안 됩니다.</p></div></div>
         <p>다음 예에서 <code class="code">MyRedshiftRole</code>은 클러스터에 연결됩니다. <code class="code">MyRedshiftRole</code>은 <code class="code">AcmeData</code> 역할이 <code class="code">111122223333</code> 계정에 속한 것으로 간주합니다.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">create external schema acme from data catalog 
database 'acmedb' region 'us-west-2' 
iam_role 'arn:aws:iam::123456789012:role/MyRedshiftRole,arn:aws:iam::111122223333:role/AcmeData';</code></pre>
       

         <h2 id="c-spectrum-glue-acess">AWS Glue 데이터 카탈로그에 대한 액세스 제어</h2>
         <p>데이터 카탈로그에 AWS Glue를 사용하는 경우 IAM 정책을 사용해 AWS Glue 데이터 카탈로그에 세분화된 액세스 제어를 적용할 수 있습니다. 예를 들어 특정 IAM 역할에 데이터베이스 및 테이블 몇 개만 보이도록 하려고 할 수 있습니다.</p>
         <p>다음 단원에서는 AWS Glue 데이터 카탈로그에 저장된 데이터에 대한 다양한 액세스 수준에 관한 IAM 정책을 설명합니다.</p>

         <div class="highlights" id="inline-topiclist"><h6>주제</h6><ul><li><a href="#c-spectrum-glue-acess-database">데이터베이스 작업에 대한 정책</a></li><li><a href="#c-spectrum-glue-acess-tables">테이블 작업에 대한 정책</a></li><li><a href="#c-spectrum-glue-acess-partitions">파티션 작업에 대한 정책</a></li></ul></div>
          
            <h3 id="c-spectrum-glue-acess-database">데이터베이스 작업에 대한 정책</h3>

            <p>사용자에게 데이터베이스 보기 및 생성 권한을 부여하려는 경우 사용자에게는 데이터베이스 및 AWS Glue 데이터 카탈로그 둘 다에 대한 액세스 권한이 필요합니다.</p>
            <p>다음 예 쿼리는 데이터베이스를 생성합니다.</p>

            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
CREATE EXTERNAL SCHEMA example_db
FROM DATA CATALOG DATABASE 'example_db' region 'us-west-2' 
IAM_ROLE 'arn:aws:iam::redshift-account:role/spectrumrole'
CREATE EXTERNAL DATABASE IF NOT EXISTS              
            </code></pre>
            <p>다음 IAM 정책은 데이터베이스 생성에 필요한 최소 권한을 부여합니다.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
<span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "glue:GetDatabase",
                "glue:CreateDatabase"
            ],
            "Resource": [
                "arn:aws:glue:us-west-2:redshift-account:database/example_db",
                "arn:aws:glue:us-west-2:redshift-account:catalog"
            ]
        }
    ]
}             
            </code></pre>
            <p>다음 예 쿼리는 현재 데이터베이스를 나열합니다.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
SELECT * FROM SVV_EXTERNAL_DATABASES WHERE
databasename = 'example_db1' or databasename = 'example_db2';
            </code></pre>
            <p>다음 IAM 정책은 현재 데이터베이스를 나열하는 데 필요한 최소 권한을 부여합니다.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
<span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "glue:GetDatabases"
            ],
            "Resource": [
                "arn:aws:glue:us-west-2:redshift-account:database/example_db1",
                "arn:aws:glue:us-west-2:redshift-account:database/example_db2",
                "arn:aws:glue:us-west-2:redshift-account:catalog"

            ]
        }
    ]
}                    
            </code></pre>
          
          
            <h3 id="c-spectrum-glue-acess-tables">테이블 작업에 대한 정책</h3>
            <p>사용자에게 테이블에 대한 보기, 생성, 삭제, 변경 또는 기타 작업을 수행할 수 있는 권한을 부여하려면 몇 가지 유형의 액세스가 필요합니다. 테이블 자체, 테이블이 속한 데이터베이스 및 카탈로그에 대한 액세스가 필요합니다.</p>
            <p>다음 예 쿼리는 외부 테이블을 생성합니다.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
CREATE EXTERNAL TABLE example_db.example_tbl0(
    col0 INT,
    col1 VARCHAR(255)
) PARTITIONED BY (part INT) STORED AS TEXTFILE
LOCATION 's3://test/s3/location/';              
            </code></pre>
            <p>다음 IAM 정책은 외부 테이블 생성에 필요한 최소 권한을 부여합니다.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
<span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "glue:CreateTable"
            ],
            "Resource": [
                "arn:aws:glue:us-west-2:redshift-account:catalog",
                "arn:aws:glue:us-west-2:redshift-account:database/example_db",
                "arn:aws:glue:us-west-2:redshift-account:table/example_db/example_tbl0"
            ]
        }
    ]
}               
            </code></pre>
            <p>다음 각 예 쿼리는 현재 외부 테이블을 나열합니다.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
SELECT * FROM svv_external_tables
WHERE tablename = 'example_tbl0' OR
tablename = 'example_tbl1';               
            </code></pre>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
SELECT * FROM svv_external_columns
WHERE tablename = 'example_tbl0' OR
tablename = 'example_tbl1';               
            </code></pre>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
SELECT parameters FROM svv_external_tables
WHERE tablename = 'example_tbl0' OR
tablename = 'example_tbl1';               
            </code></pre>
            <p>다음 IAM 정책은 현재 외부 테이블을 나열하는 데 필요한 최소 권한을 부여합니다.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
<span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "glue:GetTables"
            ],
            "Resource": [
                "arn:aws:glue:us-west-2:redshift-account:catalog",
                "arn:aws:glue:us-west-2:redshift-account:database/example_db",
                "arn:aws:glue:us-west-2:redshift-account:table/example_db/example_tbl0",
                "arn:aws:glue:us-west-2:redshift-account:table/example_db/example_tbl1"

            ]
        }
    ]
}    
            
            </code></pre>
            <p>다음 예 쿼리는 기존 테이블을 변경합니다.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
ALTER TABLE example_db.example_tbl0
SET TABLE PROPERTIES ('numRows' = '100');               
            </code></pre>
            <p>다음 IAM 정책은 기존 테이블 변경에 필요한 최소 권한을 부여합니다.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
<span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "glue:GetTable",
                "glue:UpdateTable"
            ],
            "Resource": [
                "arn:aws:glue:us-west-2:redshift-account:catalog",
                "arn:aws:glue:us-west-2:redshift-account:database/example_db",
                "arn:aws:glue:us-west-2:redshift-account:table/example_db/example_tbl0"

            ]
        }
    ]
}       
</code></pre>
            <p>다음 예 쿼리는 기존 테이블을 삭제합니다.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
DROP TABLE example_db.example_tbl0;                       
            </code></pre>
            <p>다음 IAM 정책은 기존 테이블 삭제에 필요한 최소 권한을 부여합니다.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
<span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "glue:DeleteTable"
            ],
            "Resource": [
                "arn:aws:glue:us-west-2:redshift-account:catalog",
                "arn:aws:glue:us-west-2:redshift-account:database/example_db",
                "arn:aws:glue:us-west-2:redshift-account:table/example_db/example_tbl0"
            ]
        }
    ]
}           
            </code></pre>


          

          
            <h3 id="c-spectrum-glue-acess-partitions">파티션 작업에 대한 정책</h3>
            <p>사용자에게 파티션 수준 작업(보기, 생성, 삭제, 변경 등)을 수행할 수 있는 권한을 부여하려면 파티션이 속한 테이블과 데이터베이스 및 데이터 카탈로그에 대한 사용 권한이 필요합니다. 또한 관련 데이터베이스 및 AWS Glue 데이터 카탈로그에 대한 권한도 필요합니다.</p>
            <p>다음 예 쿼리는 파티션을 생성합니다.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
ALTER TABLE example_db.example_tbl0
ADD PARTITION (part=0) LOCATION 's3://test/s3/location/part=0/';
ALTER TABLE example_db.example_t
ADD PARTITION (part=1) LOCATION 's3://test/s3/location/part=1/';               
            </code></pre>
            <p>다음 IAM 정책은 파티션 생성에 필요한 최소 권한을 부여합니다.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
 <span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "glue:GetTable",
                "glue:BatchCreatePartition"
            ],
            "Resource": [
                "arn:aws:glue:us-west-2:redshift-account:catalog",
                "arn:aws:glue:us-west-2:redshift-account:database/example_db",
                "arn:aws:glue:us-west-2:redshift-account:table/example_db/example_tbl0"
            ]
        }
    ]
}              
            </code></pre>

            <p>다음 예 쿼리는 현재 파티션을 나열합니다.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">

SELECT * FROM svv_external_partitions
WHERE schemname = 'example_db' AND
tablename = 'example_tbl0'               
            </code></pre>

            <p>다음 IAM 정책은 현재 파티션을 나열하는 데 필요한 최소 권한을 부여합니다.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">

<span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "glue:GetPartitions",
                "glue:GetTables",
                "glue:GetTable"
            ],
            "Resource": [
                "arn:aws:glue:us-west-2:redshift-account:catalog",
                "arn:aws:glue:us-west-2:redshift-account:database/example_db",
                "arn:aws:glue:us-west-2:redshift-account:table/example_db/example_tbl0"
            ]
        }
    ]
}               
            </code></pre>

            <p>다음 예 쿼리는 기존 파티션을 변경합니다.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
ALTER TABLE example_db.example_tbl0 PARTITION(part='0')
SET LOCATION 's3://test/s3/new/location/part=0/';               
            </code></pre>
            <p>다음 IAM 정책은 기존 파티션 변경에 필요한 최소 권한을 부여합니다.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">

<span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "glue:GetPartition",
                "glue:UpdatePartition"
            ],
            "Resource": [
                "arn:aws:glue:us-west-2:redshift-account:catalog",
                "arn:aws:glue:us-west-2:redshift-account:database/example_db",
                "arn:aws:glue:us-west-2:redshift-account:table/example_db/example_tbl0"
            ]
        }
    ]
}               
            </code></pre>

            <p>다음 예 쿼리는 기존 파티션을 삭제합니다.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
ALTER TABLE example_db.example_tbl0 DROP PARTITION(part='0');               
            </code></pre>
            <p>다음 IAM 정책은 기존 파티션 삭제에 필요한 최소 권한을 부여합니다.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">

<span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "glue:DeletePartition"
            ],
            "Resource": [
                "arn:aws:glue:us-west-2:redshift-account:catalog",
                "arn:aws:glue:us-west-2:redshift-account:database/example_db",
                "arn:aws:glue:us-west-2:redshift-account:table/example_db/example_tbl0"
            ]
        }
    ]
}               
            </code></pre>
          

      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="주의" /> <strong>javascript가 브라우저에서 비활성화되거나 사용이 불가합니다.</strong></p><p>AWS 설명서를 사용하려면 Javascript가 활성화되어야 합니다. 지침을 보려면 브라우저의 도움말 페이지를 참조하십시오.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">문서 규칙</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./c-getting-started-using-spectrum-query-s3-data-cfn.html">CloudFormation 스택을 시작한 다음 데이터를 쿼리합니다.</div><div id="next" class="next-link" accesskey="n" href="./spectrum-lake-formation.html">Lake Formation과 함께 Redshift Spectrum 사용</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">이 페이지의 내용이 도움이 되었습니까? - 예</div><div class="content"><p>칭찬해 주셔서 감사합니다!</p><p>잠깐 시간을 내어 좋았던 부분을 알려 주시면 더 열심히 만들어 보겠습니다.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="feedback-tell-us" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/c-spectrum-iam-policies.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">이 페이지의 내용이 도움이 되었습니까? - 아니요</div><div class="content"><p>이 페이지에 작업이 필요하다는 점을 알려 주셔서 감사합니다. 실망시켜 드려 죄송합니다.</p><p>잠깐 시간을 내어 설명서를 향상시킬 수 있는 방법에 대해 말씀해 주십시오.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="feedback-tell-us" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/c-spectrum-iam-policies.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>