<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Querying the catalog tables - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="c_join_PG" /><meta name="default_state" content="c_join_PG" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/redshift/latest/dg/c_join_PG.html" /><meta name="description" content="Query the catalog tables to join catalog tables and views using Amazon Redshift." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Database Developer Guide" /><meta name="abstract" content="Create and manage a data warehouse with Amazon Redshift, an enterprise-level, petabyte scale, fully managed data warehousing service." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/redshift/latest/dg/c_join_PG.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/c_join_PG.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/c_join_PG.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/c_join_PG.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/c_join_PG.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/c_join_PG.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/c_join_PG.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/c_join_PG.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/c_join_PG.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c_join_PG.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c_join_PG.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/c_join_PG.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/c_join_PG.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/c_join_PG.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/c_join_PG.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/c_join_PG.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/c_join_PG.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c_join_PG.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c_join_PG.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/c_join_PG.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/c_join_PG.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/c_join_PG.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Database Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Database Developer Guide" /><meta id="panorama-serviceConsolePage" value="Querying the catalog tables" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Querying the catalog tables - Amazon Redshift</title><meta name="pdf" content="/pdfs/redshift/latest/dg/redshift-dg.pdf#c_join_PG" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/c_join_PG.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/c_join_PG.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/c_join_PG.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,developer,sample data,database,database developer,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Database Developer Guide",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "System tables and views reference",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/cm_chap_system-tables.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "System catalog tables",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/c_intro_catalog_views.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Querying the catalog tables",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/c_intro_catalog_views.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/redshift/latest/dg/redshift-dg.pdf#c_join_PG" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Database Developer Guide</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="c_join_PG">Querying the catalog tables</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><div class="highlights"><h6>Topics</h6><ul><li><a href="./c_join_PG_examples.html">Examples of catalog queries</a></li></ul></div><p>In general, you can join catalog tables and views (relations whose names begin with
                <code class="userinput">PG_</code>) to Amazon Redshift tables and views. </p><p>The catalog tables use a number of data types that Amazon Redshift does not support. The
            following data types are supported when queries join catalog tables to Amazon Redshift tables: </p><div class="itemizedlist">
             
             
             
             
             
             
             
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>bool</p>
            </li><li class="listitem">
                <p>"char"</p>
            </li><li class="listitem">
                <p>float4</p>
            </li><li class="listitem">
                <p>int2</p>
            </li><li class="listitem">
                <p>int4</p>
            </li><li class="listitem">
                <p>int8</p>
            </li><li class="listitem">
                <p>name</p>
            </li><li class="listitem">
                <p>oid</p>
            </li><li class="listitem">
                <p>text</p>
            </li><li class="listitem">
                <p>varchar</p>
            </li></ul></div><p>If you write a join query that explicitly or implicitly references a column that has
            an unsupported data type, the query returns an error. The SQL functions that are used in
            some of the catalog tables are also unsupported, except for those used by the
            PG_SETTINGS and PG_LOCKS tables.</p><p>For example, the PG_STATS table cannot be queried in a join with an Amazon Redshift table
            because of unsupported functions.</p><p>The following catalog tables and views provide useful information that can be joined
            to information in Amazon Redshift tables. Some of these tables allow only partial access
            because of data type and function restrictions. When you query the partially accessible
            tables, select or reference their columns carefully.</p><p>The following tables are completely accessible and contain no unsupported types or
            functions: </p><div class="itemizedlist">
             
             
             
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>
                    <a href="https://www.postgresql.org/docs/8.0/static/catalog-pg-attribute.html" rel="noopener noreferrer" target="_blank"><span>pg_attribute</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>
                </p>
            </li><li class="listitem">
                <p>
                    <a href="https://www.postgresql.org/docs/8.0/static/catalog-pg-cast.html" rel="noopener noreferrer" target="_blank"><span>pg_cast </span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>
                </p>
            </li><li class="listitem">
                <p>
                    <a href="https://www.postgresql.org/docs/8.0/static/catalog-pg-depend.html" rel="noopener noreferrer" target="_blank"><span>pg_depend</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>
                </p>
            </li><li class="listitem">
                <p>
                    <a href="https://www.postgresql.org/docs/8.0/static/catalog-pg-description.html" rel="noopener noreferrer" target="_blank"><span>pg_description </span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>
                </p>
            </li><li class="listitem">
                <p>
                    <a href="https://www.postgresql.org/docs/8.0/static/view-pg-locks.html" rel="noopener noreferrer" target="_blank"><span>pg_locks </span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>
                </p>
            </li><li class="listitem">
                <p>
                    <a href="https://www.postgresql.org/docs/8.0/static/catalog-pg-opclass.html" rel="noopener noreferrer" target="_blank"><span>pg_opclass </span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>
                </p>
            </li></ul></div><p>The following tables are partially accessible and contain some unsupported types,
            functions, and truncated text columns. Values in text columns are truncated to
            varchar(256) values. </p><div class="itemizedlist">
             
             
             
             
             
             
             
             
             
             
             
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>
                    <a href="https://www.postgresql.org/docs/8.0/static/catalog-pg-class.html" rel="noopener noreferrer" target="_blank"><span>pg_class</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>
                </p>
            </li><li class="listitem">
                <p>
                    <a href="https://www.postgresql.org/docs/8.0/static/catalog-pg-constraint.html" rel="noopener noreferrer" target="_blank"><span>pg_constraint</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>
                </p>
            </li><li class="listitem">
                <p>
                    <a href="https://www.postgresql.org/docs/8.0/static/catalog-pg-database.html" rel="noopener noreferrer" target="_blank"><span>pg_database</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>
                </p>
            </li><li class="listitem">
                <p>
                    <a href="https://www.postgresql.org/docs/8.0/static/catalog-pg-group.html" rel="noopener noreferrer" target="_blank"><span>pg_group</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>
                </p>
            </li><li class="listitem">
                <p>
                    <a href="https://www.postgresql.org/docs/8.0/static/catalog-pg-language.html" rel="noopener noreferrer" target="_blank"><span>pg_language </span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>
                </p>
            </li><li class="listitem">
                <p>
                    <a href="https://www.postgresql.org/docs/8.0/static/catalog-pg-namespace.html" rel="noopener noreferrer" target="_blank"><span>pg_namespace</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>
                </p>
            </li><li class="listitem">
                <p>
                    <a href="https://www.postgresql.org/docs/8.0/static/catalog-pg-operator.html" rel="noopener noreferrer" target="_blank"><span>pg_operator</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>
                </p>
            </li><li class="listitem">
                <p>
                    <a href="https://www.postgresql.org/docs/8.0/static/catalog-pg-proc.html" rel="noopener noreferrer" target="_blank"><span>pg_proc</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>
                </p>
            </li><li class="listitem">
                <p>
                    <a href="https://www.postgresql.org/docs/8.0/static/view-pg-settings.html" rel="noopener noreferrer" target="_blank"><span>pg_settings</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>
                </p>
            </li><li class="listitem">
                <p>
                    <a href="https://www.postgresql.org/docs/8.0/static/catalog-pg-statistic.html" rel="noopener noreferrer" target="_blank"><span>pg_statistic</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>
                </p>
            </li><li class="listitem">
                <p>
                    <a href="https://www.postgresql.org/docs/8.0/static/view-pg-tables.html" rel="noopener noreferrer" target="_blank"><span>pg_tables</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>
                </p>
            </li><li class="listitem">
                <p>
                    <a href="https://www.postgresql.org/docs/8.0/static/catalog-pg-type.html" rel="noopener noreferrer" target="_blank"><span>pg_type </span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>
                </p>
            </li><li class="listitem">
                <p>
                    <a href="https://www.postgresql.org/docs/8.0/static/view-pg-user.html" rel="noopener noreferrer" target="_blank"><span>pg_user</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>
                </p>
            </li><li class="listitem">
                <p>
                    <a href="https://www.postgresql.org/docs/8.0/static/view-pg-views.html" rel="noopener noreferrer" target="_blank"><span>pg_views</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>
                </p>
            </li></ul></div><p>The catalog tables that are not listed here are either inaccessible or unlikely to be
            useful to Amazon Redshift administrators. However, you can query any catalog table or view
            openly if your query does not involve a join to an Amazon Redshift table.</p><p>You can use the OID columns in the Postgres catalog tables as joining columns. For
            example, the join condition <code class="code">pg_database.oid = stv_tbl_perm.db_id</code> matches
            the internal database object ID for each PG_DATABASE row with the visible DB_ID column
            in the STV_TBL_PERM table. The OID columns are internal primary keys that are not
            visible when you select from the table. The catalog views do not have OID
            columns.</p><p>Some Amazon Redshift functions must run only on the compute nodes. If a query references
            a user-created table, the SQL runs on the compute nodes.</p><p>A query that references only catalog tables (tables with a PG prefix, such as
            PG_TABLE_DEF) or that does not reference any tables, runs exclusively on the leader
            node.</p><p>If a query that uses a compute-node function doesn't reference a user-defined table or
            Amazon Redshift system table returns the following error.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">[Amazon](500310) Invalid operation: One or more of the used functions must be applied on at least one user created table.</code></pre><p>The following Amazon Redshift functions are compute-node only functions:</p><p>System information functions</p><div class="itemizedlist">
             
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>LISTAGG</p>
            </li><li class="listitem">
                <p>MEDIAN</p>
            </li><li class="listitem">
                <p>PERCENTILE_CONT</p>
            </li><li class="listitem">
                <p>PERCENTILE_DISC and APPROXIMATE PERCENTILE_DISC</p>
            </li></ul></div><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./pg_user_info.html">PG_USER_INFO</div><div id="next" class="next-link" accesskey="n" href="./c_join_PG_examples.html">Examples of catalog queries</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/c_join_PG.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/c_join_PG.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>