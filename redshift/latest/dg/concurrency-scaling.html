<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Working with concurrency scaling - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="concurrency-scaling" /><meta name="default_state" content="concurrency-scaling" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/redshift/latest/dg/concurrency-scaling.html" /><meta name="description" content="With the Concurrency Scaling feature, you can support thousands of concurrent users and concurrent queries, with consistently fast query performance. When you turn on concurrency scaling, Amazon Redshift automatically adds additional cluster capacity to process an increase in both read and write queries. Users see the most current data, whether the queries run on the main cluster or a concurrency-scaling cluster." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Database Developer Guide" /><meta name="abstract" content="Create and manage a data warehouse with Amazon Redshift, an enterprise-level, petabyte scale, fully managed data warehousing service." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/redshift/latest/dg/concurrency-scaling.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/concurrency-scaling.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/concurrency-scaling.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/concurrency-scaling.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/concurrency-scaling.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/concurrency-scaling.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/concurrency-scaling.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/concurrency-scaling.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/concurrency-scaling.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/concurrency-scaling.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/concurrency-scaling.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/concurrency-scaling.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/concurrency-scaling.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/concurrency-scaling.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/concurrency-scaling.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/concurrency-scaling.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/concurrency-scaling.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/concurrency-scaling.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/concurrency-scaling.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/concurrency-scaling.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/concurrency-scaling.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/concurrency-scaling.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Database Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Database Developer Guide" /><meta id="panorama-serviceConsolePage" value="Working with concurrency scaling" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Working with concurrency scaling - Amazon Redshift</title><meta name="pdf" content="/pdfs/redshift/latest/dg/redshift-dg.pdf#concurrency-scaling" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/concurrency-scaling.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/concurrency-scaling.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/concurrency-scaling.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,developer,sample data,database,database developer,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Database Developer Guide",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Implementing workload management",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/cm-c-implementing-workload-management.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Working with concurrency scaling",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/cm-c-implementing-workload-management.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/redshift/latest/dg/redshift-dg.pdf#concurrency-scaling" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Database Developer Guide</a></div><div id="page-toc-src"><a href="#concurrency-scaling-capabilities">Concurrency scaling
               capabilities</a><a href="#concurrency-scaling-limitations">Limitations for concurrency scaling</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="concurrency-scaling">Working with concurrency scaling</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>With the Concurrency Scaling feature, you can support thousands of concurrent
         users and concurrent queries, with consistently fast query performance. When you turn on concurrency scaling, Amazon Redshift 
         automatically adds additional cluster
         capacity to process an increase in both read and write queries. Users see the most
         current data, whether the queries run on the main cluster or a concurrency-scaling cluster.</p><p>You can manage which queries are sent to the concurrency-scaling cluster by configuring WLM
         queues. When you turn on concurrency scaling, eligible queries are sent to the
         concurrency-scaling cluster instead of waiting in a queue.</p><p>You're charged for concurrency-scaling clusters only for the time they're
         actively running queries. For more information about pricing, including how charges accrue and minimum charges, see <a href="https://aws.amazon.com/redshift/pricing/#Concurrency_Scaling_pricing" rel="noopener noreferrer" target="_blank"><span>Concurrency Scaling pricing</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
         <h2 id="concurrency-scaling-capabilities">Concurrency scaling capabilities</h2>
         <p>When you turn on concurrency scaling for a WLM queue, it works for read operations,
            such as dashboard queries. It also works for commonly used write operations, such as
            statements for data ingestion and processing.</p>
        
            <h3 id="concurrency-scaling-capabilities-write-operations">Concurrency scaling capabilities for write operations</h3>
            <p>Concurrency scaling supports frequently used write operations, such as extract, transform, and load (ETL) statements. Concurrency scaling for write operations is 
               especially useful when you want to maintain consistent response times when your cluster receives a large number of requests. It improves 
               throughput for write operations contending for resources on the main cluster.</p>
          
          <p>Concurrency scaling supports COPY, INSERT, DELETE, UPDATE, and CREATE TABLE AS (CTAS) statements. Additionally, concurrency scaling supports materialized-view 
             refresh for MVs that do not use aggregations. Other data-manipulation language (DML) statements and data-definition language (DDL) statements aren't 
             supported. When non-supported write statements, such as CREATE without TABLE AS, are included in an explicit transaction before the supported write 
             statements, none of the write statements will run on concurrency-scaling clusters.
          </p>

            <p>When you accrue credit for concurrency scaling, this credit accrual applies to
               both read and write operations.</p>
             
       
         <h2 id="concurrency-scaling-limitations">Limitations for concurrency scaling</h2>
         <p> The following are limitations for using Amazon Redshift concurrency scaling: </p>
         <div class="itemizedlist">
             
             
             
             
             
            
   
            
          
             
              
             
             
             
             
            
   
            
         <ul class="itemizedlist"><li class="listitem">
               <p>It doesn't support queries on tables that use interleaved sort keys.</p>
            </li><li class="listitem">
               <p>It doesn't support queries on temporary tables.</p>
            </li><li class="listitem">
               <p>It doesn't support queries that access external resources that are
                  protected by restrictive network or virtual private cloud (VPC)
                  configurations.</p>
            </li><li class="listitem">
               <p>It doesn't support queries that contain Python user-defined functions
                  (UDFs) and Lambda UDFs.</p>
            </li><li class="listitem">
               <p>It doesn't support queries that access system tables, PostgreSQL catalog
                  tables, or no-backup tables.</p>
            </li><li class="listitem">
               <p>It doesn’t support COPY or UNLOAD queries that access an external resource when restrictive IAM policy permissions are in place. This includes permissions applied either to the 
                  resource, like an Amazon S3 bucket or DynamoDB table, or to the source. IAM sources can include the following:</p>
           <div class="itemizedlist">
               
               
               
           <ul class="itemizedlist"><li class="listitem"><p><code class="code">aws:sourceVpc</code> – A source VPC.</p></li><li class="listitem"><p><code class="code">aws:sourceVpce</code> – A source VPC endpoint.</p></li><li class="listitem"><p><code class="code">aws:sourceIp</code> – A source IP address.</p></li></ul></div>
           <p>In some cases, you might need to remove permissions that restrict either the resource or the source, so that COPY and UNLOAD queries 
              accessing the resource are sent to the concurrency-scaling cluster.</p>
           <p>
              For more information about resource policies, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html#access_policy-types">Policy types</a> in the AWS Identity and Access Management user guide 
              and <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/example-bucket-policies-vpc-endpoint.html">Controlling access from VPC endpoints with bucket policies</a>.</p>
            </li><li class="listitem">
               <p>Amazon Redshift concurrency scaling for write operations is not supported for DDL operations, such as CREATE TABLE or ALTER TABLE.</p>
            </li><li class="listitem">
               <p>It doesn't support ANALYZE for the COPY command.</p>
            </li><li class="listitem">
               <p>It doesn't support write operations on a target table where DISTSTYLE is set to ALL.</p>
            </li><li class="listitem">
               <p>It doesn't support COPY from the following file formats:</p>
                  <div class="itemizedlist">
                      
                      
                  <ul class="itemizedlist"><li class="listitem"><p>Parquet</p></li><li class="listitem"><p>ORC</p></li></ul></div>
            </li><li class="listitem">
               <p>It doesn't support write operations on tables with identity columns.</p>
            </li><li class="listitem">
               <p>Amazon Redshift supports concurrency scaling for write operations on only Amazon Redshift RA3 nodes,
                  specifically ra3.16xlarge, ra3.4xlarge, and ra3.xlplus. Concurrency scaling for
                  write operations isn't supported on other node types.</p>
            </li></ul></div> 
         
      <p>For more information about concurrency scaling, see the following topics in the
            <em>Amazon Redshift Management Guide</em>.</p><div class="itemizedlist">
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p><a href="https://docs.aws.amazon.com/redshift/latest/mgmt/performance-metrics-concurrency-scaling.html">Viewing Concurrency Scaling Data</a> </p>
            </li><li class="listitem">
               <p><a href="https://docs.aws.amazon.com/redshift/latest/mgmt/performance-metrics-query-cluster.html">Viewing Cluster Performance During Query Execution</a> </p>
            </li><li class="listitem">
               <p><a href="https://docs.aws.amazon.com/redshift/latest/mgmt/performance-metrics-query-execution-details.html">Viewing Query Details</a> </p>
            </li></ul></div><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./tutorial-wlm-cleaning-up-resources.html">Section 5: Cleaning up your
                resources</div><div id="next" class="next-link" accesskey="n" href="./concurrency-scaling-regions.html">Regions for concurrency
               scaling</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/concurrency-scaling.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/concurrency-scaling.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>