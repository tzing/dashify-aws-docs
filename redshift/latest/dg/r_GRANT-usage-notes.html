<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Usage notes - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_GRANT-usage-notes" /><meta name="default_state" content="r_GRANT-usage-notes" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/redshift/latest/dg/r_GRANT-usage-notes.html" /><meta name="description" content="Guidelines for using the GRANT SQL command." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Database Developer Guide" /><meta name="abstract" content="Create and manage a data warehouse with Amazon Redshift, an enterprise-level, petabyte scale, fully managed data warehousing service." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/redshift/latest/dg/r_GRANT-usage-notes.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_GRANT-usage-notes.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_GRANT-usage-notes.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_GRANT-usage-notes.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_GRANT-usage-notes.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_GRANT-usage-notes.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_GRANT-usage-notes.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_GRANT-usage-notes.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_GRANT-usage-notes.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_GRANT-usage-notes.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_GRANT-usage-notes.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_GRANT-usage-notes.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_GRANT-usage-notes.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_GRANT-usage-notes.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_GRANT-usage-notes.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_GRANT-usage-notes.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_GRANT-usage-notes.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_GRANT-usage-notes.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_GRANT-usage-notes.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_GRANT-usage-notes.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_GRANT-usage-notes.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_GRANT-usage-notes.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Database Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Database Developer Guide" /><meta id="panorama-serviceConsolePage" value="Usage notes" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Usage notes - Amazon Redshift</title><meta name="pdf" content="/pdfs/redshift/latest/dg/redshift-dg.pdf#r_GRANT-usage-notes" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/r_GRANT-usage-notes.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/r_GRANT-usage-notes.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/r_GRANT-usage-notes.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,developer,sample data,database,database developer,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Database Developer Guide",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "SQL reference",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "SQL commands",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "GRANT",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/r_GRANT.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Usage notes",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/r_GRANT.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/redshift/latest/dg/redshift-dg.pdf#r_GRANT-usage-notes" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Database Developer Guide</a></div><div id="page-toc-src"><a href="#r_GRANT-usage-notes-clp">Usage notes for column-level access control</a><a href="#r_GRANT-usage-notes-assumerole">Usage notes for granting the ASSUMEROLE permission</a><a href="#r_GRANT-usage-notes-create-model">Usage notes for granting machine learning permissions</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="r_GRANT-usage-notes">Usage notes</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>To grant privileges on an object, you must meet one of the following criteria:</p><div class="itemizedlist">
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>Be the object owner.</p>
            </li><li class="listitem">
               <p>Be a superuser.</p>
            </li><li class="listitem">
               <p>Have a grant privilege for that object and privilege.</p>
            </li></ul></div><p>For example, the following command enables the user HR both to perform SELECT
            commands on the employees table and to grant and revoke the same privilege for other
            users.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">grant select on table employees to HR with grant option;</code></pre><p>HR can't grant privileges for any operation other than SELECT, or on any other table
            than employees. </p><p>As another example, the following command enables the user HR both to perform ALTER
            commands on the employees table and to grant and revoke the same privilege for other
            users.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">grant ALTER on table employees to HR with grant option;</code></pre><p>HR can't grant privileges for any operation other than ALTER, or on any other
            table than employees. </p><p>Having privileges granted on a view doesn't imply having privileges on the
            underlying tables. Similarly, having privileges granted on a schema doesn't imply
            having privileges on the tables in the schema. Instead, grant access to the underlying
            tables explicitly.</p><p>To grant privileges to an AWS Lake Formation table, the IAM role associated with the
            table's external schema must have permission to grant privileges to the external
            table. The following example creates an external schema with an associated IAM role
               <code class="code">myGrantor</code>. The IAM role <code class="code">myGrantor</code> has the permission to
            grant permissions to others. The GRANT command uses the permission of the IAM role
               <code class="code">myGrantor</code> that is associated with the external schema to grant
            permission to the IAM role <code class="code">myGrantee</code>.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="SQL ">create external schema mySchema
from data catalog
database 'spectrum_db'
iam_role 'arn:aws:iam::123456789012:role/myGrantor'
create external database if not exists;
</code></pre><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="SQL ">grant select
on external table mySchema.mytable
to iam_role 'arn:aws:iam::123456789012:role/myGrantee';
</code></pre><p>If you GRANT ALL privileges to an IAM role, individual privileges are granted in the
            related Lake Formation–enabled Data Catalog. For example, the following GRANT ALL results in the
            granted individual privileges (SELECT, ALTER, DROP, DELETE, and INSERT) showing in the
            Lake Formation console.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="SQL ">grant all
on external table mySchema.mytable
to iam_role 'arn:aws:iam::123456789012:role/myGrantee';
</code></pre><p>Superusers can access all objects regardless of GRANT and REVOKE commands that set
            object privileges.</p>
            <h2 id="r_GRANT-usage-notes-clp">Usage notes for column-level access
                  control</h2>
            <p>The following usage notes apply to column-level privileges on Amazon Redshift tables and views.
               These notes describe tables; the same notes apply to views unless we explicitly note an
               exception. </p>
            <div class="itemizedlist">
                
             

             
             
             
             
             
             
            
             
             
            <ul class="itemizedlist"><li class="listitem"><p>For an Amazon Redshift table, you can grant only the SELECT and UPDATE privileges at the column
               level. For an Amazon Redshift view, you can grant only the SELECT privilege at the column level. </p></li><li class="listitem"><p>The ALL keyword is a synonym for SELECT and UPDATE privileges combined when used in
               the context of a column-level GRANT on a table. </p></li><li class="listitem"><p>If you don't have the SELECT privilege on all columns in a table, 
               performing a SELECT * operation returns only those columns that you have access to.</p></li><li class="listitem"><p>SELECT * doesn't expand to only accessible columns in the following
                     cases:</p>
            <div class="itemizedlist">
                
                   
            <ul class="itemizedlist"><li class="listitem"><p>You can't create a regular view with only accessible columns using SELECT *.</p></li><li class="listitem"><p>You can't create a materialized view with only accessible columns using SELECT *.</p></li></ul></div></li><li class="listitem"><p>If you have SELECT or UPDATE privilege on a table or view and add a column, you still
               have the same privileges on the table or view and thus all its columns. </p></li><li class="listitem"><p>Only a table's owner or a superuser can grant column-level privileges. </p></li><li class="listitem"><p>The WITH GRANT OPTION clause isn't supported for column-level privileges.</p></li><li class="listitem"><p>You can't hold the same privilege at both the table level and the column level.
               For example, the user <code class="code">data_scientist</code> can't have both SELECT privilege
               on the table <code class="code">employee</code> and SELECT privilege on the column
               <code class="code">employee.department</code>. Consider the following results when granting the
               same privilege to a table and a column within the table:</p>
            <div class="itemizedlist">
                
                
                
                
            <ul class="itemizedlist"><li class="listitem">
                  <p>If a user has a table-level privilege on a table, then granting the same
                     privilege at the column level has no effect. </p>
               </li><li class="listitem">
                  <p>If a user has a table-level privilege on a table, then revoking the same
                     privilege for one or more columns of the table returns an error. Instead, revoke
                     the privilege at the table level. </p>
               </li><li class="listitem">
                  <p>If a user has a column-level privilege, then granting the same privilege at the
                     table level returns an error. </p>
               </li><li class="listitem">
                  <p>If a user has a column-level privilege, then revoking the same privilege at the
                     table level revokes both column and table privileges for all columns on the table.
                  </p>
               </li></ul></div></li><li class="listitem"><p>You can't grant column-level privileges on late-binding views.</p></li><li class="listitem"><p>To create a materialized view, you must have table-level SELECT privilege on the
               base tables. Even if you have column-level privileges on specific columns, you
               can't create a materialized view on only those columns. However, you can grant
               SELECT privilege to columns of a materialized view, similar to regular views. </p></li><li class="listitem"><p>To look up grants of column-level privileges, use the <a href="./r_PG_ATTRIBUTE_INFO.html">PG_ATTRIBUTE_INFO</a> view. </p></li></ul></div>
          
            <h2 id="r_GRANT-usage-notes-assumerole">Usage notes for granting the ASSUMEROLE permission</h2>
            <p>The following usage notes apply to granting the ASSUMEROLE permission in Amazon Redshift.
            </p>
            <p>You use the ASSUMEROLE permission to control IAM role access permissions for database users, roles, or groups on commands such as COPY, UNLOAD, EXTERNAL FUNCTION, or CREATE MODEL. After
               you grant the ASSUMEROLE permission to a user, role, or group for an IAM role, the user, role, or
               group can assume that role when running the command. The ASSUMEROLE permission enables you to grant
               access to the appropriate commands as required.</p>



               <p>Only a database superuser can grant or revoke the ASSUMEROLE permission for
               users, roles, and groups. A superuser always retains the ASSUMEROLE permission.</p>

            <p>To enable the use of the ASSUMEROLE permission for users, roles, and groups, a superuser performs the following two actions:</p>
            <div class="itemizedlist">
                
               
                
            <ul class="itemizedlist"><li class="listitem"><p>Run the following statement once on the cluster:</p>
                  
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="SQL ">revoke assumerole on all from public for all;</code></pre></li><li class="listitem"><p>Grant the ASSUMEROLE permission to users, roles, and groups for the appropriate commands.</p>
               </li></ul></div>

               <p>You can specify role chaining in the ON clause when granting the ASSUMEROLE
                  permission. You use commas to separate roles in a role chain, for example, <code class="code">Role1,Role2,Role3</code>. If role chaining was specified when granting the ASSUMEROLE permission, you must specify the role chain when performing operations granted by the
               ASSUMEROLE permission. You can't specify individual roles within the role chain when
               performing operations granted by the ASSUMEROLE permission. For example, if a user, role, or group is
               granted the role chain <code class="code">Role1,Role2,Role3</code>, you can't specify only
                  <code class="code">Role1</code> to perform operations.



               </p>
            <p>If a user attempts to perform a COPY, UNLOAD, EXTERNAL FUNCTION, or CREATE MODEL operation and hasn't been granted the ASSUMEROLE permission, a message similar to the following appears.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">ERROR:  User awsuser does not have ASSUMEROLE permission on IAM role "arn:aws:iam::123456789012:role/RoleA" for COPY </code></pre>
            <p>To list users that have been granted access to IAM roles and commands through the
               ASSUMEROLE permission, see <a href="./r_HAS_ASSUMEROLE_PRIVILEGE.html">HAS_ASSUMEROLE_PRIVILEGE</a>. To list IAM roles and command
               permissions that have been granted to a user that you specify, see <a href="./PG_GET_IAM_ROLE_BY_USER.html">PG_GET_IAM_ROLE_BY_USER</a>. To
               list users, roles, and groups that have been granted access to an IAM role that you specify,
               see <a href="./PG_GET_GRANTEE_BY_IAMROLE.html">PG_GET_GRANTEE_BY_IAM_ROLE</a>.</p>

          
            <h2 id="r_GRANT-usage-notes-create-model">Usage notes for granting machine learning permissions</h2>
            <p>You can't directly grant or revoke permissions related to an ML function. An ML function belongs to an ML model and permissions are controlled
               through the model. Instead, you can grant permissions related to the ML model. The following example demonstrates how to grant permisisons
               to all users to run the ML function associated with the model <code class="code">customer_churn</code>.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">GRANT EXECUTE ON MODEL customer_churn TO PUBLIC;</code></pre>
            
            <p>You can also grant all permissions to to a user for the ML model <code class="code">customer_churn</code>.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">GRANT ALL on MODEL customer_churn TO ml_user;</code></pre>
            
            <p>Granting the <code class="code">EXECUTE</code> permission related to an ML function will fail if there is an ML function in the schema, even if
               that ML function already has the <code class="code">EXECUTE</code> permission through <code class="code">GRANT EXECUTE ON MODEL</code>. We recommend using a separate schema
               when using the <code class="code">CREATE MODEL</code> command to keep the ML functions in a separate schema by themselves. The following example demonstrates how to do so.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE MODEL ml_schema.customer_churn
FROM customer_data
TARGET churn
FUNCTION ml_schema.customer_churn_prediction
IAM_ROLE default
SETTINGS (
 S3_BUCKET 'your-s3-bucket'
);</code></pre>
         <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_GRANT.html">GRANT</div><div id="next" class="next-link" accesskey="n" href="./r_GRANT-examples.html">Examples</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/r_GRANT-usage-notes.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/r_GRANT-usage-notes.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>