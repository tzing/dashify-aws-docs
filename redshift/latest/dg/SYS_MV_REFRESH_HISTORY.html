<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>SYS_MV_REFRESH_HISTORY - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="SYS_MV_REFRESH_HISTORY" /><meta name="default_state" content="SYS_MV_REFRESH_HISTORY" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/redshift/latest/dg/SYS_MV_REFRESH_HISTORY.html" /><meta name="description" content="The results include information about the refresh history of all materialized views. It includes the refresh type and the status of the most recent refresh." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Database Developer Guide" /><meta name="abstract" content="Create and manage a data warehouse with Amazon Redshift, an enterprise-level, petabyte scale, fully managed data warehousing service." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/redshift/latest/dg/SYS_MV_REFRESH_HISTORY.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/SYS_MV_REFRESH_HISTORY.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/SYS_MV_REFRESH_HISTORY.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/SYS_MV_REFRESH_HISTORY.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/SYS_MV_REFRESH_HISTORY.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/SYS_MV_REFRESH_HISTORY.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/SYS_MV_REFRESH_HISTORY.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/SYS_MV_REFRESH_HISTORY.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/SYS_MV_REFRESH_HISTORY.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/SYS_MV_REFRESH_HISTORY.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/SYS_MV_REFRESH_HISTORY.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/SYS_MV_REFRESH_HISTORY.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/SYS_MV_REFRESH_HISTORY.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/SYS_MV_REFRESH_HISTORY.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/SYS_MV_REFRESH_HISTORY.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/SYS_MV_REFRESH_HISTORY.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/SYS_MV_REFRESH_HISTORY.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/SYS_MV_REFRESH_HISTORY.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/SYS_MV_REFRESH_HISTORY.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/SYS_MV_REFRESH_HISTORY.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/SYS_MV_REFRESH_HISTORY.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/SYS_MV_REFRESH_HISTORY.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Database Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Database Developer Guide" /><meta id="panorama-serviceConsolePage" value="SYS_MV_REFRESH_HISTORY" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>SYS_MV_REFRESH_HISTORY - Amazon Redshift</title><meta name="pdf" content="/pdfs/redshift/latest/dg/redshift-dg.pdf#SYS_MV_REFRESH_HISTORY" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/SYS_MV_REFRESH_HISTORY.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/SYS_MV_REFRESH_HISTORY.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/SYS_MV_REFRESH_HISTORY.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,developer,sample data,database,database developer,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Database Developer Guide",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "System tables and views reference",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/cm_chap_system-tables.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "SYS monitoring views",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/serverless_views-monitoring.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "SYS_MV_REFRESH_HISTORY",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/serverless_views-monitoring.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/redshift/latest/dg/redshift-dg.pdf#SYS_MV_REFRESH_HISTORY" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Database Developer Guide</a></div><div id="page-toc-src"><a href="#SYS_MV_REFRESH_HISTORY-table-columns">Table columns</a><a href="#SYS_MV_REFRESH_HISTORY-sample-queries">Sample queries</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="SYS_MV_REFRESH_HISTORY">SYS_MV_REFRESH_HISTORY</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>The results include information about the refresh 
            history of all materialized views. The results include the refresh type, such as manual or auto, and the status of the 
            most recent refresh. </p><p>SYS_MV_REFRESH_HISTORY is visible to all users. Superusers can see all rows; regular users can see only their own data. For more information, see <a href="./cm_chap_system-tables.html#c_visibility-of-data">Visibility of data in system tables and
                views</a>.</p>
            <h2 id="SYS_MV_REFRESH_HISTORY-table-columns">Table columns</h2>
            
            
            <div class="table-container"><div class="table-contents"><table id="w323aac69c13c59b7b3"><thead>
                        <tr>
                            <th>Column name </th>
                            <th>Data type </th>
                            <th>Description </th>
                        </tr>
                    </thead>
                        <tr>
                            <td tabindex="-1">user_id</td>
                            <td tabindex="-1">integer</td>
                            <td tabindex="-1">The identifier of the user who submitted the refresh.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">session_id</td>
                            <td tabindex="-1">integer</td>
                            <td tabindex="-1">The process identifier for the process running the materialized 
                                view refresh.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">transaction_id</td>
                            <td tabindex="-1">bigint</td>
                            <td tabindex="-1">The transaction identifier.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">database_name</td>
                            <td tabindex="-1">char(128)</td>
                            <td tabindex="-1">The database that contains the materialized view.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">schema_name</td>
                            <td tabindex="-1">char(128)</td>
                            <td tabindex="-1">The schema of the materialized view.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">mv_id</td>
                            <td tabindex="-1">bigint</td>
                            <td tabindex="-1">Object ID of the materialized view.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">mv_name</td>
                            <td tabindex="-1">char(128)</td>
                            <td tabindex="-1">The materialized view name.</td>
                        </tr>
            
                        <tr>
                            <td tabindex="-1">refresh_type</td>
                            <td tabindex="-1">char(32)</td>
                            <td tabindex="-1">The type of refresh, such as manual or auto.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">status</td>
                            <td tabindex="-1">text</td>
                            <td tabindex="-1">The status of the refresh. For detailed information about statuses, 
                                see the status column for <a href="./r_SVL_MV_REFRESH_STATUS.html">SVL_MV_REFRESH_STATUS</a>.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">start_time</td>
                            <td tabindex="-1">timestamp</td>
                            <td tabindex="-1">The start time of the refresh.</td>
                        </tr> 
                        <tr>
                            <td tabindex="-1">end_time</td>
                            <td tabindex="-1">timestamp</td>
                            <td tabindex="-1">The end time of the refresh.</td>
                        </tr> 
                        
                        <tr>
                            <td tabindex="-1">duration</td>
                            <td tabindex="-1">bigint</td>
                            <td tabindex="-1">The amount of time in microseconds it took to refresh the materialized view.</td>
                        </tr> 
              
                  
               
                    </table></div></div>
         
            <h2 id="SYS_MV_REFRESH_HISTORY-sample-queries">Sample queries</h2>
            <p>The following query shows the refresh history for materialized views.</p>
            
          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">SELECT user_id, 
     session_id, 
     transaction_id, 
     database_name, 
     schema_name, 
     mv_id, 
     mv_name,
     refresh_type,
     status,
     start_time,
     end_time,
     duration
     from sys_mv_refresh_history;</code></pre>   
            <p>The query returns the following sample output:</p>   
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""> user_id | session_id | transaction_id | database_name | schema_name                | mv_id  |  mv_name           |  refresh_type  |  status                                         |  start_time                |  end_time                  |  duration
---------+------------+----------------+---------------+----------------------------+--------+--------------------+----------------+-------------------------------------------------+----------------------------+----------------------------+-----------
       1 | 1073815659 |          15066 | dev           | test_stl_mv_refresh_schema | 203762 | mv_incremental     | Manual         | MV was already updated                          | 2023-10-26 15:59:20.952179 | 2023-10-26 15:59:20.952866 |      687
       1 | 1073815659 |          15068 | dev           | test_stl_mv_refresh_schema | 203771 | mv_nonincremental  | Manual         | MV was already updated                          | 2023-10-26 15:59:21.008049 | 2023-10-26 15:59:21.008658 |      609
       1 | 1073815659 |          15070 | dev           | test_stl_mv_refresh_schema | 203779 | mv_refresh_error   | Manual         | MV was already updated                          | 2023-10-26 15:59:21.064252 | 2023-10-26 15:59:21.064885 |      633
       1 | 1073815659 |          15074 | dev           | test_stl_mv_refresh_schema | 203762 | mv_incremental     | Manual         | Refresh successfully updated MV incrementally   | 2023-10-26 15:59:29.693329 | 2023-10-26 15:59:43.482842 | 13789513
       1 | 1073815659 |          15076 | dev           | test_stl_mv_refresh_schema | 203771 | mv_nonincremental  | Manual         | Refresh successfully recomputed MV from scratch | 2023-10-26 15:59:43.550184 | 2023-10-26 15:59:47.880833 |  4330649
       1 | 1073815659 |          15078 | dev           | test_stl_mv_refresh_schema | 203779 | mv_refresh_error   | Manual         | Refresh failed due to an internal error         | 2023-10-26 15:59:47.949052 | 2023-10-26 15:59:52.494681 |  4545629
(6 rows)</code></pre>                       
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./SYS_LOAD_HISTORY.html">SYS_LOAD_HISTORY</div><div id="next" class="next-link" accesskey="n" href="./SYS_MV_STATE.html">SYS_MV_STATE</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/SYS_MV_REFRESH_HISTORY.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/SYS_MV_REFRESH_HISTORY.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>