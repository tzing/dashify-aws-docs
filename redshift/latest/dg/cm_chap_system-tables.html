<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>System tables and views reference - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="cm_chap_system-tables" /><meta name="default_state" content="cm_chap_system-tables" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/redshift/latest/dg/cm_chap_system-tables.html" /><meta name="description" content="Describes the details of the system tables and views." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Database Developer Guide" /><meta name="abstract" content="Create and manage a data warehouse with Amazon Redshift, an enterprise-level, petabyte scale, fully managed data warehousing service." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/redshift/latest/dg/cm_chap_system-tables.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/cm_chap_system-tables.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/cm_chap_system-tables.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/cm_chap_system-tables.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/cm_chap_system-tables.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/cm_chap_system-tables.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/cm_chap_system-tables.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/cm_chap_system-tables.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/cm_chap_system-tables.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/cm_chap_system-tables.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/cm_chap_system-tables.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/cm_chap_system-tables.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/cm_chap_system-tables.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/cm_chap_system-tables.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/cm_chap_system-tables.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/cm_chap_system-tables.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/cm_chap_system-tables.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm_chap_system-tables.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm_chap_system-tables.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/cm_chap_system-tables.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/cm_chap_system-tables.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/cm_chap_system-tables.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Database Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Database Developer Guide" /><meta id="panorama-serviceConsolePage" value="System tables and views reference" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>System tables and views reference - Amazon Redshift</title><meta name="pdf" content="/pdfs/redshift/latest/dg/redshift-dg.pdf#cm_chap_system-tables" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/cm_chap_system-tables.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/cm_chap_system-tables.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/cm_chap_system-tables.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,developer,sample data,database,database developer,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Database Developer Guide",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "System tables and views reference",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/cm_chap_system-tables.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/redshift/latest/dg/redshift-dg.pdf#cm_chap_system-tables" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Database Developer Guide</a></div><div id="page-toc-src"><a href="#c_intro_system_tables">System tables and views</a><a href="#c_types-of-system-tables-and-views">Types of system tables and views</a><a href="#c_visibility-of-data">Visibility of data in system tables and views</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="cm_chap_system-tables">System tables and views reference</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><div class="highlights"><h6>Topics</h6><ul><li><a href="#c_intro_system_tables">System tables and views</a></li><li><a href="#c_types-of-system-tables-and-views">Types of system tables and views </a></li><li><a href="#c_visibility-of-data">Visibility of data in system tables and
                views</a></li><li><a href="./svv_views.html">SVV metadata views</a></li><li><a href="./serverless_views-monitoring.html">SYS monitoring views</a></li><li><a href="./sys_view_migration.html">Migrating to SYS monitoring views</a></li><li><a href="./c_intro_system_views.html">System monitoring (provisioned only)</a></li><li><a href="./c_intro_catalog_views.html">System catalog tables</a></li></ul></div>
        <h2 id="c_intro_system_tables">System tables and views</h2>


        <p>Amazon Redshift has many system tables and views that contain information about how the
            system is functioning. You can query these system tables and views the same way that you
            would query any other database tables. This section shows some sample system table
            queries and explains: </p>
        <div class="itemizedlist">
             
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>How different types of system tables and views are generated</p>
            </li><li class="listitem">
                <p>What types of information you can obtain from these tables</p>
            </li><li class="listitem">
                <p>How to join Amazon Redshift system tables to catalog tables</p>
            </li><li class="listitem">
                <p>How to manage the growth of system table log files</p>
            </li></ul></div>
        <p>Some system tables can only be used by AWS staff for diagnostic purposes. The
            following sections discuss the system tables that can be queried for useful information
            by system administrators or other database users. </p>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>System tables are not included in automated or manual cluster backups (snapshots). STL 
                system views retain seven days of log history. Retaining logs doesn't require 
                any customer action, but if you want to store log data for more than 7 days, you have to periodically copy 
                it to other tables or unload it to Amazon S3.</p></div></div>
     
        <h2 id="c_types-of-system-tables-and-views">Types of system tables and views </h2>
        <p>There are several types of system tables and views: </p>
        <div class="itemizedlist">
             
             
             
             
             
             
        <ul class="itemizedlist"><li class="listitem"><p>SVV views contain information about database objects with references to transient STV tables.</p></li><li class="listitem"><p>SYS views are used to monitor query and workload usage for provisioned clusters and serverless workgroups.</p></li><li class="listitem"><p>STL views are generated from logs that have been persisted to disk to provide a
                history of the system.</p></li><li class="listitem"><p>STV tables are virtual system tables that contain snapshots of the current system data. 
                They are based on transient in-memory data and are not persisted to
                disk-based logs or regular tables.</p></li><li class="listitem"><p>SVCS views provide details about queries on both the main and concurrency scaling clusters.</p></li><li class="listitem"><p>SVL views provide details about queries on main clusters.</p></li></ul></div>
        
        <p>System tables and views do not use the same consistency model as regular tables. It is
            important to be aware of this issue when querying them, especially for STV tables and
            SVV views. For example, given a regular table t1 with a column c1, you would expect that
            the following query to return no rows:</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select * from t1
where c1 &gt; (select max(c1) from t1)</code></pre>
        <p>However, the following query against a system table might well return rows:</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select * from stv_exec_state
where currenttime &gt; (select max(currenttime) from stv_exec_state)</code></pre>
        <p> The reason this query might return rows is that currenttime is transient and the two
            references in the query might not return the same value when evaluated.</p>
        <p>On the other hand, the following query might well return no rows:</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select * from stv_exec_state
where currenttime = (select max(currenttime) from stv_exec_state)</code></pre>
     
        <h2 id="c_visibility-of-data">Visibility of data in system tables and
                views</h2>


        <p>There are two classes of visibility for data in system tables and views: visible to
            users and visible to superusers.</p>
        <p>Only users with superuser privileges can see the data in those tables that are in the
            superuser-visible category. Regular users can see data in the user-visible tables. To
            give a regular user access to superuser-visible tables, grant SELECT privilege on that table to the regular user. For 
            more information, see <a href="./r_GRANT.html">GRANT</a>.</p>
        <p>By default, in most user-visible tables, rows generated by another user are invisible
            to a regular user. If a regular user is given <a href="./r_ALTER_USER.html#alter-user-syslog-access">SYSLOG ACCESS UNRESTRICTED</a>, that user can see all rows
            in user-visible tables, including rows generated by another user. For more information,
            see <a href="./r_ALTER_USER.html">ALTER USER</a> or <a href="./r_CREATE_USER.html">CREATE USER</a>. 
            
            All rows in SVV_TRANSACTIONS are visible to all users. For more information about data visibility, see the AWS re:Post knowledge 
            base article <a href="https://repost.aws/knowledge-center/amazon-redshift-system-tables" rel="noopener noreferrer" target="_blank"><span>How can I allow Amazon Redshift database regular users permission to view data in system tables from other users for my cluster?</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
        <p>For metadata views, Amazon Redshift doesn't allow visibility to users that are granted SYSLOG ACCESS UNRESTRICTED.</p>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Giving a user unrestricted
            access to system tables gives the user visibility to data generated by other users. For
            example, STL_QUERY and STL_QUERY_TEXT contain the full text of INSERT, UPDATE, and
            DELETE statements, which might contain sensitive user-generated data. </p></div></div>
        <p>A superuser can see all rows in all tables. To give a regular user access to
            superuser-visible tables, <a href="./r_GRANT.html">GRANT</a> SELECT
            privilege on that table to the regular user.</p>
         
            <h3 id="sub-c_visibility-of-data-filtering">Filtering system-generated
                    queries</h3>
            <p>The query-related system tables and views, such as SVL_QUERY_SUMMARY, SVL_QLOG,
                and others, usually contain a large number of automatically generated statements
                that Amazon Redshift uses to monitor the status of the database. These system-generated
                queries are visible to a superuser, but are seldom useful. To filter them out when
                selecting from a system table or system view that uses the <code class="code">userid</code>
                column, add the condition <code class="code">userid &gt; 1</code> to the WHERE clause. For
                example:</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""> select * from svl_query_summary where userid &gt; 1</code></pre>
         
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_pg_keywords.html">Reserved words</div><div id="next" class="next-link" accesskey="n" href="./svv_views.html">SVV metadata views</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/cm_chap_system-tables.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/cm_chap_system-tables.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>