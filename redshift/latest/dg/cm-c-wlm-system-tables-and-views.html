<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>WLM system tables and views - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="cm-c-wlm-system-tables-and-views" /><meta name="default_state" content="cm-c-wlm-system-tables-and-views" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" /><meta name="description" content="View the status of Amazon Redshift queries, queues, and service classes by using WLM-specific system tables." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Database Developer Guide" /><meta name="abstract" content="Create and manage a data warehouse with Amazon Redshift, an enterprise-level, petabyte scale, fully managed data warehousing service." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Database Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Database Developer Guide" /><meta id="panorama-serviceConsolePage" value="WLM system tables and views" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>WLM system tables and views - Amazon Redshift</title><meta name="pdf" content="/pdfs/redshift/latest/dg/redshift-dg.pdf#cm-c-wlm-system-tables-and-views" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,developer,sample data,database,database developer,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Database Developer Guide",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Implementing workload management",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/cm-c-implementing-workload-management.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "WLM system tables and views",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/cm-c-implementing-workload-management.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/redshift/latest/dg/redshift-dg.pdf#cm-c-wlm-system-tables-and-views" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Database Developer Guide</a></div><div id="page-toc-src"><a href="#wlm-service-class-ids">WLM service class IDs</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="cm-c-wlm-system-tables-and-views">WLM system tables and views</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>WLM configures query queues according to WLM service classes, which are internally
         defined. Amazon Redshift creates several internal queues according to these service classes along
         with the queues defined in the WLM configuration. The terms <em>queue</em> and
            <em>service class</em> are often used interchangeably in the system tables.
         The superuser queue uses service class 5. User-defined queues use service class 6 and
         greater.</p><p>You can view the status of queries, queues, and service classes by using WLM-specific
         system tables. Query the following system tables to do the following:</p><div class="itemizedlist">
          
          
          
      <ul class="itemizedlist"><li class="listitem">
            <p>View which queries are being tracked and what resources are allocated by the
               workload manager.</p>
         </li><li class="listitem">
            <p>See which queue a query has been assigned to.</p>
         </li><li class="listitem">
            <p>View the status of a query that is currently being tracked by the workload
               manager.</p>
         </li></ul></div><div class="table-container"><div class="table-contents"><table id="w323aac62c79b9"><thead>
               <tr>
                  <th>Table Name </th>
                  <th>Description </th>
               </tr>
            </thead>
               <tr>
                  <td tabindex="-1">
                     <a href="./r_STL_WLM_ERROR.html">STL_WLM_ERROR</a>
                  </td>
                  <td tabindex="-1">Contains a log of WLM-related error events. </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <a href="./r_STL_WLM_QUERY.html">STL_WLM_QUERY</a>
                  </td>
                  <td tabindex="-1">Lists queries that are being tracked by WLM. </td>
               </tr>

               <tr>
                  <td tabindex="-1">
                     <a href="./r_STV_WLM_CLASSIFICATION_CONFIG.html">STV_WLM_CLASSIFICATION_CONFIG</a>
                  </td>
                  <td tabindex="-1">Shows the current classification rules for WLM. </td>
               </tr>

               <tr>
                  <td tabindex="-1">
                     <a href="./r_STV_WLM_QUERY_QUEUE_STATE.html">STV_WLM_QUERY_QUEUE_STATE</a>
                  </td>
                  <td tabindex="-1">Records the current state of the query queues. </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <a href="./r_STV_WLM_QUERY_STATE.html">STV_WLM_QUERY_STATE</a>
                  </td>
                  <td tabindex="-1">Provides a snapshot of the current state of queries that are
                     being tracked by WLM. </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <a href="./r_STV_WLM_QUERY_TASK_STATE.html">STV_WLM_QUERY_TASK_STATE</a>
                  </td>
                  <td tabindex="-1">Contains the current state of query tasks. </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <a href="./r_STV_WLM_SERVICE_CLASS_CONFIG.html">STV_WLM_SERVICE_CLASS_CONFIG</a>
                  </td>
                  <td tabindex="-1">Records the service class configurations for WLM. </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <a href="./r_STV_WLM_SERVICE_CLASS_STATE.html">STV_WLM_SERVICE_CLASS_STATE</a>
                  </td>
                  <td tabindex="-1">Contains the current state of the service classes.</td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <a href="./r_STL_WLM_RULE_ACTION.html">STL_WLM_RULE_ACTION</a>
                  </td>
                  <td tabindex="-1">Records details about actions resulting from WLM query monitoring rules associated with user-defined queues.</td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <a href="./r_STV_WLM_QMR_CONFIG.html">STV_WLM_QMR_CONFIG</a>
                  </td>
                  <td tabindex="-1">Records the configuration for WLM query monitoring rules (QMR).</td>
               </tr>
            </table></div></div><p> You use the task ID to track a query in the system tables. The following example shows
         how to obtain the task ID of the most recently submitted user query: </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select task from stl_wlm_query where exec_start_time =(select max(exec_start_time) from stl_wlm_query); 

task 
------ 
137 
(1 row)</code></pre><p> The following example displays queries that are currently executing or waiting in
         various service classes (queues). This query is useful in tracking the overall concurrent
         workload for Amazon Redshift: </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
select * from stv_wlm_query_state order by query;


xid |task|query|service_| wlm_start_  |  state  |queue_ | exec_
    |    |     |class   | time        |         |time   | time
----+----+-----+--------+-------------+---------+-------+--------
2645| 84 | 98  | 3      | 2010-10-... |Returning|   0   | 3438369
2650| 85 | 100 | 3      | 2010-10-... |Waiting  |   0   | 1645879
2660| 87 | 101 | 2      | 2010-10-... |Executing|   0   | 916046
2661| 88 | 102 | 1      | 2010-10-... |Executing|   0   | 13291
(4 rows)
</code></pre>
         <h2 id="wlm-service-class-ids">WLM service class IDs</h2>
         
       <p>The following table lists the IDs assigned to service classes.</p>  
         
         <div class="table-container"><div class="table-contents"><table id="w323aac62c79c21b5"><thead>
                  <tr>
                     <th>ID </th>
                     <th>Service class </th>
                  </tr>
               </thead>
                  <tr>
                     <td tabindex="-1">1–4</td>
                     <td tabindex="-1">Reserved for system use. </td>
                  </tr> 
                  <tr>
                     <td tabindex="-1">5</td>
                     <td tabindex="-1">Used by the superuser queue. </td>
                  </tr> 
                  <tr>
                     <td tabindex="-1">6–13</td>
                     <td tabindex="-1">Used by manual WLM queues that are defined in the WLM
                        configuration. </td>
                  </tr> 
                  <tr>
                     <td tabindex="-1">14</td>
                     <td tabindex="-1">Used by short query acceleration. </td>
                  </tr> 
                  <tr>
                     <td tabindex="-1">15</td>
                     <td tabindex="-1">Reserved for maintenance activities run by Amazon Redshift. </td>
                  </tr>  
                  <tr>
                     <td tabindex="-1">100–107</td>
                     <td tabindex="-1">Used by automatic WLM queue when
                           <b>auto_wlm</b> is true. </td>
                  </tr>                     

               </table></div></div>                  
         
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./cm-c-wlm-query-monitoring-rules.html">Query monitoring
            rules</div><div id="next" class="next-link" accesskey="n" href="./r_Database_objects.html">Managing database security</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/cm-c-wlm-system-tables-and-views.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>