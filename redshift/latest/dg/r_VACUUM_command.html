<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>VACUUM - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_VACUUM_command" /><meta name="default_state" content="r_VACUUM_command" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/redshift/latest/dg/r_VACUUM_command.html" /><meta name="description" content="Re-sorts rows and reclaims space in either a specified table or all tables in the current database." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Database Developer Guide" /><meta name="abstract" content="Create and manage a data warehouse with Amazon Redshift, an enterprise-level, petabyte scale, fully managed data warehousing service." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/redshift/latest/dg/r_VACUUM_command.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_VACUUM_command.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_VACUUM_command.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_VACUUM_command.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_VACUUM_command.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_VACUUM_command.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_VACUUM_command.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_VACUUM_command.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_VACUUM_command.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_VACUUM_command.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_VACUUM_command.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_VACUUM_command.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_VACUUM_command.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_VACUUM_command.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_VACUUM_command.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_VACUUM_command.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_VACUUM_command.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_VACUUM_command.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_VACUUM_command.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_VACUUM_command.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_VACUUM_command.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_VACUUM_command.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Database Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Database Developer Guide" /><meta id="panorama-serviceConsolePage" value="VACUUM" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>VACUUM - Amazon Redshift</title><meta name="pdf" content="/pdfs/redshift/latest/dg/redshift-dg.pdf#r_VACUUM_command" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/r_VACUUM_command.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/r_VACUUM_command.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/r_VACUUM_command.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,developer,sample data,database,database developer,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Database Developer Guide",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "SQL reference",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "SQL commands",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "VACUUM",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/c_SQL_commands.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/redshift/latest/dg/redshift-dg.pdf#r_VACUUM_command" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Database Developer Guide</a></div><div id="page-toc-src"><a href="#r_VACUUM_command-privileges">Required privileges</a><a href="#r_VACUUM_command-synopsis">Syntax</a><a href="#r_VACUUM_command-parameters">Parameters</a><a href="#r_VACUUM_usage_notes">Usage notes</a><a href="#r_VACUUM_command-examples">Examples</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="r_VACUUM_command">VACUUM</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Re-sorts rows and reclaims space in either a specified table or all tables in the
         current database.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Only users with the necessary table permissions can effectively vacuum a table. If VACUUM is run
            without the necessary table permissions, the operation completes successfully but has no
            effect. For a list of valid table permissions to effectively run VACUUM, see
         the following Required privileges section.</p></div></div><p>Amazon Redshift automatically sorts data and runs VACUUM DELETE in the background. This lessens the
         need to run the VACUUM command. For more information, see <a href="./t_Reclaiming_storage_space202.html">Vacuuming tables</a>. </p><p>By default, VACUUM skips the sort phase for any table where more than 95 percent of the
         table's rows are already sorted. Skipping the sort phase can significantly improve
         VACUUM performance. To change the default sort or delete threshold for a single table,
         include the table name and the TO <em>threshold</em> PERCENT parameter when you
         run VACUUM. </p><p>Users can access tables while they are being vacuumed. You can perform queries and write
         operations while a table is being vacuumed, but when data manipulation language (DML)
         commands and a vacuum run concurrently, both might take longer. If you run UPDATE and
         DELETE statements during a vacuum, system performance might be reduced. VACUUM DELETE
         temporarily blocks update and delete operations. </p><p>Amazon Redshift automatically performs a DELETE ONLY vacuum in the background. Automatic vacuum
         operation pauses when users run data definition language (DDL) operations, such as ALTER
         TABLE.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>The Amazon Redshift VACUUM command syntax and behavior are substantially different from the
            PostgreSQL VACUUM operation. For example, the default VACUUM operation in Amazon Redshift is
            VACUUM FULL, which reclaims disk space and re-sorts all rows. In contrast, the default
            VACUUM operation in PostgreSQL simply reclaims space and makes it available for
            reuse.</p></div></div><p>For more information, see <a href="./t_Reclaiming_storage_space202.html">Vacuuming tables</a>.</p>
         <h2 id="r_VACUUM_command-privileges">Required privileges</h2>
         <p>Following are required privileges for VACUUM:</p>
         <div class="itemizedlist">
             
             
             
             
         <ul class="itemizedlist"><li class="listitem"><p>Superuser</p></li><li class="listitem"><p>Users with the VACUUM privilege</p></li><li class="listitem"><p>Table owner</p></li><li class="listitem"><p>Database owner whom the table is shared to</p></li></ul></div>
       
         <h2 id="r_VACUUM_command-synopsis">Syntax</h2>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">VACUUM [ FULL | SORT ONLY | DELETE ONLY | REINDEX | RECLUSTER ]
[ [ <em>table_name</em> ] [ TO <em>threshold</em> PERCENT ] [ BOOST ] ]</code></pre>
       
         <h2 id="r_VACUUM_command-parameters">Parameters</h2>
         <div class="variablelist">
             
             
             
             
             

            
             
             

             
             
         <dl>
               <dt id="vacuum-full"><span class="term">FULL </span></dt>
               <dd>
                  <p>Sorts the specified table (or all tables in the current database) and
                     reclaims disk space occupied by rows that were marked for deletion by previous
                     UPDATE and DELETE operations. VACUUM FULL is the default.</p>

                  <p>A full vacuum doesn't perform a reindex for interleaved tables. To
                     reindex interleaved tables followed by a full vacuum, use the <a href="#vacuum-reindex">VACUUM REINDEX</a> option. </p>

                  <p>By default, VACUUM FULL skips the sort phase for any table that is already
                     at least 95 percent sorted. If VACUUM is able to skip the sort phase, it
                     performs a DELETE ONLY and reclaims space in the delete phase such that at
                     least 95 percent of the remaining rows aren't marked for deletion.
                      </p>
                  <p>If the sort threshold isn't met (for example, if 90 percent of rows are
                     sorted) and VACUUM performs a full sort, then it also performs a complete
                     delete operation, recovering space from 100 percent of deleted rows. </p>
                  <p>You can change the default vacuum threshold only for a single table. To
                     change the default vacuum threshold for a single table, include the table name
                     and the TO <em>threshold</em> PERCENT parameter. </p>
               </dd>
             
               <dt id="vacuum-sort-only"><span class="term">SORT ONLY </span></dt>
               <dd>
                  <p>Sorts the specified table (or all tables in the current database) without
                     reclaiming space freed by deleted rows. This option is useful when reclaiming
                     disk space isn't important but re-sorting new rows is important. A SORT
                     ONLY vacuum reduces the elapsed time for vacuum operations when the unsorted
                     region doesn't contain a large number of deleted rows and doesn't
                     span the entire sorted region. Applications that don't have disk space
                     constraints but do depend on query optimizations associated with keeping table
                     rows sorted can benefit from this kind of vacuum.</p>
                  <p>By default, VACUUM SORT ONLY skips any table that is already at least 95
                     percent sorted. To change the default sort threshold for a single table,
                     include the table name and the TO <em>threshold</em> PERCENT
                     parameter when you run VACUUM. </p>
               </dd>
             
               <dt id="vacuum-delete-only"><span class="term">DELETE ONLY </span></dt>
               <dd>
                  <p>Amazon Redshift automatically performs a DELETE ONLY vacuum in the background, so you
                     rarely, if ever, need to run a DELETE ONLY vacuum.</p>
                  <p>A VACUUM DELETE reclaims disk space occupied by rows that were marked for
                     deletion by previous UPDATE and DELETE operations, and compacts the table to
                     free up the consumed space. A DELETE ONLY vacuum operation doesn't sort
                     table data. </p>
                  <p>This option reduces the elapsed time for vacuum operations when reclaiming
                     disk space is important but re-sorting new rows isn't important. This
                     option can also be useful when your query performance is already optimal, and
                     re-sorting rows to optimize query performance isn't a requirement.</p>
                  <p>By default, VACUUM DELETE ONLY reclaims space such that at least 95 percent
                     of the remaining rows aren't marked for deletion. To change the default
                     delete threshold for a single table, include the table name and the
                        TO <em>threshold</em> PERCENT parameter when you
                     run VACUUM.  </p>
                  <p>Some operations, such as <code class="code">ALTER TABLE APPEND</code>, can cause tables
                     to be fragmented. When you use the <code class="code">DELETE ONLY</code> clause the vacuum
                     operation reclaims space from fragmented tables. The same threshold value of 95
                     percent applies to the defragmentation operation. </p>
               </dd>
             
               <dt id="vacuum-reindex"><span class="term">REINDEX <em>tablename</em></span></dt>
               <dd>
                  <p>Analyzes the distribution of the values in interleaved sort key columns,
                     then performs a full VACUUM operation. If REINDEX is used, a table name is
                     required.</p>
                  <p>VACUUM REINDEX takes significantly longer than VACUUM FULL because it makes
                     an additional pass to analyze the interleaved sort keys. The sort and merge
                     operation can take longer for interleaved tables because the interleaved sort
                     might need to rearrange more rows than a compound sort.</p>
                  <p>If a VACUUM REINDEX operation terminates before it completes, the next
                     VACUUM resumes the reindex operation before performing the full vacuum
                     operation.</p>
                  <p>VACUUM REINDEX isn't supported with TO <em>threshold</em>
                     PERCENT.  </p>
               </dd>
             
               <dt><span class="term">
                  <em>table_name</em>
               </span></dt>
               <dd>
                  <p>The name of a table to vacuum. If you don't specify a table name, the
                     vacuum operation applies to all tables in the current database. You can specify
                     any permanent or temporary user-created table. The command isn't
                     meaningful for other objects, such as views and system tables.</p>
                  <p> If you include the TO <em>threshold</em> PERCENT parameter, a
                     table name is required.</p>
               </dd>
             
               <dt id="vacuum-recluster"><span class="term">RECLUSTER <em>tablename</em></span></dt>
               <dd>
                  <p>Sorts the portions of the table that are unsorted. Portions of the table
                     that are already sorted by automatic table sort are left intact. This command
                     doesn't merge the newly sorted data with the sorted region. It also doesn't
                     reclaim all space that is marked for deletion. When this command completes, the
                     table might not appear fully sorted, as indicated by the <code class="code">unsorted</code>
                     field in SVV_TABLE_INFO. </p>
                  <p> We recommend that you use VACUUM RECLUSTER for large tables with frequent
                     ingestion and queries that access only the most recent data. </p>
                  <p> VACUUM RECLUSTER isn't supported with TO threshold PERCENT. If
                     RECLUSTER is used, a table name is required.</p>
                 <p>VACUUM RECLUSTER isn't supported on tables with interleaved sort keys and tables with ALL distribution style.</p>
               </dd>
             
               <dt><span class="term">
                  <em>table_name</em>
               </span></dt>
               <dd>
                  <p>The name of a table to vacuum. You can specify
                     any permanent or temporary user-created table. The command isn't
                     meaningful for other objects, such as views and system tables.</p>
               </dd>
             
               <dt><span class="term"> TO <em>threshold</em> PERCENT </span></dt>
               <dd>
                  <p>A clause that specifies the threshold above which VACUUM skips the sort
                     phase and the target threshold for reclaiming space in the delete phase. The
                        <em>sort threshold</em> is the percentage of total rows that are
                     already in sort order for the specified table prior to vacuuming.  The
                        <em>delete threshold</em> is the minimum percentage of total
                     rows not marked for deletion after vacuuming. </p>
                  <p>Because VACUUM re-sorts the rows only when the percent of sorted rows in a
                     table is less than the sort threshold, Amazon Redshift can often reduce VACUUM times
                     significantly. Similarly, when VACUUM isn't constrained to reclaim space
                     from 100 percent of rows marked for deletion, it is often able to skip
                     rewriting blocks that contain only a few deleted rows.</p>
                  <p>For example, if you specify 75 for <em>threshold</em>, VACUUM
                     skips the sort phase if 75 percent or more of the table's rows are already
                     in sort order. For the delete phase, VACUUMS sets a target of reclaiming disk
                     space such that at least 75 percent of the table's rows aren't marked
                     for deletion following the vacuum. The <em>threshold</em> value
                     must be an integer between 0 and 100. The default is 95. If you specify a value
                     of 100, VACUUM always sorts the table unless it's already fully sorted and
                     reclaims space from all rows marked for deletion. If you specify a value of 0,
                     VACUUM never sorts the table and never reclaims space.</p>
                  <p>If you include the TO <em>threshold</em> PERCENT parameter, you
                     must also specify a table name. If a table name is omitted, VACUUM fails. </p>
                  <p>You can't use the TO <em>threshold</em> PERCENT parameter
                     with REINDEX. </p>
               </dd>
             
               <dt><span class="term">BOOST</span></dt>
               <dd>
                  <p>Runs the VACUUM command with additional resources, such as memory and disk
                     space, as they're available. With the BOOST option, VACUUM operates in one
                     window and blocks concurrent deletes and updates for the duration of the VACUUM
                     operation. Running with the BOOST option contends for system resources, which
                     might affect query performance. Run the VACUUM BOOST when the load on the
                     system is light, such as during maintenance operations. </p>
                  <p>Consider the following when using the BOOST option:</p>
                  <div class="itemizedlist">
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>When BOOST is specified, the <em>table_name</em> value is
                           required. </p>
                     </li><li class="listitem">
                        <p>BOOST isn't supported with REINDEX. </p>
                     </li><li class="listitem">
                        <p>BOOST is ignored with DELETE ONLY. </p>
                     </li></ul></div>
               </dd>
            </dl></div>
       
         <h2 id="r_VACUUM_usage_notes">Usage notes</h2>
         <p>For most Amazon Redshift applications, a full vacuum is recommended. For more information,
            see <a href="./t_Reclaiming_storage_space202.html">Vacuuming tables</a>.</p>
         <p>Before running a vacuum operation, note the following behavior: </p>
         <div class="itemizedlist">
             
             
             
             
             
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>You can't run VACUUM within a transaction block (BEGIN ... END). For more
                  information about transactions, see <a href="./c_serial_isolation.html">Serializable isolation</a>. </p>
            </li><li class="listitem">
               <p>You can run only one VACUUM command on a cluster at any given time. If you
                  attempt to run multiple vacuum operations concurrently, Amazon Redshift returns an
                  error.</p>
            </li><li class="listitem">
               <p>Some amount of table growth might occur when tables are vacuumed. This behavior
                  is expected when there are no deleted rows to reclaim or the new sort order of the
                  table results in a lower ratio of data compression.</p>
            </li><li class="listitem">
               <p>During vacuum operations, some degree of query performance degradation is
                  expected. Normal performance resumes as soon as the vacuum operation is
                  complete.</p>
            </li><li class="listitem">
               <p>Concurrent write operations proceed during vacuum operations, but we don’t
                  recommend performing write operations while vacuuming. It's more efficient to
                  complete write operations before running the vacuum. Also, any data that is
                  written after a vacuum operation has been started can't be vacuumed by that
                  operation. In this case, a second vacuum operation is necessary.</p>
            </li><li class="listitem">
               <p>A vacuum operation might not be able to start if a load or insert operation is
                  already in progress. Vacuum operations temporarily require exclusive access to
                  tables in order to start. This exclusive access is required briefly, so vacuum
                  operations don't block concurrent loads and inserts for any significant
                  period of time.</p>
            </li><li class="listitem">
               <p>Vacuum operations are skipped when there is no work to do for a particular
                  table; however, there is some overhead associated with discovering that the
                  operation can be skipped. If you know that a table is pristine or doesn't
                  meet the vacuum threshold, don't run a vacuum operation against it.</p>
            </li><li class="listitem">
               <p>A DELETE ONLY vacuum operation on a small table might not reduce the number of
                  blocks used to store the data, especially when the table has a large number of
                  columns or the cluster uses a large number of slices per node. These vacuum
                  operations add one block per column per slice to account for concurrent inserts
                  into the table, and there is potential for this overhead to outweigh the reduction
                  in block count from the reclaimed disk space. For example, if a 10-column table on
                  an 8-node cluster occupies 1000 blocks before a vacuum, the vacuum doesn't
                  reduce the actual block count unless more than 80 blocks of disk space are
                  reclaimed because of deleted rows. (Each data block uses 1 MB.)</p>
            </li></ul></div>
         <p>Automatic vacuum operations pause if any of the following conditions are met: </p>
         <div class="itemizedlist">
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>A user runs a data definition language (DDL) operation, such as ALTER TABLE,
                  that requires an exclusive lock on a table that automatic vacuum is currently
                  working on. </p>
            </li><li class="listitem">
               <p>A user triggers VACUUM on any table in the cluster (only one VACUUM can run at
                  a time). </p>
            </li><li class="listitem">
               <p>A period of high cluster load.</p>
            </li></ul></div>
       
         <h2 id="r_VACUUM_command-examples">Examples</h2>
         <p>Reclaim space and database and re-sort rows in all tables based on the default 95
            percent vacuum threshold.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">vacuum;</code></pre>
         <p>Reclaim space and re-sort rows in the SALES table based on the default 95 percent
            threshold. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">vacuum sales;</code></pre>
         <p>Always reclaim space and re-sort rows in the SALES table. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">vacuum sales to 100 percent;</code></pre>
         <p>Re-sort rows in the SALES table only if fewer than 75 percent of rows are already
            sorted. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""> vacuum sort only sales to 75 percent;</code></pre>
         <p>Reclaim space in the SALES table such that at least 75 percent of the remaining rows
            aren't marked for deletion following the vacuum. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">vacuum delete only sales to 75 percent;</code></pre>
         <p>Reindex and then vacuum the LISTING table. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">vacuum reindex listing;</code></pre>
         <p>The following command returns an error. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">vacuum reindex listing to 75 percent;</code></pre>
         
         
         <p>Recluster and then vacuum the LISTING table. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">vacuum recluster listing;</code></pre>
         <p>Recluster and then vacuum the LISTING table with the BOOST option. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">vacuum recluster listing boost;</code></pre>
         
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./c_Examples_of_UPDATE_statements.html">Examples of UPDATE statements</div><div id="next" class="next-link" accesskey="n" href="./c_SQL_functions.html">SQL functions reference</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/r_VACUUM_command.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/r_VACUUM_command.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>