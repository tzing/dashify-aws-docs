<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Using Apache Iceberg tables with Amazon Redshift - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="querying-iceberg" /><meta name="default_state" content="querying-iceberg" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/redshift/latest/dg/querying-iceberg.html" /><meta name="description" content="Use Amazon Redshift to query Apache Iceberg tables using Apache Parquet data files cataloged in the Data Catalog." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Database Developer Guide" /><meta name="abstract" content="Create and manage a data warehouse with Amazon Redshift, an enterprise-level, petabyte scale, fully managed data warehousing service." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/redshift/latest/dg/querying-iceberg.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/querying-iceberg.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/querying-iceberg.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/querying-iceberg.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/querying-iceberg.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/querying-iceberg.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/querying-iceberg.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/querying-iceberg.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/querying-iceberg.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/querying-iceberg.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/querying-iceberg.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/querying-iceberg.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/querying-iceberg.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/querying-iceberg.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/querying-iceberg.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/querying-iceberg.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/querying-iceberg.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/querying-iceberg.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/querying-iceberg.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/querying-iceberg.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/querying-iceberg.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/querying-iceberg.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Database Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Database Developer Guide" /><meta id="panorama-serviceConsolePage" value="Using Apache Iceberg tables with Amazon Redshift" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Using Apache Iceberg tables with Amazon Redshift - Amazon Redshift</title><meta name="pdf" content="/pdfs/redshift/latest/dg/redshift-dg.pdf#querying-iceberg" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/querying-iceberg.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/querying-iceberg.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/querying-iceberg.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,developer,sample data,database,database developer,HLL,Apache Iceberg,Parquet" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Database Developer Guide",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Querying external data using Amazon Redshift Spectrum",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/c-using-spectrum.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Using Apache Iceberg tables with Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/c-using-spectrum.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/redshift/latest/dg/redshift-dg.pdf#querying-iceberg" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Database Developer Guide</a></div><div id="page-toc-src"><a href="#querying-iceberg-considerations">Considerations when using Apache Iceberg tables</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="querying-iceberg">Using Apache Iceberg tables with Amazon Redshift</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>You can use Redshift Spectrum or Redshift Serverless to query Apache Iceberg tables cataloged in the AWS Glue Data Catalog. 
        Apache Iceberg is an open-source table format for data lakes. For more information, see <a href="https://iceberg.apache.org/" rel="noopener noreferrer" target="_blank"><span>Apache Iceberg</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> in the Apache Iceberg documentation.</p><p>Amazon Redshift provides transactional consistency for querying Apache Iceberg tables. 
        You can manipulate the data in your tables using ACID (atomicity, consistency, isolation, durability) compliant services such as Amazon Athena and Amazon EMR while running queries using Amazon Redshift. 
        Amazon Redshift can use the table statistics stored in Apache Iceberg metadata to optimize query plans and reduce file scans during query processing.
        With Amazon Redshift SQL, you can join Redshift tables with data lake tables.</p><p>To get started using Iceberg tables with Amazon Redshift:</p><div class="orderedlist">
         
         
         
        
         
         
        
    <ol><li><p>Create an Apache Iceberg table on an AWS Glue Data Catalog database using a compatible service such as Amazon Athena or Amazon EMR.
           To create an Iceberg table using Athena, see 
            <a href="https://docs.aws.amazon.com/athena/latest/ug/querying-iceberg.html">Using Apache Iceberg tables</a> in the <em>Amazon Athena User Guide</em>.</p></li><li><p>Create an Amazon Redshift cluster or Redshift Serverless workgroup with an associated IAM role that allows access to your data lake. For information on how to create clusters or workgroups, see 
            <a href="https://docs.aws.amazon.com/redshift/latest/gsg/new-user.html">Amazon Redshift provisioned clusters</a> and <a href="https://docs.aws.amazon.com/redshift/latest/gsg/new-user-serverless.html">Redshift Serverless</a>
            in the <em>Amazon Redshift Getting Started Guide</em>.</p></li><li><p>Connect to your cluster or workgroup using query editor v2 or a third-party SQL client. For information about how to connect using query editor v2, see 
            <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/query-editor-v2-using.html#query-editor-v2-connecting">Connecting to an Amazon Redshift database</a>
            in the <em>Amazon Redshift Management Guide</em>.</p></li><li><p>Create an external schema in your Amazon Redshift database for a specific Data Catalog database that includes your Iceberg tables. For information about creating an external schema, see 
            <a href="./c-spectrum-external-schemas.html">Creating external schemas for Amazon Redshift
            Spectrum</a>.</p></li><li><p>Run SQL queries to access the Iceberg tables in the external schema you created.</p></li></ol></div>
        <h2 id="querying-iceberg-considerations">Considerations when using Apache Iceberg tables with Amazon Redshift</h2>
        <p>Consider the following when using Amazon Redshift with Iceberg tables:</p>
        <div class="itemizedlist">
            
            
             
             
                                  
             
           
            
             
             
             
             
             
             
            
            
            
        <ul class="itemizedlist"><li class="listitem">
                <p><span class="topcom">Iceberg version support</span> – Amazon Redshift supports running queries against the following versions of Iceberg tables:</p>
                <div class="itemizedlist">
                     
                     
                <ul class="itemizedlist"><li class="listitem"><p>Version 1 defines how large analytic tables are managed using immutable data files.</p></li><li class="listitem"><p>Version 2 adds the ability to support row-level updates and deletes while keeping the existing
                            data files unchanged, and handling table data changes using delete
                            files. </p></li></ul></div>                   
                    <p> For the difference between version 1 and version 2 tables, see <a href="https://iceberg.apache.org/spec/#appendix-e-format-version-changes" rel="noopener noreferrer" target="_blank"><span>Format version changes</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> in the Apache Iceberg documentation.</p>
            </li><li class="listitem">
                <p><span class="topcom">Queries only</span> – Amazon Redshift supports read-only access to Apache Iceberg tables. 
                    It supports transactional consistent select queries. You can use a service like Amazon Athena to define and update the schema of Iceberg tables in the AWS Glue Data Catalog.</p>
            </li><li class="listitem">
                <p><span class="topcom">Adding partitions</span> – You don't need to manually add partitions for your Apache Iceberg tables. 
                    New partitions in Apache Iceberg tables are automatically detected by Amazon Redshift and no manual operation is needed to update partitions in the table definition. 
                    Any changes in partition specification are also automatically applied to your queries without any user intervention.</p>
            </li><li class="listitem">
                <p><span class="topcom">Ingesting Iceberg data into Amazon Redshift</span> – You can use INSERT INTO or CREATE TABLE AS commands to import data from your Iceberg table
                    into a local Amazon Redshift table. You currently cannot use the COPY command to ingest the contents of an Apache
                    Iceberg table into a local Amazon Redshift table.</p>
            </li><li class="listitem">
                <p><span class="topcom">Materialized views</span> – You can create
                    materialized views on Apache Iceberg tables like any other external table in
                    Amazon Redshift. The same considerations for other data lake table formats apply to Apache
                    Iceberg tables. Incremental updates, automatic refreshes, automatic query
                    rewriting, and automatic MVs on data lake tables are currently not
                    supported.</p>
            </li><li class="listitem">
                <p><span class="topcom">AWS Lake Formation fine-grained access control</span>
                    – Amazon Redshift supports AWS Lake Formation fine-grained access control on Apache Iceberg tables.</p>
            </li><li class="listitem">
                <p><span class="topcom">User-defined data handling parameters </span> –
                    Amazon Redshift supports user-defined data handling parameters on Apache Iceberg tables. 
                    You use user-defined data handling parameters on existing files to tailor the data being queried in external tables to avoid scan errors. 
                    These parameters provide capabilities to handle mismatches between the table schema and the actual data on files. 
                    You can use user-defined data handling parameters on Apache Iceberg tables as well.</p>
            </li><li class="listitem">
                <p><span class="topcom">Data sharing</span> – Amazon Redshift data sharing currently doesn’t support data lake tables, including Apache Iceberg tables.</p>
            </li><li class="listitem">
                <p><span class="topcom">Time travel queries</span> – Time travel queries are currently not supported with Apache Iceberg tables.</p>
            </li><li class="listitem">
                <p><span class="topcom">Pricing</span> – When you access Iceberg tables
                    from a cluster, you are charged Redshift Spectrum pricing. When you access Iceberg tables
                    from a workgroup, you are charged Redshift Serverless pricing. For information about Redshift Spectrum and
                    Redshift Serverless pricing, see <a href="https://aws.amazon.com/redshift/pricing/" rel="noopener noreferrer" target="_blank"><span>Amazon
                        Redshift pricing</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
            </li></ul></div>
        
    <div class="highlights"><h6>Topics</h6><ul><li><a href="./querying-iceberg-supported-data-types.html">Supported data types with Apache Iceberg tables</a></li></ul></div><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./c-spectrum-external-tables.html">Creating external
            tables</div><div id="next" class="next-link" accesskey="n" href="./querying-iceberg-supported-data-types.html">Supported data types</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/querying-iceberg.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/querying-iceberg.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>