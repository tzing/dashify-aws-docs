<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Authorization parameters - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="copy-parameters-authorization" /><meta name="default_state" content="copy-parameters-authorization" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/redshift/latest/dg/copy-parameters-authorization.html" /><meta name="description" content="The COPY command needs authorization to access data in another AWS resource, including in Amazon S3, Amazon EMR, Amazon DynamoDB, and Amazon EC2. You can provide that authorization by referencing an AWS Identity and Access Management (IAM) role that is attached to your cluster (" /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Database Developer Guide" /><meta name="abstract" content="Create and manage a data warehouse with Amazon Redshift, an enterprise-level, petabyte scale, fully managed data warehousing service." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/redshift/latest/dg/copy-parameters-authorization.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/copy-parameters-authorization.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/copy-parameters-authorization.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/copy-parameters-authorization.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/copy-parameters-authorization.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/copy-parameters-authorization.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/copy-parameters-authorization.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/copy-parameters-authorization.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/copy-parameters-authorization.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/copy-parameters-authorization.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/copy-parameters-authorization.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/copy-parameters-authorization.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/copy-parameters-authorization.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/copy-parameters-authorization.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/copy-parameters-authorization.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/copy-parameters-authorization.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/copy-parameters-authorization.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/copy-parameters-authorization.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/copy-parameters-authorization.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/copy-parameters-authorization.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/copy-parameters-authorization.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/copy-parameters-authorization.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Database Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Database Developer Guide" /><meta id="panorama-serviceConsolePage" value="Authorization parameters" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Authorization parameters - Amazon Redshift</title><meta name="pdf" content="/pdfs/redshift/latest/dg/redshift-dg.pdf#copy-parameters-authorization" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/copy-parameters-authorization.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/copy-parameters-authorization.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/copy-parameters-authorization.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,developer,sample data,database,database developer,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Database Developer Guide",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "SQL reference",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "SQL commands",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "COPY",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/r_COPY.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "COPY parameter reference",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/r_COPY-parameters.html"
      },
      {
        "@type" : "ListItem",
        "position" : 8,
        "name" : "Authorization parameters",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/r_COPY-parameters.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/redshift/latest/dg/redshift-dg.pdf#copy-parameters-authorization" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Database Developer Guide</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="copy-parameters-authorization">Authorization parameters</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>The COPY command needs authorization to access data in another AWS resource,
            including in Amazon S3, Amazon EMR, Amazon DynamoDB, and Amazon EC2. You can provide that authorization by
            referencing an <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles.html">AWS Identity and Access Management (IAM) role</a>
            that is attached to your cluster (<em>role-based access control</em>).
            
            
                     
            You can encrypt your load data on Amazon S3. </p><p>The following topics provide more details and examples of authentication
            options:</p><div class="itemizedlist">
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p><a href="./copy-usage_notes-access-permissions.html#copy-usage_notes-iam-permissions">IAM permissions for COPY, UNLOAD,
                  and CREATE LIBRARY</a></p>
            </li><li class="listitem">
               <p><a href="./copy-usage_notes-access-permissions.html#copy-usage_notes-access-role-based">Role-based access
                  control</a></p>
            </li><li class="listitem">
               <p><a href="./copy-usage_notes-access-permissions.html#copy-usage_notes-access-key-based">Key-based access control</a></p>
            </li></ul></div><p>Use one of the following to provide authorization for the COPY command: </p><div class="itemizedlist">
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p><a href="#copy-iam-role">IAM_ROLE</a> parameter</p>
            </li><li class="listitem">
               <p><a href="#copy-access-key-id">ACCESS_KEY_ID and SECRET_ACCESS_KEY</a> parameters</p>
            </li><li class="listitem">
               <p><a href="#copy-credentials">CREDENTIALS</a> clause</p>
            </li></ul></div><div class="variablelist">
             
            
            

             

            
            

             

            
             

         <dl>
               <dt id="copy-iam-role"><span class="term">IAM_ROLE <span>{</span> default | 'arn:aws:iam::<code class="replaceable">&lt;AWS account-id&gt;</code>:role/<code class="replaceable">&lt;role-name&gt;</code>' }</span></dt>
               <dd>
                  <p>
                Use the default keyword to have Amazon Redshift use the IAM role that is set as
                     default and associated with the cluster when the COPY command runs.</p>
                  <p>Use the Amazon Resource Name (ARN) for an IAM role that your cluster uses for
                     authentication and authorization. If you specify IAM_ROLE, you can't use
                     ACCESS_KEY_ID and SECRET_ACCESS_KEY, SESSION_TOKEN, or CREDENTIALS.</p>
                  <p>The following shows the syntax for the IAM_ROLE parameter. </p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">IAM_ROLE <span>{</span> default | 'arn:aws:iam::<code class="replaceable">&lt;AWS account-id&gt;</code>:role/<code class="replaceable">&lt;role-name&gt;</code>' }</code></pre>
                  <p>For more information, see <a href="./copy-usage_notes-access-permissions.html#copy-usage_notes-access-role-based">Role-based access
                  control</a>. </p>
               </dd>
             
               <dt id="copy-access-key-id"><span class="term">ACCESS_KEY_ID '<em>access-key-id </em>' SECRET_ACCESS_KEY
                     '<em>secret-access-key</em>'</span></dt>
               <dd>
                  <p>This authorization method is not recommended. </p>
                  
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Instead of providing access credentials as plain text, we strongly
                        recommend using role-based authentication by specifying the IAM_ROLE
                        parameter. For more information, see <a href="./copy-usage_notes-access-permissions.html#copy-usage_notes-access-role-based">Role-based access
                  control</a>. </p></div></div>
               </dd>
             
               <dt id="copy-token"><span class="term">SESSION_TOKEN '<em>temporary-token</em>'</span></dt>

               <dd>
                  <p>The session token for use with temporary access credentials. When
                     SESSION_TOKEN is specified, you must also use ACCESS_KEY_ID and
                     SECRET_ACCESS_KEY to provide temporary access key credentials. If you specify
                     SESSION_TOKEN you can't use IAM_ROLE or CREDENTIALS. For more information, see
                        <a href="./copy-usage_notes-access-permissions.html#r_copy-temporary-security-credentials">Temporary security
                     credentials</a> in the
                     IAM User Guide.</p>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Instead of creating temporary security credentials, we strongly recommend
                        using role-based authentication. When you authorize using an IAM role, Amazon Redshift
                        automatically creates temporary user credentials for each session. For more
                        information, see <a href="./copy-usage_notes-access-permissions.html#copy-usage_notes-access-role-based">Role-based access
                  control</a>. </p></div></div>
                  <p>The following shows the syntax for the SESSION_TOKEN parameter with the
                     ACCESS_KEY_ID and SECRET_ACCESS_KEY parameters. </p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">ACCESS_KEY_ID '<code class="replaceable">&lt;access-key-id&gt;</code>'
SECRET_ACCESS_KEY '<code class="replaceable">&lt;secret-access-key&gt;</code>'
SESSION_TOKEN '<code class="replaceable">&lt;temporary-token&gt;</code>';</code></pre>
                  <p>If you specify SESSION_TOKEN you can't use CREDENTIALS or IAM_ROLE. </p>
               </dd>
             
               <dt id="copy-credentials"><span class="term">[WITH] CREDENTIALS [AS] '<em>credentials-args</em>'</span></dt>
               <dd>
                  <p>A clause that indicates the method your cluster will use when accessing
                     other AWS resources that contain data files or manifest files. You can't use
                     the CREDENTIALS parameter with IAM_ROLE or ACCESS_KEY_ID and
                     SECRET_ACCESS_KEY.</p>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>For increased flexibility, we recommend using the <a href="#copy-iam-role">IAM_ROLE</a> 
                        parameter instead of the CREDENTIALS parameter.</p></div></div>
                  <p>Optionally, if the <a href="./copy-parameters-data-source-s3.html#copy-encrypted">ENCRYPTED</a> parameter is used, the
                        <em>credentials-args</em> string also provides the encryption
                     key.</p>
                  <p>The <em>credentials-args</em> string is case-sensitive and must
                     not contain spaces.</p>

                  <p>The keywords WITH and AS are optional and are ignored.</p>
                  <p>You can specify either <a href="./copy-usage_notes-access-permissions.html#copy-usage_notes-access-role-based.phrase">role-based access control</a> or <a href="./copy-usage_notes-access-permissions.html#copy-usage_notes-access-key-based.phrase">key-based access control</a>. In either case, the
                     IAM role or user must have the permissions required to access the specified
                     AWS resources. For more information, see <a href="./copy-usage_notes-access-permissions.html#copy-usage_notes-iam-permissions">IAM permissions for COPY, UNLOAD,
                  and CREATE LIBRARY</a>. </p>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>To safeguard your AWS credentials and protect sensitive data, we strongly
                        recommend using role-based access control. </p></div></div>

                  <p>To specify role-based access control, provide the
                        <em>credentials-args</em> string in the following format.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">'aws_iam_role=arn:aws:iam::<code class="replaceable">&lt;aws-account-id&gt;</code>:role/<code class="replaceable">&lt;role-name&gt;</code>'</code></pre>

                  
                  
                  <p>To use temporary token credentials, you must provide the temporary access
                     key ID, the temporary secret access key, and the temporary token. The
                        <em>credentials-args</em> string is in the following format. </p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">CREDENTIALS
'aws_access_key_id=<code class="replaceable">&lt;temporary-access-key-id&gt;</code>;aws_secret_access_key=<code class="replaceable">&lt;temporary-secret-access-key&gt;</code>;token=<code class="replaceable">&lt;temporary-token&gt;</code>'</code></pre>
                  <p> For more information, see <a href="./copy-usage_notes-access-permissions.html#r_copy-temporary-security-credentials">Temporary security
                     credentials</a>.</p>

                  <p>If the <a href="./copy-parameters-data-source-s3.html#copy-encrypted">ENCRYPTED</a> parameter is used, the
                        <em>credentials-args</em> string is in the following format,
                     where <code class="replaceable">&lt;root-key&gt;</code> is the value of the root
                     key that was used to encrypt the files.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">CREDENTIALS
'<code class="replaceable">&lt;credentials-args&gt;</code>;master_symmetric_key=<code class="replaceable">&lt;root-key&gt;</code>'  </code></pre>
                  <p>For example, the following COPY command uses role-based access control with
                     an encryption key.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">copy customer from 's3://mybucket/mydata' 
credentials 
'aws_iam_role=arn:aws:iam::<code class="replaceable">&lt;account-id&gt;</code>:role/<code class="replaceable">&lt;role-name&gt;</code>;master_symmetric_key=<code class="replaceable">&lt;root-key&gt;</code>'</code></pre>
                  
                  
                
                  <p>The following COPY command shows role-based access control with an encryption
                     key.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">copy customer from 's3://mybucket/mydata' 
credentials 
'aws_iam_role=arn:aws:iam::<code class="replaceable">&lt;aws-account-id&gt;</code>:role/<code class="replaceable">&lt;role-name&gt;</code>;master_symmetric_key=<code class="replaceable">&lt;root-key&gt;</code>'</code></pre>
               
                  
               </dd>
            </dl></div><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./copy-parameters-data-source-dynamodb.html">COPY from Amazon DynamoDB</div><div id="next" class="next-link" accesskey="n" href="./copy-parameters-column-mapping.html">Column mapping options</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/copy-parameters-authorization.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/copy-parameters-authorization.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>