<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>REFRESH MATERIALIZED VIEW - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="materialized-view-refresh-sql-command" /><meta name="default_state" content="materialized-view-refresh-sql-command" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-refresh-sql-command.html" /><meta name="description" content="Refreshes a materialized view." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Database Developer Guide" /><meta name="abstract" content="Create and manage a data warehouse with Amazon Redshift, an enterprise-level, petabyte scale, fully managed data warehousing service." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-refresh-sql-command.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Database Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Database Developer Guide" /><meta id="panorama-serviceConsolePage" value="REFRESH MATERIALIZED VIEW" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>REFRESH MATERIALIZED VIEW - Amazon Redshift</title><meta name="pdf" content="/pdfs/redshift/latest/dg/redshift-dg.pdf#materialized-view-refresh-sql-command" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/materialized-view-refresh-sql-command.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/materialized-view-refresh-sql-command.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/materialized-view-refresh-sql-command.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,developer,sample data,database,database developer,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Database Developer Guide",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "SQL reference",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "SQL commands",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "REFRESH MATERIALIZED VIEW",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/c_SQL_commands.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/redshift/latest/dg/redshift-dg.pdf#materialized-view-refresh-sql-command" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Database Developer Guide</a></div><div id="page-toc-src"><a href="#mv_REFRESH_MATERIALIZED_VIEW-synopsis">Syntax</a><a href="#mv_REFRESH_MATERIALIZED_VIEW-parameters">Parameters</a><a href="#mv_REFRESH_MARTERIALIZED_VIEW_usage">Usage notes</a><a href="#mv_REFRESH_MARTERIALIZED_VIEW_datashare">Incremental refresh for materialized views in a datashare</a><a href="#mv_REFRESH_MARTERIALIZED_VIEW_limitations">Limitations for incremental
               refresh</a><a href="#mv_REFRESH_MARTERIALIZED_VIEW_examples">Examples</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="materialized-view-refresh-sql-command">REFRESH MATERIALIZED VIEW</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Refreshes a materialized view.</p><p>When you create a materialized view, its contents reflect the state of the underlying
         database table or tables at that time. The data in the materialized view remains unchanged,
         even when applications make changes to the data in the underlying tables. To update the
         data in a materialized view, you can use the <code class="code">REFRESH MATERIALIZED VIEW</code>
         statement at any time. When you use this statement, Amazon Redshift identifies changes that have taken
         place in the base table or tables, and then applies those changes to the materialized
         view.</p><p>For more information about materialized views, see <a href="./materialized-view-overview.html">Creating materialized views in Amazon Redshift</a>.</p>
         <h2 id="mv_REFRESH_MATERIALIZED_VIEW-synopsis">Syntax</h2>
         <pre class="screen">REFRESH MATERIALIZED VIEW <em>mv_name</em></pre>
       
         <h2 id="mv_REFRESH_MATERIALIZED_VIEW-parameters">Parameters</h2>
         <div class="variablelist">
             
         <dl>
               <dt><span class="term"><em>mv_name</em></span></dt>
               <dd>
                  <p>The name of the materialized view to be refreshed.</p>
               </dd>
            </dl></div>
       
         <h2 id="mv_REFRESH_MARTERIALIZED_VIEW_usage">Usage notes</h2>
         <p>Only the owner of a materialized view can perform a <code class="code">REFRESH MATERIALIZED
               VIEW</code> operation on that materialized view. Furthermore, the owner must have
            SELECT privilege on the underlying base tables to successfully run <code class="code">REFRESH
               MATERIALIZED VIEW</code>. </p>
         <p>The <code class="code">REFRESH MATERIALIZED VIEW</code> command runs as a transaction of its own.
            Amazon Redshift transaction semantics are followed to determine what data from base
            tables is visible to the <code class="code">REFRESH</code> command, or when the changes made by the
               <code class="code">REFRESH</code> command are made visible to other transactions running in
            Amazon Redshift.</p>
         <div class="itemizedlist">
             
            
            
            
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>For incremental materialized views, <code class="code">REFRESH MATERIALIZED VIEW</code> uses
                  only those base table rows that are already committed. Therefore, if the refresh
                  operation runs after a data manipulation language (DML) statement in the same
                  transaction, then changes of that DML statement aren't visible to refresh.
               </p>
            </li><li class="listitem">
               <p>For a full refresh of a materialized view, <code class="code">REFRESH MATERIALIZED
                     VIEW</code> sees all base table rows visible to the refresh transaction,
                  according to usual Amazon Redshift transaction semantics. </p>
            </li><li class="listitem">
               <p>Depending on the input argument type, Amazon Redshift still supports
                  incremental refresh for materialized views for the following functions with
                  specific input argument types: DATE (timestamp), DATE_PART (date, time, interval,
                  time-tz), DATE_TRUNC (timestamp, interval).</p>
            </li><li class="listitem">
               <p>Incremental refresh is supported on a materialized view where the base table is in a datashare.</p>
            </li></ul></div>
         <p>Some operations in Amazon Redshift interact with materialized views. Some of these operations
            might force a <code class="code">REFRESH MATERIALIZED VIEW</code> operation to fully recompute the
            materialized view even though the query defining the materialized view only uses the SQL
            features eligible for incremental refresh. For example:</p>
         <div class="itemizedlist">
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>Background vacuum operations might be blocked if materialized views aren't
                  refreshed. After an internally defined threshold period, a vacuum operation is
                  allowed to run. When this vacuum operation happens, any dependent materialized
                  views are marked for recomputation upon the next refresh (even if they are
                  incremental). For information about VACUUM, see <a href="./r_VACUUM_command.html">VACUUM</a>. For more information about events and state
                  changes, see <a href="./r_STL_MV_STATE.html">STL_MV_STATE</a>.</p>
            </li><li class="listitem">
               <p>Some user-initiated operations on base tables force a materialized view to be
                  fully recomputed next time that a REFRESH operation is run. Examples of such
                  operations are a manually invoked VACUUM, a classic resize, an ALTER DISTKEY
                  operation, an ALTER SORTKEY operation, and a truncate operation. For more
                  information about events and state changes, see <a href="./r_STL_MV_STATE.html">STL_MV_STATE</a>. </p>
            </li></ul></div>
       
         <h2 id="mv_REFRESH_MARTERIALIZED_VIEW_datashare">Incremental refresh for materialized views in a datashare</h2>
         <p>
            Amazon Redshift supports automatic and incremental refresh for materialized views in a consumer datashare when the base tables are shared. Incremental refresh is an operation where 
            Amazon Redshift identifies changes in the base table or tables that happened after the previous refresh and updates only the corresponding records in the materialized 
            view. For more information about this behavior, see <a href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-create-sql-command.html#mv_CREATE_MARTERIALIZED_VIEW_datashare">CREATE MATERIALIZED VIEW</a>.
         </p>
       
         <h2 id="mv_REFRESH_MARTERIALIZED_VIEW_limitations">Limitations for incremental
               refresh</h2>
         <p>Amazon Redshift currently doesn't support incremental refresh for materialized views that are
            defined with a query using any of the following SQL elements:</p>
         <div class="itemizedlist">
             
             
             
             
             
             
             
             
             
             
            
            

            
         <ul class="itemizedlist"><li class="listitem">
               <p>OUTER JOIN (RIGHT, LEFT, or FULL).</p>
            </li><li class="listitem">
               <p>Set operations: UNION, INTERSECT, EXCEPT, MINUS.</p>
            </li><li class="listitem">
               <p>UNION ALL when it occurs in a subquery and an aggregate function or a GROUP BY
                  clause is present in the query.</p>
            </li><li class="listitem">
               <p>Aggregate functions: MEDIAN, PERCENTILE_CONT, LISTAGG, STDDEV_SAMP, STDDEV_POP, APPROXIMATE COUNT, APPROXIMATE PERCENTILE, and bitwise aggregate functions.</p>
               <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>The COUNT, SUM, MIN, MAX, and AVG aggregate functions are supported.</p></div></div>
            </li><li class="listitem">
               <p>DISTINCT aggregate functions, such as DISTINCT COUNT, DISTINCT SUM, and so
                  on.</p>
            </li><li class="listitem">
               <p>Window functions.</p>
            </li><li class="listitem">
               <p>A query that uses temporary tables for query optimization, such as optimizing
                  common subexpressions.</p>
            </li><li class="listitem">
               <p>Subqueries</p>
            </li><li class="listitem">
               <p>External tables referencing the following formats in the query that defines the materialized view.
               </p>
               <div class="itemizedlist">
                   
                   
               <ul class="itemizedlist"><li class="listitem">
                     <p>
                        Delta Lake
                     </p>
                  </li><li class="listitem">
                     <p>
                        Hudi
                     </p>
                  </li></ul></div>
               <p>Incremental refresh is supported for materialized views defined using 
                  external tables referencing other formats on the preview track. For more information about
                  setting up Preview clusters, see <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/managing-clusters-console.html#cluster-preview">Creating a 
                     preview cluster</a> in the <em>Amazon Redshift Management Guide</em>.
                  For information about setting up Preview workgroups, see <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/serverless-workgroup-preview.html">Creating a 
                     preview workgroup</a> in the <em>Amazon Redshift Management Guide</em>.
               </p>
            </li><li class="listitem"><p>Mutable functions, such as date-time functions, RANDOM and non-STABLE user-defined functions.</p></li></ul></div>
         <p>For more information about materialized-view limitations, including the effect of background operations like 
            VACUUM on materialized-view refresh operations, see <a href="#mv_REFRESH_MARTERIALIZED_VIEW_usage">Usage notes</a>.</p>
       
         <h2 id="mv_REFRESH_MARTERIALIZED_VIEW_examples">Examples</h2>
         <p>The following example refreshes the <code class="code">tickets_mv</code> materialized view.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">REFRESH MATERIALIZED VIEW tickets_mv;
</code></pre>
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_PREPARE.html">PREPARE</div><div id="next" class="next-link" accesskey="n" href="./r_RESET.html">RESET</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/materialized-view-refresh-sql-command.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/materialized-view-refresh-sql-command.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>