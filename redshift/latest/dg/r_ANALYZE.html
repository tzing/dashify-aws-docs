<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>ANALYZE - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_ANALYZE" /><meta name="default_state" content="r_ANALYZE" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/redshift/latest/dg/r_ANALYZE.html" /><meta name="description" content="Updates the table statistics for use by the query planner." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Database Developer Guide" /><meta name="abstract" content="Create and manage a data warehouse with Amazon Redshift, an enterprise-level, petabyte scale, fully managed data warehousing service." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/redshift/latest/dg/r_ANALYZE.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_ANALYZE.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_ANALYZE.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_ANALYZE.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_ANALYZE.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_ANALYZE.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_ANALYZE.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_ANALYZE.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_ANALYZE.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_ANALYZE.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_ANALYZE.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_ANALYZE.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_ANALYZE.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_ANALYZE.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_ANALYZE.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_ANALYZE.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_ANALYZE.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_ANALYZE.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_ANALYZE.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_ANALYZE.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_ANALYZE.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_ANALYZE.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Database Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Database Developer Guide" /><meta id="panorama-serviceConsolePage" value="ANALYZE" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>ANALYZE - Amazon Redshift</title><meta name="pdf" content="/pdfs/redshift/latest/dg/redshift-dg.pdf#r_ANALYZE" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/r_ANALYZE.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/r_ANALYZE.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/r_ANALYZE.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,developer,sample data,database,database developer,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Database Developer Guide",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "SQL reference",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "SQL commands",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "ANALYZE",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/c_SQL_commands.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/redshift/latest/dg/redshift-dg.pdf#r_ANALYZE" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Database Developer Guide</a></div><div id="page-toc-src"><a href="#r_ANALYZE-privileges">Required privileges</a><a href="#r_ANALYZE-synopsis">Syntax</a><a href="#r_ANALYZE-parameters">Parameters</a><a href="#r_ANALYZE-usage-notes">Usage notes</a><a href="#r_ANALYZE-examples">Examples</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="r_ANALYZE">ANALYZE</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Updates table statistics for use by the query planner. </p>
         <h2 id="r_ANALYZE-privileges">Required privileges</h2>
         <p>Following are required privileges for ANALYZE:</p>
         <div class="itemizedlist">
             
             
             
             
         <ul class="itemizedlist"><li class="listitem"><p>Superuser</p></li><li class="listitem"><p>Users with the ANALYZE privilege</p></li><li class="listitem"><p>Owner of the relation</p></li><li class="listitem"><p>Database owner whom the table is shared to</p></li></ul></div>
       
         <h2 id="r_ANALYZE-synopsis">Syntax</h2>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">ANALYZE [ VERBOSE ]
[ [ <em>table_name</em> [ ( <em>column_name</em> [, ...] ) ] ]
[ PREDICATE COLUMNS | ALL  COLUMNS ]</code></pre>
       
         <h2 id="r_ANALYZE-parameters">Parameters</h2>
         <div class="variablelist">
             
             
             
            
             
         <dl>
               <dt><span class="term">VERBOSE </span></dt>
               <dd>
                  <p>A clause that returns progress information messages about the ANALYZE
                     operation. This option is useful when you don't specify a table.</p>
               </dd>
             
               <dt><span class="term">
                  <em>table_name</em>
               </span></dt>
               <dd>
                  <p>You can analyze specific tables, including temporary tables. You can qualify
                     the table with its schema name. You can optionally specify a table_name to
                     analyze a single table. You can't specify more than one
                        <em>table_name</em> with a single ANALYZE
                        <em>table_name</em> statement. If you don't specify a
                        <em>table_name</em> value, all of the tables in the currently
                     connected database are analyzed, including the persistent tables in the system
                     catalog. Amazon Redshift skips analyzing a table if the percentage of rows that have
                     changed since the last ANALYZE is lower than the analyze threshold. For more
                     information, see <a href="#r_ANALYZE-threshold">Analyze threshold</a>.</p>
                  <p>You don't need to analyze Amazon Redshift system tables (STL and STV
                     tables).</p>
               </dd>
             
               <dt><span class="term">
                  <em>column_name</em>
               </span></dt>
               <dd>
                  <p>If you specify a <em>table_name</em>, you can also specify one
                     or more columns in the table (as a column-separated list within parentheses).
                     If a column list is specified, only the listed columns are analyzed.</p>
               </dd>
             
               <dt><span class="term"> PREDICATE COLUMNS | ALL COLUMNS </span></dt>
               <dd>
                  <p>Clauses that indicate whether ANALYZE should include only predicate columns.
                     Specify PREDICATE COLUMNS to analyze only columns that have been used as
                     predicates in previous queries or are likely candidates to be used as
                     predicates. Specify ALL COLUMNS to analyze all columns. The default is ALL
                     COLUMNS. </p>
                  <p>A column is included in the set of predicate columns if any of the following
                     is true:</p>
                  <div class="itemizedlist">
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>The column has been used in a query as a part of a filter, join
                           condition, or group by clause.</p>
                     </li><li class="listitem">
                        <p>The column is a distribution key.</p>
                     </li><li class="listitem">
                        <p>The column is part of a sort key.</p>
                     </li></ul></div>
                  <p>If no columns are marked as predicate columns, for example because the table
                     has not yet been queried, all of the columns are analyzed even when PREDICATE
                     COLUMNS is specified. For more information about predicate columns, see <a href="./t_Analyzing_tables.html">Analyzing tables</a>.</p>
               </dd>
            </dl></div>
       
         <h2 id="r_ANALYZE-usage-notes">Usage notes</h2>
         <p>Amazon Redshift automatically runs ANALYZE on tables that you create with the following
            commands: </p>
         <div class="itemizedlist">
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>CREATE TABLE AS</p>
            </li><li class="listitem">
               <p>CREATE TEMP TABLE AS </p>
            </li><li class="listitem">
               <p>SELECT INTO</p>
            </li></ul></div>
         <p> You can't analyze an external table.</p>
         <p>You don't need to run the ANALYZE command on these tables when they are first
            created. If you modify them, you should analyze them in the same way as other
            tables.</p>
          
            <h3 id="r_ANALYZE-threshold">Analyze threshold</h3>
            <p>To reduce processing time and improve overall system performance, Amazon Redshift skips
               ANALYZE for a table if the percentage of rows that have changed since the last
               ANALYZE command run is lower than the analyze threshold specified by the <a href="./r_analyze_threshold_percent.html">analyze_threshold_percent</a> parameter. By default, <code class="code">analyze_threshold_percent</code> is 10. To change
                  <code class="code">analyze_threshold_percent</code> for the current session, run the <a href="./r_SET.html">SET</a> command. The following example changes
                  <code class="code">analyze_threshold_percent</code> to 20 percent.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">set analyze_threshold_percent to 20;</code></pre>
            <p>To analyze tables when only a small number of rows have changed, set
                  <code class="code">analyze_threshold_percent</code> to an arbitrarily small number. For
               example, if you set <code class="code">analyze_threshold_percent</code> to 0.01, then a table with
               100,000,000 rows aren't skipped if at least 10,000 rows have changed. </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">set analyze_threshold_percent to 0.01;</code></pre>
            <p>If ANALYZE skips a table because it doesn't meet the analyze threshold,
               Amazon Redshift returns the following message.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">ANALYZE SKIP</code></pre>
            <p>To analyze all tables even if no rows have changed, set
                  <code class="code">analyze_threshold_percent</code> to 0.</p>
            <p>To view the results of ANALYZE operations, query the <a href="./r_STL_ANALYZE.html">STL_ANALYZE</a> system table. </p>
            <p>For more information about analyzing tables, see <a href="./t_Analyzing_tables.html">Analyzing tables</a>.</p>
          
       
         <h2 id="r_ANALYZE-examples">Examples</h2>
         <p>Analyze all of the tables in the TICKIT database and return progress
            information.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">analyze verbose;</code></pre>
         <p>Analyze the LISTING table only.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">analyze listing;</code></pre>
         <p>Analyze the VENUEID and VENUENAME columns in the VENUE table. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">analyze venue(venueid, venuename);</code></pre>
         <p>Analyze only predicate columns in the VENUE table.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">analyze venue predicate columns;</code></pre>
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_ALTER_USER.html">ALTER USER</div><div id="next" class="next-link" accesskey="n" href="./r_ANALYZE_COMPRESSION.html">ANALYZE COMPRESSION</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/r_ANALYZE.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/r_ANALYZE.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>