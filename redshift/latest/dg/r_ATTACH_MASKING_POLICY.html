<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>ATTACH MASKING POLICY - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_ATTACH_MASKING_POLICY" /><meta name="default_state" content="r_ATTACH_MASKING_POLICY" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/redshift/latest/dg/r_ATTACH_MASKING_POLICY.html" /><meta name="description" content="Attaches an existing dynamic data masking policy to a column." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Database Developer Guide" /><meta name="abstract" content="Create and manage a data warehouse with Amazon Redshift, an enterprise-level, petabyte scale, fully managed data warehousing service." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/redshift/latest/dg/r_ATTACH_MASKING_POLICY.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_ATTACH_MASKING_POLICY.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_ATTACH_MASKING_POLICY.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_ATTACH_MASKING_POLICY.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_ATTACH_MASKING_POLICY.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_ATTACH_MASKING_POLICY.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_ATTACH_MASKING_POLICY.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_ATTACH_MASKING_POLICY.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_ATTACH_MASKING_POLICY.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_ATTACH_MASKING_POLICY.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_ATTACH_MASKING_POLICY.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_ATTACH_MASKING_POLICY.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_ATTACH_MASKING_POLICY.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_ATTACH_MASKING_POLICY.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_ATTACH_MASKING_POLICY.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_ATTACH_MASKING_POLICY.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_ATTACH_MASKING_POLICY.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_ATTACH_MASKING_POLICY.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_ATTACH_MASKING_POLICY.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_ATTACH_MASKING_POLICY.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_ATTACH_MASKING_POLICY.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_ATTACH_MASKING_POLICY.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Database Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Database Developer Guide" /><meta id="panorama-serviceConsolePage" value="ATTACH MASKING POLICY" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>ATTACH MASKING POLICY - Amazon Redshift</title><meta name="pdf" content="/pdfs/redshift/latest/dg/redshift-dg.pdf#r_ATTACH_MASKING_POLICY" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/r_ATTACH_MASKING_POLICY.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/r_ATTACH_MASKING_POLICY.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/r_ATTACH_MASKING_POLICY.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,developer,sample data,database,database developer,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Database Developer Guide",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "SQL reference",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "SQL commands",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "ATTACH MASKING POLICY",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/c_SQL_commands.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/redshift/latest/dg/redshift-dg.pdf#r_ATTACH_MASKING_POLICY" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Database Developer Guide</a></div><div id="page-toc-src"><a href="#r_ATTACH_MASKING_POLICY-synopsis">Syntax</a><a href="#r_ATTACH_MASKING_POLICY-parameters">Parameters</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="r_ATTACH_MASKING_POLICY">ATTACH MASKING POLICY</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Attaches an existing dynamic data masking policy to a column. For more
         information on dynamic data masking, see <a href="./t_ddm.html">Dynamic data masking</a>.</p><p>Superusers and users or roles that have the sys:secadmin role can attach a masking policy.</p>
         <h2 id="r_ATTACH_MASKING_POLICY-synopsis">Syntax</h2>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">ATTACH MASKING POLICY <em>policy_name</em>
   ON <span>{</span> <em>relation_name</em> }
   ( <span>{</span><em>output_columns_names</em> | <em>output_path</em>} ) [ USING ( <span>{</span><em>input_column_names</em> | <em>input_path</em> )} ]
   TO <span>{</span> <em>user_name</em> | ROLE <em>role_name</em> | PUBLIC }
   [ PRIORITY <em>priority</em> ];</code></pre>
       
         <h2 id="r_ATTACH_MASKING_POLICY-parameters">Parameters</h2>
         
         <div class="variablelist">
             
             
            
             
             
             
             
             
             
             
             
         <dl>
               <dt><span class="term"><em>policy_name</em>
               </span></dt>
               <dd>
                  <p>The name of the masking policy to attach.</p>

               </dd>
             
               <dt><span class="term">
                  <em>relation_name</em>
               </span></dt>
               <dd>
                  <p>The name of the relation to attach the masking policy to.</p>

               </dd>
             
               <dt><span class="term"><em>output_column_names</em>
               </span></dt>
               <dd>
                  <p>The names of the columns that the masking policy will apply to.</p>
               </dd>
             
               <dt><span class="term"><em>output_paths</em>
               </span></dt>
               <dd>
                  <p>The full path of the SUPER object that the masking policy 
                     will apply to, including the column name. For example, 
                     for a relation with a SUPER type column named <code class="code">person</code>, 
                     <em>output_path</em> might be <code class="code">person.name.first_name</code>.
                  </p>
               </dd>
             
               <dt><span class="term"><em>input_column_names</em>
               </span></dt>
               <dd>
                  <p>The names of the columns that the masking policy will take as input.
                     This parameter is optional. If not specified, the masking policy uses
                     <em>output_column_names</em> as inputs.</p>
               </dd>
             
               <dt><span class="term"><em>input_paths</em>
               </span></dt>
               <dd>
                  <p>The full path of the SUPER object 
                     that the masking policy will take as input. 
                     This parameter is optional. If not specified, the 
                     masking policy uses <em>output_path</em> for inputs.</p>
               </dd>
             
               <dt><span class="term"><em>user_name</em>
               </span></dt>
               <dd>
                  <p>The name of the user to whom the masking policy will attach. You can't
                     attach two policies to the same combination of user and column or role and column. You can attach a policy to
                     a user and another policy to the user's role. In this case, the policy with
                     the higher priority applies.</p>
                  <p>You can only set one of user_name, role_name, and PUBLIC in a single ATTACH MASKING POLICY command. </p>
               </dd>
             
               <dt><span class="term"><em>role_name</em>
               </span></dt>
               <dd>
                  <p>The name of the role to which the masking policy will attach. You can't
                     attach two policies to the same column/role pair. You can attach a policy to
                     a user and another policy to the user's role. In this case, the policy with
                     the higher priority applies.</p>
                  <p>You can only set one of user_name, role_name, and PUBLIC in a single ATTACH MASKING POLICY command. </p>
               </dd>
             
               <dt><span class="term"><em>PUBLIC</em>
               </span></dt>
               <dd>
                  <p>Attaches the masking policy to all users accessing the table. You must give
                     other masking policies attached to specific column/user or column/role pairs
                     a higher priority than the PUBLIC policy for them to apply.</p>
                  <p>You can only set one of user_name, role_name, and PUBLIC in a single ATTACH MASKING POLICY command. </p>
               </dd>
             
               <dt><span class="term"><em>priority</em>
               </span></dt>
               <dd>
                  <p>The priority of the masking policy. When multiple masking
                     policies apply to a given user's query, the highest priority
                     policy applies.</p>
                  <p>You can't attach two different policies to the same column with equal priority,
                     even if the two policies are attached to different users or roles. You can attach the same policy multiple 
                     times to the same set of table, output column, input column, and priority parameters, as long as the user 
                     or role the policy attaches to is different each time. </p>
                  <p>You can't apply a policy to a column with the same priority as another policy attached
                     to that column, even if they're for different roles.
                     This field is optional. If you don't specify a priority, the masking
                     policy defaults to attaching with a priority of 0.</p>
               </dd>
            </dl></div>
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_ANALYZE_COMPRESSION.html">ANALYZE COMPRESSION</div><div id="next" class="next-link" accesskey="n" href="./r_ATTACH_RLS_POLICY.html">ATTACH RLS POLICY </div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/r_ATTACH_MASKING_POLICY.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/r_ATTACH_MASKING_POLICY.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>