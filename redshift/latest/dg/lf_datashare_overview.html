<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>AWS Lake Formation-managed datashares - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="lf_datashare_overview" /><meta name="default_state" content="lf_datashare_overview" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/redshift/latest/dg/lf_datashare_overview.html" /><meta name="description" content="Using AWS Lake Formation, you can centrally define and enforce database, table, column, and row-level access permissions of Amazon Redshift datashares and restrict user access to objects within a datashare. By sharing data through Lake Formation, you can define permissions in Lake Formation and apply those permissions to any datashare and its objects. For example, if you have a table containing employee information, you can use Lake Formation's column-level filters to prevent employees who don't work in the HR department from seeing personally identifiable information (PII), such as a social security number. For more information about data filters, see" /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Database Developer Guide" /><meta name="abstract" content="Create and manage a data warehouse with Amazon Redshift, an enterprise-level, petabyte scale, fully managed data warehousing service." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/redshift/latest/dg/lf_datashare_overview.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/lf_datashare_overview.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/lf_datashare_overview.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/lf_datashare_overview.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/lf_datashare_overview.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/lf_datashare_overview.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/lf_datashare_overview.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/lf_datashare_overview.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/lf_datashare_overview.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/lf_datashare_overview.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/lf_datashare_overview.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/lf_datashare_overview.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/lf_datashare_overview.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/lf_datashare_overview.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/lf_datashare_overview.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/lf_datashare_overview.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/lf_datashare_overview.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/lf_datashare_overview.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/lf_datashare_overview.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/lf_datashare_overview.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/lf_datashare_overview.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/lf_datashare_overview.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Database Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Database Developer Guide" /><meta id="panorama-serviceConsolePage" value="AWS Lake Formation-managed datashares" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>AWS Lake Formation-managed datashares - Amazon Redshift</title><meta name="pdf" content="/pdfs/redshift/latest/dg/redshift-dg.pdf#lf_datashare_overview" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/lf_datashare_overview.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/lf_datashare_overview.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/lf_datashare_overview.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,developer,sample data,database,database developer,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Database Developer Guide",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Sharing data in Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/datashare-overview.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "What is a datashare?",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/what_is_datashare.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "AWS Lake Formation-managed datashares",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/what_is_datashare.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/redshift/latest/dg/redshift-dg.pdf#lf_datashare_overview" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Database Developer Guide</a></div><div id="page-toc-src"><a href="#lake-formation-datashare-considerations">Considerations and limitations when using AWS Lake Formation with Amazon Redshift</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="lf_datashare_overview">AWS Lake Formation-managed datashares</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p> Using AWS Lake Formation, you can centrally define and enforce database, table, column, and row-level
               access permissions of Amazon Redshift datashares and restrict user access to objects within a
               datashare. By sharing data through Lake Formation, you can define permissions in Lake Formation and apply those permissions to any datashare and
               its objects. For example, if you have a table containing employee information, you can use
               Lake Formation's column-level filters to prevent employees who don't work in the HR department
               from seeing personally identifiable information (PII), such as a social security number. For more information about
               data filters, see <a href="https://docs.aws.amazon.com/lake-formation/latest/dg/data-filtering.html">Data filtering and cell-level security in Lake Formation</a> in the
               <em>AWS Lake Formation Developer Guide</em>. </p><p>You can also use tags in Lake Formation to configure permissions on Lake Formation resources. For more information, see
               <a href="https://docs.aws.amazon.com/lake-formation/latest/dg/tag-based-access-control.html">Lake Formation Tag-based access control</a>.</p><p>
               Amazon Redshift currently supports data sharing via Lake Formation when sharing within the same account or across accounts. 
               Cross-Region sharing is currently not supported.
            </p><p>The following is a high-level overview of how to use Lake Formation to control datashare
               permissions:</p><div class="procedure"><ol><li><p>In Amazon Redshift, the producer cluster or workgroup administrator creates a datashare on the producer cluster or workgroup and grants usage to
                  a Lake Formation account.</p></li><li><p>The producer cluster or workgroup administrator authorizes the Lake Formation account to access the datashare.</p></li><li><p>The Lake Formation administrator discovers and registers the datashares. They must also discover the AWS Glue ARNs they have access to and associate the datashares with an
                  AWS Glue Data Catalog ARN. If you're using the AWS CLI you can discover and accept datashares with the 
                  Redshift CLI operations <code class="code">describe-data-shares</code> and <code class="code">associate-data-share-consumer</code>. To register a datashare,
                  use the Lake Formation CLI operation <code class="code">register-resource</code>.</p></li><li><p>The Lake Formation administrator creates a federated database in the AWS Glue Data Catalog, and configures Lake Formation
                  permissions to control user access to objects within the datashare.  For more information about
                  federated databases in AWS Glue, see <a href="https://docs.aws.amazon.com/lake-formation/latest/dg/data-sharing-redshift.html">Managing 
                     permissions for data in an Amazon Redshift datashare</a>.</p></li><li><p>The Lake Formation administrator discovers the AWS Glue databases they have access to and associates the
                  datashare with an AWS Glue Data Catalog ARN.</p></li><li><p>The Redshift administrator discovers the AWS Glue database ARNs they have access to, 
                  creates an external database in the Amazon Redshift consumer cluster using a AWS Glue database ARN, and 
                  grants usage to <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/options-for-providing-iam-credentials.html">database users authenticated with IAM credentials</a> to start querying the Amazon Redshift database.</p></li><li><p>Database users can use the views SVV_EXTERNAL_TABLES and SVV_EXTERNAL_COLUMNS to find all of the tables or columns within
                  the AWS Glue database that they have access to, and then they can query the AWS Glue database’s tables.</p></li><li><p>When the producer cluster or workgroup administrator decides to no longer share the data with the consumer cluster, the producer 
                  cluster administrator can revoke usage, deauthorize, or delete the datashare from Redshift. The associated permissions and objects in 
                  Lake Formation are not automatically deleted.</p></li></ol></div><p>For more information about sharing a datashare with AWS Lake Formation as a producer cluster or workgroup
               administrator, see <a href="./lake-formation-getting-started-producer.html">Working with Lake Formation-managed datashares as a producer</a>.
               To consume the shared data from the producer cluster or workgroup, see 
               <a href="./lake-formation-getting-started-consumer.html">Working with Lake Formation-managed datashares as a consumer</a>.</p>
               <h2 id="lake-formation-datashare-considerations">Considerations and limitations when using AWS Lake Formation with Amazon Redshift</h2>
               <p>The following are considerations and limitations for sharing Amazon Redshift data via Lake Formation. 
                  For information on data sharing considerations and limitations, see 
                  <a href="https://docs.aws.amazon.com/redshift/latest/dg/considerations.html">Considerations when using data sharing in Amazon Redshift</a>.
                  For information about Lake Formation limitations, see 
                  <a href="https://docs.aws.amazon.com/lake-formation/latest/dg/notes-rs-datashare.html">Notes on working with Amazon Redshift datashares in Lake Formation</a>.</p>
               <div class="itemizedlist">
                   
                  
                   
                   
                   
                   
                   
                   
                   
                   
                   
               <ul class="itemizedlist"><li class="listitem">
                     <p>Sharing a datashare to Lake Formation across Regions is currently unsupported.</p>
                  </li><li class="listitem">
                     <p>If column-level filters are defined for a user on a shared relation, performing a <code class="code">SELECT *</code> 
                        operation returns only the columns the user has access to.</p>
                  </li><li class="listitem">
                     <p>Cell-level filters from Lake Formation are unsupported.</p>
                  </li><li class="listitem">
                     <p>If you created and shared a view and its tables to Lake Formation, you can configure
                        filters to manage access of the tables, Amazon Redshift enforces Lake Formation defined policies when consumer cluster 
                        users access shared objects. When a user accesses a view shared with Lake Formation, Redshift enforces only the Lake Formation 
                        policies defined on the view and not the tables contained within the view. However, when users directly access the 
                        table, Redshift enforces the defined Lake Formation policies on the table.</p>
                  </li><li class="listitem">
                     <p>You can't create materialized views on the consumer 
                        based on a shared table if the table has Lake Formation filters configured.</p>
                  </li><li class="listitem">
                     <p>The Lake Formation administrator must have 
                        <a href="https://docs.aws.amazon.com/lake-formation/latest/dg/getting-started-setup.html#create-data-lake-admin">
                           data lake administrator</a> permissions and the <a href="https://docs.aws.amazon.com/lake-formation/latest/dg/redshift-ds-prereqs.html"> required permissions
                              to accept a datashare</a>.</p>
                  </li><li class="listitem">
                     <p>The producer consumer cluster must be an RA3 cluster with the latest 
                        Amazon Redshift cluster version or a serverless workgroup to share datashares via Lake Formation.</p>
                  </li><li class="listitem">
                     <p>Both the producer and consumer clusters must be encrypted.</p>
                  </li><li class="listitem">
                     <p>Redshift row-level and column-level access control policies implemented in the
                        producer cluster or workgroup are ignored when the datashare is shared to Lake Formation. The Lake Formation
                        administrator must configure these policies in Lake Formation. The producer cluster or workgroup administrator can turn off RLS
                        for a table by using the <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_ALTER_TABLE.html">ALTER TABLE</a> command.</p>
                  </li><li class="listitem">
                     <p>Sharing datashares via Lake Formation is only available to users who have access to both Redshift and Lake Formation.</p>
                  </li></ul></div>
               
            <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./adx_datashare_overview.html">AWS Data Exchange datashares</div><div id="next" class="next-link" accesskey="n" href="./how_it_works.html">How data sharing works</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/lf_datashare_overview.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/lf_datashare_overview.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>