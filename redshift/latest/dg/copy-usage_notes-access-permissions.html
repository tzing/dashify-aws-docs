<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Permissions to access other AWS Resources - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="copy-usage_notes-access-permissions" /><meta name="default_state" content="copy-usage_notes-access-permissions" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/redshift/latest/dg/copy-usage_notes-access-permissions.html" /><meta name="description" content="To move data between your cluster and another AWS resource, such as Amazon S3, Amazon DynamoDB, Amazon EMR, or Amazon EC2, your cluster must have permission to access the resource and perform the necessary actions. For example, to load data from Amazon S3, COPY must have LIST access to the bucket and GET access for the bucket objects. For information about minimum permissions, see" /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Database Developer Guide" /><meta name="abstract" content="Create and manage a data warehouse with Amazon Redshift, an enterprise-level, petabyte scale, fully managed data warehousing service." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/redshift/latest/dg/copy-usage_notes-access-permissions.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Database Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Database Developer Guide" /><meta id="panorama-serviceConsolePage" value="Permissions to access other AWS Resources" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Permissions to access other AWS Resources - Amazon Redshift</title><meta name="pdf" content="/pdfs/redshift/latest/dg/redshift-dg.pdf#copy-usage_notes-access-permissions" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/copy-usage_notes-access-permissions.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/copy-usage_notes-access-permissions.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/copy-usage_notes-access-permissions.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,developer,sample data,database,database developer,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Database Developer Guide",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "SQL reference",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "SQL commands",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "COPY",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/r_COPY.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Usage notes",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/r_COPY_usage_notes.html"
      },
      {
        "@type" : "ListItem",
        "position" : 8,
        "name" : "Permissions to access other AWS Resources",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/r_COPY_usage_notes.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/redshift/latest/dg/redshift-dg.pdf#copy-usage_notes-access-permissions" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Database Developer Guide</a></div><div id="page-toc-src"><a href="#copy-usage_notes-access-role-based">Role-based access
                  control</a><a href="#copy-usage_notes-access-key-based">Key-based access control</a><a href="#copy-usage_notes-iam-permissions">IAM permissions</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="copy-usage_notes-access-permissions">Permissions to access other AWS
               Resources</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p> To move data between your cluster and another AWS resource, such as Amazon S3, Amazon DynamoDB,
            Amazon EMR, or Amazon EC2, your cluster must have permission to access the resource and perform
            the necessary actions. For example, to load data from Amazon S3, COPY must have LIST access
            to the bucket and GET access for the bucket objects. For information about minimum
            permissions, see <a href="#copy-usage_notes-iam-permissions">IAM permissions for COPY, UNLOAD,
                  and CREATE LIBRARY</a>.</p><p>To get authorization to access the resource, your cluster must be authenticated. You
            can choose either of the following authentication methods: </p><div class="itemizedlist">
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p><a href="#copy-usage_notes-access-role-based">Role-based access
                  control</a> – For role-based
                  access control, you specify an AWS Identity and Access Management (IAM) role that your cluster uses for
                  authentication and authorization. To safeguard your AWS credentials and sensitive
                  data, we strongly recommend using role-based authentication.</p>
            </li><li class="listitem">
               <p><a href="#copy-usage_notes-access-key-based">Key-based access control</a> – For key-based
                  access control, you provide the AWS access credentials (access key ID and secret
                  access key) for a user as plain text.</p>
            </li></ul></div>
            <h2 id="copy-usage_notes-access-role-based">Role-based access
                  control</h2>

            <p>With <span>role-based access control</span>, your
               cluster temporarily assumes an IAM role on your behalf. Then, based on the
               authorizations granted to the role, your cluster can access the required AWS
               resources.</p>
            <p>Creating an IAM <em>role</em> is similar to granting permissions to a user, in that it is an AWS
               identity with permissions policies that determine what the identity can and can't do
               in AWS. However, instead of being uniquely associated with one user, a role can be
               assumed by any entity that needs it. Also, a role doesn’t have any credentials (a
               password or access keys) associated with it. Instead, if a role is associated with a
               cluster, access keys are created dynamically and provided to the cluster.</p>
            <p>We recommend using role-based access control because it provides more secure,
               fine-grained control of access to AWS resources and sensitive user data, in addition
               to safeguarding your AWS credentials.</p>
            <p>Role-based authentication delivers the following benefits:</p>
            <div class="itemizedlist">
                
                
                
                
            <ul class="itemizedlist"><li class="listitem">
                  <p>You can use AWS standard IAM tools to define an IAM role and associate the
                     role with multiple clusters. When you modify the access policy for a role, the
                     changes are applied automatically to all clusters that use the role.</p>
               </li><li class="listitem">
                  <p>You can define fine-grained IAM policies that grant permissions for
                     specific clusters and database users to access specific AWS resources and
                     actions.</p>
               </li><li class="listitem">
                  <p>Your cluster obtains temporary session credentials at run time and refreshes
                     the credentials as needed until the operation completes. If you use key-based
                     temporary credentials, the operation fails if the temporary credentials expire
                     before it completes.</p>
               </li><li class="listitem">
                  <p>Your access key ID and secret access key ID aren't stored or transmitted in
                     your SQL code.</p>
               </li></ul></div>
            <p>To use role-based access control, you must first create an IAM role using the
               Amazon Redshift service role type, and then attach the role to your cluster. The role must have,
               at a minimum, the permissions listed in <a href="#copy-usage_notes-iam-permissions">IAM permissions for COPY, UNLOAD,
                  and CREATE LIBRARY</a>. For steps to create an IAM
               role and attach it to your cluster, see <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/authorizing-redshift-service.html">Authorizing Amazon Redshift to Access
                  Other AWS Services On Your Behalf</a> in the
                  <em>Amazon Redshift Management Guide</em>.</p>
            
            <p>You can add a role to a cluster or view the roles associated with a cluster by
               using the Amazon Redshift Management Console, CLI, or API. For more information, see <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/copy-unload-iam-role.html">Associating an IAM Role With a
                  Cluster</a> in the <em>Amazon Redshift Management Guide</em>.</p>
            <p>When you create an IAM role, IAM returns an Amazon Resource Name (ARN) for the
               role. To specify an IAM role, provide the role ARN with either the <a href="./copy-parameters-authorization.html#copy-iam-role">IAM_ROLE</a> parameter or the <a href="./copy-parameters-authorization.html#copy-credentials">CREDENTIALS</a>
               parameter. </p>
            <p>For example, suppose the following role is attached to the cluster.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">"IamRoleArn": "arn:aws:iam::0123456789012:role/MyRedshiftRole"</code></pre>
            <p>The following COPY command example uses the IAM_ROLE parameter with the ARN in the
               previous example for authentication and access to Amazon S3.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">copy customer from 's3://mybucket/mydata'  
iam_role 'arn:aws:iam::0123456789012:role/MyRedshiftRole';</code></pre>
            <p>The following COPY command example uses the CREDENTIALS parameter to specify the
               IAM role.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">copy customer from 's3://mybucket/mydata' 
credentials 
'aws_iam_role=arn:aws:iam::0123456789012:role/MyRedshiftRole';</code></pre>
            <p>In addition, a superuser can grant the ASSUMEROLE privilege to database users and groups to provide access to a role for COPY operations. For information, see <a href="./r_GRANT.html">GRANT</a>.</p>
          
            <h2 id="copy-usage_notes-access-key-based">Key-based access control</h2>

            <p>With <span>key-based access control</span>, you
               provide the access key ID and secret access key for an IAM user that is authorized
               to access the AWS resources that contain the data. You can user either the <a href="./copy-parameters-authorization.html#copy-access-key-id">ACCESS_KEY_ID and SECRET_ACCESS_KEY</a> parameters together or the <a href="./copy-parameters-authorization.html#copy-credentials">CREDENTIALS</a> parameter.</p>
            
            
            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>We strongly recommend using an IAM role for authentication instead of
                  supplying a plain-text access key ID and secret access key. If you choose
                  key-based access control, never use your AWS account (root) credentials. Always
                  create an IAM user and provide that user's access key ID and secret access key.
                  For steps to create an IAM user, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users_create.html">Creating an IAM User in Your AWS
                     Account</a>.</p></div></div>
            
            <p>To authenticate using ACCESS_KEY_ID and SECRET_ACCESS_KEY, replace
                  <code class="replaceable">&lt;access-key-id&gt;</code> and
                  <code class="replaceable">&lt;secret-access-key&gt;</code> with an authorized user's
               access key ID and full secret access key as shown following. </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">ACCESS_KEY_ID '<code class="replaceable">&lt;access-key-id&gt;</code>'
SECRET_ACCESS_KEY '<code class="replaceable">&lt;secret-access-key&gt;</code>';</code></pre>
            <p>To authenticate using the CREDENTIALS parameter, replace
                  <code class="replaceable">&lt;access-key-id&gt;</code> and
                  <code class="replaceable">&lt;secret-access-key&gt;</code> with an authorized user's
               access key ID and full secret access key as shown following.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">CREDENTIALS
'aws_access_key_id=<code class="replaceable">&lt;access-key-id&gt;</code>;aws_secret_access_key=<code class="replaceable">&lt;secret-access-key&gt;</code>';</code></pre>

            
            <p>The IAM user must have, at a minimum, the permissions listed in <a href="#copy-usage_notes-iam-permissions">IAM permissions for COPY, UNLOAD,
                  and CREATE LIBRARY</a>.</p>


             
               <h3 id="r_copy-temporary-security-credentials">Temporary security
                     credentials</h3>


               <p> If you are using key-based access control, you can further limit the access
                  users have to your data by using temporary security credentials. Role-based
                  authentication automatically uses temporary credentials. </p>
               <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>We strongly recommend using <a href="#copy-usage_notes-access-role-based.phrase">role-based access control</a> instead of creating
                     temporary credentials and providing access key ID and secret access key as
                     plain text. Role-based access control automatically uses temporary credentials.
                  </p></div></div>
               <p>Temporary security credentials provide enhanced security because they have
                  short lifespans and can't be reused after they expire. The access key ID and
                  secret access key generated with the token can't be used without the token, and a
                  user who has these temporary security credentials can access your resources only
                  until the credentials expire.</p>
               <p>To grant users temporary access to your resources, you call AWS Security Token Service (AWS STS)
                  API operations. The AWS STS API operations return temporary security credentials
                  consisting of a security token, an access key ID, and a secret access key. You
                  issue the temporary security credentials to the users who need temporary access to
                  your resources. These users can be existing IAM users, or they can be non-AWS
                  users. For more information about creating temporary security credentials, see
                     <a href="https://docs.aws.amazon.com/STS/latest/UsingSTS/Welcome.html">Using Temporary Security
                     Credentials</a> in the IAM User Guide.</p>
               <p>You can use either the <a href="./copy-parameters-authorization.html#copy-access-key-id">ACCESS_KEY_ID and SECRET_ACCESS_KEY</a> parameters
                  together with the <a href="./copy-parameters-authorization.html#copy-token">SESSION_TOKEN</a> parameter or the <a href="./copy-parameters-authorization.html#copy-credentials">CREDENTIALS</a> parameter. You must also supply the access key ID
                  and secret access key that were provided with the token.</p>
               <p>To authenticate using ACCESS_KEY_ID, SECRET_ACCESS_KEY, and SESSION_TOKEN,
                  replace <code class="replaceable">&lt;temporary-access-key-id&gt;</code>,
                     <code class="replaceable">&lt;temporary-secret-access-key&gt;</code>, and
                     <code class="replaceable">&lt;temporary-token&gt;</code> as shown following. </p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">ACCESS_KEY_ID '<code class="replaceable">&lt;temporary-access-key-id&gt;</code>'
SECRET_ACCESS_KEY '<code class="replaceable">&lt;temporary-secret-access-key&gt;</code>'
SESSION_TOKEN '<code class="replaceable">&lt;temporary-token&gt;</code>';</code></pre>
               <p>To authenticate using CREDENTIALS, include
                        <code class="code">session_token=<code class="replaceable">&lt;temporary-token&gt;</code></code> in the
                  credentials string as shown following. </p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">CREDENTIALS
'aws_access_key_id=<code class="replaceable">&lt;temporary-access-key-id&gt;</code>;aws_secret_access_key=<code class="replaceable">&lt;temporary-secret-access-key&gt;</code>;session_token=<code class="replaceable">&lt;temporary-token&gt;</code>';</code></pre>
               <p>The following example shows a COPY command with temporary security
                  credentials.</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">copy table-name
from 's3://objectpath'
access_key_id '<code class="replaceable">&lt;temporary-access-key-id&gt;</code>'
secret_access_key '<code class="replaceable">&lt;temporary-secret-access-key&gt;</code>'
session_token '<code class="replaceable">&lt;temporary-token&gt;</code>';</code></pre>
               <p>The following example loads the LISTING table with temporary credentials and
                  file encryption.</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">copy listing
from 's3://mybucket/data/listings_pipe.txt'
access_key_id '<code class="replaceable">&lt;temporary-access-key-id&gt;</code>'
secret_access_key '<code class="replaceable">&lt;temporary-secret-access-key&gt;</code>'
session_token '<code class="replaceable">&lt;temporary-token&gt;</code>'
master_symmetric_key '<code class="replaceable">&lt;root-key&gt;</code>'
encrypted;</code></pre>
               <p>The following example loads the LISTING table using the CREDENTIALS parameter
                  with temporary credentials and file encryption.</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">copy listing
from 's3://mybucket/data/listings_pipe.txt'
credentials 
'aws_access_key_id=<code class="replaceable">&lt;temporary-access-key-id&gt;</code>;aws_secret_access_key=<code class="replaceable">&lt;temporary-secret-access-key&gt;</code>;session_token=<code class="replaceable">&lt;temporary-token&gt;</code>;master_symmetric_key=<code class="replaceable">&lt;root-key&gt;</code>'
encrypted;</code></pre>
               <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>The temporary security credentials must be valid for the entire duration of
                     the COPY or UNLOAD operation. If the temporary security credentials expire
                     during the operation, the command fails and the transaction is rolled back. For
                     example, if temporary security credentials expire after 15 minutes and the COPY
                     operation requires one hour, the COPY operation fails before it completes. If
                     you use role-based access, the temporary security credentials are automatically
                     refreshed until the operation completes.</p></div></div>
             
          
            <h2 id="copy-usage_notes-iam-permissions">IAM permissions for COPY, UNLOAD,
                  and CREATE LIBRARY</h2>


            <p>The IAM role or user referenced by the CREDENTIALS parameter must have, at a
               minimum, the following permissions:</p>
            <div class="itemizedlist">
                
                
                
                
                
                
            <ul class="itemizedlist"><li class="listitem">
                  <p>For COPY from Amazon S3, permission to LIST the Amazon S3 bucket and GET the Amazon S3
                     objects that are being loaded, and the manifest file, if one is used.</p>
               </li><li class="listitem">
                  <p>For COPY from Amazon S3, Amazon EMR, and remote hosts (SSH) with JSON-formatted data,
                     permission to LIST and GET the JSONPaths file on Amazon S3, if one is used. </p>
               </li><li class="listitem">
                  <p>For COPY from DynamoDB, permission to SCAN and DESCRIBE the DynamoDB table that is
                     being loaded. </p>
               </li><li class="listitem">
                  <p>For COPY from an Amazon EMR cluster, permission for the
                        <code class="code">ListInstances</code> action on the Amazon EMR cluster. </p>
               </li><li class="listitem">
                  <p>For UNLOAD to Amazon S3, GET, LIST, and PUT permissions for the Amazon S3 bucket to
                     which the data files are being unloaded.</p>
               </li><li class="listitem">
                  <p>For CREATE LIBRARY from Amazon S3, permission to LIST the Amazon S3 bucket and GET the
                     Amazon S3 objects being imported.</p>
               </li></ul></div>
            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>If you receive the error message <code class="code">S3ServiceException: Access
                  Denied</code>, when running a COPY, UNLOAD, or CREATE LIBRARY command, your
                  cluster doesn’t have proper access permissions for Amazon S3.</p></div></div>
            <p>You can manage IAM permissions by attaching an IAM policy to an IAM role that is
               attached to your cluster, to a user, or to the group to which your user
               belongs. For example, the <code class="code">AmazonS3ReadOnlyAccess</code> managed policy grants
               LIST and GET permissions to Amazon S3 resources. For more information about IAM
               policies, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_manage.html">Managing IAM
                  Policies</a> in the <em>IAM User Guide</em>. </p>

         <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_COPY_usage_notes.html">Usage notes</div><div id="next" class="next-link" accesskey="n" href="./copy-usage_notes-s3-access-point-alias.html">Using COPY with Amazon S3 access point aliases</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/copy-usage_notes-access-permissions.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/copy-usage_notes-access-permissions.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>