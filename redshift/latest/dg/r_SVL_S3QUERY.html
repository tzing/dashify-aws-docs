<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>SVL_S3QUERY - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_SVL_S3QUERY" /><meta name="default_state" content="r_SVL_S3QUERY" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/redshift/latest/dg/r_SVL_S3QUERY.html" /><meta name="description" content="Use the SVL_S3QUERY view to get details about Amazon Redshift Spectrum queries (S3 queries) at the segment and node slice level." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Database Developer Guide" /><meta name="abstract" content="Create and manage a data warehouse with Amazon Redshift, an enterprise-level, petabyte scale, fully managed data warehousing service." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/redshift/latest/dg/r_SVL_S3QUERY.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_SVL_S3QUERY.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_SVL_S3QUERY.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_SVL_S3QUERY.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_SVL_S3QUERY.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_SVL_S3QUERY.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_SVL_S3QUERY.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_SVL_S3QUERY.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_SVL_S3QUERY.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_SVL_S3QUERY.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_SVL_S3QUERY.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_SVL_S3QUERY.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_SVL_S3QUERY.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_SVL_S3QUERY.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_SVL_S3QUERY.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_SVL_S3QUERY.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_SVL_S3QUERY.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_SVL_S3QUERY.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_SVL_S3QUERY.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_SVL_S3QUERY.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_SVL_S3QUERY.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_SVL_S3QUERY.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Database Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Database Developer Guide" /><meta id="panorama-serviceConsolePage" value="SVL_S3QUERY" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>SVL_S3QUERY - Amazon Redshift</title><meta name="pdf" content="/pdfs/redshift/latest/dg/redshift-dg.pdf#r_SVL_S3QUERY" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/r_SVL_S3QUERY.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/r_SVL_S3QUERY.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/r_SVL_S3QUERY.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,developer,sample data,database,database developer,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Database Developer Guide",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "System tables and views reference",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/cm_chap_system-tables.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "System monitoring (provisioned only)",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/c_intro_system_views.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "SVL views for main cluster",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/svl_views.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "SVL_S3QUERY",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/svl_views.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/redshift/latest/dg/redshift-dg.pdf#r_SVL_S3QUERY" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Database Developer Guide</a></div><div id="page-toc-src"><a href="#r_SVL_S3QUERY-table-columns">Table columns</a><a href="#r_SVL_S3QUERY-sample-query">Sample queries</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="r_SVL_S3QUERY">SVL_S3QUERY</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Use the SVL_S3QUERY view to get details about Amazon Redshift Spectrum queries at the segment and
            node slice level.</p><p>SVL_S3QUERY is visible to all users. Superusers can see all rows; regular users can see only their own data. For more information, see <a href="./cm_chap_system-tables.html#c_visibility-of-data">Visibility of data in system tables and
                views</a>.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>SVL_S3QUERY only contains queries run on main clusters. It doesn't contain queries run on concurrency scaling clusters. 
To access queries run on both main and concurrency scaling clusters, we recommend that you use the SYS monitoring view 
            <a href="./SYS_EXTERNAL_QUERY_DETAIL.html#SYS_EXTERNAL_QUERY_DETAIL.title">SYS_EXTERNAL_QUERY_DETAIL</a>
            . The data in the SYS monitoring view is formatted to be easier to use and understand.</p></div></div>
            <h2 id="r_SVL_S3QUERY-table-columns">Table columns</h2>
            
            
            <div class="table-container"><div class="table-contents"><table id="w323aac69c17c15c63c11b3"><thead>
                        <tr>
                            <th>Column name </th>
                            <th>Data type </th>
                            <th>Description </th>
                        </tr>
                    </thead>
                        <tr>
                            <td tabindex="-1">userid</td>
                            <td tabindex="-1">integer</td>
                            <td tabindex="-1">The ID of user who generated a given
                                entry.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">query</td>
                            <td tabindex="-1">integer</td>
                            <td tabindex="-1">The query ID.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">segment</td>
                            <td tabindex="-1">integer</td>
                            
                            <td tabindex="-1">A segment number. A query consists of multiple
                                segments, and each segment consists of one or more steps.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">step</td>
                            <td tabindex="-1">integer</td>
                            <td tabindex="-1">The query step that ran. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">node</td>
                            <td tabindex="-1">integer</td>
                            <td tabindex="-1">The node number.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">slice</td>
                            <td tabindex="-1">integer</td>
                            <td tabindex="-1">The data slice that a particular segment ran
                                against.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">starttime</td>
                            <td tabindex="-1">timestamp</td>
                            <td tabindex="-1">Time in UTC that the query started
                                executing.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">endtime</td>
                            <td tabindex="-1">timestamp</td>
                            <td tabindex="-1">Time in UTC that the query execution
                                completed</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">elapsed</td>
                            <td tabindex="-1">integer</td>
                            <td tabindex="-1">Elapsed time (in microseconds).</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">external_table_name</td>
                            <td tabindex="-1">char(136)</td>
                            <td tabindex="-1">Internal format of external table name for the s3
                                scan step.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">is_partitioned</td>
                            <td tabindex="-1">char(1)</td>
                            <td tabindex="-1">If true (<code class="userinput">t</code>), this column
                                value indicates that the external table is partitioned.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">is_rrscan</td>
                            <td tabindex="-1">char(1)</td>
                            <td tabindex="-1">If true (<code class="userinput">t</code>), this column
                                value indicates that a range-restricted scan was applied.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">s3_scanned_rows</td>
                            <td tabindex="-1">bigint</td>
                            <td tabindex="-1">The number of rows scanned from Amazon S3 and sent to
                                the Redshift Spectrum layer.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">s3_scanned_bytes</td>
                            <td tabindex="-1">bigint</td>
                            <td tabindex="-1">The number of bytes scanned from Amazon S3 and sent to
                                the Redshift Spectrum layer.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">s3query_returned_rows</td>
                            <td tabindex="-1">bigint</td>
                            <td tabindex="-1">The number of rows returned from the Redshift
                                Spectrum layer to the cluster.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">s3query_returned_bytes</td>
                            <td tabindex="-1">bigint</td>
                            <td tabindex="-1">The number of bytes returned from the Redshift
                                Spectrum layer to the cluster.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">files</td>
                            <td tabindex="-1">integer</td>
                            <td tabindex="-1">The number of files that were processed for this
                                S3 scan step on this slice.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">splits</td>
                            <td tabindex="-1">int</td>
                            <td tabindex="-1">The number of splits processed on this slice.
                                With large splitable data files, for example, data files larger than
                                about 512 MB, Redshift Spectrum tries to split the files into
                                multiple S3 requests for parallel processing.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">total_split_size</td>
                            <td tabindex="-1">bigint</td>
                            <td tabindex="-1">The total size of all splits processed on this
                                slice, in bytes.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">max_split_size</td>
                            <td tabindex="-1">bigint</td>
                            <td tabindex="-1">The maximum split size processed for this slice,
                                in bytes.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">total_retries</td>
                            <td tabindex="-1">integer</td>
                            <td tabindex="-1">The total number of retries for the processed
                                files.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">max_retries</td>
                            <td tabindex="-1">integer</td>
                            <td tabindex="-1">The maximum number of retries for an individual
                                processed file.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">max_request_duration</td>
                            <td tabindex="-1">integer</td>
                            <td tabindex="-1">The maximum duration of an individual Redshift
                                Spectrum request (in microseconds).</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">avg_request_duration</td>
                            <td tabindex="-1">double precision</td>
                            <td tabindex="-1">The average duration of the Redshift Spectrum
                                requests (in microseconds).</td>
                        </tr>
                        <tr>

                            <td tabindex="-1">max_request_parallelism</td>
                            <td tabindex="-1">integer</td>
                            <td tabindex="-1">The maximum number of outstanding Redshift
                                Spectrum on this slice for this S3 scan step.</td>
                        </tr>
                        <tr>

                            <td tabindex="-1">avg_request_parallelism</td>
                            <td tabindex="-1">double precision</td>
                            <td tabindex="-1">The average number of parallel Redshift Spectrum
                                requests on this slice for this S3 scan step.</td>
                        </tr>
                        
                    </table></div></div>
         
            <h2 id="r_SVL_S3QUERY-sample-query">Sample query</h2>
            
            
            <p>The following example gets the scan step details for the last query
                completed.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select query, segment, slice, elapsed, s3_scanned_rows, s3_scanned_bytes, s3query_returned_rows, s3query_returned_bytes, files 
from svl_s3query 
where query = pg_last_query_id() 
order by query,segment,slice;</code></pre>
            <pre class="screen">query | segment | slice | elapsed | s3_scanned_rows | s3_scanned_bytes | s3query_returned_rows | s3query_returned_bytes | files
------+---------+-------+---------+-----------------+------------------+-----------------------+------------------------+------
 4587 |       2 |     0 |   67811 |               0 |                0 |                     0 |                      0 |     0
 4587 |       2 |     1 |  591568 |          172462 |         11260097 |                  8513 |                 170260 |     1
 4587 |       2 |     2 |  216849 |               0 |                0 |                     0 |                      0 |     0
 4587 |       2 |     3 |  216671 |               0 |                0 |                     0 |                      0 |     0</pre>
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_SVL_S3PARTITION_SUMMARY.html">SVL_S3PARTITION_SUMMARY</div><div id="next" class="next-link" accesskey="n" href="./r_SVL_S3QUERY_SUMMARY.html">SVL_S3QUERY_SUMMARY</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/r_SVL_S3QUERY.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/r_SVL_S3QUERY.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>