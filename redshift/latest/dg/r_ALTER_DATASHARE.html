<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>ALTER DATASHARE - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_ALTER_DATASHARE" /><meta name="default_state" content="r_ALTER_DATASHARE" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/redshift/latest/dg/r_ALTER_DATASHARE.html" /><meta name="description" content="Alters a datashare." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Database Developer Guide" /><meta name="abstract" content="Create and manage a data warehouse with Amazon Redshift, an enterprise-level, petabyte scale, fully managed data warehousing service." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/redshift/latest/dg/r_ALTER_DATASHARE.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Database Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Database Developer Guide" /><meta id="panorama-serviceConsolePage" value="ALTER DATASHARE" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>ALTER DATASHARE - Amazon Redshift</title><meta name="pdf" content="/pdfs/redshift/latest/dg/redshift-dg.pdf#r_ALTER_DATASHARE" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/r_ALTER_DATASHARE.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/r_ALTER_DATASHARE.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/r_ALTER_DATASHARE.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,developer,sample data,database,database developer,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Database Developer Guide",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "SQL reference",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "SQL commands",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "ALTER DATASHARE",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/c_SQL_commands.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/redshift/latest/dg/redshift-dg.pdf#r_ALTER_DATASHARE" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Database Developer Guide</a></div><div id="page-toc-src"><a href="#r_ALTER_DATASHARE-privileges">Required privileges</a><a href="#r_ALTER_DATASHARE-synopsis">Syntax</a><a href="#r_ALTER_DATASHARE-parameters">Parameters</a><a href="#r_ALTER_DATASHARE_usage">ALTER DATASHARE usage notes</a><a href="#r_ALTER_DATASHARE_examples">Examples</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="r_ALTER_DATASHARE">ALTER DATASHARE</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Changes the definition of a datashare. You can add objects or remove objects using ALTER
         DATASHARE. You can only change a datashare in the current database. Add or remove objects from the associated database to a datashare. The owner of the datashare with the required permissions on the datashare objects to be added or removed can alter the datashare.</p>
         <h2 id="r_ALTER_DATASHARE-privileges">Required privileges</h2>
         <p>Following are required privileges for ALTER DATASHARE:</p>
         <div class="itemizedlist">
             
             
             
             
         <ul class="itemizedlist"><li class="listitem"><p>Superuser.</p></li><li class="listitem"><p>User with the ALTER DATASHARE privilege.</p></li><li class="listitem"><p>Users who have the ALTER or ALL privilege on the datashare.</p></li><li class="listitem"><p>To add specific objects to a datashare, users must have the privilege on the objects. For this
                  case, users should be the owners of objects or have SELECT, USAGE, or ALL
                  privileges on the objects.

            
            </p></li></ul></div>
       
         <h2 id="r_ALTER_DATASHARE-synopsis">Syntax</h2>

         <p>The following syntax illustrates how to add or remove objects to the datashare.</p>
         <pre class="screen">ALTER DATASHARE datashare_name <span>{</span> ADD | REMOVE } <span>{</span>
TABLE <em>schema.table</em> [, ...]
| SCHEMA <em>schema</em> [, ...]
| FUNCTION <em>schema.sql_udf</em> (argtype,...) [, ...]
| ALL TABLES IN SCHEMA <em>schema</em> [, ...]
| ALL FUNCTIONS IN SCHEMA <em>schema</em> [, ...] }</pre>

         <p>The following syntax illustrates how to configure the properties of the datashare.</p>
         <pre class="screen">ALTER DATASHARE datashare_name <span>{</span>
[ SET PUBLICACCESSIBLE [=] TRUE | FALSE ]
[ SET INCLUDENEW [=] TRUE | FALSE FOR SCHEMA <em>schema</em> ] }</pre>
       
         <h2 id="r_ALTER_DATASHARE-parameters">Parameters</h2>


         <div class="variablelist">
             

             

             

             

             

             

             

             

             
         <dl>
               <dt><span class="term"><em>datashare_name</em></span></dt>
               <dd>
                  <p>The name of the datashare to be altered. </p>
               </dd>
             
               <dt><span class="term">ADD | REMOVE</span></dt>
               <dd>
                  <p>A clause that specifies whether to add objects to or remove objects from the
                     datashare.</p>
               </dd>
             
               <dt><span class="term">TABLE <em>schema</em>.<em>table</em> [, ...]</span></dt>
               <dd>
                  <p>The name of the table or view in the specified schema to add to the
                     datashare.</p>
               </dd>
             
               <dt><span class="term">SCHEMA <em>schema</em> [, ...] </span></dt>
               <dd>
                  <p>The name of the schema to add to the datashare.</p>
               </dd>
             
               <dt><span class="term">FUNCTION <em>schema</em>.<em>sql_udf</em> (argtype,...) [,
                  ...]</span></dt>
               <dd>
                  <p>The name of the user-defined SQL function with argument types to add to the datashare.</p>
               </dd>
             
               <dt><span class="term">ALL TABLES IN SCHEMA <em>schema</em>  [, ...]  </span></dt>
               <dd>
                  <p>A clause that specifies whether to add all tables and views in the specified schema to the datashare.</p>

               </dd>
             
               <dt><span class="term">ALL FUNCTIONS IN SCHEMA <em>schema</em> [, ...] }</span></dt>
               <dd>
                  <p>A clause that specifies adding all functions in the specified schema to the
                     datashare.</p>
               </dd>
             
               <dt><span class="term">[ SET PUBLICACCESSIBLE [=] TRUE | FALSE ]</span></dt>
               <dd>
                  <p>A clause that specifies whether a datashare can be shared to clusters that
                     are publicly accessible.</p>
               </dd>
             
               <dt><span class="term">[ SET INCLUDENEW [=] TRUE | FALSE FOR SCHEMA <em>schema</em> ]</span></dt>
               <dd><p>A clause that specifies whether to add any future tables, views, or SQL user-defined functions
                     (UDFs) created in the specified schema to the datashare. Current tables, views,
                     or SQL UDFs in the specified schema aren't added to the datashare. Only
                     superusers can change this property for each datashare-schema pair. By default,
                     the INCLUDENEW clause is false. </p></dd>
            </dl></div>
       
         <h2 id="r_ALTER_DATASHARE_usage">ALTER DATASHARE usage notes</h2>

       <div class="itemizedlist">
           
         
          

           


             
               
         <ul class="itemizedlist"><li class="listitem">
            <p>The following users can alter a datashare:</p>
         <div class="itemizedlist">
             
             
             
         <ul class="itemizedlist"><li class="listitem"><p>A superuser</p></li><li class="listitem"><p>The owner of the datashare</p></li><li class="listitem"><p>Users that have ALTER or ALL privilege on the datashare</p></li></ul></div>

            </li><li class="listitem"><p>To add specific objects to a datashare, users must have the correct privileges on the objects.
                  Users should be the owners of objects or have SELECT, USAGE, or ALL privileges on
                  the objects.</p></li><li class="listitem"><p>You can share schemas, tables, regular views, late-binding views, materialized views, and SQL
                  user-defined functions (UDFs). Add a schema to a datashare first before adding
                  objects in the schema. </p>
               <p>When you add a schema, Amazon Redshift doesn't add all the objects under it. You
                  must add them explicitly. </p></li><li class="listitem">
             <p>We recommend that you create AWS Data Exchange datashares with the publicly
                accessible setting turned on.</p></li><li class="listitem"><p>In general, we recommend that you don't alter an AWS Data Exchange datashare to turn off public accessibility using the ALTER DATASHARE statement. If you do, the AWS accounts that have access to the
                  datashare lose access if their clusters are publicly accessible. Performing this type of alteration can breach data product
                  terms in AWS Data Exchange. For an exception to this recommendation, see following.</p>
               <p>The following example shows an error when an AWS Data Exchange datashare is created with
                  the setting turned off.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">ALTER DATASHARE salesshare SET PUBLICACCESSIBLE FALSE;
ERROR:  Alter of ADX-managed datashare salesshare requires session variable datashare_break_glass_session_var to be set to value 'c670ba4db22f4b'</code></pre>
               <p>To allow altering an AWS Data Exchange datashare to turn off the publicly accessible
                  setting, set the following variable and run the ALTER DATASHARE statement
                  again.</p>
               
<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SET datashare_break_glass_session_var to 'c670ba4db22f4b';</code></pre>
<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">ALTER DATASHARE salesshare SET PUBLICACCESSIBLE FALSE;</code></pre>
               <p>In this case, Amazon Redshift generates a random one-time value to set the session
                  variable to allow ALTER DATASHARE SET PUBLICACCESSIBLE FALSE for an AWS Data Exchange
                  datashare.</p>
            </li></ul></div>


       
         <h2 id="r_ALTER_DATASHARE_examples">Examples</h2>
         <p>The following example adds the <code class="code">public</code> schema to the datashare <code class="code">salesshare</code>.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">ALTER DATASHARE salesshare ADD SCHEMA public;</code></pre>
         <p>The following example adds the <code class="code">public.tickit_sales_redshift</code> table to the
            datashare <code class="code">salesshare</code>.</p>
         
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">ALTER DATASHARE salesshare ADD TABLE public.tickit_sales_redshift;</code></pre>

         <p>The following example adds all tables to the datashare
            <code class="code">salesshare</code>.</p>
         
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">ALTER DATASHARE salesshare ADD ALL TABLES IN SCHEMA PUBLIC;</code></pre>



         <p>The following example removes the <code class="code">public.tickit_sales_redshift</code> table
            from the datashare <code class="code">salesshare</code>.</p>
         
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">ALTER DATASHARE salesshare REMOVE TABLE public.tickit_sales_redshift;</code></pre>

      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_ALTER_DATABASE.html">ALTER DATABASE</div><div id="next" class="next-link" accesskey="n" href="./r_ALTER_DEFAULT_PRIVILEGES.html">ALTER DEFAULT PRIVILEGES</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/r_ALTER_DATASHARE.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/r_ALTER_DATASHARE.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>