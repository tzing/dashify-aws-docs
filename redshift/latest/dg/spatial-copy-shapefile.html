<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Loading a shapefile into Amazon Redshift - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="spatial-copy-shapefile" /><meta name="default_state" content="spatial-copy-shapefile" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/redshift/latest/dg/spatial-copy-shapefile.html" /><meta name="description" content="Copy a shapefile into Amazon Redshift tables for further processing." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Database Developer Guide" /><meta name="abstract" content="Create and manage a data warehouse with Amazon Redshift, an enterprise-level, petabyte scale, fully managed data warehousing service." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/redshift/latest/dg/spatial-copy-shapefile.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/spatial-copy-shapefile.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/spatial-copy-shapefile.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/spatial-copy-shapefile.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/spatial-copy-shapefile.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/spatial-copy-shapefile.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/spatial-copy-shapefile.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/spatial-copy-shapefile.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/spatial-copy-shapefile.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/spatial-copy-shapefile.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/spatial-copy-shapefile.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/spatial-copy-shapefile.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/spatial-copy-shapefile.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/spatial-copy-shapefile.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/spatial-copy-shapefile.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/spatial-copy-shapefile.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/spatial-copy-shapefile.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/spatial-copy-shapefile.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/spatial-copy-shapefile.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/spatial-copy-shapefile.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/spatial-copy-shapefile.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/spatial-copy-shapefile.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Database Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Database Developer Guide" /><meta id="panorama-serviceConsolePage" value="Loading a shapefile into Amazon Redshift" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Loading a shapefile into Amazon Redshift - Amazon Redshift</title><meta name="pdf" content="/pdfs/redshift/latest/dg/redshift-dg.pdf#spatial-copy-shapefile" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/spatial-copy-shapefile.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/spatial-copy-shapefile.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/spatial-copy-shapefile.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,developer,sample data,database,database developer,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Database Developer Guide",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Querying spatial data in Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/geospatial-overview.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Loading a shapefile into Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/geospatial-overview.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/redshift/latest/dg/redshift-dg.pdf#spatial-copy-shapefile" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Database Developer Guide</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="spatial-copy-shapefile">Loading a shapefile into Amazon Redshift</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>You can use the COPY command to ingest Esri shapefiles stored in Amazon S3 into Amazon Redshift tables.
         A <em>shapefile</em>  
         stores the geometric location and attribute information of geographic features in a vector format.
         The shapefile format can spatially describe spatial objects such as points, lines, and
         polygons. For more information about a shapefile, see <a href="https://en.wikipedia.org/wiki/Shapefile" rel="noopener noreferrer" target="_blank"><span>Shapefile</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> in Wikipedia.
         
         
      </p><p>The COPY command supports the data format parameter <code class="code">SHAPEFILE</code>.
         By default, the first column of the shapefile is either a <code class="code">GEOMETRY</code> or <code class="code">IDENTITY</code> column.  
         All subsequent columns follow the order specified in the shapefile. 
         However, the target table doesn't need to be in this exact layout because you can use COPY column mapping to define the order. 
         For information about the COPY command shapefile support, see
         <a href="./copy-parameters-data-format.html#copy-shapefile">SHAPEFILE</a>.</p><p>In some cases, the resulting geometry size might be greater than the maximum for storing
         a geometry in Amazon Redshift. If so, you can use the COPY option <code class="code">SIMPLIFY</code> or
            <code class="code">SIMPLIFY AUTO</code> to simplify the geometries during ingestion as
         follows:</p><div class="itemizedlist">
          
          
          
      <ul class="itemizedlist"><li class="listitem"><p>Specify <code class="code">SIMPLIFY <em>tolerance</em></code> to simplify all geometries 
            during ingestion using the Ramer-Douglas-Peucker algorithm and the given tolerance. </p></li><li class="listitem"><p>Specify <code class="code">SIMPLIFY AUTO</code> without tolerance to simplify only geometries that are
               larger than the maximum size using the Ramer-Douglas-Peucker algorithm. This approach
               calculates the minimum tolerance that is large enough to store the object within the
               maximum size limit. </p></li><li class="listitem"><p>Specify <code class="code">SIMPLIFY AUTO <em>max_tolerance</em></code> to simplify only
               geometries that are larger than the maximum size using the Ramer-Douglas-Peucker
               algorithm and the automatically calculated tolerance. This approach makes sure that
               the tolerance doesn't exceed the maximum tolerance. </p></li></ul></div><p>For information about the maximum size of a <code class="code">GEOMETRY</code> data value, see 
         <a href="./spatial-limitations.html">Considerations when using spatial data with Amazon Redshift</a>.</p><p>In some cases, the tolerance is low enough that the record can't shrink below the
         maximum size of a <code class="code">GEOMETRY</code> data value. In these cases, you can use the
            <code class="code">MAXERROR</code> option of the COPY command to ignore all or up to a certain number
         of ingestion errors.</p><p>The COPY command also supports loading GZIP shapefiles. To do this, specify the COPY
         GZIP parameter. With this option, all shapefile components must be independently compressed
         and share the same compression suffix. </p><p>If a projection description file (.prj) exists with the shapefile, Redshift 
         uses it to determine the spatial reference system id (SRID). If the SRID is valid, the resulting 
         geometry has this SRID assigned. If the SRID value associated 
         with the input geometry does not exist, the resulting geometry has the SRID value zero. You can disable automatic detection of 
         the spatial reference system id at the session level by using <code class="code">SET read_srid_on_shapefile_ingestion</code> to <code class="code">OFF</code>.
      </p><p>Query the <code class="code">SYS_SPATIAL_SIMPLIFY</code> or <code class="code">SVL_SPATIAL_SIMPLIFY</code> system views to view which records have been
         simplified, along with the calculated tolerance. When you specify <code class="code">SIMPLIFY
               <em>tolerance</em></code>, this view contains a record for each COPY
         operation. Otherwise, it contains a record for each simplified geometry. For more
         information, see 
         <a href="./SYS_SPATIAL_SIMPLIFY.html">SYS_SPATIAL_SIMPLIFY</a> or
         <a href="./r_SVL_SPATIAL_SIMPLIFY.html">SVL_SPATIAL_SIMPLIFY</a>. </p><p>For examples of loading a shapefile, see 
         <a href="./r_COPY_command_examples.html#copy-example-spatial-copy-shapefile">Loading a shapefile into Amazon Redshift</a>.</p><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./spatial-tutorial.html">Tutorial: Using spatial SQL functions</div><div id="next" class="next-link" accesskey="n" href="./spatial-terminology.html">Terminology</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/spatial-copy-shapefile.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/spatial-copy-shapefile.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>