<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>ST_ConvexHull - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="ST_ConvexHull-function" /><meta name="default_state" content="ST_ConvexHull-function" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/redshift/latest/dg/ST_ConvexHull-function.html" /><meta name="description" content="ST_ConvexHull returns a geometry that represents the convex hull of the nonempty points contained in the input geometry." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Database Developer Guide" /><meta name="abstract" content="Create and manage a data warehouse with Amazon Redshift, an enterprise-level, petabyte scale, fully managed data warehousing service." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/redshift/latest/dg/ST_ConvexHull-function.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/ST_ConvexHull-function.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/ST_ConvexHull-function.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/ST_ConvexHull-function.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/ST_ConvexHull-function.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/ST_ConvexHull-function.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/ST_ConvexHull-function.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/ST_ConvexHull-function.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/ST_ConvexHull-function.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/ST_ConvexHull-function.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/ST_ConvexHull-function.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/ST_ConvexHull-function.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/ST_ConvexHull-function.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/ST_ConvexHull-function.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/ST_ConvexHull-function.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/ST_ConvexHull-function.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/ST_ConvexHull-function.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/ST_ConvexHull-function.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/ST_ConvexHull-function.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/ST_ConvexHull-function.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/ST_ConvexHull-function.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/ST_ConvexHull-function.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Database Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Database Developer Guide" /><meta id="panorama-serviceConsolePage" value="ST_ConvexHull" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>ST_ConvexHull - Amazon Redshift</title><meta name="pdf" content="/pdfs/redshift/latest/dg/redshift-dg.pdf#ST_ConvexHull-function" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/ST_ConvexHull-function.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/ST_ConvexHull-function.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/ST_ConvexHull-function.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,developer,sample data,database,database developer,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Database Developer Guide",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "SQL reference",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "SQL functions reference",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/c_SQL_functions.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Spatial functions",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/geospatial-functions.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "ST_ConvexHull",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/geospatial-functions.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/redshift/latest/dg/redshift-dg.pdf#ST_ConvexHull-function" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Database Developer Guide</a></div><div id="page-toc-src"><a href="#ST_ConvexHull-function-syntax">Syntax</a><a href="#ST_ConvexHull-function-arguments">Arguments</a><a href="#ST_ConvexHull-function-return">Return type</a><a href="#ST_ConvexHull-function-examples">Examples</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="ST_ConvexHull-function">ST_ConvexHull</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>ST_ConvexHull returns a geometry that represents the convex hull of the nonempty
         points contained in the input geometry. </p><p>For empty input, the resulting geometry is the same as the input geometry. 
            For all nonempty input, the function operates on the 2D projection of the input geometry. 
            However, the dimension of the output geometry depends on the dimension of the input geometry. 
            More specifically, when the input geometry is a nonempty 3DM or 3D geometry, <code class="code">m</code> coordinates are dropped. 
            That is, the dimension of the returned geometry is 2D or 3DZ, respectively. 
            If the input is a nonempty 2D or 3DZ geometry, the resulting geometry has the same dimension.</p>
            <h2 id="ST_ConvexHull-function-syntax">Syntax</h2>       
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">ST_ConvexHull(<em>geom</em>)</code></pre>
          
            <h2 id="ST_ConvexHull-function-arguments">Arguments</h2>           
            
            <div class="variablelist">
                
            <dl>
                  <dt><span class="term">
                     <em>geom</em>
                  </span></dt>
                  <dd>
                     <p>A value of data type <code class="code">GEOMETRY</code> or an expression that evaluates to a <code class="code">GEOMETRY</code> type. </p>
                  </dd>
               </dl></div>
          
            <h2 id="ST_ConvexHull-function-return">Return type</h2>  
            
            <p><code class="code">GEOMETRY</code></p>
            <p>The spatial reference system identifier (SRID) value of the returned geometry is the SRID value of the input geometry. </p>
            <p>If <em>geom</em> is null, then null is returned. </p>
            
            <p>The values returned are as follows.</p>
            <div class="table-container"><div class="table-contents"><table id="w323aac67c13c46d119c15c13"><thead>
                     <tr>
                        <th>Number of points on the convex hull</th>
                        <th>Geometry subtype</th>
                     </tr>
                  </thead>
                     <tr>
                        <td tabindex="-1"><p>0</p></td>
                        <td tabindex="-1"><p>A copy of <em>geom</em> is returned. </p></td>
                     </tr>
                     <tr>
                        <td tabindex="-1"><p>1</p></td>
                        <td tabindex="-1"><p>A <code class="code">POINT</code> subtype is returned. </p></td>
                     </tr>
                     <tr>
                        <td tabindex="-1"><p>2</p></td>
                        <td tabindex="-1"><p>A <code class="code">LINESTRING</code> subtype is returned. The two points of the returned linestring are
                           lexicographically ordered.</p></td>
                     </tr>
                     <tr>
                        <td tabindex="-1"><p>3 or greater</p></td>
                        <td tabindex="-1"><p>A <code class="code">POLYGON</code> subtype with no interior rings is returned.
                           The polygon is clockwise oriented, and the first point of the exterior ring is the lexicographically smallest point of the ring.</p></td>
                     </tr>
                     
                  </table></div></div>
            
          
            <h2 id="ST_ConvexHull-function-examples">Examples</h2>
            
            <p>The following SQL returns the extended well-known text (EWKT) representation of a
            linestring. In this case, the convex hull returned is a polygon.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">SELECT ST_AsEWKT(ST_ConvexHull(ST_GeomFromText('LINESTRING(0 0,1 0,0 1,1 1,0.5 0.5)'))) as output;</code></pre>
            
            <pre class="programlisting"><div class="code-btn-container"></div><code class="nohighlight">
output
-------------
POLYGON((0 0,0 1,1 1,1 0,0 0))
</code></pre>
            
            <p>The following SQL returns the EWKT representation of a linestring. In this case,
            the convex hull returned is a linestring.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">SELECT ST_AsEWKT(ST_ConvexHull(ST_GeomFromText('LINESTRING(0 0,1 1,0.2 0.2,0.6 0.6,0.5 0.5)'))) as output;</code></pre>
            
            <pre class="programlisting"><div class="code-btn-container"></div><code class="nohighlight">
output
-------------
LINESTRING(0 0,1 1)
</code></pre>
            
            <p>The following SQL returns the EWKT representation of a multipoint. In this case,
            the convex hull returned is a point.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">SELECT ST_AsEWKT(ST_ConvexHull(ST_GeomFromText('MULTIPOINT(0 0,0 0,0 0)'))) as output;</code></pre>
            
            <pre class="programlisting"><div class="code-btn-container"></div><code class="nohighlight">
output
-------------
POINT(0 0)
</code></pre>
            
         <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./ST_ContainsProperly-function.html">ST_ContainsProperly</div><div id="next" class="next-link" accesskey="n" href="./ST_CoveredBy-function.html">ST_CoveredBy</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/ST_ConvexHull-function.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/ST_ConvexHull-function.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>