<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>SVCS_QUERY_SUMMARY - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_SVCS_QUERY_SUMMARY" /><meta name="default_state" content="r_SVCS_QUERY_SUMMARY" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/redshift/latest/dg/r_SVCS_QUERY_SUMMARY.html" /><meta name="description" content="Find general information about the execution of a query." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Database Developer Guide" /><meta name="abstract" content="Create and manage a data warehouse with Amazon Redshift, an enterprise-level, petabyte scale, fully managed data warehousing service." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/redshift/latest/dg/r_SVCS_QUERY_SUMMARY.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_SVCS_QUERY_SUMMARY.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_SVCS_QUERY_SUMMARY.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_SVCS_QUERY_SUMMARY.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_SVCS_QUERY_SUMMARY.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_SVCS_QUERY_SUMMARY.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_SVCS_QUERY_SUMMARY.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_SVCS_QUERY_SUMMARY.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_SVCS_QUERY_SUMMARY.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_SVCS_QUERY_SUMMARY.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_SVCS_QUERY_SUMMARY.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_SVCS_QUERY_SUMMARY.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_SVCS_QUERY_SUMMARY.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_SVCS_QUERY_SUMMARY.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_SVCS_QUERY_SUMMARY.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_SVCS_QUERY_SUMMARY.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_SVCS_QUERY_SUMMARY.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_SVCS_QUERY_SUMMARY.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_SVCS_QUERY_SUMMARY.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_SVCS_QUERY_SUMMARY.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_SVCS_QUERY_SUMMARY.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_SVCS_QUERY_SUMMARY.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Database Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Database Developer Guide" /><meta id="panorama-serviceConsolePage" value="SVCS_QUERY_SUMMARY" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>SVCS_QUERY_SUMMARY - Amazon Redshift</title><meta name="pdf" content="/pdfs/redshift/latest/dg/redshift-dg.pdf#r_SVCS_QUERY_SUMMARY" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/r_SVCS_QUERY_SUMMARY.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/r_SVCS_QUERY_SUMMARY.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/r_SVCS_QUERY_SUMMARY.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,developer,sample data,database,database developer,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Database Developer Guide",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "System tables and views reference",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/cm_chap_system-tables.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "System monitoring (provisioned only)",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/c_intro_system_views.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "SVCS views for main and concurrency scaling clusters",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/svcs_views.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "SVCS_QUERY_SUMMARY",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/svcs_views.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/redshift/latest/dg/redshift-dg.pdf#r_SVCS_QUERY_SUMMARY" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Database Developer Guide</a></div><div id="page-toc-src"><a href="#r_SVCS_QUERY_SUMMARY-table-columns">Table columns</a><a href="#r_SVCS_QUERY_SUMMARY-sample-queries">Sample queries</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="r_SVCS_QUERY_SUMMARY">SVCS_QUERY_SUMMARY</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Use the SVCS_QUERY_SUMMARY view to find general information about the execution of a
            query.</p><p>
            Note that the information in SVCS_QUERY_SUMMARY is aggregated from all nodes. </p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p> The SVCS_QUERY_SUMMARY view only contains information about queries completed by
                Amazon Redshift, not other utility and DDL commands. For a complete listing and information
                on all statements completed by Amazon Redshift, including DDL and utility commands, you can
                query the SVL_STATEMENTTEXT view.</p><p>System views with the prefix SVCS provide details about queries on both the main and concurrency scaling clusters. 
            The views are similar to the views with the prefix SVL except that the SVL views provide information only for queries run on the main cluster.</p></div></div><p>SVCS_QUERY_SUMMARY is visible to all users. Superusers can see all rows; regular users can see only their own data. For more information, see <a href="./cm_chap_system-tables.html#c_visibility-of-data">Visibility of data in system tables and
                views</a>.</p><p>Some or all of the data in this table can also be found in the SYS monitoring view <a href="./SYS_QUERY_DETAIL.html">SYS_QUERY_DETAIL</a>. The data in the SYS monitoring view is formatted to be easier to use and understand. 
We recommend that you use the SYS monitoring view for your queries.</p><p>For information about SVL_QUERY_SUMMARY, see <a href="./r_SVL_QUERY_SUMMARY.html">SVL_QUERY_SUMMARY</a>.</p>
            <h2 id="r_SVCS_QUERY_SUMMARY-table-columns">Table columns</h2>
            
            
            <div class="table-container"><div class="table-contents"><table id="w323aac69c17c13c17c15b3"><thead>
                        <tr>
                            <th>Column name </th>
                            <th>Data type </th>
                            <th>Description </th>
                        </tr>
                    </thead>
                        <tr>
                            <td tabindex="-1">userid </td>
                            <td tabindex="-1">integer </td>
                            <td tabindex="-1">ID of user who generated entry. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">query </td>
                            <td tabindex="-1">integer </td>
                            <td tabindex="-1">Query ID. Can be used to join various other system
                                tables and views. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">stm </td>
                            <td tabindex="-1">integer </td>
                            <td tabindex="-1">Stream: A set of concurrent segments in a query. A
                                query has one or more streams.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">seg </td>
                            <td tabindex="-1">integer </td>
                            <td tabindex="-1">Segment number. A query consists of multiple
                                segments, and each segment consists of one or more steps. Query
                                segments can run in parallel. Each segment runs in a single process.
                            </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">step </td>
                            <td tabindex="-1">integer </td>
                            <td tabindex="-1">Query step that ran. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">maxtime </td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">Maximum amount of time for the step to run (in
                                microseconds). </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">avgtime </td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">Average time for the step to run (in
                                microseconds). </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">rows </td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">Number of data rows involved in the query step.
                            </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">bytes </td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">Number of data bytes involved in the query step.
                            </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">rate_row </td>
                            <td tabindex="-1">double precision </td>
                            <td tabindex="-1">Query execution rate per row. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">rate_byte </td>
                            <td tabindex="-1">double precision </td>
                            <td tabindex="-1">Query execution rate per byte. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">label </td>
                            <td tabindex="-1">text </td>
                            <td tabindex="-1">Step label, which consists of a query step name
                                and, when applicable, table ID and table name (for example, scan
                                tbl=100448 name =user). Three-digit table IDs usually refer to scans
                                of transient tables. When you see<code class="code"> tbl=0</code>, it usually
                                refers to a scan of a constant value.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">is_diskbased </td>
                            <td tabindex="-1">character(1) </td>
                            <td tabindex="-1">Whether this step of the query was performed as a
                                disk-based operation on any node in the cluster: true
                                (<code class="userinput">t</code>) or false (<code class="userinput">f</code>).
                                Only certain steps, such as hash, sort, and aggregate steps, can go
                                to disk. Many types of steps are always run in memory. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">workmem </td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">Amount of working memory (in bytes) assigned to
                                the query step. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">is_rrscan </td>
                            <td tabindex="-1">character(1) </td>
                            <td tabindex="-1">If true (<code class="userinput">t</code>), indicates that
                                range-restricted scan was used on the step. Default is false
                                (<code class="userinput">f</code>). </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">is_delayed_scan </td>
                            <td tabindex="-1">character(1) </td>
                            <td tabindex="-1">If true (<code class="userinput">t</code>), indicates that
                                delayed scan was used on the step. Default is false
                                (<code class="userinput">f</code>). </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">rows_pre_filter</td>
                            <td tabindex="-1">bigint</td>
                            <td tabindex="-1">For scans of permanent tables, the total number of
                                rows emitted before filtering rows marked for deletion (ghost
                                rows).</td>
                        </tr>
                    </table></div></div>
         
            <h2 id="r_SVCS_QUERY_SUMMARY-sample-queries">Sample queries</h2>
            
            
            <p>
                <b>Viewing processing information for a query step</b>
            </p>
            <p>The following query shows basic processing information for each step of query 87: </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select query, stm, seg, step, rows, bytes
from svcs_query_summary
where query = 87
order by query, seg, step;</code></pre>
            <p>This query retrieves the processing information about query 87, as shown in the
                following sample output: </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""> query | stm | seg | step |  rows  |  bytes
-------+-----+-----+------+--------+---------
87     |   0 |   0 |    0 |     90 |    1890 
87     |   0 |   0 |    2 |     90 |     360 
87     |   0 |   1 |    0 |     90 |     360 
87     |   0 |   1 |    2 |     90 |    1440 
87     |   1 |   2 |    0 | 210494 | 4209880 
87     |   1 |   2 |    3 |  89500 |       0 
87     |   1 |   2 |    6 |      4 |      96 
87     |   2 |   3 |    0 |      4 |      96 
87     |   2 |   3 |    1 |      4 |      96 
87     |   2 |   4 |    0 |      4 |      96 
87     |   2 |   4 |    1 |      1 |      24 
87     |   3 |   5 |    0 |      1 |      24 
87     |   3 |   5 |    4 |      0 |       0 
(13 rows)</code></pre>
            <p>
                <b>Determining whether query steps spilled to disk</b>
            </p>
            <p>The following query shows whether or not any of the steps for the query with query
                ID 1025 (see the <a href="./r_SVL_QLOG.html">SVL_QLOG</a> view to
                learn how to obtain the query ID for a query) spilled to disk or if the query ran
                entirely in-memory: </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select query, step, rows, workmem, label, is_diskbased
from svcs_query_summary
where query = 1025
order by workmem desc;</code></pre>
            <p>This query returns the following sample output: </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">query| step|  rows  |  workmem   |  label        | is_diskbased
-----+-----+--------+-----------+---------------+--------------
1025 |  0  |16000000|  141557760 |scan tbl=9     | f
1025 |  2  |16000000|  135266304 |hash tbl=142   | t
1025 |  0  |16000000|  128974848 |scan tbl=116536| f
1025 |  2  |16000000|  122683392 |dist           | f
(4 rows)</code></pre>
            <p>By scanning the values for IS_DISKBASED, you can see which query steps went to
                disk. For query 1025, the hash step ran on disk. Steps might run on disk include
                hash, aggr, and sort steps. To view only disk-based query steps, add <code class="userinput">and
                    is_diskbased = 't'</code> clause to the SQL statement in the above
                example.</p>
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_SVCS_PLAN_INFO.html">SVCS_PLAN_INFO</div><div id="next" class="next-link" accesskey="n" href="./r_SVCS_S3LIST.html">SVCS_S3LIST</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/r_SVCS_QUERY_SUMMARY.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/r_SVCS_QUERY_SUMMARY.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>