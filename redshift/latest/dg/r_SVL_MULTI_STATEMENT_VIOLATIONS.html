<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>SVL_MULTI_STATEMENT_VIOLATIONS - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_SVL_MULTI_STATEMENT_VIOLATIONS" /><meta name="default_state" content="r_SVL_MULTI_STATEMENT_VIOLATIONS" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" /><meta name="description" content="Use the SVL_MULTI_STATEMENT_VIOLATIONS view to get a complete record of all of the SQL commands run on the system that have violations." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Database Developer Guide" /><meta name="abstract" content="Create and manage a data warehouse with Amazon Redshift, an enterprise-level, petabyte scale, fully managed data warehousing service." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Database Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Database Developer Guide" /><meta id="panorama-serviceConsolePage" value="SVL_MULTI_STATEMENT_VIOLATIONS" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>SVL_MULTI_STATEMENT_VIOLATIONS - Amazon Redshift</title><meta name="pdf" content="/pdfs/redshift/latest/dg/redshift-dg.pdf#r_SVL_MULTI_STATEMENT_VIOLATIONS" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,developer,sample data,database,database developer,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Database Developer Guide",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "System tables and views reference",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/cm_chap_system-tables.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "System monitoring (provisioned only)",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/c_intro_system_views.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "SVL views for main cluster",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/svl_views.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "SVL_MULTI_STATEMENT_VIOLATIONS",
        "item" : "https://docs.aws.amazon.com/redshift/latest/dg/svl_views.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/redshift/latest/dg/redshift-dg.pdf#r_SVL_MULTI_STATEMENT_VIOLATIONS" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Database Developer Guide</a></div><div id="page-toc-src"><a href="#r_SVL_MULTI_STATEMENT_VIOLATIONS-table-columns">Table columns</a><a href="#r_SVL_MULTI_STATEMENT_VIOLATIONS-sample-query">Sample query</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="r_SVL_MULTI_STATEMENT_VIOLATIONS">SVL_MULTI_STATEMENT_VIOLATIONS</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Use the SVL_MULTI_STATEMENT_VIOLATIONS view to get a complete record of all of the SQL commands run on the system that violates transaction block restrictions.</p><p>Violations occur when you run any of the following SQL commands that Amazon Redshift restricts inside a transaction block or
            multi-statement requests:</p><div class="itemizedlist">
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
           <ul class="itemizedlist"><li class="listitem"><p><a href="./r_CREATE_DATABASE.html">CREATE DATABASE</a></p></li><li class="listitem"><p><a href="./r_DROP_DATABASE.html">DROP DATABASE</a></p></li><li class="listitem"><p><a href="./r_ALTER_TABLE_APPEND.html">ALTER TABLE APPEND</a></p></li><li class="listitem"><p><a href="./r_CREATE_EXTERNAL_TABLE.html">CREATE EXTERNAL TABLE</a></p></li><li class="listitem"><p>DROP EXTERNAL TABLE</p></li><li class="listitem"><p>RENAME EXTERNAL TABLE</p></li><li class="listitem"><p>ALTER EXTERNAL TABLE</p></li><li class="listitem"><p>CREATE TABLESPACE</p></li><li class="listitem"><p>DROP TABLESPACE</p></li><li class="listitem"><p><a href="./r_CREATE_LIBRARY.html">CREATE LIBRARY</a></p></li><li class="listitem"><p><a href="./r_DROP_LIBRARY.html">DROP LIBRARY</a></p></li><li class="listitem"><p>REBUILDCAT</p></li><li class="listitem"><p>INDEXCAT</p></li><li class="listitem"><p>REINDEX DATABASE</p></li><li class="listitem"><p><a href="./r_VACUUM_command.html">VACUUM</a></p></li><li class="listitem"><p><a href="./r_GRANT.html">GRANT</a></p></li><li class="listitem"><p><a href="./r_COPY.html">COPY</a></p></li></ul></div><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>If there are any entries in this view, then change your corresponding applications and SQL scripts. We recommend changing your application code to move the use of these restricted SQL commands outside of the transaction block. If you need further assistance, contact AWS Support.</p></div></div><p>SVL_MULTI_STATEMENT_VIOLATIONS is visible to all users. Superusers can see all rows; regular users can see only their own data. For more information, see <a href="./cm_chap_system-tables.html#c_visibility-of-data">Visibility of data in system tables and
                views</a>.</p><p>Some or all of the data in this table can also be found in the SYS monitoring view <a href="./SYS_QUERY_HISTORY.html">SYS_QUERY_HISTORY</a>. The data in the SYS monitoring view is formatted to be easier to use and understand. 
We recommend that you use the SYS monitoring view for your queries.</p>
            <h2 id="r_SVL_MULTI_STATEMENT_VIOLATIONS-table-columns">Table
                    columns</h2>
            
            
            <div class="table-container"><div class="table-contents"><table id="w323aac69c17c15c37c17b3"><thead>
                        <tr>
                            <th>Column name </th>
                            <th>Data type </th>
                            <th>Description </th>
                        </tr>
                    </thead>
                        <tr>
                            <td tabindex="-1">userid </td>
                            <td tabindex="-1">integer </td>
                            <td tabindex="-1">The ID of the user who caused the violation. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">database </td>
                            <td tabindex="-1">character(32) </td>
                            <td tabindex="-1">The name of the database that the user was
                                connected to. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">cmdname </td>
                            <td tabindex="-1">character(20) </td>

                            <td tabindex="-1">The name of the command that cannot run inside a transaction block or multi-statement request. For example, CREATE DATABASE, DROP DATABASE, ALTER TABLE APPEND, CREATE EXTERNAL TABLE, DROP EXTERNAL TABLE, RENAME EXTERNAL TABLE, ALTER EXTERNAL TABLE, CREATE LIBRARY, DROP LIBRARY, REBUILDCAT, INDEXCAT, REINDEX DATABASE, VACUUM, GRANT on external resources, CLUSTER, COPY, CREATE TABLESPACE, and DROP TABLESPACE. </td>

                        </tr>
                        <tr>
                            <td tabindex="-1">xid </td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">The transaction ID associated with the statement.
                            </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">pid </td>
                            <td tabindex="-1">integer </td>
                            <td tabindex="-1">The process ID for the statement. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">label </td>
                            <td tabindex="-1">character(320) </td>
                            <td tabindex="-1">Either the name of the file used to run the query
                                or a label defined with a SET QUERY_GROUP command. If the query is
                                not file-based or the QUERY_GROUP parameter is not set, this field
                                is blank. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">starttime </td>
                            <td tabindex="-1">timestamp</td>
                            <td tabindex="-1">The exact time when the statement started
                                executing, with 6 digits of precision for fractional seconds, for
                                example: <code class="userinput">2009-06-12 11:29:19.131358</code>
                            </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">endtime </td>
                            <td tabindex="-1">timestamp</td>
                            <td tabindex="-1">The exact time when the statement finished
                                executing, with 6 digits of precision for fractional seconds, for
                                example: <code class="userinput">2009-06-12 11:29:19.193640</code>
                            </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">sequence </td>
                            <td tabindex="-1">integer </td>
                            <td tabindex="-1">When a single statement contains more than 200
                                characters, additional rows are logged for that statement. Sequence
                                0 is the first row, 1 is the second, and so on. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">type </td>
                            <td tabindex="-1">varchar(10) </td>
                            <td tabindex="-1">The type of SQL statement:
                                <code class="userinput">QUERY</code>, <code class="userinput">DDL</code>, or
                                <code class="userinput">UTILITY</code>. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">text </td>
                            <td tabindex="-1">character(200) </td>
                            <td tabindex="-1">The SQL text, in 200-character increments. This field might contain special characters such as backslash (<code class="code">\\</code>) and newline (<code class="code">\n</code>). </td>
                        </tr>
                    </table></div></div>
         
            <h2 id="r_SVL_MULTI_STATEMENT_VIOLATIONS-sample-query">Sample query</h2>
            
            
            <p>The following query returns multiple statements that have violations.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select * from svl_multi_statement_violations order by starttime asc;

userid | database | cmdname | xid | pid | label | starttime | endtime | sequence | type | text
==============================================================================================================================
1 | dev | CREATE DATABASE | 1034 | 5729 |label1 | ********* | ******* | 0 | DDL | create table c(b int);
1 | dev | CREATE DATABASE | 1034 | 5729 |label1 | ********* | ******* | 0 | UTILITY | create database b;
1 | dev | CREATE DATABASE | 1034 | 5729 |label1 | ********* | ******* | 0 | UTILITY | COMMIT
...</code></pre>
 
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_SVL_FEDERATED_QUERY.html">SVL_FEDERATED_QUERY</div><div id="next" class="next-link" accesskey="n" href="./r_SVL_MV_REFRESH_STATUS.html">SVL_MV_REFRESH_STATUS</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/en_us/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>