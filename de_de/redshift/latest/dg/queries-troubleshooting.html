<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="de-DE"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Fehlerbehebung bei Abfragen - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="queries-troubleshooting" /><meta name="default_state" content="queries-troubleshooting" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/queries-troubleshooting.html" /><meta name="description" content="Dieser Abschnitt bietet eine kurze Übersicht über die Vorgehensweise zur Identifizierung und Behebung einiger der häufigsten und schwerwiegendsten Probleme, die bei Amazon-Redshift-Abfragen auftreten können." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Datenbankentwicklerhandbuch" /><meta name="abstract" content="Erstellen und verwalten Sie ein Data Warehouse mit Amazon Redshift, einem vollständig verwalteten Petabyte-Data-Warehousing-Service auf Unternehmensniveau." /><meta name="guide-locale" content="de_de" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/queries-troubleshooting.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/queries-troubleshooting.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/queries-troubleshooting.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/queries-troubleshooting.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/queries-troubleshooting.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/queries-troubleshooting.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/queries-troubleshooting.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/queries-troubleshooting.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/queries-troubleshooting.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/queries-troubleshooting.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/queries-troubleshooting.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/queries-troubleshooting.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/queries-troubleshooting.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/queries-troubleshooting.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/queries-troubleshooting.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/queries-troubleshooting.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/queries-troubleshooting.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/queries-troubleshooting.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/queries-troubleshooting.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/queries-troubleshooting.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/queries-troubleshooting.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/queries-troubleshooting.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Datenbankentwicklerhandbuch" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Datenbankentwicklerhandbuch" /><meta id="panorama-serviceConsolePage" value="Fehlerbehebung bei Abfragen" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Fehlerbehebung bei Abfragen - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#queries-troubleshooting" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/queries-troubleshooting.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/queries-troubleshooting.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/queries-troubleshooting.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,Cluster,Data Warehouse,Developer,Musterdaten,Datenbank,Database Developer,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Datenbankentwicklerhandbuch",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Optimieren der Abfrageleistung",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg/c-optimizing-query-performance.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Fehlerbehebung bei Abfragen",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg/c-optimizing-query-performance.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#queries-troubleshooting" target="_blank" rel="noopener noreferrer" title="PDF öffnen"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Dokumentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Datenbankentwicklerhandbuch</a></div><div id="page-toc-src"><a href="#queries-troubleshooting-connection-fails">Verbindungsfehler</a><a href="#queries-troubleshooting-query-hangs">Die Abfrage friert ein</a><a href="#queries-troubleshooting-query-takes-too-long">Die Abfrage dauert zu lange</a><a href="#queries-troubleshooting-load-fails">Das Laden der Daten schlägt fehl</a><a href="#queries-troubleshooting-load-takes-too-long">Der Ladevorgang dauert zu lange</a><a href="#queries-troubleshooting-load-data-incorrect">Die Ladedaten sind falsch</a><a href="#set-the-JDBC-fetch-size-parameter">Festlegen des JDBC-Parameters für die Abrufgröße</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Die vorliegende Übersetzung wurde maschinell erstellt. Im Falle eines Konflikts oder eines Widerspruchs zwischen dieser übersetzten Fassung und der englischen Fassung (einschließlich infolge von Verzögerungen bei der Übersetzung) ist die englische Fassung maßgeblich.</p></awsui-alert><h1 class="topictitle" id="queries-troubleshooting">Fehlerbehebung bei Abfragen</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Dieser Abschnitt bietet eine kurze Übersicht über die Vorgehensweise zur Identifizierung und Behebung einiger der häufigsten und schwerwiegendsten Probleme, die bei Amazon-Redshift-Abfragen auftreten können.</p><div class="highlights" id="inline-topiclist"><h6>Themen</h6><ul><li><a href="#queries-troubleshooting-connection-fails">Verbindungsfehler</a></li><li><a href="#queries-troubleshooting-query-hangs">Die Abfrage friert ein</a></li><li><a href="#queries-troubleshooting-query-takes-too-long">Die Abfrage dauert zu lange</a></li><li><a href="#queries-troubleshooting-load-fails">Das Laden der Daten schlägt fehl</a></li><li><a href="#queries-troubleshooting-load-takes-too-long">Der Ladevorgang dauert zu lange</a></li><li><a href="#queries-troubleshooting-load-data-incorrect">Die Ladedaten sind falsch</a></li><li><a href="#set-the-JDBC-fetch-size-parameter">Festlegen des JDBC-Parameters für die Abrufgröße</a></li></ul></div><p>Die Lösungsvorschläge können als Ausgangspunkt für die Fehlerbehebung verwendet werden. Weitergehende Informationen finden Sie auch in den folgenden Ressourcen.</p><div class="itemizedlist">
          
      <ul class="itemizedlist"><li class="listitem">
            <p><a href="https://docs.aws.amazon.com/redshift/latest/mgmt/using-rs-tools.html">Zugreifen auf Amazon-Redshift-Cluster und -Datenbanken</a></p>
         </li></ul></div><div class="itemizedlist">
          
      <ul class="itemizedlist"><li class="listitem">
            <p><a href="./t_Creating_tables.html">Arbeiten mit automatischer Tabellenoptimierung</a></p>
         </li></ul></div><div class="itemizedlist">
          
      <ul class="itemizedlist"><li class="listitem">
            <p><a href="./t_Loading_data.html">Laden von Daten</a></p>
         </li></ul></div><div class="itemizedlist">
          
      <ul class="itemizedlist"><li class="listitem">
            <p><a href="./tutorial-loading-data.html">Tutorial: So laden Sie Daten aus Amazon S3</a></p>
         </li></ul></div><h2 id="queries-troubleshooting-connection-fails">Verbindungsfehler</h2>
         
         <p>Die Verbindung der Abfrage kann aus den folgenden Gründen scheitern. Es werden die folgenden Ansätze zur Fehlerbehebung vorgeschlagen.</p>
          
            <h6>Client kann keine Verbindung zum Server herstellen</h6>
            <p>Wenn Sie SSL oder Serverzertifikate verwenden, entfernen Sie zunächst diese Komplexität, während Sie das Verbindungsproblem untersuchen. Wenn Sie das Problem behandelt haben, fügen Sie die SSL-Schicht bzw. die Serverzertifikate wieder ein. Weitere Informationen hierzu finden Sie unter <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/connecting-ssl-support.html">Konfigurieren von Sicherheitsoptionen für Verbindungen</a> im <em>Verwaltungsleitfaden von Amazon Redshift</em>.</p>
          
          
            <h6>Die Verbindung wird zurückgewiesen</h6>
            <p>Wenn Sie eine Fehlermeldung erhalten, dass eine benötigte Verbindung nicht hergestellt werden kann, bedeutet dies im Allgemeinen, dass ein Problem in Zusammenhang mit fehlenden Berechtigungen für den Zugriff auf den Cluster vorliegt. Weitere Informationen hierzu finden Sie unter <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/connecting-refusal-failure-issues.html">Verbindung wird zurückgewiesen oder schlägt fehl</a> im <em>Verwaltungsleitfaden von Amazon Redshift</em>. </p>
          
      <h2 id="queries-troubleshooting-query-hangs">Die Abfrage friert ein</h2>
         
         <p>Die Abfrage kann aus den folgenden Gründen einfrieren bzw. nicht mehr reagieren. Es werden die folgenden Ansätze zur Fehlerbehebung vorgeschlagen.</p>
          
            <h6>Die Datenbankverbindung wird getrennt</h6>
            <p>Verringern Sie den MTU-Wert (Maximum Transmission Unit, maximale Größe für Übertragungseinheiten). Der MTU-Wert legt die maximale Größe für die Übertragung eines Datenpakets in einem Ethernetframe über die Netzwerkverbindung in Bytes fest. Weitere Informationen hierzu finden Sie unter <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/connecting-drop-issues.html">Die Datenbankverbindung wird getrennt</a> im <em>Verwaltungsleitfaden von Amazon Redshift</em>. </p>
          
          
            <h6>Zeitüberschreitung bei der Datenbankverbindung</h6>
            <p>Ihre Client-Verbindung mit der Datenbank scheint zu hängen oder Zeitüberschreitungen zu unterliegen, wenn lange Abfragen wie COPY-Befehle ausgeführt werden. Wenn dies der Fall ist, sehen Sie möglicherweise in der Amazon-Redshift-Konsole, dass die Abfrage abgeschlossen ist, aber das Client-Tool scheint die Abfrage noch nicht abgeschlossen zu haben. Je nachdem, wann die Verbindung unterbrochen wurde, fehlen möglicherweise Abfrageergebnisse oder sind unvollständig. Dieser Effekt kann auftreten, wenn Verbindungen im Leerlauf von zwischengelagerten Netzwerkkomponenten nach einer bestimmten Zeit getrennt werden. Weitere Informationen hierzu finden Sie unter <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/connecting-firewall-guidance.html">Problem mit Firewall-Zeitüberschreitung</a> im <em>Verwaltungsleitfaden von Amazon Redshift</em>. </p>
          
          
            <h6>Clientseitiger  out-of-memory Fehler bei ODBC</h6>
            <p>Wenn Ihre Clientanwendung eine ODBC-Verbindung verwendet und Ihre Abfrage eine Ergebnismenge erzeugt, die so groß ist, dass sie nicht in den Arbeitsspeicher passt, können Sie die Ergebnismenge unter Verwendung eines Cursors an die Clientanwendung übermitteln. Weitere Informationen erhalten Sie unter <a href="./declare.html">DECLARE</a> und <a href="./declare.html#declare-performance">Überlegungen in Bezug auf die Leistung bei Verwendung von Cursors</a>.</p>
          
          
            <h6>Clientseitiger  out-of-memory Fehler bei JDBC</h6>
            <p>Wenn Sie versuchen, große Ergebnismengen über eine JDBC-Verbindung abzurufen, können clientseitige  out-of-memory Fehler auftreten. Weitere Informationen finden Sie unter <a href="#set-the-JDBC-fetch-size-parameter">Festlegen des JDBC-Parameters für die Abrufgröße</a>.</p>
          
          
            <h6>Potenzielles Deadlock-Problem </h6>
            <p>Versuchen Sie bei möglichen Deadlock-Problemen, wie folgt vorzugehen:</p>
          
         <div class="itemizedlist">
             
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>Zeigen Sie die Systemtabellen <a href="./r_STV_LOCKS.html">STV_LOCKS</a> und <a href="./r_STL_TR_CONFLICT.html">STL_TR_CONFLICT</a> an, um Konflikte zu identifizieren, bei denen mehrere Tabellen aktualisiert werden müssen.</p>
            </li><li class="listitem">
               <p>Verwenden Sie die Funktion <a href="./PG_CANCEL_BACKEND.html">PG_CANCEL_BACKEND</a>, um die Abfragen, die den Konflikt verursachen, abzubrechen.</p>
            </li><li class="listitem">
               <p>Mit der Funktion <a href="./PG_TERMINATE_BACKEND.html">PG_TERMINATE_BACKEND</a> können Sie eine Sitzung beenden. Dabei werden alle Transaktionen, die zurzeit in der beendeten Sitzung ausgeführt werden, gezwungen, alle Sperren aufzuheben und für die Transaktionen ein Rollback auszuführen.</p>
            </li><li class="listitem">
               <p>Planen Sie gleichzeitige Schreibvorgänge sorgfältig. Weitere Informationen finden Sie unter <a href="./c_Concurrent_writes.html">Verwalten gleichzeitiger Schreiboperationen</a>.</p>
            </li></ul></div>
      <h2 id="queries-troubleshooting-query-takes-too-long">Die Abfrage dauert zu lange</h2>
         
         <p>Die Ausführung der Abfrage kann aus den folgenden Gründen zu viel Zeit in Anspruch nehmen. Es werden die folgenden Ansätze zur Fehlerbehebung vorgeschlagen.</p>
          
            <h6>Die Tabellen sind nicht optimiert</h6>
            <p>Legen Sie für die Tabellen den Sortierschlüssel, die Verteilungsstile und die Kodierung zur Komprimierung so fest, dass die Parallelverarbeitung optimal genutzt werden kann. Weitere Informationen finden Sie unter <a href="./t_Creating_tables.html">Arbeiten mit automatischer Tabellenoptimierung</a> </p>
          
          
            <h6>Die Abfrage schreibt auf den Datenträger</h6>
            <p>Es kann vorkommen, dass Ihre Abfragen – möglicherweise nur für Teile der Abfrageausführung – Daten auf den Datenträger schreiben. Weitere Informationen finden Sie unter <a href="./query-performance-improvement-opportunities.html">Verbessern der Abfrageleistung</a>.</p>
          
          
            <h6>Die Abfrage muss auf den Abschluss anderer Abfragen warten</h6>
            <p>Sie können möglicherweise die Systemleistung insgesamt verbessern, indem Sie Warteschlangen erstellen und verschiedene Arten von Abfragen in geeignete Warteschlangen einstellen. Weitere Informationen finden Sie unter <a href="./cm-c-implementing-workload-management.html">Implementierung von Workload Management</a>. </p>
          
          
            <h6>Die Abfragen sind nicht optimiert</h6>
            <p>Analysieren Sie den mit EXPLAIN erzeugten Abfrageplan, um Möglichkeiten zu erkennen, wie Sie Abfragen umformulieren oder die Datenbank optimieren können. Weitere Informationen finden Sie unter <a href="./c-the-query-plan.html">Abfrageplan</a>.</p>
          
          
            <h6>Die Abfrage benötigt zur Ausführung mehr Arbeitsspeicher</h6>
            <p>Wenn für eine bestimmte mehr Arbeitsspeicher benötigt wird, können Sie den verfügbaren Arbeitsspeicher vergrößern, indem Sie den Wert für  heraufsetzen <a href="./r_wlm_query_slot_count.html">wlm_query_slot_count</a>. </p>
          
          
            <h6>Die Datenbank benötigt zur Ausführung den Befehl VACUUM</h6>
            <p>Führen Sie den Befehl VACUUM aus, nachdem Sie eine große Anzahl von Zeilen hinzugefügt, gelöscht oder geändert haben, falls Sie Ihre Daten nicht entsprechend dem Sortierschlüssel sortiert laden. Mit dem Befehl VACUUM werden Ihre Daten entsprechend der Sortierreihenfolge reorganisiert und die Leistung wiederhergestellt. Weitere Informationen finden Sie unter <a href="./t_Reclaiming_storage_space202.html">Bereinigen von Tabellen</a>.</p>
          

         <h3 id="queries-troubleshooting-cross-refs">Zusätzliche Ressourcen zur Fehlerbehebung bei lang andauernden Abfragen</h3>
            <p>Im Folgenden finden Sie Themen zur Systemansicht und andere Dokumentationsabschnitte, die für die Abfrageoptimierung hilfreich sind:</p>
            <div class="itemizedlist">
                
                
                
                
                
                
            <ul class="itemizedlist"><li class="listitem"><p>Die Systemansicht <a href="./r_STV_INFLIGHT.html">STV_INFLIGHT</a> zeigt, welche Abfragen im Cluster ausgeführt werden. Es kann hilfreich sein, sie zusammen mit <a href="./r_STV_RECENTS.html">STV_RECENTS</a> zu verwenden, um festzustellen, welche Abfragen gerade laufen oder kürzlich abgeschlossen wurden.</p></li><li class="listitem"><p><a href="./SYS_QUERY_HISTORY.html">SYS_QUERY_HISTORY</a> ist für die Fehlerbehebung nützlich. Sie zeigt DDL- und DML-Abfragen mit relevanten Eigenschaften wie ihrem aktuellen Status, z. B. <code class="code">running</code>oder <code class="code">failed</code>, die Zeit, die jeweils für die Ausführung benötigt wurde, und ob eine Abfrage in einem Nebenläufigkeitsskalierungs-Cluster ausgeführt wurde.</p></li><li class="listitem"><p><a href="./r_STL_QUERYTEXT.html">STL_QUERYTEXT</a> erfasst den Abfragetext für SQL-Befehle. Zusätzlich gibt die Ansicht <a href="./r_SVV_QUERY_INFLIGHT.html">SVV_QUERY_INFLIGHT</a>, die STL_QUERYTEXT mit STV_INFLIGHT verbindet, weitere Abfrage-Metadaten an.</p></li><li class="listitem"><p>Ein Konflikt zwischen Transaktionssperren kann eine mögliche Ursache für Probleme mit der Abfrageleistung sein. Informationen zu Transaktionen, für die derzeit Tabellen gesperrt sind, finden Sie unter <a href="./r_SVV_TRANSACTIONS.html">SVV_TRANSACTIONS</a>.</p></li><li class="listitem"><p><a href="https://docs.aws.amazon.com/redshift/latest/dg/diagnostic-queries-for-query-tuning.html#identify-queries-that-are-top-candidates-for-tuning">Identifizieren der Top-Kandidaten zur Optimierung unter den Abfragen</a> stellt eine Fehlerbehebungsabfrage bereit, mit der Sie ermitteln können, welche kürzlich ausgeführten Abfragen am zeitaufwendigsten waren. Dies kann Ihnen helfen, Ihre Bemühungen auf Abfragen zu konzentrieren, die verbessert werden müssen.</p></li><li class="listitem"><p>Wenn Sie sich eingehender mit der Abfrageverwaltung befassen und verstehen möchten, wie Abfragewarteschlangen verwaltet werden, finden Sie entsprechende Informationen unter <a href="./cm-c-implementing-workload-management.html">Implementierung von Workload Management</a>. Das Workload-Management ist eine erweiterte Funktion und wir empfehlen in den meisten Fällen ein automatisiertes Workload-Management.</p></li></ul></div>
          
         
         
      <h2 id="queries-troubleshooting-load-fails">Das Laden der Daten schlägt fehl</h2>
         
         <p>Das Laden der Daten kann aus den folgenden Gründen scheitern. Es werden die folgenden Ansätze zur Fehlerbehebung vorgeschlagen.</p>
          
            <h6>Die Datenquelle befindet sich in einer anderen AWS-Region</h6>
            <p>Standardmäßig müssen sich der Amazon-S3-Bucket oder die Amazon-DynamoDB-Tabelle, die in einem COPY-Befehl angegeben werden, in derselben AWS-Region befinden wie der Cluster. Wenn sich Ihre Daten und Ihr Cluster in verschiedenen Regionen befinden, wird eine Fehlermeldung wie die folgende angezeigt: </p>
          
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">The bucket you are attempting to access must be addressed using the specified endpoint.</code></pre>
         <p>Stellen Sie nach Möglichkeit sicher, dass sich Ihr Cluster und Ihre Datenquelle in derselben Region befinden. Sie können mit der <a href="./copy-parameters-data-source-s3.html#copy-region">REGION</a>-Option für den Befehl COPY eine abweichende Region angeben. </p>
         
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Anmerkung</h6></div><div class="awsdocs-note-text"><p>Wenn sich Ihr Cluster und Ihre Datenquelle in verschiedenen AWS-Regionen befinden, fallen Kosten für die Datenübertragung an. Außerdem ist die Latenz höher.</p></div></div>
          
            <h6>Der Befehl COPY schlägt fehl</h6>
            <p>Führen Sie eine Abfrage über STL_LOAD_ERRORS aus, um nach Fehlern bei einzelnen Ladevorgängen zu suchen. Weitere Informationen finden Sie unter <a href="./r_STL_LOAD_ERRORS.html">STL_LOAD_ERRORS</a>.</p>
          
      <h2 id="queries-troubleshooting-load-takes-too-long">Der Ladevorgang dauert zu lange</h2>
         
         <p>Der Ladevorgang kann aus den folgenden Gründen zu viel Zeit in Anspruch nehmen. Es werden die folgenden Ansätze zur Fehlerbehebung vorgeschlagen.</p>
          
            <h6>Der Befehl COPY lädt Daten aus einer einzigen Datei</h6>
            <p>Aufteilen Ihrer Ladedaten in mehrere Dateien. Wenn Sie alle Daten aus einer Datei laden, kann Amazon Redshift die Daten nur seriell laden, was sehr viel langsamer ist. Die Anzahl der Dateien sollte ein Vielfaches der Anzahl der Slices in Ihrem Cluster sein. Außerdem sollten die Dateien etwa gleich groß und nach der Komprimierung zwischen 1 MB und 1 GB groß sein. Weitere Informationen finden Sie unter <a href="./c_designing-queries-best-practices.html">Bewährte Methoden für die Gestaltung von Abfragen mit Amazon Redshift</a>.</p>
          
          
            <h6>Ladeoperation verwendet mehrere COPY-Befehle</h6>
            <p>Wenn Sie mehrere gleichzeitige COPY-Befehle verwenden, um eine Tabelle aus mehreren Dateien zu laden, ist Amazon Redshift gezwungen, einen serialisierten Ladevorgang durchzuführen, der bedeutend langsamer ist. Verwenden Sie in diesem Fall nur einen COPY-Befehl.</p>
          
      <h2 id="queries-troubleshooting-load-data-incorrect">Die Ladedaten sind falsch</h2>
         
         <p>Die Operation COPY kann aus den folgenden Gründen die falschen Daten laden. Es werden die folgenden Ansätze zur Fehlerbehebung vorgeschlagen.</p>
         
          
            <h6>Es werden die falschen Dateien geladen</h6>
            <p>Wenn Sie für die Angabe der Datendateien ein Objektpräfix verwenden, werden möglicherweise die falschen Dateien gelesen. Verwenden Sie stattdessen eine Manifestdatei, um die zu ladenden Dateien genau anzugeben. Weitere Informationen finden Sie in den Abschnitten zur Option <a href="./copy-parameters-data-source-s3.html#copy-manifest-file">copy_from_s3_manifest_file</a> für den Befehl COPY und in den COPY-Beispielen unter <a href="./r_COPY_command_examples.html#copy-command-examples-manifest">Example: COPY from Amazon S3 using a manifest</a>.</p>
          
      <h2 id="set-the-JDBC-fetch-size-parameter">Festlegen des JDBC-Parameters für die Abrufgröße</h2>
         
         <p>Der JDBC-Treiber stellt bei Abfragen alle Ergebnisse auf einmal zusammen. Wenn Sie also versuchen, eine große Ergebnismenge über eine JDBC-Verbindung abzurufen, kann ein clientseitiger  out-of-memory Fehler auftreten. Damit Ihr Client Ergebnissätze in Batches statt in einem einzigen  all-or-nothing Abruf abrufen kann, legen Sie den Parameter JDBC-Abrufgröße in Ihrer Clientanwendung fest.</p>
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Anmerkung</h6></div><div class="awsdocs-note-text"><p>Abrufgröße wird für ODBC nicht unterstützt</p></div></div>
         <p>Legen Sie die Abrufgröße auf den höchsten Wert fest, der nicht zu Fehlern aufgrund von unzureichendem Arbeitsspeicher führt, um die Leistung zu optimieren. Wenn der Wert für die Abrufgröße kleiner gewählt wird, führt dies zu mehr Übertragungsvorgängen zwischen Server und Client, was die Ausführungszeit vergrößert. Der Server reserviert Ressourcen wie den WLM-Abfrageplatz und den zugehörigen Arbeitsspeicher, bis der Client die Ergebnismenge abruft oder die Abfrage abgebrochen wird. Wenn die Abrufgröße richtig eingestellt ist, werden diese Ressourcen schneller wieder freigegeben und sind für andere Abfragen verfügbar.</p>
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Anmerkung</h6></div><div class="awsdocs-note-text"><p>Wenn Sie große Datensätze extrahieren müssen, sollten Sie eine <a href="./r_UNLOAD.html">UNLOAD</a>-Anweisung verwenden, um die Daten zu Amazon S3 zu übertragen. Wenn Sie UNLOAD verwenden, arbeiten die Datenverarbeitungsknoten parallel, um die Übertragung der Daten zu beschleunigen.</p></div></div>
         <p>Weitere Informationen zum Festlegen des Parameters für die JDBC-Abrufgröße finden Sie unter <a href="https://jdbc.postgresql.org/documentation/query/#getting-results-based-on-a-cursor" rel="noopener noreferrer" target="_blank"><span>Getting results based on a cursor</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> in der PostgreSQL-Dokumentation.</p>
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warnung" /> <strong>JavaScript ist in Ihrem Browser nicht verfügbar oder deaktiviert.</strong></p><p>Zur Nutzung der AWS-Dokumentation muss JavaScript aktiviert sein. Weitere Informationen finden auf den Hilfe-Seiten Ihres Browsers.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Dokumentkonventionen</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./diagnostic-queries-for-query-tuning.html">Diagnoseabfragen zur Abfrageoptimierung</div><div id="next" class="next-link" accesskey="n" href="./cm-c-implementing-workload-management.html">Implementierung von Workload Management</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Ja</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass wir gute Arbeit geleistet haben!</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, was wir richtig gemacht haben, damit wir noch besser werden?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/queries-troubleshooting.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Nein</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass diese Seite überarbeitet werden muss. Es tut uns Leid, dass wir Ihnen nicht weiterhelfen konnten.</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, wie wir die Dokumentation verbessern können?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/queries-troubleshooting.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>