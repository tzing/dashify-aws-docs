<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="de-DE"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Erste Schritte mit der Verwendung von Verbundabfragen an PostgreSQL mit AWS CloudFormation - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="getting-started-federated-CF" /><meta name="default_state" content="getting-started-federated-CF" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/getting-started-federated-CF.html" /><meta name="description" content="Automatisieren Sie die Einrichtung von Verbundabfragen in Amazon Redshift mithilfe eines AWS CloudFormation-Stacks." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Datenbankentwicklerhandbuch" /><meta name="abstract" content="Erstellen und verwalten Sie ein Data Warehouse mit Amazon Redshift, einem vollständig verwalteten Petabyte-Data-Warehousing-Service auf Unternehmensniveau." /><meta name="guide-locale" content="de_de" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/getting-started-federated-CF.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/getting-started-federated-CF.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/getting-started-federated-CF.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/getting-started-federated-CF.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/getting-started-federated-CF.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/getting-started-federated-CF.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/getting-started-federated-CF.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/getting-started-federated-CF.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/getting-started-federated-CF.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/getting-started-federated-CF.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/getting-started-federated-CF.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/getting-started-federated-CF.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/getting-started-federated-CF.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/getting-started-federated-CF.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/getting-started-federated-CF.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/getting-started-federated-CF.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/getting-started-federated-CF.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/getting-started-federated-CF.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/getting-started-federated-CF.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/getting-started-federated-CF.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/getting-started-federated-CF.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/getting-started-federated-CF.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Datenbankentwicklerhandbuch" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Datenbankentwicklerhandbuch" /><meta id="panorama-serviceConsolePage" value="Erste Schritte mit der Verwendung von Verbundabfragen an PostgreSQL mit AWS CloudFormation" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Erste Schritte mit der Verwendung von Verbundabfragen an PostgreSQL mit AWS CloudFormation - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#getting-started-federated-CF" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/getting-started-federated-CF.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/getting-started-federated-CF.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/getting-started-federated-CF.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,Cluster,Data Warehouse,Developer,Musterdaten,Datenbank,Database Developer,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Datenbankentwicklerhandbuch",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Abfragen von Daten mit Verbundabfragen in Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg/federated-overview.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Erste Schritte mit der Verwendung von Verbundabfragen an PostgreSQL mit AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg/federated-overview.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#getting-started-federated-CF" target="_blank" rel="noopener noreferrer" title="PDF öffnen"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Dokumentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Datenbankentwicklerhandbuch</a></div><div id="page-toc-src"><a href="#getting-started-federated-CF-stack">Starten eines  CloudFormation Stacks für Redshift-Verbundabfragen</a><a href="#getting-started-federated-CF-stack-query">Abfragen von Daten aus dem externen Schema</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Die vorliegende Übersetzung wurde maschinell erstellt. Im Falle eines Konflikts oder eines Widerspruchs zwischen dieser übersetzten Fassung und der englischen Fassung (einschließlich infolge von Verzögerungen bei der Übersetzung) ist die englische Fassung maßgeblich.</p></awsui-alert><h1 class="topictitle" id="getting-started-federated-CF">Erste Schritte mit der Verwendung von Verbundabfragen an PostgreSQL mit AWS CloudFormation</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Sie können Verbundabfragen verwenden, um über im Betrieb befindliche Datenbanken hinweg abzufragen. In dieser Anleitung zu den ersten Schritten können Sie die Einrichtung mithilfe eines AWS CloudFormation-Beispiel-Stacks automatisieren, um eine Verbundabfrage von einem Amazon-Redshift-Cluster zu einer serverless Aurora-PostgreSQL-Datenbank zu aktivieren. Sie können schnell loslegen, ohne zur Ressourcenbereitstellung SQL-Anweisungen ausführen zu müssen.</p><p>Der Stack erstellt ein externes Schema, das auf Ihre Aurora-PostgreSQL-Instance verweist, die Tabellen mit Beispieldaten enthält. Sie können Tabellen im externen Schema von Ihrem Redshift-Cluster abfragen.</p><p>Wenn Sie stattdessen mit Verbundabfragen beginnen möchten, indem Sie SQL-Anweisungen ausführen, um ein externes Schema einzurichten, ohne zu verwenden CloudFormation, finden Sie weitere Informationen unter <a href="./getting-started-federated.html">Erste Schritte mit der Verwendung von Verbundabfragen an PostgreSQL</a>.</p><p>Bevor Sie den  CloudFormation Stack für Verbundabfragen ausführen, stellen Sie sicher, dass Sie eine Serverless-Datenbank der Amazon Aurora PostgreSQL -kompatible Edition haben, für die die Daten-API aktiviert ist. Sie können die Daten-API in den Datenbankeigenschaften aktivieren. Wenn Sie die Einstellung nicht finden können, überprüfen Sie, ob Sie eine Serverless-Instance von Aurora PostgreSQL ausführen. Stellen Sie außerdem sicher, dass Sie über einen Amazon-Redshift-Cluster verfügen, der RA3-Knoten verwendet. Wir empfehlen, dass sich Ihr Redshift-Cluster und die Serverless-Aurora-PostgreSQL-Instance in derselben Virtual Private Cloud (VPC) und Subnetzgruppe befinden. Auf diese Weise können Sie die Sicherheitsgruppe für den Amazon-Redshift-Cluster zu den eingehenden Regeln der Sicherheitsgruppe für Ihre Aurora-PostgreSQL-DB-Instance hinzufügen.</p><p>Weitere Informationen zu den ersten Schritten zum Einrichten eines Amazon-Redshift-Clusters finden Sie unter <a href="https://docs.aws.amazon.com/redshift/latest/gsg/getting-started.html">Erste Schritte mit Amazon Redshift</a>. Weitere Informationen zum Einrichten von Ressourcen mit  CloudFormationfinden Sie unter <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/Welcome.html">Was ist AWS CloudFormation?</a>. Weitere Informationen zum Einrichten einer Aurora-Datenbank finden Sie unter <a href="https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/aurora-serverless.create.html">Erstellen eines Aurora-Serverless-v1-DB-Clusters</a>.</p>
         <h2 id="getting-started-federated-CF-stack">Starten eines  CloudFormation Stacks für Redshift-Verbundabfragen</h2>
         <p>Gehen Sie wie folgt vor, um Ihren  CloudFormation Stack für Amazon Redshift zu starten und Verbundabfragen zu aktivieren. Stellen Sie zuvor sicher, dass Sie Ihren Amazon-Redshift-Cluster und Ihre Serverless-Aurora-PostgreSQL-Instance eingerichtet haben.</p>
         
         
         <div class="procedure"><h6>So starten Sie Ihren  CloudFormation Stack für Verbundabfragen</h6><ol><li><p>Klicken Sie hier auf <a href="https://console.aws.amazon.com/cloudformation/home?#/stacks/new?stackName=FederatedQuery&amp;templateURL=https://s3.amazonaws.com/redshift-downloads/docs-downloads/FederatedQuery.yml" rel="noopener noreferrer" target="_blank"><span><b>CFN-Stack starten</b></span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>, um den CloudFormation Service in der zu startenAWS Management Console. </p>
               <p>Melden Sie sich an, wenn Sie dazu aufgefordert werden.</p>
               <p>Der Stack-Erstellungsprozess beginnt und verweist auf eine  CloudFormation Vorlagendatei, die in Amazon S3 gespeichert ist. Eine  CloudFormation <em>Vorlage</em> ist eine Textdatei im JSON-Format, die AWS Ressourcen deklariert, aus denen ein Stack besteht. </p></li><li><p>Klicken Sie auf <b>Next</b> (Weiter) und geben Sie die Stack-Details ein.</p></li><li>
               <p>Geben Sie unter <b>Parameters</b> (Parameter) für den Cluster Folgendes ein:</p>
               
               <div class="itemizedlist">
                   
                   
                   
               <ul class="itemizedlist"><li class="listitem">
                     <p>Den Namen des Amazon-Redshift-Clusters, zum Beispiel <code class="userinput">ra3-consumer-cluster</code></p>
                  </li><li class="listitem">
                     <p>Einen bestimmten Datenbanknamen, zum Beispiel <code class="userinput">dev</code></p>
                  </li><li class="listitem">
                     <p>Den Namen eines Datenbankbenutzers, zum Beispiel <code class="userinput">consumeruser</code></p>
                  </li></ul></div>
               <p>Geben Sie auch die Parameter für die Aurora-Datenbank ein, einschließlich Benutzer, Datenbankname, Port und Endpunkt. Wir empfehlen, einen Testcluster und eine Serverless-Testdatenbank zu verwenden, da der Stack mehrere Datenbankobjekte erstellt.</p>
               <p>Wählen Sie <b>Next (Weiter)</b>. </p>
               <p>Die Stack-Optionen werden angezeigt. </p></li><li><p>Klicken Sie auf <b>Next</b> (Weiter), um die Standardeinstellungen zu übernehmen.</p></li><li><p>Wählen Sie unter <b>Funktionen</b> Folgendes aus: <b>Ich nehme zur Kenntnis, dass AWS CloudFormation IAM-Ressourcen erstellen könnte.</b></p></li><li><p>Wählen Sie <b>Create stack (Stack erstellen)</b> aus. </p></li></ol></div>

         <p>Wählen Sie <b>Stack erstellen</b> aus.  CloudFormation stellt die Vorlagenressourcen bereit, was etwa 10 Minuten dauert, und erstellt ein externes Schema.</p>
         
         
         <p>Falls während der Erstellung des Stacks ein Fehler auftritt, unternehmen Sie folgende Schritte:</p>
         <div class="itemizedlist">
             
             
             
             
         <ul class="itemizedlist"><li class="listitem"><p>Auf der Registerkarte  CloudFormation <b>Ereignisse</b> finden Sie Informationen, die Ihnen bei der Behebung des Fehlers helfen können.</p></li><li class="listitem"><p>Stellen Sie sicher, dass Sie den richtigen Namen, Datenbanknamen und den Datenbankbenutzernamen für den Redshift-Cluster eingegeben haben. Überprüfen Sie auch die Parameter für die Aurora-PostgreSQL-Instance.</p></li><li class="listitem"><p>Stellen Sie sicher, dass Ihr Cluster RA3-Knoten hat.</p></li><li class="listitem"><p>Stellen Sie sicher, dass sich Ihre Datenbank und der Redshift-Cluster im selben Subnetz und in derselben Sicherheitsgruppe befinden.</p></li></ul></div>
       
         <h2 id="getting-started-federated-CF-stack-query">Abfragen von Daten aus dem externen Schema</h2>
     
         <p>Stellen Sie für den folgenden Vorgang sicher, dass Sie die erforderlichen Berechtigungen zum Ausführen von Abfragen im Cluster und der beschriebenen Datenbank besitzen.</p>
         
         <div class="procedure"><h6>So fragen Sie eine externe Datenbank mit Verbundabfrage ab</h6><ol><li><p>Stellen Sie mit einem Client-Tool wie dem Redshift-Abfrage-Editor eine Verbindung zur Redshift-Datenbank her, die Sie beim Erstellen des Stacks eingegeben haben. </p></li><li><p>Fragen Sie nach dem vom Stack erstellten externen Schema ab.</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select * from svv_external_schemas;</code></pre>
               <p>In der Ansicht <a href="./r_SVV_EXTERNAL_SCHEMAS.html">SVV_EXTERNAL_SCHEMAS</a> werden Informationen über verfügbare externe Schemas zurückgegeben. In diesem Fall wird das vom Stack erstellte externe Schema zurückgegeben, <code class="code">myfederated_schema</code>. Möglicherweise werden auch andere externe Schemas zurückgegeben, wenn Sie diese eingerichtet haben. In der Ansicht wird auch die zugeordnete Datenbank des Schemas zurückgegeben. Die Datenbank ist die Aurora-Datenbank, die Sie beim Erstellen des Stacks eingegeben haben. Der Stack fügt der Aurora-Datenbank eine Tabelle hinzu, namens <code class="code">category</code>, und eine andere Tabelle namens <code class="code">sales</code>.</p>
            </li><li>
               <p>Führen Sie SQL-Abfragen für Tabellen im externen Schema aus, das auf Ihre Aurora PostgreSQL-Datenbank verweist. Das folgende Beispiel zeigt eine Abfrage.</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT count(*) FROM myfederated_schema.category;</code></pre>
               <p>Die Tabelle <code class="code">category</code> gibt mehrere Datensätze zurück. Sie können auch Datensätze aus der Tabelle <code class="code">sales</code> zurückgeben.</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT count(*) FROM myfederated_schema.sales;</code></pre>
               <p>Weitere Beispiele finden Sie unter <a href="./federated_query_example.html">Beispiele für die Verwendung einer Verbundabfrage</a>.</p>
            </li></ol></div>
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warnung" /> <strong>JavaScript ist in Ihrem Browser nicht verfügbar oder deaktiviert.</strong></p><p>Zur Nutzung der AWS-Dokumentation muss JavaScript aktiviert sein. Weitere Informationen finden auf den Hilfe-Seiten Ihres Browsers.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Dokumentkonventionen</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./getting-started-federated.html">Erste Schritte mit der Verwendung von Verbundabfragen an PostgreSQL</div><div id="next" class="next-link" accesskey="n" href="./getting-started-federated-mysql.html">Erste Schritte bei der Verwendung von Verbundabfragen für MySQL</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Ja</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass wir gute Arbeit geleistet haben!</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, was wir richtig gemacht haben, damit wir noch besser werden?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/getting-started-federated-CF.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Nein</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass diese Seite überarbeitet werden muss. Es tut uns Leid, dass wir Ihnen nicht weiterhelfen konnten.</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, wie wir die Dokumentation verbessern können?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/getting-started-federated-CF.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>