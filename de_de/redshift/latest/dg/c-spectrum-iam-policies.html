<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="de-DE"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>IAM-Richtlinien für Amazon Redshift Spectrum - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="c-spectrum-iam-policies" /><meta name="default_state" content="c-spectrum-iam-policies" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/c-spectrum-iam-policies.html" /><meta name="description" content="Erfahren Sie mehr über IAM-Richtlinien für Amazon Redshift Spectrum" /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Datenbankentwicklerhandbuch" /><meta name="abstract" content="Erstellen und verwalten Sie ein Data Warehouse mit Amazon Redshift, einem vollständig verwalteten Petabyte-Data-Warehousing-Service auf Unternehmensniveau." /><meta name="guide-locale" content="de_de" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/c-spectrum-iam-policies.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/c-spectrum-iam-policies.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Datenbankentwicklerhandbuch" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Datenbankentwicklerhandbuch" /><meta id="panorama-serviceConsolePage" value="IAM-Richtlinien für Amazon Redshift Spectrum" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>IAM-Richtlinien für Amazon Redshift Spectrum - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#c-spectrum-iam-policies" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/c-spectrum-iam-policies.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/c-spectrum-iam-policies.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/c-spectrum-iam-policies.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,Cluster,Data Warehouse,Developer,Musterdaten,Datenbank,Database Developer,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Datenbankentwicklerhandbuch",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Abfrage externer Daten mit Amazon Redshift Spectrum",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg/c-using-spectrum.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "IAM-Richtlinien für Amazon Redshift Spectrum",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg/c-using-spectrum.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#c-spectrum-iam-policies" target="_blank" rel="noopener noreferrer" title="PDF öffnen"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Dokumentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Datenbankentwicklerhandbuch</a></div><div id="page-toc-src"><a href="#spectrum-iam-policies-s3">Amazon-S3-Berechtigungen</a><a href="#spectrum-iam-policies-cross-account">Kontoübergreifende Amazon-S3-Berechtigungen</a><a href="#spectrum-iam-policies-spectrum-only">Gewähren oder Beschränken des Zugriffs mit Redshift Spectrum</a><a href="#spectrum-iam-policies-minimum-permissions">Mindestberechtigungen</a><a href="#c-spectrum-chaining-roles">Verketten von IAM-Rollen</a><a href="#c-spectrum-glue-acess">Zugriff auf AWS Glue-Daten</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Die vorliegende Übersetzung wurde maschinell erstellt. Im Falle eines Konflikts oder eines Widerspruchs zwischen dieser übersetzten Fassung und der englischen Fassung (einschließlich infolge von Verzögerungen bei der Übersetzung) ist die englische Fassung maßgeblich.</p></awsui-alert><h1 class="topictitle" id="c-spectrum-iam-policies">IAM-Richtlinien für Amazon Redshift Spectrum</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Standardmäßig verwendet Amazon Redshift Spectrum den AWS Glue Data Catalog in AWS-Regionen, die AWS Glue unterstützen. In anderen AWS-Regionen verwendet Redshift Spectrum den Athena-Datenkatalog. Ihr Cluster benötigt die Autorisierung zum Zugriff auf Ihren externen Datenkatalog in AWS Glue oder Athena und Ihre Datendateien in Amazon S3. Sie gewähren diese Berechtigung durch die Referenzierung einer AWS Identity and Access Management- (IAM) Rolle, die mit Ihrem Cluster verbunden ist. Wenn Sie einen Apache-Hive-Metastore zur Verwaltung Ihres Datenkatalogs verwenden, müssen Sie keinen Zugriff auf Athena ermöglichen.</p><p>Sie können Rollen miteinander verketten. Auf diese Weise kann der Cluster andere Rolle annehmen, die nicht dem Cluster angefügt sind. Weitere Informationen finden Sie unter <a href="#c-spectrum-chaining-roles">Verketten von IAM-Rollen in Amazon Redshift Spectrum</a>.</p><p>Der AWS Glue-Katalog, auf den Sie zugreifen, kann für mehr Sicherheit verschlüsselt werden. Wenn der AWS Glue-Katalog verschlüsselt ist, benötigen Sie den AWS KMS-Schlüssel für AWS Glue, um auf den AWS Glue-Datenkatalog zugreifen zu können. Weitere Informationen finden Sie unter <a href="https://docs.aws.amazon.com/glue/latest/dg/encrypt-glue-data-catalog.html">Verschlüsseln Ihres AWS Glue-Datenkatalogs</a> im <em><a href="https://docs.aws.amazon.com/glue/latest/dg/">AWS Glue-Entwicklerhandbuch</a>.</em></p><div class="highlights" id="inline-topiclist"><h6>Themen</h6><ul><li><a href="#spectrum-iam-policies-s3">Amazon-S3-Berechtigungen</a></li><li><a href="#spectrum-iam-policies-cross-account">Kontoübergreifende Amazon-S3-Berechtigungen</a></li><li><a href="#spectrum-iam-policies-spectrum-only">Richtlinien zum Gewähren oder Beschränken des Zugriffs mit Redshift Spectrum</a></li><li><a href="#spectrum-iam-policies-minimum-permissions">Richtlinien zum Gewähren von Mindestberechtigungen</a></li><li><a href="#c-spectrum-chaining-roles">Verketten von IAM-Rollen in Amazon Redshift Spectrum</a></li><li><a href="#c-spectrum-glue-acess">Steuern des Zugriffs auf den AWS Glue-Datenkatalog</a></li></ul></div><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Anmerkung</h6></div><div class="awsdocs-note-text"><p>Wenn Sie derzeit externe Redshift-Spectrum-Tabellen im Athena-Datenkatalog haben, können Sie Ihren Athena-Datenkatalog zu einem AWS Glue-Datenkatalog migrieren. Zur Verwendung des AWS Glue-Datenkatalogs mit Redshift Spectrum müssen Sie möglicherweise Ihre IAM-Richtlinien ändern. Weitere Informationen finden Sie unter <a href="https://docs.aws.amazon.com/athena/latest/ug/glue-athena.html#glue-upgrade">Upgrade auf den AWS Glue-Datenkatalog</a> im <em>Athena-Benutzerhandbuch</em>.</p></div></div>
         <h2 id="spectrum-iam-policies-s3">Amazon-S3-Berechtigungen</h2>
         <p>Ihr Cluster benötigt mindestens GET- und LIST-Zugriff zu Ihrem Amazon-S3-Bucket. Wenn sich der Bucket nicht in demselben AWS-Konto wie der Cluster befindet, muss der Bucket auch dem Cluster den Zugriff auf die Daten erlauben. Weitere Informationen finden Sie unter <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/authorizing-redshift-service.html">Amazon Redshift in Ihrem Namen für den Zugriff auf andere AWS-Services autorisieren</a>. </p>
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Anmerkung</h6></div><div class="awsdocs-note-text"><p>Der Amazon-S3-Bucket kann keine Bucket-Richtlinie verwenden, die den Zugriff nur auf bestimmte VPC-Endpunkte beschränkt.</p></div></div>
         <p>Die folgende Richtlinie gewährt GET- und LIST-Zugriff auf alle Amazon-S3-Buckets. Die Richtlinie erlaubt den Zugriff auf Amazon-S3-Buckets für Redshift Spectrum sowie COPY-Vorgänge.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
	"Version": "2012-10-17",
	"Statement": [<span>{</span>
		"Effect": "Allow",
		"Action": ["s3:Get*", "s3:List*"],
		"Resource": "*"
	}]
}</code></pre>

         <p>Die folgende Richtlinie gewährt GET- und LIST-Zugriff auf Ihren Amazon-S3-Bucket mit der Bezeichnung <code class="code">myBucket</code>.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
	"Version": "2012-10-17",
	"Statement": [<span>{</span>
		"Effect": "Allow",
		"Action": ["s3:Get*", "s3:List*"],
		"Resource": "arn:aws:s3:::myBucket/*"
	}]
}</code></pre>
       
         <h2 id="spectrum-iam-policies-cross-account">Kontoübergreifende Amazon-S3-Berechtigungen</h2>
         <p>Um Redshift Spectrum zum Zugriff auf Daten in einem Amazon-S3-Bucket zu berechtigen, der zu einem anderen AWS-Konto gehört, fügen Sie die folgende Richtlinie zum Amazon-S3-Bucket hinzu. Weitere Informationen finden Sie unter <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/example-walkthroughs-managing-access-example2.html"> Beispiel 2: Bucket-Eigentümer erteilt kontoübergreifende Bucket-Berechtigungen</a>.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Sid": "Example permissions",
            "Effect": "Allow",
            "Principal": <span>{</span>
                "AWS": "arn:aws:iam::<code class="replaceable">redshift-account</code>:role/<code class="replaceable">spectrumrole</code>"
            },
            "Action": [
                "s3:GetBucketLocation",
                "s3:GetObject",
                "s3:ListMultipartUploadParts",
                "s3:ListBucket",
                "s3:ListBucketMultipartUploads"
            ],
            "Resource": [
                "arn:aws:s3:::<code class="replaceable">bucketname</code>",
                "arn:aws:s3:::<code class="replaceable">bucketname</code>/*"
            ]
        }
    ]
}</code></pre>
       
         <h2 id="spectrum-iam-policies-spectrum-only">Richtlinien zum Gewähren oder Beschränken des Zugriffs mit Redshift Spectrum</h2>
         <p>Um den Zugriff auf einen Amazon-S3-Bucket nur mit der Verwendung von Redshift Spectrum zu gewähren, fügen Sie eine Bedingung ein, die den Zugriff für den Benutzeragenten <code class="code">AWS Redshift/Spectrum</code> gewährt. Die folgende Richtlinie erlaubt den Zugriff auf Amazon-S3-Buckets nur für Redshift Spectrum. Andere Zugriffsmöglichkeiten, etwa COPY-Operationen, sind ausgeschlossen.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "Version": "2012-10-17",
    "Statement": [<span>{</span>
        "Effect": "Allow",
        "Action": ["s3:Get*", "s3:List*"],
        "Resource": "arn:aws:s3:::myBucket/*",
                "Condition": <span>{</span>"StringEquals": <span>{</span>"aws:UserAgent": "AWS Redshift/Spectrum"}}
    }]
}</code></pre>
         <p>Auf ähnliche Weise können Sie eine IAM-Rolle erstellen, die den Zugriff für COPY-Operationen erlaubt, den Zugriff für Redshift Spectrum jedoch ausschließt. Fügen Sie dazu eine Bedingung ein, die dem Benutzeragenten <code class="userinput">AWS Redshift/Spectrum</code> den Zugriff verweigert. Die folgende Richtlinie erlaubt den Zugriff auf einen Amazon-S3-Bucket, ausgenommen für Redshift Spectrum.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "Version": "2012-10-17",
    "Statement": [<span>{</span>
        "Effect": "Allow",
        "Action": ["s3:Get*", "s3:List*"],
        "Resource": "arn:aws:s3:::myBucket/*",
                "Condition": <span>{</span>"StringNotEquals": <span>{</span>"aws:UserAgent": "AWS Redshift/Spectrum"}}
    }]
}</code></pre>
       
         <h2 id="spectrum-iam-policies-minimum-permissions">Richtlinien zum Gewähren von Mindestberechtigungen</h2>
         <p>Mit der folgenden Richtlinie werden die Mindestberechtigungen gewährt, die zur Verwendung von Redshift Spectrum mit Amazon S3, AWS Glue und Athena erforderlich sind. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "s3:GetBucketLocation",
                "s3:GetObject",
                "s3:ListMultipartUploadParts",
                "s3:ListBucket",
                "s3:ListBucketMultipartUploads"
            ],
            "Resource": [
                "arn:aws:s3:::<code class="replaceable">bucketname</code>",
                "arn:aws:s3:::<code class="replaceable">bucketname</code>/<code class="replaceable">folder1</code>/<code class="replaceable">folder2</code>/*"
            ]
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "glue:CreateDatabase",
                "glue:DeleteDatabase",
                "glue:GetDatabase",
                "glue:GetDatabases",
                "glue:UpdateDatabase",
                "glue:CreateTable",
                "glue:DeleteTable",
                "glue:BatchDeleteTable",
                "glue:UpdateTable",
                "glue:GetTable",
                "glue:GetTables",
                "glue:BatchCreatePartition",
                "glue:CreatePartition",
                "glue:DeletePartition",
                "glue:BatchDeletePartition",
                "glue:UpdatePartition",
                "glue:GetPartition",
                "glue:GetPartitions",
                "glue:BatchGetPartition"
            ],
            "Resource": [
                "*"
            ]
        }
    ]
}</code></pre>
         <p>Wenn Sie für Ihren Datenkatalog Athena anstelle von AWS Glue verwenden, setzt die Richtlinie uneingeschränkten Athena-Zugriff voraus. Die folgende Richtlinie gewährt den Zugriff auf Athena-Ressourcen. Wenn sich Ihre externe Datenbank in einem Hive-Metastore befindet, benötigen Sie keinen Athena-Zugriff.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
	"Version": "2012-10-17",
	"Statement": [<span>{</span>
		"Effect": "Allow",
		"Action": ["athena:*"],
		"Resource": ["*"]
	}]
}</code></pre>
       
         <h2 id="c-spectrum-chaining-roles">Verketten von IAM-Rollen in Amazon Redshift Spectrum</h2>

         <p>Wenn Sie eine Rolle an Ihren Cluster anfügen, kann Ihr Cluster diese Rolle übernehmen, um in Ihrem Namen auf Amazon S3, Athena und AWS Glue zuzugreifen. Wenn eine an den Cluster angefügte Rolle keinen Zugriff auf die erforderlichen Ressourcen hat, können Sie mit ihr eine andere Rolle verketten, die möglicherweise zu einem anderen Konto gehört. Ihr Cluster nimmt dann vorübergehend die verkettete Rolle an, um auf die Daten zuzugreifen. Sie können über verkettete Rollen auch kontoübergreifenden Zugriff gewähren. Sie können maximal 10 Rollen miteinander verketten. Jede Rolle in der Kette nimmt die nächste Rolle in der Kette an, bis hin zum Cluster, der die Rolle am Ende der Kette annimmt. </p>
         <p>Zum Verketten von Rollen richten Sie eine Vertrauensstellung zwischen den Rollen ein. Eine Rolle, die eine andere Rolle annimmt, muss über eine Berechtigungsrichtlinie verfügen, die es ihr erlaubt, die angegebene Rolle anzunehmen. Die Rolle, die Berechtigungen übergibt, muss wiederum über eine Vertrauensstellung verfügen, die es ihr erlaubt, ihre Berechtigungen an eine andere Rolle zu übergeben. Weitere Informationen finden Sie unter <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/authorizing-redshift-service.html#authorizing-redshift-service-chaining-roles">Verketten von IAM-Rollen in Amazon Redshift</a>. </p>

         <p>Wenn Sie den Befehl CREATE EXTERNAL SCHEMA ausführen, können Sie Rollen durch Einschluss einer durch Komma getrennten Liste von Rollen-ARNs verketten. </p>
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Anmerkung</h6></div><div class="awsdocs-note-text"><p>Die Liste der verketteten Rollen darf keine Leerstellen enthalten.</p></div></div>
         <p>Im folgenden Beispiel wird <code class="code">MyRedshiftRole</code> an den Cluster angehängt. <code class="code">MyRedshiftRole</code> nimmt die Rolle <code class="code">AcmeData</code> an, die zum Konto <code class="code">111122223333</code> gehört.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">create external schema acme from data catalog 
database 'acmedb' region 'us-west-2' 
iam_role 'arn:aws:iam::123456789012:role/MyRedshiftRole,arn:aws:iam::111122223333:role/AcmeData';</code></pre>
       

         <h2 id="c-spectrum-glue-acess">Steuern des Zugriffs auf den AWS Glue-Datenkatalog</h2>
         <p>Wenn Sie AWS Glue für Ihren Datenkatalog verwenden, können Sie differenzierte Zugriffskontrollen für den AWS Glue-Datenkatalog mithilfe Ihrer IAM-Richtlinie festlegen. Beispielsweise können Sie festlegen, dass nur bestimmte Datenbanken und Tabellen für eine spezifische IAM-Rolle bereitgestellt werden.</p>
         <p>In den folgenden Abschnitten werden die IAM-Richtlinien für verschiedene Zugriffsebenen für im AWS Glue-Datenkatalog gespeicherte Daten beschrieben.</p>

         <div class="highlights" id="inline-topiclist"><h6>Themen</h6><ul><li><a href="#c-spectrum-glue-acess-database">Richtlinie für Datenbankoperationen</a></li><li><a href="#c-spectrum-glue-acess-tables">Richtlinie für Tabellenoperationen</a></li><li><a href="#c-spectrum-glue-acess-partitions">Richtlinie für Partitionsoperationen</a></li></ul></div>
          
            <h3 id="c-spectrum-glue-acess-database">Richtlinie für Datenbankoperationen</h3>

            <p>Wenn Sie Benutzern die Berechtigung zum Anzeigen und Erstellen von Datenbanken erteilen möchten, benötigen diese Zugriffsrechte für die Datenbank und den AWS Glue-Datenkatalog.</p>
            <p>Mit der folgenden Beispielabfrage wird eine Datenbank erstellt.</p>

            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
CREATE EXTERNAL SCHEMA example_db
FROM DATA CATALOG DATABASE 'example_db' region 'us-west-2' 
IAM_ROLE 'arn:aws:iam::redshift-account:role/spectrumrole'
CREATE EXTERNAL DATABASE IF NOT EXISTS              
            </code></pre>
            <p>Mit der folgenden IAM-Richtlinie werden die zum Erstellen einer Datenbank benötigten Mindestberechtigungen erteilt.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
<span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "glue:GetDatabase",
                "glue:CreateDatabase"
            ],
            "Resource": [
                "arn:aws:glue:us-west-2:redshift-account:database/example_db",
                "arn:aws:glue:us-west-2:redshift-account:catalog"
            ]
        }
    ]
}             
            </code></pre>
            <p>Mit der folgenden Beispielabfrage werden die aktuellen Datenbanken aufgelistet.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
SELECT * FROM SVV_EXTERNAL_DATABASES WHERE
databasename = 'example_db1' or databasename = 'example_db2';
            </code></pre>
            <p>Mit der folgenden IAM-Richtlinie werden die zum Auflisten der aktuellen Datenbanken benötigten Mindestberechtigungen erteilt.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
<span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "glue:GetDatabases"
            ],
            "Resource": [
                "arn:aws:glue:us-west-2:redshift-account:database/example_db1",
                "arn:aws:glue:us-west-2:redshift-account:database/example_db2",
                "arn:aws:glue:us-west-2:redshift-account:catalog"

            ]
        }
    ]
}                    
            </code></pre>
          
          
            <h3 id="c-spectrum-glue-acess-tables">Richtlinie für Tabellenoperationen</h3>
            <p>Wenn Sie Benutzern Berechtigungen für View, Create, Drop, Alter oder andere Aktionen für Tabellen erteilen möchten, benötigen sie mehrere Zugriffsarten. Sie benötigen Zugriff auf die Tabellen selbst, die Datenbanken, zu denen sie gehören, und den Katalog.</p>
            <p>Mit der folgenden Beispielabfrage wird eine externe Tabelle erstellt.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
CREATE EXTERNAL TABLE example_db.example_tbl0(
    col0 INT,
    col1 VARCHAR(255)
) PARTITIONED BY (part INT) STORED AS TEXTFILE
LOCATION 's3://test/s3/location/';              
            </code></pre>
            <p>Mit der folgenden IAM-Richtlinie werden die zum Erstellen einer externen Tabelle benötigten Mindestberechtigungen erteilt.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
<span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "glue:CreateTable"
            ],
            "Resource": [
                "arn:aws:glue:us-west-2:redshift-account:catalog",
                "arn:aws:glue:us-west-2:redshift-account:database/example_db",
                "arn:aws:glue:us-west-2:redshift-account:table/example_db/example_tbl0"
            ]
        }
    ]
}               
            </code></pre>
            <p>Mit den folgenden Beispielabfragen werden die aktuellen externen Tabellen aufgelistet.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
SELECT * FROM svv_external_tables
WHERE tablename = 'example_tbl0' OR
tablename = 'example_tbl1';               
            </code></pre>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
SELECT * FROM svv_external_columns
WHERE tablename = 'example_tbl0' OR
tablename = 'example_tbl1';               
            </code></pre>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
SELECT parameters FROM svv_external_tables
WHERE tablename = 'example_tbl0' OR
tablename = 'example_tbl1';               
            </code></pre>
            <p>Mit der folgenden IAM-Richtlinie werden die zum Auflisten der aktuellen externen Tabellen benötigten Mindestberechtigungen erteilt.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
<span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "glue:GetTables"
            ],
            "Resource": [
                "arn:aws:glue:us-west-2:redshift-account:catalog",
                "arn:aws:glue:us-west-2:redshift-account:database/example_db",
                "arn:aws:glue:us-west-2:redshift-account:table/example_db/example_tbl0",
                "arn:aws:glue:us-west-2:redshift-account:table/example_db/example_tbl1"

            ]
        }
    ]
}    
            
            </code></pre>
            <p>Mit der folgenden Beispielabfrage wird eine vorhandene Tabelle geändert.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
ALTER TABLE example_db.example_tbl0
SET TABLE PROPERTIES ('numRows' = '100');               
            </code></pre>
            <p>Mit der folgenden IAM-Richtlinie werden die zum Ändern einer vorhandenen Tabelle benötigten Mindestberechtigungen erteilt.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
<span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "glue:GetTable",
                "glue:UpdateTable"
            ],
            "Resource": [
                "arn:aws:glue:us-west-2:redshift-account:catalog",
                "arn:aws:glue:us-west-2:redshift-account:database/example_db",
                "arn:aws:glue:us-west-2:redshift-account:table/example_db/example_tbl0"

            ]
        }
    ]
}       
</code></pre>
            <p>Mit der folgenden Beispielabfrage wird eine vorhandene Tabelle entfernt.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
DROP TABLE example_db.example_tbl0;                       
            </code></pre>
            <p>Mit der folgenden IAM-Richtlinie werden die zum Entfernen einer vorhandenen Tabelle benötigten Mindestberechtigungen erteilt.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
<span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "glue:DeleteTable"
            ],
            "Resource": [
                "arn:aws:glue:us-west-2:redshift-account:catalog",
                "arn:aws:glue:us-west-2:redshift-account:database/example_db",
                "arn:aws:glue:us-west-2:redshift-account:table/example_db/example_tbl0"
            ]
        }
    ]
}           
            </code></pre>


          

          
            <h3 id="c-spectrum-glue-acess-partitions">Richtlinie für Partitionsoperationen</h3>
            <p>Wenn Sie Benutzern die Berechtigung zum Ausführen von Vorgängen auf Partitionsebene (Anzeigen, Erstellen, Entfernen, Ändern usw.) erteilen möchten, benötigen sie Berechtigungen für die Tabellen, zu denen die Partitionen gehören. Sie benötigen darüber hinaus Berechtigungen für die zugehörigen Datenbanken und den AWS Glue-Datenkatalog.</p>
            <p>Mit der folgenden Beispielabfrage wird eine Partition erstellt.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
ALTER TABLE example_db.example_tbl0
ADD PARTITION (part=0) LOCATION 's3://test/s3/location/part=0/';
ALTER TABLE example_db.example_t
ADD PARTITION (part=1) LOCATION 's3://test/s3/location/part=1/';               
            </code></pre>
            <p>Mit der folgenden IAM-Richtlinie werden die zum Erstellen einer Partition benötigten Mindestberechtigungen erteilt.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
 <span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "glue:GetTable",
                "glue:BatchCreatePartition"
            ],
            "Resource": [
                "arn:aws:glue:us-west-2:redshift-account:catalog",
                "arn:aws:glue:us-west-2:redshift-account:database/example_db",
                "arn:aws:glue:us-west-2:redshift-account:table/example_db/example_tbl0"
            ]
        }
    ]
}              
            </code></pre>

            <p>Mit der folgenden Beispielabfrage werden die aktuellen Partitionen aufgelistet.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">

SELECT * FROM svv_external_partitions
WHERE schemname = 'example_db' AND
tablename = 'example_tbl0'               
            </code></pre>

            <p>Mit der folgenden IAM-Richtlinie werden die zum Auflisten der aktuellen Partitionen benötigten Mindestberechtigungen erteilt.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">

<span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "glue:GetPartitions",
                "glue:GetTables",
                "glue:GetTable"
            ],
            "Resource": [
                "arn:aws:glue:us-west-2:redshift-account:catalog",
                "arn:aws:glue:us-west-2:redshift-account:database/example_db",
                "arn:aws:glue:us-west-2:redshift-account:table/example_db/example_tbl0"
            ]
        }
    ]
}               
            </code></pre>

            <p>Mit der folgenden Beispielabfrage wird eine vorhandene Partition geändert.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
ALTER TABLE example_db.example_tbl0 PARTITION(part='0')
SET LOCATION 's3://test/s3/new/location/part=0/';               
            </code></pre>
            <p>Mit der folgenden IAM-Richtlinie werden die zum Ändern einer vorhandenen Partition benötigten Mindestberechtigungen erteilt.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">

<span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "glue:GetPartition",
                "glue:UpdatePartition"
            ],
            "Resource": [
                "arn:aws:glue:us-west-2:redshift-account:catalog",
                "arn:aws:glue:us-west-2:redshift-account:database/example_db",
                "arn:aws:glue:us-west-2:redshift-account:table/example_db/example_tbl0"
            ]
        }
    ]
}               
            </code></pre>

            <p>Mit der folgenden Beispielabfrage wird eine vorhandene Partition entfernt.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
ALTER TABLE example_db.example_tbl0 DROP PARTITION(part='0');               
            </code></pre>
            <p>Mit der folgenden IAM-Richtlinie werden die zum Entfernen einer vorhandenen Partition benötigten Mindestberechtigungen erteilt.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">

<span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "glue:DeletePartition"
            ],
            "Resource": [
                "arn:aws:glue:us-west-2:redshift-account:catalog",
                "arn:aws:glue:us-west-2:redshift-account:database/example_db",
                "arn:aws:glue:us-west-2:redshift-account:table/example_db/example_tbl0"
            ]
        }
    ]
}               
            </code></pre>
          

      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warnung" /> <strong>JavaScript ist in Ihrem Browser nicht verfügbar oder deaktiviert.</strong></p><p>Zur Nutzung der AWS-Dokumentation muss JavaScript aktiviert sein. Weitere Informationen finden auf den Hilfe-Seiten Ihres Browsers.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Dokumentkonventionen</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./c-getting-started-using-spectrum-query-s3-data-cfn.html">Starten Sie Ihren  CloudFormation Stack und fragen Sie dann Ihre Daten ab</div><div id="next" class="next-link" accesskey="n" href="./spectrum-lake-formation.html">Verwendung von Redshift Spektrum mit Lake Formation</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Ja</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass wir gute Arbeit geleistet haben!</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, was wir richtig gemacht haben, damit wir noch besser werden?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/c-spectrum-iam-policies.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Nein</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass diese Seite überarbeitet werden muss. Es tut uns Leid, dass wir Ihnen nicht weiterhelfen konnten.</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, wie wir die Dokumentation verbessern können?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/c-spectrum-iam-policies.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>