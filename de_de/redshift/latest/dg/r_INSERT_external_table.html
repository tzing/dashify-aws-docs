<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="de-DE"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>INSERT (externe Tabelle) - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_INSERT_external_table" /><meta name="default_state" content="r_INSERT_external_table" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_INSERT_external_table.html" /><meta name="description" content="Fügt die Ergebnisse einer SELECT-Abfrage in vorhandene partitionierte oder nicht partitionierte externe Tabellen ein." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Datenbankentwicklerhandbuch" /><meta name="abstract" content="Erstellen und verwalten Sie ein Data Warehouse mit Amazon Redshift, einem vollständig verwalteten Petabyte-Data-Warehousing-Service auf Unternehmensniveau." /><meta name="guide-locale" content="de_de" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_INSERT_external_table.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_INSERT_external_table.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_INSERT_external_table.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_INSERT_external_table.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_INSERT_external_table.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_INSERT_external_table.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_INSERT_external_table.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_INSERT_external_table.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_INSERT_external_table.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_INSERT_external_table.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_INSERT_external_table.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_INSERT_external_table.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_INSERT_external_table.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_INSERT_external_table.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_INSERT_external_table.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_INSERT_external_table.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_INSERT_external_table.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_INSERT_external_table.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_INSERT_external_table.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_INSERT_external_table.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_INSERT_external_table.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_INSERT_external_table.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Datenbankentwicklerhandbuch" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Datenbankentwicklerhandbuch" /><meta id="panorama-serviceConsolePage" value="INSERT (externe Tabelle)" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>INSERT (externe Tabelle) - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#r_INSERT_external_table" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_INSERT_external_table.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_INSERT_external_table.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_INSERT_external_table.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,Cluster,Data Warehouse,Developer,Musterdaten,Datenbank,Database Developer,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Datenbankentwicklerhandbuch",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "SQL-Referenz",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "SQL-Befehle",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "INSERT (externe Tabelle)",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg/c_SQL_commands.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#r_INSERT_external_table" target="_blank" rel="noopener noreferrer" title="PDF öffnen"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Dokumentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Datenbankentwicklerhandbuch</a></div><div id="page-toc-src"><a href="#r_INSERT_external_table-synopsis">Syntax</a><a href="#r_INSERT_external_table-parameters">Parameter</a><a href="#r_INSERT_external_table_usage_notes">Nutzungshinweise</a><a href="#c_Examples_of_INSERT_external_table">Beispiele für INSERT (externe Tabelle)</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Die vorliegende Übersetzung wurde maschinell erstellt. Im Falle eines Konflikts oder eines Widerspruchs zwischen dieser übersetzten Fassung und der englischen Fassung (einschließlich infolge von Verzögerungen bei der Übersetzung) ist die englische Fassung maßgeblich.</p></awsui-alert><h1 class="topictitle" id="r_INSERT_external_table">INSERT (externe Tabelle)</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Fügt die Ergebnisse einer SELECT-Abfrage in vorhandene externe Tabellen im externen Katalog ein, z. B. für AWS Glue, AWS Lake Formation oder einen Apache-Hive-Metastore. Verwenden Sie dieselbe AWS Identity and Access Management (IAM)-Rolle, die für den Befehl CREATE EXTERNAL SCHEMA verwendet wird, um mit externen Katalogen und Amazon S3 zu interagieren.</p><p>Bei nicht partitionierten Tabellen schreibt der Befehl INSERT (externe Tabelle) Daten basierend auf den angegebenen Tabelleneigenschaften und dem Dateiformat in den Amazon-S3-Speicherort, der in der Tabelle definiert ist.</p><p>Bei partitionierten Tabellen schreibt INSERT (externe Tabelle) Daten gemäß dem in der Tabelle angegebenen Partitionsschlüssel in den Amazon-S3-Speicherort. Außerdem werden neue Partitionen automatisch im externen Katalog registriert, nachdem der INSERT-Vorgang abgeschlossen ist.</p><p>Sie können INSERT (externe Tabelle) nicht innerhalb eines Transaktionsblocks ausführen (BEGIN ... END). Weitere Informationen Transaktionen finden Sie unter <a href="./c_serial_isolation.html">Serialisierbare Isolierung</a>. </p>
         <h2 id="r_INSERT_external_table-synopsis">Syntax</h2>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">INSERT INTO <em>external_schema.table_name</em>
<em><span>{</span> select_statement }</em></code></pre>
       
         <h2 id="r_INSERT_external_table-parameters">Parameter</h2>
         <div class="variablelist">
             
             
         <dl>
               <dt><span class="term"> <em>external_schema.table_name</em> </span></dt>
               <dd>
                  <p>Der Name eines vorhandenen externen Schemas und einer externen Zieltabelle, in die eingefügt werden soll.</p>
               </dd>
             
               <dt><span class="term"> <em>select-statement</em> </span></dt>
               <dd>
                  <p>Eine Anweisung, die mindestens eine Zeile in die externe Tabelle einfügt, indem eine beliebige Abfrage definiert wird. Alle von der Abfrage erzeugten Zeilen werden auf Grundlage der Tabellendefinition entweder im Text- oder im Parquet-Format in Amazon S3 geschrieben. Die Abfrage muss eine Spaltenliste zurückgeben, die mit den Spaltendatentypen in der externen Tabelle kompatibel ist. Die Spaltennamen müssen jedoch nicht übereinstimmen.</p>
               </dd>
            </dl></div>
       
         <h2 id="r_INSERT_external_table_usage_notes">Nutzungshinweise</h2>
         <p>Die Anzahl der Spalten in der SELECT-Abfrage muss mit der Summe der Datenspalten und Partitionsspalten übereinstimmen. Der Speicherort und der Datentyp jeder Datenspalte müssen mit dem der externen Tabelle übereinstimmen. Die Position der Partitionsspalten muss am Ende der SELECT-Abfrage liegen, in derselben Reihenfolge, in der sie im Befehl CREATE EXTERNAL TABLE definiert wurden. Die Spaltennamen müssen nicht übereinstimmen.</p>
         <p>In einigen Fällen möchten Sie möglicherweise den Befehl INSERT (externe Tabelle) für einen AWS Glue-Datenkatalog oder einen Hive-Metastore ausführen. Im Fall von AWS Glue muss die IAM-Rolle, die zum Erstellen des externen Schemas verwendet wird, sowohl Lese- als auch Schreibberechtigungen für Amazon S3 und AWS Glue haben. Wenn Sie einen AWS Lake Formation-Katalog verwenden, wird diese IAM-Rolle zum Besitzer der neuen Lake Formation-Tabelle. Diese IAM-Rolle muss mindestens über die folgenden Berechtigungen verfügen: </p>
         <div class="itemizedlist">
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>SELECT-, INSERT-, UPDATE-Berechtigung für die externe Tabelle</p>
            </li><li class="listitem">
               <p>Datenspeicherort-Berechtigung für den Amazon-S3-Pfad der externen Tabelle</p>
            </li></ul></div>
         <p>Um sicherzustellen, dass Dateinamen eindeutig sind, verwendet Amazon Redshift das folgende Format für den Namen jeder Datei, die standardmäßig in Amazon S3 hochgeladen wurde. </p>
         <p><code class="code"><code class="replaceable">&lt;date&gt;</code>_<code class="replaceable">&lt;time&gt;</code>_<code class="replaceable">&lt;microseconds&gt;</code>_<code class="replaceable">&lt;query_id&gt;</code>_<code class="replaceable">&lt;slice-number&gt;</code>_part_<code class="replaceable">&lt;part-number&gt;</code>.<code class="replaceable">&lt;format&gt;</code></code>.</p>
         <p>Ein Beispiel ist <code class="code">20200303_004509_810669_1007_0001_part_00.parquet</code>.</p>
         <p>Berücksichtigen Sie Folgendes, wenn Sie den Befehl INSERT (externe Tabelle) ausführen:</p>
         <div class="itemizedlist">
             
             
             
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>Externe Tabellen, die ein anderes Format als PARQUET oder TEXTFILE haben, werden nicht unterstützt.</p>
            </li><li class="listitem">
               <p>Dieser Befehl unterstützt vorhandene Tabelleneigenschaften wie 'write.parallel', 'write.maxfilesize.mb', 'compression_type' und 'serialization.null.format'. Um diese Werte zu aktualisieren, führen Sie den Befehl ALTER TABLE SET TABLE PROPERTIES aus.</p>
            </li><li class="listitem">
               <p>Die Tabelleneigenschaft 'numRows' wird automatisch gegen Ende des INSERT-Vorgangs aktualisiert. Die Tabelleneigenschaft muss bereits definiert oder der Tabelle hinzugefügt werden, wenn sie nicht durch den CREATE EXTERNAL TABLE AS-Vorgang erstellt wurde.</p>
            </li><li class="listitem">
               <p>Die LIMIT-Klausel wird in der äußeren SELECT-Abfrage nicht unterstützt. Verwenden Sie stattdessen eine verschachtelte LIMIT-Klausel.</p>
            </li><li class="listitem">
               <p>Sie können die <a href="./r_STL_UNLOAD_LOG.html">STL_UNLOAD_LOG</a>-Tabelle verwenden, um die Dateien zu verfolgen, die von jedem INSERT (externe Tabelle)-Vorgang in Amazon S3 geschrieben wurden.</p>
            </li><li class="listitem"><p>Amazon Redshift unterstützt nur die Amazon-S3-Standardverschlüsselung für INSERT (externe Tabelle).</p></li></ul></div>
       
         <h2 id="c_Examples_of_INSERT_external_table">Beispiele für INSERT (externe Tabelle)</h2>
         <p>Im folgenden Beispiel werden die Ergebnisse der SELECT-Anweisung in die externe Tabelle eingefügt.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">INSERT INTO spectrum.lineitem
SELECT * FROM local_lineitem;
</code></pre>
         <p>Im folgenden Beispiel werden die Ergebnisse der SELECT-Anweisung mithilfe der statischen Partitionierung in eine partitionierte externe Tabelle eingefügt. Die Partitionsspalten sind in der SELECT-Anweisung fest kodiert. Die Partitionsspalten müssen sich am Ende der Abfrage befinden.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">INSERT INTO spectrum.customer
SELECT name, age, gender, 'May', 28 FROM local_customer;</code></pre>
         <p>Im folgenden Beispiel werden die Ergebnisse der SELECT-Anweisung mithilfe der dynamischen Partitionierung in eine partitionierte externe Tabelle eingefügt. Die Partitionsspalten sind nicht fest kodiert. Daten werden automatisch zu den vorhandenen Partitionsordnern oder zu neuen Ordnern hinzugefügt, wenn eine neue Partition hinzugefügt wird.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">INSERT INTO spectrum.customer
SELECT name, age, gender, month, day FROM local_customer;</code></pre>
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warnung" /> <strong>JavaScript ist in Ihrem Browser nicht verfügbar oder deaktiviert.</strong></p><p>Zur Nutzung der AWS-Dokumentation muss JavaScript aktiviert sein. Weitere Informationen finden auf den Hilfe-Seiten Ihres Browsers.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Dokumentkonventionen</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./c_Examples_of_INSERT_30.html">Beispiele für INSERT</div><div id="next" class="next-link" accesskey="n" href="./r_LOCK.html">LOCK</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Ja</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass wir gute Arbeit geleistet haben!</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, was wir richtig gemacht haben, damit wir noch besser werden?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_INSERT_external_table.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Nein</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass diese Seite überarbeitet werden muss. Es tut uns Leid, dass wir Ihnen nicht weiterhelfen konnten.</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, wie wir die Dokumentation verbessern können?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_INSERT_external_table.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>