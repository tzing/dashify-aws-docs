<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="de-DE"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Arbeiten mit von Lake Formation verwalteten Datashares als Produzent - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="lake-formation-getting-started-producer" /><meta name="default_state" content="lake-formation-getting-started-producer" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/lake-formation-getting-started-producer.html" /><meta name="description" content="Wenn Sie Administrator eines Produzenten-Clusters oder einer Arbeitsgruppe sind, führen Sie diese Schritte aus, um Datashares für Lake Formation freizugeben:" /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Datenbankentwicklerhandbuch" /><meta name="abstract" content="Erstellen und verwalten Sie ein Data Warehouse mit Amazon Redshift, einem vollständig verwalteten Petabyte-Data-Warehousing-Service auf Unternehmensniveau." /><meta name="guide-locale" content="de_de" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/lake-formation-getting-started-producer.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/lake-formation-getting-started-producer.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/lake-formation-getting-started-producer.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/lake-formation-getting-started-producer.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/lake-formation-getting-started-producer.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/lake-formation-getting-started-producer.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/lake-formation-getting-started-producer.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/lake-formation-getting-started-producer.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/lake-formation-getting-started-producer.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/lake-formation-getting-started-producer.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/lake-formation-getting-started-producer.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/lake-formation-getting-started-producer.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/lake-formation-getting-started-producer.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/lake-formation-getting-started-producer.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/lake-formation-getting-started-producer.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/lake-formation-getting-started-producer.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/lake-formation-getting-started-producer.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/lake-formation-getting-started-producer.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/lake-formation-getting-started-producer.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/lake-formation-getting-started-producer.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/lake-formation-getting-started-producer.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/lake-formation-getting-started-producer.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Datenbankentwicklerhandbuch" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Datenbankentwicklerhandbuch" /><meta id="panorama-serviceConsolePage" value="Arbeiten mit von Lake Formation verwalteten Datashares als Produzent" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Arbeiten mit von Lake Formation verwalteten Datashares als Produzent - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#lake-formation-getting-started-producer" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/lake-formation-getting-started-producer.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/lake-formation-getting-started-producer.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/lake-formation-getting-started-producer.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,Cluster,Data Warehouse,Developer,Musterdaten,Datenbank,Database Developer,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Datenbankentwicklerhandbuch",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Freigeben von Daten über Cluster in Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg/datashare-overview.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Verwalten von Aufgaben bei der Datenfreigabe",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg/getting-started-datashare.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Verwalten der Datenfreigabe mithilfe der SQL-Schnittstelle",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg/getting-started-datashare-sql.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Arbeiten mit von AWS Lake Formation verwalteten Datashares",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg/lake-formation-getting-started.html"
      },
      {
        "@type" : "ListItem",
        "position" : 8,
        "name" : "Arbeiten mit von Lake Formation verwalteten Datashares als Produzent",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg/lake-formation-getting-started.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#lake-formation-getting-started-producer" target="_blank" rel="noopener noreferrer" title="PDF öffnen"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Dokumentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Datenbankentwicklerhandbuch</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Die vorliegende Übersetzung wurde maschinell erstellt. Im Falle eines Konflikts oder eines Widerspruchs zwischen dieser übersetzten Fassung und der englischen Fassung (einschließlich infolge von Verzögerungen bei der Übersetzung) ist die englische Fassung maßgeblich.</p></awsui-alert><h1 class="topictitle" id="lake-formation-getting-started-producer">Arbeiten mit von Lake Formation verwalteten Datashares als Produzent</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Wenn Sie Administrator eines Produzenten-Clusters oder einer Arbeitsgruppe sind, führen Sie diese Schritte aus, um Datashares für Lake Formation freizugeben:</p><div class="procedure"><ol><li>
                     <p>Erstellen Sie Datashares in Ihrem Cluster und berechtigen Sie AWS Lake Formation zum Zugriff auf die Datashares.</p>
                     <p>Nur Cluster-Superuser und Datenbankbesitzer können Datashares erstellen. Jedes Datashare wird während der Erstellung einer Datenbank zugeordnet. Nur Objekte aus dieser Datenbank können in diesem Datashare freigegeben werden. Mehrere Datashares können in derselben Datenbank mit derselben oder unterschiedlicher Granularität von Objekten erstellt werden. Es gibt keine Beschränkung für die Anzahl der Datashares, die Sie für einen Cluster erstellen können.</p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE DATASHARE salesshare;</code></pre>
                  </li><li>
                     <p> Fügen Sie Objekte zu dem Datashare hinzu. Der Administrator des Produzenten-Clusters oder der Arbeitsgruppe verwaltet weiterhin die verfügbaren Datashare-Objekte. Um Objekte zu einem Datashare hinzuzufügen, fügen Sie das Schema vor den Objekten hinzu. Wenn Sie ein Schema hinzufügen, fügt Amazon Redshift nicht alle untergeordneten Objekte hinzu. Sie müssen sie explizit hinzufügen. Weitere Informationen finden Sie unter <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_ALTER_DATASHARE.html">ALTER DATASHARE</a>. </p>
                     
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql "><code class="userinput">ALTER DATASHARE salesshare ADD SCHEMA PUBLIC;
ALTER DATASHARE salesshare ADD TABLE public.tickit_sales_redshift;
ALTER DATASHARE salesshare ADD ALL TABLES IN SCHEMA PUBLIC;</code>
</code></pre>
                     
                     <p>Sie können auch Ansichten zu einem Datashare hinzufügen. Unterstützt werden Standardansichten, spätbindende Ansichten und materialisierte Ansichten.</p>
                     
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql "><code class="userinput">CREATE VIEW public.sales_data_summary_view AS SELECT * FROM public.tickit_sales_redshift;
ALTER DATASHARE salesshare ADD TABLE public.tickit_sales_redshift;</code>
</code></pre>
                     
                     <p>Verwenden Sie ALTER DATASHARE, um Schemas, Tabellen und Ansichten in einem bestimmten Schema freizugeben. Superuser, Datashare-Besitzer oder Benutzer mit ALTER- oder ALL-Berechtigungen für das Datashare können das Datashare ändern, um Objekte hinzuzufügen oder daraus zu entfernen. Datenbankbenutzer sollten Besitzer der Objekte sein oder SELECT, USAGE- oder ALL-Berechtigungen für die Objekte haben. </p>
                     
                     <p>Verwenden Sie die INCLUDENEW-Klausel, um dem Datashare neue Tabellen und Ansichten hinzuzufügen, die in einem angegebenen Schema erstellt wurden. Nur Superuser können diese Eigenschaft für jedes Datashare-Schema-Paar ändern.</p>
                     
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql "><code class="userinput">ALTER DATASHARE salesshare ADD SCHEMA PUBLIC;
ALTER DATASHARE salesshare SET INCLUDENEW = TRUE FOR SCHEMA PUBLIC;</code>
</code></pre>
                  </li><li>
                     <p>Gewähren Sie einem Lake-Formation-Administratorkonto Zugriff auf das Datashare.</p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql "><code class="userinput">GRANT USAGE ON DATASHARE salesshare TO ACCOUNT '012345678910' VIA DATA CATALOG;</code></code></pre>
                     
                     <p>Verwenden Sie den folgenden Befehl, um die Nutzungsberechtigung zu widerrufen.</p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql "><code class="userinput">REVOKE USAGE ON DATASHARE salesshare FROM ACCOUNT '012345678910' VIA DATA CATALOG;</code></code></pre>
                  </li><li>
                     <p>Gewähren Sie Lake Formation mithilfe der API-Operation <code class="code">aws redshift authorize-data-share</code> Zugriff auf das Datashare. Dadurch kann Lake Formation das Datashare im Servicekonto erkennen und die Zuordnung von Konsumenten zum Datashare verwalten.</p>
                     
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">aws redshift authorize-data-share 
--data-share-arn arn:aws:redshift:us-east-1:<span>{</span>PRODUCER_ACCOUNT}:datashare:<span>{</span>PRODUCER_CLUSTER_NAMESPACE}/salesshare 
--consumer-identifier <span>{</span>"DataCatalog/&lt;consumer-account-id&gt;"}
</code></pre>
                     <p> Verwenden Sie die API-Operation <code class="code">aws redshift deauthorize-data-share</code>, um die Berechtigung für von Lake Formation verwaltete Datashares zu entfernen. Damit erlauben Sie AWS Lake Formation, das Datashare in dem Servicekonto zu erkennen und die Berechtigung zu entfernen. </p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">aws redshift deauthorize-data-share 
--data-share-arn arn:aws:redshift:us-east-1:<span>{</span>PRODUCER_ACCOUNT}:datashare:<span>{</span>PRODUCER_CLUSTER_NAMESPACE}/salesshare 
--consumer-identifier <span>{</span>"DataCatalog/&lt;consumer-account-id&gt;"}
</code></pre>
                     <p> Wenn der Administrator des Produzenten-Clusters oder der Arbeitsgruppe irgendwann beschließt, dass keine Freigabe von Daten für den Konsumenten-Cluster mehr erforderlich ist, kann er das Datashare mithilfe von DROP DATASHARE löschen, die Autorisierung aufheben oder die Berechtigungen für das Datashare widerrufen. Die zugehörigen Berechtigungen und Objekte in Lake Formation werden nicht automatisch gelöscht. </p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql "><code class="userinput">DROP DATASHARE salesshare;</code></code></pre>
                     <p> Nachdem das Lake-Formation-Konto zur Verwaltung des Datashares berechtigt wurde, kann der Lake-Formation-Administrator das freigegebene Datashare ermitteln, das Datashare einem Datenkatalog-ARN zuweisen und eine Datenbank im AWS Glue Data Catalog erstellen, die mit dem Datashare verknüpft wird. Um Datashares mithilfe der zuzuordnenAWS CLI, verwenden Sie den Befehl <a href="https://docs.aws.amazon.com/cli/latest/reference/redshift/associate-data-share-consumer.html">  associate-data-share-consumer</a>. Wenn Sie einen Datashare zwischen AWS-Regionen freigeben möchten, geben Sie im <code class="code">associate-data-share-consumer</code>-Befehl den <code class="code">--region</code>-Parameter an oder nutzen Sie die AWS-Konsole zur Auswahl Ihrer Datenverbraucher. Das folgende Beispiel zeigt, wie Sie eine von Lake Formation verwalteten Datashare in Regionen freigeben. </p>
                     
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">aws redshift associate-data-share-consumer --region &lt;region-1&gt;
--data-share-arn 'arn:aws:redshift:us-east-1:12345678912:datashare:035c45ea-61ce-86f0-8b75-19ac6102c3b7/sample_share' 
--consumer-arn 'arn:aws:glue:&lt;region-1&gt;:111912345678:catalog'</code></pre>
                     <p>Der Lake-Formation-Administrator muss außerdem lokale Ressourcen erstellen, die festlegen, wie Objekte innerhalb des Datashares Objekten in Lake Formation zugeordnet werden sollen. Weitere Informationen zum Ermitteln von Datashares und zum Erstellen von lokalen Ressourcen finden Sie unter <a href="https://docs.aws.amazon.com/lake-formation/latest/dg/data-sharing-redshift.html">Verwaltung von Berechtigungen für Daten in einem Amazon-Redshift-Datashare</a>. </p>
                  </li></ol></div><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warnung" /> <strong>JavaScript ist in Ihrem Browser nicht verfügbar oder deaktiviert.</strong></p><p>Zur Nutzung der AWS-Dokumentation muss JavaScript aktiviert sein. Weitere Informationen finden auf den Hilfe-Seiten Ihres Browsers.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Dokumentkonventionen</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./lake-formation-getting-started.html">Arbeiten mit von AWS Lake Formation verwalteten Datashares</div><div id="next" class="next-link" accesskey="n" href="./lake-formation-getting-started-consumer.html">Arbeiten mit von Lake Formation verwalteten Datashares als Konsument</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Ja</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass wir gute Arbeit geleistet haben!</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, was wir richtig gemacht haben, damit wir noch besser werden?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/lake-formation-getting-started-producer.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Nein</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass diese Seite überarbeitet werden muss. Es tut uns Leid, dass wir Ihnen nicht weiterhelfen konnten.</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, wie wir die Dokumentation verbessern können?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/lake-formation-getting-started-producer.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>