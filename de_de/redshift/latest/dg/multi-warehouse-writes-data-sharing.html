<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="de-DE"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Freigeben von Lese- und Schreibdaten innerhalb eines AWS-Konto oder mehrerer Konten (Vorschau) - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="multi-warehouse-writes-data-sharing" /><meta name="default_state" content="multi-warehouse-writes-data-sharing" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" /><meta name="description" content="Weitere Informationen zum Einrichten und Verwenden des Vorschau-Tracks finden Sie unter:" /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Datenbankentwicklerhandbuch" /><meta name="abstract" content="Erstellen und verwalten Sie ein Data Warehouse mit Amazon Redshift, einem vollständig verwalteten Petabyte-Data-Warehousing-Service auf Unternehmensniveau." /><meta name="guide-locale" content="de_de" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Datenbankentwicklerhandbuch" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Datenbankentwicklerhandbuch" /><meta id="panorama-serviceConsolePage" value="Freigeben von Lese- und Schreibdaten innerhalb eines AWS-Konto oder mehrerer Konten (Vorschau)" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Freigeben von Lese- und Schreibdaten innerhalb eines AWS-Konto oder mehrerer Konten (Vorschau) - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#multi-warehouse-writes-data-sharing" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,Cluster,Data Warehouse,Developer,Musterdaten,Datenbank,Database Developer,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Datenbankentwicklerhandbuch",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Freigeben von Daten über Cluster in Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg/datashare-overview.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Verwalten von Aufgaben bei der Datenfreigabe",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg/getting-started-datashare.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Freigeben von Lese- und Schreibdaten innerhalb eines AWS-Konto oder mehrerer Konten (Vorschau)",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg/getting-started-datashare.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#multi-warehouse-writes-data-sharing" target="_blank" rel="noopener noreferrer" title="PDF öffnen"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Dokumentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Datenbankentwicklerhandbuch</a></div><div id="page-toc-src"><a href="#within-account-writes-context">Datenfreigabe im schreibgeschützten Modus im Vergleich zur Freigabe von Daten für Lese- und Schreibvorgänge</a><a href="#within-account-writes-share-prereqs">Anforderungen und Verwendungshinweise</a><a href="#within-account-writes-share-producer">Gemeinsame Nutzung von Datenbankobjekten für den Lese- und Schreibzugriff in einem Datashare als Administrator der Produzenten-Datenbank</a><a href="#within-account-writes-share-grants-available">Berechtigungen, die Sie Datashares gewähren können</a><a href="#within-account-writes-share-consumer-create-database">Clustern oder Serverless-Arbeitsgruppen die Abfrage des Datashare ermöglichen</a><a href="#within-account-writes-share-consumer-transactions">Schreiben zu Objekten innerhalb eines Datashares</a><a href="#across-account-read-write-req">Anforderungen und Einschränkungen für Datashares in Vorschau</a><a href="#within-account-writes-share-sql-statements">Unterstützte SQL-Anweisungen</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Die vorliegende Übersetzung wurde maschinell erstellt. Im Falle eines Konflikts oder eines Widerspruchs zwischen dieser übersetzten Fassung und der englischen Fassung (einschließlich infolge von Verzögerungen bei der Übersetzung) ist die englische Fassung maßgeblich.</p></awsui-alert><h1 class="topictitle" id="multi-warehouse-writes-data-sharing">Freigeben von Lese- und Schreibdaten innerhalb eines AWS-Konto oder mehrerer Konten (Vorschau)</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><div class="table-container"><div class="table-contents"><table id="w319aac35c19c13b3">
      <tr>
        <td tabindex="-1"><em><b>Dies ist eine Vorabdokumentation für das Multi-Data-Warehouse-Feature über die gemeinsame Nutzung von Daten für Amazon Redshift, die in der öffentlichen Vorschau im Track PREVIEW_2023 verfügbar ist. Sowohl die Dokumentation als auch die Funktion können sich ändern. Wir empfehlen, diese Funktion nur mit Testclustern und nicht in Produktionsumgebungen zu verwenden. Die Bedingungen für Vorversionen finden Sie unter <em>Beta-Service-Teilnahme</em> in den <a href="https://aws.amazon.com/service-terms/" rel="noopener noreferrer" target="_blank"><span>AWS-Servicebedingungen</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. </b></em> </td>
      </tr>
    </table></div></div><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Anmerkung</h6></div><div class="awsdocs-note-text"><p>Multi-Warehouse-Schreibvorgänge über gemeinsame Datennutzung sind derzeit auf ra3.xlplus-Clustern nicht verfügbar. Um dieses Feature zu verwenden, erstellen Sie ra3.4xl-Cluster, ra3.16xl-Cluster oder Amazon-Redshift-Serverless-Arbeitsgruppen mit dem Vorschau-Track.</p></div></div><p>Weitere Informationen zum Einrichten und Verwenden des Vorschau-Tracks finden Sie unter:</p><div class="itemizedlist">
                          
                          
                      <ul class="itemizedlist"><li class="listitem"><p>Für Amazon Redshift Serverless Vorschau: <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/serverless-workgroup-preview.html">Erstellen einer Vorschau-Arbeitsgruppe</a></p></li><li class="listitem"><p>Vorschau für von Amazon Redshift bereitgestellte Cluster: <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/managing-clusters-console.html#cluster-preview">Erstellen eines Vorschau-Clusters</a></p></li></ul></div><p>Sie können Datenbankobjekte sowohl für Lese- als auch für Schreibvorgänge in verschiedenen Amazon-Redshift-Clustern oder Amazon-Redshift-Serverless-Arbeitsgruppen innerhalb desselben AWS-Konto oder von einem AWS-Konto zu einem anderen freigeben. Sie können Daten auch regionsübergreifend schreiben. Die Vorgänge in diesem Abschnitt illustrieren die Einrichtung der Datenfreigabe. Sie können Berechtigungen wie SELECT, INSERT und UPDATE für verschiedene Tabellen und USAGE und CREATE für verschiedene Schemata gewähren. Die Daten sind live und für alle Warehouses verfügbar, sobald eine Schreibtransaktion festgeschrieben wurde. Bei der gemeinsamen Nutzung von Daten zwischen Konten können Administratoren von Produzentenkonten wählen, ob diese Konten Nur-Lesezugriff auf die Daten erhalten oder nicht. Darüber hinaus können Administratoren von Produzentenkonten feststellen, ob bestimmte Namespaces oder Regionen schreibgeschützt  read-and-writesind oder keinen Zugriff auf die Daten haben. </p><p>In den folgenden Abschnitten wird gezeigt, wie die gemeinsame Nutzung von Daten konfiguriert wird. Die Prozeduren setzen voraus, dass Sie in einer Datenbank in einem bereitgestellten Cluster oder einer Amazon-Redshift-Serverless-Arbeitsgruppe arbeiten.</p>
               <h2 id="within-account-writes-context">Datenfreigabe im schreibgeschützten Modus im Vergleich zur Freigabe von Daten für Lese- und Schreibvorgänge</h2>   
               <p>Bisher waren Objekte in Datashares unter allen Umständen schreibgeschützt. Das Schreiben in ein Objekt in einem Datashare ist ein neues Feature. Objekte in Datashares sind nur schreibfähig, wenn ein Produzent dem Datashare ausdrücklich Schreibberechtigungen wie INSERT oder CREATE für Objekte gewährt. Einzelheiten finden Sie in den nachfolgenden Abschnitten dieses Themas.</p>
               <p>Wenn Sie nach der vorhandenen Dokumentation für schreibgeschützte Datashares suchen, finden Sie diese unter <a href="https://docs.aws.amazon.com/redshift/latest/dg/datashare-overview.html">Cluster-übergreifende Freigabe von Daten in Amazon Redshift</a>.</p>
             
               <h2 id="within-account-writes-share-prereqs">Anforderungen und Verwendungshinweise</h2> 
               <p><em>Isolationseinstellungen</em> – <b>Ihre Datenbank muss auf Snapshot-Isolation eingestellt sein.</b> Bei Datenbanken, die im Track PREVIEW_2023 erstellt wurden, wird standardmäßig die Snapshot-Isolierung verwendet. Isolationseinstellungen können mithilfe des Schlüsselworts ISOLATION in den Anweisungen <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_DATABASE.html">CREATE DATABASE</a> oder <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_ALTER_DATABASE.html">ALTER DATABASE</a> geändert werden.</p>

            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Anmerkung</h6></div><div class="awsdocs-note-text"><p>Multi-Warehouse-Schreibvorgänge über gemeinsame Datennutzung sind derzeit auf ra3.xlplus-Clustern nicht verfügbar. Um dieses Feature zu verwenden, erstellen Sie ra3.4xl-Cluster, ra3.16xl-Cluster oder Amazon-Redshift-Serverless-Arbeitsgruppen mit dem Vorschau-Track.</p></div></div> 
             
               <h2 id="within-account-writes-share-producer">Gemeinsame Nutzung von Datenbankobjekten für den Lese- und Schreibzugriff in einem Datashare als Administrator der Produzenten-Datenbank</h2> 
               <p>Um die gemeinsame Nutzung von Daten zu starten, erstellt der Administrator auf dem Produzenten ein Datashare und fügt diesem Objekte hinzu:</p>
               <div class="procedure"><ol><li><p>Der Eigentümer oder <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_superusers.html">Superuser</a> der Produzenten-Datenbank erstellt ein Datashare. Ein Datashare ist ein logischer Container mit Datenbankobjekten, Berechtigungen und Konsumenten. (Konsumenten sind Cluster oder Amazon-Redshift-Serverless-Namespaces in Ihrem Konto und anderen Konten.) Jedes Datashare ist mit der Datenbank verknüpft, in der es erstellt wurde, und es können nur Objekte aus dieser Datenbank hinzugefügt werden. Der folgende Befehl erstellt ein Datashare:</p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE DATASHARE my_datashare [PUBLICACCESSIBLE = TRUE];</code></pre>
                     <p>Wenn PUBLICACCESSIBLE = TRUE gesetzt wird, können Konsumenten Ihren Datashare von öffentlich zugänglichen Clustern und bereitgestellten Arbeitsgruppen aus abfragen. Lassen Sie dies weg oder setzen Sie es explizit auf „false“, wenn Sie dies nicht zulassen möchten.</p>
                     <p>Der Eigentümer des Datashares muss die USAGE-Berechtigung für die Schemata gewähren, die dem Datashare hinzugefügt werden sollen. Der Befehl GRANT ist neu. Er wird verwendet, um verschiedene Aktionen für das Schema zu gewähren, darunter CREATE und USAGE. Die Schemata enthalten gemeinsam genutzte Objekte:</p>
                  
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE SCHEMA myshared_schema1;
CREATE SCHEMA myshared_schema2;
 
GRANT USAGE ON SCHEMA myshared_schema1 TO DATASHARE my_datashare;
GRANT CREATE, USAGE ON SCHEMA myshared_schema2 TO DATASHARE my_datashare;</code></pre> 
                     <p>Alternativ kann der Administrator weiterhin ALTER-Befehle ausführen, um dem Datashare ein Schema hinzuzufügen. Wenn ein Schema auf diese Weise hinzugefügt wird, werden nur USAGE-Berechtigungen gewährt.</p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">ALTER DATASHARE my_datashare ADD SCHEMA myshared_schema1;</code></pre>
                  </li><li>
                     <p>Nachdem der Administrator Schemata hinzugefügt hat, kann er Datashare-Berechtigungen für Objekte in dem Schema gewähren. Dies können Lese- und Schreibberechtigungen sein. Das GRANT ALL-Beispiel zeigt, wie alle Berechtigungen gewährt werden.</p>
                     
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">GRANT SELECT, INSERT ON TABLE myshared_schema1.table1, myshared_schema1.table2, myshared_schema2.table1
TO DATASHARE my_datashare;
                     
GRANT ALL ON TABLE myshared_schema1.table4 TO DATASHARE my_datashare;</code></pre> 
                     <p>Sie können weiterhin Befehle wie ALTER DATASHARE ausführen, um Tabellen hinzuzufügen. Wenn Sie dies tun, werden nur SELECT-Berechtigungen für die hinzugefügten Objekte gewährt.</p>
               
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">ALTER DATASHARE my_datashare ADD TABLE myshared_schema1.table1, myshared_schema1.table2, myshared_schema2.table1;</code></pre>
            
                  </li><li><p>Der Administrator gestattet einem bestimmten Namespace in dem Konto die Nutzung des Datashare. Sie finden die Namespace-ID als Teil des ARN auf der Cluster-Detailseite, auf der Detailseite des Amazon Redshift Serverless Namespace oder indem Sie den Befehl <code class="code">SELECT current_namespace;</code> ausführen. Weitere Informationen finden Sie unter <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_CURRENT_NAMESPACE.html">CURRENT_NAMESPACE</a>.</p>
             
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">GRANT USAGE ON DATASHARE my_datashare TO NAMESPACE '86b5169f-012a-234b-9fbb-e2e24359e9a8';</code></pre>
    
                  </li></ol></div>
                
                  <h3 id="within-account-writes-share-producer-cross">Autorisieren eines Datashares zur gemeinsamen Nutzung mit einem anderen Konto</h3> 
                  <p>Nachdem Sie ein Datashare auf dem Produzenten erstellt und ihm Objekte hinzugefügt haben, möchten Sie es möglicherweise für ein anderes AWS-Konto freigeben. Die Autorisierung eines Datashares für ein anderes Konto ist ein sekundärer Sicherheitsprozess, der auf dem Produzenten von einem Datensicherheitsadministrator ausgeführt werden muss. Damit wird ein Datashare zur Nutzung durch das Kundenkonto autorisiert. Sie können ein Datashare an ein anderes Konto für schreibgeschützte Zwecke oder für Lese- und Schreibvorgänge autorisieren. Wenn das Konto für Schreibvorgänge autorisiert ist, erhält es die Schreibberechtigungen, die dem Datashare gewährt wurden. Wenn nicht, sind nur die dem Datashare gewährten Leseberechtigungen verfügbar. Weitere Information dazu finden Sie unter <a href="./within-account-writes-share-producer-authorize.html">Autorisieren von Datashares für Schreibvorgänge als Sicherheitsadministrator des Produzenten (Vorschau)</a>.</p>
                
               
                
                  <h3 id="within-account-writes-share-consumer-cross">Zuordnen eines Datashares von einem anderen Konto als Konsument</h3> 
                  <p> Wenn das Datashare von einem anderen Konto stammt, müssen Sie es bestimmten Clustern oder Namespaces in Ihrem Konto zuordnen, bevor es mit diesen Clustern oder Namespaces verwendet werden kann. Sie können es allen Namespaces in einem Konto, allen Namespaces in bestimmten Regionen des Kontos oder bestimmten Namespaces im Konto zuordnen. Sie können wählen, ob für einen Namespace nur Lesezugriff oder Lese- und Schreibzugriff gewährt werden soll. Bei einer Zuordnung für Schreibvorgänge erhalten die zugehörigen Cluster und Serverless-Namespaces die Schreibberechtigungen, die dem Datashare gewährt wurden. Wenn nicht, sind nur die dem Datashare gewährten Leseberechtigungen verfügbar. Weitere Informationen dazu finden Sie unter <a href="within-account-writes-share-consumer-associate.html" rel="noopener noreferrer" target="_blank">Zuordnen gemeinsam genutzter Daten als Administrator für die Sicherheit von Verbraucherdaten (Vorschau)</a>.</p>
                
               
             
               <h2 id="within-account-writes-share-grants-available">Berechtigungen, die Sie Datashares gewähren können</h2> 
               <p>Verschiedene Objekttypen und verschiedene Berechtigungen, die Sie ihnen in einem Datenaustauschkontext gewähren können.</p>
               <p>Schemata:</p>
               <div class="itemizedlist">
                   
                   
               <ul class="itemizedlist"><li class="listitem"><p>USAGE</p></li><li class="listitem"><p>CREATE</p></li></ul></div>
               <p>Tabellen:</p>
               <div class="itemizedlist">
                   
                   
                   
                   
                   
                   
                   
               <ul class="itemizedlist"><li class="listitem"><p>SELECT</p></li><li class="listitem"><p>INSERT</p></li><li class="listitem"><p>AKTUALISIERUNG</p></li><li class="listitem"><p>DELETE</p></li><li class="listitem"><p>TRUNCATE</p></li><li class="listitem"><p>DROP</p></li><li class="listitem"><p>REFERENCES</p></li></ul></div>
               <p>Funktionen:</p>
               <div class="itemizedlist">
                   
               <ul class="itemizedlist"><li class="listitem"><p>EXECUTE</p></li></ul></div>
               
            
             
               <h2 id="within-account-writes-share-consumer-create-database">Clustern oder Serverless-Arbeitsgruppen die Abfrage des Datashare ermöglichen</h2> 
               <p>In diesem Schritt wird davon ausgegangen, dass das Datashare aus einem anderen Cluster oder Amazon-Redshift-Serverless-Namespace in Ihrem Konto oder von einem anderen Konto stammt und mit dem von Ihnen verwendeten Namespace verknüpft wurde.</p>
               <div class="procedure"><ol><li><p>Der Administrator der Konsumenten-Datenbank kann eine Datenbank aus dem Datashare erstellen.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE DATABASE my_ds_db [WITH PERMISSIONS] FROM DATASHARE my_datashare OF NAMESPACE 'abc123def';</code></pre>
                     <p>Wenn Sie eine Datenbank mit der Klausel WITH PERMISSIONS erstellen, können Sie verschiedenen Benutzern und Rollen detaillierte Berechtigungen für Datashare-Objekte gewähren. Andernfalls erhalten alle Benutzer und Rollen, denen die USAGE-Berechtigung für die Datashare-Datenbank gewährt wurde, alle Berechtigungen für alle Objekte in der Datashare-Datenbank.</p>
                     
                  </li><li><p>Im Folgenden wird gezeigt, wie einem Redshift-Datenbankbenutzer oder -rolle Berechtigungen erteilt werden. Sie müssen mit einer lokalen Datenbank verbunden sein, um diese Anweisungen auszuführen. Sie können diese Anweisungen nicht ausführen, wenn Sie vor der Ausführung der Grant-Anweisungen einen USE-Befehl in der Datashare-Datenbank ausführen.</p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">GRANT USAGE ON DATABASE my_ds_db TO ROLE data_eng;
GRANT CREATE, USAGE ON SCHEMA my_ds_db.my_shared_schema TO ROLE data_eng;
GRANT ALL ON ALL TABLES IN SCHEMA my_ds_db.my_shared_schema TO ROLE data_eng;
 
GRANT USAGE ON DATABASE my_ds_db TO bi_user;
GRANT USAGE ON SCHEMA my_ds_db.my_shared_schema TO bi_user;
GRANT SELECT ON my_ds_db.my_shared_schema.table1 TO bi_user;</code></pre>
       </li></ol></div>
     
             
                  <h2 id="within-account-writes-share-consumer-transactions">Schreiben zu Objekten innerhalb eines Datashares</h2> 
                  <p>Es gibt zwei Möglichkeiten, um zu Objekten in einem Datashare zu schreiben.</p>
                  <p><b>Herstellen einer Verbindung zur lokalen Datenbank mit dem USE-Befehl</b></p>
                  <p>Mit diesem Befehl können Sie die Objekte eines Datashares mit zweiteiliger Notation abfragen und Transaktionen mit mehreren Anweisungen ausführen. Sie können Transaktionen mit mehreren Anweisungen nur innerhalb einer einzigen Datenbank ausführen.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">USE database_name;</code></pre>
                  <p>Sie können die Datenbank, mit der Sie verbunden sind, wieder verwenden, indem Sie den Befehl RESET USE ausführen.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">RESET USE;</code></pre>
                  
                  <p>Sobald Sie eine Datenbank VERWENDET (USE) haben, können Sie mit einer Transaktion in dieser Datenbank BEGINNEN (BEGIN). Sie können innerhalb einer einzigen Transaktion nicht in mehrere Datenbanken schreiben.</p>
                  
                  <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Wichtig</h6></div><div class="awsdocs-note-text"><p> Wenn Sie einen USE-Befehl ausführen, ohne zuerst die aktuelle Transaktion festzuschreiben oder zu beenden, wird das Data Warehouse neu gestartet. Stellen Sie sicher, dass Sie offene Transaktionen beenden oder festschreiben, bevor Sie eine USE-Anweisung ausführen.</p></div></div>
                  
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">USE database_name;    --set the context to the datashare database
 
INSERT INTO datashare_schema.table1 VALUES (1);
 
BEGIN; --start a transaction
 
INSERT INTO datashare_schema.table2 VALUES (1);
INSERT INTO datashare_schema.table3 VALUES (1);
 
COMMIT;  --end transaction; you can also use the END command.</code></pre>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Anmerkung</h6></div><div class="awsdocs-note-text"><p>Sie können keine Daten aus Parquet- und ORC-Dateien in eine Datashare-Tabelle kopieren.</p></div></div>
                  
                  <p><b>Herstellen einer direkten Verbindung zu den Datashares über einen Redshift-JDBC-, ODBC- oder Python-Treiber</b></p>
                  <p>Wenn Sie eine direkte Verbindung zu einer Datashare-Datenbank herstellen, können Sie die Tabellen mithilfe der zweiteiligen Notation abfragen und sofort Transaktionen mit mehreren Anweisungen in der Datashare-Datenbank ausführen.</p>
                  
 
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">--connect to the datashare database via JDBC, ODBC, or the Python Driver
 
INSERT INTO datashare_schema.table1 VALUES (1);
 
BEGIN; --start a transaction
 
INSERT INTO datashare_schema.table2 VALUES (1);
INSERT INTO datashare_schema.table3 VALUES (1);
 
COMMIT;  -- end transaction; can also use the END command.</code></pre>
   
                  <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Wichtig</h6></div><div class="awsdocs-note-text"><p>Die Ausführung einer INSERT INTO SELECT-Anweisung wird unterstützt, aber dafür benötigen Sie INSERT-Berechtigungen für alle Tabellen, auf die in der Abfrage verwiesen wird.</p></div></div>    
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Anmerkung</h6></div><div class="awsdocs-note-text"><p>Unterstützung für die Verbindung zu Datashare-Datenbanken über die Daten-API wird in Kürze verfügbar sein.</p></div></div>      
                 
                
               <h2 id="across-account-read-write-req">Anforderungen und Einschränkungen für Datashares in Vorschau</h2>
              <p></p>
               <div class="itemizedlist">
                   
                   
                   
                   
       
    
   
                   
                   
                   
                   
               <ul class="itemizedlist"><li class="listitem"><p>Sie müssen direkt mit einer Datashare-Datenbank verbunden sein oder den USE-Befehl ausführen, um in Datashares zu schreiben. Wir werden jedoch bald die Möglichkeit bieten, dies mit dreiteiliger Notation zu tun. </p></li><li class="listitem"><p>Sie müssen Serverless-Arbeitsgruppen, ra3.4xl-Cluster oder ra3.16xl-Cluster verwenden, um dieses Feature nutzen zu können. Die Unterstützung für ra3.xlplus-Cluster ist geplant.</p></li><li class="listitem"><p><em>Metadatenerkennung</em> – Wenn Sie ein Konsument sind, der über die Redshift-JDBC-, ODBC- oder Python-Treiber direkt mit einer Datashare-Datenbank verbunden ist, können Sie Katalogdaten auf folgende Weise anzeigen: </p>
                     <div class="itemizedlist">
                  
                         
                         
                         
                     <ul class="itemizedlist"><li class="listitem"><p>SQL <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_SHOW.html">SHOW</a>-Befehle.</p></li><li class="listitem"><p>Abfrage von information_schema-Tabellen und Ansichten.</p></li><li class="listitem"><p>Abfragen von <a href="https://docs.aws.amazon.com/redshift/latest/dg/svv_views.html">SVV-Metadatenansichten</a>.</p></li></ul></div>
                  </li><li class="listitem"><p>Sie können über die Daten-API keine Verbindung zu Datashare-Datenbanken herstellen. Unterstützung dafür wird in Kürze verfügbar sein.</p></li><li class="listitem"><p>Konsumenten können die für die Datashares gewährten Berechtigungen nicht einsehen. Wir werden dies bald hinzufügen.</p></li><li class="listitem"><p>Für die kontoübergreifende Datenfreigabe müssen sowohl der Produzenten- als auch der Konsumenten-Cluster verschlüsselt sein.</p></li><li class="listitem"><p>Die Isolationsstufe Ihrer Datenbank muss „Snapshot-Isolation“ sein, damit andere Serverless-Arbeitsgruppen und Cluster darin schreiben können.</p></li><li class="listitem"><p>Konsumenten, die in Datashare-Objekte schreiben, lösen keinen automatischen Analysevorgang aus. Aus diesem Grund muss der Produzent nach dem Einfügen von Daten in die Tabelle die Analyse manuell ausführen, um die Tabellenstatistiken zu aktualisieren. Andernfalls sind Abfragepläne möglicherweise nicht optimal. </p></li></ul></div>
             
               <h2 id="within-account-writes-share-sql-statements">Unterstützte SQL-Anweisungen</h2> 
               <p>Diese Anweisungen werden für die öffentliche Vorschauversion der Datenfreigabe mit Schreibvorgängen unterstützt:</p>
               <div class="itemizedlist">
                   
                   
                   
                   
                   
                   
                   
                   
                   
              
                   
                   
                   
                   
                   
               <ul class="itemizedlist"><li class="listitem"><p>BEGIN | START TRANSACTION</p></li><li class="listitem"><p>END | COMMIT | ROLLBACK</p></li><li class="listitem"><p>COPY ohne COMPUPDATE</p></li><li class="listitem"><p><span>{</span> CREATE | DROP } SCHEMA</p></li><li class="listitem"><p><span>{</span> CREATE | DROP | SHOW } TABLE</p></li><li class="listitem"><p>CREATE TABLE table_name AS</p></li><li class="listitem"><p>DELETE</p></li><li class="listitem"><p><span>{</span> GRANT | REVOKE } privilege_name ON OBJECT_TYPE object_name TO consumer_user </p></li><li class="listitem"><p>INSERT</p></li><li class="listitem"><p>SELECT</p></li><li class="listitem"><p>INSERT INTO SELECT</p></li><li class="listitem"><p>TRUNCATE</p></li><li class="listitem"><p>UPDATE</p></li><li class="listitem"><p>Spalten des Datentyps Super</p></li></ul></div>
               
         
               <p><em>Nicht unterstützte Anweisungstypen</em> – Die folgenden Anweisungstypen werden nicht unterstützt:</p>
               <div class="itemizedlist">
                   
                   
                   
                   
                   
                   
        
               <ul class="itemizedlist"><li class="listitem"><p>Abfragen mit mehreren Anweisungen an Konsumenten-Warehouses, wenn zu Produzenten geschrieben wird.</p></li><li class="listitem"><p>Abfragen mit Parallelitätsskalierung, die von Konsumenten zu Produzenten geschrieben werden.</p></li><li class="listitem"><p>Auto-Copy-Aufträge, die von Konsumenten zu Produzenten geschrieben werden.</p></li><li class="listitem"><p>Streaming-Aufträge, die von Konsumenten zu Produzenten geschrieben werden.</p></li><li class="listitem"><p>Konsumenten, die Null-ETL-Integrationstabellen auf Produzenten-Clustern erstellen. Weitere Informationen zu Null-ETL-Integrationen finden Sie unter <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/zero-etl-using.html">Arbeiten mit Null-ETL-Integrationen</a>.</p></li><li class="listitem"><p>Schreiben in eine Tabelle mit überlappendem Sortierschlüssel.</p></li></ul></div>
               
            <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warnung" /> <strong>JavaScript ist in Ihrem Browser nicht verfügbar oder deaktiviert.</strong></p><p>Zur Nutzung der AWS-Dokumentation muss JavaScript aktiviert sein. Weitere Informationen finden auf den Hilfe-Seiten Ihres Browsers.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Dokumentkonventionen</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./data-sharing-within-account-CF.html">Verwalten der Datenfreigabe mit CloudFormation</div><div id="next" class="next-link" accesskey="n" href="./within-account-writes-share-producer-authorize.html">Autorisieren von Datashares für Schreibvorgänge als Sicherheitsadministrator des Produzenten (Vorschau)</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Ja</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass wir gute Arbeit geleistet haben!</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, was wir richtig gemacht haben, damit wir noch besser werden?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/multi-warehouse-writes-data-sharing.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Nein</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass diese Seite überarbeitet werden muss. Es tut uns Leid, dass wir Ihnen nicht weiterhelfen konnten.</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, wie wir die Dokumentation verbessern können?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/multi-warehouse-writes-data-sharing.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>