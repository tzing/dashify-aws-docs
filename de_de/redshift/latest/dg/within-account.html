<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="de-DE"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Freigeben von Daten innerhalb eines AWS-Konto - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="within-account" /><meta name="default_state" content="within-account" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/within-account.html" /><meta name="description" content="Sie können Daten für Lesezwecke in verschiedenen Amazon-Redshift-Clustern innerhalb eines AWS-Konto freigeben." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Datenbankentwicklerhandbuch" /><meta name="abstract" content="Erstellen und verwalten Sie ein Data Warehouse mit Amazon Redshift, einem vollständig verwalteten Petabyte-Data-Warehousing-Service auf Unternehmensniveau." /><meta name="guide-locale" content="de_de" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/within-account.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/within-account.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/within-account.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/within-account.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/within-account.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/within-account.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/within-account.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/within-account.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/within-account.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/within-account.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/within-account.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/within-account.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/within-account.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/within-account.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/within-account.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/within-account.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/within-account.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/within-account.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/within-account.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/within-account.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/within-account.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/within-account.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Datenbankentwicklerhandbuch" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Datenbankentwicklerhandbuch" /><meta id="panorama-serviceConsolePage" value="Freigeben von Daten innerhalb eines AWS-Konto" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Freigeben von Daten innerhalb eines AWS-Konto - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#within-account" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/within-account.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/within-account.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/within-account.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,Cluster,Data Warehouse,Developer,Musterdaten,Datenbank,Database Developer,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Datenbankentwicklerhandbuch",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Freigeben von Daten über Cluster in Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg/datashare-overview.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Verwalten von Aufgaben bei der Datenfreigabe",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg/getting-started-datashare.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Verwalten der Datenfreigabe mithilfe der SQL-Schnittstelle",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg/getting-started-datashare-sql.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Freigeben von Daten innerhalb eines AWS-Konto",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg/getting-started-datashare-sql.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#within-account" target="_blank" rel="noopener noreferrer" title="PDF öffnen"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Dokumentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Datenbankentwicklerhandbuch</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Die vorliegende Übersetzung wurde maschinell erstellt. Im Falle eines Konflikts oder eines Widerspruchs zwischen dieser übersetzten Fassung und der englischen Fassung (einschließlich infolge von Verzögerungen bei der Übersetzung) ist die englische Fassung maßgeblich.</p></awsui-alert><h1 class="topictitle" id="within-account">Freigeben von Daten innerhalb eines AWS-Konto</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Sie können Daten für Lesezwecke in verschiedenen Amazon-Redshift-Clustern innerhalb eines AWS-Konto freigeben.</p><div class="procedure"><h6>So geben Sie Daten für Lesezwecke als Administrator eines Produzenten-Clusters oder als Datenbankbesitzer frei:</h6><ol><li><p>Erstellen von Datashares im Cluster Weitere Informationen finden Sie unter <a href="./r_CREATE_DATASHARE.html">DATASHARE ERSTELLEN</a>.</p>
            
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE DATASHARE salesshare;</code></pre>
            <p>Cluster-Superuser und Datenbankbesitzer können Datashares erstellen. Jedes Datashare wird während der Erstellung einer Datenbank zugeordnet. Nur Objekte aus dieser Datenbank können in diesem Datashare freigegeben werden. Mehrere Datashares können in derselben Datenbank mit derselben oder unterschiedlicher Granularität von Objekten erstellt werden. Es gibt keine Beschränkung für die Anzahl der Datashares, die ein Cluster erstellen kann.</p>
            <p>Sie können auch die Amazon-Redshift-Konsole verwenden, um Datashares zu erstellen. Weitere Informationen finden Sie unter <a href="./datashare-creation.html#create-datashare-console">Erstellen von Datenaustauschen</a>.</p>
      </li><li><p>Delegieren Sie Berechtigungen, um mit Datashares zu arbeiten. Weitere Informationen finden Sie unter <a href="./r_GRANT.html">GRANT</a> oder <a href="./r_REVOKE.html">REVOKE</a>.</p>

            <p>Im folgenden Beispiel werden <code class="code">dbuser</code> Berechtigungen in <code class="code">salesshare</code> gewährt.</p>
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">GRANT ALTER, SHARE ON DATASHARE salesshare TO dbuser;</code></pre>

            <p>Cluster-Superuser und die Besitzer des Datashares können zusätzlichen Benutzern Änderungsberechtigungen für den Datashare erteilen oder widerrufen.</p>
      </li><li><p>Hinzufügen zu oder Entfernen von Objekten in Datashares. Um Objekte zu einem Datashare hinzuzufügen, fügen Sie das Schema vor den Objekten hinzu. Wenn Sie ein Schema hinzufügen, fügt Amazon Redshift nicht alle untergeordneten Objekte hinzu. Fügen Sie diese explizit hinzu. Weitere Informationen finden Sie unter <a href="./r_ALTER_DATASHARE.html">ALTER DATASHARE</a>.</p>

            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">ALTER DATASHARE salesshare ADD SCHEMA PUBLIC;
ALTER DATASHARE salesshare ADD TABLE public.tickit_sales_redshift;
ALTER DATASHARE salesshare ADD ALL TABLES IN SCHEMA PUBLIC;</code></pre>
            
            <p>Sie können auch Ansichten zu einem Datashare hinzufügen.</p>
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE VIEW public.sales_data_summary_view AS SELECT * FROM public.tickit_sales_redshift;
ALTER DATASHARE salesshare ADD TABLE public.sales_data_summary_view;</code></pre>

         
            <p>Verwenden Sie ALTER DATASHARE, um Schemas und Tabellen, Ansichten und Funktionen in einem bestimmten Schema freizugeben. Superuser, Datashare-Besitzer oder Benutzer, die ALTER- oder ALL-Berechtigungen für den Datashare besitzen, können den Datashare ändern, um Objekte hinzuzufügen oder daraus zu entfernen. Benutzer sollten über die Berechtigung verfügen, Objekte zum Datashare hinzuzufügen oder daraus zu entfernen. Benutzer sollten auch Eigentümer der Objekte sein oder SELECT, USAGE- oder ALL-Berechtigungen für die Objekte haben.</p>  

            <p>Verwenden Sie die INCLUDENEW-Klausel, um neue Tabellen, Ansichten oder benutzerdefinierte SQL-Funktionen (UDFs) zum Datashare hinzuzufügen, die in einem angegebenen Schema erstellt wurden. Nur Superuser können diese Eigenschaft für jedes Datashare-Schema-Paar ändern.</p>
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">ALTER DATASHARE salesshare ADD SCHEMA PUBLIC;
ALTER DATASHARE salesshare SET INCLUDENEW = TRUE FOR SCHEMA PUBLIC;</code></pre>

            <p>Sie können auch die Amazon-Redshift-Konsole verwenden, um Datashares hinzuzufügen oder zu entfernen. Weitere Informationen finden Sie unter <a href="./datashare-creation.html#add-datashare-object-console">Hinzufügen von Datashare-Objekten zu Datashares</a>, <a href="./manage-datashare-existing-console.html#remove-datashare-object-console">Entfernen von Datashare-Objekten aus Datashares</a> und <a href="./manage-datashare-existing-console.html#edit-datashare-console">Bearbeiten von Datashares, die in Ihrem Konto erstellt wurden</a>.</p></li><li><p>Hinzufügen oder Entfernen von Verbrauchern zu Datashares. Im folgenden Beispiel wird der Konsumenten-Cluster-Namespace zu <code class="code">salesshare</code> hinzugefügt. Der Namespace ist der global eindeutige Namespace-Bezeichner (Globally Unique Identifier, GUID) des Konsumenten-Clusters im Konto. Weitere Informationen finden Sie unter <a href="./r_GRANT.html">GRANT</a> oder <a href="./r_REVOKE.html">REVOKE</a>.</p>
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">GRANT USAGE ON DATASHARE salesshare TO NAMESPACE '13b8833d-17c6-4f16-8fe4-1a018f5ed00d';</code></pre>

            <p>Sie können nur einem Datashare-Konsumenten in einer GRANT-Anweisung Berechtigungen erteilen.</p>
            
            <p>Cluster-Superuser und die Eigentümer von Datashare-Objekten oder Benutzer mit SHARE-Berechtigung für das Datashare können Konsumenten zu einem Datashare hinzufügen oder daraus entfernen. Um dies zu tun, verwenden sie GRANT USAGE oder REVOKE USAGE.</p>
            <p>Um den Namespace des aktuell angezeigten Clusters zu finden, können Sie den Befehl SELECT CURRENT_NAMESPACE verwenden. Auf der Detailseite des Konsolen-Clusters von Amazon Redshift finden Sie den Namespace eines anderen Clusters innerhalb des gleichen AWS-Kontos. Suchen Sie auf dieser Seite das neu hinzugefügte Namespace-Feld.</p>
            <p>Sie können auch die Amazon-Redshift-Konsole verwenden, um Datenkonsumenten für Datashares zu entfernen oder sie hinzuzufügen. Weitere Informationen erhalten Sie unter <a href="./datashare-creation.html#add-data-consumer-console">Hinzufügen von Datenverbrauchern zu Datashares</a> und <a href="./manage-datashare-existing-console.html#remove-data-consumer-console">Entfernen von Datenkonsumenten aus Datashares</a>.</p>
         </li><li><p>(Optional) Fügen Sie Sicherheitseinschränkungen zum Datashare hinzu. Das folgende Beispiel zeigt, dass der Konsumenten-Cluster mit einem öffentlichen IP-Zugriff den Datashare lesen darf. Weitere Informationen finden Sie unter <a href="./r_ALTER_DATASHARE.html">ALTER DATASHARE</a>.</p>

            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">ALTER DATASHARE salesshare SET PUBLICACCESSIBLE = TRUE;</code></pre>

            <p>Nach der Erstellung des Datashares können Sie die Eigenschaften des Konsumententyps bearbeiten. Sie können beispielsweise festlegen, dass Cluster, die Daten aus einem bestimmten Datashare verwenden möchten, nicht öffentlich zugänglich sein können. Abfragen von Konsumenten-Clustern, die die im Datashare angegebenen Sicherheitseinschränkungen nicht erfüllen, werden bei der Abfragenlaufzeit abgelehnt.</p>
            <p>Sie können auch die Amazon-Redshift-Konsole verwenden, um Datashares zu bearbeiten. Weitere Informationen finden Sie unter <a href="./manage-datashare-existing-console.html#edit-datashare-console">Bearbeiten von Datashares, die in Ihrem Konto erstellt wurden</a>.</p>
            
         </li><li><p>Listen Sie im Cluster erstellte Datashares auf, und schauen Sie sich den Inhalt des Datashares an.</p>

            <p>Im folgenden Beispiel werden die Informationen eines Datashares mit dem Namen <code class="code">salesshare</code> angezeigt. Weitere Informationen erhalten Sie unter <a href="./r_DESC_DATASHARE.html">DESC DATASHARE</a> und <a href="./r_SHOW_DATASHARES.html">SHOW DATASHARES</a>.</p>
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">DESC DATASHARE salesshare;

               
 producer_account  |          producer_namespace          | share_type | share_name | object_type |           object_name          |   include_new
-------------------+--------------------------------------+------------+------------+-------------+--------------------------------+-------------------
 123456789012      | 13b8833d-17c6-4f16-8fe4-1a018f5ed00d | OUTBOUND   | salesshare | table       | public.tickit_users_redshift   |   
 123456789012      | 13b8833d-17c6-4f16-8fe4-1a018f5ed00d | OUTBOUND   | salesshare | table       | public.tickit_venue_redshift   |
 123456789012      | 13b8833d-17c6-4f16-8fe4-1a018f5ed00d | OUTBOUND   | salesshare | table       | public.tickit_category_redshift|
 123456789012      | 13b8833d-17c6-4f16-8fe4-1a018f5ed00d | OUTBOUND   | salesshare | table       | public.tickit_date_redshift    |
 123456789012      | 13b8833d-17c6-4f16-8fe4-1a018f5ed00d | OUTBOUND   | salesshare | table       | public.tickit_event_redshift   |
 123456789012      | 13b8833d-17c6-4f16-8fe4-1a018f5ed00d | OUTBOUND   | salesshare | table       | public.tickit_listing_redshift |
 123456789012      | 13b8833d-17c6-4f16-8fe4-1a018f5ed00d | OUTBOUND   | salesshare | table       | public.tickit_sales_redshift   |
 123456789012      | 13b8833d-17c6-4f16-8fe4-1a018f5ed00d | OUTBOUND   | salesshare | schema      | public                         |  t
 123456789012      | 13b8833d-17c6-4f16-8fe4-1a018f5ed00d | OUTBOUND   | salesshare | view        | public.sales_data_summary_view |</code></pre>
            
            <p>Im folgenden Beispiel werden die ausgehenden Datashares in einem Produzenten-Cluster angezeigt.</p>
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SHOW DATASHARES LIKE 'sales%';</code></pre>
            <p>Die Ausgabe sieht folgendermaßen oder ähnlich aus.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">share_name | share_owner  | source_database | consumer_database | share_type |     createdate      | is_publicaccessible  | share_acl | producer_account |          producer_namespace 
-----------+--------------+-----------------+-------------------+------------+---------------------+----------------------+-----------+------------------+---------------------------------------
salesshare |    100       | dev             |                   |  OUTBOUND  | 2020-12-09 02:27:08 |          True        |           |   123456789012   | 13b8833d-17c6-4f16-8fe4-1a018f5ed00d </code></pre>
            <p>Weitere Informationen erhalten Sie unter <a href="./r_DESC_DATASHARE.html">DESC DATASHARE</a> und <a href="./r_SHOW_DATASHARES.html">SHOW DATASHARES</a>. </p>
            <p>Sie können auch <a href="./r_SVV_DATASHARES.html">SVV_DATASHARES</a>, <a href="./r_SVV_DATASHARE_CONSUMERS.html">SVV_DATASHARE_CONSUMERS</a> und <a href="./r_SVV_DATASHARE_OBJECTS.html">SVV_DATASHARE_OBJECTS</a> verwenden, um die Datashares, die Objekte im Datashare und die Datashare-Konsumenten anzuzeigen.</p>
         </li><li><p>Löschen Sie Datashares. Weitere Informationen finden Sie unter <a href="./r_DROP_DATASHARE.html">DROP DATASHARE</a>.</p>
            <p>Sie können die Datashare-Objekte jederzeit mit <a href="./r_DROP_DATASHARE.html">DROP DATASHARE</a> löschen. Cluster-Superuser und Besitzer von Datashares können Datashares löschen.</p>

            <p>Im folgenden Beispiel wird ein Datashare namens <code class="code">salesshare</code> entfernt.</p>
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">DROP DATASHARE salesshare;</code></pre>

            <p>Sie können auch die Amazon-Redshift-Konsole verwenden, um Datashares zu löschen. Weitere Informationen finden Sie unter <a href="./manage-datashare-existing-console.html#delete-datashare-console">Löschen von -Datashares, die in Ihrem Konto erstellt wurden</a>.</p>
         </li><li><p>Verwenden Sie ALTER DATASHARE, um Objekte aus Datashares zu einem beliebigen Zeitpunkt aus dem Datashare zu entfernen. Verwenden Sie REVOKE USAGE ON, um Berechtigungen für den Datashare für bestimmte Konsumenten zu widerrufen. Es entzieht USAGE-Berechtigungen für Objekte innerhalb eines Datashares und stoppt sofort den Zugriff auf alle Konsumenten-Cluster. Das Auflisten von Datashares und Metadatenabfragen, wie z. B. das Auflisten von Datenbanken und Tabellen, gibt die freigegebenen Objekte nach dem Widerrufen des Zugriffs nicht zurück.</p>

            
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">ALTER DATASHARE salesshare REMOVE TABLE public.tickit_sales_redshift;</code></pre>

            <p>Sie können auch die Amazon-Redshift-Konsole verwenden, um Datashares zu bearbeiten. Weitere Informationen finden Sie unter <a href="./manage-datashare-existing-console.html#edit-datashare-console">Bearbeiten von Datashares, die in Ihrem Konto erstellt wurden</a>.</p>
         </li><li><p>Widerrufen Sie den Zugriff auf das Datashare aus Namespaces, wenn Sie die Daten nicht mehr mit den Konsumenten teilen möchten.</p>

            
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">REVOKE USAGE ON DATASHARE salesshare FROM NAMESPACE '13b8833d-17c6-4f16-8fe4-1a018f5ed00d';</code></pre>

            <p>Sie können auch die Amazon-Redshift-Konsole verwenden, um Datashares zu bearbeiten. Weitere Informationen finden Sie unter <a href="./manage-datashare-existing-console.html#edit-datashare-console">Bearbeiten von Datashares, die in Ihrem Konto erstellt wurden</a>.</p>
         </li></ol></div><div class="procedure"><h6>So geben Sie Daten für Lesezwecke als Konsumenten-Cluster-Administrator frei:</h6><ol><li><p>Listen Sie die Datashares auf, die Ihnen zur Verfügung gestellt werden, und zeigen Sie deren Inhalt an. Weitere Informationen erhalten Sie unter <a href="./r_DESC_DATASHARE.html">DESC DATASHARE</a> und <a href="./r_SHOW_DATASHARES.html">SHOW DATASHARES</a>.</p>
            <p>Im folgenden Beispiel werden die Informationen zu eingehenden Datashares eines angegebenen Produzenten-Namespaces angezeigt. Wenn Sie DESC DATASHARE als Administrator eines Konsumenten-Clusters ausführen, müssen Sie die Option NAMESPACE angeben, um eingehende Datashares anzuzeigen. </p>

            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">DESC DATASHARE salesshare OF NAMESPACE '13b8833d-17c6-4f16-8fe4-1a018f5ed00d';


 producer_account  |          producer_namespace          | share_type | share_name | object_type |           object_name           |   include_new
-------------------+--------------------------------------+------------+------------+-------------+---------------------------------+------------------
 123456789012      | 13b8833d-17c6-4f16-8fe4-1a018f5ed00d | INBOUND    | salesshare | table       | public.tickit_users_redshift    |     
 123456789012      | 13b8833d-17c6-4f16-8fe4-1a018f5ed00d | INBOUND    | salesshare | table       | public.tickit_venue_redshift    |     
 123456789012      | 13b8833d-17c6-4f16-8fe4-1a018f5ed00d | INBOUND    | salesshare | table       | public.tickit_category_redshift |
 123456789012      | 13b8833d-17c6-4f16-8fe4-1a018f5ed00d | INBOUND    | salesshare | table       | public.tickit_date_redshift     |
 123456789012      | 13b8833d-17c6-4f16-8fe4-1a018f5ed00d | INBOUND    | salesshare | table       | public.tickit_event_redshift    |
 123456789012      | 13b8833d-17c6-4f16-8fe4-1a018f5ed00d | INBOUND    | salesshare | table       | public.tickit_listing_redshift  |
 123456789012      | 13b8833d-17c6-4f16-8fe4-1a018f5ed00d | INBOUND    | salesshare | table       | public.tickit_sales_redshift    |
 123456789012      | 13b8833d-17c6-4f16-8fe4-1a018f5ed00d | INBOUND    | salesshare | schema      | public                          |    
 123456789012      | 13b8833d-17c6-4f16-8fe4-1a018f5ed00d | INBOUND    | salesshare | view        | public.sales_data_summary_view  |   </code></pre>
            <p>Nur Cluster-Superuser können dies tun. Sie können SVV_DATASHARES auch verwenden, um die Datashares anzuzeigen, und SVV_DATASHARE_OBJECTS, um die Objekte innerhalb des Datashares anzuzeigen.</p>
            <p>Im folgenden Beispiel werden die eingehenden Datashares in einem Konsumenten-Cluster angezeigt.</p>
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SHOW DATASHARES LIKE 'sales%';


 share_name | share_owner | source_database | consumer_database | share_type | createdate | is_publicaccessible | share_acl | producer_account |          producer_namespace
------------+-------------+-----------------+-------------------+------------+------------+---------------------+-----------+------------------+--------------------------------------
 salesshare |             |                 |                   | INBOUND    |            |         t           |           |   123456789012   | 13b8833d-17c6-4f16-8fe4-1a018f5ed00d</code></pre>
         </li><li><p>Als Datenbank-Superuser können Sie lokale Datenbanken erstellen, die auf die Datashares verweisen. Weitere Informationen finden Sie unter <a href="./r_CREATE_DATABASE.html">CREATE DATABASE</a>.</p>

            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE DATABASE sales_db FROM DATASHARE salesshare OF NAMESPACE '13b8833d-17c6-4f16-8fe4-1a018f5ed00d';</code></pre>
            
            <p>Wenn Sie eine genauere Kontrolle über den Zugriff auf die Objekte in der lokalen Datenbank wünschen, verwenden Sie beim Erstellen der Datenbank die WITH PERMISSIONS-Klausel. Auf diese Weise können Sie in Schritt 4 Berechtigungen auf Objektebene für Objekte in der Datenbank gewähren. </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE DATABASE sales_db WITH PERMISSIONS FROM DATASHARE salesshare OF NAMESPACE '13b8833d-17c6-4f16-8fe4-1a018f5ed00d';</code></pre>

            <p>Sie können Datenbanken sehen, die Sie durch Abfrage der <a href="./r_SVV_REDSHIFT_DATABASES.html">SVV_REDSHIFT_DATABASES</a>-Ansicht aus dem Datashare erstellt haben. Sie können keine Verbindung zu diesen schreibgeschützten Datenbanken herstellen, die aus Datashares erstellt wurden. Sie können jedoch eine Verbindung zu einer lokalen Datenbank in Ihrem Konsumenten-Cluster herstellen und eine datenbankübergreifende Abfrage durchführen, um die Daten aus den Datenbanken abzufragen, die aus Datashares erstellt wurden. Sie können keinen Datashare auf Datenbankobjekten erstellen, die aus einem vorhandenen Datashare erstellt wurden. Sie können die Daten jedoch in eine separate Tabelle im Konsumenten-Cluster kopieren, alle erforderlichen Verarbeitungsvorgänge durchführen und dann die neu erstellten Objekte freigeben.</p>
            <p>Sie können auch die Amazon-Redshift-Konsole verwenden, um Datenbanken aus Datashares zu erstellen. Weitere Informationen finden Sie unter <a href="./query-datashare-console.html#create-database-from-datashare-console">Erstellen von Datenbanken aus Datashares</a>.</p>

         </li><li><p>(Optional) Erstellen Sie externe Schemas, um auf bestimmte Schemas in der Konsumenten-Datenbank zu verweisen, die im Konsumenten-Cluster importiert wurden, und weisen Sie granulare Berechtigungen zu. Weitere Informationen finden Sie unter <a href="./r_CREATE_EXTERNAL_SCHEMA.html">CREATE EXTERNAL SCHEMA</a>.</p>

            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE EXTERNAL SCHEMA sales_schema FROM REDSHIFT DATABASE 'sales_db' SCHEMA 'public';</code></pre>

     

         </li><li><p>Gewähren Sie Benutzern und Rollen im Konsumenten-Cluster nach Bedarf Berechtigungen für Datenbanken und Schemareferenzen, die aus den Datashares erstellt wurden. Weitere Informationen finden Sie unter <a href="./r_GRANT.html">GRANT</a> oder <a href="./r_REVOKE.html">REVOKE</a>.</p>

            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">GRANT USAGE ON DATABASE sales_db TO Bob;</code></pre>
            
<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">GRANT USAGE ON SCHEMA sales_schema TO ROLE Analyst_role;</code></pre>

            <p>Wenn Sie Ihre Datenbank ohne WITH PERMISSIONS erstellt haben, können Sie Ihren Benutzern und Rollen nur Berechtigungen für die gesamte aus dem Datashare erstellte Datenbank gewähren. In einigen Fällen benötigen Sie feinkörnige Steuerelemente für eine Teilmenge von Datenbankobjekten, die aus dem Datashare erstellt wurden. Wenn dies der Fall ist, können Sie eine externe Schemareferenz erstellen, die auf bestimmte Schemas im Datashare verweist (wie im vorherigen Schritt beschrieben) und detaillierte Berechtigungen auf Schemaebene bereitstellen. </p>
                  <p>Sie können auch spätbindende Ansichten über freigegebene Objekte erstellen und diese verwenden, um detaillierte Berechtigungen zuzuweisen. Sie können auch erwägen, dass Produzenten-Cluster zusätzliche Datashares mit der erforderlichen Granularität erstellen. </p>
            <p>Wenn Sie Ihre Datenbank in Schritt 2 mit WITH PERMISSIONS erstellt haben, müssen Sie Objekten in der gemeinsam genutzten Datenbank Berechtigungen auf Objektebene zuweisen. Ein Benutzer, der nur über die USAGE-Berechtigung verfügt, kann auf Objekte in einer Datenbank, die mit WITH PERMISSIONS erstellt wurde, erst zugreifen, wenn ihm zusätzliche Berechtigungen auf Objektebene erteilt wurden.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">GRANT SELECT ON sales_db.public.tickit_sales_redshift to Bob;</code></pre>

         </li><li><p>Abfragen von Daten in den freigegebenen Objekten in Datashares.</p>
            <p>Benutzer und Rollen mit Berechtigungen für Konsumenten-Datenbanken und Schemata in Konsumenten-Clustern können die Metadaten beliebiger freigegebener Objekte durchsuchen und navigieren. Sie können auch lokale Objekte in einem Konsumenten-Cluster untersuchen und navigieren. Dazu verwenden sie JDBC- oder ODBC-Treiber oder SVV_ALL- und SVV_REDSHIFT-Ansichten.</p>
                  <p>Produzenten-Cluster können viele Schemas in der Datenbank, den Tabellen und Ansichten innerhalb jedes Schemas enthalten. Die Benutzer auf der Konsumenten-Seite können nur die Teilmenge der Objekte sehen, die über den Datashare zur Verfügung gestellt werden. Diese Benutzer können nicht die gesamten Metadaten aus dem Produzenten-Cluster sehen. Dieser Ansatz ermöglicht eine detaillierte Metadaten-Sicherheitskontrolle bei der Datenfreigabe.</p>
            <p>Sie verbinden sich weiterhin mit lokalen Cluster-Datenbanken. Nun können Sie aber auch aus den Datenbanken und Schemas lesen, die aus dem Datashare mit der dreiteiligen database.schema.table-Notation erstellt werden. Sie können Abfragen durchführen, die sich über alle Datenbanken erstrecken, die für Sie sichtbar sind. Dies können lokale Datenbanken auf dem Cluster oder Datenbanken sein, die aus den Datashares erstellt wurden. Konsumenten-Cluster können keine direkte Verbindung zur Datenbank herstellen, die aus dem Datashare erstellt wurde.</p>
            <p>Sie können auf die Daten mit vollständiger Qualifikation zugreifen. Weitere Informationen finden Sie unter <a href="./cross-database_example.html">Beispiele für die Verwendung einer datenbankübergreifenden Abfrage</a>.</p>
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT * FROM sales_db.public.tickit_sales_redshift ORDER BY 1,2 LIMIT 5;

 salesid | listid | sellerid | buyerid | eventid | dateid | qtysold | pricepaid | commission |      saletime
---------+--------+----------+---------+---------+--------+---------+-----------+------------+---------------------
       1 |      1 |    36861 |   21191 |    7872 |   1875 |       4 |    728.00 |     109.20 | 2008-02-18 02:36:48
       2 |      4 |     8117 |   11498 |    4337 |   1983 |       2 |     76.00 |      11.40 | 2008-06-06 05:00:16
       3 |      5 |     1616 |   17433 |    8647 |   1983 |       2 |    350.00 |      52.50 | 2008-06-06 08:26:17
       4 |      5 |     1616 |   19715 |    8647 |   1986 |       1 |    175.00 |      26.25 | 2008-06-09 08:38:52
       5 |      6 |    47402 |   14115 |    8240 |   2069 |       2 |    154.00 |      23.10 | 2008-08-31 09:17:02</code></pre>
            <p>Sie können nur SELECT-Anweisungen für gemeinsam genutzte Objekte verwenden. Sie können jedoch Tabellen im Konsumenten-Cluster erstellen, indem Sie die Daten von den freigegebenen Objekten in einer anderen lokalen Datenbank abfragen.</p><p>Zusätzlich zu Abfragen können Konsumenten Ansichten zu freigegebenen Objekten erstellen. Nur spätbindende Ansichten oder materialisierte Ansichten werden unterstützt. Amazon Redshift unterstützt keine regelmäßigen Ansichten zu freigegebenen Daten. Ansichten, die Konsumenten erstellen, können sich über mehrere lokale Datenbanken oder Datenbanken erstrecken, die aus Datashares erstellt wurden. Weitere Informationen finden Sie unter <a href="./r_CREATE_VIEW.html">CREATE VIEW</a>.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">// Connect to a local cluster database
               
// Create a view on shared objects and access it. 
CREATE VIEW sales_data 
AS SELECT * 
FROM sales_db.public.tickit_sales_redshift 
WITH NO SCHEMA BINDING;

SELECT * FROM sales_data;</code></pre>
         </li></ol></div><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warnung" /> <strong>JavaScript ist in Ihrem Browser nicht verfügbar oder deaktiviert.</strong></p><p>Zur Nutzung der AWS-Dokumentation muss JavaScript aktiviert sein. Weitere Informationen finden auf den Hilfe-Seiten Ihres Browsers.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Dokumentkonventionen</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./getting-started-datashare-sql.html">Verwalten der Datenfreigabe mithilfe der SQL-Schnittstelle</div><div id="next" class="next-link" accesskey="n" href="./across-account.html">Freigeben von Daten über AWS-Konten hinweg</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Ja</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass wir gute Arbeit geleistet haben!</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, was wir richtig gemacht haben, damit wir noch besser werden?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/within-account.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Nein</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass diese Seite überarbeitet werden muss. Es tut uns Leid, dass wir Ihnen nicht weiterhelfen konnten.</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, wie wir die Dokumentation verbessern können?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/within-account.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>