<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="de-DE"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Analysieren von Tabellen - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="t_Analyzing_tables" /><meta name="default_state" content="t_Analyzing_tables" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/t_Analyzing_tables.html" /><meta name="description" content="Verwenden Sie die ANALYZE-Operation, um die statistischen Metadaten zu aktualisieren, die vom Abfrageplaner verwendet werden, um optimale Pläne zu erstellen und zu wählen." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Datenbankentwicklerhandbuch" /><meta name="abstract" content="Erstellen und verwalten Sie ein Data Warehouse mit Amazon Redshift, einem vollständig verwalteten Petabyte-Data-Warehousing-Service auf Unternehmensniveau." /><meta name="guide-locale" content="de_de" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/t_Analyzing_tables.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/t_Analyzing_tables.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/t_Analyzing_tables.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/t_Analyzing_tables.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/t_Analyzing_tables.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/t_Analyzing_tables.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/t_Analyzing_tables.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/t_Analyzing_tables.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/t_Analyzing_tables.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/t_Analyzing_tables.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/t_Analyzing_tables.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/t_Analyzing_tables.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/t_Analyzing_tables.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/t_Analyzing_tables.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/t_Analyzing_tables.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/t_Analyzing_tables.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/t_Analyzing_tables.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/t_Analyzing_tables.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/t_Analyzing_tables.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/t_Analyzing_tables.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/t_Analyzing_tables.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/t_Analyzing_tables.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Datenbankentwicklerhandbuch" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Datenbankentwicklerhandbuch" /><meta id="panorama-serviceConsolePage" value="Analysieren von Tabellen" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Analysieren von Tabellen - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#t_Analyzing_tables" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/t_Analyzing_tables.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/t_Analyzing_tables.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/t_Analyzing_tables.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,Cluster,Data Warehouse,Developer,Musterdaten,Datenbank,Database Developer,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Datenbankentwicklerhandbuch",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Laden von Daten",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg/t_Loading_data.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Analysieren von Tabellen",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg/t_Loading_data.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#t_Analyzing_tables" target="_blank" rel="noopener noreferrer" title="PDF öffnen"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Dokumentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Datenbankentwicklerhandbuch</a></div><div id="page-toc-src"><a href="#t_Analyzing_tables-auto-analyze">Automatische Analyse</a><a href="#t_Analyzing_tables-new-tables">Analyse neuer Tabellendaten</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Die vorliegende Übersetzung wurde maschinell erstellt. Im Falle eines Konflikts oder eines Widerspruchs zwischen dieser übersetzten Fassung und der englischen Fassung (einschließlich infolge von Verzögerungen bei der Übersetzung) ist die englische Fassung maßgeblich.</p></awsui-alert><h1 class="topictitle" id="t_Analyzing_tables">Analysieren von Tabellen</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Verwenden Sie die ANALYZE-Operation, um die statistischen Metadaten zu aktualisieren, die vom Abfrageplaner verwendet werden, um optimale Pläne zu wählen.</p><p>In den meisten Fällen brauchen Sie den Befehl ANALYZE nicht explizit auszuführen. Amazon Redshift überwacht Änderungen an Ihrer Workload und aktualisiert die Statistik im Hintergrund automatisch. Außerdem führt der COPY-Befehl nach dem Laden von Daten in eine leere Tabelle automatisch eine Analyse durch. </p><p>Wenn Sie eine Tabelle oder die gesamte Datenbank explizit analysieren möchten, führen Sie den Befehl <a href="./r_ANALYZE.html">ANALYZE</a> aus. </p><div class="highlights"><h6>Themen</h6><ul><li><a href="#t_Analyzing_tables-auto-analyze">Automatische Analyse</a></li><li><a href="#t_Analyzing_tables-new-tables">Analyse neuer Tabellendaten</a></li><li><a href="./c_check_last_analyze.html">Verlauf für den Befehl ANALYZE</a></li></ul></div>
         <h2 id="t_Analyzing_tables-auto-analyze">Automatische Analyse</h2>
         <p>Amazon Redshift überwacht fortlaufend Ihre Datenbank und führt automatisch Analyseoperationen im Hintergrund durch. Um die Auswirkungen auf die Systemperformance zu minimieren, wird die automatischen Analyse in Zeiten ausgeführt, in denen der Workload gering ist. </p>
         <p>Die automatische Analyse ist standardmäßig aktiviert. Um die automatische Analyse zu deaktivieren, legen Sie für den Parameter <code class="code">auto_analyze</code> den Wert <code class="userinput">false</code> fest, indem Sie die Parametergruppe Ihres Clusters entsprechend ändern. </p>
         <p>Zur Verkürzung der Verarbeitungszeit und zur Verbesserung der allgemeinen Systemleistung überspringt Amazon Redshift die automatische Analyse bei Tabellen mit nur geringen Änderungen. </p>
         <p>Bei einer Analyseoperation werden Tabellen mit  up-to-date Statistiken übersprungen. Wenn ANALYZE im Rahmen des ETL-Workflows (Extrahieren, Transformieren und Laden) ausgeführt wird, werden Tabellen, deren Statistik aktuell ist, bei der automatischen Analyse übersprungen. Aus entsprechenden Gründen werden bei einem expliziten Aufruf von ANALYZE Tabellen ausgelassen, deren Statistik bereits bei einer automatischen Analyse aktualisiert wurde. </p>

       
         <h2 id="t_Analyzing_tables-new-tables">Analyse neuer Tabellendaten</h2>

         <p> Standardmäßig ruft der COPY-Befehl nach dem Laden von Daten in eine leere Tabelle den ANALYZE-Befehl auf. Sie können unabhängig davon, ob eine Tabelle leer ist, den Aufruf von ANALYZE erzwingen, indem Sie STATUPDATE auf ON festlegen. Wenn Sie für STATUPDATE den Wert OFF angeben, wird keine Analyse ausgeführt. Nur der Tabellenbesitzer oder ein Superuser können den Befehl ANALYZE oder den Befehl COPY mit STATUPDATE auf ON ausführen.</p>
         <p>Amazon Redshift analysiert auch automatisch neue Tabellen, die mit den folgenden Befehlen erstellt werden:</p>
         <div class="itemizedlist">
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>CREATE TABLE AS (CTAS) </p>
            </li><li class="listitem">
               <p>CREATE TEMP TABLE AS </p>
            </li><li class="listitem">
               <p>SELECT INTO </p>
            </li></ul></div>
         <p>Wenn Sie eine Abfrage für eine neue Tabelle ausführen, die nach dem anfänglichen Laden der Daten noch nicht analysiert wurde, gibt Amazon Redshift eine Warnung zurück. Wenn Sie jedoch dieselbe Tabelle nach einem anschließenden Aktualisierungs- oder Ladevorgang eine Abfrage ausführen, wird keine Warnung angezeigt. Dieselbe Warnmeldung wird auch zurückgegeben, wenn Sie den Befehl EXPLAIN für eine Abfrage ausführen, die auf Tabellen verweist, die noch nicht analysiert wurden.</p>
         <p>Wenn Sie einer nichtleeren Tabelle eine bedeutende Menge von Daten hinzufügen, können Sie die Statistik explizit aktualisieren. Sie können dies mit dem Befehl ANALYZE oder durch Festlegen von STATUPDATE auf ON erreichen. Um Details zur Anzahl der Zeilen anzuzeigen, die seit der letzten ANALYZE-Operation eingefügt oder gelöscht wurden, führen Sie eine Abfrage für die <a href="./r_PG_STATISTIC_INDICATOR.html">PG_STATISTIC_INDICATOR</a>-Systemkatalogtabelle aus. </p>

         <p>Sie können den Geltungsbereich für den Befehl <a href="./r_ANALYZE.html">ANALYZE</a> auf eine der folgenden Einstellungen festlegen: </p>
         <div class="itemizedlist">
             
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>Die gesamte aktuelle Datenbank</p>
            </li><li class="listitem">
               <p>Eine einzelne Tabelle</p>
            </li><li class="listitem">
               <p>Eine oder mehrere spezifische Spalten in einer einzelnen Tabelle</p>
            </li><li class="listitem">
               <p>Spalten, die in Abfragen wahrscheinlich als Prädikate verwendet werden</p>
            </li></ul></div>
         <p> Der ANALYZE-Befehl ruft eine Zeilenstichprobe aus der Tabelle ab, führt einige Berechnungen aus und speichert die sich daraus ergebenden Spaltenstatistiken. Standardmäßig führt Amazon Redshift einen Stichprobendurchgang für die Spalte DISTKEY und einen weiteren Stichprobendurchgang für alle anderen Spalten in der Tabelle aus. Wenn Sie Statistiken für einen Teilsatz von Spalten generieren möchten, können Sie eine durch Komma getrennte Spaltenliste angeben. Wenn Sie ANALYZE mit der PREDICATE COLUMNS-Klausel ausführen, werden dabei nur Prädikatspalten berücksichtigt.</p>
         <p> ANALYZE-Operationen sind ressourcenintensiv. Sie sollten sie daher nur für Tabellen und Spalten ausführen, für die Statistikaktualisierungen tatsächlich erforderlich sind. Sie müssen nicht regelmäßig oder zu gleichen Termin alle Spalten in allen Tabellen analysieren. Wenn sich die Daten wesentlich verändern, analysieren Sie die Spalten, die häufig bei Folgendem verwendet werden:</p>
         <div class="itemizedlist">
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>Sortierungs- und Gruppierungsoperationen</p>
            </li><li class="listitem">
               <p>Joins</p>
            </li><li class="listitem">
               <p>Abfrageprädikate</p>
            </li></ul></div>
         <p>Zur Verkürzung der Verarbeitungszeit und zur Verbesserung der allgemeinen Systemleistung überspringt Amazon Redshift die ANALYZE-Operation für alle Tabellen mit einem niedrigen Prozentsatz geänderter Zeilen, wie durch den Parameter <a href="./r_analyze_threshold_percent.html">analyze_threshold_percent</a> angegeben. Standardmäßig ist der Analyseschwellenwert auf 10 Prozent festgelegt. Sie können den Analyseschwellenwert für die aktuelle Sitzung durch die Ausführung eines <a href="./r_SET.html">SET</a>-Befehls ändern.</p>
         <p>Spalten, die weniger wahrscheinlich häufige Analysen erfordern, sind Spalten, die Fakten und Messungen und zugehörige Attribute enthalten, die niemals tatsächlich abgefragt werden, beispielsweise große VARCHAR-Spalten. Betrachten Sie beispielsweise die Tabelle LISTING in der TICKIT-Datenbank.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select "column", type, encoding, distkey, sortkey
from pg_table_def where tablename = 'listing';

column         |        type        | encoding | distkey | sortkey 
---------------+--------------------+----------+---------+---------
listid         | integer            | none     | t       | 1       
sellerid       | integer            | none     | f       | 0       
eventid        | integer            | mostly16 | f       | 0       
dateid         | smallint           | none     | f       | 0       
numtickets     | smallint           | mostly8  | f       | 0       
priceperticket | numeric(8,2)       | bytedict | f       | 0       
totalprice     | numeric(8,2)       | mostly32 | f       | 0       
listtime       | timestamp with...  | none     | f       | 0       </code></pre>
         <p>Wenn diese Tabelle jeden Tag mit einer großen Zahl neuer Datensätze geladen wird, muss die Spalte LISTID, die häufig als Join-Schlüssel in Abfragen verwendet wird, regelmäßig analysiert werden. Wenn TOTALPRICE und LISTTIME die häufig verwendeten Einschränkungen in Abfragen sind, können Sie diese Spalten und den Verteilungsschlüssel jeden Wochentag analysieren.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">analyze listing(listid, totalprice, listtime);
</code></pre>
         <p>Angenommen, die Verkäufer und Veranstaltungen in der Anwendung sind sehr viel statischer und die Datums-IDs geben einen festen Satz von Tagen an, allerdings nur aus zwei oder drei Jahren. In diesem Fall ändern sich die jeweiligen Werte für diese Spalten nicht wesentlich. Die Anzahl der Instances der einzelnen spezifischen Werte wird jedoch stetig steigen. </p>
         <p>Betrachten Sie zusätzlich Fälle, in denen die Messungen NUMTICKETS und PRICEPERTICKET im Vergleich zur Spalte TOTALPRICE selten abgefragt werden. In diesem Fall können Sie den ANALYZE-Befehl einmal an jedem Wochenende für die gesamte Tabelle ausführen, um die Statistiken für die fünf Spalten zu aktualisieren, die nicht täglich analysiert werden: </p>
         
          
            <h6>Prädikatsspalten</h6>
            <p>Eine bequeme Alternative zur Angabe einer Spaltenliste stellt die Analyse nur der Spalten dar, die wahrscheinlich als Prädikate verwendet werden. Wenn Sie eine Abfrage ausführen, werden alle Spalten, die in einem Join, einer Filterbedingung oder einer GROUP BY-Klausel verwendet werden, im Systemkatalog als Prädikatsspalten markiert. Wenn Sie ANALYZE mit der PREDICATE COLUMNS-Klausel ausführen, betrifft die Analyseoperation nur Spalten, die den folgenden Kriterien entsprechen:</p>
          
         <div class="itemizedlist">
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>Die Spalte ist als Prädikatsspalte markiert.</p>
            </li><li class="listitem">
               <p>Die Spalte ist ein Verteilungsschlüssel.</p>
            </li><li class="listitem">
               <p>Die Spalte ist Teil eines Sortierschlüssels.</p>
            </li></ul></div>
         <p>Wenn keine Spalten der Tabelle als Prädikate markiert sind, schließt ANALYZE alle Spalten ein, auch wenn PREDICATE COLUMNS angegeben ist. Wenn keine Spalten als Prädikatspalten markiert sind, kann dies daran liegen, dass für die Tabelle noch keine Abfrage ausgeführt wurde. </p>
         <p>Sie sollten PREDICATE COLUMNS verwenden, wenn das Abfragemuster Ihres Workloads vergleichsweise stabil ist. Wenn das Abfragemuster variabel ist und unterschiedliche Spalten häufig als Prädikate verwendet werden, kann die Verwendung von PREDICATE COLUMNS vorübergehend zu veralteten Statistiken führen. Veraltete Statistiken können zu nicht optimalen Abfrageausführungszeitplänen und langen Ausführungszeiten führen. Wenn Sie ANALYZE das nächste Mal mit PREDICATE COLUMNS ausführen, sind die neuen Prädikatspalten jedoch enthalten. </p>
         <p>Um Details für Prädikatspalten anzuzeigen, verwenden Sie den folgenden SQL-Code, um eine Ansicht namens PREDICATE_COLUMNS zu erstellen. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE VIEW predicate_columns AS
WITH predicate_column_info as (
SELECT ns.nspname AS schema_name, c.relname AS table_name, a.attnum as col_num,  a.attname as col_name,
        CASE
            WHEN 10002 = s.stakind1 THEN array_to_string(stavalues1, '||') 
            WHEN 10002 = s.stakind2 THEN array_to_string(stavalues2, '||')
            WHEN 10002 = s.stakind3 THEN array_to_string(stavalues3, '||')
            WHEN 10002 = s.stakind4 THEN array_to_string(stavalues4, '||')
            ELSE NULL::varchar
        END AS pred_ts
   FROM pg_statistic s
   JOIN pg_class c ON c.oid = s.starelid
   JOIN pg_namespace ns ON c.relnamespace = ns.oid
   JOIN pg_attribute a ON c.oid = a.attrelid AND a.attnum = s.staattnum)
SELECT schema_name, table_name, col_num, col_name,
       pred_ts NOT LIKE '2000-01-01%' AS is_predicate,
       CASE WHEN pred_ts NOT LIKE '2000-01-01%' THEN (split_part(pred_ts, '||',1))::timestamp ELSE NULL::timestamp END as first_predicate_use,
       CASE WHEN pred_ts NOT LIKE '%||2000-01-01%' THEN (split_part(pred_ts, '||',2))::timestamp ELSE NULL::timestamp END as last_analyze
FROM predicate_column_info;</code></pre>
         <p>Angenommen, Sie führen die folgende Abfrage für die Tabelle LISTING aus. Beachten Sie, dass LISTID, LISTTIME und EVENTID in den Join-, Filter- und Group by-Klauseln verwendet werden.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select s.buyerid,l.eventid, sum(l.totalprice)
from listing l
join sales s on l.listid = s.listid
where l.listtime &gt; '2008-12-01'
group by l.eventid, s.buyerid;</code></pre>
         <p>Wenn Sie eine Abfrage für die Ansicht PREDICATE_COLUMNS ausführen, wie im folgenden Beispiel gezeigt, sehen Sie, dass LISTID, EVENTID und LISTTIME als Prädikatspalten markiert sind.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select * from predicate_columns 
where table_name = 'listing';</code></pre>

         <pre class="screen">schema_name | table_name | col_num | col_name       | is_predicate | first_predicate_use | last_analyze       
------------+------------+---------+----------------+--------------+---------------------+--------------------
public      | listing    |       1 | listid         | true         | 2017-05-05 19:27:59 | 2017-05-03 18:27:41
public      | listing    |       2 | sellerid       | false        |                     | 2017-05-03 18:27:41
public      | listing    |       3 | eventid        | true         | 2017-05-16 20:54:32 | 2017-05-03 18:27:41
public      | listing    |       4 | dateid         | false        |                     | 2017-05-03 18:27:41
public      | listing    |       5 | numtickets     | false        |                     | 2017-05-03 18:27:41
public      | listing    |       6 | priceperticket | false        |                     | 2017-05-03 18:27:41
public      | listing    |       7 | totalprice     | false        |                     | 2017-05-03 18:27:41
public      | listing    |       8 | listtime       | true         | 2017-05-16 20:54:32 | 2017-05-03 18:27:41</pre>
         <p>Wenn die Statistiken aktuell sind, kann dies die Leistung bei Abfragen verbessern, weil die Abfrageplanung dann optimale Pläne auswählen kann. Amazon Redshift aktualisiert die Statistik im Hintergrund automatisch, und Sie können außerdem den Befehl ANALYZE explizit ausführen. Wenn Sie ANALYZE explizit aufrufen möchten, gehen Sie wie folgt vor:</p>
         <div class="itemizedlist">
             
             
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>Führen Sie den Befehl ANALYZE aus, bevor Sie Abfragen ausführen.</p>
            </li><li class="listitem">
               <p>Führen Sie am Ende jedes regulären Lade- oder Aktualisierungszyklus routinemäßig den Befehl ANALYZE über der Datenbank aus.</p>
            </li><li class="listitem">
               <p>Führen Sie den Befehl ANALYZE über allen neuen Tabellen aus, die Sie erstellen, aber auch über allen vorhandenen Tabellen oder Spalten mit wesentlichen Änderungen.</p>
            </li><li class="listitem">
               <p>Sie sollten ANALYZE-Operationen für verschiedene Arten von Tabellen und Spalten zu unterschiedlichen Zeitpunkten ausführen, abhängig von ihrer Verwendung in Abfragen und der Wahrscheinlichkeit von Änderungen.</p>
            </li><li class="listitem">
               <p>Um Zeit und Cluster-Ressourcen zu sparen, sollten Sie die PREDICATE COLUMNS-Klausel verwenden, wenn Sie ANALYZE ausführen.</p>
            </li></ul></div>
         <p>Sie müssen den Befehl ANALYZE nicht explizit ausführen, nachdem Sie einen Snapshot in einem bereitgestellten Cluster oder Serverless-Namespace wiederhergestellt oder einen pausierten bereitgestellten Cluster fortgesetzt haben. Amazon Redshift behält in diesen Fällen die Systemtabelleninformationen bei, sodass manuelle ANALYZE-Befehle nicht erforderlich sind. Amazon Redshift wird bei Bedarf weiterhin automatische Analysevorgänge ausführen.</p>
         <p>Bei einer Analyseoperation werden Tabellen mit  up-to-date Statistiken übersprungen. Wenn ANALYZE im Rahmen des ETL-Workflows (Extrahieren, Transformieren und Laden) ausgeführt wird, werden Tabellen, deren Statistik aktuell ist, bei der automatischen Analyse übersprungen. Aus entsprechenden Gründen werden bei einem expliziten Aufruf von ANALYZE Tabellen ausgelassen, deren Statistik bereits bei einer automatischen Analyse aktualisiert wurde.</p>
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warnung" /> <strong>JavaScript ist in Ihrem Browser nicht verfügbar oder deaktiviert.</strong></p><p>Zur Nutzung der AWS-Dokumentation muss JavaScript aktiviert sein. Weitere Informationen finden auf den Hilfe-Seiten Ihres Browsers.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Dokumentkonventionen</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./performing-a-deep-copy.html">Ausführen einer Deep Copy-Operation</div><div id="next" class="next-link" accesskey="n" href="./c_check_last_analyze.html">Verlauf für den Befehl ANALYZE</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Ja</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass wir gute Arbeit geleistet haben!</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, was wir richtig gemacht haben, damit wir noch besser werden?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/t_Analyzing_tables.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Nein</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass diese Seite überarbeitet werden muss. Es tut uns Leid, dass wir Ihnen nicht weiterhelfen konnten.</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, wie wir die Dokumentation verbessern können?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/t_Analyzing_tables.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>