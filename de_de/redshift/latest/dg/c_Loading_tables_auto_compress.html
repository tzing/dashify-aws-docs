<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="de-DE"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Laden von Tabellen mit automatischer Kompression - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="c_Loading_tables_auto_compress" /><meta name="default_state" content="c_Loading_tables_auto_compress" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/c_Loading_tables_auto_compress.html" /><meta name="description" content="So aktivieren Sie die automatische Kompression beim Laden von Tabellen." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Datenbankentwicklerhandbuch" /><meta name="abstract" content="Erstellen und verwalten Sie ein Data Warehouse mit Amazon Redshift, einem vollständig verwalteten Petabyte-Data-Warehousing-Service auf Unternehmensniveau." /><meta name="guide-locale" content="de_de" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/c_Loading_tables_auto_compress.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/c_Loading_tables_auto_compress.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/c_Loading_tables_auto_compress.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/c_Loading_tables_auto_compress.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/c_Loading_tables_auto_compress.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/c_Loading_tables_auto_compress.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/c_Loading_tables_auto_compress.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/c_Loading_tables_auto_compress.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/c_Loading_tables_auto_compress.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c_Loading_tables_auto_compress.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c_Loading_tables_auto_compress.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/c_Loading_tables_auto_compress.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/c_Loading_tables_auto_compress.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/c_Loading_tables_auto_compress.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/c_Loading_tables_auto_compress.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/c_Loading_tables_auto_compress.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/c_Loading_tables_auto_compress.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c_Loading_tables_auto_compress.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c_Loading_tables_auto_compress.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/c_Loading_tables_auto_compress.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/c_Loading_tables_auto_compress.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/c_Loading_tables_auto_compress.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Datenbankentwicklerhandbuch" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Datenbankentwicklerhandbuch" /><meta id="panorama-serviceConsolePage" value="Laden von Tabellen mit automatischer Kompression" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Laden von Tabellen mit automatischer Kompression - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#c_Loading_tables_auto_compress" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/c_Loading_tables_auto_compress.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/c_Loading_tables_auto_compress.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/c_Loading_tables_auto_compress.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,Cluster,Data Warehouse,Developer,Musterdaten,Datenbank,Database Developer,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Datenbankentwicklerhandbuch",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Laden von Daten",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg/t_Loading_data.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Verwenden eines COPY-Befehls zum Laden von Daten",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg/t_Loading_tables_with_the_COPY_command.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Laden von Tabellen mit automatischer Kompression",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg/t_Loading_tables_with_the_COPY_command.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#c_Loading_tables_auto_compress" target="_blank" rel="noopener noreferrer" title="PDF öffnen"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Dokumentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Datenbankentwicklerhandbuch</a></div><div id="page-toc-src"><a href="#c_Loading_tables_auto_compress-how-automatic-compression-works">So funktioniert die automatische Kompression</a><a href="#r_COPY_COMPRESS_examples">Beispiel für eine automatische Kompression</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Die vorliegende Übersetzung wurde maschinell erstellt. Im Falle eines Konflikts oder eines Widerspruchs zwischen dieser übersetzten Fassung und der englischen Fassung (einschließlich infolge von Verzögerungen bei der Übersetzung) ist die englische Fassung maßgeblich.</p></awsui-alert><h1 class="topictitle" id="c_Loading_tables_auto_compress">Laden von Tabellen mit automatischer Kompression</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><div class="highlights" id="inline-topiclist"><h6>Themen</h6><ul><li><a href="#c_Loading_tables_auto_compress-how-automatic-compression-works">So funktioniert die automatische Kompression</a></li><li><a href="#r_COPY_COMPRESS_examples">Beispiel für eine automatische Kompression</a></li></ul></div><p>Sie können Komprimierungskodierungen manuell auf Spalten in Tabellen anwenden, basierend auf Ihrer eigenen Auswertung der Daten. Sie können auch den Befehl COPY verwenden, bei dem COMPUPDATE auf ON gesetzt ist, um die Komprimierung automatisch basierend auf Beispieldaten zu analysieren und anzuwenden. </p><p>Sie können die automatische Kompression beim Erstellen und Laden einer völlig neuen Tabelle verwenden. Mit dem Befehl COPY führen Sie eine Komprimierungsanalyse durch. Sie können eine Komprimierungsanalyse auch durchführen, ohne Daten zu laden oder die Komprimierung einer Tabelle zu ändern, indem Sie den Befehl <a href="./r_ANALYZE_COMPRESSION.html">ANALYZE COMPRESSION</a> für eine bereits ausgefüllte Tabelle ausführen. Beispielsweise können Sie ANALYZE COMPRESSION ausführen, wenn Sie die Komprimierung für eine Tabelle für die zukünftige Verwendung analysieren und gleichzeitig die vorhandenen DDL-Anweisungen (Data Definition Language) beibehalten möchten.</p><p>Die automatische Kompression sorgt für den Ausgleich der allgemeinen Leistung bei der Auswahl von Kompressionskodierungen. Bereichseingeschränkte Scans können eine geringe Leistung zeigen, wenn Sortierschlüsselspalten stärker komprimiert sind als andere Spalten in der selben Abfrage. Daher überspringt die automatische Komprimierung die Datenanalysephase in den Sortierschlüsselspalten und behält die benutzerdefinierten Kodierungstypen bei. </p><p>Bei der automatischen Komprimierung wird die RAW-Kodierung ausgewählt, wenn Sie nicht explizit eine Art der Kodierung definiert haben. ANALYZE COMPRESSION verhält sich gleich. Um eine optimale Abfrageleistung zu erzielen, sollten Sie RAW für Sortierschlüssel verwenden.</p>
            <h2 id="c_Loading_tables_auto_compress-how-automatic-compression-works">So funktioniert die automatische Kompression</h2>


            <p>Wenn der COMPUPDATE-Parameter auf ON eingestellt ist, führt der COPY-Befehl jedes Mal eine automatische Kompression aus, wenn Sie den COPY-Befehl mit einer leeren Zieltabelle ausführen und alle Tabellenspalten entweder eine RAW-Kodierung oder keine Kodierung aufweisen.</p>
            <p>Um die automatische Kompression auf eine leere Tabelle unabhängig von ihren aktuellen Kompressionskodierungen anzuwenden, führen Sie den COPY-Befehl aus, wobei Sie die Option COMPUPDATE auf ON festlegen. Um die automatische Kompression zu deaktivieren, führen Sie den COPY-Befehl aus, wobei Sie die Option COMPUPDATE auf OFF setzen.</p>
            <p>Sie können keine automatische Kompression auf eine Tabelle anwenden, die bereits Daten enthält.</p>
            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Anmerkung</h6></div><div class="awsdocs-note-text"><p>Um die automatische Kompression analysieren zu können, müssen in den geladenen Daten genügend Zeilen vorhanden sein (mindestens 100.000 Zeilen pro Slice), um eine relevante Stichprobe darzustellen.</p></div></div>
            <p>Die automatische Kompression führt im Hintergrund die folgenden Operationen als Teil der Ladetransaktion aus:</p>
            <div class="orderedlist">
                
                
                
                
                
            <ol><li>
                  <p>Aus der Eingabedatei wird eine anfängliche Stichprobe von Zeilen geladen. Die Größe der Stichprobe basiert auf dem Wert des Parameters COMPROWS. Der Standardwert ist 100,000.</p>
               </li><li>
                  <p>Für jede Spalte werden Kompressionsoptionen ausgewählt.</p>
               </li><li>
                  <p>Die Stichprobenzeilen werden aus der Tabelle entfernt.</p>
               </li><li>
                  <p>Die Tabelle wird erneut mit den gewählten Kompressionskodierungen erstellt.</p>
               </li><li>
                  <p>Die gesamte Eingabedatei wird geladen und unter Verwendung der neuen Kodierungen komprimiert.</p>
               </li></ol></div>
            <p>Nach der Ausführung des COPY-Befehls wird die Tabelle vollständig geladen und komprimiert und kann verwendet werden. Wenn Sie später weitere Daten laden, werden die angefügten Zeilen entsprechend der vorhandenen Kodierung komprimiert.</p>
            <p>Wenn Sie nur eine Kompressionsanalyse ausführen möchten, führen Sie ANALYZE COMPRESSION aus. Dies ist effizienter als eine vollständige COPY-Operation. Anschließend können Sie die Ergebnisse auswerten, um zu entscheiden, ob Sie die automatische Kompression verwenden oder die Tabelle manuell neu erstellen sollten.</p>
            <p>Die automatische Kompression wird nur für den COPY-Befehl unterstützt. Alternativ können Sie beim Erstellen der Tabelle manuell eine Kompressionskodierung anwenden. Informationen zur manuellen Kompressionskodierung finden Sie unter <a href="./t_Compressing_data_on_disk.html">Arbeiten mit Spaltenkomprimierung</a>.</p>
          
            <h2 id="r_COPY_COMPRESS_examples">Beispiel für eine automatische Kompression</h2>


            <p>In diesem Beispiel wird angenommen, dass die Datenbank TICKIT eine Kopie der LISTING-Tabelle mit dem Namen BIGLIST enthält und Sie auf diese Tabelle eine automatische Kompression anwenden möchten, wenn sie mit ungefähr 3 Millionen Zeilen geladen wird.</p>
            <div class="procedure"><h6>So laden Sie die Tabelle und komprimieren sie automatisch</h6><ol><li>
                  <p>Stellen Sie sicher, dass die Tabelle leer ist. Sie können die automatische Kompression nur auf leere Tabellen anwenden:</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">truncate biglist;</code></pre>
               </li><li>
                  <p>Laden Sie die Tabelle mit einem einzelnen COPY-Befehl. Auch wenn die Tabelle leer ist, wurde möglicherweise früher bereits eine Kodierung angegeben. Um eine Kompressionsanalyse durch Amazon Redshift zu ermöglichen, setzen Sie den Parameter COMPUPDATE auf ON.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">copy biglist from 's3://mybucket/biglist.txt' 
iam_role 'arn:aws:iam::0123456789012:role/MyRedshiftRole'
delimiter '|' COMPUPDATE ON;</code></pre>
                  <p>Da die Option COMPROWS nicht angegeben ist, wird die standardmäßige und empfohlene Größe von 100.000 Zeilen pro Slice verwendet.</p>
               </li><li>
                  <p>Betrachten Sie das neue Schema für die Tabelle BIGLIST, um die automatisch gewählten Kodierungsschemas zu überprüfen.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select "column", type, encoding 
from pg_table_def where tablename = 'biglist';

     Column     |            Type             | Encoding 
----------------+-----------------------------+----------
 listid         | integer                     | az64
 sellerid       | integer                     | az64
 eventid        | integer                     | az64
 dateid         | smallint                    | none
 numtickets     | smallint                    | az64
 priceperticket | numeric(8,2)                | az64
 totalprice     | numeric(8,2)                | az64
 listtime       | timestamp without time zone | az64</code></pre>
               </li><li>
                  <p>Überprüfen Sie, ob die erwartete Zahl von Zeilen geladen wurde: </p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select count(*) from biglist;

count
---------
3079952
(1 row)</code></pre>
               </li></ol></div>
            <p>Wenn dieser Tabelle später mittels der Anweisungen COPY oder INSERT Zeilen angefügt werden, werden die gleichen Kompressionskodierungen angewendet.</p>
         <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warnung" /> <strong>JavaScript ist in Ihrem Browser nicht verfügbar oder deaktiviert.</strong></p><p>Zur Nutzung der AWS-Dokumentation muss JavaScript aktiviert sein. Weitere Informationen finden auf den Hilfe-Seiten Ihres Browsers.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Dokumentkonventionen</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./t_Validating_input_files.html">Validieren von Eingabedaten</div><div id="next" class="next-link" accesskey="n" href="./c_load_compression_hidden_cols.html">Optimieren für enge Tabellen</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Ja</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass wir gute Arbeit geleistet haben!</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, was wir richtig gemacht haben, damit wir noch besser werden?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/c_Loading_tables_auto_compress.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Nein</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass diese Seite überarbeitet werden muss. Es tut uns Leid, dass wir Ihnen nicht weiterhelfen konnten.</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, wie wir die Dokumentation verbessern können?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/c_Loading_tables_auto_compress.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>