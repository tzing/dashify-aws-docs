<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="de-DE"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Erste Schritte mit der Streaming-Erfassung aus Amazon Managed Streaming for Apache Kafka - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="materialized-view-streaming-ingestion-getting-started-MSK" /><meta name="default_state" content="materialized-view-streaming-ingestion-getting-started-MSK" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" /><meta name="description" content="Erfahren Sie, wie Sie die Streaming-Erfassung aus Amazon Managed Streaming for Apache Kafka einrichten können." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Datenbankentwicklerhandbuch" /><meta name="abstract" content="Erstellen und verwalten Sie ein Data Warehouse mit Amazon Redshift, einem vollständig verwalteten Petabyte-Data-Warehousing-Service auf Unternehmensniveau." /><meta name="guide-locale" content="de_de" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Datenbankentwicklerhandbuch" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Datenbankentwicklerhandbuch" /><meta id="panorama-serviceConsolePage" value="Erste Schritte mit der Streaming-Erfassung aus Amazon Managed Streaming for Apache Kafka" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Erste Schritte mit der Streaming-Erfassung aus Amazon Managed Streaming for Apache Kafka - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#materialized-view-streaming-ingestion-getting-started-MSK" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,Cluster,Data Warehouse,Developer,Musterdaten,Datenbank,Database Developer,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Datenbankentwicklerhandbuch",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Erstellen von materialisierten Ansichten in Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg/materialized-view-overview.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Streaming-Erfassung",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg/materialized-view-streaming-ingestion.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Erste Schritte mit der Streaming-Erfassung aus Amazon Managed Streaming for Apache Kafka",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg/materialized-view-streaming-ingestion.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#materialized-view-streaming-ingestion-getting-started-MSK" target="_blank" rel="noopener noreferrer" title="PDF öffnen"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Dokumentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Datenbankentwicklerhandbuch</a></div><div id="page-toc-src"><a href="#materialized-view-streaming-ingestion-getting-started-MSK-setup">Einrichten von IAM und Durchführen der Streaming-Erfassung von Kafka aus</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Die vorliegende Übersetzung wurde maschinell erstellt. Im Falle eines Konflikts oder eines Widerspruchs zwischen dieser übersetzten Fassung und der englischen Fassung (einschließlich infolge von Verzögerungen bei der Übersetzung) ist die englische Fassung maßgeblich.</p></awsui-alert><h1 class="topictitle" id="materialized-view-streaming-ingestion-getting-started-MSK">Erste Schritte mit der Streaming-Erfassung aus Amazon Managed Streaming for Apache Kafka</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p> Die Streaming-Erfassung von Amazon Redshift soll den Prozess der direkten Erfassung von Stream-Daten von einem Streaming-Dienst in Amazon Redshift oder Amazon Redshift Serverless vereinfachen. Dies funktioniert mit Amazon MSK und Amazon MSK Serverless sowie mit Kinesis. Dank der Streaming-Erfassung von Amazon Redshift ist es nicht mehr notwendig, einen Kinesis-Data-Streams-Stream oder ein Amazon-MSK-Thema in Amazon S3 bereitzustellen, bevor die Stream-Daten in Redshift erfasst werden.</p><p> Technisch gesehen bietet die Streaming-Erfassung von Amazon Kinesis Data Streams und Amazon Managed Streaming for Apache Kafka eine Hochgeschwindigkeits-Erfassung mit geringer Latenz von Stream- oder Themendaten in einer materialisierten Ansicht von Amazon Redshift. Nach der Einrichtung können Sie mithilfe einer Aktualisierung der materialisierten Ansicht große Datenmengen erfassen. </p><p>Führen Sie die folgenden Schritte aus, um die Streaming-Erfassung von Amazon Redshift für Amazon MSK einzurichten:</p><div class="orderedlist">
                         
                         
                    <ol><li><p>Erstellen Sie ein externes Schema, das der Streaming-Datenquelle zugeordnet ist.</p></li><li><p>Erstellen Sie eine materialisierte Ansicht, die auf das externe Schema verweist.</p></li></ol></div><p>Sie müssen über eine Amazon-MSK-Quelle verfügen, bevor Sie die Streaming-Erfassung von Amazon Redshift konfigurieren können. Wenn Sie keine Quelle haben, folgen Sie den Anweisungen unter <a href="https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html">Erste Schritte mit Amazon MSK</a>.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Anmerkung</h6></div><div class="awsdocs-note-text"><p><em>Streaming-Erfassung und Amazon Redshift Serverless</em> – Die Konfigurationsschritte in diesem Thema gelten für bereitgestellte Amazon-Redshift-Cluster und Amazon Redshift Serverless. Weitere Informationen finden Sie unter <a href="./materialized-view-streaming-ingestion.html#materialized-view-streaming-ingestion-considerations">Überlegungen zur Streaming-Erfassung</a>.</p></div></div>
                        <h2 id="materialized-view-streaming-ingestion-getting-started-MSK-setup">Einrichten von IAM und Durchführen der Streaming-Erfassung von Kafka aus</h2>
                        <p>Wenn Sie einen Amazon-MSK-Cluster zur Verfügung haben, besteht der erste Schritt darin, mit <code class="code">CREATE EXTERNAL SCHEMA</code> ein Schema in Redshift zu definieren und auf das Kafka-Thema als Datenquelle zu verweisen. Um auf Daten in dem Thema zuzugreifen, definieren Sie anschließend den <code class="code">STREAM</code> in einer materialisierten Ansicht. Sie können Datensätze aus Ihrem Thema im halbstrukturierten <code class="code">SUPER</code>-Format speichern oder ein Schema definieren, das dazu führt, dass Daten in Amazon-Redshift-Datentypen konvertiert werden. Wenn Sie die materialisierte Ansicht abfragen, sind die zurückgegebenen Datensätze eine  point-in-time Ansicht des Themas.</p>
                        <div class="procedure"><ol><li><p>Erstellen Sie eine IAM-Rolle mit einer Vertrauensrichtlinie, die es Ihrem Amazon Redshift-Cluster oder Amazon Redshift Serverless ermöglicht, die Rolle anzunehmen. Informationen zum Konfigurieren der Vertrauensrichtlinie für die IAM-Rolle finden Sie unter <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/authorizing-redshift-service.html">Amazon Redshift autorisieren, in Ihrem Namen auf andere - AWS Services zuzugreifen</a>. Nach der Erstellung sollte die Rolle über die folgende IAM-Richtlinie verfügen, die sie zur Kommunikation mit dem Amazon-MSK-Cluster berechtigt. Welche Richtlinie Sie benötigen, hängt von der Authentifizierungsmethode ab, die in Ihrem Cluster verwendet wird, wenn Sie Amazon MSK verwenden. Informationen zu den in Amazon MSK verfügbaren Authentifizierungsmethoden finden Sie unter <a href="https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html">Authentifizierung und Autorisierung für Apache Kafka-APIs</a>.</p>
                                <p>Eine IAM-Richtlinie für Amazon MSK mit nicht authentifiziertem Zugriff:</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Sid": "VisualEditor0",
            "Effect": "Allow",
            "Action": [
                "kafka:GetBootstrapBrokers"
            ],
            "Resource": "*"
        }
    ]
}</code></pre>
                                <p>Eine IAM-Richtlinie für Amazon MSK bei Verwendung der IAM-Authentifizierung:</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Sid": "MSKIAMpolicy",
            "Effect": "Allow",
            "Action": [
                "kafka-cluster:ReadData",
                "kafka-cluster:DescribeTopic",
                "kafka-cluster:Connect"
            ],
            "Resource": [
                "arn:aws:kafka:*:0123456789:cluster/*/*",
                "arn:aws:kafka:*:0123456789:topic/*/*/*"
            ]
        },
        <span>{</span>
            "Sid": "MSKPolicy",
            "Effect": "Allow",
            "Action": [
                "kafka:GetBootstrapBrokers"
            ],
            "Resource": "*"
        }
    ]
}</code></pre>
                            </li><li><p> Überprüfen Sie Ihre VPC und stellen Sie sicher, dass Ihr Amazon-Redshift-Cluster oder Amazon Redshift Serverless über eine Route zu Ihrem Amazon-MSK-Cluster verfügt. Die eingehenden Sicherheitsgruppenregeln für Ihren Amazon-MSK-Cluster sollten die Sicherheitsgruppe Ihres Amazon-Redshift-Clusters oder Ihrer Amazon-Redshift-Serverless-Arbeitsgruppe zulassen. Welche Ports Sie angeben, hängt von der Authentifizierungsmethode ab, die in Ihrem Cluster verwendet wird, wenn Sie Amazon MSK verwenden. Weitere Informationen finden Sie unter <a href="https://docs.aws.amazon.com/msk/latest/developerguide/port-info.html">Portinformationen</a> und <a href="https://docs.aws.amazon.com/msk/latest/developerguide/aws-access.html">Zugriff von innerhalb,  AWS aber außerhalb der VPC </a>.</p>
                                
                                <p>Beachten Sie, dass die Client-Authentifizierung mit mTLS für die Streaming-Erfassung nicht unterstützt wird. Weitere Informationen finden Sie unter <a href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-streaming-ingestion.html#materialized-view-streaming-ingestion-limitations">Limitations</a>.</p>
                            <p>Die folgende Tabelle enthält kostenlose Konfigurationsoptionen, die für die Streaming-Erfassung von Amazon MSK festgelegt werden können:</p>
                                <div class="table-container"><div class="table-contents"><table id="w320aac21c47c15c15b5b3b6"><thead>
                                            <tr>
                                                <th>Amazon-Redshift-Konfiguration</th>
                                                <th>Amazon-MSK-Konfiguration</th>
                                                <th>Port zum Öffnen zwischen Redshift und Amazon MSK</th>
                                            </tr>
                                        </thead>
                                            <tr>
                                                <td tabindex="-1"> AUTHENTICATION NONE </td>
                                                <td tabindex="-1"> TLS-Transport deaktiviert </td>
                                                <td tabindex="-1">9092</td>
                                            </tr>
                                            <tr>
                                                <td tabindex="-1"> AUTHENTICATION NONE </td>
                                                <td tabindex="-1"> TLS-Transport aktiviert </td>
                                                <td tabindex="-1">9094</td>
                                            </tr>
                                            <tr>
                                                <td tabindex="-1"> AUTHENTICATION IAM </td>
                                                <td tabindex="-1"> IAM </td>
                                                <td tabindex="-1">9098/9198</td>
                                            </tr>
                                        </table></div></div>
                                <p>Die Amazon-Redshift-Authentifizierung wird in der Anweisung CREATE EXTERNAL SCHEMA festgelegt.</p>
                                <p>Im Fall, dass der Amazon-MSK-Cluster über aktivierte Mutual Transport Layer Security (mTLS)-Authentifizierung verfügt, wird Amazon Redshift durch die Konfiguration von AUTHENTICATION NONE angewiesen, Port 9094 für nicht authentifizierten Zugriff zu verwenden. Da der Port jedoch für die mTLS-Authentifizierung verwendet wird, schlägt dies fehl. Aus diesem Grund empfehlen wir, bei Verwendung von mTLS zu AUTHENTICATION IAM zu wechseln.</p>    
                            </li><li><p>Aktivieren Sie Enhanced VPC Routing in Ihrem Amazon-Redshift-Cluster oder Ihrer Amazon-Redshift-Serverless-Arbeitsgruppe. Weitere Informationen finden Sie unter <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/enhanced-vpc-enabling-cluster.html">Aktivieren von Enhanced VPC Routing</a>.</p>
                                <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Anmerkung</h6></div><div class="awsdocs-note-text"><p>Um die URL der Amazon-MSK-Bootstrap-Broker abzurufen, führt Amazon Redshift einen <a href="https://docs.aws.amazon.com/msk/1.0/apireference/clusters-clusterarn-bootstrap-brokers.html#GetBootstrapBrokers">GetBootstrapBrokers</a> API-Aufruf mit Berechtigungen durch, die von der angehängten IAM-Rolle bereitgestellt werden. Beachten Sie, dass das Subnetz für Ihren von Amazon Redshift bereitgestellten Cluster oder Ihre Arbeitsgruppe von Amazon Redshift Serverless über ein NAT-Gateway oder Internet-Gateway verfügen muss, damit diese Anforderung erfolgreich ist, wenn Enhanced VPC Routing aktiviert ist. Ihre Netzwerk-ACLs und ausgehenden Sicherheitsgruppenregeln für das oben genannte Subnetz müssen auch den Zugriff auf die Amazon-MSK-API-Service-Endpunkte zulassen. Weitere Informationen finden Sie unter <a href="https://docs.aws.amazon.com/general/latest/gr/msk.html">Endpunkte und Kontingente von Amazon Managed Streaming für Apache Kafka.</a></p></div></div>
                            </li><li><p>Erstellen Sie ein externes Schema in Amazon Redshift, das dem Amazon-MSK-Cluster zugeordnet werden soll. </p>
                                
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE EXTERNAL SCHEMA MySchema
FROM MSK
IAM_ROLE <span>{</span> default | 'iam-role-arn' }
AUTHENTICATION <span>{</span> none | iam }
CLUSTER_ARN 'msk-cluster-arn';</code></pre>
                                
                                <p>In der <code class="code">FROM</code>-Klausel gibt Amazon MSK an, dass das Schema Daten von Managed Kafka Services zuordnet. </p> 
                                    <p> Die Streaming-Erfassung für Amazon MSK bietet die folgenden Authentifizierungstypen, wenn Sie das externe Schema erstellen: </p>
                                    <div class="itemizedlist">
                                         
                                         
                                    <ul class="itemizedlist"><li class="listitem"><p><b>none</b>: Gibt an, dass es keinen Authentifizierungsschritt gibt.</p></li><li class="listitem"><p><b>iam</b>: Gibt an, dass eine IAM-Authentifizierung erfolgt. Stellen Sie bei Auswahl dieser Option sicher, dass die IAM-Rolle über Berechtigungen für die IAM-Authentifizierung verfügt. </p></li></ul></div>
                                <p>Weitere Amazon-MSK-Authentifizierungsmethoden, wie die TLS-Authentifizierung oder die Authentifizierung mit Benutzername und Passwort, werden für die Streaming-Erfassung nicht unterstützt. </p>
                                <p> <code class="code">CLUSTER_ARN</code> gibt den Amazon-MSK-Cluster an, von dem Sie streamen.</p>       
                            </li><li>
                                <p>Erstellen Sie eine materialisierte Ansicht, um die Daten aus dem Thema zu konsumieren. Im folgenden Beispiel wird eine materialisierte Ansicht mit JSON-Quelldaten definiert. Beachten Sie, dass mit der folgenden Ansicht validiert wird, ob die Daten ein gültiges JSON-Format aufweisen und UTF8-kodiert sind. Bei den Namen von Kafka-Themen wird die Groß- und Kleinschreibung beachtet. Die Namen können sowohl Groß- als auch Kleinbuchstaben enthalten. Um aus Themen mit Namen in Großbuchstaben aufzunehmen, können Sie die Konfiguration <code class="code">true</code> auf Datenbankebene <code class="code">enable_case_sensitive_identifier</code> auf festlegen. Weitere Informationen finden Sie unter <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_names.html">Namen und Kennungen</a> und <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_enable_case_sensitive_identifier.html">enable_case_sensitive_identifier</a>.</p>
                                
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE MATERIALIZED VIEW MyView AUTO REFRESH YES AS
SELECT kafka_partition, 
 kafka_offset, 
 kafka_timestamp_type, 
 kafka_timestamp, 
 kafka_key, 
 JSON_PARSE(kafka_value) as Data, 
 kafka_headers
FROM MySchema."mytopic"
WHERE CAN_JSON_PARSE(kafka_value);</code></pre>
                    <p>Um die automatische Aktualisierung zu aktivieren, verwenden Sie <code class="code">AUTO REFRESH YES</code>. Standardmäßig wird die manuelle Aktualisierung verwendet. </p>
                                <p>Die Metadatenspalten umfassen folgende Spalten:</p>
                                <div class="table-container"><div class="table-contents"><table id="w320aac21c47c15c15b5b9b9"><thead>
                                            <tr>
                                                <th>Metadatenspalte</th>
                                                <th>Datentyp</th>
                                                <th>Beschreibung</th>
                                            </tr>
                                        </thead>
                                            <tr>
                                                <td tabindex="-1"> kafka_partition </td>
                                                <td tabindex="-1"> bigint </td>
                                                <td tabindex="-1"> Partitions-ID des Datensatzes aus dem Kafka-Thema </td>
                                                
                                            </tr>
                                            <tr>
                                                <td tabindex="-1"> kafka_offset </td>
                                                <td tabindex="-1"> bigint </td>
                                                <td tabindex="-1"> Offset des Datensatzes im Kafka-Thema für eine bestimmte Partition </td>
                                                
                                            </tr>
                                            <tr>
                                                <td tabindex="-1"> kafka_timestamp_type </td>
                                                <td tabindex="-1"> char(1) </td>
                                                <td tabindex="-1">
                                                    <p>Art des im Kafka-Datensatz verwendeten Zeitstempels:</p> 
                                                    <div class="itemizedlist">
                                                         
                                                         
                                                         
                                                    <ul class="itemizedlist"><li class="listitem"><p><em>C</em> – Erstellungszeit des Datensatzes (CREATE_TIME) auf der Client-Seite</p></li><li class="listitem"><p><em>L</em> – Anfügezeit des Datensatzes (LOG_APPEND_TIME) auf der Kafka-Serverseite </p></li><li class="listitem"><p><em>U</em> – Die Erstellungszeit des Datensatzes ist nicht verfügbar (NO_TIMESTAMP_TYPE)</p></li></ul></div>
                                                </td>
                                                
                                            </tr>
                                            <tr>
                                                <td tabindex="-1"> kafka_timestamp </td>
                                                <td tabindex="-1"> Timestamp ohne Zeitzone </td>
                                                <td tabindex="-1"> Der timestamp-Wert für den Datensatz </td>
                                                
                                            </tr>
                                            <tr>
                                                <td tabindex="-1"> kafka_key </td>
                                                <td tabindex="-1"> varbyte </td>
                                                <td tabindex="-1"> Der Schlüssel des Kafka-Datensatzes </td>
                                                
                                            </tr>
                                            <tr>
                                                <td tabindex="-1"> kafka_value </td>
                                                <td tabindex="-1"> varbyte </td>
                                                <td tabindex="-1"> Der von Kafka erhaltene Datensatz </td>
                                                
                                            </tr>
                                            <tr>
                                                <td tabindex="-1"> kafka_headers </td>
                                                <td tabindex="-1"> super </td>
                                                <td tabindex="-1"> Der Header des von Kafka erhaltenen Datensatzes </td>
                                                
                                            </tr>
                                            <tr>
                                                <td tabindex="-1"> refresh_time </td>
                                                <td tabindex="-1"> Timestamp ohne Zeitzone </td>
                                                <td tabindex="-1"> Der Zeitpunkt, zu dem die Aktualisierung gestartet wurde </td>
                                            </tr>
                                        </table></div></div>
                                
                                <p>Wenn Ihre materialisierte Ansichtsdefinition über Geschäftslogik verfügt, sollten Sie beachten, dass Parsing-Fehler in einigen Fällen dazu führen können, dass die Streaming-Erfassung blockiert wird. Dies kann dazu führen, dass Sie die materialisierte Ansicht entfernen und neu erstellen müssen. Um dies zu vermeiden, empfehlen wir Ihnen, Ihre Parsing-Logik so einfach wie möglich zu halten und die meisten Ihrer geschäftslogischen Prüfungen an den Daten nach der Erfassung durchzuführen. Das folgende Beispiel zeigt, wie Sie <a href="./CAN_JSON_PARSE.html">Funktion CAN_JSON_PARSE</a> verwenden können, um sich vor Fehlern zu schützen und Daten erfolgreicher zu erfassen.</p>
                                
                            </li><li><p>Aktualisieren Sie die Ansicht. Dadurch wird Amazon Redshift aufgerufen, um Daten aus dem Thema zu lesen und Daten in die materialisierte Ansicht zu laden.</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">REFRESH MATERIALIZED VIEW MyView;</code></pre>
                            </li><li><p>Fragen Sie Daten in der materialisierten Ansicht ab.</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select * from MyView;</code></pre>
                                <p>Die materialisierte Ansicht wird direkt vom Thema aus aktualisiert, wenn <code class="code">REFRESH</code> ausgeführt wird. Sie erstellen eine materialisierte Ansicht, die der Kafka-Themendatenquelle zugeordnet ist. Sie können für die Daten als Teil der Definition der materialisierten Ansicht Filter anwenden und Aggregationen durchführen. Ihre materialisierte Ansicht der Streaming-Erfassung (die materialisierte Basisansicht) kann nur auf ein Kafka-Thema verweisen, Sie können jedoch zusätzliche materialisierte Ansichten erstellen, die mit der materialisierten Basisansicht und anderen materialisierten Ansichten oder Tabellen verknüpft werden.</p>
                            </li></ol></div>
                        <p>Weitere Informationen zu Einschränkungen bei der Streaming-Erfassung finden Sie unter <a href="./materialized-view-streaming-ingestion.html#materialized-view-streaming-ingestion-limitations">Einschränkungen</a>.</p>
                    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warnung" /> <strong>JavaScript ist in Ihrem Browser nicht verfügbar oder deaktiviert.</strong></p><p>Zur Nutzung der AWS-Dokumentation muss JavaScript aktiviert sein. Weitere Informationen finden auf den Hilfe-Seiten Ihres Browsers.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Dokumentkonventionen</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./materialized-view-streaming-ingestion-getting-started.html">Erste Schritte mit der Streaming-Erfassung aus Amazon Kinesis Data Streams</div><div id="next" class="next-link" accesskey="n" href="./materialized-view-streaming-ingestion-example-station-data.html">Tutorial zur Streaming-Erfassung von Ladestationsdaten für Elektrofahrzeuge mit Kinesis</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Ja</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass wir gute Arbeit geleistet haben!</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, was wir richtig gemacht haben, damit wir noch besser werden?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Nein</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass diese Seite überarbeitet werden muss. Es tut uns Leid, dass wir Ihnen nicht weiterhelfen konnten.</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, wie wir die Dokumentation verbessern können?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>