<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="de-DE"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Python-Sprachunterstützung für UDFs - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="udf-python-language-support" /><meta name="default_state" content="udf-python-language-support" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/udf-python-language-support.html" /><meta name="description" content="Sie können auf der Basis von Python benutzerdefinierte Funktionen (UDFs, User-Defined Functions) erstellen. Sie können die Python 2.7-Standardbibliothek in UDFs verwenden, ausgenommen folgende Module:" /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Datenbankentwicklerhandbuch" /><meta name="abstract" content="Erstellen und verwalten Sie ein Data Warehouse mit Amazon Redshift, einem vollständig verwalteten Petabyte-Data-Warehousing-Service auf Unternehmensniveau." /><meta name="guide-locale" content="de_de" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/udf-python-language-support.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/udf-python-language-support.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/udf-python-language-support.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/udf-python-language-support.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/udf-python-language-support.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/udf-python-language-support.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/udf-python-language-support.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/udf-python-language-support.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/udf-python-language-support.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/udf-python-language-support.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/udf-python-language-support.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/udf-python-language-support.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/udf-python-language-support.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/udf-python-language-support.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/udf-python-language-support.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/udf-python-language-support.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/udf-python-language-support.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/udf-python-language-support.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/udf-python-language-support.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/udf-python-language-support.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/udf-python-language-support.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/udf-python-language-support.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Datenbankentwicklerhandbuch" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Datenbankentwicklerhandbuch" /><meta id="panorama-serviceConsolePage" value="Python-Sprachunterstützung für UDFs" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Python-Sprachunterstützung für UDFs - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#udf-python-language-support" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/udf-python-language-support.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/udf-python-language-support.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/udf-python-language-support.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,Cluster,Data Warehouse,Developer,Musterdaten,Datenbank,Database Developer,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Datenbankentwicklerhandbuch",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Erstellung benutzerdefinierter Funktionen",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg/user-defined-functions.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Erstellung einer skalaren Python-UDF",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg/udf-creating-a-scalar-udf.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Python-Sprachunterstützung für UDFs",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg/udf-creating-a-scalar-udf.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#udf-python-language-support" target="_blank" rel="noopener noreferrer" title="PDF öffnen"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Dokumentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Datenbankentwicklerhandbuch</a></div><div id="page-toc-src"><a href="#udf-importing-custom-python-library-modules">Importieren von benutzerdefinierten Python-Bibliotheksmodulen</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Die vorliegende Übersetzung wurde maschinell erstellt. Im Falle eines Konflikts oder eines Widerspruchs zwischen dieser übersetzten Fassung und der englischen Fassung (einschließlich infolge von Verzögerungen bei der Übersetzung) ist die englische Fassung maßgeblich.</p></awsui-alert><h1 class="topictitle" id="udf-python-language-support">Python-Sprachunterstützung für UDFs</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Sie können auf der Basis von Python benutzerdefinierte Funktionen (UDFs, User-Defined Functions) erstellen. Sie können die <a href="https://docs.python.org/2/library/index.html" rel="noopener noreferrer" target="_blank"><span>Python 2.7-Standardbibliothek</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> in UDFs verwenden, ausgenommen folgende Module:</p><div class="itemizedlist">
          
          
          
          
          
          
      <ul class="itemizedlist"><li class="listitem">
            <p>ScrolledText</p>
         </li><li class="listitem">
            <p>Tix</p>
         </li><li class="listitem">
            <p>Tkinter</p>
         </li><li class="listitem">
            <p>tk</p>
         </li><li class="listitem">
            <p>turtle</p>
         </li><li class="listitem">
            <p>smtpd</p>
         </li></ul></div><p>Neben der Python-Standardbibliothek sind in die Amazon-Redshift-Implementation die folgenden Module integriert:</p><div class="itemizedlist">
          
          
          
         
          
          
          
          

      <ul class="itemizedlist"><li class="listitem">
            <p><a href="http://www.numpy.org/" rel="noopener noreferrer" target="_blank"><span>numpy 1.8.2</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a></p>
         </li><li class="listitem">
            <p><a href="https://pandas.pydata.org/" rel="noopener noreferrer" target="_blank"><span>pandas 0.14.1</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a></p>
         </li><li class="listitem">
            <p><a href="https://dateutil.readthedocs.org/en/latest/" rel="noopener noreferrer" target="_blank"><span>python-dateutil 2.2</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a></p>
         </li><li class="listitem">
            <p><a href="https://pypi.org/project/pytz/2014.7/" rel="noopener noreferrer" target="_blank"><span>pytz 2014.7</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a></p>
         </li><li class="listitem">
            <p><a href="https://www.scipy.org/" rel="noopener noreferrer" target="_blank"><span>scipy 0.12.1</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a></p>
         </li><li class="listitem">
            <p><a href="https://pypi.org/project/six/1.3.0/" rel="noopener noreferrer" target="_blank"><span>six 1.3.0</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a></p>
            
         </li><li class="listitem">
            <p><a href="https://pypi.python.org/pypi/wsgiref" rel="noopener noreferrer" target="_blank"><span>wsgiref 0.1.2</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a></p>
         </li></ul></div><p>Sie können über den Befehl <a href="./r_CREATE_LIBRARY.html">CREATE LIBRARY</a> auch eigene Python-Module importieren und zur Verwendung in UDFs zur Verfügung stellen. Weitere Informationen finden Sie unter <a href="#udf-importing-custom-python-library-modules">Importieren von benutzerdefinierten Python-Bibliotheksmodulen</a>.</p><div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Wichtig</h6></div><div class="awsdocs-note-text"><p>Amazon Redshift blockiert den gesamten Netzwerkzugriff und den Schreibzugriff auf das Dateisystem durch UDFs.</p></div></div><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Anmerkung</h6></div><div class="awsdocs-note-text"><p>Python 3 ist für Python-UDFs nicht verfügbar. Um Python 3-Unterstützung für Amazon-Redshift-UDFs zu erhalten, verwenden Sie stattdessen . <a href="./udf-creating-a-lambda-sql-udf.html">Erstellen einer skalaren Lambda-UDF</a> </p></div></div>
         <h2 id="udf-importing-custom-python-library-modules">Importieren von benutzerdefinierten Python-Bibliotheksmodulen</h2>

         <p>Skalare Funktionen werden entsprechend der Syntax von Python definiert. Sie können Module der Python-Standardbibliothek und vorinstallierte Amazon-Redshift-Module verwenden. Sie können auch eigene benutzerdefinierte Python-Bibliotheksmodule erstellen und zusammen mit anderen Bibliotheken von Python oder Drittanbietern in Ihre Cluster importieren. </p>
         <p>Die erstellten Bibliotheken dürfen jedoch nicht genau so heißen wie die integrierten Python-Standardbibliotheksmodule oder die vorinstallierten Amazon-Redshift-Python-Module. Wenn eine vorhandene, benutzerinstallierte Bibliothek dasselbe Python-Paket wie eine von Ihnen erstellte Bibliothek verwendet, müssen Sie die vorhandene Bibliothek entfernen, bevor Sie die neue Bibliothek installieren. </p>
         <p>Sie müssen Superuser sein oder über die Berechtigung <code class="code">USAGE ON LANGUAGE plpythonu</code> verfügen, um benutzerdefinierte Bibliotheken installieren zu können. Die installierten Bibliotheken können anschließend von allen Benutzern mit der Berechtigung zum Erstellen von Funktionen verwendet werden. Um Informationen zu den in Ihrem Cluster installierten Bibliotheken anzuzeigen, führen Sie eine Abfrage über dem Systemkatalog <a href="./r_PG_LIBRARY.html">PG_LIBRARY</a> aus.</p>

         
          
            <h3 id="udf-import-custom-python-module-procedure">So importieren Sie ein benutzerdefiniertes Python-Modul in Ihren Cluster:</h3>

            <p>Dieser Abschnitt enthält ein Beispiel zum Importieren eines benutzerdefiniertes Python-Moduls in Ihren Cluster. Für die Durchführung der Schritte in diesem Abschnitt benötigen Sie einen Amazon S3 Bucket, in den Sie das Bibliothekspaket hochladen. Dann installieren Sie das Paket in Ihrem Cluster. Weitere Informationen zum Erstellen von Buckets finden Sie unter <a href="https://docs.aws.amazon.com/AmazonS3/latest/user-guide/CreatingaBucket.html">Erstellen von Buckets</a> im <em>Benutzerhandbuch zu Amazon Simple Storage Service</em>.</p>
            <p>Hintergrund dieses Beispiels ist, dass UDFs erstellt werden sollen, um mit Positionen und Entfernungen in Ihren Daten zu arbeiten. Stellen Sie mit einem SQL-Client-Tool eine Verbindung zu Ihrem Amazon-Redshift-Cluster her und führen die folgenden Befehle aus, um die Funktionen zu erstellen. </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE FUNCTION f_distance (x1 float, y1 float, x2 float, y2 float) RETURNS float IMMUTABLE as $$
    def distance(x1, y1, x2, y2):
        import math
        return math.sqrt((y2 - y1) ** 2 + (x2 - x1) ** 2)
 
    return distance(x1, y1, x2, y2)
$$ LANGUAGE plpythonu;
 
CREATE FUNCTION f_within_range (x1 float, y1 float, x2 float, y2 float) RETURNS bool IMMUTABLE as $$ 
    def distance(x1, y1, x2, y2):
        import math
        return math.sqrt((y2 - y1) ** 2 + (x2 - x1) ** 2)
 
    return distance(x1, y1, x2, y2) &lt; 20
$$ LANGUAGE plpythonu;                  </code></pre>
            <p>Beachten Sie, dass in den Funktionen oben einige Codezeilen mehrmals vorkommen. Dies ist notwendig, weil UDFs nicht den Inhalt anderer UDFs referenzieren können, aber beide Funktionen dieselbe Funktionalität benötigen. Natürlich können Sie auch eine benutzerdefinierte Bibliothek mit dem mehrfach verwendeten Code erstellen und Ihre Funktionen so schrieben, dass sie diese Bibliothek verwenden. </p>
            <p>Dazu erstellen Sie zuerst das Bibliothekspaket, indem Sie die folgenden Schritte ausführen: </p>
            <div class="orderedlist">
                
                
                
                
                
            <ol><li>
                  <p>Erstellen Sie einen Ordner mit dem Namen <b>geometry</b>. Dieser Ordner ist das Bibliothekspaket der obersten Ebene.</p>
               </li><li>
                  <p>Erstellen Sie im Ordner <b>geometry</b> eine Datei mit dem Namen <code class="code">__init__.py</code>. Beachten Sie, dass die Unterstriche in dem Dateinamen jeweils doppelte Unterstriche sind. Diese Datei weist Python darauf hin, dass das Paket initialisiert werden kann.</p>
               </li><li>
                  <p>Erstellen Sie im Ordner <b>geometry</b> außerdem einen Ordner mit dem Namen <b>trig</b>. Dieser Ordner ist das Unterpaket der Bibliothek.</p>
               </li><li>
                  <p>Erstellen Sie im Ordner <b>trig</b> eine Datei mit dem Namen <code class="code">__init__.py</code> und eine Datei mit dem Namen <code class="code">line.py</code>. Mit der Datei <code class="code">__init__.py</code> wird Python wieder darauf hingewiesen, dass das Unterpaket initialisiert werden kann, und dass die Datei <code class="code">line.py</code> den Bibliothekscode enthält.</p>
                  <p>Ihr Ordner sollte nun eine Dateistruktur wie folgt enthalten: </p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">geometry/
   __init__.py
   trig/
      __init__.py
      line.py</code></pre>
                  <p> Weitere Informationen über die Struktur von Paketen finden Sie unter <a href="https://docs.python.org/2/tutorial/modules.html" rel="noopener noreferrer" target="_blank"><span>Modules</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> im Python-Tutorial auf der Python-Website. </p>
               </li><li>
                  <p> Der folgende Quellcode enthält eine Klasse und zugehörige Mitgliedsfunktionen für die Bibliothek. Kopieren Sie den Code und fügen Sie ihn in  ein <code class="code">line.py</code>. </p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">class LineSegment:
  def __init__(self, x1, y1, x2, y2):
    self.x1 = x1
    self.y1 = y1
    self.x2 = x2
    self.y2 = y2
  def angle(self):
    import math
    return math.atan2(self.y2 - self.y1, self.x2 - self.x1)
  def distance(self):
    import math
    return math.sqrt((self.y2 - self.y1) ** 2 + (self.x2 - self.x1) ** 2)                           </code></pre>
               </li></ol></div>
            <p> Nachdem Sie das Paket erstellt haben, gehen Sie wie folgt vor, um das Paket vorzubereiten und in Amazon S3 hochzuladen. </p>
            <div class="orderedlist">
                
                
                
            <ol><li>
                  <p>Komprimieren Sie den Inhalt des Ordners <b>geometry</b> in einer ZIP-Datei mit dem Namen <b>geometry.zip</b>. Der Ordner <b>geometry</b> selbst darf nicht in der ZIP-Datei enthalten sein, sondern nur der Inhalt des Ordners wie im Folgenden gezeigt: </p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">geometry.zip
   __init__.py
   trig/
      __init__.py
      line.py</code></pre>
               </li><li>
                  <p>Laden Sie <b>geometry.zip</b> in Ihren Amazon S3 Bucket hoch.</p>
                  <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Wichtig</h6></div><div class="awsdocs-note-text"><p> Wenn sich der Amazon-S3-Bucket nicht in derselben Region wie Ihr Amazon-Redshift-Cluster befindet, müssen Sie die Option REGION verwenden, um die Region anzugeben, in der sich die Daten befinden. Weitere Informationen finden Sie unter <a href="./r_CREATE_LIBRARY.html">CREATE LIBRARY</a>.</p></div></div>
               </li><li>
                  <p> Führen Sie in Ihrem SQL-Client-Tool den folgenden Befehl aus, um die Bibliothek zu installieren. Ersetzen Sie <code class="replaceable">&lt;bucket_name&gt;</code> durch den Namen Ihres Buckets und ersetzen Sie <code class="replaceable">&lt;access key id&gt;</code> und <code class="replaceable">&lt;secret key&gt;</code> durch einen Zugriffsschlüssel und einen geheimen Zugriffsschlüssel aus Ihren  AWS Identity and Access Management (IAM)-Benutzeranmeldeinformationen. </p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">CREATE LIBRARY geometry LANGUAGE plpythonu FROM 's3://<code class="replaceable">&lt;bucket_name&gt;</code>/geometry.zip' CREDENTIALS 'aws_access_key_id=<code class="replaceable">&lt;access key id&gt;</code>;aws_secret_access_key=<code class="replaceable">&lt;secret key&gt;</code>';</code></pre>
               </li></ol></div>
            <p> Nach der Installation der Bibliothek in Ihrem Cluster müssen Sie die Funktionen so konfigurieren, dass sie die Bibliothek verwenden. Führen Sie dazu die folgenden Befehle aus. </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE OR REPLACE FUNCTION f_distance (x1 float, y1 float, x2 float, y2 float) RETURNS float IMMUTABLE as $$ 
    from trig.line import LineSegment
 
    return LineSegment(x1, y1, x2, y2).distance()
$$ LANGUAGE plpythonu;
 
CREATE OR REPLACE FUNCTION f_within_range (x1 float, y1 float, x2 float, y2 float) RETURNS bool IMMUTABLE as $$ 
    from trig.line import LineSegment
 
    return LineSegment(x1, y1, x2, y2).distance() &lt; 20
$$ LANGUAGE plpythonu;</code></pre>
            <p>In den Befehlen oben können durch die Anweisung <code class="code">import trig/line</code> die doppelten Vorkommen des Codes wie in der ersten Version dieser Funktionen am Anfang dieses Abschnitts vermieden werden. Sie können durch Bibliotheken bereitgestellte Funktionalitäten in mehreren UDFs verwenden. Beachten Sie, dass Sie beim Importieren des Moduls lediglich den Pfad zu dem Unterpaket und den Modulnamen angeben (<code class="code">trig/line</code>). </p>
          
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warnung" /> <strong>JavaScript ist in Ihrem Browser nicht verfügbar oder deaktiviert.</strong></p><p>Zur Nutzung der AWS-Dokumentation muss JavaScript aktiviert sein. Weitere Informationen finden auf den Hilfe-Seiten Ihres Browsers.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Dokumentkonventionen</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./udf-data-types.html">Python-UDF-Datentypen</div><div id="next" class="next-link" accesskey="n" href="./udf-constraints.html">Einschränkungen für UDFs</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Ja</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass wir gute Arbeit geleistet haben!</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, was wir richtig gemacht haben, damit wir noch besser werden?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/udf-python-language-support.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Nein</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass diese Seite überarbeitet werden muss. Es tut uns Leid, dass wir Ihnen nicht weiterhelfen konnten.</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, wie wir die Dokumentation verbessern können?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/udf-python-language-support.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>