<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="de-DE"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>VACUUM - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_VACUUM_command" /><meta name="default_state" content="r_VACUUM_command" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_VACUUM_command.html" /><meta name="description" content="Sortiert Zeilen neu und gewinnt Platz in einer bestimmten Tabelle oder in allen Tabellen der aktuellen Datenbank zurück." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Datenbankentwicklerhandbuch" /><meta name="abstract" content="Erstellen und verwalten Sie ein Data Warehouse mit Amazon Redshift, einem vollständig verwalteten Petabyte-Data-Warehousing-Service auf Unternehmensniveau." /><meta name="guide-locale" content="de_de" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_VACUUM_command.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_VACUUM_command.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_VACUUM_command.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_VACUUM_command.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_VACUUM_command.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_VACUUM_command.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_VACUUM_command.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_VACUUM_command.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_VACUUM_command.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_VACUUM_command.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_VACUUM_command.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_VACUUM_command.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_VACUUM_command.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_VACUUM_command.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_VACUUM_command.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_VACUUM_command.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_VACUUM_command.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_VACUUM_command.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_VACUUM_command.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_VACUUM_command.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_VACUUM_command.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_VACUUM_command.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Datenbankentwicklerhandbuch" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Datenbankentwicklerhandbuch" /><meta id="panorama-serviceConsolePage" value="VACUUM" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>VACUUM - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#r_VACUUM_command" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_VACUUM_command.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_VACUUM_command.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_VACUUM_command.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,Cluster,Data Warehouse,Developer,Musterdaten,Datenbank,Database Developer,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Datenbankentwicklerhandbuch",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "SQL-Referenz",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "SQL-Befehle",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "VACUUM",
        "item" : "https://docs.aws.amazon.com/de_de/redshift/latest/dg/c_SQL_commands.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#r_VACUUM_command" target="_blank" rel="noopener noreferrer" title="PDF öffnen"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Dokumentation</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Datenbankentwicklerhandbuch</a></div><div id="page-toc-src"><a href="#r_VACUUM_command-privileges">Erforderliche Berechtigungen</a><a href="#r_VACUUM_command-synopsis">Syntax</a><a href="#r_VACUUM_command-parameters">Parameter</a><a href="#r_VACUUM_usage_notes">Nutzungshinweise</a><a href="#r_VACUUM_command-examples">Beispiele</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Die vorliegende Übersetzung wurde maschinell erstellt. Im Falle eines Konflikts oder eines Widerspruchs zwischen dieser übersetzten Fassung und der englischen Fassung (einschließlich infolge von Verzögerungen bei der Übersetzung) ist die englische Fassung maßgeblich.</p></awsui-alert><h1 class="topictitle" id="r_VACUUM_command">VACUUM</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Sortiert Zeilen neu und gewinnt Platz in einer bestimmten Tabelle oder in allen Tabellen der aktuellen Datenbank zurück.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Anmerkung</h6></div><div class="awsdocs-note-text"><p>Nur Benutzer mit den erforderlichen Tabellenberechtigungen können eine Tabelle effektiv bereinigen. Wenn VACUUM ohne die notwendigen Tabellenberechtigungen ausgeführt, wird die Operation zwar erfolgreich abgeschlossen, hat jedoch keine Wirkung. Eine Liste der gültigen Tabellenberechtigungen zum effektiven Ausführen von VACUUM finden Sie im folgenden Abschnitt zu erforderlichen Berechtigungen..</p></div></div><p>Amazon Redshift sortiert im Hintergrund automatisch die Daten und führt VACUUM DELETE aus. Dadurch entfällt die Notwendigkeit, den Befehl VACUUM auszuführen. Weitere Informationen finden Sie unter <a href="./t_Reclaiming_storage_space202.html">Bereinigen von Tabellen</a>. </p><p>Standardmäßig überspringt VACUUM die Sortierungsphase für alle Tabellen, in denen mehr als 95 Prozent der Tabellenzeilen bereits sortiert sind. Das Überspringen der Sortierungsphase kann die Leistung von VACUUM deutlich verbessern. Um den Standardschwellenwert für die Sortierung oder Löschung für eine einzelne Tabelle zu ändern, verwenden Sie den Tabellennamen und den Parameter TO <em>threshold</em> PERCENT, wenn Sie VACUUM ausführen. </p><p>Benutzer können auf Tabellen zugreifen, während sie bereinigt werden. Sie können Abfragen und Schreiboperationen ausführen, während eine Tabelle bereinigt wird. Wenn jedoch Data Manipulation Language (DML)-Befehle und eine Bereinigung gleichzeitig ausgeführt werden, dauern beide Vorgänge möglicherweise länger. Wenn Sie während einer Bereinigung UPDATE- und DELETE-Anweisungen ausführen, wird die Systemleistung möglicherweise reduziert. VACUUM DELETE blockiert vorübergehend Aktualisierungs- und Löschoperationen. </p><p>Amazon Redshift führt automatisch eine DELETE ONLY-Bereinigung im Hintergrund aus. Die automatische Bereinigungsoperation wird angehalten, wenn die Benutzer Data Definition Language (DDL)-Operationen ausführen, wie etwa ALTER TABLE.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Anmerkung</h6></div><div class="awsdocs-note-text"><p>Syntax und Verhalten des Amazon-Redshift-Befehls VACUUM unterscheiden sich wesentlich von Syntax und Verhalten der PostgreSQL-Operation VACUUM. Beispielsweise ist die standardmäßige VACUUM-Operation in Amazon Redshift VACUUM FULL, die Festplattenspeicher zurückgewinnt und alle Zeilen neu sortiert. Die VACUUM-Operation in PostgreSQL gewinnt hingegen nur Festplattenplatz zurück und stellt ihn zur Wiederverwendung bereit.</p></div></div><p>Weitere Informationen finden Sie unter <a href="./t_Reclaiming_storage_space202.html">Bereinigen von Tabellen</a>.</p>
         <h2 id="r_VACUUM_command-privileges">Erforderliche Berechtigungen</h2>
         <p>Für VACUUM sind folgende Berechtigungen erforderlich:</p>
         <div class="itemizedlist">
             
             
             
             
         <ul class="itemizedlist"><li class="listitem"><p>Superuser</p></li><li class="listitem"><p>Benutzer mit der Berechtigung VACUUM</p></li><li class="listitem"><p>Tabellenbesitzer</p></li><li class="listitem"><p>Datenbankbesitzer, für den die Tabelle freigegeben wird.</p></li></ul></div>
       
         <h2 id="r_VACUUM_command-synopsis">Syntax</h2>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">VACUUM [ FULL | SORT ONLY | DELETE ONLY | REINDEX | RECLUSTER ]
[ [ <em>table_name</em> ] [ TO <em>threshold</em> PERCENT ] [ BOOST ] ]</code></pre>
       
         <h2 id="r_VACUUM_command-parameters">Parameter</h2>
         <div class="variablelist">
             
             
             
             
             

            
             
             

             
             
         <dl>
               <dt id="vacuum-full"><span class="term">FULL </span></dt>
               <dd>
                  <p>Sortiert die angegebene Tabelle (oder alle Tabellen in der aktuellen Datenbank) und gewinnt Festplattenplatz zurück, der von Zeilen besetzt wird, die von vorherigen UPDATE- und DELETE-Operationen zur Löschung markiert wurden. Der Standardwert ist VACUUM FULL.</p>

                  <p>Eine vollständige Bereinigung führt keine Neuindizierung überlappender Tabellen aus. Um überlappende Tabellen neu zu indizieren und anschließend vollständig zu bereinigen, verwenden Sie die Option <a href="#vacuum-reindex">VACUUM REINDEX</a>. </p>

                  <p>Standardmäßig überspringt VACUUM FULL die Sortierphase für alle Tabellen, die bereits zu mindestens 95 Prozent sortiert sind. Wenn VACUUM die Sortierphase überspringen kann, führt die Operation eine DELETE ONLY-Operation aus und gewinnt während der Löschphase Festplattenplatz zurück, wenn mindestens 95 Prozent der verbleibenden Zeilen nicht zur Löschung markiert sind.  </p>
                  <p>Wenn der Schwellenwert für die Sortierung nicht erreicht wird (wenn beispielsweise 90 Prozent der Zeilen sortiert sind) und VACUUM eine vollständige Sortierung ausführt, wird auch eine vollständige Löschoperation ausgeführt, so dass der Festplattenplatz von 100 Prozent der gelöschten Zeilen zurückgewonnen wird. </p>
                  <p>Sie können den Standardschwellenwert für die Bereinigung nur für einzelne Tabellen ändern. Um den Standardschwellenwert für eine Bereinigung für eine einzelne Tabelle zu ändern, verwenden Sie den Tabellennamen und den Parameter TO <em>threshold</em> PERCENT. </p>
               </dd>
             
               <dt id="vacuum-sort-only"><span class="term">SORT ONLY </span></dt>
               <dd>
                  <p>Sortiert die angegebene Tabelle (oder alle Tabellen in der aktuellen Datenbank), ohne den Festplattenplatz zurückzugewinnen, der von gelöschten Zeilen freigegeben wird. Diese Option ist nützlich, wenn das Wiederherstellen von Speicherplatz nicht wichtig ist, aber das erneute Sortieren neuer Zeilen von Bedeutung ist. Eine Bereinigung mit SORT ONLY reduziert die Zeit, die für Bereinigungsoperationen benötigt wird, wenn der nicht sortierte Bereich keine große Zahl gelöschter Zeilen enthält und nicht den gesamten sortierten Bereich umfasst. Für Anwendungen, für die es keine Einschränkungen in Bezug auf den Festplattenplatz gibt, die aber von Abfrageoptimierungen abhängig sind, für die sortierte Tabellenzeilen Voraussetzung sind, kann diese Art von Bereinigung nützlich sein.</p>
                  <p>Standardmäßig überspringt VACUUM SORT ONLY alle Tabellen, die bereits zu mindestens 95 Prozent sortiert sind. Um den Standardschwellenwert für die Sortierung für eine einzelne Tabelle zu ändern, verwenden Sie den Tabellennamen und den Parameter TO <em>threshold</em> PERCENT, wenn Sie VACUUM ausführen. </p>
               </dd>
             
               <dt id="vacuum-delete-only"><span class="term">DELETE ONLY </span></dt>
               <dd>
                  <p>Amazon Redshift führt automatisch eine DELETE ONLY-Bereinigung im Hintergrund aus, sodass Sie nur selten (wenn überhaupt) eine DELETE ONLY-Bereinigung ausführen müssen.</p>
                  <p>VACUUM DELETE gewinnt Festplattenplatz zurück, der von Zeilen besetzt wird, die von vorherigen UPDATE- und DELETE-Operationen zur Löschung markiert wurden, und macht die Tabelle kompakter, um den verbrauchten Festplattenplatz freizugeben. Eine Bereinigungsoperation mit DELETE ONLY sortiert die Tabellendaten nicht. </p>
                  <p>Diese Option reduziert den Zeitaufwand für Vacuum-Operationen, wenn das Wiederherstellen von Festplattenspeicher wichtig ist, aber das Neusortieren neuer Zeilen nicht wichtig ist. Diese Option kann auch nützlich sein, wenn Ihre Abfrageleistung bereits optimal ist. Eine Neusortierung von Zeilen zur Optimierung der Abfrageleistung ist nicht erforderlich.</p>
                  <p>Standardmäßig gewinnt VACUUM DELETE ONLY Festplattenplatz zurück, wenn mindestens 95 Prozent der verbleibenden Zeilen nicht zur Löschung markiert sind. Um den Standardschwellenwert für die Löschung für eine einzelne Tabelle zu ändern, verwenden Sie den Tabellennamen und den Parameter TO <em>threshold</em> PERCENT, wenn Sie VACUUM ausführen.  </p>
                  <p>Einige Operationen, wie <code class="code">ALTER TABLE APPEND</code>, können dazu führen, dass Tabellen fragmentiert werden. Wenn Sie die <code class="code">DELETE ONLY</code>-Klausel verwenden, gibt die Bereinigungsoperation Speicherplatz von fragmentierten Tabellen frei. Derselbe Schwellenwert von 95 Prozent gilt für die Defragmentierungsoperation. </p>
               </dd>
             
               <dt id="vacuum-reindex"><span class="term">REINDEX <em>tablename</em></span></dt>
               <dd>
                  <p>Analysiert die Verteilung der Werte in überlappenden Sortierschlüsselspalten und führt anschließend eine vollständige VACUUM-Operation aus. Wenn REINDEX verwendet wird, ist ein Tabellenname erforderlich.</p>
                  <p>VACUUM REINDEX benötigt deutlich mehr Zeit als VACUUM FULL, da ein zusätzlicher Schritt zur Analyse der überlappenden Sortierschlüssel ausgeführt wird. Die Sortier- und Zusammenführungsoperationen für überlappende Tabellen kann länger dauern, weil die überlappende Sortierung möglicherweise mehr Zeilen als eine zusammengesetzte Sortierung neu anordnen muss.</p>
                  <p>Wenn eine VACUUM REINDEX-Operation beendet wird, bevor sie abgeschlossen ist, setzt die nächste VACUUM-Operation die Neuindizierungsoperation fort, bevor eine vollständige Bereinigung ausgeführt wird.</p>
                  <p>VACUUM REINDEX wird bei Verwendung von TO <em>threshold</em> PERCENT nicht unterstützt.  </p>
               </dd>
             
               <dt><span class="term"> <em>table_name</em> </span></dt>
               <dd>
                  <p>Der Name der zu bereinigenden Tabelle. Wenn Sie keinen Tabellennamen angeben, wird die Bereinigungsoperation auf alle Tabellen in der aktuellen Datenbank angewendet. Sie können jede permanente oder temporäre Tabelle angeben, die von Benutzern erstellt wurde. Der Befehl gilt nicht für andere Objekte wie Ansichten und Systemtabellen.</p>
                  <p> Wenn Sie den Parameter TO <em>threshold</em> PERCENT einschließen, ist ein Tabellenname erforderlich.</p>
               </dd>
             
               <dt id="vacuum-recluster"><span class="term">RECLUSTER <em>tablename</em></span></dt>
               <dd>
                  <p>Sortiert die Teile der Tabelle, die nicht sortiert sind. Teile der Tabelle, die bereits nach automatischer Tabellensortierung sortiert sind, bleiben intakt. Mit diesem Befehl werden die neu sortierten Daten nicht mit dem sortierten Bereich zusammengeführt. Es wird auch nicht der gesamte Speicherplatz zurückgewonnen, der zum Löschen markiert ist. Nach Beendigung dieses Befehls wird die Tabelle möglicherweise nicht vollständig sortiert angezeigt, was durch das Feld <code class="code">unsorted</code> in SVV_TABLE_INFO angezeigt wird. </p>
                  <p> Wir empfehlen die Verwendung von VACUUM RECLUSTER für große Tabellen mit häufigen Zugriffen und Abfragen, die nur auf die neuesten Daten zugreifen. </p>
                  <p> VACUUM RECLUSTER wird bei Verwendung von TO threshold PERCENT nicht unterstützt. Wenn RECLUSTER verwendet wird, ist ein Tabellenname erforderlich.</p>
                 <p>VACUUM RECLUSTER wird bei Tabellen mit verschachtelten Sortierschlüsseln und Tabellen mit dem Verteilungsstil ALL nicht unterstützt.</p>
               </dd>
             
               <dt><span class="term"> <em>table_name</em> </span></dt>
               <dd>
                  <p>Der Name der zu bereinigenden Tabelle. Sie können jede permanente oder temporäre Tabelle angeben, die von Benutzern erstellt wurde. Der Befehl gilt nicht für andere Objekte wie Ansichten und Systemtabellen.</p>
               </dd>
             
               <dt><span class="term"> TO <em>threshold</em> PERCENT </span></dt>
               <dd>
                  <p>Eine Klausel, die den Schwellenwert, oberhalb dessen VACUUM die Sortierphase überspringt, und den Zielschwellenwert für die Rückgewinnung von Festplattenplatz während der Löschphase angibt. Der <em>Sortierschwellenwert</em> ist der Prozentsatz der Gesamtzahl der Zeilen, die sich bereits in der richtigen Sortierreihenfolge für die angegebene Tabelle befinden, bevor die Bereinigung gestartet wird.  Der <em>Löschschwellenwert</em> ist der Mindestprozentsatz der Gesamtzahl der Zeilen, die nach der Bereinigung nicht zur Löschung markiert sind. </p>
                  <p>Da VACUUM die Zeilen nur dann neu sortiert, wenn der Prozentsatz der sortierten Zeilen in einer Tabelle kleiner als der Sortierschwellenwert ist, kann Amazon Redshift die VACUUM-Zeiten oft deutlich reduzieren. Wenn VACUUM nicht der Einschränkung unterliegt, den Festplattenplatz von 100 Prozent der zur Löschung markierten Zeilen zurückzugewinnen, kann die Operation häufig das Neuschreiben von Blöcken überspringen, die nur einige wenige zur Löschung markierte Zeilen enthalten.</p>
                  <p>Wenn Sie beispielsweise 75 für den <em>Schwellenwert</em> angeben, überspringt VACUUM die Sortierphase, wenn sich mindestens 75 % der Tabellenzeilen bereits in der richtigen Sortierreihenfolge befinden. In Bezug auf die Löschphase gewinnt VACUUM Festplattenplatz zurück, wenn nach der Bereinigung mindestens 75 Prozent der Tabellenzeilen nicht zur Löschung markiert sind. Der <em>Schwellenwert</em> muss eine Ganzzahl zwischen 0 und 100 sein. Der Standardwert ist 95. Wenn Sie den Wert als 100 angeben, sortiert VACUUM die Tabelle immer, wenn sie nicht bereits vollständig sortiert ist, und gewinnt Festplattenplatz für alle Zeilen zurück, die zur Löschung markiert sind. Wenn Sie den Wert als 0 angeben, sortiert VACUUM die Tabelle niemals und gewinnt niemals Festplattenplatz zurück.</p>
                  <p>Wenn Sie den Parameter TO <em>threshold</em> PERCENT einschließen, müssen Sie auch einen Tabellennamen angeben. Wenn kein Tabellenname angegeben wird, ist VACUUM erfolglos. </p>
                  <p>Sie können den Parameter TO <em>threshold</em> PERCENT nicht mit REINDEX verwenden. </p>
               </dd>
             
               <dt><span class="term">BOOST</span></dt>
               <dd>
                  <p>Führt den Befehl VACUUM mit zusätzlichen Ressourcen wie Arbeitsspeicher und Festplattenspeicher aus, sobald diese verfügbar sind. Mit der Option BOOST arbeitet VACUUM in einem Fenster und blockiert gleichzeitige Lösch- und Aktualisierungsvorgänge für die Dauer der VACUUM-Operation. Wenn Sie die BOOST-Option nutzen, werden Systemressourcen gesucht, die die Abfrageleistung beeinträchtigen können. Führen Sie VACUUM BOOST aus, wenn die Last des Systems gering ist, z. B. bei Wartungsarbeiten. </p>
                  <p>Beachten Sie Folgendes, wenn Sie die Option BOOST verwenden:</p>
                  <div class="itemizedlist">
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>Wenn BOOST angegeben wird, wird der Wert <em>table_name</em> benötigt. </p>
                     </li><li class="listitem">
                        <p>BOOST wird von REINDEX nicht unterstützt. </p>
                     </li><li class="listitem">
                        <p>BOOST wird bei DELETE ONLY ignoriert. </p>
                     </li></ul></div>
               </dd>
            </dl></div>
       
         <h2 id="r_VACUUM_usage_notes">Nutzungshinweise</h2>
         <p>Für die Mehrzahl der Amazon-Redshift-Anwendungen wird eine vollständige Bereinigung empfohlen. Weitere Informationen finden Sie unter <a href="./t_Reclaiming_storage_space202.html">Bereinigen von Tabellen</a>.</p>
         <p>Beachten Sie das folgende Verhalten, bevor Sie eine Bereinigungsoperation ausführen: </p>
         <div class="itemizedlist">
             
             
             
             
             
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>Sie können VACUUM nicht innerhalb eines Transaktionsblocks ausführen (BEGIN ... END). Weitere Informationen Transaktionen finden Sie unter <a href="./c_serial_isolation.html">Serialisierbare Isolierung</a>. </p>
            </li><li class="listitem">
               <p>Sie können jeweils nur einen VACUUM-Befehl für ein Cluster ausführen. Wenn Sie versuchen, mehrere Bereinigungsoperationen gleichzeitig auszuführen, gibt Amazon Redshift einen Fehler zurück.</p>
            </li><li class="listitem">
               <p>Es kann vorkommen, dass die Größe von Tabellen zunimmt, wenn sie bereinigt werden. Dieses Verhalten ist erwartet, wenn es keine gelöschten Zeilen gibt, für die Festplattenplatz zurückgewonnen werden könnte, oder wenn die neue Sortierreihenfolge der Tabelle zu einem niedrigeren Datenkompressionsverhältnis führt.</p>
            </li><li class="listitem">
               <p>Während Bereinigungsoperationen ist eine gewisse Abnahme der Abfrageleistung ein erwartetes Verhalten. Die normale Leistung wird wiederhergestellt, sobald die Bereinigungsoperation abgeschlossen ist.</p>
            </li><li class="listitem">
               <p>Gleichzeitig ausgeführte Schreiboperationen werden während Bereinigungsoperationen fortgesetzt. Es wird jedoch davon abgeraten, während Bereinigungsoperationen Schreiboperationen auszuführen. Es ist effizienter, Schreiboperationen abzuschließen, bevor die Bereinigung ausgeführt wird. Außerdem können Daten, die nach dem Starten einer Bereinigungsoperation geschrieben werden, von dieser Operation nicht bereinigt werden. In diesem Fall ist eine zweite Bereinigungsoperation erforderlich.</p>
            </li><li class="listitem">
               <p>Eine Bereinigungsoperation kann möglicherweise nicht gestartet werden, wenn bereits eine Lade- oder Einfügeoperation ausgeführt werden. Bereinigungsoperationen erfordern vorübergehend exklusiven Zugriff auf Tabellen, um gestartet werden zu können. Dieser exklusive Zugriff ist nur kurz erforderlich. Bereinigungsoperationen blockieren daher keine gleichzeitig ausgeführten Lade- und Einfügeoperationen über einen wesentlichen Zeitraum.</p>
            </li><li class="listitem">
               <p>Bereinigungsoperationen werden übersprungen, wenn es für eine bestimmte Tabelle keinen Handlungsbedarf gibt. Mit der Feststellung, dass die Operation übersprungen werden kann, ist jedoch ein gewisser Overhead verbunden. Wenn Ihnen bekannt ist, dass eine Tabelle optimiert ist oder den Schwellenwert für die Bereinigung nicht erfüllt, führen Sie keine Bereinigungsoperation für sie aus.</p>
            </li><li class="listitem">
               <p>Eine Bereinigungsoperation mit DELETE ONLY für eine kleine Tabelle reduziert möglicherweise die Zahl der Blöcke nicht, die für das Speichern der Daten verwendet werden, besonders, wenn die Tabelle eine große Zahl von Spalten besitzt oder der Cluster eine große Zahl von Slices pro Knoten verwendet. Diese Bereinigungsoperationen fügen einen Block pro Spalte und Slice hinzu, um gleichzeitig ausgeführte Einfügungen in die Tabelle zu berücksichtigen. Es ist möglich, dass dieser Overhead die Reduzierung der Blockzahl aufgrund der Rückgewinnung von Festplattenplatz aufwiegt. Wenn beispielsweise eine Tabelle mit 10 Spalten in einem Cluster mit 8 Knoten vor einer Bereinigung 1000 Blöcke besetzt, reduziert die Bereinigung die tatsächliche Blockzahl nicht, es sei denn, aufgrund der Löschung von Zeilen werden mehr als 80 Blöcke Festplattenplatz zurückgewonnen. (Jeder Datenblock nimmt 1 MB in Anspruch.)</p>
            </li></ul></div>
         <p>Automatische Bereinigungsvorgänge werden angehalten, wenn eine der folgenden Bedingungen erfüllt ist: </p>
         <div class="itemizedlist">
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>Ein Benutzer führt eine Data Definition Language (DDL)-Operation wie etwa ALTER TABLE aus, die eine exklusive Sperre für eine Tabelle erforderlich macht, an der die automatische Bereinigung aktuell arbeitet. </p>
            </li><li class="listitem">
               <p>Ein Benutzer löst VACUUM für eine Tabelle im Cluster aus (es kann nur jeweils ein VACUUM-Vorgang ausgeführt werden). </p>
            </li><li class="listitem">
               <p>Ein Zeitraum hoher Cluster-Auslastung.</p>
            </li></ul></div>
       
         <h2 id="r_VACUUM_command-examples">Beispiele</h2>
         <p>Stellen Sie Platz und Datenbankplatz wieder her und sortieren Sie die Zeilen in allen Tabellen neu (basierend auf dem standardmäßigen Vacuum-Schwellenwert von 95 %).</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">vacuum;</code></pre>
         <p>Stellen Sie Platz und Datenbankplatz in der SALES-Tabelle wieder her und sortieren Sie die Zeilen in allen Tabellen neu (basierend auf dem standardmäßigen Vacuum-Schwellenwert von 95 %). </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">vacuum sales;</code></pre>
         <p>Rufen Sie immer verfügbaren Platz in der Tabelle SALES ab und sortieren Sie die Zeilen neu. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">vacuum sales to 100 percent;</code></pre>
         <p>Sortieren Sie Zeilen in der Tabelle SALES nur dann neu, wenn weniger als 75 % der Zeilen bereits sortiert sind. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class=""> vacuum sort only sales to 75 percent;</code></pre>
         <p>Gewinnt Festplattenplatz in der Tabelle SALES zurück, wenn mindestens 75 Prozent der verbleibenden Zeilen nach der Bereinigung nicht zur Löschung markiert sind. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">vacuum delete only sales to 75 percent;</code></pre>
         <p>Indiziert die Tabelle LISTING neu und bereinigt sie anschließend. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">vacuum reindex listing;</code></pre>
         <p>Der folgende Befehl gibt einen Fehler zurück. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">vacuum reindex listing to 75 percent;</code></pre>
         
         
         <p>Ordnet die Cluster neu an und bereinigt die LISTING-Tabelle anschließend. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">vacuum recluster listing;</code></pre>
         <p>Ordnet die Cluster neu an und bereinigt die LISTING-Tabelle anschließend mit der BOOST-Option. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="">vacuum recluster listing boost;</code></pre>
         
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warnung" /> <strong>JavaScript ist in Ihrem Browser nicht verfügbar oder deaktiviert.</strong></p><p>Zur Nutzung der AWS-Dokumentation muss JavaScript aktiviert sein. Weitere Informationen finden auf den Hilfe-Seiten Ihres Browsers.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Dokumentkonventionen</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./c_Examples_of_UPDATE_statements.html">Beispiele für UPDATE-Anweisungen</div><div id="next" class="next-link" accesskey="n" href="./c_SQL_functions.html">SQL-Funktionsreferenz</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Ja</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass wir gute Arbeit geleistet haben!</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, was wir richtig gemacht haben, damit wir noch besser werden?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_VACUUM_command.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Nein</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass diese Seite überarbeitet werden muss. Es tut uns Leid, dass wir Ihnen nicht weiterhelfen konnten.</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, wie wir die Dokumentation verbessern können?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_VACUUM_command.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>