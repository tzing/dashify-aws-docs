<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="de-DE"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Amazon Simple Notification Service-gestützte, benutzerdefinierte Ressourcen - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="template-custom-resources-sns" /><meta name="default_state" content="template-custom-resources-sns" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" /><meta name="description" content="Erfahren Sie mehr über benutzerdefinierte, Amazon-SNS-gestützte Ressourcen in AWS CloudFormation." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Leitfaden" /><meta name="abstract" content="Erstellen und verwalten Sie AWS Infrastrukturbereitstellungen vorhersehbar und wiederholt mithilfe von AWS CloudFormation mit diesem Benutzerhandbuch." /><meta name="guide-locale" content="de_de" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Leitfaden" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Leitfaden" /><meta id="panorama-serviceConsolePage" value="Amazon Simple Notification Service-gestützte, benutzerdefinierte Ressourcen" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Amazon Simple Notification Service-gestützte, benutzerdefinierte Ressourcen - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,Ressourcenbereitstellung,Ressourcenkonfiguration,Infrastrukturverwaltung,CloudFormer,CloudFormation -Stack,CloudFormation Stackset,CloudFormation -Vorlage,Änderungssatz" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Leitfaden",
        "item" : "https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Arbeiten mit AWS CloudFormation-Vorlagen",
        "item" : "https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/template-guide.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Benutzerdefinierte Ressourcen",
        "item" : "https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/template-custom-resources.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Amazon Simple Notification Service-gestützte, benutzerdefinierte Ressourcen",
        "item" : "https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/template-custom-resources.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Dokumentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Leitfaden</a></div><div id="page-toc-src"><a href="#walkthrough-custom-resources-sns-adding-nonaws-resource">Walkthrough: Erstellen von benutzerdefinierten Ressourcen mithilfe von Amazon Simple Notification Service</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Die vorliegende Übersetzung wurde maschinell erstellt. Im Falle eines Konflikts oder eines Widerspruchs zwischen dieser übersetzten Fassung und der englischen Fassung (einschließlich infolge von Verzögerungen bei der Übersetzung) ist die englische Fassung maßgeblich.</p></awsui-alert><h1 class="topictitle" id="template-custom-resources-sns">Amazon Simple Notification Service-gestützte, benutzerdefinierte Ressourcen</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Wenn Sie ein Amazon-SNS-Thema einer benutzerdefinierten Ressource zuordnen, verwenden Sie Amazon-SNS-Benachrichtigungen, um eine benutzerdefinierte Bereitstellungslogik aufzurufen. Bei benutzerdefinierten Ressourcen und Amazon SNS können Sie Szenarien wie das Hinzufügen neuer Ressourcen zu einem Stack und das Einfügen dynamischer Daten in einen Stack ermöglichen. Wenn Sie beispielsweise einen Stack erstellen, kann AWS CloudFormation eine <code class="code">create</code>-Anforderung an ein Thema senden, das von einer Anwendung überwacht wird, die auf einer Instance von Amazon Elastic Compute Cloud ausgeführt wird. Die Amazon-SNS-Benachrichtigung löst aus, dass die Anwendung weitere Bereitstellungsaufgaben ausführt, z. B. das Abrufen eines Pools von erlaubten Elastic-IP-Adressen. Danach sendet die Anwendung eine Antwort (und Ausgangsdaten), in der AWS CloudFormation mitgeteilt wird, mit dem Stack-Vorgang fortzufahren.</p><h2 id="walkthrough-custom-resources-sns-adding-nonaws-resource">Walkthrough: Erstellen von benutzerdefinierten Ressourcen mithilfe von Amazon Simple Notification Service</h2>
      
      
      <p>In dieser Anleitung werden Sie Schritt für Schritt durch den Prozess der Erstellung benutzerdefinierter Ressourcen geführt. Es wird die Abfolge von Ereignissen und Nachrichten erläutert, die als Ergebnis des Erstellens, Aktualisierens und Löschens eines benutzerdefinierten Stacks gesendet und empfangen werden.</p>
      <h3 id="crpg-walkthrough-stack-creation">Schritt 1: Erstellen des Stacks</h3>
         
         <div class="orderedlist">
             
             
             
             
         <ol style="list-style-type:arabic ! important;"><li>
               <p>Der Vorlagen-Entwickler erstellt einen AWS CloudFormation-Stack, der eine benutzerdefinierte Ressource enthält; in der Beispielvorlage unten verwenden wir den benutzerdefinierten Ressourcentyp-Namen <code class="code">Custom::SeleniumTester</code> für die benutzerdefinierte Ressource <code class="code">MySeleniumTest</code>.</p>
               <p>Der benutzerdefinierte Ressourcentyp ist mit einem <em>Service-Token</em>, optionalen <em>anbieterspezifischen Eigenschaften</em> und optionalen <a href="./intrinsic-function-reference-getatt.html">Fn::GetAtt</a>-Attributen deklariert, die von custom resource provider definiert werden. Diese Eigenschaften und Attribute können verwendet werden, um Informationen vom template developer an custom resource provider zu übergeben und umgekehrt. Benutzerdefinierte Ressourcentypnamen müssen alphanumerisch sein und können maximal 60 Zeichen enthalten.</p>
               <p>Das folgende Beispiel zeigt eine Vorlage, die sowohl benutzerdefinierte Eigenschaften als auch Rückgabeattribute aufweist:</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "AWSTemplateFormatVersion" : "2010-09-09",
   "Resources" : <span>{</span>
      "MySeleniumTest" : <span>{</span>
         "Type": "Custom::SeleniumTester",
         "Version" : "1.0",
         "Properties" : <span>{</span>
            "ServiceToken": "arn:aws:sns:us-west-2:123456789012:CRTest",
            "seleniumTester" : "SeleniumTest()",
            "endpoints" : [ "http://mysite.com", "http://myecommercesite.com/", "http://search.mysite.com" ],
            "frequencyOfTestsPerHour" : [ "3", "2", "4" ]
         }
      }
   },
   "Outputs" : <span>{</span>
      "topItem" : <span>{</span>
         "Value" : <span>{</span> "Fn::GetAtt" : ["MySeleniumTest", "resultsPage"] }
      },
      "numRespondents" : <span>{</span>
         "Value" : <span>{</span> "Fn::GetAtt" : ["MySeleniumTest", "lastUpdate"] }
      }
   }
}</code></pre>
               <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Anmerkung</h6></div><div class="awsdocs-note-text"><p>Die Namen und Werte der Daten, auf die mit <code class="code"><code class="code">Fn::GetAtt</code></code> zugegriffen wird, werden vom benutzerdefiniertem Ressourcenanbieter während der Antwort des Anbieters an AWS CloudFormation zurückgegeben. Wenn der custom resource provider von einem Drittanbieter stammt, muss der template developer die Namen dieser Rückgabewerte vom custom resource provider abrufen.</p></div></div>
            </li><li>
               <p>AWS CloudFormation sendet eine Amazon SNS-Benachrichtigung mit einem <code class="code">"RequestType" : "Create"</code> an den Ressourcenanbieter, die Informationen zu dem Stack, den benutzerdefinierten Ressourceneigenschaften aus der Stack-Vorlage und eine S3-URL für die Antwort enthält.</p>
               <p>Das SNS-Thema, das zum Senden der Benachrichtigung verwendet wird, ist in die Vorlage in der <code class="code">ServiceToken</code>-Eigenschaft eingebettet. Um die Verwendung eines hartcodierten Werts zu vermeiden, kann ein Vorlagen-Entwickler einen Vorlagenparameter verwenden, sodass der Wert zu dem Zeitpunkt eingegeben wird, wenn der Stack gelauncht wird.</p>
               <p>Das folgende Beispiel zeigt eine <code class="code">Create</code>-Anforderung einer benutzerdefinierten Ressource, die einen benutzerdefinierten Ressourcentypnamen, <code class="code">Custom::SeleniumTester</code>, enthält, der mit der <code class="code">LogicalResourceId</code> <code class="code">MySeleniumTester</code> erstellt wurde:</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "RequestType" : "Create",
   "ResponseURL" : "http://pre-signed-S3-url-for-response",
   "StackId" : "arn:aws:cloudformation:us-west-2:123456789012:stack/stack-name/guid",
   "RequestId" : "unique id for this create request",
   "ResourceType" : "Custom::SeleniumTester",
   "LogicalResourceId" : "MySeleniumTester",
   "ResourceProperties" : <span>{</span>
      "seleniumTester" : "SeleniumTest()",
      "endpoints" : [ "http://mysite.com", "http://myecommercesite.com/", "http://search.mysite.com" ],
      "frequencyOfTestsPerHour" : [ "3", "2", "4" ]
   }
}</code></pre>
            </li><li>
               <p>Der custom resource provider verarbeitet die Daten, die von template developer gesendet werden und bestimmt, ob die <code class="code">Create</code>-Anforderung erfolgreich war. Der Ressourcenanbieter verwendet dann die von AWS CloudFormation gesendete S3-URL, um die Antwort <code class="code">SUCCESS</code> oder <code class="code">FAILED</code> zu senden.</p>
               <p>Je nach Antworttyp werden unterschiedliche Antwortfelder von AWS CloudFormation erwartet. Weitere Informationen finden Sie im Abschnitt Antworten im Referenzthema für die RequestType , die verarbeitet wird.</p>
               <p>Als Antwort auf eine Anforderung zum Erstellen oder Aktualisieren kann custom resource provider Datenelemente im Feld <a href="./crpg-ref-responses.html#crpg-ref-responses-data">Daten</a> der Antwort zurückgeben. Dabei handelt es sich um Name-Wert-Paare und die <em>Namen</em> entsprechen den <code class="code"><code class="code">Fn::GetAtt</code></code>-Attributen mit der benutzerdefinierten Ressource in der Stack-Vorlage. Die <em>Werte</em> sind die Daten, die zurückgegeben werden, wenn der Vorlagen-Entwickler <code class="code"><code class="code">Fn::GetAtt</code></code> für die Ressource mit dem Attributnamen aufruft.</p>
               <p>Nachfolgend finden Sie eine Beispielantwort einer benutzerdefinierten Ressource:</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Status" : "SUCCESS",
   "PhysicalResourceId" : "Tester1",
   "StackId" : "arn:aws:cloudformation:us-west-2:123456789012:stack/stack-name/guid",
   "RequestId" : "unique id for this create request",
   "LogicalResourceId" : "MySeleniumTester",
   "Data" : <span>{</span>
      "resultsPage" : "http://www.myexampledomain/test-results/guid",
      "lastUpdate" : "2012-11-14T03:30Z",
   }
}           </code></pre>
               <p>Die <code class="code">StackId</code>, <code class="code">RequestId</code> und <code class="code">LogicalResourceId</code>-Felder müssen wörtlich aus der Anforderung kopiert werden.</p>
            </li><li>
               <p> AWS CloudFormation deklariert den Stack-Status als <code class="code">CREATE_COMPLETE</code> oder <code class="code">CREATE_FAILED</code>. Wenn der Stack erfolgreich erstellt wurde, kann der template developer die Ausgabewerte der erstellten benutzerdefinierten verwenden, indem mit <a href="./intrinsic-function-reference-getatt.html">Fn::GetAtt</a> darauf zugegriffen wird.</p>
               <p>Die benutzerdefinierte Ressourcenvorlage, die zur Veranschaulichung verwendet wird, verwendete <code class="code"><code class="code">Fn::GetAtt</code></code> zum Kopieren von Ressourcenausgaben in die Stack-Ausgabe:</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Outputs" : <span>{</span>
   "topItem" : <span>{</span>
      "Value" : <span>{</span> "Fn::GetAtt" : ["MySeleniumTest", "resultsPage"] }
   },
   "numRespondents" : <span>{</span>
      "Value" : <span>{</span> "Fn::GetAtt" : ["MySeleniumTest", "lastUpdate"] }
   }
}           </code></pre>
            </li></ol></div>
         <p>Ausführliche Informationen zu den Anforderungs- und Antwortobjekten im Zusammenhang mit <code class="code">Create</code>-Anforderungen finden Sie unter <a href="./crpg-ref-requesttypes-create.html">Create</a> im <a href="./crpg-ref.html">Referenz für benutzerdefinierte Ressourcen</a>.</p>
       
      <h3 id="crpg-walkthrough-stack-updates">Schritt 2: Stack-Updates</h3>
         
         <p>Um einen vorhandenen Stack zu aktualisieren, müssen Sie eine Vorlage übermitteln, die Updates für die Eigenschaften von Ressourcen im Stack angibt, wie im folgenden Beispiel dargestellt. AWS CloudFormation aktualisiert nur die Ressourcen, für die Änderungen in der Vorlage angegeben sind. Weitere Informationen zum Aktualisieren von Stacks finden Sie unter <a href="./using-cfn-updating-stacks.html">AWS CloudFormation-Stack-Updates</a>.</p>
         <p>Sie können benutzerdefinierte Ressourcen aktualisieren, bei denen eine der zugrunde liegenden physischen Ressourcen ersetzt werden muss. Wenn Sie eine benutzerdefinierte Ressource in einer AWS CloudFormation-Vorlage aktualisieren, sendet AWS CloudFormation eine Aktualisierungsanforderung an die betreffende benutzerdefinierte Ressource. Wenn eine benutzerdefinierte Ressource ersetzt werden muss, muss die neu benutzerdefinierte Ressource eine Antwort mit der neuen physischen ID senden. When AWS CloudFormation die Antwort empfängt, wird die <code class="code">PhysicalResourceId</code> der alten und der neuen benutzerdefinierten Ressource verglichen. Wenn diese sich unterscheiden, erkennt AWS CloudFormation das Update als Ersatz und sendet eine Lösch-Anforderung an die alte Ressource, wie in <a href="#crpg-walkthrough-stack-deletion">Schritt 3: Löschen des Stacks</a> dargestellt.</p>
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Anmerkung</h6></div><div class="awsdocs-note-text"><p>Wenn Sie keine Änderungen an der benutzerdefinierten Ressource vorgenommen haben, sendet AWS CloudFormation während eines Stack-Updates keine Anforderungen.</p></div></div>
         <div class="orderedlist">
             
             
             
             
         <ol style="list-style-type:arabic ! important;"><li>
               <p>Der template developer initiiert ein Update für den Stack, der eine benutzerdefinierte Ressource enthält. Während eines Update kann template developer neue Eigenschaften in der Stack-Vorlage angeben.</p>
               <p>Nachfolgend sehen Sie ein Beispiel für ein <code class="code">Update</code> am der Stack-Vorlage mithilfe eines benutzerdefinierten Ressourcentyps:</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "AWSTemplateFormatVersion" : "2010-09-09",
   "Resources" : <span>{</span>
      "MySeleniumTest" : <span>{</span>
         "Type": "Custom::SeleniumTester",
         "Version" : "1.0",
         "Properties" : <span>{</span>
            "ServiceToken": "arn:aws:sns:us-west-2:123456789012:CRTest",
            "seleniumTester" : "SeleniumTest()",
            "endpoints" : [ "http://mysite.com", "http://myecommercesite.com/", "http://search.mysite.com",
               "http://mynewsite.com" ],
            "frequencyOfTestsPerHour" : [ "3", "2", "4", "3" ]
         }
      }
   },
   "Outputs" : <span>{</span>
      "topItem" : <span>{</span>
         "Value" : <span>{</span> "Fn::GetAtt" : ["MySeleniumTest", "resultsPage"] }
      },
      "numRespondents" : <span>{</span>
         "Value" : <span>{</span> "Fn::GetAtt" : ["MySeleniumTest", "lastUpdate"] }
      }
   }
}           </code></pre>
            </li><li>
               <p>AWS CloudFormation sendet eine Amazon SNS-Benachrichtigung mit einem an den Ressourcenanbieter, <code class="code">"RequestType" : "Update"</code> die ähnliche Informationen wie der -<code class="code">Create</code>Aufruf enthält, mit der Ausnahme, dass das <code class="code">OldResourceProperties</code> Feld die alten Ressourceneigenschaften und die aktualisierten Ressourceneigenschaften (falls vorhanden)  ResourceProperties enthält.</p>
               <p>Es folgt ein Beispiel für eine <code class="code">Update</code>-Anforderung.</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "RequestType" : "Update",
   "ResponseURL" : "http://pre-signed-S3-url-for-response",
   "StackId" : "arn:aws:cloudformation:us-west-2:123456789012:stack/stack-name/guid",
   "RequestId" : "uniqueid for this update request",
   "LogicalResourceId" : "MySeleniumTester",
   "ResourceType" : "Custom::SeleniumTester",  
   "PhysicalResourceId" : "Tester1",
   "ResourceProperties" : <span>{</span>
      "seleniumTester" : "SeleniumTest()",
      "endpoints" : [ "http://mysite.com", "http://myecommercesite.com/", "http://search.mysite.com",
         "http://mynewsite.com" ],
      "frequencyOfTestsPerHour" : [ "3", "2", "4", "3" ]
   },
   "OldResourceProperties" : <span>{</span>
      "seleniumTester" : "SeleniumTest()",
      "endpoints" : [ "http://mysite.com", "http://myecommercesite.com/", "http://search.mysite.com" ],
      "frequencyOfTestsPerHour" : [ "3", "2", "4" ]
   }
}          </code></pre>
            </li><li>
               <p>Der benutzerdefinierte Ressourcenanbieter verarbeitet die Daten, die von AWS CloudFormation gesendet wurden. Die benutzerdefinierte Ressource führt das Update durch und sendet eine Antwort von entweder <code class="code">SUCCESS</code> oder <code class="code">FAILED</code> an die S3-URL. AWS CloudFormation vergleicht dann die <code class="code">PhysicalResourceIDs</code> von alten und neuen benutzerdefinierten Ressourcen. Wenn diese sich unterscheiden, erkennt AWS CloudFormation dass das Update eine Ersetzung erfordert und sendet eine delete-Anforderung an die alte Ressource. Das folgende Beispiel zeigt die custom resource provider-Antwort auf eine <code class="code">Update</code>-Anforderung.</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Status" : "SUCCESS",
   "StackId" : "arn:aws:cloudformation:us-west-2:123456789012:stack/stack-name/guid",
   "RequestId" : "uniqueid for this update request",
   "LogicalResourceId" : "MySeleniumTester",
   "PhysicalResourceId" : "Tester2"
}           </code></pre>
               <p>Die <code class="code">StackId</code>, <code class="code">RequestId</code> und <code class="code">LogicalResourceId</code>-Felder müssen wörtlich aus der Anforderung kopiert werden.</p>
            </li><li>
               <p>AWS CloudFormation deklariert den Stack-Status als <code class="code">UPDATE_COMPLETE</code> oder <code class="code">UPDATE_FAILED</code>. Wenn das Update fehlschlägt, wird der Stack zurückgesetzt. Wenn der Stack erfolgreich aktualisiert wurde, kann der template developer auf neue Ausgabewerte der erstellten benutzerdefinierten mit <code class="code"><code class="code">Fn::GetAtt</code></code> zugreifen.</p>
            </li></ol></div>
         <p>Ausführliche Informationen zu den Anforderungs- und Antwortobjekten im Zusammenhang mit <code class="code">Update</code>-Anforderungen finden Sie unter <a href="./crpg-ref-requesttypes-update.html">Update</a> im <a href="./crpg-ref.html">Referenz für benutzerdefinierte Ressourcen</a>.</p>
       
      <h3 id="crpg-walkthrough-stack-deletion">Schritt 3: Löschen des Stacks</h3>
         
         <div class="orderedlist">
             
             
             
             
         <ol style="list-style-type:arabic ! important;"><li>
               <p>Der Vorlagen-Entwickler löscht einen Stack, der eine benutzerdefinierte Ressource enthält. AWS CloudFormation ruft die aktuellen Eigenschaften, die in der Stack-Vorlage angegeben sind, zusammen mit dem SNS-Thema ab und bereitet sich darauf vor, eine Anforderung an den benutzerdefinierten Ressourcenanbieter zu stellen.</p>
            </li><li>
               <p>AWS CloudFormation sendet eine Amazon SNS-Benachrichtigung mit einem <code class="code">"RequestType" : "Delete"</code> an den Ressourcenanbieter, die aktuelle Informationen zu dem Stack, den benutzerdefinierten Ressourceneigenschaften aus der Stack-Vorlage und eine S3-URL für die Antwort enthält.</p>
               <p>Jedes Mal, wenn Sie einen Stack löschen oder ein Update vornehmen, das die benutzerdefinierte Ressource entfernt oder ersetzt, vergleicht AWS CloudFormation die <code class="code">PhysicalResourceId</code> zwischen der alten und neuen benutzerdefinierten Ressource. Wenn diese sich unterscheiden, erkennt AWS CloudFormation das Update als Ersatz und sendet eine Lösch-Anforderung für die alte Ressource (<code class="code">OldPhysicalResource</code>), wie im folgenden Beispiel einer <code class="code">Delete</code>-Anforderung dargestellt.</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "RequestType" : "Delete",
   "ResponseURL" : "http://pre-signed-S3-url-for-response",
   "StackId" : "arn:aws:cloudformation:us-west-2:123456789012:stack/stack-name/guid",
   "RequestId" : "unique id for this delete request",
   "ResourceType" : "Custom::SeleniumTester",
   "LogicalResourceId" : "MySeleniumTester",
   "PhysicalResourceId" : "Tester1",
   "ResourceProperties" : <span>{</span>
      "seleniumTester" : "SeleniumTest()",
      "endpoints" : [ "http://mysite.com", "http://myecommercesite.com/", "http://search.mysite.com",
         "http://mynewsite.com" ],
      "frequencyOfTestsPerHour" : [ "3", "2", "4", "3" ]
   }
}    
            </code></pre>
               <p><code class="code">DescribeStackResource</code>, <code class="code">DescribeStackResources</code> und <code class="code">ListStackResources</code> zeigen den benutzerdefinierten Namen an, wenn er angegeben wurde.</p>
            </li><li>
               <p>Der benutzerdefinierte Ressourcenanbieter verarbeitet die Daten, die von AWS CloudFormation gesendet werden und bestimmt, ob die <code class="code">Delete</code>-Anforderung erfolgreich war. Der Ressourcenanbieter verwendet dann die von AWS CloudFormation gesendete S3-URL, um die Antwort <code class="code">SUCCESS</code> oder <code class="code">FAILED</code> zu senden. Wenn Sie eine benutzerdefinierte Ressource löschen möchten, muss custom resource provider erfolgreich auf eine Löschenanfrage antworten.</p>
               <p>Das folgende Beispiel zeigt die custom resource provider-Antwort auf eine <code class="code">Delete</code>-Anforderung.</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Status" : "SUCCESS",
   "StackId" : "arn:aws:cloudformation:us-west-2:123456789012:stack/stack-name/guid",
   "RequestId" : "unique id for this delete request",
   "LogicalResourceId" : "MySeleniumTester",
   "PhysicalResourceId" : "Tester1"
}         </code></pre>
               <p>Die <code class="code">StackId</code>, <code class="code">RequestId</code> und <code class="code">LogicalResourceId</code>-Felder müssen wörtlich aus der Anforderung kopiert werden.</p>
            </li><li>
               <p>AWS CloudFormation deklariert den Stack-Status als <code class="code">DELETE_COMPLETE</code> oder <code class="code">DELETE_FAILED</code>.</p>
            </li></ol></div>
         <p>Ausführliche Informationen zu den Anforderungs- und Antwortobjekten im Zusammenhang mit <code class="code">Delete</code>-Anforderungen finden Sie unter <a href="./crpg-ref-requesttypes-delete.html">Delete</a> im <a href="./crpg-ref.html">Referenz für benutzerdefinierte Ressourcen</a>.</p>
       
      <h3 id="w9aac23c26c14b5c12">Weitere Informationen finden Sie auch unter</h3>
         
         <div class="itemizedlist">
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p><a href="./crpg-ref.html">AWS CloudFormation Referenz für benutzerdefinierte Ressourcen</a></p>
            </li><li class="listitem">
               <p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-customresource.html"><code class="code">AWS::CloudFormation::CustomResource</code></a></p>
            </li><li class="listitem">
               <p><a href="./intrinsic-function-reference-getatt.html">Fn::GetAtt</a></p>
            </li></ul></div>
       
   <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warnung" /> <strong>JavaScript ist in Ihrem Browser nicht verfügbar oder deaktiviert.</strong></p><p>Zur Nutzung der AWS-Dokumentation muss JavaScript aktiviert sein. Weitere Informationen finden auf den Hilfe-Seiten Ihres Browsers.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Dokumentkonventionen</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./template-custom-resources.html">Benutzerdefinierte Ressourcen</div><div id="next" class="next-link" accesskey="n" href="./template-custom-resources-lambda.html">AWS Lambda-gestützte, benutzerdefinierte Ressourcen</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Ja</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass wir gute Arbeit geleistet haben!</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, was wir richtig gemacht haben, damit wir noch besser werden?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Nein</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass diese Seite überarbeitet werden muss. Es tut uns Leid, dass wir Ihnen nicht weiterhelfen konnten.</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, wie wir die Dokumentation verbessern können?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>