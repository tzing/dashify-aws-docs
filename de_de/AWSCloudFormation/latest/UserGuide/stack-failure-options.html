<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="de-DE"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Stack-Fehleroptionen - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="stack-failure-options" /><meta name="default_state" content="stack-failure-options" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" /><meta name="description" content="Sie können Ihre Anwendungen iterativ entwickeln, wenn Provisionierungsfehler auftreten, indem Sie ab dem Punkt des Fehlers beginnen, ohne erfolgreich bereitgestellte Ressourcen rückgängig zu machen." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Leitfaden" /><meta name="abstract" content="Erstellen und verwalten Sie AWS Infrastrukturbereitstellungen vorhersehbar und wiederholt mithilfe von AWS CloudFormation mit diesem Benutzerhandbuch." /><meta name="guide-locale" content="de_de" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Leitfaden" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Leitfaden" /><meta id="panorama-serviceConsolePage" value="Stack-Fehleroptionen" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Stack-Fehleroptionen - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,Ressourcenbereitstellung,Ressourcenkonfiguration,Infrastrukturverwaltung,CloudFormer,CloudFormation -Stack,CloudFormation Stackset,CloudFormation -Vorlage,Änderungssatz" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Leitfaden",
        "item" : "https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Arbeiten mit -Stacks",
        "item" : "https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/stacks.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Stack-Fehleroptionen",
        "item" : "https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/stacks.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Dokumentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Leitfaden</a></div><div id="page-toc-src"><a href="#stack-failure-options-overview">Überblick über Optionen für Stack-Ausfälle</a><a href="#stack-failure-options-conditions">Bedingungen zum Anhalten des Stack-Rollbacks</a><a href="#stack-failure-options-console">Erfolgreich bereitgestellte Ressourcen beibehalten (Konsole)</a><a href="#stack-failure-options-cli">Erfolgreich bereitgestellte Ressourcen beibehalten (AWS CLI)</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Die vorliegende Übersetzung wurde maschinell erstellt. Im Falle eines Konflikts oder eines Widerspruchs zwischen dieser übersetzten Fassung und der englischen Fassung (einschließlich infolge von Verzögerungen bei der Übersetzung) ist die englische Fassung maßgeblich.</p></awsui-alert><h1 class="topictitle" id="stack-failure-options">Stack-Fehleroptionen</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Sie können Ihre Anwendungen iterativ entwickeln, wenn Provisionierungsfehler auftreten, indem Sie ab dem Punkt des Fehlers beginnen, ohne erfolgreich bereitgestellte Ressourcen rückgängig zu machen. Durch die Angabe von Optionen für den Stackausfall können Sie Probleme mit Ressourcen in <code class="code">CREATE_FAILED</code> oder <code class="code">UPDATE_FAILED</code> beheben. Sie können Fehleroptionen für alle Stack-Bereitstellungen und Änderungssatz-Vorgänge bereitstellen.</p><div class="itemizedlist">
   
   
  
 <ul class="itemizedlist"><li class="listitem">
   <p>Erstellungsvorgänge, die auf <b>Erfolgreich bereitgestellte Ressourcen beibehalten</b> festgelegt sind, bewahren den Status erfolgreicher Ressourcen, während fehlerhafte Ressourcen in einem fehlerhaften Status verbleiben, bis der nächste Aktualisierungsvorgang durchgeführt wird.</p>
  </li><li class="listitem">
   <p>Aktualisierungs- und Änderungssatz-Vorgänge, die auf <b>Erfolgreich bereitgestellte Ressourcen beibehalten</b> festgelegt sind, behalten den Status erfolgreicher Ressourcen bei, während fehlerhafte Ressourcen auf den letzten bekannten stabilen Status zurückgesetzt werden. Fehlgeschlagene Ressourcen befinden sich in einem <code class="code">UPDATE_FAILED</code>-Status. Ressourcen ohne letzten bekannten stabilen Zustand werden beim nächsten Stack-Vorgang gelöscht.</p>
  </li></ul></div><p>Weitere Informationen zum Anhalten des Rollbacks von ausgefallenen Ressourcen finden Sie in folgenden Abschnitten:</p><div class="itemizedlist">
   
   
   
   
 <ul class="itemizedlist"><li class="listitem">
   <p><a href="#stack-failure-options-overview">Überblick über Optionen für Stack-Ausfälle</a></p>
  </li><li class="listitem">
   <p><a href="#stack-failure-options-conditions">Bedingungen zum Anhalten des Stack-Rollbacks</a></p>
  </li><li class="listitem">
   <p><a href="#stack-failure-options-console">Erfolgreich bereitgestellte Ressourcen beibehalten (Konsole)</a></p>
  </li><li class="listitem">
   <p><a href="#stack-failure-options-cli">Erfolgreich bereitgestellte Ressourcen beibehalten (AWS CLI)</a></p>
  </li></ul></div>
  <h2 id="stack-failure-options-overview">Überblick über Optionen für Stack-Ausfälle</h2>
  <p>Bevor Sie einen Vorgang von der AWS CloudFormation-Konsole, oder AWS Command Line Interface (AWS CLI) auslösen, geben Sie das Verhalten für einen Ausfall bereitgestellter Ressourcen an. Fahren Sie dann mit dem Bereitstellungsprozess Ihrer Ressourcen fort, ohne weitere Änderungen vorzunehmen. Im Falle eines Betriebsausfalls stoppt CloudFormation beim ersten Ausfall in jedem unabhängigen Bereitstellungspfad. CloudFormation identifiziert Abhängigkeiten zwischen Ressourcen, um unabhängige Bereitstellungsaktionen zu parallelisieren. Anschließend werden Ressourcen auf jedem unabhängigen Bereitstellungspfad bereitgestellt, bis ein Fehler auftritt. Ein Ausfall in einem Pfad wirkt sich nicht auf andere Bereitstellungspfade aus. CloudFormation stellt die Ressourcen bis zum Abschluss weiter bereit oder stoppt bei einem anderen Ausfall.</p>
  <p>Korrigieren Sie alle Probleme, um den Bereitstellungsprozess fortzusetzen. CloudFormation führt die erforderlichen Updates durch, bevor es erneut Bereitstellungsaktionen für Ressourcen versucht, die zuvor nicht erfolgreich bereitgestellt werden konnten. Sie beheben Probleme, indem Sie <b>Retry</b>-, <b>Update</b>- oder <b>Rollback</b>-Vorgänge einsenden. Wenn Sie beispielsweise eine Amazon-EC2-Instance bereitstellen und die EC2-Instance während eines Erstellungsvorgangs fehlschlägt, sollten Sie den Fehler untersuchen, anstatt die ausgefallene Ressource sofort rückgängig zu machen. Sie können System-Statusprüfungen und Instance-Statusprüfungen überprüfen und dann den <b>Retry</b>-Vorgang auswählen, sobald die Probleme gelöst sind.</p>
  
  
  <p>Wenn ein Stack-Vorgang fehlschlägt und Sie <b>Preserve successfully provisioned resources</b> (Erfolgreich bereitgestellte Ressourcen beibehalten) aus dem <b>Stack failure options</b> (Stack-Fehleroptionen)-Menü angegeben haben, können Sie die folgenden Optionen auswählen.</p>
  <div class="itemizedlist">
    
    
    
  <ul class="itemizedlist"><li class="listitem">
    <p><b>Retry</b> – Versuchte den Bereitstellungsvorgang für ausgefallene Ressourcen erneut und setzt die Bereitstellung der Vorlage fort, bis der Stack-Vorgang erfolgreich abgeschlossen ist oder der nächste Fehler auftritt. Wählen Sie diese Option, wenn die Ressource aufgrund eines Problems, das keine Änderungen an der Vorlage erfordert, nicht bereitgestellt werden konnte, z. B. AWS Identity and Access Management (IAM)-Berechtigung.</p>
   </li><li class="listitem">
    <p><b>Update</b> – Ressourcen, die bereitgestellt wurden, werden bei Vorlagen-Aktualisierungen aktualisiert. Ressourcen, die nicht erstellt oder aktualisiert wurden, werden erneut versucht. Wählen Sie diese Option, wenn die Ressource aufgrund von Vorlagenfehlern nicht bereitgestellt werden konnte und Sie die Vorlage geändert haben. Wenn Sie einen Stack aktualisieren, der sich in einem <code class="code">FAILED</code>-Status befindet, müssen Sie unter <b>Stack failure options</b> (Stack-Fehleroptionen) <b>Preserve successfully provisioned resources</b> (Erfolgreich bereitgestellte Ressourcen beibehalten) auswählen, um mit der Aktualisierung Ihres Stacks fortzufahren.</p>
   </li><li class="listitem">
    <p><b>Rollback</b> – CloudFormation setzt den Stack auf den letzten bekannten stabilen Zustand zurück.</p>
   </li></ul></div>

 
  
  <h2 id="stack-failure-options-conditions">Bedingungen zum Anhalten des Stack-Rollbacks</h2>
  <p>Zum Anhalten des Rollbacks von ausgefallenen Ressourcen in Ihrem Stack müssen die folgenden Bedingungen erfüllt sein.</p>
  <div class="itemizedlist">
    
    
  <ul class="itemizedlist"><li class="listitem">
    <p>Sie müssen den Parameter <b>Preserve successfully provisioned resources</b> (Erfolgreich bereitgestellte Ressourcen beibehalten) während eines Stack-Vorgangs angeben. Weitere Informationen zum Rollback-Verhalten finden Sie unter <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-console-add-tags.html#rollback">Einstellen der AWS CloudFormation-Stack-Optionen</a>.</p>
   </li><li class="listitem">
    <p>Ein Stack-Vorgang muss den Stack-Status <code class="code">CREATE_FAILED</code> oder <code class="code">UPDATE_FAILED</code> haben. Weitere Informationen zum Stack-Status finden Sie unter <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-describing-stacks.html#w2ab1c23c15c17c11">Stack-Statuscodes </a>.</p>
   </li></ul></div>
  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Anmerkung</h6></div><div class="awsdocs-note-text"><p>Unveränderliche Update-Typen werden nicht unterstützt.</p></div></div>
  
  <h2 id="stack-failure-options-console">Erfolgreich bereitgestellte Ressourcen beibehalten (Konsole)</h2>
  <awsdocs-tabs><dl style="display: none">
   <dt>Create stack</dt><dd tab-id="create-stack">
     <div class="procedure"><h6>So können Sie erfolgreich bereitgestellte Ressourcen während eines Stack-Erstellungsvorgangs beibehalten</h6><ol><li><p>Melden Sie sich bei der AWS Management Console an und öffnen Sie die AWS CloudFormation-Konsole unter <a href="https://console.aws.amazon.com/cloudformation/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/cloudformation</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
       <p>Wählen Sie <b>Create stack</b> (Stack erstellen) und dann <b>With new resources (standard)</b> (Mit neuen Ressourcen (Standard)).</p>
      </li><li>
       <p>Wählen Sie auf der Seite <b>Specify Template (Vorlage angeben)</b> mithilfe einer der folgenden Optionen eine Stack-Vorlage aus:</p>
       <div class="itemizedlist">
         
         
         
       <ul class="itemizedlist"><li class="listitem">
         <p><b>Vorlage ist bereit</b></p>
        </li><li class="listitem">
         <p><b>Verwenden einer Beispielvorlage</b></p>
        </li><li class="listitem">
         <p><b>Erstellen einer Vorlage in Designer</b></p>
        </li></ul></div>
       <p>Übernehmen Sie Ihre Einstellungen und wählen Sie <b>Next</b> (Weiter).</p>
      </li><li>
       <p>Geben Sie auf der Seite <b>Specify stack details</b> (Stack-Details angeben) einen Stack-Namen in das Feld <b>Stack name</b> ein.</p>
      </li><li>
       <p>Geben Sie im Abschnitt <b>Parameter</b> die Parameter an, die in Ihrer Stack-Vorlage definiert sind.</p>
       <p>Sie können beliebige Parameter mit Standardwerten verwenden oder ändern.</p>
      </li><li>
       <p>Wenn Sie mit den Parameterwerten zufrieden sind, wählen Sie <b>Next</b> (Weiter).</p>
      </li><li>
       <p>Auf der Seite <b>Configure stack options</b> (Stack-Optionen konfigurieren) können Sie zusätzliche Optionen für Ihren Stack einrichten.</p>
      </li><li>
       <p>Für <b>Stack failure options</b> (Stack-Fehleroptionen), wählen Sie <b>Preserve successfully provisioned resources</b> (Erfolgreich bereitgestellte Ressourcen beibehalten).</p>
      </li><li>
       <p>Wenn Sie mit den Stack-Optionen zufrieden sind, wählen Sie <b>Next</b> (Weiter).</p>
      </li><li>
       <p>Überprüfen Sie Ihren Stack auf der Seite <b>Review</b> (Überprüfen) und wählen Sie <b>Create stack</b> (Stack erstellen).</p>
      </li></ol></div>
     <p><em>Ergebnisse</em>: Ressourcen, die nicht erstellt werden konnten, übertragen den Stack-Status auf <code class="code">CREATE_FAILED</code>, um zu verhindern, dass der Stack zurückgesetzt wird, wenn der Stack-Vorgang auf einen Fehler trifft. Ressourcen, die erfolgreich bereitgestellt wurden, befinden sich in einem <code class="code">CREATE_COMPLETE</code>-Status. Sie können den Stack auf der Registerkarte <b>Stack events</b> (Stack-Ereignisse) überwachen.</p>
    </dd>
   <dt>Update stack</dt><dd tab-id="update-stack">
     <div class="procedure"><h6>Beibehaltung erfolgreich bereitgestellter Ressourcen während eines Stack-Aktualisierungsvorgangs.</h6><ol><li><p>Melden Sie sich bei der AWS Management Console an und öffnen Sie die AWS CloudFormation-Konsole unter <a href="https://console.aws.amazon.com/cloudformation/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/cloudformation</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
       <p>Wählen Sie den Stack aus, den Sie aktualisieren möchten, und anschließend <b>Update</b> (Aktualisieren).</p>
      </li><li>
       <p>Wählen Sie auf der Seite <b>Update stack</b> (Stack aktualisieren) mit einer der folgenden Optionen eine Stack-Vorlage aus:</p>
       <div class="itemizedlist">
         
         
         
       <ul class="itemizedlist"><li class="listitem">
         <p><b>Use current template</b> (Aktuelle Vorlage verwenden)</p>
        </li><li class="listitem">
         <p><b>Replace current template</b> (Aktuelle Vorlage ersetzen)</p>
        </li><li class="listitem">
         <p><b>Edit template in designer</b> (Vorlage in Designer bearbeiten)</p>
        </li></ul></div>
       <p>Übernehmen Sie Ihre Einstellungen und wählen Sie <b>Next</b> (Weiter).</p>
      </li><li>
       <p>Auf der Seite <b>Specify stack details</b> (Stack-Details angeben), legen Sie die Parameter fest, die in Ihrer Stack-Vorlage definiert sind.</p>
       <p>Sie können beliebige Parameter mit Standardwerten verwenden oder ändern.</p>
      </li><li>
       <p>Wenn Sie mit den Parameterwerten zufrieden sind, wählen Sie <b>Next</b> (Weiter).</p>
      </li><li>
       <p>Auf der Seite <b>Configure stack options</b> (Stack-Optionen konfigurieren) können Sie zusätzliche Optionen für Ihren Stack einrichten.</p>
      </li><li>
       <p>Wählen Sie für <b>Behaviour on provisioning failure</b> (Verhalten bei Bereitstellungsausfall) <b>Preserve successfully provisioned resources</b> (Erfolgreich bereitgestellte Ressourcen beibehalten).</p>
      </li><li>
       <p>Wenn Sie mit den Stack-Optionen zufrieden sind, wählen Sie <b>Next</b> (Weiter).</p>
      </li><li>
       <p>Überprüfen Sie Stack auf der Seite <b>Review</b> (Überprüfen) und wählen Sie <b>Update stack</b> (Stack aktualisieren).</p>
      </li></ol></div>
     <p><em>Ergebnisse</em>: Ressourcen, die nicht aktualisiert werden konnten, übertragen den Stack-Status auf <code class="code">UPDATE_FAILED</code> und setzen Sie auf den letzten bekannten stabilen Zustand zurück. Ressourcen ohne letzten bekannten stabilen Zustand werden beim nächsten Stack-Vorgang von CloudFormation gelöscht. Ressourcen, die erfolgreich bereitgestellt wurden, befinden sich in einem <code class="code">CREATE_COMPLETE</code>- oder <code class="code">UPDATE_COMPLETE</code>-Status. Sie können den Stack auf der Registerkarte <b>Stack events</b> (Stack-Ereignisse) überwachen.</p>
    </dd>
   <dt>Change set</dt><dd tab-id="change-set">
     <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Anmerkung</h6></div><div class="awsdocs-note-text"><p>Sie können einen Änderungssatz für einen Stack mit dem Status von <code class="code">CREATE_FAILED</code> oder <code class="code">UPDATE_FAILED</code> initiieren nicht aber für einen Status von <code class="code">UPDATE_ROLLBACK_FAILED</code>.</p></div></div>
     <div class="procedure"><h6>So können Sie erfolgreich bereitgestellte Ressourcen während eines Änderungssatz-Vorgangs beibehalten</h6><ol><li><p>Melden Sie sich bei der AWS Management Console an und öffnen Sie die AWS CloudFormation-Konsole unter <a href="https://console.aws.amazon.com/cloudformation/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/cloudformation</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
       <p>Wählen Sie den Stack mit dem Änderungssatz, den Sie starten möchten, und klicken Sie dann auf die Registerkarte <b>Change sets</b> (Änderungssätze).</p>
      </li><li>
       <p>Wählen Sie den Änderungssatz aus und klicken Sie dann auf <b>Execute</b> (Ausführen).</p>
      </li><li>
       <p>Wählen Sie für <b>Execute change set</b> (Änderungssatz ausführen) die Option <b>Preserve successfully provisioned resources</b> (Erfolgreich bereitgestellte Ressourcen beibehalten).</p>
      </li><li>
       <p>Wählen Sie <b>Execute change set</b> (Änderungssatz ausführen).</p>
      </li></ol></div>
     <p><em>Ergebnisse</em>: Ressourcen, die nicht aktualisiert werden konnten, übertragen den Stack-Status auf <code class="code">UPDATE_FAILED</code> und setzen Sie auf den letzten bekannten stabilen Zustand zurück. Ressourcen ohne letzten bekannten stabilen Zustand werden beim nächsten Stack-Vorgang von CloudFormation gelöscht. Ressourcen, die erfolgreich bereitgestellt wurden, befinden sich in einem <code class="code">CREATE_COMPLETE</code>- oder <code class="code">UPDATE_COMPLETE</code>-Status. Sie können den Stack auf der Registerkarte <b>Stack events</b> (Stack-Ereignisse) überwachen.</p>
    </dd>
  </dl></awsdocs-tabs>
  
  <h2 id="stack-failure-options-cli">Erfolgreich bereitgestellte Ressourcen beibehalten (AWS CLI)</h2>
  <awsdocs-tabs><dl style="display: none">
   <dt>Create stack</dt><dd tab-id="create-stack">
     <div class="procedure"><h6>So können Sie erfolgreich bereitgestellte Ressourcen während eines Stack-Erstellungsvorgangs beibehalten</h6><p>Geben Sie die <code class="code">disable-rollback</code>-Option oder die <code class="code">on-failure DO_NOTHING</code>-Aufzählung während eines <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/create-stack.html">create-stack</a>-Vorgangs ein.</p><ol><li>
       <p>Geben Sie einen Stack-Namen und eine Vorlage für den <code class="code">create-stack</code>-Befehl mit der <code class="code">disable-rollback</code>-Option an.</p>
       <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">aws cloudformation create-stack --stack-name <code class="code" copy="true">myteststack</code> --template-body <code class="replaceable">file://DOC-EXAMPLE-BUCKET.json</code> --disable-rollback</code></pre>
       <p>Der Befehl gibt die folgende Ausgabe zurück.</p>
       <pre class="screen"><span>{</span>
    "StackId": "arn:aws:cloudformation:us-east-1:123456789012:stack/myteststack/466df9e0-0dff-08e3-8e2f-5088487c4896"
}</pre>
      </li><li>
       <p>Beschreiben Sie den Status des Stacks mithilfe der <code class="code">describe-stacks</code>-Option.</p>
       <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">aws cloudformation describe-stacks --stack-name <code class="replaceable">myteststack</code></code></pre>
       <p>Der Befehl gibt die folgende Ausgabe zurück.</p>
       <pre class="screen"><span>{</span>
    "Stacks":  [
        <span>{</span>
            "StackId": "arn:aws:cloudformation:us-east-1:123456789012:stack/myteststack/466df9e0-0dff-08e3-8e2f-5088487c4896",
            "Description": "AWS CloudFormation Sample Template",
            "Tags": [],
            "Outputs": [],
            "StackStatusReason": “The following resource(s) failed to create: [MyBucket]”,
            "CreationTime": "2013-08-23T01:02:15.422Z",
            "Capabilities": [],
            "StackName": "myteststack",
            "StackStatus": "CREATE_FAILED",
            "DisableRollback": true
        }
    ]
}</pre>
      </li></ol></div>
    </dd>
   <dt>Update stack</dt><dd tab-id="update-stack">
     <div class="procedure"><h6>So können Sie erfolgreich bereitgestellter Ressourcen während eines Stack-Aktualisierungsvorgangs beibehalten.</h6><ol><li>
       <p>Geben Sie einen vorhandenen Stack-Namen und eine Vorlage für den <code class="code">update-stack</code>-Befehl mit der <code class="code">disable-rollback</code>-Option an.</p>
       <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">aws cloudformation update-stack --stack-name <code class="replaceable">myteststack</code> --template-url <code class="replaceable">DOC-EXAMPLE-BUCKET.template</code> --disable-rollback</code></pre>
       <p>Der Befehl gibt die folgende Ausgabe zurück.</p>
       <pre class="screen"><span>{</span>
    "StackId": "arn:aws:cloudformation:us-east-1:123456789012:stack/myteststack/466df9e0-0dff-08e3-8e2f-5088487c4896"
}</pre>
      </li><li>
       <p>Beschreiben Sie den Status des Stacks mithilfe der Option <code class="code">describe-stacks</code> oder <code class="code">describe-stack-events</code>.</p>
       <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">aws cloudformation describe-stacks --stack-name <code class="replaceable">myteststack</code></code></pre>
       <p>Der Befehl gibt die folgende Ausgabe zurück.</p>
       <pre class="screen"><span>{</span>
    "Stacks":  [
        <span>{</span>
            "StackId": "arn:aws:cloudformation:us-east-1:123456789012:stack/myteststack/466df9e0-0dff-08e3-8e2f-5088487c4896",
            "Description": "AWS CloudFormation Sample Template",
            "Tags": [],
            "Outputs": [],
            "CreationTime": "2013-08-23T01:02:15.422Z",
            "Capabilities": [],
            "StackName": "myteststack",
            "StackStatus": "UPDATE_COMPLETE",
            "DisableRollback": true
        }
    ]
}</pre>
      </li></ol></div>
    </dd>
   <dt>Change set</dt><dd tab-id="change-set">
     <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Anmerkung</h6></div><div class="awsdocs-note-text"><p>Sie können einen Änderungssatz für einen Stack mit dem Status von <code class="code">CREATE_FAILED</code> oder <code class="code">UPDATE_FAILED</code> starten nicht aber für einen Status von <code class="code">UPDATE_ROLLBACK_FAILED</code>.</p></div></div>
     <div class="procedure"><h6>So können Sie erfolgreich bereitgestellte Ressourcen während eines Änderungssatz-Vorgangs beibehalten</h6><p>Geben Sie die <code class="code">disable-rollback</code>-Option während eines <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/execute-change-set.html">execute-change-set</a>-Vorgangs ein.</p><ol><li>
       <p>Geben Sie einen Stack-Namen und eine Vorlage für den <code class="code">execute-change-set</code>-Befehl mit der <code class="code">disable-rollback</code>-Option an.</p>
       <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">aws cloudformation execute-change-set --stack-name <code class="replaceable">myteststack</code> --change-set-name <code class="replaceable">my-change-set</code> --template-body file://template.yaml</code></pre>
       <p>Der Befehl gibt die folgende Ausgabe zurück.</p>
       <pre class="screen"><span>{</span>
 "Id": "arn:aws:cloudformation:us-east-1:123456789012:changeSet/my-change-set/bc9555ba-a949-xmpl-bfb8-f41d04ec5784",
 "StackId": "arn:aws:cloudformation:us-east-1:123456789012:stack/myteststack/466df9e0-0dff-08e3-8e2f-5088487c4896"
}</pre>
      </li><li>
       <p>Starten Sie den Änderungssatz mit Option <code class="code">disable-rollback</code>.</p>
       <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">aws cloudformation execute-change-set --stack-name <code class="replaceable">myteststack</code> --change-set-name <code class="replaceable">my-change-set</code> -–disable-rollback</code></pre>
      </li><li>
       <p>Ermitteln Sie den Status des Stacks mit der Option <code class="code">describe-stacks</code> oder <code class="code">describe-stack-events</code>.</p>
       <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "StackEvents": [
     <span>{</span>
        "StackId": "arn:aws:cloudformation:us-east-1:123456789012:stack/myteststack/466df9e0-0dff-08e3-8e2f-5088487c4896",
        "EventId": "49c966a0-7b74-11ea-8071-024244bb0672",
        "StackName": "myteststack",
        "LogicalResourceId": " MyBucket",
        "PhysicalResourceId": "MyBucket",
        "ResourceType": "AWS::S3::Bucket",
        "Timestamp": "2020-04-10T21:43:17.015Z",
        "ResourceStatus": "UPDATE_FAILED"
        "ResourceStatusReason": "User XYZ is not allowed to perform S3::UpdateBucket on MyBucket"
     }
}</code></pre>
      </li><li>
       <p>Korrigieren Sie Berechtigungsfehler und versuchen Sie den Vorgang erneut.</p>
       <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">aws cloudformation update-stack --stack-name <code class="replaceable">myteststack</code> --use-previous-template --disable-rollback</code></pre>
       <p>Der Befehl gibt die folgende Ausgabe zurück.</p>
       <pre class="screen"><span>{</span>
    "StackId": "arn:aws:cloudformation:us-east-1:123456789012:stack/myteststack/466df9e0-0dff-08e3-8e2f-5088487c4896"
}</pre>
      </li><li>
       <p>Beschreiben Sie den Status des Stacks mithilfe der Option <code class="code">describe-stacks</code> oder <code class="code">describe-stack-events</code>.</p>
       <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">aws cloudformation describe-stacks --stack-name <code class="replaceable">myteststack</code></code></pre>
       <p>Der Befehl gibt die folgende Ausgabe zurück.</p>
       <pre class="screen"><span>{</span>
    "Stacks":  [
        <span>{</span>
            "StackId": "arn:aws:cloudformation:us-east-1:123456789012:stack/myteststack/466df9e0-0dff-08e3-8e2f-5088487c4896",
            "Description": "AWS CloudFormation Sample Template",
            "Tags": [],
            "Outputs": [],
            "CreationTime": "2013-08-23T01:02:15.422Z",
            "Capabilities": [],
            "StackName": "myteststack",
            "StackStatus": "UPDATE_COMPLETE",
            "DisableRollback": true
        }
    ]
}</pre>
      </li></ol></div>
    </dd>
  </dl></awsdocs-tabs>
  
   
   <h3 id="roll-back-stack-cli">Rollback des Stacks</h3>
   
   <div class="procedure"><h6>So führen Sie ein Rollback für einen Stack mit dem Stack-Status CREATE_FAILED oder UPDATE_FAILED aus</h6><p>Geben Sie den <code class="code">rollback-stack</code>-Vorgang an, um einen Stack in seinen letzten stabilen Zustand zurückzusetzen.</p><ul><li>
     <p>Starten Sie einen Rollback, indem Sie den <code class="code">rollback-stack</code>-Vorgang verwenden und den Stack-Namen angeben.</p>
     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">aws cloudformation rollback-stack --stack-name <code class="replaceable">myteststack</code></code></pre>
     <p>Der Befehl gibt die folgende Ausgabe zurück.</p>
     <pre class="screen"><span>{</span>
    "StackId": "arn:aws:cloudformation:us-east-1:123456789012:stack/myteststack/466df9e0-0dff-08e3-8e2f-5088487c4896"
}</pre>
    </li></ul></div>
   <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Anmerkung</h6></div><div class="awsdocs-note-text"><p>Der <code class="code">rollback-stack</code>-Vorgang löscht einen Stack, wenn er keinen letzten bekannten stabilen Zustand enthält.</p></div></div>
   
  
 <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warnung" /> <strong>JavaScript ist in Ihrem Browser nicht verfügbar oder deaktiviert.</strong></p><p>Zur Nutzung der AWS-Dokumentation muss JavaScript aktiviert sein. Weitere Informationen finden auf den Hilfe-Seiten Ihres Browsers.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Dokumentkonventionen</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./stack-resource-configuration-complete.html">Stack-Bereitstellung</div><div id="next" class="next-link" accesskey="n" href="./refactor-stacks.html">Verschieben von Ressourcen zwischen Stacks</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Ja</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass wir gute Arbeit geleistet haben!</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, was wir richtig gemacht haben, damit wir noch besser werden?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/stack-failure-options.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Nein</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass diese Seite überarbeitet werden muss. Es tut uns Leid, dass wir Ihnen nicht weiterhelfen konnten.</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, wie wir die Dokumentation verbessern können?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/stack-failure-options.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>