<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="de-DE"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>DependsOn Attribut - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="aws-attribute-dependson" /><meta name="default_state" content="aws-attribute-dependson" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" /><meta name="description" content="Geben Sie CloudFormation mit dem DependsOn Attribut an, dass die Erstellung einer bestimmten Ressource von einer anderen Ressource in abhängt." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Leitfaden" /><meta name="abstract" content="Erstellen und verwalten Sie AWS Infrastrukturbereitstellungen vorhersehbar und wiederholt mithilfe von AWS CloudFormation mit diesem Benutzerhandbuch." /><meta name="guide-locale" content="de_de" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Leitfaden" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Leitfaden" /><meta id="panorama-serviceConsolePage" value="DependsOn Attribut" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>DependsOn Attribut - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,Ressourcenbereitstellung,Ressourcenkonfiguration,Infrastrukturverwaltung,CloudFormer,CloudFormation -Stack,CloudFormation Stackset,CloudFormation -Vorlage,Änderungssatz" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Leitfaden",
        "item" : "https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Vorlage – Referenz",
        "item" : "https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/template-reference.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Referenz Ressourcenattribut:",
        "item" : "https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-product-attribute-reference.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "DependsOn Attribut",
        "item" : "https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-product-attribute-reference.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Dokumentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Leitfaden</a></div><div id="page-toc-src"><a href="#aws-attribute-dependson-syntax">Syntax</a><a href="#aws-attribute-dependson-example">Beispiel</a><a href="#gatewayattachment">Wann ein DependsOn-Attribut erforderlich ist</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Die vorliegende Übersetzung wurde maschinell erstellt. Im Falle eines Konflikts oder eines Widerspruchs zwischen dieser übersetzten Fassung und der englischen Fassung (einschließlich infolge von Verzögerungen bei der Übersetzung) ist die englische Fassung maßgeblich.</p></awsui-alert><h1 class="topictitle" id="aws-attribute-dependson"><code class="code">DependsOn</code> Attribut</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Mit dem <code class="code">DependsOn</code>-Attribut können Sie angeben, dass die Erstellung einer bestimmten Ressource einer anderen folgt. Wenn Sie einer Ressource ein <code class="code">DependsOn</code>-Attribut hinzufügen, wird die Ressource erst nach der Erstellung der im <code class="code">DependsOn</code>-Attribut angegebenen Ressource erstellt.</p><div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Wichtig</h6></div><div class="awsdocs-note-text"><p>Abhängige Stacks haben auch implizite Abhängigkeiten in Form der Zieleigenschaften <code class="code">!Ref</code>, <code class="code">!GetAtt</code> und <code class="code">!Sub</code>. Wenn beispielsweise die Eigenschaften der Ressource A einen <code class="code">!Ref</code> auf Ressource B verwenden, gelten die folgenden Regeln:</p><div class="itemizedlist">
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>Ressource B wird vor Ressource A erstellt.</p>
            </li><li class="listitem">
                <p>Ressource A wird vor Ressource B gelöscht.</p>
            </li><li class="listitem">
                <p>Ressource B wird vor Ressource A aktualisiert.</p>
            </li></ul></div></div></div><p>Sie können das <code class="code">DependsOn</code>-Attribut mit jeder Ressource verwenden. Hier finden Sie einige typische Anwendungsfälle:</p><div class="itemizedlist">
         
         
         
    <ul class="itemizedlist"><li class="listitem">
            <p>Ermitteln, wann eine Wartebedingung in Kraft tritt. Weitere Informationen finden Sie unter <a href="./using-cfn-waitcondition.html">Erstellen von Wartebedingungen in einer Vorlage</a>.</p>
        </li><li class="listitem">
            <p>Deklarieren Sie Abhängigkeiten für Ressourcen, die in einer bestimmten Reihenfolge erstellt oder gelöscht werden müssen. Beispiel: Sie müssen für einige Ressourcen in einer VPC explizit Abhängigkeiten von Gateway-Anhängen deklarieren. Weitere Informationen finden Sie unter <a href="#gatewayattachment">Wann ein DependsOn-Attribut erforderlich ist</a>.</p>
        </li><li class="listitem">
            <p>Überschreiben Sie beim Erstellen, Aktualisieren und Löschen von Ressourcen Standardparallelität. AWS CloudFormation erstellt, aktualisiert und löscht Ressourcen soweit möglich parallel. Es wird automatisch bestimmt, welche Ressourcen in einer Vorlage parallel ausgeführt werden und welche Ressourcen Abhängigkeiten aufweisen, bei denen zuerst andere Vorgänge abgeschlossen werden müssen. Sie können verwenden, <code class="code">DependsOn</code> um explizit Abhängigkeiten anzugeben, was die Standardparallelität überschreibt und anweist, mit diesen Ressourcen in einer bestimmten Reihenfolge  CloudFormation zu arbeiten.</p>
        </li></ul></div><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Anmerkung</h6></div><div class="awsdocs-note-text"><p>Während einer Stack-Aktualisierung werden Ressourcen, die von aktualisierten Ressourcen abhängen, automatisch aktualisiert.  CloudFormation führt keine Änderungen an den automatisch aktualisierten Ressourcen durch. Wenn diesen Ressourcen jedoch eine Stack-Richtlinie zugeordnet ist, muss Ihr Konto über die Berechtigungen verfügen, diese zu aktualisieren.</p></div></div>
        <h2 id="aws-attribute-dependson-syntax">Syntax</h2>

        <p>Für das <code class="code">DependsOn</code>-Attribut kann eine einzelne Zeichenfolge oder eine Liste von Zeichenfolgen verwendet werden.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"DependsOn" : [ <code class="replaceable">String, ...</code> ]</code></pre>
     
        <h2 id="aws-attribute-dependson-example">Beispiel</h2>

        <p>Die folgende Vorlage enthält eine -<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-instance.html">AWS::EC2::Instance</a>Ressource mit einem -<code class="code">DependsOn</code>Attribut, das myDB , eine <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-rds-database-instance.html">AWS::RDS::DBInstance angibt</a>. Wenn diesen Stack  CloudFormation erstellt, wird zuerst myDB und dann Ec2Instance erstellt.</p>
        <div id="JSON" name="JSON" class="section langfilter">
            <h3 id="aws-attribute-dependson-example-1.json">JSON</h3>

            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "AWSTemplateFormatVersion" : "2010-09-09",
    "Mappings" : <span>{</span>
        "RegionMap" : <span>{</span>
            "us-east-1" : <span>{</span> 
                "AMI" : "ami-0ff8a91507f77f867" 
            },
            "us-west-1" : <span>{</span> 
                "AMI" : "ami-0bdb828fd58c52235" 
            },
            "eu-west-1" : <span>{</span> 
                "AMI" : "ami-047bb4163c506cd98" 
            },
            "ap-northeast-1" : <span>{</span> 
                "AMI" : "ami-06cd52961ce9f0d85" 
            },
            "ap-southeast-1" : <span>{</span> 
                "AMI" : "ami-08569b978cc4dfa10" 
            }
        }
    },
    "Resources" : <span>{</span>
        "Ec2Instance" : <span>{</span>
            "Type" : "AWS::EC2::Instance",
            "Properties" : <span>{</span>
                "ImageId": <span>{</span>
                    "Fn::FindInMap": [
                        "RegionMap",
                        <span>{</span>
                            "Ref": "AWS::Region"
                        },
                        "AMI"
                    ]
                }
            },
            "DependsOn" : "myDB"
        },
        "myDB" : <span>{</span>
            "Type" : "AWS::RDS::DBInstance",
            "Properties" : <span>{</span>
               "AllocatedStorage" : "5",
               "DBInstanceClass" : "db.t2.small",
               "Engine" : "MySQL",
               "EngineVersion" : "5.5",
               "MasterUsername" : "MyName",
               "MasterUserPassword" : "MyPassword"
            }
        }
    }
}     </code></pre>
        </div>
        <div id="YAML" name="YAML" class="section langfilter">
            <h3 id="aws-attribute-dependson-example-1.yaml">YAML</h3>

            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">AWSTemplateFormatVersion: '2010-09-09'
Mappings:
  RegionMap:
    us-east-1:
      AMI: ami-0ff8a91507f77f867
    us-west-1:
      AMI: ami-0bdb828fd58c52235
    eu-west-1:
      AMI: ami-047bb4163c506cd98
    ap-northeast-1:
      AMI: ami-06cd52961ce9f0d85
    ap-southeast-1:
      AMI: ami-08569b978cc4dfa10
Resources:
  Ec2Instance:
    Type: AWS::EC2::Instance
    Properties:
      ImageId:
        Fn::FindInMap:
        - RegionMap
        - Ref: AWS::Region
        - AMI
    DependsOn: myDB
  myDB:
    Type: AWS::RDS::DBInstance
    Properties:
      AllocatedStorage: '5'
      DBInstanceClass: db.t2.small
      Engine: MySQL
      EngineVersion: '5.5'
      MasterUsername: MyName
      MasterUserPassword: MyPassword
</code></pre>
        </div>
     
        <h2 id="gatewayattachment">Wann ein <code class="code">DependsOn</code>-Attribut erforderlich ist</h2>

        <p>VPC-Gateway-Anhang</p>
        <p>Einige Ressourcen in einer VPC benötigen ein Gateway (entweder ein Internet- oder VPN-Gateway). Wenn Ihre  CloudFormation -Vorlage eine VPC, ein Gateway und einen Gateway-Anhang definiert, dann sind alle Ressourcen, die das Gateway benötigen, von dem Gateway-Anhang abhängig. Eine Amazon EC2-Instance mit einer öffentlichen IP-Adresse ist beispielsweise von dem VPC-Gateway-Anhang abhängig, wenn die <code class="code">VPC</code>- und <code class="code">InternetGateway</code>-Ressourcen ebenfalls in der gleichen Vorlage deklariert sind.</p>
        <p>Derzeit sind die folgenden Ressourcen von einem VPC-Gateway-Anhang abhängig, wenn sie über eine dazugehörige öffentliche IP-Adresse verfügen und in einer VPC sind.</p>
        <div class="itemizedlist">
             
             
             
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>Auto-Scaling-Gruppen</p>
            </li><li class="listitem">
                <p>Amazon EC2-Instances</p>
            </li><li class="listitem">
                <p>Elastic Load Balancing-Load Balancer</p>
            </li><li class="listitem">
                <p>Elastic-IP-Adressen</p>
            </li><li class="listitem">
                <p>Amazon RDS-Datenbank-Instances</p>
            </li><li class="listitem">
                <p>Amazon VPC-Routen, die das Internet-Gateway enthalten</p>
            </li></ul></div>
        <p>Eine VPN-Gateway-Routing-Verbreitung hängt von einem VPC-Gateway-Anhang ab, wenn Sie über ein VPN-Gateway verfügen.</p>
        <p>Der folgende Codeausschnitt zeigt ein Beispiel für einen Gateway-Anhang und eine Amazon EC2-Instance, die von einem Gateway-Anhang abhängt:</p>
        <div id="JSON" name="JSON" class="section langfilter">
            <h3 id="aws-attribute-dependson-example-2.json">JSON</h3>

            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"GatewayToInternet" : <span>{</span>
  "Type" : "AWS::EC2::VPCGatewayAttachment",
  "Properties" : <span>{</span>
    "VpcId" : <span>{</span> 
      "Ref" : "VPC" 
    },
    "InternetGatewayId" : <span>{</span> 
      "Ref" : "InternetGateway" 
    }
  }
},

"EC2Host" : <span>{</span>
  "Type" : "AWS::EC2::Instance",
  "DependsOn" : "GatewayToInternet",
  "Properties" : <span>{</span>
    "InstanceType" : <span>{</span> 
      "Ref" : "EC2InstanceType" 
    },
    "KeyName"  : <span>{</span> 
      "Ref" : "KeyName" 
    },
    "ImageId": <span>{</span>
      "Fn::FindInMap": [
        "AWSRegionArch2AMI",
        <span>{</span>
          "Ref": "AWS::Region"
        },
        <span>{</span>
          "Fn::FindInMap": [
            "AWSInstanceType2Arch",
            <span>{</span>
              "Ref": "EC2InstanceType"
            },
            "Arch"
          ]
        }
      ]
    },
    "NetworkInterfaces" : [
      <span>{</span>
        "GroupSet" : [
          <span>{</span> 
            "Ref" : "EC2SecurityGroup" 
          }
        ],
        "AssociatePublicIpAddress" : "true",
        "DeviceIndex" : "0",
        "DeleteOnTermination" : "true",
        "SubnetId" : <span>{</span> 
          "Ref" : "PublicSubnet" 
        }
      }
    ]
  }
}</code></pre>
        </div>
        <div id="YAML" name="YAML" class="section langfilter">
            <h3 id="aws-attribute-dependson-example-2.yaml">YAML</h3>

            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">GatewayToInternet:
  Type: AWS::EC2::VPCGatewayAttachment
  Properties:
    VpcId:
      Ref: VPC
    InternetGatewayId:
      Ref: InternetGateway
EC2Host:
  Type: AWS::EC2::Instance
  DependsOn: GatewayToInternet
  Properties:
    InstanceType:
      Ref: EC2InstanceType
    KeyName:
      Ref: KeyName
    ImageId:
      Fn::FindInMap:
      - AWSRegionArch2AMI
      - Ref: AWS::Region
      - Fn::FindInMap:
        - AWSInstanceType2Arch
        - Ref: EC2InstanceType
        - Arch
    NetworkInterfaces:
    - GroupSet:
      - Ref: EC2SecurityGroup
      AssociatePublicIpAddress: 'true'
      DeviceIndex: '0'
      DeleteOnTermination: 'true'
      SubnetId:
        Ref: PublicSubnet</code></pre>
        </div>
         
            <h3 id="w9aac34c23c15c17c19">Amazon ECS-Service und Auto Scaling-Gruppe</h3>

            <p>Wenn Sie Auto Scaling oder Amazon Elastic Compute Cloud (Amazon EC2) zum Erstellen von Container-Instances für einen Amazon ECS-Cluster verwenden, muss die Amazon ECS-Service-Ressource eine Abhängigkeit von der Auto Scaling-Gruppe oder den Amazon EC2-Instances aufweisen, wie im folgenden Codeausschnitt dargestellt. Auf diese Weise sind die Container-Instances verfügbar und dem Amazon-ECS-Cluster zugeordnet, bevor den Amazon-ECS-Service  CloudFormation erstellt.</p>
            <div id="JSON" name="JSON" class="section langfilter">
                <h4 id="aws-attribute-dependson-example-3.json">JSON</h4>

                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"service": <span>{</span>
  "Type": "AWS::ECS::Service",
  "DependsOn": [
    "ECSAutoScalingGroup"
  ],
  "Properties" : <span>{</span>
    "Cluster": <span>{</span>
      "Ref": "ECSCluster"
    },
    "DesiredCount": "1",
    "LoadBalancers": [
      <span>{</span>
        "ContainerName": "simple-app",
        "ContainerPort": "80",
        "LoadBalancerName" : <span>{</span> 
          "Ref" : "EcsElasticLoadBalancer" 
        }
      }
    ],
    "Role" : <span>{</span>
      "Ref":"ECSServiceRole"
    },
    "TaskDefinition" : <span>{</span>
      "Ref":"taskdefinition"
    }
  }
}</code></pre>
            </div>
            <div id="YAML" name="YAML" class="section langfilter">
                <h4 id="aws-attribute-dependson-example-3.yaml">YAML</h4>

                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">service:
  Type: AWS::ECS::Service
  DependsOn:
  - ECSAutoScalingGroup
  Properties:
    Cluster:
      Ref: ECSCluster
    DesiredCount: 1
    LoadBalancers:
    - ContainerName: simple-app
      ContainerPort: 80
      LoadBalancerName:
        Ref: EcsElasticLoadBalancer
    Role:
      Ref: ECSServiceRole
    TaskDefinition:
      Ref: taskdefinition</code></pre>
            </div>
         
         
            <h3 id="w9aac34c23c15c17c21">IAM-Rollenrichtlinie</h3>

            <p>Ressourcen, die zusätzliche Aufrufe an AWS vornehmen, benötigen eine Servicerolle, die einem Service erlaubt, in Ihrem Namen Aufrufe an AWS durchzuführen. Die <code class="code">AWS::CodeDeploy::DeploymentGroup</code> Ressource benötigt beispielsweise eine Servicerolle, damit über Berechtigungen zum Bereitstellen von Anwendungen auf Ihren Instances  CodeDeploy verfügt. Wenn Sie über eine einzelne Vorlage verfügen, die eine Servicerolle definiert, wird durch die Richtlinie der Rolle (mithilfe der <code class="code">AWS::IAM::Policy</code>- oder <code class="code">AWS::IAM::ManagedPolicy</code>-Ressource) und eine Ressource, welche die Rolle verwendet, eine Abhängigkeit hinzugefügt, sodass die Ressource von der Richtlinie der Rolle abhängt. Diese Abhängigkeit stellt sicher, dass die Richtlinie während des gesamten Lebenszyklus der Ressource verfügbar ist.</p>
            <p>Angenommen, Sie haben beispielsweise eine Vorlage mit einer Bereitstellungsgruppenressource, einer Servicerolle und der Richtlinie der Rolle. Wenn Sie einen Stack erstellen, erstellt die Bereitstellungsgruppe  CloudFormation erst, wenn die Richtlinie der Rolle erstellt wurde. Ohne die Abhängigkeit  CloudFormation kann die Bereitstellungsgruppenressource erstellen, bevor die Richtlinie der Rolle erstellt wird. Wenn dies der Fall ist, kann die Bereitstellungsgruppe aufgrund unzureichender Berechtigungen nicht erstellt werden.</p>
            <p>Wenn die Rolle über eine eingebettete Richtlinie verfügt, geben Sie keine Abhängigkeit an.  CloudFormation erstellt die Rolle und ihre Richtlinie gleichzeitig.</p>
         
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warnung" /> <strong>JavaScript ist in Ihrem Browser nicht verfügbar oder deaktiviert.</strong></p><p>Zur Nutzung der AWS-Dokumentation muss JavaScript aktiviert sein. Weitere Informationen finden auf den Hilfe-Seiten Ihres Browsers.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Dokumentkonventionen</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./aws-attribute-deletionpolicy.html">DeletionPolicy</div><div id="next" class="next-link" accesskey="n" href="./aws-attribute-metadata.html">Metadata</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Ja</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass wir gute Arbeit geleistet haben!</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, was wir richtig gemacht haben, damit wir noch besser werden?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Nein</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass diese Seite überarbeitet werden muss. Es tut uns Leid, dass wir Ihnen nicht weiterhelfen konnten.</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, wie wir die Dokumentation verbessern können?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>