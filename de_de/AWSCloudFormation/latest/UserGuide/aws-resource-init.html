<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="de-DE"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>AWS::CloudFormation::Init - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="aws-resource-init" /><meta name="default_state" content="aws-resource-init" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" /><meta name="description" content="Verwenden Sie den AWS::CloudFormation::Init-Ressourcentyp, um Metadaten auf einer Amazon-EC2-Instance für das Hilfsskript cfn-init einzuschließen." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Leitfaden" /><meta name="abstract" content="Erstellen und verwalten Sie AWS Infrastrukturbereitstellungen vorhersehbar und wiederholt mithilfe von AWS CloudFormation mit diesem Benutzerhandbuch." /><meta name="guide-locale" content="de_de" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Leitfaden" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Leitfaden" /><meta id="panorama-serviceConsolePage" value="AWS::CloudFormation::Init" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>AWS::CloudFormation::Init - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-init.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,Ressourcenbereitstellung,Ressourcenkonfiguration,Infrastrukturverwaltung,CloudFormer,CloudFormation -Stack,CloudFormation Stackset,CloudFormation -Vorlage,Änderungssatz" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Leitfaden",
        "item" : "https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Arbeiten mit AWS CloudFormation-Vorlagen",
        "item" : "https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/template-guide.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Aufbau einer Vorlage",
        "item" : "https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/template-anatomy.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Metadaten",
        "item" : "https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/metadata-section-structure.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "AWS::CloudFormation::Init",
        "item" : "https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/metadata-section-structure.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Dokumentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Leitfaden</a></div><div id="page-toc-src"><a href="#aws-resource-cloudformation-init-syntax">Syntax</a><a href="#aws-resource-init-configsets">Konfigurationssätze</a><a href="#aws-resource-init-commands">Befehle</a><a href="#aws-resource-init-files">Dateien</a><a href="#aws-resource-init-groups">Gruppen</a><a href="#aws-resource-init-packages">Pakete</a><a href="#aws-resource-init-services">Services</a><a href="#aws-resource-init-sources">Quellen</a><a href="#aws-resource-init-users">Benutzer</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Die vorliegende Übersetzung wurde maschinell erstellt. Im Falle eines Konflikts oder eines Widerspruchs zwischen dieser übersetzten Fassung und der englischen Fassung (einschließlich infolge von Verzögerungen bei der Übersetzung) ist die englische Fassung maßgeblich.</p></awsui-alert><h1 class="topictitle" id="aws-resource-init"><code class="code">AWS::CloudFormation::Init</code></h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Verwenden Sie den <code class="code">AWS::CloudFormation::Init</code>-Typ, um Metadaten auf einer Amazon EC2-Instance für das Hilfsskript cfn-init einzuschließen. Wenn Ihre Vorlage das cfn-init-Skript aufruft, sucht das Skript nach Ressourcen-Metadaten, die im <code class="code">AWS::CloudFormation::Init</code>-Metadatenschlüssel verankert sind. Weitere Informationen zu cfn-init finden Sie unter <a href="./cfn-init.html">cfn-init</a>.</p><p>cfn-init unterstützt alle Metadatentypen für Linux-Systeme. Es unterstützt die Metadatentypen für Windows mit Bedingungen, die in den folgenden Abschnitten beschrieben werden.</p><p>Ein Beispiel für die Verwendung von <code class="code">AWS::CloudFormation::Init</code> und des Hilfsskripts cfn-init finden Sie unter <a href="./deploying.applications.html">Bereitstellen von Anwendungen auf Amazon EC2 mit AWS CloudFormation</a>.</p><p>Ein Beispiel, das zeigt, wie Sie cfn-init zum Erstellen eines Windows-Stacks verwenden, finden Sie unter <a href="./cfn-windows-stacks-bootstrapping.html">Bootstrapping von AWS CloudFormation Windows-Stacks</a>.</p>
      <h2 id="aws-resource-cloudformation-init-syntax">Syntax</h2>

      <p>Die Konfiguration ist in Abschnitte unterteilt. Der folgende Vorlagenausschnitt zeigt, wie Sie Metadaten für cfn-init an eine EC2-Instance-Ressource in der Vorlage anhängen können.</p>
      <p>Die Metadaten sind in Konfigurationsschlüssel organisiert, die Sie in Konfigurationssätze gruppieren können. Sie können einen Konfigurationssatz angeben, wenn Sie cfn-init in Ihrer Vorlage aufrufen. Wenn Sie keinen Konfigurationssatz angeben, sucht cfn-init nach einem einzelnen Konfigurationsschlüssel mit dem Namen <em>config</em>.</p>
      <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Anmerkung</h6></div><div class="awsdocs-note-text"><p>Das Hilfsskript cfn-init verarbeitet diese Konfigurationsabschnitte in der folgenden Reihenfolge: Pakete, Gruppen, Benutzer, Quellen, Dateien, Befehle und dann Services. Wenn Sie eine andere Reihenfolge wünschen, trennen Sie Ihre Abschnitte in verschiedene Konfigurationsschlüssel. Verwenden Sie anschließend einen Konfigurationssatz, der die Reihenfolge angibt, in der die Konfigurationsschlüssel verarbeitet werden sollen.</p></div></div>

      <div id="JSON" name="JSON" class="section langfilter">
         <h3 id="aws-resource-cloudformation-init-syntax.json">JSON</h3>

         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Resources": <span>{</span>
  "MyInstance": <span>{</span>
    "Type": "AWS::EC2::Instance",
    "Metadata" : <span>{</span>
      "AWS::CloudFormation::Init" : <span>{</span>
        "config" : <span>{</span>
          "packages" : <span>{</span>
            :
          },
          "groups" : <span>{</span>
            :
          },
          "users" : <span>{</span>
            :
          },
          "sources" : <span>{</span>
            :
          },
          "files" : <span>{</span>
            :
          },
          "commands" : <span>{</span>
            :
          },
          "services" : <span>{</span>
            :
          }
        }
      }
    },
    "Properties": <span>{</span>
      :
    }
  }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
         <h3 id="aws-resource-cloudformation-init-syntax.yaml">YAML</h3>

         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources: 
  MyInstance: 
    Type: AWS::EC2::Instance
    Metadata: 
      AWS::CloudFormation::Init: 
        config: 
          packages: 
            :
          groups: 
            :
          users: 
            :
          sources: 
            :
          files: 
            :
          commands: 
            :
          services: 
            :
    Properties: 
      :</code></pre>
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Anmerkung</h6></div><div class="awsdocs-note-text"><p>Um die <code class="code">AWS::CloudFormation::Init</code>-Eigenschaft für eine Amazon EC2-Instance anzugeben, siehe <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-init.html#cfn-init-Examples">Beispiel für Amazon Linux</a>.</p></div></div>
      </div>
    
      <h2 id="aws-resource-init-configsets">Konfigurationssätze</h2>

      <p>Wenn Sie mehr als einen Konfigurationsschlüssel erstellen möchten und cfn-init diesen in einer bestimmten Reihenfolge verarbeiten soll, erstellen Sie einen Konfigurationssatz, welcher die Konfigurationsschlüssel in der gewünschten Reihenfolge enthält.</p>
       
         <h3 id="w9aac23c15c15c23c13b5">Einzelner Konfigurationssatz</h3>

         <p>Der folgende Vorlagenausschnitt erstellt die Konfigurationssätze <code class="code">ascending</code> und <code class="code">descending</code>, die jeweils zwei Konfigurationsschlüssel enthalten.</p>
         <div id="JSON" name="JSON" class="section langfilter">
            <h4 id="aws-resource-cloudformation-init-configset-example1.json">JSON</h4>

            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"AWS::CloudFormation::Init" : <span>{</span>
    "configSets" : <span>{</span>
        "ascending" : [ "config1" , "config2" ],
        "descending" : [ "config2" , "config1" ]
    },
    "config1" : <span>{</span>
        "commands" : <span>{</span>
            "test" : <span>{</span>
                "command" : "echo \"$CFNTEST\" &gt; test.txt",
                "env" : <span>{</span> "CFNTEST" : "I come from config1." },
                "cwd" : "~"
            }
        }
    },
    "config2" : <span>{</span>
        "commands" : <span>{</span>
            "test" : <span>{</span>
                "command" : "echo \"$CFNTEST\" &gt; test.txt",
                "env" : <span>{</span> "CFNTEST" : "I come from config2" },
                "cwd" : "~"
            }
        }
    }
}     </code></pre>
         </div>
         <div id="YAML" name="YAML" class="section langfilter">
            <h4 id="aws-resource-cloudformation-init-configset-example1.yaml">YAML</h4>

            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">AWS::CloudFormation::Init: 
  configSets: 
    ascending: 
      - "config1"
      - "config2"
    descending: 
      - "config2"
      - "config1"
  config1: 
    commands: 
      test: 
        command: "echo \"$CFNTEST\" &gt; test.txt"
        env: 
          CFNTEST: "I come from config1."
        cwd: "~"
  config2: 
    commands: 
      test: 
        command: "echo \"$CFNTEST\" &gt; test.txt"
        env: 
          CFNTEST: "I come from config2"
        cwd: "~"</code></pre>
         </div>
          
            <h4 id="w9aac23c15c15c23c13b5b9">Verwandte cfn-init-Aufrufe</h4>

            <p>Die folgenden Beispielaufrufe von cfn-init beziehen sich auf die vorangehenden Beispiel-Konfigurationssätze. Die Beispielaufrufe sind aus Gründen der Übersichtlichkeit abgekürzt. Die vollständige Syntax finden Sie unter <a href="./cfn-init.html">cfn-init</a>.</p>
            <div class="itemizedlist">
                
                
            <ul class="itemizedlist"><li class="listitem">
                  <p>Wenn ein Aufruf von cfn-init den <code class="code">ascending</code>-Konfigurationssatz angibt:</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="userinput">cfn-init -c ascending</code></code></pre>
                  <p>Das Skript verarbeitet <code class="code">config1</code> und verarbeitet dann <code class="code">config2</code> und die test.txt-Datei würde den Text <code class="code">I
                        come from config2</code> enthalten.</p>
               </li><li class="listitem">
                  <p>Wenn ein Aufruf von cfn-init den <code class="code">descending</code>-Konfigurationssatz angibt:</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="userinput">cfn-init -c descending</code></code></pre>
                  <p>Das Skript verarbeitet <code class="code">config2</code> und verarbeitet dann <code class="code">config1</code> und die test.txt-Datei würde den Text <code class="code">I
                        come from config1</code> enthalten.</p>
               </li></ul></div>
          
       
       
         <h3 id="w9aac23c15c15c23c13b7">Mehrere Konfigurationssätze</h3>

         <p>Sie können mehrere Configsets erstellen und mehrere davon mithilfe Ihres cfn-init-Skripts aufrufen. Jeder Konfigurationssatz kann eine Liste von Konfigurationsschlüsseln oder Verweisen auf andere Konfigurationssätze enthalten. Der folgende Vorlagenausschnitt erstellt z. B. drei Konfigurationssätze. Der erste Konfigurationssatz <code class="code">test1</code>enthält einen Konfigurationsschlüssel mit dem Namen <code class="code">1</code>. Der zweite Konfigurationssatz, <code class="code">test2</code>, enthält einen Verweis auf den <code class="code">test1</code>-Konfigurationssatz und einen Konfigurationsschlüssel mit dem Namen <code class="code">2</code>. Der dritte Konfigurationssatz, „default“, enthält einen Verweis auf den Konfigurationssatz <code class="code">test2</code>.</p>
         <div id="JSON" name="JSON" class="section langfilter">
            <h4 id="aws-resource-cloudformation-init-configset-example2.json">JSON</h4>

            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"AWS::CloudFormation::Init" : <span>{</span>
    "configSets" : <span>{</span>
        "test1" : [ "1" ],
        "test2" : [ <span>{</span> "ConfigSet" : "test1" }, "2" ],
        "default" : [ <span>{</span> "ConfigSet" : "test2" } ]
    },
    "1" : <span>{</span>
        "commands" : <span>{</span>
            "test" : <span>{</span>
                "command" : "echo \"$MAGIC\" &gt; test.txt",
                "env" : <span>{</span> "MAGIC" : "I come from the environment!" },
                "cwd" : "~"
            }
        }
    },
    "2" : <span>{</span>
        "commands" : <span>{</span>
            "test" : <span>{</span>
                "command" : "echo \"$MAGIC\" &gt;&gt; test.txt",
                "env" : <span>{</span> "MAGIC" : "I am test 2!" },
                "cwd" : "~"
            }
        }
    }
}</code></pre>
         </div>
         <div id="YAML" name="YAML" class="section langfilter">
            <h4 id="aws-resource-cloudformation-init-configset-example2.yaml">YAML</h4>

            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">AWS::CloudFormation::Init:
  1:
    commands:
      test:
        command: "echo \"$MAGIC\" &gt; test.txt"
        env:
          MAGIC: "I come from the environment!"
        cwd: "~"
  2:
    commands:
      test:
        command: "echo \"$MAGIC\" &gt;&gt; test.txt"
        env:
          MAGIC: "I am test 2!"
        cwd: "~"
  configSets: 
    test1:
      - "1"
    test2:
      -
        ConfigSet: "test1"
      - "2"
    default:
      -
        ConfigSet: "test2"</code></pre>
         </div>
          
            <h4 id="w9aac23c15c15c23c13b7b9">Verwandte cfn-init-Aufrufe</h4>

            <p>Die folgenden Aufrufe von cfn-init beziehen sich auf die im vorhergehenden Vorlagenausschnitt deklarierten Konfigurationssätze. Die Beispielaufrufe sind aus Gründen der Übersichtlichkeit abgekürzt. Die vollständige Syntax finden Sie unter <a href="./cfn-init.html">cfn-init</a>.</p>
            <div class="itemizedlist">
                
                
                
            <ul class="itemizedlist"><li class="listitem">
                  <p>Wenn Sie nur <code class="code">test1</code> angeben:</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="userinput">cfn-init -c test1</code></code></pre>
                  <p>cfn-init verarbeitet nur den Konfigurationsschlüssel <code class="code">1</code>.</p>
               </li><li class="listitem">
                  <p>Wenn Sie nur <code class="code">test2</code> angeben:</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="userinput">cfn-init -c test2</code></code></pre>
                  <p>cfn-init verarbeitet den Konfigurationsschlüssel <code class="code">1</code> und dann den Konfigurationsschlüssel <code class="code">2</code>.</p>
               </li><li class="listitem">
                  <p>Wenn Sie den <code class="code">default</code>-Konfigurationssatz angeben (oder überhaupt keine Konfigurationssätze):</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="userinput">cfn-init -c default</code></code></pre>
                  <p>Sie erhalten dasselbe Verhalten, das Sie erhalten würden, wenn Sie den Konfigurationssatz <code class="code">test2</code> angeben würden.</p>
               </li></ul></div>
          
       
    
      <h2 id="aws-resource-init-commands">Befehle</h2>

      <p>Sie können den Befehle-Schlüssel verwenden, um Befehle für die EC2-Instance auszuführen. Die Befehle werden in alphabetischer Reihenfolge nach Name verarbeitet.</p>
      <div class="table-container"><div class="table-contents"><table id="w1348aac17c17c17c19c17b5"><thead>
               <tr>
                  <th>Schlüssel</th>
                  <th>Erforderlich</th>
                  <th>Beschreibung</th>
               </tr>
            </thead>
               <tr>
                  <td tabindex="-1">
                     <p>command</p>
                  </td>
                  <td tabindex="-1">Erforderlich</td>
                  <td tabindex="-1">
                     <p>Entweder ein Array oder eine Zeichenfolge, das bzw. die den auszuführenden Befehl angibt. Wenn Sie ein Array verwenden, müssen Sie Leerzeichen kein Escape-Zeichen voranstellen und Befehlsparameter nicht in Anführungszeichen angeben. Verwenden Sie das Array nicht, um mehrere Befehle anzugeben.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>env</p>
                  </td>
                  <td tabindex="-1">Optional</td>
                  <td tabindex="-1">
                     <p>Legt Umgebungsvariablen für den Befehl fest. Diese Eigenschaft überschreibt die vorhandene Umgebung, anstatt sie anzuhängen.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>cwd</p>
                  </td>
                  <td tabindex="-1">Optional</td>
                  <td tabindex="-1">
                     <p>Das Arbeitsverzeichnis.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>Test</p>
                  </td>
                  <td tabindex="-1">Optional</td>
                  <td tabindex="-1">
                     <p>Ein Testbefehl, der bestimmt, ob cfn-init Befehle ausführt, die im Befehlsschlüssel angegeben sind. Wenn der Test bestanden wird, führt cfn-init die Befehle aus. Das cfn-init-Skript führt den Test in einem Befehlsinterpreter, wie z. B. Bash oder <code>cmd.exe</code>, aus. Ob ein Test bestanden wird, hängt von dem Beendigungscode ab, den der Interpreter zurückgibt.</p>
                     <p>Bei Linux muss der Testbefehl den Beendigungscode <code class="code">0</code> zurückgeben, damit der Test bestanden ist. Bei Windows muss der Testbefehl den %ERRORLEVEL% <code class="code">0</code> zurückgeben.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>ignoreErrors</p>
                  </td>
                  <td tabindex="-1">Optional</td>
                  <td tabindex="-1">
                     <p>Ein boolescher Wert, der bestimmt, ob cfn-init weiter ausgeführt wird, wenn der im Befehlsschlüssel enthaltene Befehl fehlschlägt (gibt einen Wert ungleich null zurück). Legen Sie den Wert auf <code class="code">true</code> fest, wenn cfn-init weiter ausgeführt werden soll, selbst wenn der Befehl fehlschlägt. Legen Sie den Wert auf <code class="code">false</code> fest, wenn cfn-init angehalten werden soll, wenn der Befehl fehlschlägt. Der Standardwert ist <code class="code">false</code>.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>waitAfterCompletion</p>
                  </td>
                  <td tabindex="-1">Optional</td>
                  <td tabindex="-1">
                     <p>Nur für Windows-Systeme. Gibt an, wie lange gewartet werden soll (in Sekunden) nachdem ein Befehl abgeschlossen wurde, falls der Befehl einen Neustart verursacht. Der Standardwert lautet 60 Sekunden und beim Wert „unbegrenzt“ wird cfn-init beendet und fortgesetzt, nachdem der Neustart abgeschlossen wurde. Setzen Sie diesen Wert auf <code class="code">0</code>, wenn Sie nicht auf jeden Befehl warten möchten.</p>
                  </td>
               </tr>
            </table></div></div>
       
         <h3 id="w9aac23c15c15c23c15b7">Beispiel</h3>

         <p>Mit dem folgenden Beispiel wird der Echo-Befehl aufgerufen, wenn die <code class="code">~/test.txt</code>-Datei nicht vorhanden ist.</p>
         <div id="JSON" name="JSON" class="section langfilter">
            <h4 id="aws-resource-init-commands-example.json">JSON</h4>

            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"commands" : <span>{</span>
    "test" : <span>{</span>
        "command" : "echo \"$MAGIC\" &gt; test.txt",
        "env" : <span>{</span> "MAGIC" : "I come from the environment!" },
        "cwd" : "~",
        "test" : "test ! -e ~/test.txt",
        "ignoreErrors" : "false"
    },
    "test2" : <span>{</span>
        "command" : "echo \"$MAGIC2\" &gt; test2.txt",
        "env" : <span>{</span> "MAGIC2" : "I come from the environment!" },
        "cwd" : "~",
        "test" : "test ! -e ~/test2.txt",
        "ignoreErrors" : "false"
    }
}</code></pre>
         </div>
         <div id="YAML" name="YAML" class="section langfilter">
            <h4 id="aws-resource-init-commands-example.yaml">YAML</h4>

            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">commands:
  test:
    command: "echo \"$MAGIC\" &gt; test.txt"
    env:
      MAGIC: "I come from the environment!"
    cwd: "~"
    test: "test ! -e ~/test.txt"
    ignoreErrors: "false"
  test2:
    command: "echo \"$MAGIC2\" &gt; test2.txt"
    env:
      MAGIC2: "I come from the environment!"
    cwd: "~"
    test: "test ! -e ~/test2.txt"
    ignoreErrors: "false"</code></pre>
         </div>
       
    
      <h2 id="aws-resource-init-files">Dateien</h2>

      <p>Sie können den <code class="code">files</code>-Schlüssel verwenden, um Dateien auf der EC2-Instance zu erstellen. Der Inhalt kann entweder in die Vorlage eingebettet sein oder von einer URL abgerufen werden. Die Dateien werden in lexikalischer Reihenfolge auf den Datenträger geschrieben. In der folgenden Tabelle sind die unterstützten Schlüssel aufgeführt.</p>
      <div class="table-container"><div class="table-contents"><table id="w1348aac17c17c17c19c19b5"><thead>
               <tr>
                  <th>Schlüssel</th>
                  <th>Beschreibung</th>
               </tr>
            </thead>
               <tr>
                  <td tabindex="-1">
                     <p>Inhalt</p>
                  </td>
                  <td tabindex="-1">
                     <p>Entweder eine Zeichenfolge oder ein ordnungsgemäß formatiertes JSON-Objekt. Wenn Sie ein JSON-Objekt als Ihren Inhalt verwenden, wird es in eine Datei auf dem Datenträger geschrieben. Intrinsische Funktionen wie <code class="code">Fn::GetAtt</code> oder <code class="code">Ref</code> werden ausgewertet, bevor das JSON-Objekt auf den Datenträger geschrieben wird. Wenn Sie einen Symlink erstellen, geben Sie das Symlink-Ziel als Inhalt an.</p>
                     <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Anmerkung</h6></div><div class="awsdocs-note-text"><p>Wenn Sie einen Symlink erstellen, ändert das Hilfsprogramm-Skript die Berechtigungen der Zieldatei. Derzeit ist es nicht möglich, einen Symlink zu erstellen, ohne die Berechtigungen der Zieldatei zu ändern.</p></div></div>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>Quelle</p>
                  </td>
                  <td tabindex="-1">
                     <p>Eine URL, von der die Datei geladen wird. Diese Option kann nicht mit dem Inhaltsschlüssel angegeben werden.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>encoding</p>
                  </td>
                  <td tabindex="-1">
                     <p>Das Codierungsformat. Wird nur verwendet, wenn der Inhalt eine Zeichenfolge ist. Codierung wird nicht angewendet, wenn Sie eine Quelle verwenden.</p>
                     <p>Zulässige Werte: <code class="code">plain</code> | <code class="code">base64</code></p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>Gruppe</p>
                  </td>
                  <td tabindex="-1">
                     <p>Der Name der besitzenden Gruppe für diese Datei. Wird für Windows-Systeme nicht unterstützt.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>owner</p>
                  </td>
                  <td tabindex="-1">
                     <p>Der Name des besitzenden Benutzers für diese Datei. Wird für Windows-Systeme nicht unterstützt.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>mode</p>
                  </td>
                  <td tabindex="-1">
                     <p>Ein sechsstelliger Oktalwert, der für den Modus für diese Datei steht. Wird für Windows-Systeme nicht unterstützt. Verwenden Sie die ersten drei Ziffern für Symlinks und die letzten drei Ziffern für das Einrichten von Berechtigungen. Um einen Symlink zu erstellen, geben Sie <code class="userinput">120<code class="replaceable">xxx</code></code> an, wobei <code class="code">xxx</code> die Berechtigungen der Zieldatei definiert. Um Berechtigungen für eine Datei anzugeben, verwenden Sie die letzten drei Ziffern, z. B. <code class="userinput">000644</code>.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>Authentifizierung</p>
                  </td>
                  <td tabindex="-1">
                     <p>Der Name einer Authentifizierungsmethode, die verwendet werden soll. Dadurch wird jegliche Standardauthentifizierung außer Kraft gesetzt. Mit dieser Eigenschaft können Sie eine Authentifizierungsmethode auswählen, die Sie mit der <a href="./aws-resource-authentication.html">AWS::CloudFormation::Authentication</a>-Ressource definieren.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>context</p>
                  </td>
                  <td tabindex="-1">
                     <p>Gibt einen Kontext für Dateien an, die als <a href="http://mustache.github.io/mustache.5.html" rel="noopener noreferrer" target="_blank"><span>Mustache-Vorlagen</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> verarbeitet werden sollen. Um diesen Schlüssel zu verwenden, müssen Sie <code class="code">aws-cfn-bootstrap</code> 1.3–11 oder höher sowie <a href="https://github.com/defunkt/pystache" rel="noopener noreferrer" target="_blank"><span>pystache</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> installiert haben.</p>
                  </td>
               </tr>
            </table></div></div>
       
         <h3 id="w9aac23c15c15c23c17b7">Beispiele</h3>

         <p>Der folgende Beispielausschnitt erstellt eine Datei mit dem Namen setup.mysql als Teil einer größeren Installation.</p>
         <div id="JSON" name="JSON" class="section langfilter">
            <h4 id="aws-resource-init-setup-mysql.json">JSON</h4>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"files" : <span>{</span>
  "/tmp/setup.mysql" : <span>{</span>
    "content" : <span>{</span> "Fn::Join" : ["", [
      "CREATE DATABASE ", <span>{</span> "Ref" : "DBName" }, ";\n",
      "CREATE USER '", <span>{</span> "Ref" : "DBUsername" }, "'@'localhost' IDENTIFIED BY '",
                       <span>{</span> "Ref" : "DBPassword" }, "';\n",
      "GRANT ALL ON ", <span>{</span> "Ref" : "DBName" }, ".* TO '", <span>{</span> "Ref" : "DBUsername" },
                       "'@'localhost';\n",
      "FLUSH PRIVILEGES;\n"
      ]]},
    "mode"  : "000644",
    "owner" : "root",
    "group" : "root"
  }
}</code></pre>
         </div>
         <div id="YAML" name="YAML" class="section langfilter">
            <h4 id="aws-resource-init-setup-mysql.yaml">YAML</h4>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">files: 
  /tmp/setup.mysql: 
    content: !Sub |
      CREATE DATABASE $<span>{</span>DBName};
      CREATE USER '$<span>{</span>DBUsername}'@'localhost' IDENTIFIED BY '$<span>{</span>DBPassword}';
      GRANT ALL ON $<span>{</span>DBName}.* TO '$<span>{</span>DBUsername}'@'localhost';
      FLUSH PRIVILEGES;
    mode: "000644"
    owner: "root"
    group: "root"</code></pre>
         </div>
         <p>Die vollständige Vorlage ist verfügbar unter: <a href="https://s3.amazonaws.com/cloudformation-templates-us-east-1/Drupal_Single_Instance.template" rel="noopener noreferrer" target="_blank"><span>https://s3.amazonaws.com/cloudformation-templates-us-east-1/Drupal_Single_Instance.template</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a></p>
         <p>Mit dem folgenden Beispiel-Codeausschnitt wird eine Symlink-<code class="code">/tmp/myfile2.txt</code> erstellt, die auf die vorhandene Datei <code class="code">/tmp/myfile1.txt</code> verweist. Die Berechtigungen der Zieldatei <code class="code">/tmp/myfile1.txt</code> werden durch den Moduswert <code class="code">644</code> erstellt.</p>
         <div id="JSON" name="JSON" class="section langfilter">
            <h4 id="aws-resource-init-symlink.json">JSON</h4>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"files" : <span>{</span>
  "/tmp/myfile2.txt" : <span>{</span>
    "content" : "/tmp/myfile1.txt",
    "mode" : "120644"
  }
}</code></pre>
         </div>
         <div id="YAML" name="YAML" class="section langfilter">
            <h4 id="aws-resource-init-symlink.yaml">YAML</h4>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">files:
  /tmp/myfile2.txt:
    content: "/tmp/myfile1.txt"
    mode: "120644"</code></pre>
         </div>
         <p>Mustache-Vorlagen werden in erster Linie zum Erstellen von Konfigurationsdateien verwendet. Sie können beispielsweise eine Konfigurationsdatei in einem S3-Bucket speichern und Refs und  GetAtts aus der Vorlage interpolieren, anstatt zu verwenden<a href="./intrinsic-function-reference-join.html">Fn::Join</a>. Der folgende Beispielausschnitt gibt „Content for test9“ an <code>/tmp/test9.txt</code> aus.</p>
         <div id="JSON" name="JSON" class="section langfilter">
            <h4 id="aws-resource-init-test9.json">JSON</h4>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">
"files" : <span>{</span>
    "/tmp/test9.txt" : <span>{</span>
        "content" : "Content for <span>{</span><span>{</span>name}}",
        "context" : <span>{</span> "name" : "test9" }
    }
} </code></pre>
         </div>
         <div id="YAML" name="YAML" class="section langfilter">
            <h4 id="aws-resource-init-test9.yaml">YAML</h4>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">files:
  /tmp/test9.txt:
    content: "Content for <span>{</span><span>{</span>name}}"
    context:
      name: "test9"</code></pre>
         </div>
         <p>Beachten Sie beim Arbeiten mit Mustache-Vorlagen Folgendes:</p>
         <div class="itemizedlist">
             
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>Der Kontextschlüssel muss für die zu verarbeitenden Dateien vorhanden sein.</p>
            </li><li class="listitem">
               <p>Der Kontextschlüssel muss eine Schlüssel-Wert-Zuweisung sein, kann jedoch verschachtelt sein.</p>
            </li><li class="listitem">
               <p>Sie können Dateien mit Inlineinhalt mithilfe des Inhaltsschlüssels und Remote-Dateien mithilfe des Quellschlüssels verarbeiten.</p>
            </li><li class="listitem">
               <p>Mustache-Unterstützung hängt von der pystache-Version ab. Version 0.5.2 unterstützt die <a href="https://github.com/mustache/spec/tree/v1.1.2" rel="noopener noreferrer" target="_blank"><span>Mustache 1.1.2-Spezifikation</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
            </li></ul></div>
       
    
      <h2 id="aws-resource-init-groups">Gruppen</h2>

      <p>Sie können die Gruppenschlüssel verwenden, um Linux-/UNIX-Gruppen zu erstellen und Gruppen-IDs zuzuweisen. Der Gruppenschlüssel wird für Windows-Systeme nicht unterstützt.</p>
      <p>Um eine Gruppe zu erstellen, fügen Sie ein neues Schlüssel-Wert-Paar hinzu, das einer optionalen Gruppen-ID einen neuen Gruppennamen zuordnet. Der Gruppenschlüssel kann einen oder mehrere Gruppennamen enthalten. In der folgenden Tabelle werden die verfügbaren Schlüssel aufgeführt.</p>
      <div class="table-container"><div class="table-contents"><table id="w1348aac17c17c17c19c21b7"><thead>
               <tr>
                  <th>Schlüssel</th>
                  <th>Beschreibung</th>
               </tr>
            </thead>
               <tr>
                  <td tabindex="-1">
                     <p>
                        <code class="code">gid</code></p>
                  </td>
                  <td tabindex="-1">
                     <p>Eine Gruppen-ID-Nummer.</p>
                     <p>Wenn eine Gruppen-ID angegeben ist und die Gruppe nach Name bereits vorhanden ist, schlägt die Gruppenerstellung fehl. Wenn eine andere Gruppe die angegebene Gruppen-ID aufweist, lehnt das Betriebssystem die Gruppenerstellung möglicherweise ab.</p>
                     <p>Beispiel: <code class="code"><span>{</span> "gid" : "23" }</code></p>
                  </td>
               </tr>
            </table></div></div>
      
       
         <h3 id="aws-resource-init-groups-snippet">Beispielausschnitt</h3>

         <p>Der folgende Codeausschnitt gibt eine Gruppe mit dem Namen <code class="code">groupOne</code> an, ohne eine Gruppen-ID zuzuweisen, und eine Gruppe mit dem Namen <code class="code">groupTwo</code>, die den Gruppen-ID-Wert <code class="code">45</code> angegeben hat.</p>
         <div id="JSON" name="JSON" class="section langfilter">
            <h4 id="aws-resource-init-groups-snippet.json">JSON</h4>

            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"groups" : <span>{</span>
    "groupOne" : <span>{</span>},
    "groupTwo" : <span>{</span> "gid" : "45" }
}</code></pre>
         </div>
         
         <div id="YAML" name="YAML" class="section langfilter">
            <h4 id="aws-resource-init-groups-snippet.yaml">YAML</h4>

            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">groups:
  groupOne: <span>{</span>}
  groupTwo:
    gid: "45"</code></pre>
         </div>
       
    
      <h2 id="aws-resource-init-packages">Pakete</h2>

      <p>Sie können den Paketeschlüssel verwenden, um vorkonfigurierte Anwendungen und Komponenten herunterzuladen und zu installieren. Auf Windows-Systemen unterstützt der Paketeschlüssel nur das MSI-Installationsprogramm.</p>
       
         <h3 id="aws-resource-init-packages-formats">Unterstützte Paketformate</h3>

         <p>Das cfn-init-Skript unterstützt derzeit die folgenden Paketformate: apt, msi, python, rpm, rubygems, yum und Zypper. Pakete werden in der folgenden Reihenfolge verarbeitet: rpm, yum/apt/zypper und dann rubygems und python. Bei rubygems und python gibt es keine Reihenfolge und es ist nicht gewährleistet, dass Pakete innerhalb jedes Paketmanagers in einer Reihenfolge installiert werden.</p>
       
       
         <h3 id="aws-resource-init-packages-versions">Angeben von Versionen</h3>

         <p>Innerhalb jedes Paketmanagers ist jedes Paket als ein Paketname und eine Liste der Versionen angegeben. Die Version kann eine Zeichenfolge, eine Liste von Versionen oder eine leere Zeichenfolge oder Liste sein. Eine leere Zeichenfolge oder Liste gibt an, dass Sie die neueste Version verwenden möchten. Bei RPM-Manager wird die Version als ein Pfad zu einer Datei auf einem Datenträger oder eine URL angegeben.</p>
         <p>Wenn Sie eine Version eines Pakets angeben, versucht cfn-init, diese Version zu installieren, auch wenn auf der Instance bereits eine neuere Version des Pakets installiert ist. Einige Paketmanager unterstützen mehrere Versionen, andere wiederum nicht. In der Dokumentation zu Ihrem Paketmanager finden Sie weitere Informationen. Wenn Sie keine Version angeben und bereits eine Version des Pakets installiert ist, installiert das cfn-init-Skript keine neue Version.— Es wird angenommen, dass Sie die bestehende Version behalten und verwenden möchten.</p>
       
       
         <h3 id="aws-resource-init-packages-snippet">Beispielausschnitte</h3>

          
            <h4 id="w9aac23c15c15c23c21b9b3">RPM, yum, Rubygems und Zypper</h4>

            <p>Der folgende Codeausschnitt gibt eine Versions-URL für RPM an, fordert die neuesten Versionen von yum und Zypper und Version 0.10.2 von chef von rubygems an:</p>
            <div id="JSON" name="JSON" class="section langfilter">
               <h5 id="aws-resource-init-packages-example1.json">JSON</h5>

               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"rpm" : <span>{</span>
  "epel" : "http://download.fedoraproject.org/pub/epel/5/i386/epel-release-5-4.noarch.rpm"
},
"yum" : <span>{</span>
  "httpd" : [],
  "php" : [],
  "wordpress" : []
},
"rubygems" : <span>{</span>
  "chef" : [ "0.10.2" ]
},
"zypper" : <span>{</span>
  "git" : []
}</code></pre>
            </div>
            <div id="YAML" name="YAML" class="section langfilter">
               <h5 id="aws-resource-init-packages-example1.yaml">YAML</h5>

               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">rpm:
  epel: "http://download.fedoraproject.org/pub/epel/5/i386/epel-release-5-4.noarch.rpm"
yum:
  httpd: []
  php: []
  wordpress: []
rubygems:
  chef:
    - "0.10.2"
zypper:
  git: []</code></pre>
            </div>
          
          
            <h4 id="w9aac23c15c15c23c21b9b5">MSI-Paket</h4>

            <p>Der folgende Codeausschnitt gibt eine URL für ein MSI-Paket an:</p>
            <div id="JSON" name="JSON" class="section langfilter">
               <h5 id="aws-resource-init-packages-example2.json">JSON</h5>

               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"msi" : <span>{</span>
  "awscli" : "https://s3.amazonaws.com/aws-cli/AWSCLI64.msi"
}</code></pre>
            </div>
            <div id="YAML" name="YAML" class="section langfilter">
               <h5 id="aws-resource-init-packages-example2.yaml">YAML</h5>

               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">msi:
  awscli: "https://s3.amazonaws.com/aws-cli/AWSCLI64.msi"</code></pre>
            </div>
          
       
    
      <h2 id="aws-resource-init-services">Services</h2>

      <p>Sie können den Services-Schlüssel verwenden, um zu definieren, welche Services aktiviert oder deaktiviert werden sollen, wenn die Instance gestartet wird. Auf Linux-Systemen wird dieser Schlüssel mithilfe von sysvinit oder systemd unterstützt. Auf Windows-Systemen wird er mithilfe des Windows Service Manager unterstützt.</p>
      <p>Mit dem Services-Schlüssel können Sie auch Abhängigkeiten von Quellen, Paketen und Dateien angeben, sodass cfn-init den Neustart des Services ausführt, wenn dieser erforderlich ist, weil Dateien installiert werden. Wenn Sie beispielsweise das Apache-HTTP-Server-Paket herunterladen, startet die Paketinstallation während der Stack-Erstellung automatisch den Apache-HTTP-Server. Wenn die Konfiguration des Apache-HTTP Servers allerdings später im Stack-Erstellungsprozess aktualisiert wird, wird die Aktualisierung erst wirksam, wenn der Apache-Server neu gestartet wird. Sie können mithilfe des Services-Schlüssels sicherstellen, dass der Apache-HTTP-Service neu gestartet wird.</p>
      <p>In der folgenden Tabelle sind die unterstützten Schlüssel aufgeführt.</p>
      <div class="table-container"><div class="table-contents"><table id="w1348aac17c17c17c19c25b9"><thead>
               <tr>
                  <th>Schlüssel</th>
                  <th>Beschreibung</th>
               </tr>
            </thead>
               <tr>
                  <td tabindex="-1">
                     <p>ensureRunning</p>
                  </td>
                  <td tabindex="-1">
                     <p>Legen Sie den Wert auf „true“ fest, um sicherzustellen, dass der Service ausgeführt wird, nachdem cfn-init abgeschlossen wurde.</p>
                     <p>Legen Sie den Wert auf „false“ fest, um sicherzustellen, dass der Service nicht ausgeführt wird, nachdem cfn-init abgeschlossen wurde.</p>
                     <p>Lassen Sie diesen Schlüssel aus, um keine Änderungen am Servicestatus vorzunehmen.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>aktiviert</p>
                  </td>
                  <td tabindex="-1">
                     <p>Legen Sie den Wert auf „true“ fest, um sicherzustellen, dass der Service beim Systemstart automatisch gestartet wird.</p>
                     <p>Legen Sie den Wert auf „false“ fest, um sicherzustellen, dass der Service beim Systemstart nicht automatisch gestartet wird.</p>
                     <p>Lassen Sie diesen Schlüssel aus, um keine Änderungen an dieser Eigenschaft vorzunehmen.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>files</p>
                  </td>
                  <td tabindex="-1">
                     <p>Eine Liste von Dateien. Wenn cfn-init eine direkt über den Dateienblock ändert, wird dieser Service neu gestartet.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>Quellen</p>
                  </td>
                  <td tabindex="-1">
                     <p>Eine Liste von Verzeichnissen. Wenn cfn-init ein Archiv in eines dieser Verzeichnisse erweitert, wird dieser Service neu gestartet.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>Pakete</p>
                  </td>
                  <td tabindex="-1">
                     <p>Eine Zuordnung von Paketmanager zu einer Liste von Paketnamen. Wenn cfn-init eines dieser Pakete installiert oder aktualisiert, wird dieser Dienst neu gestartet.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>commands</p>
                  </td>
                  <td tabindex="-1">
                     <p>Eine Liste von Befehlsnamen. Wenn cfn-init den angegebenen Befehl ausführt, wird dieser Dienst neu gestartet.</p>
                  </td>
               </tr>
            </table></div></div>
       
         <h3 id="w9aac23c15c15c23c23c11">Beispiele</h3>

          
            <h4 id="w9aac23c15c15c23c23c11b3">Linux</h4>

            <p>Der folgende Linux-Ausschnitt konfiguriert die Services wie folgt:</p>
            <div class="itemizedlist">
                
                
                
            <ul class="itemizedlist"><li class="listitem">
                  <p>Der nginx-Service wird neu gestartet, wenn entweder <code class="code">/etc/nginx/nginx.conf</code> oder <code class="code">/var/www/html</code> von cfn-init verändert wird.</p>
               </li><li class="listitem">
                  <p>Der php-fastcgi-Service wird neu gestartet, wenn cfn-init php oder spawn-fcgi mit yum installiert oder aktualisiert.</p>
               </li><li class="listitem">
                  <p>Der sendmail-Service wird mit systemd angehalten und deaktiviert.</p>
               </li></ul></div>
            <div id="JSON" name="JSON" class="section langfilter">
               <h5 id="aws-resource-init-services-example1.json">JSON</h5>

               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"services" : <span>{</span>
  "sysvinit" : <span>{</span>
    "nginx" : <span>{</span>
      "enabled" : "true",
      "ensureRunning" : "true",
      "files" : ["/etc/nginx/nginx.conf"],
      "sources" : ["/var/www/html"]
    },
    "php-fastcgi" : <span>{</span>
      "enabled" : "true",
      "ensureRunning" : "true",
      "packages" : <span>{</span> "yum" : ["php", "spawn-fcgi"] }
    }
  },
  "systemd": <span>{</span>
    "sendmail" : <span>{</span>
      "enabled" : "false",
      "ensureRunning" : "false"
    }
  }
}</code></pre>
            </div>
            <div id="YAML" name="YAML" class="section langfilter">
               <h5 id="aws-resource-init-services-example1.yaml">YAML</h5>

               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">services:
  sysvinit:
    nginx:
      enabled: "true"
      ensureRunning: "true"
      files:
        - "/etc/nginx/nginx.conf"
      sources:
        - "/var/www/html"
    php-fastcgi:
      enabled: "true"
      ensureRunning: "true"
      packages:
        yum:
          - "php"
          - "spawn-fcgi"
  systemd:
    sendmail:
      enabled: "false"
      ensureRunning: "false"</code></pre>
               <p>Um systemd mit einem Service zu verwenden, muss für den Service eine systemd-Einheitsdatei konfiguriert sein. Die folgende Einheitsdatei ermöglicht es systemd, den <a href="./cfn-hup.html">cfn-hup</a>-Daemon im Mehrbenutzer-Serviceziel zu starten und zu stoppen:</p>
                  
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="conf ">[Unit]
Description=cfn-hup daemon
[Service]
ExecStart=/usr/bin/cfn-hup -v
PIDFile=/var/run/cfn-hup.pid
[Install]
WantedBy=multi-user.target</code></pre>
               <p>Diese Konfiguration setzt voraus, dass cfn-hup unter dem <em>/usr/bin</em> Verzeichnis installiert ist. Der tatsächliche Ort, an dem cfn-hup installiert ist, kann jedoch auf verschiedenen Plattformen variieren. Sie können diese Konfiguration außer Kraft setzen, indem Sie eine Override-Datei in <em>/etc/systemd/system/cfn-hup.service.d/override.conf</em> wie folgt festlegen:</p>
                  
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="conf "># In this example, cfn-hup executable is available under /usr/local/bin
[Service]
ExecStart=
ExecStart=/usr/local/bin/cfn-hup -v</code></pre>
            </div>
          
          
            <h4 id="aws-resource-init-windows-example">Windows</h4>

            <p>Der folgende Windows-Ausschnitt startet den <a href="./cfn-hup.html">cfn-hup</a>-Service, legt ihn auf automatisch fest und startet den Service neu, wenn <code class="code">cfn-init</code> die angegebenen Konfigurationsdateien ändert:</p>
            <div id="JSON" name="JSON" class="section langfilter">
               <h5 id="aws-resource-init-services-example2.json">JSON</h5>

               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"services" : <span>{</span>
  "windows" : <span>{</span>
    "cfn-hup" : <span>{</span>
      "enabled" : "true",
      "ensureRunning" : "true",
      "files" : ["c:\\cfn\\cfn-hup.conf", "c:\\cfn\\hooks.d\\cfn-auto-reloader.conf"]
    }
  }
}</code></pre>
            </div>
            <div id="YAML" name="YAML" class="section langfilter">
               <h5 id="aws-resource-init-services-example2.yaml">YAML</h5>

               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">services:
  windows:
    cfn-hup:
      enabled: "true"
      ensureRunning: "true"
      files:
        - "c:\\cfn\\cfn-hup.conf"
        - "c:\\cfn\\hooks.d\\cfn-auto-reloader.conf"</code></pre>
            </div>
          
       
    
      <h2 id="aws-resource-init-sources">Quellen</h2>

      <p>Sie können den Quellenschlüssel verwenden, um eine Archivdatei herunterzuladen und sie auf der EC2-Instance in einem Zielverzeichnis zu entpacken. Dieser Schlüssel wird sowohl für Linux- als auch Windows-Systeme vollständig unterstützt.</p>
       
         <h6>Unterstützte Formate</h6>
         <p>Unterstützte Formate sind:</p>
       
      <div class="itemizedlist">
          
          
          
          
      <ul class="itemizedlist"><li class="listitem">
            <p><code class="code">tar</code></p>
         </li><li class="listitem">
            <p><code class="code">tar+gzip</code></p>
         </li><li class="listitem">
            <p><code class="code">tar+bz2</code></p>
         </li><li class="listitem">
            <p><code class="code">zip</code></p>
         </li></ul></div>
     
         <h3 id="aws-resource-init-sources-examples">Beispiele</h3>
      
            <h4 id="aws-resource-init-sources-examples-github">GitHub</h4>
            <p>Wenn Sie  GitHub als Quellcodeverwaltungssystem verwenden, können Sie cfn-init und den Quellenpaketmechanismus verwenden, um eine bestimmte Version Ihrer Anwendung abzurufen.  GitHub erlaubt Ihnen, eine ZIP- oder tar-Datei aus einer bestimmten Version über eine URL wie folgt zu erstellen:</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="text ">https://github.com/&lt;your directory&gt;/(zipball|tarball)/&lt;version&gt;</code></pre>
            <p>Der folgende Codeausschnitt ruft Versions-<em>Main</em> als <code>.tar</code>-Datei ab.</p>
            <div id="JSON" name="JSON" class="section langfilter">
               <h5 id="aws-resource-init-sources-example1.json">JSON</h5>

               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"sources" : <span>{</span>
  "/etc/puppet" : "https://github.com/user1/cfn-demo/tarball/main"
  }</code></pre>
            </div>
            <div id="YAML" name="YAML" class="section langfilter">
               <h5 id="aws-resource-init-sources-example1.yaml">YAML</h5>

               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">sources:
  /etc/puppet: "https://github.com/user1/cfn-demo/tarball/main"</code></pre>
            </div>
          
      
            <h4 id="aws-resource-init-sources-examples-s3">S3 Bucket</h4>
            <p>Das folgende Beispiel lädt einen Tarball aus einem S3-Bucket herunter und entpackt ihn in <code class="code">/etc/myapp</code>:</p>
            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Anmerkung</h6></div><div class="awsdocs-note-text"><p>Sie können Authentifizierungs-Anmeldeinformationen für eine Quelle verwenden. Sie können jedoch keinen Authentifizierungsschlüssel in den Quellen-Block einfügen. Fügen Sie stattdessen einen Buckets-Schlüssel in Ihren <code class="code">S3AccessCreds</code>-Block ein. Für weitere Informationen zu Amazon S3-Authentifizierungs-Anmeldeinformationen siehe <a href="./aws-resource-authentication.html">AWS::CloudFormation::Authentication</a>.</p><p><span>Für ein Beispiel siehe die <a href="https://s3.amazonaws.com/cloudformation-templates-us-east-1/S3Bucket_SourceAuth.template" rel="noopener noreferrer" target="_blank"><span>Beispielvorlage</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</span></p></div></div>
            <div id="JSON" name="JSON" class="section langfilter">
               <h5 id="aws-resource-init-sources-example2.json">JSON</h5>

               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"sources" : <span>{</span>
  "/etc/myapp" : "https://s3.amazonaws.com/mybucket/myapp.tar.gz"
  }</code></pre>
               
               
               

            </div>
            <div id="YAML" name="YAML" class="section langfilter">
               <h5 id="aws-resource-init-sources-example2.yaml">YAML</h5>

               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">sources:
  /etc/myapp: "https://s3.amazonaws.com/mybucket/myapp.tar.gz"</code></pre>
               
               
               


            </div>
          
       
    
      <h2 id="aws-resource-init-users">Benutzer</h2>

      <p>Sie können den Benutzerschlüssel verwenden, um auf der EC2-Instance Linux-/UNIX-Benutzer zu erstellen. Der Benutzerschlüssel wird für Windows-Systeme nicht unterstützt.</p>
      <p>In der folgenden Tabelle sind die unterstützten Schlüssel aufgeführt.</p>
      <div class="table-container"><div class="table-contents"><table id="w1348aac17c17c17c19c29b7"><thead>
               <tr>
                  <th>Schlüssel</th>
                  <th>Beschreibung</th>
               </tr>
            </thead>
               <tr>
                  <td tabindex="-1">
                     <p>uid</p>
                  </td>
                  <td tabindex="-1">
                     <p>Eine Benutzer-ID. Der Erstellungsprozess ist nicht erfolgreich, wenn der Benutzername mit einer anderen Benutzer-ID vorhanden ist. Wenn die Benutzer-ID bereits einem vorhandenen Benutzer zugewiesen ist, lehnt das Betriebssystem die Erstellungsanforderung möglicherweise ab.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>Gruppen</p>
                  </td>
                  <td tabindex="-1">
                     <p>Eine Liste von Gruppennamen. Der Benutzer wird jeder Gruppe in der Liste hinzugefügt.</p>
                  </td>
               </tr>
               <tr>
                  <td tabindex="-1">
                     <p>homeDir</p>
                  </td>
                  <td tabindex="-1">
                     <p>Das Stammverzeichnis des Benutzers.</p>
                  </td>
               </tr>
            </table></div></div>
       
         <h3 id="aws-resource-init-users-example">Beispiel</h3>

         <p>Benutzer werden als nicht interaktive Systembenutzer mit der Shell <code class="code">/sbin/nologin</code> erstellt. Dies ist beabsichtigt und kann nicht geändert werden.</p>
         <div id="JSON" name="JSON" class="section langfilter">
            <h4 id="aws-resource-init-users-example.json">JSON</h4>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"users" : <span>{</span>
    "myUser" : <span>{</span>
        "groups" : ["groupOne", "groupTwo"],
        "uid" : "50",
        "homeDir" : "/tmp"
    }
}</code></pre>
         </div>
         <div id="YAML" name="YAML" class="section langfilter">
            <h4 id="aws-resource-init-users-example.yaml">YAML</h4>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">users:
  myUser:
    groups:
      - "groupOne"
      - "groupTwo"
    uid: "50"
    homeDir: "/tmp"</code></pre>
         </div>
       
   <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warnung" /> <strong>JavaScript ist in Ihrem Browser nicht verfügbar oder deaktiviert.</strong></p><p>Zur Nutzung der AWS-Dokumentation muss JavaScript aktiviert sein. Weitere Informationen finden auf den Hilfe-Seiten Ihres Browsers.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Dokumentkonventionen</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./aws-resource-authentication.html">AWS::CloudFormation::Authentication</div><div id="next" class="next-link" accesskey="n" href="./aws-resource-cloudformation-interface.html">AWS::CloudFormation::Interface</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Ja</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass wir gute Arbeit geleistet haben!</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, was wir richtig gemacht haben, damit wir noch besser werden?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-init.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Nein</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass diese Seite überarbeitet werden muss. Es tut uns Leid, dass wir Ihnen nicht weiterhelfen konnten.</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, wie wir die Dokumentation verbessern können?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-init.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>