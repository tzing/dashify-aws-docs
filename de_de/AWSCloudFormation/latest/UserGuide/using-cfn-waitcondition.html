<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="de-DE"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Erstellen von Wartebedingungen in einer Vorlage - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="using-cfn-waitcondition" /><meta name="default_state" content="using-cfn-waitcondition" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" /><meta name="description" content="Erstellen Sie eine Wartebedingung in einer Vorlage, um die Erstellung von Stack-Ressourcen zu koordinieren oder den Fortschritt eines Konfigurationsprozesses zu verfolgen." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Leitfaden" /><meta name="abstract" content="Erstellen und verwalten Sie AWS Infrastrukturbereitstellungen vorhersehbar und wiederholt mithilfe von AWS CloudFormation mit diesem Benutzerhandbuch." /><meta name="guide-locale" content="de_de" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Leitfaden" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Leitfaden" /><meta id="panorama-serviceConsolePage" value="Erstellen von Wartebedingungen in einer Vorlage" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Erstellen von Wartebedingungen in einer Vorlage - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,Ressourcenbereitstellung,Ressourcenkonfiguration,Infrastrukturverwaltung,CloudFormer,CloudFormation -Stack,CloudFormation Stackset,CloudFormation -Vorlage,Änderungssatz" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Leitfaden",
        "item" : "https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Arbeiten mit AWS CloudFormation-Vorlagen",
        "item" : "https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/template-guide.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Anleitungen",
        "item" : "https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/CHAP_Using.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Erstellen von Wartebedingungen in einer Vorlage",
        "item" : "https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/CHAP_Using.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Dokumentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Leitfaden</a></div><div id="page-toc-src"><a href="#using-cfn-waitconditionhandle">Verwenden eines Wartebedingungs-Handles</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Die vorliegende Übersetzung wurde maschinell erstellt. Im Falle eines Konflikts oder eines Widerspruchs zwischen dieser übersetzten Fassung und der englischen Fassung (einschließlich infolge von Verzögerungen bei der Übersetzung) ist die englische Fassung maßgeblich.</p></awsui-alert><h1 class="topictitle" id="using-cfn-waitcondition">Erstellen von Wartebedingungen in einer Vorlage</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Wichtig</h6></div><div class="awsdocs-note-text"><p>Für Amazon EC2- und Auto Scaling-Ressourcen empfehlen wir die Verwendung eines  CreationPolicy Attributs anstelle von Wartebedingungen. Fügen Sie diesen Ressourcen ein  CreationPolicy Attribut hinzu und verwenden Sie das Hilfsskript cfn-signal, um zu signalisieren, wann ein Instance-Erstellungsprozess erfolgreich abgeschlossen wurde.</p><p>Weitere Informationen finden Sie unter <a href="./aws-attribute-creationpolicy.html">CreationPolicy Attribut</a> oder <a href="./deploying.applications.html">Bereitstellen von Anwendungen auf Amazon EC2 mit AWS CloudFormation</a>.</p></div></div><p>Mit der <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-waitconditionhandle.html"><code class="code">AWS::CloudFormation::WaitConditionHandle</code></a>-Ressource und dem <a href="./aws-attribute-creationpolicy.html">CreationPolicy Attribut</a>-Attribut können Sie die folgenden Aufgaben ausführen:</p><div class="itemizedlist">
          
          
      <ul class="itemizedlist"><li class="listitem">
            <p>Koordinieren der Erstellung von Stack-Ressourcen mit anderen Konfigurationsaktionen, die sich zur Stack-Erstellung extern verhalten</p>
         </li><li class="listitem">
            <p>Verfolgen des Status eines Konfigurationsvorgangs</p>
         </li></ul></div><p>Sie können z. B. die Erstellung einer anderen Ressource beginnen, nachdem eine Anwendungskonfiguration teilweise abgeschlossen ist, oder während eines Installations- und Konfigurationsvorgangs Signale senden, um dessen Fortschritt zu überwachen.</p><h2 id="using-cfn-waitconditionhandle">Verwenden eines Wartebedingungs-Handles</h2>
            
            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Anmerkung</h6></div><div class="awsdocs-note-text"><p>Wenn Sie die <a href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-endpoints.html">VPC-Endpunktfunktion</a> verwenden, müssen Ressourcen in der VPC, die auf Wartebedingungen reagieren, Zugriff auf AWS CloudFormation-spezifische Amazon Simple Storage Service (Amazon S3)-Buckets haben. Ressourcen müssen Wartebedingungs-Antworten an eine vorsignierte Amazon-S3-URL senden. Wenn sie keine Antworten an Amazon S3 senden können, empfängt AWS CloudFormation
keine Antwort und der Stack-Vorgang schlägt fehl. Weitere Informationen finden Sie unter <a href="./cfn-vpce-bucketnames.html">Einrichten von VPC-Endpunkten für AWS CloudFormation</a> und <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/example-bucket-policies-vpc-endpoint.html">Beispiel-Bucket-Richtlinien für VPC-Endpunkte für Amazon S3</a>.</p></div></div>
            <p>Sie können die Wartebedingung und den Wartebedingungs-Handle verwenden, um die Erstellung eines Stacks AWS CloudFormation anzuhalten und auf ein Signal zu warten, bevor der Stack weiter erstellt wird. Sie können beispielsweise Anwendungen auf eine Amazon EC2-Instance herunterladen und konfigurieren, bevor die Erstellung der Amazon EC2-Instance als abgeschlossen betrachtet wird.</p>
            <p>Die folgende Liste enthält eine Zusammenfassung der Funktionsweise einer Wartebedingung mit einem Wartebedingungs-Handle:</p>
            <div class="itemizedlist">
                 
                 
                 
                 
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>AWS CloudFormation erstellt eine Wartebedingung wie jede andere Ressource. Wenn eine Wartebedingung AWS CloudFormation erstellt, meldet es den Status der Wartebedingung als CREATE_IN_PROGRESS und wartet, bis es die erforderliche Anzahl Erfolgssignale erhält oder der Timeout-Zeitraum der Wartebedingung abgelaufen ist. Wenn die erforderliche Anzahl Erfolgssignale AWS CloudFormation erhält, bevor der Timeout-Zeitraum abgelaufen ist, wird die Stack-Erstellung fortgesetzt. Andernfalls wird der Status der Wartebedingung auf gesetzt <code class="code">CREATE_FAILED</code> und der Stack wird zurückgesetzt.</p>
                </li><li class="listitem">
                    <p>Die -<code class="code">Timeout</code>Eigenschaft bestimmt, wie lange auf die erforderliche Anzahl von Erfolgssignalen AWS CloudFormation wartet. <code class="code">Timeout</code> ist eine minimal gebundene Eigenschaft, d. h. das Timeout tritt frühestens zu dem von Ihnen angegebenen Zeitpunkt auf, kann aber kurz danach auftreten. Die maximale Zeit, die Sie angeben können, ist 43200 Sekunden (12 Stunden).</p>
                </li><li class="listitem">
                    <p>In der Regel sollte eine Wartebedingung sofort nach der Erstellung einer bestimmten Ressource beginnen, z. B. einer Amazon EC2-Instance, einer RDS DB-Instance oder einer Auto-Scaling-Gruppe. Dazu fügen Sie das <a href="./aws-attribute-dependson.html">Attribut DependsOn</a> einer Wartebedingung hinzu. Wenn Sie ein <code class="code">DependsOn</code>-Attribut einer Wartebedingung hinzufügen, geben Sie an, dass die Wartebedingung erst erstellt wird, nachdem die Erstellung einer bestimmten Ressource abgeschlossen ist. Wenn die Wartebedingung erstellt wird, AWS CloudFormation beginnt mit dem Timeout-Zeitraum und wartet auf Erfolgssignale.</p>
                </li><li class="listitem">
                    <p>Das Attribut <code class="code">DependsOn</code> können Sie auch für andere Ressourcen verwenden. Beispiel: Sie möchten zunächst eine Amazon-RDS-DB-Instance erstellen und darauf eine Datenbank konfigurieren, bevor Sie die EC2-Instances erstellen, die die betreffende Datenbank verwenden. In diesem Fall erstellen Sie eine Wartebedingung mit einem <code class="code">DependsOn</code>-Attribut, das die DB-Instance angibt. Dann erstellen Sie EC2-Instance-Ressourcen mit <code class="code">DependsOn</code>-Attributen, die die Wartebedingung angeben. Dies würde sicherstellen, dass die EC2-Instances erst unmittelbar nach Abschluss der DB-Instance und der Wartebedingung erstellt werden.</p>
                </li><li class="listitem">
                    <p>AWS CloudFormation muss eine bestimmte Anzahl von Erfolgssignalen für eine Wartebedingung erhalten, bevor der Status dieser Wartebedingung so festgelegt wird, dass die Stack-Erstellung <code class="code">CREATE_COMPLETE</code> fortgesetzt wird. Die Eigenschaft <code class="code">Count</code> der Wartebedingung gibt die Anzahl der Erfolgssignale an. Wenn keine festgelegt ist, ist der Standardwert 1.</p>
                </li><li class="listitem">
                    <p>Eine Wartebedingung erfordert ein Wartebedingungs-Handle zum Einrichten einer vorsignierten URL, die als Signalmechanismus verwendet wird. Mit der vorsignierten URL können Sie ein Signal senden, ohne Ihre AWS Anmeldeinformationen angeben zu müssen. Sie verwenden diese vorsignierte URL, um Erfolg oder Misserfolg anzugeben. Sie ist in einer JSON-Anweisung verkapselt. Informationen zum Format der JSON-Anweisung finden Sie unter <a href="#using-cfn-waitcondition-signaljson">JSON-Format des Signals einer Wartebedingung</a>.</p>
                </li><li class="listitem">
                    <p>Wenn eine Wartebedingung die erforderliche Anzahl Erfolgssignale (wie in der Count-Eigenschaft definiert) erhält, bevor der Timeout-Zeitraum abläuft, AWS CloudFormation markiert die Wartebedingung als <code class="code">CREATE_COMPLETE</code> und setzt die Stack-Erstellung fort. Andernfalls AWS CloudFormation schlägt die Wartebedingung fehl und setzt den Stack zurück (z. B. wenn der Timeout-Zeitraum ohne die erforderlichen Erfolgssignale abläuft oder wenn ein Fehlersignal empfangen wird).</p>
                </li></ul></div>
            <div class="procedure"><h6>So verwenden Sie eine Wartebedingung in einem Stack:</h6><ol><li>
                    <p>Deklarieren Sie eine <code class="code">AWS::CloudFormation::WaitConditionHandle</code>-Ressource in der Vorlage des Stacks. Ein Wartebedingungs-Handle hat keine Eigenschaften. Ein Verweis auf eine <code class="code">WaitConditionHandle</code>-Ressource wird jedoch zu einer vorsignierten URL aufgelöst, mit deren Hilfe Sie der <code class="code">WaitCondition</code> den Erfolg oder Fehler signalisieren können. Beispielsweise:</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"myWaitHandle" : <span>{</span>
     "Type" : "AWS::CloudFormation::WaitConditionHandle",
     "Properties" : <span>{</span>
     }
}</code></pre>
                </li><li>
                    <p>Deklarieren Sie eine <code class="code">AWS::CloudFormation::WaitCondition</code>-Ressource in der Vorlage des Stacks. Eine <code class="code">WaitCondition</code>-Ressource verfügt über zwei erforderliche Eigenschaften: <code class="code">Handle</code> ist ein Verweis auf ein in der Vorlage deklariertes <code class="code">WaitConditionHandle</code> und <code class="code">Timeout</code> die Anzahl Sekunden, die AWS CloudFormation warten muss. Sie können optional die -<code class="code">Count</code>Eigenschaft festlegen, die die Anzahl der Erfolgssignale bestimmt, die die Wartebedingung erhalten muss, bevor die Stack-Erstellung fortsetzen AWS CloudFormation kann.</p>
                    <p>Um zu steuern, wann die Wartebedingung ausgelöst wird, legen Sie ein <code class="code">DependsOn</code>-Attribut für die Wartebedingung fest. Eine <code class="code">DependsOn</code>-Klausel ordnet eine Ressource der Wartebedingung zu. Nachdem AWS CloudFormation
die Ressource <code class="code">DependsOn</code> erstellt hat, wird jede weitere Erstellung von Stack-Ressourcen blockiert, bis eines der folgenden Ereignisse eintritt: a) der Timeout-Zeitraum läuft ab, b) die erforderliche Anzahl Erfolgssignale wird empfangen, c) ein Fehlersignal wird empfangen.</p>
                    <p>Hier folgt ein Beispiel für eine Wartebedingung, die nach der erfolgreichen Erstellung der Ressource <code class="code">Ec2Instance</code> beginnt, die Ressource <code class="code">myWaitHandle</code> als <code class="code">WaitConditionHandle</code> verwendet, ein Timeout von 4 500 Sekunden und den Standardwert 1 für <code class="code">Count</code> aufweist (da keine <code class="code">Count</code>-Eigenschaft angegeben ist):</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"myWaitCondition" : <span>{</span>
    "Type" : "AWS::CloudFormation::WaitCondition",
    "DependsOn" : "Ec2Instance",
    "Properties" : <span>{</span>
        "Handle" : <span>{</span> "Ref" : "myWaitHandle" },
        "Timeout" : "4500"
    }
}</code></pre>
                </li><li>
                    <p>Rufen Sie die vorsignierte URL ab, die für Signale verwendet werden soll.</p>
                    <p>In der Vorlage kann die vorsignierte URL abgerufen werden, indem der logische Name der Ressource <code class="code">AWS::CloudFormation::WaitConditionHandle</code> an die intrinsische Ref-Funktion übergeben wird. Sie können beispielsweise mithilfe der Eigenschaft <code class="code">UserData</code> von <code class="code">AWS::EC2::Instance</code>-Ressourcen die vorsignierte URL an die Amazon-EC2-Instances übergeben, damit die Skripts oder Anwendungen, die auf diesen Instances ausgeführt werden, den Erfolg oder Fehler an AWS CloudFormationsignalisieren können:</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"UserData" : <span>{</span>
   "Fn::Base64" : <span>{</span>
       "Fn::Join" : [ "", ["SignalURL=", <span>{</span> "Ref" : "myWaitHandle" } ] ]
   }
}</code></pre>
                    <p>Hinweis: In der AWS Management Console oder den AWS CloudFormation Befehlszeilen-Tools wird die vorsignierte URL als physische ID der Wartebedingungs-Handle-Ressource angezeigt.</p>
                </li><li>
                    <p>Wählen Sie eine Methode aus, mit der erkannt wird, wann für den Stack die Wartebedingung beginnt.</p>
                    <p>Wenn Sie den Stack mit aktivierten Benachrichtigungen erstellen, AWS CloudFormation veröffentlicht eine Benachrichtigung für jedes Stack-Ereignis für das angegebene Thema. Wenn Sie oder Ihre Anwendung dieses Thema abonnieren, können Sie die Benachrichtigungen für das Wartebedingungs-Handle-Erstellungsereignis überwachen und die vorsignierte URL aus der Benachrichtigungsnachricht abrufen.</p>
                    <p>Sie können die Ereignisse des Stacks auch mithilfe der AWS Management Console, der AWS CloudFormation Befehlszeilen-Tools oder der AWS CloudFormation API überwachen.</p>
                </li><li>
                    <p>Verwenden Sie die vorsignierte URL, um Erfolg oder Fehler anzugeben.</p>
                    <p>Um ein Signal zu senden, senden Sie eine HTTP-Anforderungsnachricht mithilfe der vorsignierten URL. Die Anforderungsmethode muss <code class="code">PUT</code> und der Header <code class="code">Content-Type</code> muss eine leere Zeichenfolge oder nicht angegeben sein. Die Anforderungsnachricht muss eine JSON-Struktur der Form aufweisen, die in <a href="#using-cfn-waitcondition-signaljson">JSON-Format des Signals einer Wartebedingung</a> angegeben ist.</p>
                    <p>Sie müssen die Anzahl der Erfolgssignale senden, die von der -<code class="code">Count</code>Eigenschaft angegeben werden AWS CloudFormation , damit die Stack-Erstellung fortsetzen kann. Wenn <code class="code">Count</code> größer als 1 ist, muss der Wert <code class="code">UniqueId</code> für alle Signale, die an eine bestimmte Wartebedingung gesendet werden, jeweils eindeutig sein. Die <code class="code">UniqueId</code> ist eine beliebige alphanumerische Zeichenfolge.</p>
                    <p>Ein <code class="code">curl</code>-Befehl ist eine Möglichkeit zum Senden eines Signals. Das folgende Beispiel zeigt eine <code class="code">curl</code>-Befehlszeile, die einer Wartebedingung den Erfolg signalisiert.</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="prompt" copy="false">$ </code><code class="userinput">curl -T /tmp/a \
  "https://cloudformation-waitcondition-test.s3.amazonaws.com/arn%3Aaws%3Acloudformation%3A<span>us-east-2</span>%3A034017226601%3Astack%2Fstack-gosar-20110427004224-test-stack-with-WaitCondition--VEYW%2Fe498ce60-70a1-11e0-81a7-5081d0136786%2FmyWaitConditionHandle?Expires=1303976584&amp;AWSAccessKeyId=AKIAIOSFODNN7EXAMPLE&amp;Signature=ik1twT6hpS4cgNAw7wyOoRejVoo%3D"</code></code></pre>
                    <p>wobei die Datei /tmp/a die folgenden JSON-Struktur enthält:</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">
<span>{</span>
   "Status" : "SUCCESS",
   "Reason" : "Configuration Complete",
   "UniqueId" : "ID1234",
   "Data" : "Application has completed configuration."
}</code></pre>
                    <p>Das folgende Beispiel zeigt eine <code class="code">curl</code>-Befehlszeile, die dasselbe Erfolgssignal sendet, wobei aber die JSON-Struktur als Parameter in der Befehlszeile gesendet wird.</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="prompt" copy="false">$ </code><code class="userinput">curl -X PUT \
  -H 'Content-Type:' --data-binary '<span>{</span>"Status" : "SUCCESS","Reason" : "Configuration Complete","UniqueId" : "ID1234","Data" : "Application has completed configuration."}' \
  "https://cloudformation-waitcondition-test.s3.amazonaws.com/arn%3Aaws%3Acloudformation%3A<span>us-east-2</span>%3A034017226601%3Astack%2Fstack-gosar-20110427004224-test-stack-with-WaitCondition--VEYW%2Fe498ce60-70a1-11e0-81a7-5081d0136786%2FmyWaitConditionHandle?Expires=1303976584&amp;AWSAccessKeyId=AKIAIOSFODNN7EXAMPLE&amp;Signature=ik1twT6hpS4cgNAw7wyOoRejVoo%3D"</code></code></pre>
                </li></ol></div>
            <h3 id="using-cfn-waitcondition-signaljson">JSON-Format des Signals einer Wartebedingung</h3>
                
                <p>Wenn Sie ein Signal an eine Wartebedingung senden, müssen Sie das folgenden JSON-Format verwenden:</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Status" : "StatusValue",
  "UniqueId" : "Some UniqueId",
  "Data" : "Some Data",
  "Reason" : "Some Reason"
}</code></pre>
                <p>Wobei gilt:</p>
                <p><em>StatusValue</em> muss einer der folgenden Werte sein:</p>
                <div class="itemizedlist">
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p><em>SUCCESS</em> gibt ein Erfolgssignal an.</p>
                    </li><li class="listitem">
                        <p><em>FAILURE</em> gibt ein Fehlersignal an und löst eine fehlgeschlagene Wartebedingung und das Rollback des Stacks aus.</p>
                    </li></ul></div>
                <p><em><code class="code">UniqueId</code></em> identifiziert das Signal an AWS CloudFormation. Wenn die -<code class="code">Count</code>Eigenschaft der Wartebedingung größer als 1 ist, muss der <code class="code">UniqueId</code> Wert für alle Signale, die für eine bestimmte Wartebedingung gesendet werden<code class="code">UniqueId</code>, eindeutig sein. Andernfalls AWS CloudFormation betrachtet das Signal als erneute Übertragung des zuvor gesendeten Signals mit demselben und ignoriert das Signal.</p>
                <p><em><code class="code">Data</code></em> enthält Informationen, die Sie zusammen mit dem Signal senden möchten. Auf den <code class="code">Data</code> Wert kann zugegriffen werden, indem die -<a href="./intrinsic-function-reference-getatt.html">Fn::GetAtt Funktion</a> innerhalb der Vorlage aufgerufen wird. Wenn Sie beispielsweise den folgenden Ausgabewert für die Wartebedingung erstellen<code class="code">mywaitcondition</code>, können Sie den <code class="code">aws cloudformation describe-stacks</code> Befehl, die <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_DescribeStacks.html"><code class="code">DescribeStacks</code></a> API-Operation oder die Registerkarte <b>Outputs</b> der AWS CloudFormation Konsole verwenden, um die von gültigen Signalen <code class="code">Data</code> gesendeten anzuzeigen AWS CloudFormation: </p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">
"WaitConditionData" : <span>{</span>
  "Value" : <span>{</span> "Fn::GetAtt" : [ "mywaitcondition", "Data" ]},
  "Description" : "The data passed back as part of signalling the WaitCondition"
},
            </code></pre>
                <p>Die <a href="./intrinsic-function-reference-getatt.html">Fn::GetAtt Funktion</a> gibt die <code class="code">UniqueId</code> und <code class="code">Data</code> als Name-Wert-Paar innerhalb einer JSON-Struktur zurück. Das folgende Beispiel zeigt ein <code class="code">Data</code>-Attribut, das vom oben definierten Ausgabewert <code class="code">WaitConditionData</code> zurückgegeben wird:</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>"Signal1":"Application has completed configuration."}</code></pre>
                <p><em>Reason</em> ist eine Zeichenfolge mit keinen anderen Einschränkungen für den Inhalt als der Übereinstimmung mit JSON.</p>
             
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warnung" /> <strong>JavaScript ist in Ihrem Browser nicht verfügbar oder deaktiviert.</strong></p><p>Zur Nutzung der AWS-Dokumentation muss JavaScript aktiviert sein. Weitere Informationen finden auf den Hilfe-Seiten Ihres Browsers.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Dokumentkonventionen</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./deploying.applications.html">Bereitstellen von Anwendungen</div><div id="next" class="next-link" accesskey="n" href="./CHAP_TemplateQuickRef.html">Vorlagenausschnitte</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Ja</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass wir gute Arbeit geleistet haben!</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, was wir richtig gemacht haben, damit wir noch besser werden?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Nein</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass diese Seite überarbeitet werden muss. Es tut uns Leid, dass wir Ihnen nicht weiterhelfen konnten.</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, wie wir die Dokumentation verbessern können?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-cfn-waitcondition.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>