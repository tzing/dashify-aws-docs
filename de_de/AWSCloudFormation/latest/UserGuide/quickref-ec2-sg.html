<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="de-DE"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Verwalten von Sicherheitsgruppen mit AWS CloudFormation - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="quickref-ec2-sg" /><meta name="default_state" content="quickref-ec2-sg" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" /><meta name="description" content="Mithilfe dieser beispielhaften Vorlagenausschnitte können Sie Sicherheitsgruppen und Amazon-EC2-Instances mit AWS CloudFormation verwalten." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Leitfaden" /><meta name="abstract" content="Erstellen und verwalten Sie AWS Infrastrukturbereitstellungen vorhersehbar und wiederholt mithilfe von AWS CloudFormation mit diesem Benutzerhandbuch." /><meta name="guide-locale" content="de_de" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Leitfaden" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Leitfaden" /><meta id="panorama-serviceConsolePage" value="Verwalten von Sicherheitsgruppen mit AWS CloudFormation" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Verwalten von Sicherheitsgruppen mit AWS CloudFormation - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,Ressourcenbereitstellung,Ressourcenkonfiguration,Infrastrukturverwaltung,CloudFormer,CloudFormation -Stack,CloudFormation Stackset,CloudFormation -Vorlage,Änderungssatz" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Leitfaden",
        "item" : "https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Arbeiten mit AWS CloudFormation-Vorlagen",
        "item" : "https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/template-guide.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Vorlagenausschnitte",
        "item" : "https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/CHAP_TemplateQuickRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Amazon EC2 CloudFormation -Vorlagenausschnitte",
        "item" : "https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/quickref-ec2.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Verwalten von Sicherheitsgruppen mit AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/quickref-ec2.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Dokumentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Leitfaden</a></div><div id="page-toc-src"><a href="#quickref-ec2-instances-associate-security-group">Verknüpfen einer Amazon-EC2-Instance mit einer Sicherheitsgruppe</a><a href="#quickref-ec2-instances-ingress">Erstellen von Sicherheitsgruppen mit Regeln für eingehenden Datenverkehr</a><a href="#scenario-ec2-security-group-elbingress">Erstellen eines Elastic Load Balancers mit einer Regel für eingehenden Datenverkehr für eine Sicherheitsgruppe</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter><filter label="" id=""></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Die vorliegende Übersetzung wurde maschinell erstellt. Im Falle eines Konflikts oder eines Widerspruchs zwischen dieser übersetzten Fassung und der englischen Fassung (einschließlich infolge von Verzögerungen bei der Übersetzung) ist die englische Fassung maßgeblich.</p></awsui-alert><h1 class="topictitle" id="quickref-ec2-sg">Verwalten von Sicherheitsgruppen mit AWS CloudFormation</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Die folgenden Ausschnitte zeigen, wie Sie mit AWS CloudFormation Sicherheitsgruppen und Amazon-EC2-Instances verwalten, um so den Zugriff auf Ihre AWS-Ressourcen zu steuern.</p><div class="highlights" id="inline-topiclist"><h6>Kategorien von Ausschnitten</h6><ul><li><a href="#quickref-ec2-instances-associate-security-group">Verknüpfen einer Amazon-EC2-Instance mit einer Sicherheitsgruppe</a></li><li><a href="#quickref-ec2-instances-ingress">Erstellen von Sicherheitsgruppen mit Regeln für eingehenden Datenverkehr</a></li><li><a href="#scenario-ec2-security-group-elbingress">Erstellen eines Elastic Load Balancers mit einer Regel für eingehenden Datenverkehr für eine Sicherheitsgruppe</a></li></ul></div>
            <h2 id="quickref-ec2-instances-associate-security-group">Verknüpfen einer Amazon-EC2-Instance mit einer Sicherheitsgruppe</h2>
            <p>Die folgenden Beispielausschnitte zeigen, wie Sie eine Amazon-EC2-Instance mithilfe von AWS CloudFormation mit einer standardmäßigen Amazon-VPC-Sicherheitsgruppe verknüpfen.</p>
            <div class="highlights" id="inline-topiclist"><h6>Beispielausschnitte</h6><ul><li><a href="#using-cfn-getatt-default-values">Verknüpfen einer Amazon-EC2-Instance mit einer standardmäßigen VPC-Sicherheitsgruppe</a></li><li><a href="#scenario-ec2-volumeattachment">Erstellen einer Amazon-EC2-Instance mit einem angefügten Volume und einer Sicherheitsgruppe</a></li></ul></div>
             
                <h3 id="using-cfn-getatt-default-values">Verknüpfen einer Amazon-EC2-Instance mit einer standardmäßigen VPC-Sicherheitsgruppe</h3>
                <p>Mit dem folgenden Ausschnitt wird eine Amazon-VPC, ein Subnetz in der VPC und eine Amazon-EC2-Instance erstellt. Die VPC wird mithilfe einer <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpc.html">AWS::EC2::VPC</a>-Ressource erstellt. Der IP-Adressbereich für die VPC wird in der größeren Vorlage definiert und durch den Parameter <code class="code">MyVPCCIDRRange</code> referenziert.</p>
                <p>Ein Subnetz wird in der VPC mithilfe einer <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-subnet.html">AWS::EC2:: Subnet</a>-Ressource erstellt. Das Subnetz wird mit der VPC verknüpft, die als <code class="code">MyVPC</code> referenziert wird.</p>
                <p>Eine EC2-Instance wird innerhalb der VPC und des Subnetzes mithilfe einer -<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-instance.html">AWS::EC2::Instance</a>Ressource gestartet. Diese Ressource gibt das Amazon Machine Image (AMI) an, das zum Starten der Instance verwendet werden soll, das Subnetz, in dem die Instance ausgeführt wird, und die mit der Instance zu verknüpfende Sicherheitsgruppe. Die -<code class="code">Fn::FindInMap</code>Funktion wird verwendet, um Werte aus der in der Vorlage definierten <code class="code">AWSRegionToAMI</code> Zuordnung abzurufen und die <code class="code">ImageId</code> für die <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-instance.html">AWS::EC2::Instance</a> Ressource zu bestimmen. </p>
                <p>Die ID der Sicherheitsgruppe wird mit der Funktion <code class="code">Fn::GetAtt</code> abgerufen, die die Standardsicherheitsgruppe aus der Ressource <code class="code">MyVPC</code> abruft. </p>
                <p>Die Instance wird in der im Ausschnitt definierten Ressource <code class="code">MySubnet</code> platziert. </p>

                <p>Wenn Sie eine VPC mit AWS CloudFormation erstellen, erstellt AWS automatisch Standardressourcen in der VPC, darunter eine Standardsicherheitsgruppe. Wenn Sie jedoch eine VPC in einer AWS CloudFormation-Vorlage definieren, haben Sie beim Erstellen der Vorlage möglicherweise keinen Zugriff auf die IDs dieser Standardressourcen. Um auf die in der Vorlage angegebenen Standardressourcen zuzugreifen und diese zu nutzen, können Sie intrinsische Funktionen wie etwa <a href="./intrinsic-function-reference-getatt.html">Fn::GetAtt</a> verwenden. Mithilfe dieser Funktion können Sie mit den Standardressourcen arbeiten, die von AWS CloudFormation automatisch erstellt werden.</p>
                <div id="JSON" name="JSON" class="section langfilter">
                    <h4 id="quickref-ec2-example-15.json">JSON</h4>

                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"MyVPC": <span>{</span>
    "Type": "AWS::EC2::VPC",
    "Properties": <span>{</span>
        "CidrBlock": <span>{</span>
            "Ref": "MyVPCCIDRRange"
        },
        "EnableDnsSupport": false,
        "EnableDnsHostnames": false,
        "InstanceTenancy": "default"
    }
},
"MySubnet": <span>{</span>
    "Type": "AWS::EC2::Subnet",
    "Properties": <span>{</span>
        "CidrBlock": <span>{</span>
            "Ref": "MyVPCCIDRRange"
        },
        "VpcId": <span>{</span>
            "Ref": "MyVPC"
        }
    }
},
"MyInstance": <span>{</span>
    "Type": "AWS::EC2::Instance",
    "Properties": <span>{</span>
        "ImageId": <span>{</span>
            "Fn::FindInMap": [
                "AWSRegionToAMI",
                <span>{</span>
                    "Ref": "AWS::Region"
                },
                "64"
            ]
        },
        "SecurityGroupIds": [
            <span>{</span>
                "Fn::GetAtt": [
                    "MyVPC",
                    "DefaultSecurityGroup"
                ]
            }
        ],
        "SubnetId": <span>{</span>
            "Ref": "MySubnet"
        }
    }
}</code></pre>
                </div>
                <div id="YAML" name="YAML" class="section langfilter">
                    <h4 id="quickref-ec2-example-15.yaml">YAML</h4>

                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">MyVPC:
  Type: AWS::EC2::VPC
  Properties:
    CidrBlock:
      Ref: MyVPCCIDRRange
    EnableDnsSupport: false
    EnableDnsHostnames: false
    InstanceTenancy: default
MySubnet:
  Type: AWS::EC2::Subnet
  Properties:
    CidrBlock:
      Ref: MyVPCCIDRRange
    VpcId:
      Ref: MyVPC
MyInstance:
  Type: AWS::EC2::Instance
  Properties:
    ImageId:
      Fn::FindInMap:
        - AWSRegionToAMI
        - Ref: AWS::Region
        - "64"
    SecurityGroupIds:
      - Fn::GetAtt:
          - MyVPC
          - DefaultSecurityGroup
    SubnetId:
      Ref: MySubnet</code></pre>
                </div>
             
             
                <h3 id="scenario-ec2-volumeattachment">Erstellen einer Amazon-EC2-Instance mit einem angefügten Volume und einer Sicherheitsgruppe</h3>
                <p>Der folgende Codeausschnitt erstellt eine Amazon EC2-Instance mit einer -<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-instance.html">AWS::EC2::Instance</a>Ressource, die von einem bestimmten AMI gestartet wird. Die Instance ist einer Sicherheitsgruppe zugeordnet, die eingehenden SSH-Datenverkehr auf Port 22 von einer bestimmten IP-Adresse unter Verwendung einer -<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-security-group.html">AWS::EC2::SecurityGroup</a>Ressource zulässt. Es erstellt ein Amazon-EBS-Volume mit 100 GB mithilfe einer -<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-volume.html">AWS::EC2::Volume</a>Ressource. Das Volume wird in derselben Availability Zone wie die Instance erstellt (wie in der Funktion <code class="code">GetAtt</code> angegeben) und in der Instance auf dem Gerät <code class="code">/dev/sdh</code> gemountet.</p>
                <p>Weitere Informationen zum Erstellen von Amazon-EBS-Volumes finden Sie unter <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-creating-volume.html">Erstellen eines Amazon-EBS-Volumes</a>.</p>
                <div id="JSON" name="JSON" class="section langfilter">
                    <h4 id="quickref-ec2-example-14.json">JSON</h4>

                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Ec2Instance": <span>{</span>
    "Type": "AWS::EC2::Instance",
    "Properties": <span>{</span>
        "SecurityGroups": [
            <span>{</span>
                "Ref": "InstanceSecurityGroup"
            }
        ],
        "ImageId": "<code class="replaceable">ami-1234567890abcdef0</code>"
    }
},
"InstanceSecurityGroup": <span>{</span>
    "Type": "AWS::EC2::SecurityGroup",
    "Properties": <span>{</span>
        "GroupDescription": "Enable SSH access via port 22",
        "SecurityGroupIngress": [
            <span>{</span>
                "IpProtocol": "tcp",
                "FromPort": "22",
                "ToPort": "22",
                "CidrIp": "<code class="replaceable">192.0.2.0/24</code>"
            }
        ]
    }
},
"NewVolume": <span>{</span>
    "Type": "AWS::EC2::Volume",
    "Properties": <span>{</span>
        "Size": "100",
        "AvailabilityZone": <span>{</span>
            "Fn::GetAtt": [
                "Ec2Instance",
                "AvailabilityZone"
            ]
        }
    }
},
"MountPoint": <span>{</span>
    "Type": "AWS::EC2::VolumeAttachment",
    "Properties": <span>{</span>
        "InstanceId": <span>{</span>
            "Ref": "Ec2Instance"
        },
        "VolumeId": <span>{</span>
            "Ref": "NewVolume"
        },
        "Device": "/dev/sdh"
    }
}</code></pre>
                </div>
                <div id="YAML" name="YAML" class="section langfilter">
                    <h4 id="quickref-ec2-example-14.yaml">YAML</h4>

                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Ec2Instance:
  Type: AWS::EC2::Instance
  Properties:
    SecurityGroups:
      - !Ref InstanceSecurityGroup
    ImageId: <code class="replaceable">ami-1234567890abcdef0</code>
InstanceSecurityGroup:
  Type: AWS::EC2::SecurityGroup
  Properties:
    GroupDescription: Enable SSH access via port 22
    SecurityGroupIngress:
      - IpProtocol: tcp
        FromPort: 22
        ToPort: 22
        CidrIp: <code class="replaceable">192.0.2.0/24</code>
NewVolume:
  Type: AWS::EC2::Volume
  Properties:
    Size: 100
    AvailabilityZone: !GetAtt [Ec2Instance, AvailabilityZone]
MountPoint:
  Type: AWS::EC2::VolumeAttachment
  Properties:
    InstanceId: !Ref Ec2Instance
    VolumeId: !Ref NewVolume
    Device: /dev/sdh</code></pre>
                </div>
             


         
            <h2 id="quickref-ec2-instances-ingress">Erstellen von Sicherheitsgruppen mit Regeln für eingehenden Datenverkehr</h2>
            <p>Die folgenden Beispielausschnitte zeigen, wie mit AWS CloudFormation Sicherheitsgruppen mit bestimmten Regeln für eingehenden Datenverkehr konfiguriert werden können.</p>
            <div class="highlights" id="inline-topiclist"><h6>Ausschnitte</h6><ul><li><a href="#scenario-ec2-security-group-rule">Erstellen einer Sicherheitsgruppe mit Regeln für eingehenden Datenverkehr für SSH- und HTTP-Zugriff</a></li><li><a href="#scenario-ec2-security-group-two-ports">Erstellen einer Sicherheitsgruppe mit Regeln für eingehenden Datenverkehr für SSH- und HTTP-Zugriff aus angegebenen CIDR-Bereichen</a></li><li><a href="#scenario-ec2-security-group-ingress">Erstellen von miteinander kommunizierenden Sicherheitsgruppen mit Regeln für eingehenden Datenverkehr</a></li></ul></div>
             
                <h3 id="scenario-ec2-security-group-rule">Erstellen einer Sicherheitsgruppe mit Regeln für eingehenden Datenverkehr für SSH- und HTTP-Zugriff</h3>

                <p>Der folgende Codeausschnitt beschreibt zwei Eingangsregeln für Sicherheitsgruppen mithilfe einer -<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-security-group.html">AWS::EC2::SecurityGroup</a>Ressource. Die erste Regel erlaubt den SSH-Zugriff (Port 22) aus einer vorhandenen Sicherheitsgruppe mit dem Namen <code class="code">MyAdminSecurityGroup</code>, die dem Konto AWS mit der Kontonummer <code class="code">1111-2222-3333</code> gehört. Die zweite Regel für eingehenden Datenverkehr erlaubt den HTTP-Zugriff (Port 80) aus einer anderen Sicherheitsgruppe namens <code class="code">MySecurityGroupCreatedInCFN</code>, die in derselben Vorlage erstellt wurde. Mithilfe der Funktion <code class="code">Ref</code> wird der logische Name der Sicherheitsgruppe referenziert, die in derselben Vorlage erstellt wurde. </p>
                <p>In der ersten Regel für eingehenden Datenverkehr müssen Sie sowohl für die Eigenschaft <code class="code">SourceSecurityGroupName</code> als auch für die Eigenschaft <code class="code">SourceSecurityGroupOwnerId</code> einen Wert hinzufügen. In der zweiten Regel für eingehenden Datenverkehr referenziert <code class="code">MySecurityGroupCreatedInCFNTemplate</code> eine andere Sicherheitsgruppe, die in derselben Vorlage erstellt wurde. Vergewissern Sie sich, dass der logische Name <code class="code">MySecurityGroupCreatedInCFNTemplate</code> mit dem tatsächlichen logischen Namen der Sicherheitsgruppe übereinstimmt, die Sie in der größeren Vorlage angeben. </p>
                <p>Weitere Informationen zu Sicherheitsgruppen finden Sie unter <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-security-groups.html">Amazon-EC2-Sicherheitsgruppen für Linux-Instances</a> oder unter <a href="https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ec2-security-groups.html">Amazon-EC2-Sicherheitsgruppen für Windows-Instances</a>.</p>
                <div id="JSON" name="JSON" class="section langfilter">
                    <h4 id="quickref-ec2-example-10.json">JSON</h4>

                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"SecurityGroup": <span>{</span>
    "Type": "AWS::EC2::SecurityGroup",
    "Properties": <span>{</span>
        "GroupDescription": "Allow connections from specified source security group",
        "SecurityGroupIngress": [
            <span>{</span>
                "IpProtocol": "tcp",
                "FromPort": "22",
                "ToPort": "22",
                "SourceSecurityGroupName": "MyAdminSecurityGroup",
                "SourceSecurityGroupOwnerId": "<code class="replaceable">1111-2222-3333</code>"
            },
            <span>{</span>
                "IpProtocol": "tcp",
                "FromPort": "80",
                "ToPort": "80",
                "SourceSecurityGroupName": <span>{</span>
                    "Ref": "MySecurityGroupCreatedInCFNTemplate"
                }
            }
        ]
    }
}</code></pre>
                </div>
                <div id="YAML" name="YAML" class="section langfilter">
                    <h4 id="quickref-ec2-example-10.yaml">YAML</h4>

                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">SecurityGroup:
  Type: 'AWS::EC2::SecurityGroup'
  Properties:
    GroupDescription: Allow connections from specified source security group
    SecurityGroupIngress:
      - IpProtocol: tcp
        FromPort: '22'
        ToPort: '22'
        SourceSecurityGroupName: MyAdminSecurityGroup
        SourceSecurityGroupOwnerId: '<code class="replaceable">1111-2222-3333</code>'
      - IpProtocol: tcp
        FromPort: '80'
        ToPort: '80'
        SourceSecurityGroupName:
          Ref: MySecurityGroupCreatedInCFNTemplate</code></pre>
                </div>
             
             
                <h3 id="scenario-ec2-security-group-two-ports">Erstellen einer Sicherheitsgruppe mit Regeln für eingehenden Datenverkehr für SSH- und HTTP-Zugriff aus angegebenen CIDR-Bereichen</h3>

                <p>Mit dem folgenden Ausschnitt wird eine Sicherheitsgruppe für eine Amazon-EC2-Instance mit zwei Regeln für eingehenden Datenverkehr erstellt. Diese Regeln erlauben eingehenden TCP-Verkehr an den angegebenen Ports aus den festgelegten CIDR-Bereichen. Eine -<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-security-group.html">AWS::EC2::SecurityGroup</a>Ressource wird verwendet, um die Regeln anzugeben. Für jede Regel müssen Sie ein Protokoll angeben. Für TCP müssen Sie einen Port oder Portbereich angeben. Wenn Sie weder eine Quellsicherheitsgruppe noch einen CIDR-Bereich angeben, wird der Stack zwar gestartet, die Regel aber nicht auf die Sicherheitsgruppe angewendet. </p>
                <p>Weitere Informationen zu Sicherheitsgruppen finden Sie unter <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-security-groups.html">Amazon-EC2-Sicherheitsgruppen für Linux-Instances</a> oder unter <a href="https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ec2-security-groups.html">Amazon-EC2-Sicherheitsgruppen für Windows-Instances</a>.</p>
                <div id="" name="" class="section langfilter">
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"ServerSecurityGroup": <span>{</span>
  "Type": "AWS::EC2::SecurityGroup",
  "Properties": <span>{</span>
    "GroupDescription": "Allow connections from specified CIDR ranges",
    "SecurityGroupIngress": [
      <span>{</span>
        "IpProtocol": "tcp",
        "FromPort": "80",
        "ToPort": "80",
        "CidrIp": "<code class="replaceable">192.0.2.0/24</code>"
      },
      <span>{</span>
        "IpProtocol": "tcp",
        "FromPort": "22",
        "ToPort": "22",
        "CidrIp": "<code class="replaceable">192.0.2.0/24</code>"
      }
    ]
  }
}</code></pre>
                </div>
                <div id="YAML" name="YAML" class="section langfilter">
                    <h4 id="quickref-ec2-example-9.yaml">YAML</h4>

                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">ServerSecurityGroup:
  Type: AWS::EC2::SecurityGroup
  Properties:
    GroupDescription: Allow connections from specified CIDR ranges
    SecurityGroupIngress:
      - IpProtocol: tcp
        FromPort: 80
        ToPort: 80
        CidrIp: <code class="replaceable">192.0.2.0/24</code>
      - IpProtocol: tcp
        FromPort: 22
        ToPort: 22
        CidrIp: <code class="replaceable">192.0.2.0/24</code></code></pre>
                </div>
             
             
                <h3 id="scenario-ec2-security-group-ingress">Erstellen von miteinander kommunizierenden Sicherheitsgruppen mit Regeln für eingehenden Datenverkehr</h3>

                <p>Der folgende Codeausschnitt verwendet die -<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-security-group.html">AWS::EC2::SecurityGroup</a>Ressource, um zwei Amazon EC2-Sicherheitsgruppen zu erstellen, <code class="code">SGroup1</code> und <code class="code">SGroup2</code>. Eingangsregeln, die die Kommunikation zwischen den beiden Sicherheitsgruppen ermöglichen, werden mithilfe der <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-security-group-ingress.html">AWS::EC2::SecurityGroupIngress</a>-Ressource erstellt. <code class="code">SGroup1Ingress</code> richtet eine Eingangsregel für ein, <code class="code">SGroup1</code> die eingehenden TCP-Datenverkehr auf Port 80 von der Quellsicherheitsgruppe zulässt<code class="code">SGroup2</code>. <code class="code">SGroup2Ingress</code> richtet eine Eingangsregel für ein<code class="code">SGroup2</code>, die eingehenden TCP-Datenverkehr auf Port 80 von der Quellsicherheitsgruppe zulässt, <code class="code">SGroup1</code>. </p>
                <div id="JSON" name="JSON" class="section langfilter">
                    <h4 id="quickref-ec2-example-12.json">JSON</h4>

                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"SGroup1": <span>{</span>
    "Type": "AWS::EC2::SecurityGroup",
    "Properties": <span>{</span>
        "GroupDescription": "EC2 instance access"
    }
},
"SGroup2": <span>{</span>
    "Type": "AWS::EC2::SecurityGroup",
    "Properties": <span>{</span>
        "GroupDescription": "EC2 instance access"
    }
},
"SGroup1Ingress": <span>{</span>
    "Type": "AWS::EC2::SecurityGroupIngress",
    "Properties": <span>{</span>
        "GroupName": <span>{</span>
            "Ref": "SGroup1"
        },
        "IpProtocol": "tcp",
        "ToPort": "80",
        "FromPort": "80",
        "SourceSecurityGroupName": <span>{</span>
            "Ref": "SGroup2"
        }
    }
},
"SGroup2Ingress": <span>{</span>
    "Type": "AWS::EC2::SecurityGroupIngress",
    "Properties": <span>{</span>
        "GroupName": <span>{</span>
            "Ref": "SGroup2"
        },
        "IpProtocol": "tcp",
        "ToPort": "80",
        "FromPort": "80",
        "SourceSecurityGroupName": <span>{</span>
            "Ref": "SGroup1"
        }
    }
}</code></pre>
                </div>
                <div id="YAML" name="YAML" class="section langfilter">
                    <h4 id="quickref-ec2-example-12.yaml">YAML</h4>

                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">SGroup1:
  Type: AWS::EC2::SecurityGroup
  Properties:
    GroupDescription: EC2 Instance access
SGroup2:
  Type: AWS::EC2::SecurityGroup
  Properties:
    GroupDescription: EC2 Instance access
SGroup1Ingress:
  Type: AWS::EC2::SecurityGroupIngress
  Properties:
    GroupName: !Ref SGroup1
    IpProtocol: tcp
    ToPort: 80
    FromPort: 80
    SourceSecurityGroupName: !Ref SGroup2
SGroup2Ingress:
  Type: AWS::EC2::SecurityGroupIngress
  Properties:
    GroupName: !Ref SGroup2
    IpProtocol: tcp
    ToPort: 80
    FromPort: 80
    SourceSecurityGroupName: !Ref SGroup1</code></pre>
                </div>
             
         
            <h2 id="scenario-ec2-security-group-elbingress">Erstellen eines Elastic Load Balancers mit einer Regel für eingehenden Datenverkehr für eine Sicherheitsgruppe</h2>

            <p>Die folgende Vorlage erstellt eine -<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-elb.html">AWS::ElasticLoadBalancing::LoadBalancer</a>Ressource in der angegebenen Availability Zone. Die -<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-elb.html">AWS::ElasticLoadBalancing::LoadBalancer</a>Ressource ist so konfiguriert, dass sie auf Port 80 auf HTTP-Datenverkehr überwacht und Anfragen an Instances auch auf Port 80 weiterleitet. Der Elastic Load Balancer übernimmt den Lastenausgleich des eingehenden HTTP-Datenverkehrs unter den Instances.</p>
            <p> Darüber hinaus generiert diese Vorlage eine -<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-security-group.html">AWS::EC2::SecurityGroup</a>Ressource, die dem Load Balancer zugeordnet ist. Diese Sicherheitsgruppe wird mit einer einzigen Regel für eingehenden Datenverkehr erstellt, die als <code class="code">ELB
                    ingress group</code> bezeichnet wird. Sie erlaubt eingehenden TCP-Verkehr an Port 80. Die Quelle für diese Regel wird mithilfe der Funktion <code class="code">Fn::GetAtt</code> definiert, um Attribute aus der Load-Balancer-Ressource abzurufen. <code class="code">SourceSecurityGroupOwnerId</code> ruft mit <code class="code">Fn::GetAtt</code> den <code class="code">OwnerAlias</code> der Quellsicherheitsgruppe des Load Balancers ab. <code class="code">SourceSecurityGroupName</code> ruft mit <code class="code">Fn::Getatt</code> den <code class="code">GroupName</code> der Quellsicherheitsgruppe des ELB ab. </p>
            <p>Diese Konfiguration gewährleistet eine sichere Kommunikation zwischen dem ELB und den Instances. </p>
            <p>Weitere Informationen zu Elastic Load Balancing finden Sie im <em><a href="https://docs.aws.amazon.com/elasticloadbalancing/latest/userguide/what-is-load-balancing.html">Elastic Load Balancing-Entwicklerhandbuch</a></em>.</p>

            <div id="JSON" name="JSON" class="section langfilter">
                <h3 id="quickref-ec2-example-11.json">JSON</h3>

                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "AWSTemplateFormatVersion": "2010-09-09",
    "Resources": <span>{</span>
        "MyELB": <span>{</span>
            "Type": "AWS::ElasticLoadBalancing::LoadBalancer",
            "Properties": <span>{</span>
                "AvailabilityZones": [
                    "<code class="replaceable">aa-example-1a</code>"
                ],
                "Listeners": [
                    <span>{</span>
                        "LoadBalancerPort": "80",
                        "InstancePort": "80",
                        "Protocol": "HTTP"
                    }
                ]
            }
        },
        "MyELBIngressGroup": <span>{</span>
            "Type": "AWS::EC2::SecurityGroup",
            "Properties": <span>{</span>
                "GroupDescription": "ELB ingress group",
                "SecurityGroupIngress": [
                    <span>{</span>
                        "IpProtocol": "tcp",
                        "FromPort": 80,
                        "ToPort": 80,
                        "SourceSecurityGroupOwnerId": <span>{</span>
                            "Fn::GetAtt": [
                                "MyELB",
                                "SourceSecurityGroup.OwnerAlias"
                            ]
                        },
                        "SourceSecurityGroupName": <span>{</span>
                            "Fn::GetAtt": [
                                "MyELB",
                                "SourceSecurityGroup.GroupName"
                            ]
                        }
                    }
                ]
            }
        }
    }
}</code></pre>
            </div>


            <div id="YAML" name="YAML" class="section langfilter">
                <h3 id="quickref-ec2-example-11.yaml">YAML</h3>

                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">AWSTemplateFormatVersion: '2010-09-09'
Resources:
  MyELB:
    Type: 'AWS::ElasticLoadBalancing::LoadBalancer'
    Properties:
      AvailabilityZones:
        - <code class="replaceable">aa-example-1a</code>
      Listeners:
        - LoadBalancerPort: '80'
          InstancePort: '80'
          Protocol: HTTP
  MyELBIngressGroup:
    Type: 'AWS::EC2::SecurityGroup'
    Properties:
      GroupDescription: ELB ingress group
      SecurityGroupIngress:
        - IpProtocol: tcp
          FromPort: '80'
          ToPort: '80'
          SourceSecurityGroupOwnerId:
            Fn::GetAtt:
              - MyELB
              - SourceSecurityGroup.OwnerAlias
          SourceSecurityGroupName:
            Fn::GetAtt:
              - MyELB
              - SourceSecurityGroup.GroupName</code></pre>
            </div>
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warnung" /> <strong>JavaScript ist in Ihrem Browser nicht verfügbar oder deaktiviert.</strong></p><p>Zur Nutzung der AWS-Dokumentation muss JavaScript aktiviert sein. Weitere Informationen finden auf den Hilfe-Seiten Ihres Browsers.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Dokumentkonventionen</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./quickref-ec2-launch-templates.html">Erstellen von Startvorlagen</div><div id="next" class="next-link" accesskey="n" href="./quickref-ec2-elastic-ip.html">Zuweisen von Elastic-IP-Adressen</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Ja</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass wir gute Arbeit geleistet haben!</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, was wir richtig gemacht haben, damit wir noch besser werden?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Nein</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass diese Seite überarbeitet werden muss. Es tut uns Leid, dass wir Ihnen nicht weiterhelfen konnten.</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, wie wir die Dokumentation verbessern können?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/quickref-ec2-sg.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>