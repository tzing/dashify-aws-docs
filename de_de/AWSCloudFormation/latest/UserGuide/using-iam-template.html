<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="de-DE"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Steuern des Zugriffs mit AWS Identity and Access Management - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="using-iam-template" /><meta name="default_state" content="using-iam-template" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-iam-template.html" /><meta name="description" content="Verwenden Sie , AWS Identity and Access Management um zu steuern, wer Zugriff auf Ihre AWS Ressourcen in hat AWS CloudFormation." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Leitfaden" /><meta name="abstract" content="Erstellen und verwalten Sie AWS Infrastrukturbereitstellungen vorhersehbar und wiederholt mithilfe von AWS CloudFormation mit diesem Benutzerhandbuch." /><meta name="guide-locale" content="de_de" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-iam-template.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Leitfaden" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Leitfaden" /><meta id="panorama-serviceConsolePage" value="Steuern des Zugriffs mit AWS Identity and Access Management" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Steuern des Zugriffs mit AWS Identity and Access Management - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-iam-template.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-iam-template.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-iam-template.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,Ressourcenbereitstellung,Ressourcenkonfiguration,Infrastrukturverwaltung,CloudFormer,CloudFormation -Stack,CloudFormation Stackset,CloudFormation -Vorlage,Änderungssatz" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Leitfaden",
        "item" : "https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Sicherheit in AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/security.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Steuern des Zugriffs mit AWS Identity and Access Management",
        "item" : "https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/security.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Dokumentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Leitfaden</a></div><div id="page-toc-src"><a href="#using-iam-template-actions">AWS CloudFormation -Aktionen</a><a href="#resource-level-permissions">AWS CloudFormation -Ressourcen</a><a href="#using-iam-template-conditions">AWS CloudFormation Bedingungen</a><a href="#using-iam-capabilities">Bestätigung von IAM-Ressourcen in - AWS CloudFormation Vorlagen</a><a href="#using-iam-template-manage-creds">Verwalten von Anmeldeinformationen für Anwendungen auf Amazon EC2-Instances</a><a href="#using-iam-template-grant-access">Gewähren von temporärem Zugriff (Zugriff für Verbundbenutzer)</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Die vorliegende Übersetzung wurde maschinell erstellt. Im Falle eines Konflikts oder eines Widerspruchs zwischen dieser übersetzten Fassung und der englischen Fassung (einschließlich infolge von Verzögerungen bei der Übersetzung) ist die englische Fassung maßgeblich.</p></awsui-alert><h1 class="topictitle" id="using-iam-template">Steuern des Zugriffs mit AWS Identity and Access Management</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Mit AWS Identity and Access Management (IAM) können Sie IAM-Benutzer erstellen, um zu steuern, wer Zugriff auf welche Ressourcen in Ihrem hat AWS-Konto. Sie können IAM mit verwenden, AWS CloudFormation um zu steuern, was Benutzer mit tun können AWS CloudFormation, z. B. ob sie Stack-Vorlagen anzeigen, Stacks erstellen oder Stacks löschen können.</p><p>Zusätzlich zu - AWS CloudFormation Aktionen können Sie verwalten, welche AWS Services und Ressourcen jedem Benutzer zur Verfügung stehen. Auf diese Weise können Sie steuern, auf welche Ressourcen Benutzer zugreifen können, wenn sie verwenden AWS CloudFormation. Sie können beispielsweise festlegen, welche Benutzer Amazon EC2-Instances erstellen, Datenbank-Instances beenden oder VPCs aktualisieren. Dieselben Berechtigungen werden immer dann angewendet, wenn sie AWS CloudFormation für diese Aktionen verwenden.</p><p>Weitere Informationen zu all den Services, auf die Sie den Zugriff steuern können, finden Sie unter <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/Using_SpecificProducts.html">AWS -Services, die IAM unterstützen</a> in <em>IAM-Benutzerhandbuch</em>.</p><div class="highlights"><h6>Themen</h6><ul><li><a href="#using-iam-template-actions">AWS CloudFormation -Aktionen</a></li><li><a href="#resource-level-permissions">AWS CloudFormation -Ressourcen</a></li><li><a href="#using-iam-template-conditions">AWS CloudFormation Bedingungen</a></li><li><a href="#using-iam-capabilities">Bestätigung von IAM-Ressourcen in - AWS CloudFormation Vorlagen</a></li><li><a href="#using-iam-template-manage-creds">Verwalten von Anmeldeinformationen für Anwendungen auf Amazon EC2-Instances</a></li><li><a href="#using-iam-template-grant-access">Gewähren von temporärem Zugriff (Zugriff für Verbundbenutzer)</a></li><li><a href="./using-iam-servicerole.html">AWS CloudFormation -Servicerolle</a></li></ul></div><h2 id="using-iam-template-actions">AWS CloudFormation -Aktionen</h2>
      
      <p>Wenn Sie eine Gruppe oder einen Benutzer in Ihrem erstellen AWS-Konto, können Sie dieser Gruppe oder diesem Benutzer eine IAM-Richtlinie zuordnen, die die Berechtigungen angibt, die Sie erteilen möchten. Nehmen wir beispielsweise an, Sie haben eine Gruppe von Entwicklern mit wenig Erfahrung. Sie können eine <code class="code">Junior
            application developers</code>-Gruppe erstellen, die Entwickler mit wenig Erfahrung umfasst. Anschließend ordnen Sie dieser Gruppe eine Richtlinie zu, die es Benutzern ermöglicht, nur AWS CloudFormation Stacks anzuzeigen. In diesem Szenario haben Sie möglicherweise eine Richtlinie wie die folgende:</p>
      <div class="example"><h6>Beispiel Ein Beispiel für eine Richtlinie, die Anzeigeberechtigungen für Stacks gewährt</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version":"2012-10-17",
    "Statement":[<span>{</span>
        "Effect":"Allow",
        "Action":[
            "cloudformation:DescribeStacks",
            "cloudformation:DescribeStackEvents",
            "cloudformation:DescribeStackResource",
            "cloudformation:DescribeStackResources"
        ],
        "Resource":"*"
    }]
}</code></pre></div></div>
      <p>Die Richtlinie gewährt Berechtigungen für alle <code class="code">DescribeStack</code>-API-Funktionen, die im <code class="code">Action</code>-Element aufgeführt sind.</p>
      <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Wichtig</h6></div><div class="awsdocs-note-text"><p>Wenn Sie in Ihrer Anweisung keinen Stack-Namen oder keine Stack-ID angeben, müssen Sie unter Verwendung des <code class="code">*</code>-Platzhalters für das <code class="code">Resource</code>-Element auch die Berechtigung zur Nutzung aller Ressourcen für die Aktion gewähren.</p></div></div>
      <p>Zusätzlich zu - AWS CloudFormation Aktionen benötigen Benutzer, die Stacks erstellen oder löschen, zusätzliche Berechtigungen, die von den Stack-Vorlagen abhängen. Wenn Sie zum Beispiel eine Vorlage haben, die eine Amazon SQS-Warteschlange beschreibt, muss der Benutzer über die entsprechenden Berechtigungen für Amazon SQS-Aktionen verfügen, um den Stack erfolgreich zu erstellen, wie in der folgenden Musterrichtlinie dargestellt:</p>
      <div class="example"><h6>Beispiel Ein Musterrichtlinie, die Aktionen zum Erstellen und Anzeigen von Stacks und alle Amazon SQS-Aktionen gewährt</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version":"2012-10-17",
    "Statement":[<span>{</span>
        "Effect":"Allow",
        "Action":[
            "sqs:*",
            "cloudformation:CreateStack",
            "cloudformation:DescribeStacks",
            "cloudformation:DescribeStackEvents",
            "cloudformation:DescribeStackResources",
            "cloudformation:GetTemplate",
            "cloudformation:ValidateTemplate"  
        ],
        "Resource":"*"
    }]
}</code></pre></div></div>
      <p>Eine Liste aller AWS CloudFormation Aktionen, die Sie zulassen oder verweigern können, finden Sie in der API<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/"><em>AWS CloudFormation -Referenz</em> zu </a>.</p>
      <h3 id="w9aac17c19c11c16">AWS CloudFormation -konsolenspezifische Aktionen</h3>
         
         <p>Benutzer, die die AWS CloudFormation Konsole verwenden, benötigen zusätzliche Berechtigungen, die für die Verwendung der AWS Command Line Interface oder AWS CloudFormation APIs nicht erforderlich sind. Im Vergleich zur AWS CLI und API bietet die Konsole zusätzliche Funktionen, die zusätzliche Berechtigungen erfordern, z. B. Vorlagen-Uploads in Amazon S3-Buckets und Dropdown-Listen für <a href="./parameters-section-structure.html#aws-specific-parameter-types">AWS-spezifische Parametertypen.</a></p>
         <p>Gewähren Sie für alle folgenden Aktionen Berechtigungen für alle Ressourcen; beschränken Sie Aktionen nicht auf bestimmte Stacks oder Buckets.</p>
         <p>Die folgende erforderliche Aktion wird nur von der AWS CloudFormation Konsole verwendet und ist nicht in der API-Referenz dokumentiert. Die Aktion erlaubt Benutzern, Vorlagen zu Amazon S3-Buckets hochzuladen.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="text ">cloudformation:CreateUploadBucket</code></pre>
         <p>Wenn Benutzer Vorlagen hochladen, benötigen sie die folgenden Amazon S3-Berechtigungen:</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="text ">s3:PutObject
s3:ListBucket
s3:GetObject
s3:CreateBucket</code></pre>
         <p>Für Vorlagen mit <a href="./parameters-section-structure.html#aws-specific-parameter-types">AWS-spezifischen Parametertypen</a> benötigen Benutzer Berechtigungen zur Durchführung der entsprechenden Describe-API-Aufrufe. Wenn eine Vorlage beispielsweise den <code class="code">AWS::EC2::KeyPair::KeyName</code>-Parametertyp enthält, benötigen Benutzer die Berechtigung zum Aufrufen der EC2-<code class="code">DescribeKeyPairs</code>-Aktion (wenn die Konsole auf diese Weise Werte für die Parameter-Dropdown-Liste abruft). Die folgenden Beispiele sind Aktionen, die Benutzer für andere Parametertypen benötigen:</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="text ">ec2:DescribeSecurityGroups (for the AWS::EC2::SecurityGroup::Id parameter type)
ec2:DescribeSubnets (for the Subnet::Id parameter type)
ec2:DescribeVpcs (for the AWS::EC2::VPC::Id parameter type)</code></pre>
       
   <h2 id="resource-level-permissions">AWS CloudFormation -Ressourcen</h2>
      
      <p>AWS CloudFormation unterstützt Berechtigungen auf Ressourcenebene, sodass Sie Aktionen für einen bestimmten Stack angeben können, wie in der folgenden Richtlinie gezeigt:</p>
      <div class="example"><h6>Beispiel Eine Beispielrichtlinie, die das Löschen und Aktualisieren von Stack-Aktionen für die verweigert  MyProductionStack</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version":"2012-10-17",
    "Statement":[<span>{</span>
        "Effect":"Deny",
        "Action":[
            "cloudformation:DeleteStack",
            "cloudformation:UpdateStack"
        ],
        "Resource":"arn:aws:cloudformation:us-east-1:123456789012:stack/MyProductionStack/*"
    }]
}</code></pre></div></div>
      <p>Die Richtlinie oben verwendet einen Platzhalter am Ende des Stack-Namens, sodass Aktionen zum Löschen und Aktualisieren von Stacks für die gesamte Stack-ID (z. B. <code class="code">arn:aws:cloudformation:us-east-1:123456789012:stack/MyProductionStack/abc9dbf0-43c2-11e3-a6e8-50fa526be49c</code>) und für den Stack-Namen (z. B. <code class="code">MyProductionStack</code>) verweigert werden.</p>

      <p>Um <code class="code">AWS::Serverless</code>-Transformationen das Erstellen eines Änderungssatzes zu erlauben, muss die Richtlinie die <code class="code">arn:aws:cloudformation:&lt;region&gt;:aws:transform/Serverless-2016-10-31</code>-Berechtigungen auf Ressourcenebene enthalten, wie in der folgenden Richtlinie zu sehen:</p>
      <div class="example"><h6>Beispiel Eine Beispielrichtlinie, die der Transformation das Erstellen eines Änderungssatzes erlaubt</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "> <span>{</span>
    "Version": "2012-10-17",
    "Statement": [<span>{</span>
        "Effect": "Allow",
        "Action": [
            "cloudformation:CreateChangeSet"
        ],
        "Resource": "arn:aws:cloudformation:us-west-2:aws:transform/Serverless-2016-10-31"
    }]
}</code></pre></div></div>
       
         <h3 id="resource-level-permissions-service-managed-stack-set">Beispielrichtlinie, die serviceverwaltete Stack-Set-Berechtigungen gewährt</h3>
            <p>Im Folgenden finden Sie ein Beispiel für eine IAM-Richtlinie, die einer Prinzipalentität (Benutzer, Rolle oder Gruppe) serviceverwaltete Stack-Set-Berechtigungen gewährt. Ein Benutzer mit dieser Richtlinie kann nur Vorgänge an Stack-Sets mit Vorlagen durchführen, die Amazon-S3-Ressourcentypen (<code class="code">AWS::S3::*</code>) oder den <code class="code">AWS::SES::ConfigurationSet</code>-Ressourcentyp enthalten. Wenn der Benutzer mit der ID <code class="code">123456789012</code> am Verwaltungskonto der Organisation angemeldet ist, kann er auch nur Vorgänge an Stack-Sets durchführen, die für die OU mit der ID <code class="replaceable">ou-1fsfsrsrsdsfrewr</code> gelten, und kann nur Vorgänge an dem Stack-Set mit der ID <code class="code">stack-set-id</code> durchführen, die für das AWS-Konto mit der ID <code class="replaceable">987654321012</code> gelten.</p>
            <p>Stack-Set-Vorgänge schlagen fehl, wenn die Stack-Set-Vorlage andere Ressourcentypen als die in der Richtlinie angegebenen enthält oder wenn die Bereitstellungsziele andere OU- oder Konto-IDs sind als die in der Richtlinie für die entsprechenden Verwaltungskonten und Stack-Sets angegebenen.</p>
         <p>Diese Richtlinien-Einschränkungen gelten nur, wenn Stack-Set-Vorgänge auf die AWS-Regionen<code class="code">us-east-1</code>, <code class="code">us-west-2</code> oder <code class="code">eu-west-2</code> abzielen.</p>
         
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "cloudformation:*"
            ],
            "Resource": [
                "arn:aws:cloudformation:*:*:stackset/*",
                "arn:aws:cloudformation:*:*:type/resource/<code class="replaceable">AWS-S3</code>-*",
                "arn:aws:cloudformation:us-west-2::type/resource/<code class="replaceable">AWS-SES-ConfigurationSet</code>",
                "arn:aws:cloudformation:*:<code class="replaceable">123456789012</code>:stackset-target/*/<code class="replaceable">ou-1fsfsrsdsfrewr</code>",
                "arn:aws:cloudformation:*:<code class="replaceable">123456789012</code>:stackset-target/<code class="replaceable">stack-set-id</code>/<code class="replaceable">987654321012</code>"
            ],
            "Condition": <span>{</span>
                "ForAllValues:StringEqualsIgnoreCase": <span>{</span>
                    "cloudformation:TargetRegion": [
                        "<code class="replaceable">us-east-1</code>",
                        "<code class="replaceable">us-west-2</code>",
                        "<code class="replaceable">eu-west-1</code>"
                    ]
                }
            }
        }
    ]
}</code></pre>
       
   <h2 id="using-iam-template-conditions">AWS CloudFormation Bedingungen</h2>
      
      <p>In einer IAM-Richtlinie können Sie optional Bedingungen angeben, mit denen gesteuert wird, wann eine Richtlinie in Kraft tritt. Sie können beispielsweise eine Richtlinie definieren, die -Benutzern erlaubt, einen Stack nur dann zu erstellen, wenn sie eine bestimmte URL-Vorlage angeben. Sie können AWS CloudFormation-spezifische Bedingungen und AWS-weite Bedingungen definieren, z. B. , die angibt<code class="code">DateLessThan</code>, wann eine Richtlinie nicht mehr wirksam ist. Weitere Informationen und eine Liste der AWS-weiten Bedingungen finden Sie unter Bedingung in der <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/AccessPolicyLanguage_ElementDescriptions.html#Condition">IAM-Richtlinienelementreferenz</a> im <em>IAM-Benutzerhandbuch</em>.</p>
      <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Anmerkung</h6></div><div class="awsdocs-note-text"><p>Verwenden Sie nicht die <code class="code">aws:SourceIp</code> AWS-weite Bedingung. AWS CloudFormation stellt Ressourcen bereit, indem es seine eigene IP-Adresse verwendet, nicht die IP-Adresse der ursprünglichen Anforderung. Wenn Sie beispielsweise einen Stack erstellen, AWS CloudFormation erstellt Anforderungen von seiner IP-Adresse, um eine Amazon EC2-Instance zu starten oder einen Amazon S3-Bucket zu erstellen, nicht von der IP-Adresse des -<code class="code">CreateStack</code>Aufrufs oder des -<code class="code">aws cloudformation create-stack</code>Befehls.</p></div></div>
      <p>In der folgenden Liste werden die AWS CloudFormation-spezifischen Bedingungen beschrieben. Diese Bedingungen werden nur angewendet, wenn Benutzer Stacks erstellen oder aktualisieren:</p>
      <div class="variablelist">
          
          

          
          
          
          
      <dl>
            <dt><span class="term"><code class="code">cloudformation:ChangeSetName</code></span></dt>
            <dd>
               <p>Ein AWS CloudFormation Änderungssatzname, den Sie einer Richtlinie zuordnen möchten. Verwenden Sie diese Bedingung, um zu steuern, welche Änderungssätze -Benutzer ausführen oder löschen können.</p>
            </dd>
          
            <dt><span class="term"><code class="code">cloudformation:ImportResourceTypes</code></span></dt>
            <dd>
               <p>Die Vorlagenressourcentypen, die Sie einer Richtlinie zuordnen möchten, z. B. <code class="code">AWS::EC2::Instance</code>. Verwenden Sie diese Bedingung, um zu steuern, mit welchen Ressourcentypen -Benutzer arbeiten können, wenn sie Ressourcen in einen Stack importieren. Diese Bedingung wird anhand der Ressourcentypen überprüft, die Benutzer im -<code class="code">ResourcesToImport</code>Parameter deklarieren, der derzeit nur für - AWS CLI und -API-Anforderungen unterstützt wird. Wenn Sie diesen Parameter verwenden, müssen Sie alle Ressourcentypen angeben, die Benutzer während des Importvorgangs steuern sollen. Weitere Informationen zum -<code class="code">ResourcesToImport</code>Parameter finden Sie in der -<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_CreateChangeSet.html"><code class="code">CreateChangeSet</code></a>Aktion in der API<em>AWS CloudFormation -Referenz zu </em>.</p>
               <p>Eine Liste der möglichen <code class="code">ResourcesToImport</code> finden Sie unter <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/resource-import-supported-resources.html">Ressourcen, die Importvorgänge unterstützen</a>.</p>
               <p>Verwenden Sie die dreiteilige Ressourcennamenskonvention, um anzugeben, mit welchen Ressourcentypen Benutzer arbeiten können, von allen Ressourcen innerhalb einer Organisation bis hinunter zu einem einzelnen Ressourcentyp.</p>
               <div class="variablelist">
                      
                   
                   
               <dl>
                     <dt><span class="term"><code class="code"><code class="replaceable">organization</code>::*</code></span></dt>
                     <dd>
                        <p>Geben Sie alle Ressourcentypen für eine bestimmte Organisation an.</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code"><code class="replaceable">organization</code>::<code class="replaceable"><code class="replaceable">service_name</code></code>::*</code></span></dt>
                     <dd>
                        <p>Geben Sie alle Ressourcentypen für den angegebenen Service innerhalb einer bestimmten Organisation an.</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code"><code class="replaceable">organization</code>::<code class="replaceable"><code class="replaceable">service_name</code></code>::<code class="replaceable">resource_type</code></code></span></dt>
                     <dd>
                        <p>Geben Sie einen bestimmten Ressourcentyp an.</p>
                     </dd>
                  </dl></div>
               
                  <p>Beispielsweise:</p>
               <div class="variablelist">
                   
                   
                   
                  
               <dl>
                     <dt><span class="term"><code class="code">AWS::*</code></span></dt>
                     <dd>
                        <p>Geben Sie alle unterstützten AWS Ressourcentypen an.</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code">AWS::<code class="replaceable">service_name</code>::*</code></span></dt>
                     <dd>
                        <p>Geben Sie alle unterstützten Ressourcen für einen bestimmten AWS Service an.</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code">AWS::<code class="replaceable">service_name</code>::<code class="replaceable">resource_type</code></code></span></dt>
                     <dd>
                        <p>Geben Sie einen bestimmten AWS Ressourcentyp an, z. B. <code class="code">AWS::EC2::Instance</code> (alle EC2-Instances).</p>
                     </dd>
                  </dl></div>
            </dd>
          
            <dt><span class="term"><code class="code">cloudformation:ResourceTypes</code></span></dt>
            <dd>
               <p>Die Vorlagenressourcentypen wie z. B. <code class="code">AWS::EC2::Instance</code>, die Sie einer Richtlinie zuordnen möchten. Verwenden Sie diese Bedingung, um zu steuern, welche Ressourcentypen -Benutzern zur Verfügung stehen, wenn sie einen Stack erstellen oder aktualisieren. Diese Bedingung wird anhand der Ressourcentypen überprüft, die Benutzer im -<code class="code">ResourceTypes</code>Parameter deklarieren, der derzeit nur für - AWS CLI und -API-Anforderungen unterstützt wird. Bei Verwendung dieses Parameters müssen Benutzer alle Ressourcentypen angeben, die sich in ihrer Vorlage befinden. Weitere Informationen zum -<code class="code">ResourceTypes</code>Parameter finden Sie in der -<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_CreateStack.html"><code class="code">CreateStack</code></a>Aktion in der API<em>AWS CloudFormation -Referenz zu </em>.</p>
               <p>Eine Liste von Ressourcentypen finden Sie unter <a href="./aws-template-resource-type-ref.html">AWS Ressourcen- und Eigenschaftstypen – Referenz</a>.</p>
               <p>Verwenden Sie die dreiteilige Ressourcennamenskonvention, um anzugeben, mit welchen Ressourcentypen Benutzer arbeiten können, von allen Ressourcen innerhalb einer Organisation bis hinunter zu einem einzelnen Ressourcentyp.</p>
               <div class="variablelist">
                   
                   
                   
               <dl>
                     <dt><span class="term"><code class="code"><code class="replaceable">organization</code>::*</code></span></dt>
                     <dd>
                        <p>Geben Sie alle Ressourcentypen für eine bestimmte Organisation an.</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code"><code class="replaceable">organization</code>::<code class="replaceable"><code class="replaceable">service_name</code></code>::*</code></span></dt>
                     <dd>
                        <p>Geben Sie alle Ressourcentypen für den angegebenen Service innerhalb einer bestimmten Organisation an.</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code"><code class="replaceable">organization</code>::<code class="replaceable"><code class="replaceable">service_name</code></code>::<code class="replaceable">resource_type</code></code></span></dt>
                     <dd>
                        <p>Geben Sie einen bestimmten Ressourcentyp an.</p>
                     </dd>
                  </dl></div>
               
               <p>Beispielsweise:</p>          
               <div class="variablelist">            
                   
                   
                   
                   
                   
                   
                   
                  
                  
                  
               <dl>
                     <dt><span class="term"><code class="code">AWS::*</code></span></dt>
                     <dd>
                        <p>Geben Sie alle unterstützten AWS Ressourcentypen an.</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code">AWS::<code class="replaceable">service_name</code>::*</code></span></dt>
                     <dd>
                        <p>Geben Sie alle unterstützten Ressourcen für einen bestimmten AWS Service an.</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code">AWS::<code class="replaceable">service_name</code>::<code class="replaceable">resource_type</code></code></span></dt>
                     <dd>
                        <p>Geben Sie einen bestimmten AWS Ressourcentyp an, z. B. <code class="code">AWS::EC2::Instance</code> (alle EC2-Instances).</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code">Alexa::ASK::*</code></span></dt>
                     <dd>
                        <p>Geben Sie alle Ressourcentypen im Alexa Skill Kit an.</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code">Alexa::ASK::Skill</code></span></dt>
                     <dd>
                        <p>Geben Sie den individuellen <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ask-skill.html">Skill</a>-Ressourcentyp an.</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code">Custom::*</code></span></dt>
                     <dd>
                        <p>Geben Sie alle benutzerdefinierten Ressourcen an.</p>
                        <p>Weitere Informationen zu benutzerdefinierten Ressourcen finden Sie unter <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-custom-resources.html">Benutzerdefinierte Ressourcen</a>.</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code">Custom::<code class="replaceable">resource_type</code></code></span></dt>
                     <dd>
                        <p>Geben Sie einen bestimmten benutzerdefinierten Ressourcentyp an.</p>
                        <p>Weitere Informationen zu benutzerdefinierten Ressourcen finden Sie unter <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-custom-resources.html">Benutzerdefinierte Ressourcen</a>.</p>
                     </dd>
                  </dl></div>
            </dd>
          
            <dt><span class="term"><code class="code">cloudformation:RoleARN</code></span></dt>
            <dd>
               <p>Der Amazon-Ressourcenname (ARN) einer IAM-Servicerolle, die Sie einer Richtlinie zuordnen möchten. Verwenden Sie diese Bedingung, um zu steuern, welche Servicerolle -Benutzer verwenden können, wenn sie mit Stacks oder Änderungssätzen arbeiten.</p>
            </dd>
          
            <dt><span class="term"><code class="code">cloudformation:StackPolicyUrl</code></span></dt>
            <dd>
               <p>Eine Amazon S3-Stack-Richtlinien-URL, die Sie einer Richtlinie zuordnen möchten. Verwenden Sie diese Bedingung, um zu steuern, welche Stack-Richtlinien -Benutzer einem Stack während einer Aktion zum Erstellen oder Aktualisieren von Stacks zuordnen können. Weitere Informationen zu Stack-Richtlinien finden Sie unter <a href="./protect-stack-resources.html">Verhindern von Aktualisierungen der Stack-Ressourcen</a>.</p>
               <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Anmerkung</h6></div><div class="awsdocs-note-text"><p>Um sicherzustellen, dass Benutzer Stacks nur mit den von Ihnen hochgeladenen Stack-Richtlinien erstellen oder aktualisieren können, legen Sie den S3-Bucket für diese Benutzer auf <code class="code">read only</code> fest.</p></div></div>
            </dd>
          
            <dt><span class="term"><code class="code">cloudformation:TemplateUrl</code></span></dt>
            <dd>
               <p>Eine Amazon S3-Vorlagen-URL, die Sie einer Richtlinie zuordnen möchten. Verwenden Sie diese Bedingung, um zu steuern, welche Vorlagen -Benutzer verwenden können, wenn sie Stacks erstellen oder aktualisieren.</p>
               <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Anmerkung</h6></div><div class="awsdocs-note-text"><p>Um sicherzustellen, dass Benutzer Stacks nur mit den von Ihnen hochgeladenen Vorlagen erstellen oder aktualisieren können, legen Sie den S3-Bucket für diese Benutzer auf <code class="code">read only</code> fest.</p></div></div>
               <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Anmerkung</h6></div><div class="awsdocs-note-text"><p>Die folgenden AWS CloudFormation-spezifischen Bedingungen gelten für die gleichnamigen API-Parameter:</p><div class="itemizedlist">
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p><code class="code">cloudformation:ChangeSetName</code></p>
                     </li><li class="listitem">
                        <p><code class="code">cloudformation:RoleARN</code></p>
                     </li><li class="listitem">
                        <p><code class="code">cloudformation:StackPolicyUrl</code></p>
                     </li><li class="listitem">
                        <p><code class="code">cloudformation:TemplateUrl</code></p>
                     </li></ul></div><p>Beispielsweise gilt <code class="code">cloudformation:TemplateUrl</code> nur für den <code class="code">TemplateUrl</code>-Parameter für <code class="code">CreateStack</code>, <code class="code">UpdateStack</code> und <code class="code">CreateChangeSet</code>-APIs.</p></div></div>
            </dd>
         </dl></div>
      <h3 id="w9aac17c19c15c10">Beispiele</h3>
         
         <p>Die folgende Beispielrichtlinie erlaubt Benutzern, zum Erstellen oder Aktualisieren eines Stacks nur die <code class="code">https://s3.amazonaws.com/testbucket/test.template</code>-Vorlagen-URL zu verwenden.</p>
         <div class="example"><h6>Beispiel Vorlagen-URL-Bedingung</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version":"2012-10-17",
  "Statement":[
    <span>{</span>
      "Effect" : "Allow",
      "Action" : [ "cloudformation:CreateStack", "cloudformation:UpdateStack" ],
      "Resource" : "*",
      "Condition" : <span>{</span>
        "StringEquals" : <span>{</span>
          "cloudformation:TemplateUrl" : [ "https://s3.amazonaws.com/testbucket/test.template" ]
        }
      }
    }
  ]
}</code></pre></div></div>
         <p>Die folgende Beispielrichtlinie ermöglicht es Benutzern, alle AWS CloudFormation Operationen mit <em>Ausnahme</em> von Importvorgängen abzuschließen.</p>
         <div class="example"><h6>Beispiel Bedingung für den Import von Ressourcentypen</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span> 
  "Version": "2012-10-17", 
  "Statement": [ 
    <span>{</span> 
      "Sid": "AllowAllStackOperations",
      "Effect": "Allow", 
      "Action": "cloudformation:*", 
      "Resource": "*" 
    }, 
    <span>{</span> 
      "Sid": "DenyImport", 
      "Effect": "Deny", 
      "Action": "cloudformation:*", 
      "Resource": "*",
      "Condition": <span>{</span> 
        "ForAnyValue:StringLike": <span>{</span>
          "cloudformation:ImportResourceTypes": [ 
            "*" 
          ] 
        } 
      } 
    } 
  ] 
}</code></pre></div></div>
            <p>Die folgende Beispielrichtlinie erlaubt alle Stack-Vorgänge sowie Importvorgänge nur für bestimmte Ressourcen (in diesem Beispiel <code class="code">AWS::S3::Bucket</code>).</p>
            <div class="example"><h6>Beispiel Bedingung für den Import von Ressourcentypen</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span> 
  "Version": "2012-10-17", 
  "Statement": [ 
    <span>{</span> 
      "Sid": "AllowImport",
      "Effect": "Allow", 
      "Action": "cloudformation:*", 
      "Resource": "*" 
      "Condition": <span>{</span> 
        "ForAllValues:StringEqualsIgnoreCase": <span>{</span>
          "cloudformation:ImportResourceTypes": [ 
            "AWS::S3::Bucket" 
          ] 
        } 
      } 
    } 
  ] 
}</code></pre></div></div>
         <p>Die folgende Beispielrichtlinie erlaubt Benutzern, Stacks zu erstellen, lehnt Anfragen aber ab, wenn die Vorlage des Stacks eine Ressource aus dem IAM-Service enthält. Die Richtlinie erfordert außerdem, dass Benutzer den <code class="code">ResourceTypes</code>-Parameter angeben, der nur für AWS CLI -API-Anforderungen verfügbar ist. Diese Richtlinie verwendet explizite Zugriffsverweigerungsanweisungen, sodass diese Richtlinie immer wirksam ist, wenn eine andere Richtlinie zusätzliche Berechtigungen gewährt (eine explizite Zugriffsverweigerungsanweisung setzt eine explizite Zugriffserlaubnisanweisung immer außer Kraft).</p>
         <div class="example"><h6>Beispiel Ressourcentypbedingung</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version":"2012-10-17",
  "Statement":[
    <span>{</span>
      "Effect" : "Allow",
      "Action" : [ "cloudformation:CreateStack" ],
      "Resource" : "*"
    },
    <span>{</span>
      "Effect" : "Deny",
      "Action" : [ "cloudformation:CreateStack" ],
      "Resource" : "*",
      "Condition" : <span>{</span>
        "ForAnyValue:StringLikeIfExists" : <span>{</span>
          "cloudformation:ResourceTypes" : [ "AWS::IAM::*" ]
        }
      }
    },
    <span>{</span>
      "Effect": "Deny",
      "Action" : [ "cloudformation:CreateStack" ],
      "Resource": "*",
      "Condition": <span>{</span>
        "Null": <span>{</span>
          "cloudformation:ResourceTypes": "true"
        }
      }
    }
  ]
}</code></pre></div></div>
         <p>Die folgende Beispielrichtlinie ähnelt dem vorherigen Beispiel. Die Richtlinie erlaubt Benutzern, einen Stack zu erstellen, außer die Vorlage des Stacks enthält eine Ressource aus dem IAM-Service. Außerdem müssen Benutzer den <code class="code">ResourceTypes</code> Parameter angeben, der nur für - AWS CLI und -API-Anforderungen verfügbar ist. Diese Richtlinie ist einfacher, verwendet aber keine expliziten Zugriffsverweigerungsanweisungen. Andere Richtlinien, die zusätzliche Berechtigungen gewähren, könnten diese Richtlinie außer Kraft setzen.</p>
         <div class="example"><h6>Beispiel Ressourcentypbedingung</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version":"2012-10-17",
  "Statement":[
    <span>{</span>
      "Effect" : "Allow",
      "Action" : [ "cloudformation:CreateStack" ],
      "Resource" : "*",
      "Condition" : <span>{</span>
        "ForAllValues:StringNotLikeIfExists" : <span>{</span>
          "cloudformation:ResourceTypes" : [ "AWS::IAM::*" ]
        },
        "Null":<span>{</span>
          "cloudformation:ResourceTypes": "false"
        }
      }
    }
  ]
}</code></pre></div></div>
       
   <h2 id="using-iam-capabilities">Bestätigung von IAM-Ressourcen in - AWS CloudFormation Vorlagen</h2>
      
      <p>Bevor Sie einen Stack erstellen können, AWS CloudFormation validiert Ihre Vorlage. Bei der Validierung prüft AWS CloudFormation
Ihre Vorlage auf IAM-Ressourcen, die es möglicherweise erstellt. IAM-Ressourcen, wie z. B. ein Benutzer mit Vollzugriff, können auf jede Ressource in Ihrem AWS-Kontozugreifen und diese ändern. Daher wird empfohlen, die den einzelnen IAM-Ressourcen zugeordneten Berechtigungen zu prüfen, bevor Sie fortfahren, damit Sie nicht versehentlich Ressourcen mit eskalierten Berechtigungen erstellen. Um sicherzustellen, dass Sie dies getan haben, müssen Sie bestätigen, dass die Vorlage diese Ressourcen enthält, und AWS CloudFormation die angegebenen Funktionen bereitstellen, bevor der Stack erstellt wird.</p>
      <p>Sie können die Funktionen von AWS CloudFormation Vorlagen mithilfe der AWS CloudFormation Konsole, AWS Command Line Interface (AWS CLI) oder API bestätigen:</p>
      <div class="itemizedlist">
          
          
          
      <ul class="itemizedlist"><li class="listitem">
            <p>Wählen Sie in der - AWS CloudFormation Konsole auf der Seite <b>Review</b> der Assistenten Create Stack oder Update Stack die Option <b>Ich bestätige, dass diese Vorlage möglicherweise IAM-Ressourcen erstellt</b>.</p>
         </li><li class="listitem">
            <p>Geben Sie AWS CLIin der bei Verwendung der <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/update-stack.html"><code class="code">aws cloudformation update-stack</code></a> Befehle <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/create-stack.html"><code class="code">aws cloudformation create-stack</code></a> und den <code class="code">CAPABILITY_NAMED_IAM</code> Wert <code class="code">CAPABILITY_IAM</code> oder für den <code class="code">--capabilities</code> Parameter an. Wenn Ihre Vorlage IAM-Ressourcen enthält, können Sie jede der beiden Fähigkeiten angeben. Wenn Ihre Vorlage benutzerdefinierte Namen für IAM-Ressourcen enthält, müssen Sie <code class="code">CAPABILITY_NAMED_IAM</code> angeben.</p>
         </li><li class="listitem">
            <p>Geben Sie in der API bei Verwendung der <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_UpdateStack.html"><code class="code">UpdateStack</code></a> Aktionen <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_CreateStack.html"><code class="code">CreateStack</code></a> und <code class="code">Capabilities.member.1=CAPABILITY_IAM</code> oder an<code class="code">Capabilities.member.1=CAPABILITY_NAMED_IAM</code>. Wenn Ihre Vorlage IAM-Ressourcen enthält, können Sie jede der beiden Fähigkeiten angeben. Wenn Ihre Vorlage benutzerdefinierte Namen für IAM-Ressourcen enthält, müssen Sie <code class="code">CAPABILITY_NAMED_IAM</code> angeben.</p>
         </li></ul></div>
      <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Wichtig</h6></div><div class="awsdocs-note-text"><p>Wenn Ihre Vorlage benutzerdefinierte benannte IAM-Ressourcen enthält, erstellen Sie unter Wiederverwendung der gleichen Vorlage nicht mehrere Stacks.  IAM-Ressourcen müssen innerhalb Ihres Kontos global eindeutig sein.  Wenn Sie dieselbe Vorlage verwenden, um mehrere Stacks in verschiedenen Regionen zu erstellen, teilen sich Ihre Stacks möglicherweise dieselben IAM-Ressourcen, anstatt dass jeder eine eindeutige hat. Die gemeinsame Verwendung von Ressourcen durch Stacks kann unbeabsichtigte Folgen haben, die nicht rückgängig gemacht werden können. Wenn Sie beispielsweise gemeinsam verwendete IAM-Ressourcen löschen oder aktualisieren, ändern Sie versehentlich die Ressourcen anderer Stacks.</p></div></div>
   <h2 id="using-iam-template-manage-creds">Verwalten von Anmeldeinformationen für Anwendungen auf Amazon EC2-Instances</h2>
      
      <p>Wenn Sie eine Anwendung haben, die auf einer Amazon EC2-Instance ausgeführt wird und Anforderungen an - AWS Ressourcen wie Amazon S3-Buckets oder eine DynamoDB-Tabelle stellen muss, benötigt die Anwendung AWS Sicherheitsanmeldeinformationen. Allerdings stellt die Verteilung und Einbettung langfristiger Sicherheitsanmeldeinformationen in jede Instance, die Sie starten, eine Herausforderung und ein potenzielles Sicherheitsrisiko dar. Anstelle von langfristigen Anmeldeinformationen, wie z. B. IAM-Benutzeranmeldeinformationen, empfehlen wir, eine IAM-Rolle zu erstellen, die einer Amazon EC2-Instance zugeordnet wird, wenn die Instance gestartet wird. Eine Anwendung kann dann von der Amazon EC2-Instance temporäre Sicherheitsanmeldeinformationen abrufen. Sie müssen auf der Instance keine langfristigen Anmeldeinformationen einbetten. Um die Verwaltung von Anmeldeinformationen zu erleichtern, können Sie für mehrere Amazon EC2-Instances auch nur eine Rolle angeben; Sie müssen nicht für jede Instance eindeutige Anmeldeinformationen erstellen.</p>
      <p>Einen Vorlagenausschnitt, der zeigt, wie eine Instance mit einer Rolle gestartet wird, finden Sie unter <a href="./quickref-iam.html#scenarios-iamroles">Vorlagenbeispiele für IAM-Rollen</a>.</p>
      <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Anmerkung</h6></div><div class="awsdocs-note-text"><p>Anwendungen auf Instances, die temporäre Sicherheitsanmeldeinformationen verwenden, können jede beliebige AWS CloudFormation
-Aktion aufrufen. Da jedoch mit vielen anderen - AWS Services AWS CloudFormation interagiert, müssen Sie überprüfen, ob alle Services, die Sie verwenden möchten, temporäre Sicherheitsanmeldeinformationen unterstützen. Weitere Informationen finden Sie unter -<a href="https://docs.aws.amazon.com/STS/latest/UsingSTS/UsingTokens.html">AWS Services, die AWS STS unterstützen</a>.</p></div></div>
   <h2 id="using-iam-template-grant-access">Gewähren von temporärem Zugriff (Zugriff für Verbundbenutzer)</h2>
      
      <p>In einigen Fällen möchten Sie Benutzern möglicherweise keine AWS Anmeldeinformationen für temporären Zugriff auf Ihr gewähren AWS-Konto. Anstatt langfristige Anmeldeinformationen zu erstellen und zu löschen, wenn Sie temporären Zugriff gewähren möchten, verwenden Sie AWS Security Token Service (AWS STS). Sie können beispielsweise IAM-Rollen verwenden. Von einer IAM-Rolle aus können Sie programmgesteuert viele temporäre Sicherheitsanmeldeinformationen (einschließlich eines Zugriffsschlüssels, eines geheimen Zugriffsschlüssels und eines Sicherheits-Tokens) erstellen und dann verteilen. Diese Anmeldeinformationen haben eine begrenzte Lebensdauer und können daher nicht für den Zugriff auf Ihr verwendet werden, AWS-Konto nachdem sie abgelaufen sind. Sie können auch mehrere IAM-Rollen erstellen, um einzelnen Benutzern verschiedene Ebenen von Berechtigungen zu gewähren.  IAM-Rollen sind nützlich für Szenarien wie verbundene Identitäten und Single Sign-On.</p>
      <p>Ein Identitätsverbund ist eine unabhängige Identität, die Sie für mehrere Systeme verwenden können. Bei Enterprise-Benutzern mit einem festgelegten On-Premises-Identitätssystem (wie LDAP oder Active Directory) kann die gesamte Authentifizierung mit Ihrem lokalen Identitätssystem erfolgen. Nachdem ein Benutzer authentifiziert wurde, stellen Sie aus dem entsprechenden IAM-Benutzer oder der entsprechenden IAM-Rolle temporäre Sicherheitsanmeldeinformationen bereit. Sie können beispielsweise eine -<code class="code">administrators</code>Rolle und eine -<code class="code">developers</code>Rolle erstellen, bei der Administratoren vollen Zugriff auf das AWS Konto haben und Entwickler nur Berechtigungen zum Arbeiten mit - AWS CloudFormation Stacks haben. Nachdem ein Administrator authentifiziert wurde, wird der Administrator autorisiert, temporäre Sicherheitsanmeldeinformationen von der <code class="code">administrators</code>-Rolle zu erhalten. Entwickler können temporäre Sicherheitsanmeldeinformationen allerdings von der <code class="code">developers</code>-Rolle erhalten.</p>
      <p>Sie können Verbundbenutzern auch Zugriff auf die gewähren AWS Management Console. Nachdem sich Benutzer bei Ihrem On-Premises-Identitätssystem authentifiziert haben, können Sie programmgesteuert eine temporäre URL erstellen, die direkten Zugriff auf die AWS Management Consolebietet. Wenn Benutzer die temporäre URL verwenden, müssen sie sich nicht bei anmelden, AWS da sie bereits authentifiziert wurden (Single Sign-On). Da die URL außerdem aus den temporären Sicherheitsanmeldeinformationen des Benutzers erstellt wurde, bestimmen die mit diesen Anmeldeinformationen verfügbaren Berechtigungen, welche Berechtigungen Benutzer in der AWS Management Consolebesitzen.</p>
      <p>Sie können mehrere verschiedene AWS STS APIs verwenden, um temporäre Sicherheitsanmeldeinformationen zu generieren. Weitere Informationen dazu, welche API verwendet werden soll, finden Sie unter <a href="https://docs.aws.amazon.com/STS/latest/UsingSTS/Welcome.html#AccessingSTS">Möglichkeiten, temporäre Sicherheitsanmeldeinformationen zu erhalten</a> im <em>Using Temporary Security Credentials</em>.</p>
      <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Wichtig</h6></div><div class="awsdocs-note-text"><p>Sie können IAM nicht verwenden, wenn Sie temporäre Sicherheitsanmeldeinformationen verwenden, die über die <code class="code">GetFederationToken</code>-API generiert wurden. Wenn Sie IAM verwenden müssen, verwenden Sie stattdessen temporäre Sicherheitsanmeldeinformationen aus einer Rolle.</p></div></div>
      <p>AWS CloudFormation interagiert mit vielen anderen - AWS Services. Wenn Sie temporäre Sicherheitsanmeldeinformationen mit verwenden AWS CloudFormation, stellen Sie sicher, dass alle Services, die Sie verwenden möchten, temporäre Sicherheitsanmeldeinformationen unterstützen. Weitere Informationen finden Sie unter -<a href="https://docs.aws.amazon.com/STS/latest/UsingSTS/UsingTokens.html">AWS Services, die AWS STS unterstützen</a>.</p>
      <p>Weitere Informationen finden Sie in folgenden verwandten Ressourcen im <em>Using Temporary Security Credentials</em>.</p>
      <div class="itemizedlist">
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p><a href="https://docs.aws.amazon.com/STS/latest/UsingSTS/STSUseCases.html">Szenarios für das Gewähren von temporärem Zugriff</a></p>
            </li><li class="listitem">
               <p><a href="https://docs.aws.amazon.com/STS/latest/UsingSTS/STSMgmtConsole.html">Gewähren von direktem Zugriff auf die AWS Management Console</a></p>
            </li></ul></div>
   <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warnung" /> <strong>JavaScript ist in Ihrem Browser nicht verfügbar oder deaktiviert.</strong></p><p>Zur Nutzung der AWS-Dokumentation muss JavaScript aktiviert sein. Weitere Informationen finden auf den Hilfe-Seiten Ihres Browsers.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Dokumentkonventionen</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./security-data-protection.html">Datenschutz</div><div id="next" class="next-link" accesskey="n" href="./using-iam-servicerole.html">AWS CloudFormation -Servicerolle</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Ja</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass wir gute Arbeit geleistet haben!</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, was wir richtig gemacht haben, damit wir noch besser werden?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-iam-template.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Nein</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass diese Seite überarbeitet werden muss. Es tut uns Leid, dass wir Ihnen nicht weiterhelfen konnten.</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, wie wir die Dokumentation verbessern können?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-iam-template.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>