<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="de-DE"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>cfn-response-Modul - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="cfn-lambda-function-code-cfnresponsemodule" /><meta name="default_state" content="cfn-lambda-function-code-cfnresponsemodule" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" /><meta name="description" content="Wenn Sie die - ZipFile Eigenschaft verwenden, um den Quellcode Ihrer Funktion anzugeben und diese Funktion mit einer AWS CloudFormation benutzerdefinierten Ressource interagiert, können Sie das cfn-response Modul laden, um Antworten an diese Ressourcen zu senden. Das Modul enthält eine" /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Leitfaden" /><meta name="abstract" content="Erstellen und verwalten Sie AWS Infrastrukturbereitstellungen vorhersehbar und wiederholt mithilfe von AWS CloudFormation mit diesem Benutzerhandbuch." /><meta name="guide-locale" content="de_de" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Leitfaden" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Leitfaden" /><meta id="panorama-serviceConsolePage" value="cfn-response-Modul" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>cfn-response-Modul - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,Ressourcenbereitstellung,Ressourcenkonfiguration,Infrastrukturverwaltung,CloudFormer,CloudFormation -Stack,CloudFormation Stackset,CloudFormation -Vorlage,Änderungssatz" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Leitfaden",
        "item" : "https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Arbeiten mit AWS CloudFormation-Vorlagen",
        "item" : "https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/template-guide.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Benutzerdefinierte Ressourcen",
        "item" : "https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/template-custom-resources.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "AWS Lambda-gestützte, benutzerdefinierte Ressourcen",
        "item" : "https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/template-custom-resources-lambda.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "cfn-response-Modul",
        "item" : "https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/template-custom-resources-lambda.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Dokumentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Leitfaden</a></div><div id="page-toc-src"><a href="#cfn-lambda-function-code-cfnresponsemodule-loading">Laden des cfn-response-Moduls</a><a href="#cfn-lambda-function-code-cfnresponsemodule-send-parameters">Parameter für die send-Methode</a><a href="#cfn-lambda-function-code-cfnresponsemodule-examples">Beispiele</a><a href="#cfn-lambda-function-code-cfnresponsemodule-source">Modul-Quellcode</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Die vorliegende Übersetzung wurde maschinell erstellt. Im Falle eines Konflikts oder eines Widerspruchs zwischen dieser übersetzten Fassung und der englischen Fassung (einschließlich infolge von Verzögerungen bei der Übersetzung) ist die englische Fassung maßgeblich.</p></awsui-alert><h1 class="topictitle" id="cfn-lambda-function-code-cfnresponsemodule"><code class="code">cfn-response</code>-Modul</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Wenn Sie die -<code class="code">ZipFile</code>Eigenschaft verwenden, um den Quellcode Ihrer <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-lambda-function.html">Funktion</a> anzugeben und diese Funktion mit einer AWS CloudFormation benutzerdefinierten Ressource interagiert, können Sie das <code class="code">cfn-response</code> Modul laden, um Antworten an diese Ressourcen zu senden. Das Modul enthält eine <code class="code">send</code>-Methode, die anhand einer vorsignierten Amazon S3-URL (<code class="code">ResponseURL</code>) ein <a href="./crpg-ref-responses.html">Antwortobjekt</a> an eine benutzerdefinierte Ressource sendet.</p><p>Nach dem Ausführen der <code class="code">send</code>-Methode wird die Lambda-Funktion beendet, und alles, was Sie nach dieser Methode schreiben, wird ignoriert.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Anmerkung</h6></div><div class="awsdocs-note-text"><p>Das <code class="code">cfn-response</code>-Modul ist nur verfügbar, wenn Sie die <code class="code">ZipFile</code>-Eigenschaft verwenden, um Ihren Quell-Code zu schreiben. Es ist für Quellcode, der in Amazon S3-Buckets gespeichert wird, nicht verfügbar. Für Code in -Buckets müssen Sie eigene Funktionen schreiben um Antworten senden zu können.</p></div></div>
    <h2 id="cfn-lambda-function-code-cfnresponsemodule-loading">Laden des <code class="code">cfn-response</code>-Moduls</h2>
    
    <p>Verwenden Sie bei Node.js-Funktionen die <code class="code">require()</code>-Funktion, um das <code class="code">cfn-response</code>-Modul zu laden. Im folgenden Codebeispiel wird ein <code class="code">cfn-response</code>-Objekt mit dem Namen <code class="code">response</code> erstellt:</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="js ">var response = require('cfn-response');</code></pre>
    
    <p>Verwenden Sie bei Python die <code class="code">import</code>-Anweisung, um das <code class="code">cfnresponse</code>-Modul zu laden, wie im folgenden Beispiel veranschaulicht:</p>
    <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Anmerkung</h6></div><div class="awsdocs-note-text"><p>Verwenden Sie genau dieses Import-Statement Wenn Sie andere Varianten der Importanweisung verwenden, enthält das Antwortmodul AWS CloudFormation nicht.</p></div></div>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="js ">import cfnresponse</code></pre>
   
    <h2 id="cfn-lambda-function-code-cfnresponsemodule-send-parameters">Parameter für die <code class="code">send</code>-Methode</h2>
    <p>Mit der <code class="code">send</code>-Methode können Sie die folgenden Parameter verwenden.</p>
    <div class="variablelist">
       
       
       
       
       
       
    <dl>
        <dt><span class="term"><code class="code">event</code></span></dt>
        <dd>
          <p>Die Felder in einer <a href="./crpg-ref-requesttypes.html">benutzerdefinierten Ressourcenanforderung</a>.</p>
        </dd>
       
        <dt><span class="term"><code class="code">context</code></span></dt>
        <dd>
          <p>Ein Objekt, das für Lambda-Funktionen festgelegt wurde und das Sie verwenden können, um festzulegen, wann die Funktion und alle Callbacks abschließend ausgeführt wurden, oder um aus der Lambda-Ausführungsumgebung auf Informationen zuzugreifen. Weitere Informationen finden Sie unter <a href="https://docs.aws.amazon.com/lambda/latest/dg/programming-model.html">Programmiermodell (Node.js)</a> im <em>Entwicklerhandbuch fürAWS Lambda </em>.</p>
        </dd>
       
        <dt><span class="term"><code class="code">responseStatus</code></span></dt>
        <dd>
          <p>Gibt an, ob die Funktion erfolgreich abgeschlossen wurde. Verwenden Sie die <code class="code">cfnresponse</code>-Modulkonstanten, um den Status festzulegen: <code class="code">SUCCESS</code> für erfolgreiche Ausführungen und <code class="code">FAILED</code> für fehlgeschlagene Ausführungen.</p>
        </dd>
       
        <dt><span class="term"><code class="code">responseData</code></span></dt>
        <dd>
          <p>Das <code class="code">Data</code>-Feld für ein benutzerdefiniertes Ressourcen-<a href="./crpg-ref-responses.html">Antwortobjekt</a>. Die Daten sind eine Liste von Name-Wert-Paaren.</p>
        </dd>
       
        <dt><span class="term"><code class="code">physicalResourceId</code></span></dt>
        <dd>
          <p>Optional. Die eindeutige Kennung der benutzerdefinierten Ressource, die die Funktion aufgerufen hat. Standardmäßig verwendet das Modul den Namen des Amazon- CloudWatch Logs-Protokollstreams, der der Lambda-Funktion zugeordnet ist.</p>
          <p>Der für eine <code class="code">PhysicalResourceId</code> zurückgegebene Wert kann benutzerdefinierte Vorgänge zur Ressourcenaktualisierung ändern. Wenn der zurückgegebene Wert derselbe ist, wird es als normale Aktualisierung betrachtet. Wenn der zurückgegebene Wert nicht derselbe ist, erkennt AWS CloudFormation
die Aktualisierung als Ersatz und sendet eine Anforderung zum Löschen an die alte Ressource. Weitere Informationen finden Sie unter <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-customresource.html"><code class="code">AWS::CloudFormation::CustomResource</code></a>.</p>
        </dd>
       
        <dt><span class="term"><code class="code">noEcho</code></span></dt>
        <dd>
          <p>Optional. Gibt an, ob die Ausgabe der benutzerdefinierten Ressource maskiert wird, wenn sie mithilfe der Funktion <code class="code">Fn::GetAtt</code> abgerufen wird. Wird „<code class="code">true</code>“ festgelegt, werden alle zurückgegebenen Werte mit Sternchen (*****) maskiert, mit Ausnahme der Informationen, die an den folgenden Speicherorten gespeichert sind. Dieser Wert ist standardmäßig <code class="code">false</code>.</p>
          <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Wichtig</h6></div><div class="awsdocs-note-text"><p>Durch die Verwendung des <code class="code">NoEcho</code>-Attributs werden keine Informationen maskiert, die im Folgenden gespeichert sind:</p><div class="itemizedlist">
           
           
           
         <ul class="itemizedlist"><li class="listitem">
           <p>Die <code class="code">Metadata</code> template section. CloudFormation dos transformiert, ändert oder redigiert keine Informationen, die Sie in den <code class="code">Metadata</code> Abschnitt aufnehmen. Weitere Informationen finden Sie unter <a href="./metadata-section-structure.html">Metadaten</a>.</p>
          </li><li class="listitem">
           <p>Der <code class="code">Outputs</code>-Vorlagenabschnitt. Weitere Informationen finden Sie unter <a href="./outputs-section-structure.html">Outputs</a>.</p>
          </li><li class="listitem">
           <p>Das <code class="code">Metadata</code>-Attribut einer Ressourcendefinition. Weitere Informationen finden Sie unter <a href="./aws-attribute-metadata.html">Metadata Attribut</a>.</p>
          </li></ul></div><p>Es wird dringend empfohlen, diese Mechanismen nicht zu verwenden, um vertrauliche Informationen wie Passwörter oder Geheimnisse einzugeben.</p></div></div>
          <p>Weitere Informationen zum Maskieren vertraulicher Daten mit <code class="code">NoEcho</code> enthält die bewährte Methode <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/best-practices.html#creds">Keine Anmeldeinformationen in Ihre Vorlagen einbetten</a>.</p>
        </dd>
      </dl></div>
   
    <h2 id="cfn-lambda-function-code-cfnresponsemodule-examples">Beispiele</h2>
     
      <h3 id="cfn-lambda-function-code-zipfile-examplenodejs">Node.js</h3>
      <p>Im folgenden Beispiel für Node.js verwendet die eingebettete Lambda-Funktion einen Eingabewert und multipliziert diesen mit 5. Eingebettete bzw. Inline-Funktionen sind besonders nützlich für kleinere Funktionen, da Sie den Quellcode hiermit direkt in einer Vorlage festlegen können, statt ein Paket zu erstellen und dieses in einen Amazon S3-Bucket hochzuladen. Die Funktion verwendet die <code class="code">cfn-response</code> <code class="code">send</code>-Methode zum Senden des Ergebnisses zurück an die benutzerdefinierte Ressource, die sie aufgerufen hat.</p>
      <div id="JSON" name="JSON" class="section langfilter">
        <h4 id="cfn-lambda-function-code-zipfile-examplenodejs.json">JSON</h4>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"ZipFile": <span>{</span> "Fn::Join": ["", [
  "var response = require('cfn-response');",
  "exports.handler = function(event, context) <span>{</span>",
  "  var input = parseInt(event.ResourceProperties.Input);",
  "  var responseData = <span>{</span>Value: input * 5};",
  "  response.send(event, context, response.SUCCESS, responseData);",
  "};"
]]}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h4 id="cfn-lambda-function-code-zipfile-examplenodejs-yaml">YAML</h4>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">ZipFile: &gt;
  var response = require('cfn-response');
  exports.handler = function(event, context) <span>{</span>
    var input = parseInt(event.ResourceProperties.Input);
    var responseData = <span>{</span>Value: input * 5};
    response.send(event, context, response.SUCCESS, responseData);
  };</code></pre>
      </div>
     
     
      <h3 id="cfn-lambda-function-code-zipfile-examplepython">Python</h3>
      <p>Im folgenden Beispiel für Python verwendet die Lambda-Inline-Funktion einen Ganzzahlwert und multipliziert diesen mit 5.</p>
      <div id="JSON" name="JSON" class="section langfilter">
        <h4 id="cfn-lambda-function-code-zipfile-examplepython.json">JSON</h4>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"ZipFile" : <span>{</span> "Fn::Join" : ["\n", [
  "import json",
  "import cfnresponse",
  "def handler(event, context):",
  "   responseValue = int(event['ResourceProperties']['Input']) * 5",
  "   responseData = <span>{</span>}",
  "   responseData['Data'] = responseValue",
  "   cfnresponse.send(event, context, cfnresponse.SUCCESS, responseData, \"CustomResourcePhysicalID\")"
]]}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h4 id="cfn-lambda-function-code-zipfile-examplepython.yaml">YAML</h4>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">ZipFile: |
  import json
  import cfnresponse
  def handler(event, context):
    responseValue = int(event['ResourceProperties']['Input']) * 5
    responseData = <span>{</span>}
    responseData['Data'] = responseValue
    cfnresponse.send(event, context, cfnresponse.SUCCESS, responseData, "CustomResourcePhysicalID")</code></pre>
      </div>
     
   
    <h2 id="cfn-lambda-function-code-cfnresponsemodule-source">Modul-Quellcode</h2>
    <p>Im Folgenden der Quellcode des Antwortmoduls für die Node.js-Funktionen. Überprüfen Sie den Code, um zu verstehen, was das Modul tut, und um die Implementierung in Ihre eigenen Antwortfunktionen zu vereinfachen.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="js ">// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
// SPDX-License-Identifier: MIT-0
 
exports.SUCCESS = "SUCCESS";
exports.FAILED = "FAILED";
 
exports.send = function(event, context, responseStatus, responseData, physicalResourceId, noEcho) <span>{</span>
 
    var responseBody = JSON.stringify(<span>{</span>
        Status: responseStatus,
        Reason: "See the details in CloudWatch Log Stream: " + context.logStreamName,
        PhysicalResourceId: physicalResourceId || context.logStreamName,
        StackId: event.StackId,
        RequestId: event.RequestId,
        LogicalResourceId: event.LogicalResourceId,
        NoEcho: noEcho || false,
        Data: responseData
    });
 
    console.log("Response body:\n", responseBody);
 
    var https = require("https");
    var url = require("url");
 
    var parsedUrl = url.parse(event.ResponseURL);
    var options = <span>{</span>
        hostname: parsedUrl.hostname,
        port: 443,
        path: parsedUrl.path,
        method: "PUT",
        headers: <span>{</span>
            "content-type": "",
            "content-length": responseBody.length
        }
    };
 
    var request = https.request(options, function(response) <span>{</span>
        console.log("Status code: " + parseInt(response.statusCode));
        context.done();
    });
 
    request.on("error", function(error) <span>{</span>
        console.log("send(..) failed executing https.request(..): " + error);
        context.done();
    });
 
    request.write(responseBody);
    request.end();
}</code></pre>
    <p>Im Folgenden sehen Sie den Quellcode des Antwortmoduls für die Python-2- und -3-Funktionen:</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="python "># Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
# SPDX-License-Identifier: MIT-0
 
from __future__ import print_function
import urllib3
import json

SUCCESS = "SUCCESS"
FAILED = "FAILED"

http = urllib3.PoolManager()


def send(event, context, responseStatus, responseData, physicalResourceId=None, noEcho=False, reason=None):
    responseUrl = event['ResponseURL']

    print(responseUrl)

    responseBody = <span>{</span>
        'Status' : responseStatus,
        'Reason' : reason or "See the details in CloudWatch Log Stream: <span>{</span>}".format(context.log_stream_name),
        'PhysicalResourceId' : physicalResourceId or context.log_stream_name,
        'StackId' : event['StackId'],
        'RequestId' : event['RequestId'],
        'LogicalResourceId' : event['LogicalResourceId'],
        'NoEcho' : noEcho,
        'Data' : responseData
    }

    json_responseBody = json.dumps(responseBody)

    print("Response body:")
    print(json_responseBody)

    headers = <span>{</span>
        'content-type' : '',
        'content-length' : str(len(json_responseBody))
    }

    try:
        response = http.request('PUT', responseUrl, headers=headers, body=json_responseBody)
        print("Status code:", response.status)


    except Exception as e:

        print("send(..) failed executing http.request(..):", e)</code></pre>
    
  <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warnung" /> <strong>JavaScript ist in Ihrem Browser nicht verfügbar oder deaktiviert.</strong></p><p>Zur Nutzung der AWS-Dokumentation muss JavaScript aktiviert sein. Weitere Informationen finden auf den Hilfe-Seiten Ihres Browsers.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Dokumentkonventionen</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./walkthrough-custom-resources-lambda-lookup-amiids.html">Walkthrough: Nachschlagen von Amazon Machine Image-IDs</div><div id="next" class="next-link" accesskey="n" href="./crpg-ref.html">Referenz für benutzerdefinierte Ressourcen</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Ja</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass wir gute Arbeit geleistet haben!</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, was wir richtig gemacht haben, damit wir noch besser werden?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Nein</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass diese Seite überarbeitet werden muss. Es tut uns Leid, dass wir Ihnen nicht weiterhelfen konnten.</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, wie wir die Dokumentation verbessern können?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>