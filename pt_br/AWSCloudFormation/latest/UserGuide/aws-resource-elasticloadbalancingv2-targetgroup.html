<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>AWS::ElasticLoadBalancingV2::TargetGroup - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="aws-resource-elasticloadbalancingv2-targetgroup" /><meta name="default_state" content="aws-resource-elasticloadbalancingv2-targetgroup" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-elasticloadbalancingv2-targetgroup.html" /><meta name="description" content="Specifies a target group for an Application Load Balancer, a Network Load Balancer, or a Gateway Load Balancer." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Create and manage AWS infrastructure deployments predictably and repeatedly using AWS CloudFormation with this User Guide." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json;toc-AWS_ElasticLoadBalancingV2.json" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-elasticloadbalancingv2-targetgroup.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-elasticloadbalancingv2-targetgroup.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-elasticloadbalancingv2-targetgroup.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-elasticloadbalancingv2-targetgroup.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-elasticloadbalancingv2-targetgroup.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-elasticloadbalancingv2-targetgroup.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-elasticloadbalancingv2-targetgroup.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-resource-elasticloadbalancingv2-targetgroup.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-resource-elasticloadbalancingv2-targetgroup.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-resource-elasticloadbalancingv2-targetgroup.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-resource-elasticloadbalancingv2-targetgroup.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-resource-elasticloadbalancingv2-targetgroup.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-resource-elasticloadbalancingv2-targetgroup.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-resource-elasticloadbalancingv2-targetgroup.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-resource-elasticloadbalancingv2-targetgroup.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-elasticloadbalancingv2-targetgroup.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-elasticloadbalancingv2-targetgroup.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-resource-elasticloadbalancingv2-targetgroup.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-resource-elasticloadbalancingv2-targetgroup.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/aws-resource-elasticloadbalancingv2-targetgroup.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/aws-resource-elasticloadbalancingv2-targetgroup.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-elasticloadbalancingv2-targetgroup.html" hreflang="x-default" /><meta name="feedback-item" content="Elastic Load Balancing" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="AWS::ElasticLoadBalancingV2::TargetGroup" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>AWS::ElasticLoadBalancingV2::TargetGroup - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Elastic%20Load%20Balancing&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-elasticloadbalancingv2-targetgroup.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-elasticloadbalancingv2-targetgroup.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-elasticloadbalancingv2-targetgroup.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Elastic Load Balancing V2 resource type reference",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/AWS_ElasticLoadBalancingV2.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "AWS::ElasticLoadBalancingV2::TargetGroup",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/AWS_ElasticLoadBalancingV2.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="AWS_ElasticLoadBalancingV2.html">User Guide</a></div><div id="page-toc-src"><a href="#aws-resource-elasticloadbalancingv2-targetgroup-syntax">Syntax</a><a href="#aws-resource-elasticloadbalancingv2-targetgroup-properties">Properties</a><a href="#aws-resource-elasticloadbalancingv2-targetgroup-return-values">Return values</a><a href="#aws-resource-elasticloadbalancingv2-targetgroup--examples">Examples</a><a href="#aws-resource-elasticloadbalancingv2-targetgroup--seealso">See also</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="aws-resource-elasticloadbalancingv2-targetgroup">AWS::ElasticLoadBalancingV2::TargetGroup</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Specifies a target group for an Application Load Balancer, a Network Load Balancer, or a 
         Gateway Load Balancer.</p><p>Before you register a Lambda function as a target, you must create a
            <code class="code">AWS::Lambda::Permission</code> resource that grants the Elastic Load Balancing
         service principal permission to invoke the Lambda function.</p><h2 id="aws-resource-elasticloadbalancingv2-targetgroup-syntax">Syntax</h2><p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p><div id="JSON" name="JSON" class="section langfilter"><h3 id="aws-resource-elasticloadbalancingv2-targetgroup-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Type" : "AWS::ElasticLoadBalancingV2::TargetGroup",
  "Properties" : <span>{</span>
      "<a href="#cfn-elasticloadbalancingv2-targetgroup-healthcheckenabled">HealthCheckEnabled</a>" : <code class="replaceable">Boolean</code>,
      "<a href="#cfn-elasticloadbalancingv2-targetgroup-healthcheckintervalseconds">HealthCheckIntervalSeconds</a>" : <code class="replaceable">Integer</code>,
      "<a href="#cfn-elasticloadbalancingv2-targetgroup-healthcheckpath">HealthCheckPath</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-elasticloadbalancingv2-targetgroup-healthcheckport">HealthCheckPort</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-elasticloadbalancingv2-targetgroup-healthcheckprotocol">HealthCheckProtocol</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-elasticloadbalancingv2-targetgroup-healthchecktimeoutseconds">HealthCheckTimeoutSeconds</a>" : <code class="replaceable">Integer</code>,
      "<a href="#cfn-elasticloadbalancingv2-targetgroup-healthythresholdcount">HealthyThresholdCount</a>" : <code class="replaceable">Integer</code>,
      "<a href="#cfn-elasticloadbalancingv2-targetgroup-ipaddresstype">IpAddressType</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-elasticloadbalancingv2-targetgroup-matcher">Matcher</a>" : <code class="replaceable"><a href="./aws-properties-elasticloadbalancingv2-targetgroup-matcher.html">Matcher</a></code>,
      "<a href="#cfn-elasticloadbalancingv2-targetgroup-name">Name</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-elasticloadbalancingv2-targetgroup-port">Port</a>" : <code class="replaceable">Integer</code>,
      "<a href="#cfn-elasticloadbalancingv2-targetgroup-protocol">Protocol</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-elasticloadbalancingv2-targetgroup-protocolversion">ProtocolVersion</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-elasticloadbalancingv2-targetgroup-tags">Tags</a>" : <code class="replaceable">[ <a href="./aws-properties-elasticloadbalancingv2-targetgroup-tag.html">Tag</a>, ... ]</code>,
      "<a href="#cfn-elasticloadbalancingv2-targetgroup-targetgroupattributes">TargetGroupAttributes</a>" : <code class="replaceable">[ <a href="./aws-properties-elasticloadbalancingv2-targetgroup-targetgroupattribute.html">TargetGroupAttribute</a>, ... ]</code>,
      "<a href="#cfn-elasticloadbalancingv2-targetgroup-targets">Targets</a>" : <code class="replaceable">[ <a href="./aws-properties-elasticloadbalancingv2-targetgroup-targetdescription.html">TargetDescription</a>, ... ]</code>,
      "<a href="#cfn-elasticloadbalancingv2-targetgroup-targettype">TargetType</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-elasticloadbalancingv2-targetgroup-unhealthythresholdcount">UnhealthyThresholdCount</a>" : <code class="replaceable">Integer</code>,
      "<a href="#cfn-elasticloadbalancingv2-targetgroup-vpcid">VpcId</a>" : <code class="replaceable">String</code>
    }
}
</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h3 id="aws-resource-elasticloadbalancingv2-targetgroup-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Type: AWS::ElasticLoadBalancingV2::TargetGroup
Properties:
  <a href="#cfn-elasticloadbalancingv2-targetgroup-healthcheckenabled">HealthCheckEnabled</a>: <code class="replaceable">Boolean</code>
  <a href="#cfn-elasticloadbalancingv2-targetgroup-healthcheckintervalseconds">HealthCheckIntervalSeconds</a>: <code class="replaceable">Integer</code>
  <a href="#cfn-elasticloadbalancingv2-targetgroup-healthcheckpath">HealthCheckPath</a>: <code class="replaceable">String</code>
  <a href="#cfn-elasticloadbalancingv2-targetgroup-healthcheckport">HealthCheckPort</a>: <code class="replaceable">String</code>
  <a href="#cfn-elasticloadbalancingv2-targetgroup-healthcheckprotocol">HealthCheckProtocol</a>: <code class="replaceable">String</code>
  <a href="#cfn-elasticloadbalancingv2-targetgroup-healthchecktimeoutseconds">HealthCheckTimeoutSeconds</a>: <code class="replaceable">Integer</code>
  <a href="#cfn-elasticloadbalancingv2-targetgroup-healthythresholdcount">HealthyThresholdCount</a>: <code class="replaceable">Integer</code>
  <a href="#cfn-elasticloadbalancingv2-targetgroup-ipaddresstype">IpAddressType</a>: <code class="replaceable">String</code>
  <a href="#cfn-elasticloadbalancingv2-targetgroup-matcher">Matcher</a>: <code class="replaceable">
    <a href="./aws-properties-elasticloadbalancingv2-targetgroup-matcher.html">Matcher</a></code>
  <a href="#cfn-elasticloadbalancingv2-targetgroup-name">Name</a>: <code class="replaceable">String</code>
  <a href="#cfn-elasticloadbalancingv2-targetgroup-port">Port</a>: <code class="replaceable">Integer</code>
  <a href="#cfn-elasticloadbalancingv2-targetgroup-protocol">Protocol</a>: <code class="replaceable">String</code>
  <a href="#cfn-elasticloadbalancingv2-targetgroup-protocolversion">ProtocolVersion</a>: <code class="replaceable">String</code>
  <a href="#cfn-elasticloadbalancingv2-targetgroup-tags">Tags</a>: <code class="replaceable">
    - <a href="./aws-properties-elasticloadbalancingv2-targetgroup-tag.html">Tag</a></code>
  <a href="#cfn-elasticloadbalancingv2-targetgroup-targetgroupattributes">TargetGroupAttributes</a>: <code class="replaceable">
    - <a href="./aws-properties-elasticloadbalancingv2-targetgroup-targetgroupattribute.html">TargetGroupAttribute</a></code>
  <a href="#cfn-elasticloadbalancingv2-targetgroup-targets">Targets</a>: <code class="replaceable">
    - <a href="./aws-properties-elasticloadbalancingv2-targetgroup-targetdescription.html">TargetDescription</a></code>
  <a href="#cfn-elasticloadbalancingv2-targetgroup-targettype">TargetType</a>: <code class="replaceable">String</code>
  <a href="#cfn-elasticloadbalancingv2-targetgroup-unhealthythresholdcount">UnhealthyThresholdCount</a>: <code class="replaceable">Integer</code>
  <a href="#cfn-elasticloadbalancingv2-targetgroup-vpcid">VpcId</a>: <code class="replaceable">String</code>
</code></pre></div><h2 id="aws-resource-elasticloadbalancingv2-targetgroup-properties">Properties</h2><div class="variablelist"><dl><dt id="cfn-elasticloadbalancingv2-targetgroup-healthcheckenabled"><span class="term"><code class="code">HealthCheckEnabled</code></span></dt><dd>
         <p>Indicates whether health checks are enabled. If the target type is <code class="code">lambda</code>,
      health checks are disabled by default but can be enabled. If the target type is
        <code class="code">instance</code>, <code class="code">ip</code>, or <code class="code">alb</code>, health checks are always
      enabled and cannot be disabled.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: Boolean</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-elasticloadbalancingv2-targetgroup-healthcheckintervalseconds"><span class="term"><code class="code">HealthCheckIntervalSeconds</code></span></dt><dd>
         <p>The approximate amount of time, in seconds, between health checks of an individual target. The range is 5-300.
      If the target group protocol is TCP, TLS, UDP, TCP_UDP, HTTP or HTTPS, the default is 30 seconds. 
      If the target group protocol is GENEVE, the default is 10 seconds. 
      If the target type is <code class="code">lambda</code>, the default is 35 seconds.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: Integer</p><p><em>Minimum</em>: <code class="code">5</code></p><p><em>Maximum</em>: <code class="code">300</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-elasticloadbalancingv2-targetgroup-healthcheckpath"><span class="term"><code class="code">HealthCheckPath</code></span></dt><dd>
         <p>[HTTP/HTTPS health checks] The destination for health checks on the targets.</p>
         <p>[HTTP1 or HTTP2 protocol version] The ping path. The default is /.</p>
         <p>[GRPC protocol version] The path of a custom health check method with the format
      /package.service/method. The default is /AWS.ALB/healthcheck.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Minimum</em>: <code class="code">1</code></p><p><em>Maximum</em>: <code class="code">1024</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-elasticloadbalancingv2-targetgroup-healthcheckport"><span class="term"><code class="code">HealthCheckPort</code></span></dt><dd>
         <p>The port the load balancer uses when performing health checks on targets. If the protocol
      is HTTP, HTTPS, TCP, TLS, UDP, or TCP_UDP, the default is <code class="code">traffic-port</code>, which is
      the port on which each target receives traffic from the load balancer. If the protocol is
      GENEVE, the default is port 80.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-elasticloadbalancingv2-targetgroup-healthcheckprotocol"><span class="term"><code class="code">HealthCheckProtocol</code></span></dt><dd>
         <p>The protocol the load balancer uses when performing health checks on targets. For
      Application Load Balancers, the default is HTTP. For Network Load Balancers and Gateway Load
      Balancers, the default is TCP. The TCP protocol is not supported for health checks if the
      protocol of the target group is HTTP or HTTPS. The GENEVE, TLS, UDP, and TCP_UDP protocols are
      not supported for health checks.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Allowed values</em>: <code class="code">HTTP | HTTPS | TCP | TLS | UDP | TCP_UDP | GENEVE</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-elasticloadbalancingv2-targetgroup-healthchecktimeoutseconds"><span class="term"><code class="code">HealthCheckTimeoutSeconds</code></span></dt><dd>
         <p>The amount of time, in seconds, during which no response from a target means a failed 
      health check. The range is 2–120 seconds. For target groups with a protocol of HTTP, the 
      default is 6 seconds. For target groups with a protocol of TCP, TLS or HTTPS, the default 
      is 10 seconds. For target groups with a protocol of GENEVE, the default is 5 seconds. If 
      the target type is <code class="code">lambda</code>, the default is 30 seconds.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: Integer</p><p><em>Minimum</em>: <code class="code">2</code></p><p><em>Maximum</em>: <code class="code">120</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-elasticloadbalancingv2-targetgroup-healthythresholdcount"><span class="term"><code class="code">HealthyThresholdCount</code></span></dt><dd>
         <p>The number of consecutive health check successes required before considering a target healthy. The range is 
      2-10. If the target group protocol is TCP, TCP_UDP, UDP, TLS, HTTP or HTTPS, the default is 5. For target groups 
      with a protocol of GENEVE, the default is 5. If the target type 
      is <code class="code">lambda</code>, the default is 5.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: Integer</p><p><em>Minimum</em>: <code class="code">2</code></p><p><em>Maximum</em>: <code class="code">10</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-elasticloadbalancingv2-targetgroup-ipaddresstype"><span class="term"><code class="code">IpAddressType</code></span></dt><dd>
         <p>The type of IP address used for this target group. The possible values are
        <code class="code">ipv4</code> and <code class="code">ipv6</code>. This is an optional parameter. If not specified,
      the IP address type defaults to <code class="code">ipv4</code>.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Allowed values</em>: <code class="code">ipv4 | ipv6</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-elasticloadbalancingv2-targetgroup-matcher"><span class="term"><code class="code">Matcher</code></span></dt><dd>
         <p>[HTTP/HTTPS health checks] The HTTP or gRPC codes to use when checking for a successful 
      response from a target. For target groups with a protocol of TCP, TCP_UDP, UDP or TLS the range 
      is 200-599. For target groups with a protocol of HTTP or HTTPS, the range is 200-499. For target 
      groups with a protocol of GENEVE, the range is 200-399.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: <a href="./aws-properties-elasticloadbalancingv2-targetgroup-matcher.html">Matcher</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-elasticloadbalancingv2-targetgroup-name"><span class="term"><code class="code">Name</code></span></dt><dd>
         <p>The name of the target group.</p>
         <p>This name must be unique per region per account, can have a maximum of 32 characters, must
      contain only alphanumeric characters or hyphens, and must not begin or end with a
      hyphen.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-elasticloadbalancingv2-targetgroup-port"><span class="term"><code class="code">Port</code></span></dt><dd>
         <p>The port on which the targets receive traffic. This port is used unless you specify a port
      override when registering the target. If the target is a Lambda function, this parameter does
      not apply. If the protocol is GENEVE, the supported port is 6081.</p>
      <p><em>Required</em>: Conditional</p><p><em>Type</em>: Integer</p><p><em>Minimum</em>: <code class="code">1</code></p><p><em>Maximum</em>: <code class="code">65535</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-elasticloadbalancingv2-targetgroup-protocol"><span class="term"><code class="code">Protocol</code></span></dt><dd>
         <p>The protocol to use for routing traffic to the targets. For Application Load Balancers,
      the supported protocols are HTTP and HTTPS. For Network Load Balancers, the supported
      protocols are TCP, TLS, UDP, or TCP_UDP. For Gateway Load Balancers, the supported protocol is
      GENEVE. A TCP_UDP listener must be associated with a TCP_UDP target group. If the target is a
      Lambda function, this parameter does not apply.</p>
      <p><em>Required</em>: Conditional</p><p><em>Type</em>: String</p><p><em>Allowed values</em>: <code class="code">HTTP | HTTPS | TCP | TLS | UDP | TCP_UDP | GENEVE</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-elasticloadbalancingv2-targetgroup-protocolversion"><span class="term"><code class="code">ProtocolVersion</code></span></dt><dd>
         <p>[HTTP/HTTPS protocol] The protocol version. The possible values are <code class="code">GRPC</code>,
        <code class="code">HTTP1</code>, and <code class="code">HTTP2</code>.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-elasticloadbalancingv2-targetgroup-tags"><span class="term"><code class="code">Tags</code></span></dt><dd>
         <p>The tags.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: Array of <a href="./aws-properties-elasticloadbalancingv2-targetgroup-tag.html">Tag</a></p><p><em>Minimum</em>: <code class="code">1</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-elasticloadbalancingv2-targetgroup-targetgroupattributes"><span class="term"><code class="code">TargetGroupAttributes</code></span></dt><dd>
         <p>The attributes.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: Array of <a href="./aws-properties-elasticloadbalancingv2-targetgroup-targetgroupattribute.html">TargetGroupAttribute</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-elasticloadbalancingv2-targetgroup-targets"><span class="term"><code class="code">Targets</code></span></dt><dd>
         <p>The targets.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: Array of <a href="./aws-properties-elasticloadbalancingv2-targetgroup-targetdescription.html">TargetDescription</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-elasticloadbalancingv2-targetgroup-targettype"><span class="term"><code class="code">TargetType</code></span></dt><dd>
         <p>The type of target that you must specify when registering targets with this target group.
      You can't specify targets for a target group using more than one target type.</p>
         <div class="itemizedlist">
             
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>
                  <code class="code">instance</code> - Register targets by instance ID. This is the default
          value.</p>
            </li><li class="listitem">
               <p>
                  <code class="code">ip</code> - Register targets by IP address. You can specify IP addresses from
          the subnets of the virtual private cloud (VPC) for the target group, the RFC 1918 range
          (10.0.0.0/8, 172.16.0.0/12, and 192.168.0.0/16), and the RFC 6598 range (100.64.0.0/10).
          You can't specify publicly routable IP addresses.</p>
            </li><li class="listitem">
               <p>
                  <code class="code">lambda</code> - Register a single Lambda function as a target.</p>
            </li><li class="listitem">
               <p>
                  <code class="code">alb</code> - Register a single Application Load Balancer as a target.</p>
            </li></ul></div>
      <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Allowed values</em>: <code class="code">instance | ip | lambda | alb</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-elasticloadbalancingv2-targetgroup-unhealthythresholdcount"><span class="term"><code class="code">UnhealthyThresholdCount</code></span></dt><dd>
         <p>The number of consecutive health check failures required before considering a target unhealthy. The range is 
      2-10. If the target group protocol is TCP, TCP_UDP, UDP, TLS, HTTP or HTTPS, the default is 2. For target groups 
      with a protocol of GENEVE, the default is 2. If the target type 
      is <code class="code">lambda</code>, the default is 5.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: Integer</p><p><em>Minimum</em>: <code class="code">2</code></p><p><em>Maximum</em>: <code class="code">10</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-elasticloadbalancingv2-targetgroup-vpcid"><span class="term"><code class="code">VpcId</code></span></dt><dd>
         <p>The identifier of the virtual private cloud (VPC). If the target is a Lambda function,
      this parameter does not apply. Otherwise, this parameter is required.</p>
      <p><em>Required</em>: Conditional</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd></dl></div><h2 id="aws-resource-elasticloadbalancingv2-targetgroup-return-values">Return values</h2><h3 id="aws-resource-elasticloadbalancingv2-targetgroup-return-values-ref">Ref</h3><p>When you pass the logical ID of this resource to the intrinsic <code class="code">Ref</code> function, <code class="code">Ref</code> returns the Amazon Resource Name (ARN) of the target group.</p><p>For more information about using the <code class="code">Ref</code> function, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-ref.html"><code class="code">Ref</code></a>.</p><h3 id="aws-resource-elasticloadbalancingv2-targetgroup-return-values-fn--getatt">Fn::GetAtt</h3><p>The <code class="code">Fn::GetAtt</code> intrinsic function returns a value for a specified attribute of this type. The following are the available attributes and sample return values.</p>
<p>For more information about using the <code class="code">Fn::GetAtt</code> intrinsic function, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-getatt.html"><code class="code">Fn::GetAtt</code></a>.</p><h4 id="aws-resource-elasticloadbalancingv2-targetgroup-return-values-fn--getatt-fn--getatt"></h4><div class="variablelist"><dl><dt id="LoadBalancerArns-fn::getatt"><span class="term"><code class="code">LoadBalancerArns</code></span></dt><dd>
      <p>The Amazon Resource Name (ARN) of the load balancer that routes traffic to this target group.</p>
   </dd><dt id="TargetGroupArn-fn::getatt"><span class="term"><code class="code">TargetGroupArn</code></span></dt><dd>
      <p>The Amazon Resource Name (ARN) of the target group.</p>
   </dd><dt id="TargetGroupFullName-fn::getatt"><span class="term"><code class="code">TargetGroupFullName</code></span></dt><dd>
      <p>The full name of the target group. For example, <code class="code">targetgroup/my-target-group/cbf133c568e0d028</code>.</p>
   </dd><dt id="TargetGroupName-fn::getatt"><span class="term"><code class="code">TargetGroupName</code></span></dt><dd>
      <p>The name of the target group. For example, <code class="code">my-target-group</code>.</p>
   </dd></dl></div><h2 id="aws-resource-elasticloadbalancingv2-targetgroup--examples">Examples</h2><p>The following example creates a target group where the target is a Lambda
            function.</p><h3 id="aws-resource-elasticloadbalancingv2-targetgroup--examples--"></h3><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-resource-elasticloadbalancingv2-targetgroup--examples----yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources:
  MyLambdaInvokePermission:
    Type: AWS::Lambda::Permission
    Properties:
      FunctionName: !GetAtt 
        - MyLambdaFunction
        - Arn
      Action: 'lambda:InvokeFunction'
      Principal: elasticloadbalancing.amazonaws.com

  MyTargetGroup:
    Type: AWS::ElasticLoadBalancingV2::TargetGroup
    Properties:
      HealthCheckEnabled: false
      Name: MyTargets
      TargetType: lambda
      Targets:
      - Id: !GetAtt [ MyLambdaFunction, Arn ]

  MyLambdaFunction:
    Type: "AWS::Lambda::Function"
    Properties:
      Handler: "index.handler"
      Role: !GetAtt [ LambdaExecutionRole, Arn ]
      Code:
        ZipFile: !Sub |
          import json
          
          def handler(event, context):
            response = <span>{</span>
              "statusCode": 200,
              "statusDescription": "200 OK",
              "isBase64Encoded": False,
              "headers": <span>{</span>
                "Content-Type": "text/html; charset=utf-8"
              }
            }

            response['body'] = """&lt;html&gt;
            &lt;head&gt;
            &lt;title&gt;Hello World!&lt;/title&gt;
            &lt;style&gt;
            html, body <span>{</span>
              margin: 0; padding: 0;
              font-family: arial; font-weight: 700; font-size: 3em;
              text-align: center;
            }
            &lt;/style&gt;
            &lt;/head&gt;
            &lt;body&gt;
            &lt;p&gt;Hello World from Lambda&lt;/p&gt;
            &lt;/body&gt;
            &lt;/html&gt;"""
            return response      
      Runtime: "python3.6"
      Timeout: "25"

  LambdaExecutionRole:
    Type: "AWS::IAM::Role"
    Properties:
      AssumeRolePolicyDocument:
        Version: "2012-10-17"
        Statement:
          - Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
            Action: "sts:AssumeRole"</code></pre></div><h2 id="aws-resource-elasticloadbalancingv2-targetgroup--seealso">See also</h2><div class="itemizedlist">
             
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>
                  <a href="https://docs.aws.amazon.com/elasticloadbalancing/latest/APIReference/API_CreateTargetGroup.html">CreateTargetGroup</a> in the <em>Elastic Load Balancing API
                     Reference (version 2015-12-01)</em>
               </p>
            </li><li class="listitem">
               <p>
                  <a href="https://docs.aws.amazon.com/elasticloadbalancing/latest/application/load-balancer-target-groups.html">Target groups</a> in the <em>User Guide for Application Load
                     Balancers</em>
               </p>
            </li><li class="listitem">
               <p>
                  <a href="https://docs.aws.amazon.com/elasticloadbalancing/latest/network/load-balancer-target-groups.html">Target groups</a> in the <em>User Guide for Network Load
                     Balancers</em>
               </p>
            </li><li class="listitem">
               <p>
                  <a href="https://docs.aws.amazon.com/elasticloadbalancing/latest/gateway/target-groups.html">Target groups</a> in the <em>User Guide for Gateway Load
                     Balancers</em>
               </p>
            </li></ul></div><p></p><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./aws-properties-elasticloadbalancingv2-loadbalancer-tag.html">Tag</div><div id="next" class="next-link" accesskey="n" href="./aws-properties-elasticloadbalancingv2-targetgroup-matcher.html">Matcher</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Elastic Load Balancing&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-elasticloadbalancingv2-targetgroup.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Elastic Load Balancing&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-elasticloadbalancingv2-targetgroup.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>