<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="pt-BR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Conceitos do StackSets - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="stacksets-concepts" /><meta name="default_state" content="stacksets-concepts" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" /><meta name="description" content="Descreve os conceitos fundamentais do StackSets e como eles se relacionam." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Guia do usuário" /><meta name="abstract" content="Crie e gerencie implantações da infraestrutura da AWS de maneira previsível e que pode ser repetida usando o AWS CloudFormation com este Guia do usuário." /><meta name="guide-locale" content="pt_br" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Guia do usuário" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Guia do usuário" /><meta id="panorama-serviceConsolePage" value="Conceitos do StackSets" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Conceitos do StackSets - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,provisionamento de recursos,configuração de recursos,gerenciamento da infraestrutura,CloudFormer,Pilha do CloudFormation,Stackset do CloudFormation,Modelo do CloudFormation,conjunto de alterações" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guia do usuário",
        "item" : "https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Trabalhar com o AWS CloudFormation StackSets",
        "item" : "https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/what-is-cfnstacksets.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Conceitos do StackSets",
        "item" : "https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/what-is-cfnstacksets.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentação</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Guia do usuário</a></div><div id="page-toc-src"><a href="#stacksets-concepts-accts">Contas de administrador e de destino</a><a href="#stacksets-concepts-stackset">AWS CloudFormation StackSets</a><a href="#stacksets-concepts-stackset-permission-models">Modelos de permissões para conjuntos de pilhas</a><a href="#stacksets-concepts-stackinstances">Instâncias da pilha</a><a href="#stacksets-concepts-ops">Operações do conjunto de pilhas</a><a href="#stackset-ops-options">Opções de operação do conjunto de pilhas</a><a href="#stackset-concepts-tags">Tags</a><a href="#stackset-status-codes">Códigos de status do StackSets</a><a href="#stack-instance-status-codes">Códigos de status da instância de pilha</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="stacksets-concepts">Conceitos do StackSets</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Ao usar o StackSets, você trabalha com <em>conjuntos de pilhas</em>, <em>instâncias de pilhas</em> e <em>pilhas</em>.</p><div class="highlights" id="inline-topiclist"><h6>Tópicos</h6><ul><li><a href="#stacksets-concepts-accts">Contas de administrador e de destino</a></li><li><a href="#stacksets-concepts-stackset">AWS CloudFormation StackSets</a></li><li><a href="#stacksets-concepts-stackset-permission-models">Modelos de permissões para conjuntos de pilhas</a></li><li><a href="#stacksets-concepts-stackinstances">Instâncias da pilha</a></li><li><a href="#stacksets-concepts-ops">Operações do conjunto de pilhas</a></li><li><a href="#stackset-ops-options">Opções de operação do conjunto de pilhas</a></li><li><a href="#stackset-concepts-tags">Tags</a></li><li><a href="#stackset-status-codes">Códigos de status do StackSets</a></li><li><a href="#stack-instance-status-codes">Códigos de status da instância de pilha</a></li></ul></div>
            <h2 id="stacksets-concepts-accts">Contas de administrador e de destino</h2>

            <p>Uma <em>conta de administrador</em> é a conta da AWS na qual você cria conjuntos de pilhas. Para conjuntos de pilha com permissões gerenciadas por serviço, a conta de administrador é a conta de administrador delegado ou de conta de gerenciamento da organização. É possível gerenciar um conjunto de pilhas fazendo login na conta de administrador da AWS que criou o conjunto de pilhas.</p>
            <p>A <em>conta de destino</em> é a conta na qual você cria, atualiza ou exclui uma ou mais pilhas no seu conjunto de pilhas. Antes de usar um conjunto de pilhas para criar pilhas em uma conta de destino, estabeleça uma relação de confiança entre as contas de administrador e de destino.</p>

         
            <h2 id="stacksets-concepts-stackset">AWS CloudFormation StackSets</h2>

            <p>Um <em>conjunto de pilhas</em> permite criar pilhas entre Contas da AWS em várias regiões usando um único modelo do CloudFormation. O modelo do CloudFormation do conjunto de pilhas define todos os recursos em cada pilha. Ao criar o conjunto de pilhas, você pode especificar o modelo a ser usado, além de quaisquer parâmetros e recursos que o modelo exija.</p>
            <p>Depois de definir um conjunto de pilhas, você poderá criar, atualizar ou excluir pilhas nas contas e Regiões da AWS de destino especificadas. Ao criar, atualizar ou excluir pilhas, também é possível especificar preferências de operação. Por exemplo, inclua a ordem das regiões em que você deseja realizar a operação, o limite de tolerância a falhas antes que as operações de pilha sejam interrompidas e o número de contas que realizam operações de pilha ao mesmo tempo.</p>
            <p>Um conjunto de pilhas é um recurso regional. Se você criar um conjunto de pilhas em uma Região da AWS, apenas poderá vê-lo ou alterá-lo ao visualizar essa região.</p>
         
            <h2 id="stacksets-concepts-stackset-permission-models">Modelos de permissões para conjuntos de pilhas</h2>
            <p>Você pode criar conjuntos de pilhas usando permissões <em>autogerenciadas</em> ou permissões <em>gerenciadas pelo serviço</em>.</p>
            <p>Com permissões <em>autogerenciadas</em> você cria os perfis do IAM necessários para o StackSets implantar em contas e regiões. Essas funções são necessárias para estabelecer um relacionamento confiável entre a conta na qual você está administrando o conjunto de pilhas e a conta na qual você está implantando instâncias de pilha. Usando esse modelo de permissões, o StackSets pode implantar em qualquer conta da AWS na qual você tenha permissões para criar um perfil do IAM.</p>
            <p>Com permissões <em>gerenciadas pelo serviço</em> você pode implantar instâncias de pilha em contas gerenciadas pelo AWS Organizations. Usando esse modelo de permissões, você não precisa criar os perfis do IAM necessários. O StackSets cria perfis do IAM em seu nome. Com esse modelo, você também pode ativar implantações automáticas em contas que serão adicionadas à sua organização no futuro.</p>
            <p>O AWS Organizations integra-se ao CloudFormation e ajuda a gerenciar e governar centralmente seu ambiente à medida que você escala e expande seus recursos da AWS.</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>Conta de gerenciamento: a conta que você usa para criar a organização. Para obter mais informações, consulte <a href="https://docs.aws.amazon.com/organizations/latest/userguide/orgs_getting-started_concepts.html#account">Terminologia e conceitos do AWS Organizations</a>.</p>
                </li><li class="listitem">
                    <p>Administrador delegado: um serviço compatível da AWS pode registrar uma conta-membro da AWS da organização como administrador para as contas da organização nesse serviço. Para obter mais informações, consulte <a href="https://docs.aws.amazon.com/organizations/latest/userguide/orgs_integrate_services_list.html">Serviços da AWS que você pode usar com o AWS Organizations</a>.</p>
                </li></ul></div>
            <p>Para obter mais informações sobre como criar e gerenciar conjuntos de pilha com permissões gerenciadas por serviço, consulte os seguintes tópicos:</p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><a href="./stacksets-orgs-activate-trusted-access.html">Ativar o acesso confiável com AWS Organizations</a></p>
                </li><li class="listitem">
                    <p><a href="./stacksets-orgs-delegated-admin.html">Registro de um administrador delegado</a></p>
                </li><li class="listitem">
                    <p><a href="./stacksets-getting-started-create.html#stacksets-orgs-associate-stackset-with-org">Criar um conjunto de pilhas com permissões gerenciadas pelo serviço</a></p>
                </li></ul></div>
         
            <h2 id="stacksets-concepts-stackinstances">Instâncias da pilha</h2>

            <p>Uma <em>instância de pilha</em> é uma referência a uma pilha em uma conta de destino dentro de uma região. Uma instância de pilha pode existir sem uma pilha. Por exemplo, se a pilha não puder ser criada por algum motivo, a instância de pilha mostrará o motivo da falha ao criar a pilha. Uma instância de pilha está associada a apenas um conjunto de pilhas.</p>
            <p>Veja a seguir as relações lógicas entre conjuntos de pilha, operações de pilha e pilhas. Ao atualizar um conjunto de pilhas, <em>todas</em> as instâncias de pilha associadas são atualizadas em todas as contas e regiões.</p>
            <div class="mediaobject">
                 
                    <img src="images/stack_sets_operations_stacks_sv.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;                     Um único conjunto de pilhas pode servir como base para criar, atualizar ou excluir instâncias de pilha e pilhas em várias contas e regiões.&#xA;                " style="max-width:100%" />
                 
                 
            </div>
         
            <h2 id="stacksets-concepts-ops">Operações do conjunto de pilhas</h2>

            <p>Você pode executar as seguintes operações nos conjuntos de pilhas.</p>
            <div class="variablelist">
                 
                 
                 
                 
            <dl>
                    <dt><span class="term">Criar conjunto de pilhas</span></dt>
                    <dd>
                        <p>A criação de um conjunto de pilhas inclui a especificação de um modelo do CloudFormation que você usará para criar pilhas, especificando as contas de destino nas quais deseja criá-las e as Regiões da AWS em que deseja implantá-las nas suas contas de destino. Um conjunto de pilhas garante uma implantação consistente dos mesmos recursos de pilha, com as mesmas configurações, para todas as contas de destino especificadas dentro das regiões escolhidas.</p>
                    </dd>
                 
                    <dt><span class="term">Atualizar conjunto de pilhas</span></dt>
                    <dd>
                        <p>Ao atualizar um conjunto de pilhas, você envia as mudanças para as pilhas nesse conjunto. Você pode atualizar um conjunto de pilhas de uma das seguintes maneiras. Suas atualizações de modelo sempre afetam todas as pilhas; não é possível atualizar o modelo seletivamente para algumas pilhas do conjunto de pilhas, mas não para outras.</p>
                        <div class="itemizedlist">
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p>Altere as configurações existentes no modelo ou adicione novos recursos, como atualização de configurações de parâmetros para um serviço específico ou adição de novas instâncias do Amazon EC2.</p>
                            </li><li class="listitem">
                                <p>Substitua o modelo por um modelo diferente.</p>
                            </li><li class="listitem">
                                <p>Adicione as pilhas a contas de destino existentes/adicionais ou regiões existentes/adicionais.</p>
                            </li></ul></div>
                    </dd>
                 
                    <dt><span class="term">Excluir pilhas</span></dt>
                    <dd>
                        <p>Ao excluir pilhas, você remove uma pilha e todos os recursos associados das contas de destino e nas regiões que especificou. Você pode excluir suas pilhas das seguintes maneiras.</p>
                        <div class="itemizedlist">
                             
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p>Exclua pilhas de algumas contas de destino, enquanto deixa outras pilhas em outras contas de destino em execução.</p>
                            </li><li class="listitem">
                                <p>Exclua as pilhas de algumas regiões e deixe pilhas em outras regiões em execução.</p>
                            </li><li class="listitem">
                                <p>Exclua pilhas do seu conjunto de pilhas, mas salve-as para que continuem sendo executadas independentemente do seu conjunto de pilhas. Para isso, basta escolher a opção <b>Reter pilhas</b>. Você pode gerenciar as pilhas retidas fora do seu conjunto de pilhas no AWS CloudFormation.</p>
                            </li><li class="listitem">
                                <p>Exclua todas as pilhas no seu conjunto de pilhas, em preparação para excluir o conjunto de pilhas inteiro.</p>
                            </li></ul></div>
                    </dd>
                 
                    <dt><span class="term">Excluir conjunto de pilhas</span></dt>
                    <dd>
                        <p>Você só pode excluir seu conjunto de pilhas quando não houver instâncias de pilha nele.</p>
                    </dd>
                </dl></div>
         
            <h2 id="stackset-ops-options">Opções de operação do conjunto de pilhas</h2>

            <p>As opções descritas nesta seção ajudam você a controlar o tempo e o número de falhas permitidas para executar com sucesso as operações do conjunto de pilhas e evitar a perda dos recursos da pilha.</p>
            <div class="variablelist">
                 
                 
                 
                 
                 
            <dl>
                    <dt><span class="term">Máximo de contas concorrentes</span></dt>
                    <dd>
                        <p>Com esta configuração (disponível na criação, atualização e exclusão de fluxos de trabalho), é possível especificar a quantidade máxima ou porcentagem de contas de destino em que uma operação é executada ao mesmo tempo. Uma quantidade ou porcentagem inferior significa que uma operação será realizada em menos contas de destino ao mesmo tempo. As operações são realizadas em uma região de cada vez, na ordem especificada na caixa <b>Deployment order</b> (Ordem de implantação). Por exemplo, se você estiver implantando pilhas em 10 contas de destino dentro de duas regiões, a definição de <b>Maximum concurrent accounts</b> (Máximo de contas simultâneas) como <b>50</b> e <b>By percentage</b> (Por porcentagem) implanta as pilhas em cinco contas na primeira região, depois, nas próximas cinco contas na primeira região até passar para a próxima região e iniciar a implantação nas primeiras cinco contas de destino.</p>
                        <p>Ao escolher <b>Por porcentagem</b>, se a porcentagem especificada não representar um número inteiro das suas contas especificadas, o CloudFormation arredondará o valor para baixo. Por exemplo, se você estiver implantando pilhas em 10 contas de destino e definir <b>Máximo de contas simultâneas</b> como <b>25</b> e <b>Por porcentagem</b>, o CloudFormation arredondará o valor de implantação de 2,5 pilhas simultaneamente (o que não seria possível) para 2 pilhas simultaneamente.</p>
                        <p>Configuração permite que você especifique o <em>máximo</em> para as operações. Para grandes implementações, em determinadas circunstâncias, o número real de contas atuadas simultaneamente pode ser menor devido à limitação do serviço. A velocidade máxima de implantação é de 100 instâncias de pilha simultâneas por conjunto de pilha.</p>
                    </dd>
                 
                    <dt><span class="term">Modo de simultaneidade</span></dt>
                    <dd>
                        <p>Essa configuração, disponível nos fluxos de trabalho de criação, atualização e exclusão, permite que você escolha como o nível de simultaneidade se comporta durante as operações de conjunto de pilhas. Para ter mais informações, consulte <a href="./concurrency-mode.html">Parâmetro Modo de Simultaneidade</a>.</p>
                    </dd>
                 
                    <dt><span class="term">Tolerância a falhas</span></dt>
                    <dd>
                        <p>Esta configuração (disponível na criação, atualização e exclusão de fluxos de trabalho) permite especificar o número máximo ou porcentagem de falhas de operação da pilha que podem ocorrer, por região, além de qual CloudFormation interrompe uma operação automaticamente. Uma quantidade ou porcentagem menor significa que a operação será executada em menos pilhas, mas que você poderá começar a solucionar as operações com falha mais rapidamente. Por exemplo, se você estiver atualizando 10 pilhas em 10 contas de destino em três regiões, a definição de <b>Failure tolerance (Tolerância a falhas)</b> como <b>20</b> e <b>By percentage (Por porcentagem)</b> significa que um máximo de duas atualizações de pilhas em uma região poderá falhar para que a operação continue. Se uma terceira pilha na mesma região falhar, o CloudFormation interromperá a operação. Se não for possível atualizar uma pilha na primeira região, a operação de atualização continuará nela e depois passará para a próxima. Se não for possível atualizar duas pilhas na segunda região, a tolerância a falhas de 20% será atingida. Se uma terceira pilha na região falhar, o CloudFormation interromperá a operação de atualização e não passará para as regiões subsequentes.</p>
                        <p>Ao escolher <b>Por porcentagem</b>, se a porcentagem especificada não representar um número inteiro das pilhas em cada região, o CloudFormation arredondará o valor para baixo. Por exemplo, se você estiver implantando pilhas em 10 contas de destino em três regiões e definir <b>Tolerância a falhas</b> como <b>25</b> e <b>Por porcentagem</b>, o CloudFormation arredondará a tolerância de falha de 2,5 pilhas (o que não seria possível) para 2 pilhas por região.</p>
                    </dd>
                 
                    <dt><span class="term">Reter pilhas</span></dt>
                    <dd>
                        <p>Esta configuração (disponível nos fluxos de trabalho de exclusão de pilha) permite que você mantenha as pilhas e os recursos em execução mesmo após terem sido excluídas de um conjunto de pilhas. Quando você retém pilhas, o AWS CloudFormation deixa as pilhas intactas nas contas e regiões individuais. As pilhas são desassociadas do conjunto de pilhas, mas a pilha e os seus recursos são salvos. Após concluir a operação de exclusão de pilhas, você gerenciará as pilhas retidas no CloudFormation, usando a conta de destino (e não da conta de administrador) que as criou. </p>
                    </dd>
                 
                    <dt><span class="term">Simultaneidade de região</span></dt>
                    <dd>
                        <p>Essa configuração, disponível nos fluxos de trabalho de criação, atualização e exclusão, permite escolher como os StackSets são implantados em regiões.</p>
                        <p><em>Sequential</em> (Sequencial): implanta a operação de StackSets em uma região por vez, conforme especificado pela caixa <b>Deployment order</b> (Ordem de implantação) da região, desde que as falhas de implantação de uma região não excedam uma tolerância a falhas especificada. A implantação sequencial é a seleção padrão.</p>
                        <p><em>Paralela</em>: implanta as operações do StackSets em todas as regiões especificadas simultaneamente, desde que as falhas de implantação de uma região não excedam uma tolerância a falhas especificada.</p>
                    </dd>


                </dl></div>
         
            <h2 id="stackset-concepts-tags">Tags</h2>

            <p>Você pode adicionar tags durante as operações de criação e atualização do conjunto de pilhas, especificando pares de chaves e valores. As tags são úteis para classificar e filtrar recursos de conjunto de pilhas para cobrança e alocação de custos. Para obter mais informações sobre como usar tags na AWS, consulte <a href="https://docs.aws.amazon.com/awsaccountbilling/latest/aboutv2/cost-alloc-tags.html">Usar tags de alocação de custos</a>, no <em>Guia do usuário do AWS Billing and Cost Management</em>. Depois de especificar o par chave-valor, escolha <b>+</b> para salvar a tag. Você pode excluir tags que não está mais usando selecionando o <b>X</b> vermelho à direita de uma tag.</p>
            <p>As tags que você aplica aos conjuntos de pilhas são aplicadas a todas as pilhas e aos recursos criados por elas. Também é possível adicionar tags no nível somente da pilha no CloudFormation, mas talvez elas não sejam mostradas no StackSets.</p>
            <p>Embora o StackSets não adicione tags definida pelo sistema, você não deve iniciar os nomes de chaves de nenhuma tag com a string <code class="code">aws:</code>.</p>
         
            <h2 id="stackset-status-codes">Códigos de status do StackSets</h2>

            <p>O AWS CloudFormation StackSets gera códigos de status para operações de conjunto de pilhas.</p>
            <p>A tabela a seguir descreve os códigos de status das operações de conjunto de pilhas.</p>
            <div class="table-container"><div class="table-contents"><table id="w1348aac21c15c23b7"><thead>
                        <tr>
                            <th>Status da operação do conjunto de pilhas</th>
                            <th>Descrição</th>
                        </tr>
                    </thead>
                        <tr>
                            <td tabindex="-1">
                                <p><code class="code">RUNNING</code></p>
                            </td>
                            <td tabindex="-1">
                                <p>A operação está em andamento.</p>
                            </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">
                                <p><code class="code">SUCCEEDED</code></p>
                            </td>
                            <td tabindex="-1">
                                <p>A operação terminou sem exceder a tolerância a falhas.</p>
                            </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">
                                <p><code class="code">FAILED</code></p>
                            </td>
                            <td tabindex="-1">
                                <p>A quantidade de pilhas em que a operação não pôde ser concluída excedeu a tolerância a falhas definida pelo usuário. O valor da tolerância a falhas definido para uma operação é aplicado a cada região durante as operações de criação e atualização de pilhas. Se a quantidade de pilhas com falha dentro de uma região exceder a tolerância a falhas, o status da operação na região será alterado para <code class="code">FAILED</code>. O status da operação como um todo também será definido como <code class="code">FAILED</code>, e o CloudFormation cancelará a operação em todas as demais regiões.</p>
                            </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">
                                <p><code class="code">QUEUED</code></p>
                            </td>
                            <td tabindex="-1">
                                <p>[<code class="code">Service-managed permissions</code>] Para implantações automáticas que exigem uma sequência de operações, a operação entra em uma fila para ser executada. Por exemplo:</p>
                                <div class="itemizedlist">
                                     
                                     
                                <ul class="itemizedlist"><li class="listitem">
                                        <p>Mover uma conta de uma unidade organizacional (UO) <code class="code">OU1</code>, para outra <code class="code">OU2</code>, aciona uma implantação automática. StackSets executa uma operação de exclusão para remover a instância de pilha da conta <code class="code">OU1</code> de destino na região de destino e enfileira uma operação de criação para adicionar uma instância de pilha à conta <code class="code">OU2</code> de destino na região de destino.</p>
                                    </li><li class="listitem">
                                        <p>A adição de uma conta <code class="code">AccountA</code> a uma UO aciona uma implantação automática. O StackSets executa uma operação de criação para adicionar uma instância de pilha à <code class="code">AccountA</code> na região de destino. Se você adicionar outra conta <code class="code">AccountB</code> à UO enquanto essa operação de criação estiver em execução, o StackSets enfileirará uma segunda operação de criação. Quando a primeira operação de criação estiver concluída, o StackSets executará a segunda operação de criação para adicionar uma instância de pilha à <code class="code">AccountB</code> na região de destino.</p>
                                    </li></ul></div>
                            </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">
                                <p><code class="code">STOPPING</code></p>
                            </td>
                            <td tabindex="-1">
                                <p>A pedido do usuário, a operação está em processo de interrupção.</p>
                            </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">
                                <p><code class="code">STOPPED</code></p>
                            </td>
                            <td tabindex="-1">
                                <p>A pedido do usuário, a operação foi interrompida.</p>
                            </td>
                        </tr>
                    </table></div></div>
         
            <h2 id="stack-instance-status-codes">Códigos de status da instância de pilha</h2>
            <p>O AWS CloudFormation StackSets gera códigos de status para instâncias de pilhas.</p>
            <p>A tabela a seguir descreve os códigos de status para instâncias de pilhas no StackSets.</p>
            <div class="table-container"><div class="table-contents disable-scroll"><table id="w1348aac21c15c25b7"><thead>
                        <tr>
                            <th>Status da instância de pilha</th>
                            <th>Descrição</th>
                        </tr>
                    </thead>

                        <tr>
                            <td tabindex="-1">
                                <p><code class="code">CURRENT</code></p>
                            </td>
                            <td tabindex="-1">
                                <p>A pilha está atualizada com o conjunto de pilhas.</p>
                            </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">
                                <p><code class="code">OUTDATED</code></p>
                            </td>
                            <td tabindex="-1">
                                <p>A pilha não está atualizada com o conjunto de pilhas por um dos seguintes motivos.</p>
                                <div class="itemizedlist">
                                     
                                     
                                <ul class="itemizedlist"><li class="listitem">
                                        <p>Uma operação <code class="code"><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_CreateStackSet.html">CreateStackSet</a></code> ou <code class="code"><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_UpdateStackSet.html">UpdateStackSet</a></code> na pilha associada falhou.</p>
                                    </li><li class="listitem">
                                        <p>A pilha fazia parte de uma operação <code class="code"><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_CreateStackSet.html">CreateStackSet</a></code> ou <code class="code"><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_UpdateStackSet.html">UpdateStackSet</a></code> que falhou ou foi interrompida antes da criação ou atualização da pilha.</p>
                                    </li></ul></div>
                            </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">
                                <p><code class="code">INOPERABLE</code></p>
                            </td>
                            <td tabindex="-1">
                                <p>Uma operação <code class="code"><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_DeleteStackInstances.html">DeleteStackInstances</a></code> falhou e deixou a pilha em um estado instável. As pilhas neste estado são excluídas de outras operações <code class="code"><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_UpdateStackSet.html">UpdateStackSet</a></code>. Pode ser necessário executar uma operação <code class="code"><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_DeleteStackInstances.html">DeleteStackInstances</a></code>, com <code class="code">RetainStacks</code> definido como <code class="code">true</code>, para excluir a instância de pilha e, em seguida, excluir a pilha manualmente.</p>
                            </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">
                                <p><code class="code">CANCELLED</code></p>
                            </td>
                            <td tabindex="-1">
                                <p>A operação na conta e região especificadas foi cancelada. Isso ocorre porque um usuário interrompeu a operação do conjunto de pilhas ou porque as operações de conjunto de pilhas excedeu a tolerância.</p>
                            </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">
                                <p><code class="code">FAILED</code></p>
                            </td>
                            <td tabindex="-1">
                                <p>Falha na operação na conta e região especificadas. Se houve falha na operação do conjunto de pilha em contas suficientes dentro de uma região, a tolerância a falhas para a operação do conjunto de pilha como um todo pode ser excedida.</p>
                            </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">
                                <p><code class="code">PENDING</code></p>
                            </td>
                            <td tabindex="-1">
                                <p>A operação na conta e região especificadas ainda não foi iniciada.</p>
                            </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">
                                <p><code class="code">RUNNING</code></p>
                            </td>
                            <td tabindex="-1">
                                <p>A operação na conta e região especificadas está em andamento no momento.</p>
                            </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">
                                <p><code class="code">SKIPPED_SUSPENDED_ACCOUNT</code></p>
                            </td>
                            <td tabindex="-1">
                                <p>A operação na conta e região especificadas foi ignorada porque a conta foi suspensa no momento da operação.</p>
                            </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">
                                <p><code class="code">SUCCEEDED</code></p>
                            </td>
                            <td tabindex="-1">
                                <p>A operação na conta e região especificadas foi concluída com êxito.</p>
                            </td>
                        </tr>
                    </table></div></div>
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Atenção" /> <strong>O Javascript está desativado ou não está disponível no seu navegador.</strong></p><p>Para usar a documentação da AWS, o Javascript deve estar ativado. Consulte as páginas de Ajuda do navegador para obter instruções.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenções do documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./what-is-cfnstacksets.html">Trabalhar com StackSets</div><div id="next" class="next-link" accesskey="n" href="./stacksets-prereqs.html">Pré-requisitos para operações de conjunto de pilhas</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Essa página foi útil? - Sim</div><div class="content"><p>Obrigado por nos informar que estamos fazendo um bom trabalho!</p><p>Se tiver tempo, conte-nos sobre o que você gostou para que possamos melhorar ainda mais.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Essa página foi útil? - Não</div><div class="content"><p>Obrigado por nos informar que precisamos melhorar a página. Lamentamos ter decepcionado você.</p><p>Se tiver tempo, conte-nos como podemos melhorar a documentação.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/stacksets-concepts.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>