<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>AWS::CloudFormation::StackSet - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="aws-resource-cloudformation-stackset" /><meta name="default_state" content="aws-resource-cloudformation-stackset" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-stackset.html" /><meta name="description" content="Use the AWS CloudFormation AWS::CloudFormation::StackSet resource for CloudFormation." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Create and manage AWS infrastructure deployments predictably and repeatedly using AWS CloudFormation with this User Guide." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json;toc-AWS_CloudFormation.json" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-stackset.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-stackset.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-stackset.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-stackset.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-stackset.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-stackset.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-stackset.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-stackset.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-stackset.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-stackset.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-stackset.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-stackset.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-stackset.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-stackset.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-stackset.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-stackset.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-stackset.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-stackset.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-stackset.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-stackset.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-stackset.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-stackset.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="AWS::CloudFormation::StackSet" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>AWS::CloudFormation::StackSet - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-stackset.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-stackset.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-stackset.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "AWS CloudFormation resource type reference",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/AWS_CloudFormation.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "AWS::CloudFormation::StackSet",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/AWS_CloudFormation.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="AWS_CloudFormation.html">User Guide</a></div><div id="page-toc-src"><a href="#aws-resource-cloudformation-stackset-syntax">Syntax</a><a href="#aws-resource-cloudformation-stackset-properties">Properties</a><a href="#aws-resource-cloudformation-stackset-return-values">Return values</a><a href="#aws-resource-cloudformation-stackset--examples">Examples</a><a href="#aws-resource-cloudformation-stackset--seealso">See also</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="aws-resource-cloudformation-stackset">AWS::CloudFormation::StackSet</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>The <code class="code">AWS::CloudFormation::StackSet</code> enables you to provision stacks into AWS accounts
   and across Regions by using a single CloudFormation template. In the stack set, you specify the template to
   use, in addition to any parameters and capabilities that the template requires.</p><div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>Run deployments to nested StackSets from the parent stack, not directly through the StackSet API.</p></div></div><h2 id="aws-resource-cloudformation-stackset-syntax">Syntax</h2><p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p><div id="JSON" name="JSON" class="section langfilter"><h3 id="aws-resource-cloudformation-stackset-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Type" : "AWS::CloudFormation::StackSet",
  "Properties" : <span>{</span>
      "<a href="#cfn-cloudformation-stackset-administrationrolearn">AdministrationRoleARN</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-cloudformation-stackset-autodeployment">AutoDeployment</a>" : <code class="replaceable"><a href="./aws-properties-cloudformation-stackset-autodeployment.html">AutoDeployment</a></code>,
      "<a href="#cfn-cloudformation-stackset-callas">CallAs</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-cloudformation-stackset-capabilities">Capabilities</a>" : <code class="replaceable">[ String, ... ]</code>,
      "<a href="#cfn-cloudformation-stackset-description">Description</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-cloudformation-stackset-executionrolename">ExecutionRoleName</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-cloudformation-stackset-managedexecution">ManagedExecution</a>" : <code class="replaceable"><a href="./aws-properties-cloudformation-stackset-managedexecution.html">ManagedExecution</a></code>,
      "<a href="#cfn-cloudformation-stackset-operationpreferences">OperationPreferences</a>" : <code class="replaceable"><a href="./aws-properties-cloudformation-stackset-operationpreferences.html">OperationPreferences</a></code>,
      "<a href="#cfn-cloudformation-stackset-parameters">Parameters</a>" : <code class="replaceable">[ <a href="./aws-properties-cloudformation-stackset-parameter.html">Parameter</a>, ... ]</code>,
      "<a href="#cfn-cloudformation-stackset-permissionmodel">PermissionModel</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-cloudformation-stackset-stackinstancesgroup">StackInstancesGroup</a>" : <code class="replaceable">[ <a href="./aws-properties-cloudformation-stackset-stackinstances.html">StackInstances</a>, ... ]</code>,
      "<a href="#cfn-cloudformation-stackset-stacksetname">StackSetName</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-cloudformation-stackset-tags">Tags</a>" : <code class="replaceable">[ <a href="./aws-properties-cloudformation-stackset-tag.html">Tag</a>, ... ]</code>,
      "<a href="#cfn-cloudformation-stackset-templatebody">TemplateBody</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-cloudformation-stackset-templateurl">TemplateURL</a>" : <code class="replaceable">String</code>
    }
}
</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h3 id="aws-resource-cloudformation-stackset-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Type: AWS::CloudFormation::StackSet
Properties:
  <a href="#cfn-cloudformation-stackset-administrationrolearn">AdministrationRoleARN</a>: <code class="replaceable">String</code>
  <a href="#cfn-cloudformation-stackset-autodeployment">AutoDeployment</a>: <code class="replaceable">
    <a href="./aws-properties-cloudformation-stackset-autodeployment.html">AutoDeployment</a></code>
  <a href="#cfn-cloudformation-stackset-callas">CallAs</a>: <code class="replaceable">String</code>
  <a href="#cfn-cloudformation-stackset-capabilities">Capabilities</a>: <code class="replaceable">
    - String</code>
  <a href="#cfn-cloudformation-stackset-description">Description</a>: <code class="replaceable">String</code>
  <a href="#cfn-cloudformation-stackset-executionrolename">ExecutionRoleName</a>: <code class="replaceable">String</code>
  <a href="#cfn-cloudformation-stackset-managedexecution">ManagedExecution</a>: <code class="replaceable">
    <a href="./aws-properties-cloudformation-stackset-managedexecution.html">ManagedExecution</a></code>
  <a href="#cfn-cloudformation-stackset-operationpreferences">OperationPreferences</a>: <code class="replaceable">
    <a href="./aws-properties-cloudformation-stackset-operationpreferences.html">OperationPreferences</a></code>
  <a href="#cfn-cloudformation-stackset-parameters">Parameters</a>: <code class="replaceable">
    - <a href="./aws-properties-cloudformation-stackset-parameter.html">Parameter</a></code>
  <a href="#cfn-cloudformation-stackset-permissionmodel">PermissionModel</a>: <code class="replaceable">String</code>
  <a href="#cfn-cloudformation-stackset-stackinstancesgroup">StackInstancesGroup</a>: <code class="replaceable">
    - <a href="./aws-properties-cloudformation-stackset-stackinstances.html">StackInstances</a></code>
  <a href="#cfn-cloudformation-stackset-stacksetname">StackSetName</a>: <code class="replaceable">String</code>
  <a href="#cfn-cloudformation-stackset-tags">Tags</a>: <code class="replaceable">
    - <a href="./aws-properties-cloudformation-stackset-tag.html">Tag</a></code>
  <a href="#cfn-cloudformation-stackset-templatebody">TemplateBody</a>: <code class="replaceable">String</code>
  <a href="#cfn-cloudformation-stackset-templateurl">TemplateURL</a>: <code class="replaceable">String</code>
</code></pre></div><h2 id="aws-resource-cloudformation-stackset-properties">Properties</h2><div class="variablelist"><dl><dt id="cfn-cloudformation-stackset-administrationrolearn"><span class="term"><code class="code">AdministrationRoleARN</code></span></dt><dd>
  <p>The Amazon Resource Number (ARN) of the IAM role to use to create this stack set. Specify an
   IAM role only if you are using customized administrator roles to control which users or groups can
   manage specific stack sets within the same administrator account.</p>
  <p>Use customized administrator roles to control which users or groups can manage specific stack sets within the
   same administrator account. For more information, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stacksets-prereqs.html">Prerequisites: Granting Permissions for Stack Set
   Operations</a> in the <em>AWS CloudFormation User Guide</em>.</p>
  <p><em>Minimum</em>: <code class="code">20</code></p>
  <p><em>Maximum</em>: <code class="code">2048</code></p>
 <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Minimum</em>: <code class="code">20</code></p><p><em>Maximum</em>: <code class="code">2048</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-cloudformation-stackset-autodeployment"><span class="term"><code class="code">AutoDeployment</code></span></dt><dd>
  <p>[<code class="code">Service-managed</code> permissions] Describes whether StackSets automatically deploys to AWS Organizations accounts that are added to a target organization or organizational unit (OU).</p>
 <p><em>Required</em>: No</p><p><em>Type</em>: <a href="./aws-properties-cloudformation-stackset-autodeployment.html">AutoDeployment</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-cloudformation-stackset-callas"><span class="term"><code class="code">CallAs</code></span></dt><dd>
  <p>[Service-managed permissions] Specifies whether you are acting as an account administrator in the organization's
   management account or as a delegated administrator in a member account.</p>
  <p>By default, <code class="code">SELF</code> is specified. Use <code class="code">SELF</code> for stack sets with self-managed
   permissions.</p>
  <div class="itemizedlist">
    
    
  <ul class="itemizedlist"><li class="listitem">
    <p>To create a stack set with service-managed permissions while signed in to the management account, specify
     <code class="code">SELF</code>.</p>
   </li><li class="listitem">
    <p>To create a stack set with service-managed permissions while signed in to a delegated administrator account,
     specify <code class="code">DELEGATED_ADMIN</code>.</p>
    <p>Your AWS account must be registered as a delegated admin in the management account. For more
     information, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stacksets-orgs-delegated-admin.html">Register a delegated
     administrator</a> in the <em>AWS CloudFormation User Guide</em>.</p>
   </li></ul></div>
  <p>Stack sets with service-managed permissions are created in the management account, including stack sets that are
   created by delegated administrators.</p>
  <p><em>Valid Values</em>: <code class="code">SELF</code> | <code class="code">DELEGATED_ADMIN</code></p>
 <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Allowed values</em>: <code class="code">SELF | DELEGATED_ADMIN</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-cloudformation-stackset-capabilities"><span class="term"><code class="code">Capabilities</code></span></dt><dd>
  <p>The capabilities that are allowed in the stack set. Some stack set templates might include resources that can
   affect permissions in your AWS accountâ€”for example, by creating new AWS Identity and Access Management (IAM) users. For more information, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-iam-template.html#capabilities">Acknowledging IAM
   Resources in AWS CloudFormation Templates</a>.</p>
 <p><em>Required</em>: No</p><p><em>Type</em>: Array of String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-cloudformation-stackset-description"><span class="term"><code class="code">Description</code></span></dt><dd>
  <p>A description of the stack set.</p>
  <p><em>Minimum</em>: <code class="code">1</code></p>
  <p><em>Maximum</em>: <code class="code">1024</code></p>
 <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Minimum</em>: <code class="code">1</code></p><p><em>Maximum</em>: <code class="code">1024</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-cloudformation-stackset-executionrolename"><span class="term"><code class="code">ExecutionRoleName</code></span></dt><dd>
  <p>The name of the IAM execution role to use to create the stack set. If you don't specify an
   execution role, AWS CloudFormation uses the <code class="code">AWSCloudFormationStackSetExecutionRole</code> role for the
   stack set operation.</p>
  <p><em>Minimum</em>: <code class="code">1</code></p>
  <p><em>Maximum</em>: <code class="code">64</code></p>
  <p><em>Pattern</em>: <code class="code">[a-zA-Z_0-9+=,.@-]+</code></p>
 <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Minimum</em>: <code class="code">1</code></p><p><em>Maximum</em>: <code class="code">64</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-cloudformation-stackset-managedexecution"><span class="term"><code class="code">ManagedExecution</code></span></dt><dd>
  <p>Describes whether StackSets performs non-conflicting operations concurrently and queues conflicting
   operations.</p>
  <p>When active, StackSets performs non-conflicting operations concurrently and queues conflicting operations. After
   conflicting operations finish, StackSets starts queued operations in request order.</p>
  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>If there are already running or queued operations, StackSets queues all incoming operations even if they are
    non-conflicting.</p><p>You can't modify your stack set's execution configuration while there are running or queued operations for that
    stack set.</p></div></div>
  <p>When inactive (default), StackSets performs one operation at a time in request order.</p>
 <p><em>Required</em>: No</p><p><em>Type</em>: <a href="./aws-properties-cloudformation-stackset-managedexecution.html">ManagedExecution</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-cloudformation-stackset-operationpreferences"><span class="term"><code class="code">OperationPreferences</code></span></dt><dd>
  <p>The user-specified preferences for how AWS CloudFormation performs a stack set operation.</p>
 <p><em>Required</em>: No</p><p><em>Type</em>: <a href="./aws-properties-cloudformation-stackset-operationpreferences.html">OperationPreferences</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-cloudformation-stackset-parameters"><span class="term"><code class="code">Parameters</code></span></dt><dd>
  <p>The input parameters for the stack set template.</p>
 <p><em>Required</em>: No</p><p><em>Type</em>: Array of <a href="./aws-properties-cloudformation-stackset-parameter.html">Parameter</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-cloudformation-stackset-permissionmodel"><span class="term"><code class="code">PermissionModel</code></span></dt><dd>
  <p>Describes how the IAM roles required for stack set operations are created.</p>
  <div class="itemizedlist">
    
    
  <ul class="itemizedlist"><li class="listitem">
    <p>With <code class="code">SELF_MANAGED</code> permissions, you must create the administrator and execution roles required to
     deploy to target accounts. For more information, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stacksets-prereqs-self-managed.html">Grant Self-Managed Stack Set
     Permissions</a>.</p>
   </li><li class="listitem">
    <p>With <code class="code">SERVICE_MANAGED</code> permissions, StackSets automatically creates the IAM roles
     required to deploy to accounts managed by AWS Organizations.</p>
   </li></ul></div>
 <p><em>Required</em>: Yes</p><p><em>Type</em>: String</p><p><em>Allowed values</em>: <code class="code">SERVICE_MANAGED | SELF_MANAGED</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-cloudformation-stackset-stackinstancesgroup"><span class="term"><code class="code">StackInstancesGroup</code></span></dt><dd>
  <p>A group of stack instances with parameters in some specific accounts and Regions.</p>
 <p><em>Required</em>: No</p><p><em>Type</em>: Array of <a href="./aws-properties-cloudformation-stackset-stackinstances.html">StackInstances</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-cloudformation-stackset-stacksetname"><span class="term"><code class="code">StackSetName</code></span></dt><dd>
  <p>The name to associate with the stack set. The name must be unique in the Region where you create your stack
   set.</p>
  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>The <code class="code">StackSetName</code> property is required.</p></div></div>
 <p><em>Required</em>: Yes</p><p><em>Type</em>: String</p><p><em>Pattern</em>: <code class="code">^[a-zA-Z][a-zA-Z0-9\-]<span>{</span>0,127}$</code></p><p><em>Maximum</em>: <code class="code">128</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-cloudformation-stackset-tags"><span class="term"><code class="code">Tags</code></span></dt><dd>
         <p>Key-value pairs to associate with this stack. AWS CloudFormation also propagates these tags to supported resources in the
   stack. You can specify a maximum number of 50 tags.</p>
         <p>If you don't specify this parameter, AWS CloudFormation doesn't modify the stack's tags. If you specify an empty value,
   AWS CloudFormation removes all associated tags.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: Array of <a href="./aws-properties-cloudformation-stackset-tag.html">Tag</a></p><p><em>Maximum</em>: <code class="code">50</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-cloudformation-stackset-templatebody"><span class="term"><code class="code">TemplateBody</code></span></dt><dd>
  <p>The structure that contains the template body, with a minimum length of 1 byte and a maximum length of 51,200
   bytes.</p>
  <p>You must include either <code class="code">TemplateURL</code> or <code class="code">TemplateBody</code> in a StackSet, but you can't use
   both. Dynamic references in the <code class="code">TemplateBody</code> may not work correctly in all cases. It's recommended to
   pass templates containing dynamic references through <code class="code">TemplateUrl</code> instead.</p>
 <p><em>Required</em>: Conditional</p><p><em>Type</em>: String</p><p><em>Minimum</em>: <code class="code">1</code></p><p><em>Maximum</em>: <code class="code">51200</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-cloudformation-stackset-templateurl"><span class="term"><code class="code">TemplateURL</code></span></dt><dd>
  <p>Location of file containing the template body. The URL must point to a template that's located in an Amazon S3 bucket or a Systems Manager document. For more information, go to <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-anatomy.html">Template Anatomy</a> in the AWS CloudFormation
   User Guide.</p>
  <p>Conditional: You must specify only one of the following parameters: <code class="code">TemplateBody</code>,
   <code class="code">TemplateURL</code>.</p>
 <p><em>Required</em>: Conditional</p><p><em>Type</em>: String</p><p><em>Minimum</em>: <code class="code">1</code></p><p><em>Maximum</em>: <code class="code">5120</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd></dl></div><h2 id="aws-resource-cloudformation-stackset-return-values">Return values</h2><h3 id="aws-resource-cloudformation-stackset-return-values-ref">Ref</h3><p>When you pass the logical ID of this resource to the intrinsic <code class="code">Ref</code> function, <code class="code">Ref</code>
   returns the <code class="code">StackSetId</code>.</p><p>For more information about using the <code class="code">Ref</code> function, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-ref.html"><code class="code">Ref</code></a>.</p><h3 id="aws-resource-cloudformation-stackset-return-values-fn--getatt">Fn::GetAtt</h3><p>The <code class="code">Fn::GetAtt</code> intrinsic function returns a value for a specified attribute of this type.</p><p>For more information about using the <code class="code">Fn::GetAtt</code> intrinsic function, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-getatt.html"><code class="code">Fn::GetAtt</code></a>.</p><h4 id="aws-resource-cloudformation-stackset-return-values-fn--getatt-fn--getatt"></h4><div class="variablelist"><dl><dt id="StackSetId-fn::getatt"><span class="term"><code class="code">StackSetId</code></span></dt><dd>
  <p>The ID of the stack that you're creating.</p>
 </dd></dl></div><h2 id="aws-resource-cloudformation-stackset--examples">Examples</h2><p></p><div class="highlights" id="inline-topiclist"><h6> </h6><ul><li><a href="#aws-resource-cloudformation-stackset--examples--Activate_managed_execution_for_your_stack_set">Activate managed execution for your stack set</a></li><li><a href="#aws-resource-cloudformation-stackset--examples--Specifying_secrets_in">Specifying Secrets Manager secrets in CloudFormation</a></li></ul></div><h3 id="aws-resource-cloudformation-stackset--examples--Activate_managed_execution_for_your_stack_set">Activate managed execution for your stack set</h3><p>The following example creates a stack set and specifies <code class="code">ManagedExecution</code>. With managed execution
     activated, StackSets performs non-conflicting operations concurrently and queues conflicting operations.</p><div id="JSON" name="JSON" class="section langfilter"><h4 id="aws-resource-cloudformation-stackset--examples--Activate_managed_execution_for_your_stack_set--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "TestStackSet1": <span>{</span>
        "Type": "AWS::CloudFormation::StackSet",
        "DeletionPolicy": "Retain",
        "Properties": <span>{</span>
            "StackSetName": "TestStackSet12345",
            "Description": "Updatedescription1",
            "PermissionModel": "SELF_MANAGED",
            "ManagedExecution": <span>{</span>
                "Active": true
            },
            "Tags": [
                <span>{</span>
                    "Key": "tag1",
                    "Value": "value1"
                }
            ],
            "TemplateBody": "<span>{</span>\n  \"AWSTemplateFormatVersion\": \"2010-09-09\",\n  \"Resources\": <span>{</span>\n    \"testWaitHandle\": <span>{</span>\n      \"Type\": \"AWS::CloudFormation::WaitConditionHandle\"\n    }\n  }\n}\n"
        }
    }
}</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-resource-cloudformation-stackset--examples--Activate_managed_execution_for_your_stack_set--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">TestStackSet1:
  Type: 'AWS::CloudFormation::StackSet'
  DeletionPolicy: Retain
  Properties:
    StackSetName: TestStackSet12345
    Description: Updatedescription1
    PermissionModel: SELF_MANAGED
    ManagedExecution:
      Active: true
    Tags:
      - Key: tag1
        Value: value1
    TemplateBody: |
      <span>{</span>
        "AWSTemplateFormatVersion": "2010-09-09",
        "Resources": <span>{</span>
          "testWaitHandle": <span>{</span>
            "Type": "AWS::CloudFormation::WaitConditionHandle"
          }
        }
      }</code></pre></div><h3 id="aws-resource-cloudformation-stackset--examples--Specifying_secrets_in">Specifying Secrets Manager secrets in CloudFormation</h3><p>When using the <code class="code">TemplateBody</code> property, if the template intends to resolve secrets from Secrets Manager secret's through an <code class="code">ARN</code> and <code class="code">!Join</code> is used to construct Secrets Manager's
     dynamic reference, secret's resolution needs to be avoided at stack level so that it will only be performed upon
     stack instance creation.</p><p>In the following example, secret's resolution are avoided at stack level by providing <code class="code"><span>{</span><span>{</span></code> and
      <code class="code">resolve:secretsmanager:</code> as separate strings to !Join instead of
      <code class="code"><span>{</span><span>{</span>resolve:secretsmanager:</code> being provided as a single string:</p><div id="JSON" name="JSON" class="section langfilter"><h4 id="aws-resource-cloudformation-stackset--examples--Specifying_secrets_in--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Fn::Join": [
        "",
        [
            "<span>{</span><span>{</span>",
            "resolve:secretsmanager:",
            <span>{</span>
                "Fn::Sub": "arn:aws:secretsmanager:$<span>{</span>AWS::Region}:$<span>{</span>AWS::AccountId}:secret:my-secret"
            },
            "::my-secret-key::}}"
        ]
    ]
}</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-resource-cloudformation-stackset--examples--Specifying_secrets_in--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">!Join
- ''
- - '<span>{</span><span>{</span>'
  - 'resolve:secretsmanager:'
  - !Sub 'arn:aws:secretsmanager:$<span>{</span>AWS::Region}:$<span>{</span>AWS::AccountId}:secret:my-secret'
  - '::my-secret-key::}}'</code></pre></div><h2 id="aws-resource-cloudformation-stackset--seealso">See also</h2><div class="itemizedlist">
     
   <ul class="itemizedlist"><li class="listitem">
     <p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stacksets-sampletemplates.html">AWS CloudFormation StackSets sample templates</a></p>
    </li></ul></div><p></p><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./aws-properties-cloudformation-stack-tag.html">Tag</div><div id="next" class="next-link" accesskey="n" href="./aws-properties-cloudformation-stackset-autodeployment.html">AutoDeployment</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-stackset.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-stackset.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>