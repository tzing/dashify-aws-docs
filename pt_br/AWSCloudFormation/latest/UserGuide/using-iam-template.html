<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="pt-BR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Controlar o acesso com o AWS Identity and Access Management - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="using-iam-template" /><meta name="default_state" content="using-iam-template" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/using-iam-template.html" /><meta name="description" content="Use o AWS Identity and Access Management para controlar quem terá acesso aos seus recursos da AWS no AWS CloudFormation." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Guia do usuário" /><meta name="abstract" content="Crie e gerencie implantações da infraestrutura da AWS de maneira previsível e que pode ser repetida usando o AWS CloudFormation com este Guia do usuário." /><meta name="guide-locale" content="pt_br" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/using-iam-template.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-iam-template.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Guia do usuário" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Guia do usuário" /><meta id="panorama-serviceConsolePage" value="Controlar o acesso com o AWS Identity and Access Management" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Controlar o acesso com o AWS Identity and Access Management - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/using-iam-template.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/using-iam-template.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/using-iam-template.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,provisionamento de recursos,configuração de recursos,gerenciamento da infraestrutura,CloudFormer,Pilha do CloudFormation,Stackset do CloudFormation,Modelo do CloudFormation,conjunto de alterações" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guia do usuário",
        "item" : "https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Segurança em AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/security.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Controlar o acesso com o AWS Identity and Access Management",
        "item" : "https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/security.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentação</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Guia do usuário</a></div><div id="page-toc-src"><a href="#using-iam-template-actions">Ações AWS CloudFormation</a><a href="#resource-level-permissions">Recursos AWS CloudFormation</a><a href="#using-iam-template-conditions">Condições do AWS CloudFormation</a><a href="#using-iam-capabilities">Confirmar recursos do IAM em modelos do AWS CloudFormation</a><a href="#using-iam-template-manage-creds">Gerenciar credenciais para aplicativos em execução em instâncias do Amazon EC2</a><a href="#using-iam-template-grant-access">Conceder acesso temporário (acesso federado)</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="using-iam-template">Controlar o acesso com o AWS Identity and Access Management</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Com o AWS Identity and Access Management (IAM), você pode criar usuários do IAM para controlar quem tem acesso a quais recursos na sua Conta da AWS. Você pode usar o IAM com o AWS CloudFormation com o  para controlar o que os usuários podem fazer com o AWS CloudFormation, como se eles podem visualizar os modelos de pilha, criar pilhas ou excluir pilhas.</p><p>Além das ações do AWS CloudFormation, você pode gerenciar quais serviços e recursos da AWS estão disponíveis para cada usuário. Dessa maneira, você pode controlar quais recursos os usuários podem acessar ao usar o AWS CloudFormation. Por exemplo, você pode especificar quais usuários podem criar instâncias Amazon EC2, encerrar instâncias de banco de dados ou atualizar VPCs. As mesmas permissões são aplicadas sempre que eles usem o AWS CloudFormation para executar essas ações.</p><p>Para obter mais informações sobre todos os serviços aos quais o acesso pode ser controlado, consulte <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/Using_SpecificProducts.html">Serviços da AWS que oferecem suporte ao IAM</a>, no <em>Guia do usuário do IAM</em>.</p><div class="highlights"><h6>Tópicos</h6><ul><li><a href="#using-iam-template-actions">Ações AWS CloudFormation</a></li><li><a href="#resource-level-permissions">Recursos AWS CloudFormation</a></li><li><a href="#using-iam-template-conditions">Condições do AWS CloudFormation</a></li><li><a href="#using-iam-capabilities">Confirmar recursos do IAM em modelos do AWS CloudFormation</a></li><li><a href="#using-iam-template-manage-creds">Gerenciar credenciais para aplicativos em execução em instâncias do Amazon EC2</a></li><li><a href="#using-iam-template-grant-access">Conceder acesso temporário (acesso federado)</a></li><li><a href="./using-iam-servicerole.html">Função de serviço do AWS CloudFormation</a></li></ul></div><h2 id="using-iam-template-actions">Ações AWS CloudFormation</h2>
      
      <p>Quando você cria um grupo ou um usuário na sua Conta da AWS, pode associar uma política do IAM a esse grupo ou usuário, que especifica as permissões que você deseja conceder. Por exemplo, imagine que você tem um grupo de desenvolvedores em nível de entrada. Você pode criar um grupo de <code class="code">Junior
            application developers</code> que inclua todos os desenvolvedores em nível de entrada. Em seguida, você associa uma política a esse grupo que permite que os usuários apenas visualizem as pilhas do AWS CloudFormation. Nesse cenário, você pode ter uma política, como a do exemplo a seguir:</p>
      <div class="example"><h6>exemplo Uma política de exemplo que concede permissões para visualização de pilha</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version":"2012-10-17",
    "Statement":[<span>{</span>
        "Effect":"Allow",
        "Action":[
            "cloudformation:DescribeStacks",
            "cloudformation:DescribeStackEvents",
            "cloudformation:DescribeStackResource",
            "cloudformation:DescribeStackResources"
        ],
        "Resource":"*"
    }]
}</code></pre></div></div>
      <p>A política concede permissões a todas as ações da API <code class="code">DescribeStack</code> listadas no elemento <code class="code">Action</code>.</p>
      <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Importante</h6></div><div class="awsdocs-note-text"><p>Se não especificar um nome ou um ID de pilha em sua instrução, você também deverá conceder permissão para usar todos os recursos para a ação usando o caractere curinga <code class="code">*</code> para o elemento <code class="code">Resource</code>.</p></div></div>
      <p>Além das ações do AWS CloudFormation, os usuários que criam ou excluem pilhas exigem permissões adicionais que dependem dos modelos de pilhas. Por exemplo, se você tiver um modelo que descreve uma fila do Amazon SQS, o usuário deverá ter permissões correspondentes às ações do Amazon SQS para criar a pilha com êxito, conforme mostrado na seguinte política de exemplo:</p>
      <div class="example"><h6>exemplo Uma política de exemplo que concede ações de criação e visualização de pilhas e todas as ações do Amazon SQS</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version":"2012-10-17",
    "Statement":[<span>{</span>
        "Effect":"Allow",
        "Action":[
            "sqs:*",
            "cloudformation:CreateStack",
            "cloudformation:DescribeStacks",
            "cloudformation:DescribeStackEvents",
            "cloudformation:DescribeStackResources",
            "cloudformation:GetTemplate",
            "cloudformation:ValidateTemplate"  
        ],
        "Resource":"*"
    }]
}</code></pre></div></div>
      <p>Para obter uma lista de todas as ações do AWS CloudFormation que você pode permitir ou negar, consulte a <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/"><em>Referência de APIs do AWS CloudFormation</em></a>.</p>
      <h3 id="w9aac17c19c11c16">Ações específicas do console do AWS CloudFormation</h3>
         
         <p>Os usuários que usam o console do AWS CloudFormation exigem permissões adicionais que não são necessárias para usar as APIs da AWS Command Line Interface ou do AWS CloudFormation. Em comparação com a AWS CLI e a API, o console fornece recursos adicionais que exigem permissões adicionais, como uploads de modelos em buckets do Amazon S3 e listas suspensas para <a href="./parameters-section-structure.html#aws-specific-parameter-types">tipos de parâmetros específicos da AWS</a>.</p>
         <p>Para todas as ações a seguir, conceda permissões para todos os recursos. Não limite ações a pilhas ou buckets específicos.</p>
         <p>A ação necessária a seguir é usada apenas pelo console do AWS CloudFormation e não é documentada na referência da API. A ação permite que os usuários façam upload de modelos para buckets do Amazon S3.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="text ">cloudformation:CreateUploadBucket</code></pre>
         <p>Quando os usuários fazem upload de modelos, eles requerem as seguintes permissões do Amazon S3:</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="text ">s3:PutObject
s3:ListBucket
s3:GetObject
s3:CreateBucket</code></pre>
         <p>Para modelos com <a href="./parameters-section-structure.html#aws-specific-parameter-types">tipos de parâmetros específicos da AWS</a>, os usuários precisam de permissões para fazer chamadas da API de descrição correspondente. Por exemplo, se um modelo incluir o tipo de parâmetro <code class="code">AWS::EC2::KeyPair::KeyName</code>, os usuários precisarão de permissão para chamar a ação <code class="code">DescribeKeyPairs</code> do EC2 (essa é a maneira como o console obtém valores para a lista suspensa de parâmetros). Os exemplos a seguir são ações de que os usuários precisam para outros tipos de parâmetros:</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="text ">ec2:DescribeSecurityGroups (for the AWS::EC2::SecurityGroup::Id parameter type)
ec2:DescribeSubnets (for the Subnet::Id parameter type)
ec2:DescribeVpcs (for the AWS::EC2::VPC::Id parameter type)</code></pre>
       
   <h2 id="resource-level-permissions">Recursos AWS CloudFormation</h2>
      
      <p>O AWS CloudFormation oferece suporte às permissões em nível de recurso, para que você possa especificar ações para uma pilha específica, conforme mostrado na política a seguir:</p>
      <div class="example"><h6>exemplo Uma política de exemplo que nega ações de exclusão e atualização de pilhas para MyProductionStack</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version":"2012-10-17",
    "Statement":[<span>{</span>
        "Effect":"Deny",
        "Action":[
            "cloudformation:DeleteStack",
            "cloudformation:UpdateStack"
        ],
        "Resource":"arn:aws:cloudformation:us-east-1:123456789012:stack/MyProductionStack/*"
    }]
}</code></pre></div></div>
      <p>A política acima usa um caractere curinga no final do nome da pilha para que as ações de exclusão e atualização de pilha sejam negadas no ID da pilha completa (como <code class="code">arn:aws:cloudformation:us-east-1:123456789012:stack/MyProductionStack/abc9dbf0-43c2-11e3-a6e8-50fa526be49c</code>) e no nome da pilha (como <code class="code">MyProductionStack</code>).</p>

      <p>Para permitir que as transformações <code class="code">AWS::Serverless</code> criem um conjunto de alterações, a política deve incluir a permissão no nível do recurso <code class="code">arn:aws:cloudformation:&lt;region&gt;:aws:transform/Serverless-2016-10-31</code>, como mostrado na seguinte política:</p>
      <div class="example"><h6>exemplo Um exemplo de política que permite a ação de criação de um conjunto de alterações para a transformação</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "> <span>{</span>
    "Version": "2012-10-17",
    "Statement": [<span>{</span>
        "Effect": "Allow",
        "Action": [
            "cloudformation:CreateChangeSet"
        ],
        "Resource": "arn:aws:cloudformation:us-west-2:aws:transform/Serverless-2016-10-31"
    }]
}</code></pre></div></div>
       
         <h3 id="resource-level-permissions-service-managed-stack-set">Exemplo de política que concede permissões de conjunto de pilhas gerenciadas pelo serviço</h3>
            <p>O seguinte é uma política do IAM de exemplo que concede permissões de conjunto de pilhas gerenciadas pelo serviço a uma entidade principal (utilizador, função ou grupo). Um usuário com essa política só pode executar operações em conjuntos de pilhas com modelos que contêm tipos de recurso do Amazon S3 (<code class="code">AWS::S3::*</code>) ou o tipo de recurso <code class="code">AWS::SES::ConfigurationSet</code>. Quando conectado à conta de gerenciamento da organização com o ID <code class="code">123456789012</code>, o usuário também pode executar apenas operações em conjuntos de pilhas que têm como destino a OU com o ID <code class="replaceable">ou-1fsfsrsdsfrewr</code>, e só poderá executar operações no conjunto de pilhas com o ID <code class="code">stack-set-id</code> que tem como destino a Conta da AWS com o ID <code class="replaceable">987654321012</code>.</p>
            <p>As operações do conjunto de pilha falharão se o modelo de conjunto de pilhas contiver tipos de recursos diferentes dos especificados na política ou se os destinos de implementação forem OU ou IDs de conta diferentes dos especificados na política para as contas de gerenciamento e conjuntos de pilhas correspondentes.</p>
         <p>Essas restrições de política só se aplicam quando as operações de conjunto de pilha têm como destino as regiões <code class="code">us-east-1</code>, <code class="code">us-west-2</code> ou <code class="code">eu-west-2</code> Regiões da AWS.</p>
         
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "cloudformation:*"
            ],
            "Resource": [
                "arn:aws:cloudformation:*:*:stackset/*",
                "arn:aws:cloudformation:*:*:type/resource/<code class="replaceable">AWS-S3</code>-*",
                "arn:aws:cloudformation:us-west-2::type/resource/<code class="replaceable">AWS-SES-ConfigurationSet</code>",
                "arn:aws:cloudformation:*:<code class="replaceable">123456789012</code>:stackset-target/*/<code class="replaceable">ou-1fsfsrsdsfrewr</code>",
                "arn:aws:cloudformation:*:<code class="replaceable">123456789012</code>:stackset-target/<code class="replaceable">stack-set-id</code>/<code class="replaceable">987654321012</code>"
            ],
            "Condition": <span>{</span>
                "ForAllValues:StringEqualsIgnoreCase": <span>{</span>
                    "cloudformation:TargetRegion": [
                        "<code class="replaceable">us-east-1</code>",
                        "<code class="replaceable">us-west-2</code>",
                        "<code class="replaceable">eu-west-1</code>"
                    ]
                }
            }
        }
    ]
}</code></pre>
       
   <h2 id="using-iam-template-conditions">Condições do AWS CloudFormation</h2>
      
      <p>Em uma política do IAM, você pode opcionalmente especificar condições que controlam quando uma política está em vigor. Por exemplo, você pode definir uma política que permita que os usuários do  criem uma pilha apenas quando especificarem uma determinada URL modelo. Você pode definir condições específicas do AWS CloudFormation e condições gerais da AWS, como <code class="code">DateLessThan</code>, que especifiquem quando uma política não está mais em vigor. Para obter mais informações e uma lista de condições gerais da AWS, consulte Condição na <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/AccessPolicyLanguage_ElementDescriptions.html#Condition">Referência a elementos de políticas do IAM</a>, no <em>Guia do usuário do IAM</em>.</p>
      <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Não use a condição <code class="code">aws:SourceIp</code> geral da AWS. O AWS CloudFormation provisiona recursos usando seu próprio endereço IP, não o endereço IP da solicitação de origem. Por exemplo, quando você cria uma pilha, o AWS CloudFormation faz solicitações do seu endereço IP para executar uma instância do Amazon EC2 ou para criar um bucket do Amazon S3, e não do endereço IP da chamada <code class="code">CreateStack</code> ou do comando <code class="code">aws cloudformation create-stack</code>.</p></div></div>
      <p>A lista a seguir descreve as condições específicas ao AWS CloudFormation. Essas condições são aplicadas apenas quando os usuários criam ou atualizam pilhas:</p>
      <div class="variablelist">
          
          

          
          
          
          
      <dl>
            <dt><span class="term"><code class="code">cloudformation:ChangeSetName</code></span></dt>
            <dd>
               <p>O nome de um conjunto de alterações do AWS CloudFormation que você deseja associar a uma política. Use essa condição para controlar quais conjuntos de alterações os usuários do  podem executar ou excluir.</p>
            </dd>
          
            <dt><span class="term"><code class="code">cloudformation:ImportResourceTypes</code></span></dt>
            <dd>
               <p>Os tipos de recursos do modelo que você deseja associar a uma política, como <code class="code">AWS::EC2::Instance</code>. Use essa condição para controlar com quais tipos de recursos os usuários do  podem trabalhar quando importarem recursos para uma pilha. Essa condição é verificada em relação aos tipos de recursos que os usuários declaram no parâmetro <code class="code">ResourcesToImport</code>, que atualmente tem suporte apenas para solicitações da AWS CLI e da API. Ao usar esse parâmetro, especifique todos os tipos de recursos que deseja que os usuários controlem durante as operações de importação. Para obter mais informações sobre o parâmetro <code class="code">ResourcesToImport</code>, consulte a ação <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_CreateChangeSet.html"><code class="code">CreateChangeSet</code></a> na <em>Referência de APIs do AWS CloudFormation</em>.</p>
               <p>Para obter uma lista de possíveis <code class="code">ResourcesToImport</code>, consulte <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/resource-import-supported-resources.html">Recursos que oferecem suporte a operações de importação</a>.</p>
               <p>Use a convenção de nomenclatura de recursos de três partes para especificar com quais tipos de recursos os usuários podem trabalhar, de todos os recursos de uma organização até um tipo de recurso individual.</p>
               <div class="variablelist">
                      
                   
                   
               <dl>
                     <dt><span class="term"><code class="code"><code class="replaceable">organization</code>::*</code></span></dt>
                     <dd>
                        <p>Especifique todos os tipos de recursos de uma determinada organização.</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code"><code class="replaceable">organization</code>::<code class="replaceable"><code class="replaceable">service_name</code></code>::*</code></span></dt>
                     <dd>
                        <p>Especifique todos os tipos de recurso do serviço especificado dentro de uma determinada organização.</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code"><code class="replaceable">organization</code>::<code class="replaceable"><code class="replaceable">service_name</code></code>::<code class="replaceable">resource_type</code></code></span></dt>
                     <dd>
                        <p>Especifique um tipo de recurso específico.</p>
                     </dd>
                  </dl></div>
               
                  <p>Por exemplo:</p>
               <div class="variablelist">
                   
                   
                   
                  
               <dl>
                     <dt><span class="term"><code class="code">AWS::*</code></span></dt>
                     <dd>
                        <p>Especifique todos os tipos de recursos da AWS compatíveis.</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code">AWS::<code class="replaceable">service_name</code>::*</code></span></dt>
                     <dd>
                        <p>Especifique todos os recursos com suporte a um produto da AWS específico.</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code">AWS::<code class="replaceable">service_name</code>::<code class="replaceable">resource_type</code></code></span></dt>
                     <dd>
                        <p>Especifique um tipo de recurso da AWS específico, como <code class="code">AWS::EC2::Instance</code> (todas as instâncias do EC2).</p>
                     </dd>
                  </dl></div>
            </dd>
          
            <dt><span class="term"><code class="code">cloudformation:ResourceTypes</code></span></dt>
            <dd>
               <p>Os tipos de recursos modelo, como <code class="code">AWS::EC2::Instance</code>, que você deseja associar a uma política. Use essa condição para controlar com quais tipos de recursos os usuários do  podem trabalhar ao criar ou atualizar uma pilha. Essa condição é verificada em relação aos tipos de recursos que os usuários declaram no parâmetro <code class="code">ResourceTypes</code>, que atualmente tem suporte apenas para solicitações da AWS CLI e da API. Ao usar esse parâmetro, os usuários devem especificar todos os tipos de recursos que estão em seu modelo. Para obter mais informações sobre o parâmetro <code class="code">ResourceTypes</code>, consulte a ação <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_CreateStack.html"><code class="code">CreateStack</code></a> na <em>Referência de APIs do AWS CloudFormation</em>.</p>
               <p>Para obter uma lista de tipos de recursos, consulte <a href="./aws-template-resource-type-ref.html">Referência de tipos de propriedades e recursos da AWS</a>.</p>
               <p>Use a convenção de nomenclatura de recursos de três partes para especificar com quais tipos de recursos os usuários podem trabalhar, de todos os recursos de uma organização até um tipo de recurso individual.</p>
               <div class="variablelist">
                   
                   
                   
               <dl>
                     <dt><span class="term"><code class="code"><code class="replaceable">organization</code>::*</code></span></dt>
                     <dd>
                        <p>Especifique todos os tipos de recursos de uma determinada organização.</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code"><code class="replaceable">organization</code>::<code class="replaceable"><code class="replaceable">service_name</code></code>::*</code></span></dt>
                     <dd>
                        <p>Especifique todos os tipos de recurso do serviço especificado dentro de uma determinada organização.</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code"><code class="replaceable">organization</code>::<code class="replaceable"><code class="replaceable">service_name</code></code>::<code class="replaceable">resource_type</code></code></span></dt>
                     <dd>
                        <p>Especifique um tipo de recurso específico.</p>
                     </dd>
                  </dl></div>
               
               <p>Por exemplo:</p>          
               <div class="variablelist">            
                   
                   
                   
                   
                   
                   
                   
                  
                  
                  
               <dl>
                     <dt><span class="term"><code class="code">AWS::*</code></span></dt>
                     <dd>
                        <p>Especifique todos os tipos de recursos da AWS compatíveis.</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code">AWS::<code class="replaceable">service_name</code>::*</code></span></dt>
                     <dd>
                        <p>Especifique todos os recursos com suporte a um produto da AWS específico.</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code">AWS::<code class="replaceable">service_name</code>::<code class="replaceable">resource_type</code></code></span></dt>
                     <dd>
                        <p>Especifique um tipo de recurso da AWS específico, como <code class="code">AWS::EC2::Instance</code> (todas as instâncias do EC2).</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code">Alexa::ASK::*</code></span></dt>
                     <dd>
                        <p>Especifique todos os tipos de recurso no Kit de habilidades do Alexa.</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code">Alexa::ASK::Skill</code></span></dt>
                     <dd>
                        <p>Especifique o tipo de recurso de <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ask-skill.html">Habilidade</a> individual.</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code">Custom::*</code></span></dt>
                     <dd>
                        <p>Especifique todos os recursos personalizados.</p>
                        <p>Para obter mais informações sobre recursos personalizados, consulte <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-custom-resources.html">Recursos personalizados</a>.</p>
                     </dd>
                   
                     <dt><span class="term"><code class="code">Custom::<code class="replaceable">resource_type</code></code></span></dt>
                     <dd>
                        <p>Especifique um tipo de recurso personalizado específico.</p>
                        <p>Para obter mais informações sobre recursos personalizados, consulte <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-custom-resources.html">Recursos personalizados</a>.</p>
                     </dd>
                  </dl></div>
            </dd>
          
            <dt><span class="term"><code class="code">cloudformation:RoleARN</code></span></dt>
            <dd>
               <p>O Nome de recurso da Amazon (ARN) de uma função de serviço do IAM que você deseja associar a uma política. Use essa condição para controlar qual serviço os usuários do  podem usar ao trabalhar com pilhas ou conjuntos de alterações.</p>
            </dd>
          
            <dt><span class="term"><code class="code">cloudformation:StackPolicyUrl</code></span></dt>
            <dd>
               <p>O URL de uma política de pilha Amazon S3 que você deseja associar a uma política. Use essa condição para controlar quais políticas de pilha os usuários do  podem associar a uma pilha durante uma ação de criação ou atualização de pilha. Para obter mais informações sobre políticas de pilhas, consulte <a href="./protect-stack-resources.html">Impedir atualizações nos recursos de pilha</a>.</p>
               <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Para garantir que os usuários do  possam apenas criar ou atualizar pilhas com as políticas de pilhas que você carregou, defina o bucket do S3 como <code class="code">read only</code> para esses usuários.</p></div></div>
            </dd>
          
            <dt><span class="term"><code class="code">cloudformation:TemplateUrl</code></span></dt>
            <dd>
               <p>O URL de um modelo do Amazon S3 que você deseja associar a uma política. Use essa condição para controlar quais modelos os usuários do  podem usar ao criar ou atualizar pilhas.</p>
               <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Para garantir que os usuários do  possam apenas criar ou atualizar pilhas com os modelos que você carregou, defina o bucket do S3 como <code class="code">read only</code> para esses usuários.</p></div></div>
               <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>As seguintes condições específicas de AWS CloudFormation se aplicam aos parâmetros da API com o mesmo nome:</p><div class="itemizedlist">
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p><code class="code">cloudformation:ChangeSetName</code></p>
                     </li><li class="listitem">
                        <p><code class="code">cloudformation:RoleARN</code></p>
                     </li><li class="listitem">
                        <p><code class="code">cloudformation:StackPolicyUrl</code></p>
                     </li><li class="listitem">
                        <p><code class="code">cloudformation:TemplateUrl</code></p>
                     </li></ul></div><p>Por exemplo, <code class="code">cloudformation:TemplateUrl</code> só se aplica ao parâmetro <code class="code">TemplateUrl</code> para as APIs <code class="code">CreateStack</code>, <code class="code">UpdateStack</code> e <code class="code">CreateChangeSet</code>.</p></div></div>
            </dd>
         </dl></div>
      <h3 id="w9aac17c19c15c10">Exemplos</h3>
         
         <p>A política de exemplo a seguir permite que os usuários usem somente o URL do modelo <code class="code">https://s3.amazonaws.com/testbucket/test.template</code> para criar ou atualizar uma pilha.</p>
         <div class="example"><h6>exemplo Condição do URL do modelo</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version":"2012-10-17",
  "Statement":[
    <span>{</span>
      "Effect" : "Allow",
      "Action" : [ "cloudformation:CreateStack", "cloudformation:UpdateStack" ],
      "Resource" : "*",
      "Condition" : <span>{</span>
        "StringEquals" : <span>{</span>
          "cloudformation:TemplateUrl" : [ "https://s3.amazonaws.com/testbucket/test.template" ]
        }
      }
    }
  ]
}</code></pre></div></div>
         <p>A política de exemplo a seguir permite que os usuários concluam todas as operações do AWS CloudFormation, <em>exceto</em> as operações de importação.</p>
         <div class="example"><h6>exemplo Condição de tipos de recursos de importação</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span> 
  "Version": "2012-10-17", 
  "Statement": [ 
    <span>{</span> 
      "Sid": "AllowAllStackOperations",
      "Effect": "Allow", 
      "Action": "cloudformation:*", 
      "Resource": "*" 
    }, 
    <span>{</span> 
      "Sid": "DenyImport", 
      "Effect": "Deny", 
      "Action": "cloudformation:*", 
      "Resource": "*",
      "Condition": <span>{</span> 
        "ForAnyValue:StringLike": <span>{</span>
          "cloudformation:ImportResourceTypes": [ 
            "*" 
          ] 
        } 
      } 
    } 
  ] 
}</code></pre></div></div>
            <p>A política de exemplo a seguir permite todas as operações de pilha, bem como operações de importação somente em recursos especificados (neste exemplo, <code class="code">AWS::S3::Bucket</code>).</p>
            <div class="example"><h6>exemplo Condição de tipos de recursos de importação</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span> 
  "Version": "2012-10-17", 
  "Statement": [ 
    <span>{</span> 
      "Sid": "AllowImport",
      "Effect": "Allow", 
      "Action": "cloudformation:*", 
      "Resource": "*" 
      "Condition": <span>{</span> 
        "ForAllValues:StringEqualsIgnoreCase": <span>{</span>
          "cloudformation:ImportResourceTypes": [ 
            "AWS::S3::Bucket" 
          ] 
        } 
      } 
    } 
  ] 
}</code></pre></div></div>
         <p>A política de exemplo a seguir permite que os usuários criem pilhas, mas nega solicitações se o modelo da pilha incluir qualquer recurso do serviço do IAM. A política também requer que os usuários especifiquem o parâmetro <code class="code">ResourceTypes</code>, que está disponível apenas para solicitações de AWS CLI e de API. Essa política usa instruções de negação explícita de forma que se qualquer outra política conceder permissões adicionais, essa política sempre permanecerá em vigor (uma instrução de negação explícita sempre substitui uma instrução de permissão explícita).</p>
         <div class="example"><h6>exemplo Condição de tipo de recurso</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version":"2012-10-17",
  "Statement":[
    <span>{</span>
      "Effect" : "Allow",
      "Action" : [ "cloudformation:CreateStack" ],
      "Resource" : "*"
    },
    <span>{</span>
      "Effect" : "Deny",
      "Action" : [ "cloudformation:CreateStack" ],
      "Resource" : "*",
      "Condition" : <span>{</span>
        "ForAnyValue:StringLikeIfExists" : <span>{</span>
          "cloudformation:ResourceTypes" : [ "AWS::IAM::*" ]
        }
      }
    },
    <span>{</span>
      "Effect": "Deny",
      "Action" : [ "cloudformation:CreateStack" ],
      "Resource": "*",
      "Condition": <span>{</span>
        "Null": <span>{</span>
          "cloudformation:ResourceTypes": "true"
        }
      }
    }
  ]
}</code></pre></div></div>
         <p>A política de exemplo a seguir é semelhante ao exemplo anterior. A política permite que os usuários criem uma pilha, a menos que o modelo da pilha inclua qualquer recurso do serviço do IAM. Ela também requer que os usuários especifiquem o parâmetro <code class="code">ResourceTypes</code>, que está disponível apenas para solicitações de AWS CLI e de API. Essa política é mais simples, mas não usa instruções de negação explícita. Outras políticas, que concedem permissões adicionais, podem substituir essa política.</p>
         <div class="example"><h6>exemplo Condição de tipo de recurso</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version":"2012-10-17",
  "Statement":[
    <span>{</span>
      "Effect" : "Allow",
      "Action" : [ "cloudformation:CreateStack" ],
      "Resource" : "*",
      "Condition" : <span>{</span>
        "ForAllValues:StringNotLikeIfExists" : <span>{</span>
          "cloudformation:ResourceTypes" : [ "AWS::IAM::*" ]
        },
        "Null":<span>{</span>
          "cloudformation:ResourceTypes": "false"
        }
      }
    }
  ]
}</code></pre></div></div>
       
   <h2 id="using-iam-capabilities">Confirmar recursos do IAM em modelos do AWS CloudFormation</h2>
      
      <p>Antes que você possa criar uma pilha, o AWS CloudFormation valida seu modelo. Durante a validação, o AWS CloudFormation verifica os recursos do IAM que seu modelo pode criar. Os recursos do IAM, como um usuário com acesso completo, podem acessar e modificar qualquer recurso na sua Conta da AWS.  Portanto, sugerimos que você examine as permissões associadas a cada recurso do IAM antes de prosseguir, para não criar recursos acidentalmente com permissões escalonadas. Para garantir que você fez isso, você deve confirmar que o modelo contém esses recursos, dando ao AWS CloudFormation as capacidades especificadas antes de criar a pilha.</p>
      <p>Você pode confirmar as capacidades dos modelos do AWS CloudFormation usando o console do AWS CloudFormation, a AWS Command Line Interface (AWS CLI) ou a API:</p>
      <div class="itemizedlist">
          
          
          
      <ul class="itemizedlist"><li class="listitem">
            <p>No console do AWS CloudFormation, na página <b>Review (Revisar)</b> dos assistentes de criação ou de atualização de pilhas, escolha <b>I acknowledge that this template may create IAM resources (Eu reconheço que este modelo pode criar recursos do IAM)</b>.</p>
         </li><li class="listitem">
            <p>Na AWS CLI, ao usar os comandos <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/create-stack.html"><code class="code">aws cloudformation create-stack</code></a> e <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/update-stack.html"><code class="code">aws cloudformation update-stack</code></a>, especifique o valor <code class="code">CAPABILITY_IAM</code> ou <code class="code">CAPABILITY_NAMED_IAM</code> para o parâmetro <code class="code">--capabilities</code>. Se seu modelo incluir recursos do IAM, você poderá especificar uma dessas capacidades. Se seu modelo incluir nomes personalizados para recursos do IAM, você deverá especificar <code class="code">CAPABILITY_NAMED_IAM</code>.</p>
         </li><li class="listitem">
            <p>Na API, ao usar as ações <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_CreateStack.html"><code class="code">CreateStack</code></a> e <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_UpdateStack.html"><code class="code">UpdateStack</code></a>, especifique <code class="code">Capabilities.member.1=CAPABILITY_IAM</code> ou <code class="code">Capabilities.member.1=CAPABILITY_NAMED_IAM</code>. Se seu modelo incluir recursos do IAM, você poderá especificar uma dessas capacidades. Se seu modelo incluir nomes personalizados para recursos do IAM, você deverá especificar <code class="code">CAPABILITY_NAMED_IAM</code>.</p>
         </li></ul></div>
      <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Importante</h6></div><div class="awsdocs-note-text"><p>Se seu modelo contiver recursos do IAM nomeados personalizados, não crie várias pilhas reutilizando o mesmo modelo.  Os recursos do IAM devem ser globalmente exclusivos na sua conta.  Se você usar o mesmo modelo para criar várias pilhas em diferentes regiões, suas pilhas poderão compartilhar os mesmos recursos do IAM, em vez de cada uma ter um recurso exclusivo. Recursos compartilhados entre pilhas podem ter consequências acidentais das quais não é possível se recuperar. Por exemplo, se você excluir ou atualizar recursos compartilhados do IAM em uma pilha, você modificará acidentalmente os recursos de outras pilhas.</p></div></div>
   <h2 id="using-iam-template-manage-creds">Gerenciar credenciais para aplicativos em execução em instâncias do Amazon EC2</h2>
      
      <p>Se você tiver uma aplicação executada em uma instância do Amazon EC2 e precisar fazer solicitações a recursos da AWS, como buckets do Amazon S3 ou uma tabela do DynamoDB, essa aplicação precisará de credenciais de segurança da AWS. No entanto, a distribuição e a inserção de credenciais de segurança de longo prazo em cada instância que você executa é um desafio e um risco potencial à segurança. Em vez de usar credenciais de longo prazo, como credenciais de usuário do IAM, recomendamos que você crie uma função do IAM que seja associada a uma instância do Amazon EC2 quando a instância for iniciada. Um aplicativo pode obter credenciais de segurança temporárias na instância Amazon EC2. Você não precisa inserir credenciais de longo prazo na instância. Além disso, para facilitar o gerenciamento de credenciais, você pode especificar apenas uma única função para várias instâncias Amazon EC2. Você não precisa criar credenciais exclusivas para cada instância.</p>
      <p>Para obter um trecho de modelo que mostra como executar uma instância com uma função, consulte <a href="./quickref-iam.html#scenarios-iamroles">Exemplos de modelos de função do IAM</a>.</p>
      <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Os aplicativos em instâncias que usam credenciais de segurança temporárias podem chamar qualquer ação do AWS CloudFormation. No entanto, como o AWS CloudFormation interage com muitos outros produtos da AWS, você deve verificar se todos os serviços que deseja usar oferecem suporte às credenciais de segurança temporárias. Para obter mais informações, consulte <a href="https://docs.aws.amazon.com/STS/latest/UsingSTS/UsingTokens.html">Produtos da AWS que oferecem suporte ao AWS STS</a>.</p></div></div>
   <h2 id="using-iam-template-grant-access">Conceder acesso temporário (acesso federado)</h2>
      
      <p>Em alguns casos, você pode desejar conceder aos usuários sem credenciais da AWS acesso temporário à sua Conta da AWS. Em vez de criar e excluir credenciais de longo prazo sempre que você quiser conceder acesso temporário, use o AWS Security Token Service (AWS STS). Por exemplo, você pode usar funções do IAM. Em uma função do IAM, você pode criar programaticamente e distribuir muitas credenciais de segurança temporárias (que incluem uma chave de acesso, uma chave de acesso secreta e um token de segurança). Essas credenciais têm vida útil limitada e, portanto, não podem ser usadas para acessar sua Conta da AWS depois que expiram. Você também pode criar vários perfis do IAM para conceder diferentes níveis de permissões a usuários individuais.  Perfis do IAM são úteis para cenários como identidades federadas e logon único.</p>
      <p>Uma identidade federada é uma identidade distinta que você pode usar entre vários sistemas. Para usuários corporativos com um sistema de identidade estabelecido on-premises (como o LDAP ou o Active Directory), você pode tratar de toda a autenticação com seu sistema de identidade local. Quando um usuário é autenticado, você fornece credenciais de segurança temporárias a partir da função ou do usuário do IAM apropriado. Por exemplo, você pode criar uma função <code class="code">administrators</code> e uma função <code class="code">developers</code>, em que os administradores tenham acesso total à conta da AWS e os desenvolvedores tenham permissões para trabalhar apenas com pilhas do AWS CloudFormation. Depois que um administrador é autenticado, o administrador é autorizado a obter credenciais de segurança temporárias da função <code class="code">administrators</code>. No entanto, os desenvolvedores podem obter credenciais de segurança temporárias apenas da função <code class="code">developers</code>.</p>
      <p>Você também pode conceder aos usuários federados acesso ao AWS Management Console. Depois que os usuários se autenticam com o sistema de identidade on-premises, você pode construir programaticamente um URL temporário que forneça acesso direto ao AWS Management Console. Quando os usuários usam o URL temporário, eles não precisam fazer login na AWS porque já foram autenticados (autenticação única). Além disso, como o URL é construído a partir das credenciais de segurança temporárias dos usuários, as permissões que estão disponíveis com essas credenciais determinam quais permissões os usuários têm no AWS Management Console.</p>
      <p>Você pode usar várias diferentes APIs do AWS STS para gerar credenciais de segurança temporárias. Para obter mais informações sobre qual API usar, consulte <a href="https://docs.aws.amazon.com/STS/latest/UsingSTS/Welcome.html#AccessingSTS">Formas de obter credenciais de segurança temporárias</a>, no <em>Uso de credenciais de segurança temporárias</em>.</p>
      <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Importante</h6></div><div class="awsdocs-note-text"><p>Você não pode trabalhar com o IAM ao usar credenciais de segurança temporárias que foram geradas a partir da API <code class="code">GetFederationToken</code>. Em vez disso, se você precisar trabalhar com o IAM, use credenciais de segurança temporárias de uma função.</p></div></div>
      <p>O AWS CloudFormation interage com muitos outros produtos da AWS. Ao usar credenciais de segurança temporárias com o AWS CloudFormation, verifique se todos os serviços que deseja usar oferecem suporte a credenciais de segurança temporárias. Para obter mais informações, consulte <a href="https://docs.aws.amazon.com/STS/latest/UsingSTS/UsingTokens.html">Produtos da AWS que oferecem suporte ao AWS STS</a>.</p>
      <p>Para obter mais informações, consulte os seguintes recursos relacionados no <em>Uso de credenciais de segurança temporárias</em>:</p>
      <div class="itemizedlist">
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p><a href="https://docs.aws.amazon.com/STS/latest/UsingSTS/STSUseCases.html">Cenários para concessão de acesso temporário</a></p>
            </li><li class="listitem">
               <p><a href="https://docs.aws.amazon.com/STS/latest/UsingSTS/STSMgmtConsole.html">Conceder acesso direto ao AWS Management Console a usuários federados</a></p>
            </li></ul></div>
   <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Atenção" /> <strong>O Javascript está desativado ou não está disponível no seu navegador.</strong></p><p>Para usar a documentação da AWS, o Javascript deve estar ativado. Consulte as páginas de Ajuda do navegador para obter instruções.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenções do documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./security-data-protection.html">Proteção de dados</div><div id="next" class="next-link" accesskey="n" href="./using-iam-servicerole.html">Função de serviço do AWS CloudFormation</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Essa página foi útil? - Sim</div><div class="content"><p>Obrigado por nos informar que estamos fazendo um bom trabalho!</p><p>Se tiver tempo, conte-nos sobre o que você gostou para que possamos melhorar ainda mais.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/using-iam-template.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Essa página foi útil? - Não</div><div class="content"><p>Obrigado por nos informar que precisamos melhorar a página. Lamentamos ter decepcionado você.</p><p>Se tiver tempo, conte-nos como podemos melhorar a documentação.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/using-iam-template.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>