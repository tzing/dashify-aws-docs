<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="pt-BR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>cfn-hup - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="cfn-hup" /><meta name="default_state" content="cfn-hup" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/cfn-hup.html" /><meta name="description" content="Detecta alterações em quaisquer metadados de recurso e executa ações especificadas pelo usuário quando uma alteração é detectada." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Guia do usuário" /><meta name="abstract" content="Crie e gerencie implantações da infraestrutura da AWS de maneira previsível e que pode ser repetida usando o AWS CloudFormation com este Guia do usuário." /><meta name="guide-locale" content="pt_br" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/cfn-hup.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-hup.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Guia do usuário" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Guia do usuário" /><meta id="panorama-serviceConsolePage" value="cfn-hup" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>cfn-hup - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/cfn-hup.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/cfn-hup.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/cfn-hup.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,provisionamento de recursos,configuração de recursos,gerenciamento da infraestrutura,CloudFormer,Pilha do CloudFormation,Stackset do CloudFormation,Modelo do CloudFormation,conjunto de alterações" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guia do usuário",
        "item" : "https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Referência do modelo",
        "item" : "https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/template-reference.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "CloudFormation referência de scripts auxiliares",
        "item" : "https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/cfn-helper-scripts-reference.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "cfn-hup",
        "item" : "https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/cfn-helper-scripts-reference.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentação</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Guia do usuário</a></div><div id="page-toc-src"><a href="#cfn-hup-Description">Descrição</a><a href="#cfn-hup-Syntax">Sintaxe</a><a href="#cfn-hup-options">Opções</a><a href="#cfn-hup-config-file">Arquivo de configuração cfn-hup.conf</a><a href="#cfn-hup-hook-file">Arquivo de configuração hooks.conf</a><a href="#cfn-hup-hooks-dir">Diretório hooks.d</a><a href="#cfn-hup-example">Exemplo</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="cfn-hup">cfn-hup</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div>
         <h2 id="cfn-hup-Description">Descrição</h2>


         <p>O auxiliar cfn-hup é um daemon que detecta alterações em metadados de recursos e executa ações especificadas pelo usuário quando uma alteração é detectada. Isso permite que você faça as atualizações de configuração em suas instâncias do Amazon EC2 em execução pela ação do API <code class="code">UpdateStack</code>.</p>
       
         <h2 id="cfn-hup-Syntax">Sintaxe</h2>

         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">cfn-hup --config|-c config.dir \
        --no-daemon \
        --verbose|-v</code></pre>

       
         <h2 id="cfn-hup-options">Opções</h2>

         <div class="table-container"><div class="table-contents"><table id="w1348aac27c23c29b9b3"><thead>
                  <tr>
                     <th>Nome</th>
                     <th>Descrição</th>
                     <th>Obrigatório</th>
                  </tr>
               </thead>
                  <tr>
                     <td tabindex="-1">
                        <p>
                           <code class="code">--config|-c config.dir</code>
                        </p>
                     </td>
                     <td tabindex="-1">
                        <p>Especifica o caminho que o script cfn-hup procura pelos diretórios <code>cfn-hup.conf</code> e <code>hooks.d</code>. No Windows, o caminho padrão é <code class="code"><code class="replaceable">system_drive</code>\cfn</code>. No Linux, o caminho padrão é <code class="code">/etc/cfn</code>.</p>
                     </td>
                     <td tabindex="-1">
                        <p>Não</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p>
                           <code class="code">--no-daemon</code>
                        </p>
                     </td>
                     <td tabindex="-1">
                        <p>Especifique esta opção para executar o script cfn-hup uma vez e sair.</p>
                     </td>
                     <td tabindex="-1">
                        <p>Não</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p>
                           <code class="code">-v, --verbose </code>
                        </p>
                     </td>
                     <td tabindex="-1">
                        <p>Especifique esta opção para usar o modo detalhado.</p>
                     </td>
                     <td tabindex="-1">
                        <p>Não</p>
                     </td>
                  </tr>
               </table></div></div>
       
         <h2 id="cfn-hup-config-file">Arquivo de configuração cfn-hup.conf</h2>


         <p>O arquivo cfn-hup.conf armazena o nome da pilha e as credenciais da AWS a qual o daemon cfn-hup se destina.</p>

         <p>O arquivo cfn-hup.conf usa o formato a seguir:</p>

         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="conf ">[main]
stack=<code class="replaceable">&lt;stack-name-or-id&gt; </code> </code></pre>

         <div class="table-container"><div class="table-contents"><table id="w1348aac27c23c29c11b9"><thead>
                  <tr>
                     <th>Nome</th>
                     <th>Descrição</th>
                     <th>Obrigatório</th>
                  </tr>
               </thead>
                  <tr>
                     <td tabindex="-1">
                        <p>
                           <code class="code">stack</code>
                        </p>
                     </td>
                     <td tabindex="-1">
                        <p>Um nome ou ID da pilha.</p>
                        <p><em>Tipo:</em> string</p>
                     </td>
                     <td tabindex="-1">
                        <p>Sim</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p>
                           <code class="code">credential-file</code>
                        </p>
                     </td>
                     <td tabindex="-1">
                        <p>Um arquivo de credenciais somente de proprietário, no mesmo formato usado para as ferramentas de linha de comando.</p>
                        <p><em>Tipo:</em> string</p>
                        <p><em>Condição</em>: o parâmetro <code class="code">role</code> substitui este parâmetro.</p>
                     </td>
                     <td tabindex="-1">
                        <p>Não</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p>
                           <code class="code">role</code>
                        </p>
                     </td>
                     <td tabindex="-1">
                        <p>O nome de um perfil do IAM que está associado à instância.</p>
                        <p><em>Tipo:</em> string</p>
                     </td>
                     <td tabindex="-1">
                        <p>Não</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p>
                           <code class="code">region</code>
                        </p>
                     </td>
                     <td tabindex="-1">
                        <p>O nome da região da AWS que contém a pilha.</p>
                        <p><em>Exemplo</em>: <span>us-east-2</span></p>
                     </td>
                     <td tabindex="-1">
                        <p>Não</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p>
                           <code class="code">umask</code>
                        </p>
                     </td>
                     <td tabindex="-1">
                        <p>O umask usado pelo daemon cfn-hup.</p>
                        <p>Esse valor pode ser especificado com ou sem um 0 à esquerda. Em ambos os casos, ele é interpretado como um número octal (semelhante ao comando <code class="code">umask</code> do Linux). Esse parâmetro não tem efeito no Windows.</p>
                        <p><em>Tipo</em>: inteiro octal entre <code class="code">0</code> e <code class="code">0777</code></p>
                        <p><em>Padrão</em>: <code class="code">022</code>, versão 1.4–22 e superior. O valor padrão de <code class="code">022</code> mascara permissões de gravação de grupo e mundo, de forma que os arquivos criados pelo daemon cfn-hup não podem ser gravados por grupo ou mundo por padrão. O valor padrão para versões 1.4–21 e anteriores é <code class="code">0</code>, que não mascara nada.</p>
                     </td>
                     <td tabindex="-1">
                        <p>Não</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p>
                           <code class="code">interval</code>
                        </p>
                     </td>
                     <td tabindex="-1">
                        <p>O intervalo usado para verificar a existência de alterações nos metadados do recurso em minutos.</p>
                        <p><em>Tipo</em>: inteiro</p>
                        <p><em>Padrão</em>: <code class="code">15</code></p>
                     </td>
                     <td tabindex="-1">
                        <p>Não</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p>
                           <code class="code">verbose</code>
                        </p>
                     </td>
                     <td tabindex="-1">
                        <p>Especifica se deve usar o registro detalhado.</p>
                        <p><em>Tipo</em>: booliano</p>
                        <p><em>Padrão</em>: <code class="code">false</code></p>
                     </td>
                     <td tabindex="-1">
                        <p>Não</p>
                     </td>
                  </tr>
               </table></div></div>
       
         <h2 id="cfn-hup-hook-file">Arquivo de configuração hooks.conf</h2>


         <p>As ações do usuário que o daemon cfn-hup chama periodicamente são definidos no arquivo de configuração hooks.conf. O arquivo hooks.conf usa o <em>formato</em> a seguir:</p>

         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="conf ">[hookname]
triggers=post.add <code class="replaceable">or</code> post.update <code class="replaceable">or</code> post.remove
path=Resources.<code class="replaceable">&lt;logicalResourceId&gt;</code> (.Metadata <code class="replaceable">or</code> .PhysicalResourceId)(.<code class="replaceable">&lt;optionalMetadatapath&gt;</code>)
action=<code class="replaceable">&lt;arbitrary shell command&gt;</code>
runas=<code class="replaceable">&lt;runas user&gt;</code> </code></pre>

         <p>Quando a operação é executada, ela é feita em uma cópia do ambiente atual (onde o cfn-hup está localizado), com CFN_OLD_METADATA definido como o valor anterior de metadados especificado pelo caminho e CFN_NEW_METADATA definido como o valor atual.</p>

         <p>O arquivo de configuração de hooks é carregado na inicialização do daemon cfn-hup apenas, portanto, novos hooks exigirão que o daemon seja reiniciado. Um cache dos valores de metadados anteriores é armazenado em /var/lib/cfn-hup/data/metadata_db. Você pode excluí-lo para forçar o cfn-hup a executar todas as ações post.add novamente.</p>

         <div class="table-container"><div class="table-contents"><table id="w1348aac27c23c29c13c11"><thead>
                  <tr>
                     <th>Nome</th>
                     <th>Descrição</th>
                     <th>Obrigatório</th>
                  </tr>
               </thead>
                  <tr>
                     <td tabindex="-1">
                        <p>
                           <code class="code">hookname</code>
                        </p>
                     </td>
                     <td tabindex="-1">
                        <p>Um nome exclusivo para este hook.</p>
                        <p><em>Tipo:</em> string</p>
                     </td>
                     <td tabindex="-1">
                        <p>Sim</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p>
                           <code class="code">triggers</code>
                        </p>
                     </td>
                     <td tabindex="-1">
                        <p>Uma lista delimitada por vírgulas das condições a serem detectadas.</p>
                        <p><em>Valores válidos</em>: <code class="code">post.add</code>, <code class="code">post.update</code> ou <code class="code">post.remove</code></p>
                        <p><em>Exemplo</em>: <code class="code">post.add,
                           post.update</code></p>
                     </td>
                     <td tabindex="-1">
                        <p>Sim</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p>
                           <code class="code">path</code>
                        </p>
                     </td>
                     <td tabindex="-1">
                        <p>O caminho para o objeto de metadados. Oferece suporte a um caminho arbitrariamente profundo dentro do bloco de metadados.</p>
                        <p></p>
                        <div class="itemizedlist">
                           <h6>Opções de formato de caminhos</h6>
                            
                            
                            
                        <ul class="itemizedlist"><li class="listitem">
                              <p>Resources.<code class="replaceable">&lt;LogicalResourceId&gt;</code>: monitora o último horário de atualização do recurso, acionando qualquer alteração no recurso.</p>
                           </li><li class="listitem">
                              <p>Resources.<code class="replaceable">&lt;LogicalResourceId&gt;</code>.PhysicalResourceId: monitora o ID físico do recurso, acionando somente quando a identidade do recurso associada muda (como uma nova instância do EC2).</p>
                           </li><li class="listitem">
                              <p>Resources.<code class="replaceable">&lt;LogicalResourceId&gt;</code>.Metadata(<code class="replaceable">.optional path</code>): monitora os metadados de um recurso para alterações (um subcaminho de metadados pode ser especificado em um nível arbitrariamente mais profundo para monitorar valores específicos).</p>
                           </li></ul></div>
                     </td>
                     <td tabindex="-1">
                        <p>Sim</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p>
                           <code class="code">action</code>
                        </p>
                     </td>
                     <td tabindex="-1">
                        <p>Um comando shell arbitrário que é executado conforme dado.</p>
                     </td>
                     <td tabindex="-1">
                        <p>Sim</p>
                     </td>
                  </tr>
                  <tr>
                     <td tabindex="-1">
                        <p>
                           <code class="code">runas</code>
                        </p>
                     </td>
                     <td tabindex="-1">
                        <p>Um usuário para executar os comandos. O Cfn-hup usa o comando su para alternar para o usuário.</p>
                     </td>
                     <td tabindex="-1">
                        <p>Sim</p>
                     </td>
                  </tr>
               </table></div></div>
       
         <h2 id="cfn-hup-hooks-dir">Diretório hooks.d</h2>

         <p>Para oferecer suporte a composição de vários aplicativos implantando hooks de notificação de alteração, o cfn-hup oferece suporte a um diretório chamado hooks.d que está localizado no diretório de configuração de hooks. Você pode colocar um ou mais arquivos de configuração de hooks adicionais no diretório hooks.d. Os arquivos de hooks adicionais devem usar o mesmo layout que o arquivo hooks.conf.</p>

         <p>O daemon cfn-hup analisa e carrega cada arquivo neste diretório. Se qualquer hook no diretório hooks.d tem o mesmo nome que um hook em hooks.conf, os hooks serão mesclados (o que significa que hooks.d substituirá hooks.conf por qualquer valor que ambos os arquivos especifiquem).</p>
       
         <h2 id="cfn-hup-example">Exemplo</h2>

         <p>No seguinte snippet de modelo, o CloudFormation aciona o arquivo de hooks <code class="code">cfn-auto-reloader.conf</code> quando você altera o recurso <code class="code">AWS::CloudFormation::Init</code> associado ao recurso <code class="code">LaunchConfig</code>.</p>
         <div id="JSON" name="JSON" class="section langfilter">
            <h3 id="cfn-hup-example.json">JSON</h3>

            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">...
    "LaunchConfig": <span>{</span>
      "Type" : "AWS::AutoScaling::LaunchConfiguration",
      "Metadata" : <span>{</span>
        "QBVersion": <span>{</span>"Ref": "paramQBVersion"},
        "AWS::CloudFormation::Init" : <span>{</span>
...
              "/etc/cfn/hooks.d/cfn-auto-reloader.conf": <span>{</span>
                "content": <span>{</span> "Fn::Join": [ "", [
                  "[cfn-auto-reloader-hook]\n",
                  "triggers=post.update\n",
                  "path=Resources.LaunchConfig.Metadata.AWS::CloudFormation::Init\n",
                  "action=/opt/aws/bin/cfn-init -v ",
                          "         --stack ", <span>{</span> "Ref" : "AWS::StackName" },
                          "         --resource LaunchConfig ",
                          "         --configsets wordpress_install ",
                          "         --region ", <span>{</span> "Ref" : "AWS::Region" }, "\n",
                  "runas=root\n"
                ]]},          
                "mode"  : "000400",
                "owner" : "root",
                "group" : "root"
              }
...</code></pre>
         </div>
         <div id="YAML" name="YAML" class="section langfilter">
            <h3 id="cfn-hup-example.yaml">YAML</h3>

            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">...
  LaunchConfig:
    Type: "AWS::AutoScaling::LaunchConfiguration"
    Metadata:
      QBVersion: !Ref paramQBVersion
      AWS::CloudFormation::Init:
...
            /etc/cfn/hooks.d/cfn-auto-reloader.conf:
              content: !Sub |
                [cfn-auto-reloader-hook]
                triggers=post.update
                path=Resources.LaunchConfig.Metadata.AWS::CloudFormation::Init
                action=/opt/aws/bin/cfn-init -v --stack $<span>{</span>AWS::StackName} --resource LaunchConfig --configsets wordpress_install --region $<span>{</span>AWS::Region}
                runas=root
              mode: "000400"
              owner: "root"
              group: "root"
...</code></pre>
         </div>
          
            <h3 id="w9aac34c42c33c15b9">Exemplo adicional</h3>

            <p>Para obter um modelo de amostra, consulte <a href="./deploying.applications.html">Implantar aplicações no Amazon EC2 com o AWS CloudFormation</a>.</p>
          
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Atenção" /> <strong>O Javascript está desativado ou não está disponível no seu navegador.</strong></p><p>Para usar a documentação da AWS, o Javascript deve estar ativado. Consulte as páginas de Ajuda do navegador para obter instruções.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenções do documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./cfn-get-metadata.html">cfn-get-metadata</div><div id="next" class="next-link" accesskey="n" href="./service_code_examples.html">Exemplos de código</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Essa página foi útil? - Sim</div><div class="content"><p>Obrigado por nos informar que estamos fazendo um bom trabalho!</p><p>Se tiver tempo, conte-nos sobre o que você gostou para que possamos melhorar ainda mais.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/cfn-hup.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Essa página foi útil? - Não</div><div class="content"><p>Obrigado por nos informar que precisamos melhorar a página. Lamentamos ter decepcionado você.</p><p>Se tiver tempo, conte-nos como podemos melhorar a documentação.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/cfn-hup.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>