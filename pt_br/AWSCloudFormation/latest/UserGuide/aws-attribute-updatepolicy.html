<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="pt-BR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Atributo UpdatePolicy - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="aws-attribute-updatepolicy" /><meta name="default_state" content="aws-attribute-updatepolicy" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" /><meta name="description" content="Especifique como lidar com as atualizações para os recursos a seguir, com o atributo UpdatePolicy. AWS::AutoScaling::AutoScalingGroup, AWS::AutoScaling::AutoScalingGroup, AWS::ElastiCache::ReplicationGroup, AWS::OpenSearchService::Domain, AWS::Elasticsearch::Domain ou AWS::Lambda::Alias." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Guia do usuário" /><meta name="abstract" content="Crie e gerencie implantações da infraestrutura da AWS de maneira previsível e que pode ser repetida usando o AWS CloudFormation com este Guia do usuário." /><meta name="guide-locale" content="pt_br" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Guia do usuário" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Guia do usuário" /><meta id="panorama-serviceConsolePage" value="Atributo UpdatePolicy" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Atributo UpdatePolicy - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,provisionamento de recursos,configuração de recursos,gerenciamento da infraestrutura,CloudFormer,Pilha do CloudFormation,Stackset do CloudFormation,Modelo do CloudFormation,conjunto de alterações" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guia do usuário",
        "item" : "https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Referência do modelo",
        "item" : "https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/template-reference.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Referência de atributos de recursos",
        "item" : "https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-product-attribute-reference.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Atributo UpdatePolicy",
        "item" : "https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-product-attribute-reference.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentação</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Guia do usuário</a></div><div id="page-toc-src"><a href="#aws-resource-update-policies">Políticas de atualização de recursos</a><a href="#aws-attribute-update-policy-app-stream-fleet">Política de atualização do AppStream 2.0</a><a href="#cfn-attributes-updatepolicy-replacingupdate">Política AutoScalingReplacingUpdate</a><a href="#cfn-attributes-updatepolicy-rollingupdate">Política AutoScalingRollingUpdate</a><a href="#cfn-attributes-updatepolicy-scheduledactions">Política AutoScalingScheduledAction</a><a href="#cfn-attributes-updatepolicy-useonlineresharding">Política UseOnlineResharding</a><a href="#cfn-attributes-updatepolicy-upgradeopensearchdomain">Política EnableVersionUpgrade</a><a href="#cfn-attributes-updatepolicy-codedeploylambdaaliasupdate">Política de atualização do CodeDeployLambdaAlias</a><a href="#aws-attribute-updatepolicy-examples">Exemplos</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="aws-attribute-updatepolicy">Atributo <code class="code">UpdatePolicy</code></h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Use o atributo <code class="code">UpdatePolicy</code> para especificar como o AWS CloudFormation lida com as atualizações para os seguintes recursos:</p><div class="itemizedlist">
     
     
     
     
     
     
  <ul class="itemizedlist"><li class="listitem">
      <p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-appstream-fleet.html"><code class="code">AWS::AppStream::Fleet</code></a></p>
    </li><li class="listitem">
      <p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-as-group.html"><code class="code">AWS::AutoScaling::AutoScalingGroup</code></a></p>
    </li><li class="listitem">
      <p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-elasticache-replicationgroup.html"><code class="code">AWS::ElastiCache::ReplicationGroup</code></a></p>
    </li><li class="listitem">
      <p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-opensearchservice-domain.html"><code class="code">AWS::OpenSearchService::Domain</code></a></p>
    </li><li class="listitem">
      <p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-elasticsearch-domain.html"><code class="code">AWS::Elasticsearch::Domain</code></a></p>
    </li><li class="listitem">
      <p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-lambda-alias.html"><code class="code">AWS::Lambda::Alias</code></a></p>
    </li></ul></div>
  <h2 id="aws-resource-update-policies">Políticas de atualização de recursos</h2>

  <div class="itemizedlist">
     

     

     

     

     
  <ul class="itemizedlist"><li class="listitem">
      <p>Para o recurso <code class="code">AWS::AppStream::Fleet</code>, o CloudFormation pode atualizar o Image Builder com o software de atendente AppStream 2.0 mais recente. Para obter mais informações, consulte <a href="https://docs.aws.amazon.com/appstream2/latest/developerguide/base-images-agent.html">Gerenciar versões do AppStream 2.0</a>.</p>
    </li><li class="listitem">
      <p>Para recursos do <code class="code">AWS::AutoScaling::AutoScalingGroup</code>, o CloudFormation invoca uma das três políticas de atualização, dependendo do tipo de alteração feita ou se uma operação programada estiver associada ao grupo do Auto Scaling.</p>
      <div class="itemizedlist">
         
         
      <ul class="itemizedlist"><li class="listitem">
          <p>As políticas <code class="code">AutoScalingReplacingUpdate</code> e <code class="code">AutoScalingRollingUpdate</code> se aplicam <em>apenas</em> quando você realiza um ou mais dos seguintes:</p>
          <div class="itemizedlist">
             
             
             
             
          <ul class="itemizedlist"><li class="listitem">
              <p>Altera <code class="code"><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-as-launchconfig.html">AWS::AutoScaling::LaunchConfiguration</a></code> do grupo de Auto Scaling.</p>
            </li><li class="listitem">
              <p>Altera a propriedade <code class="code">VPCZoneIdentifier</code> do grupo do Auto Scaling.</p>
            </li><li class="listitem">
              <p>Altera a propriedade <code class="code">LaunchTemplate</code> do grupo do Auto Scaling.</p>
            </li><li class="listitem">
              <p>Atualiza um grupo de Auto Scaling que contém instâncias que não correspondem à <code class="code">LaunchConfiguration</code> atual.</p>
            </li></ul></div>
          <p>Se ambas as políticas <code class="code">AutoScalingReplacingUpdate</code> e <code class="code">AutoScalingRollingUpdate</code> forem especificadas, a definição da propriedade <code class="code">WillReplace</code> para <code class="code">true</code> dá precedência a <code class="code">AutoScalingReplacingUpdate</code>.</p>
        </li><li class="listitem">
          <p>A política <code class="code">AutoScalingScheduledAction</code> se aplica quando você atualiza uma pilha que inclui um grupo de Auto Scaling com uma ação programada associada.</p>
        </li></ul></div>
    </li><li class="listitem">
      <p>Para recursos de <code class="code">AWS::ElastiCache::ReplicationGroup</code>, o CloudFormation pode modificar um grupo de replicação adicionando ou removendo estilhaços, em vez de substituir todo o recurso. Para ter mais informações, consulte <a href="#cfn-attributes-updatepolicy-useonlineresharding">Política UseOnlineResharding</a>.</p>
    </li><li class="listitem">
      <p>Para <code class="code">AWS::OpenSearchService::Domain</code> e recursos <code class="code">AWS::Elasticsearch::Domain</code> legados, o CloudFormation pode atualizar um domínio do OpenSearch Service para uma nova versão do OpenSearch ou Elasticsearch, sem substituir o recurso inteiro. Para ter mais informações, consulte <a href="#cfn-attributes-updatepolicy-upgradeopensearchdomain">Política EnableVersionUpgrade</a>.</p>
    </li><li class="listitem">
      <p>Para recursos de <code class="code">AWS::Lambda::Alias</code>, o CloudFormation executa uma implantação do CodeDeploy quando a versão é alterada no alias. Para ter mais informações, consulte <a href="#cfn-attributes-updatepolicy-codedeploylambdaaliasupdate">Política de atualização do CodeDeployLambdaAlias</a>.</p>
    </li></ul></div>
 
    <h2 id="aws-attribute-update-policy-app-stream-fleet">Política de atualização do AppStream 2.0</h2>
    <p>Configuração do AppStream 2.0 para uma política de atualização.</p>
     
      <h3 id="aws-attribute-update-policy-app-stream-fleet-syntax">Sintaxe</h3>
      <div id="JSON" name="JSON" class="section langfilter">
        <h4 id="aws-attribute-update-policy-app-stream-fleet-syntax-json">JSON</h4>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "UpdatePolicy": <span>{</span>
        "<a href="#cfn-attributes-updatepolicy-replacingupdate-StopBeforeUpdate">StopBeforeUpdate</a>": <span>{</span>
            "Type": "<code class="replaceable">Boolean</code>"
        },
        "<a href="#cfn-attributes-updatepolicy-replacingupdate-StartAfterUpdate">StartAfterUpdate</a>": <span>{</span>
            "Type": "<code class="replaceable">Boolean</code>"
        }
    }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h4 id="aws-attribute-update-policy-app-stream-fleet-syntax-yaml">YAML</h4>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">UpdatePolicy:
  <a href="#cfn-attributes-updatepolicy-replacingupdate-StopBeforeUpdate">StopBeforeUpdate</a>:
    Type: <code class="replaceable">Boolean</code>
  <a href="#cfn-attributes-updatepolicy-replacingupdate-StartAfterUpdate">StartAfterUpdate</a>:
    Type: <code class="replaceable">Boolean</code></code></pre>
      </div>
      <div class="variablelist">
         
         
      <dl>
          <dt id="cfn-attributes-updatepolicy-replacingupdate-StopBeforeUpdate"><span class="term"><code class="code">StopBeforeUpdate</code></span></dt>
          <dd>
            <p>Interrompe a frota especificada antes da atualização.</p>
            <p><em>Obrigatório</em>: não</p>
          </dd>
         
          <dt id="cfn-attributes-updatepolicy-replacingupdate-StartAfterUpdate"><span class="term"><code class="code">StartAfterUpdate</code></span></dt>
          <dd>
            <p>Inicia a frota especificada após a atualização.</p>
            <p><em>Obrigatório</em>: não</p>
          </dd>

        </dl></div>
     
   
    <h2 id="cfn-attributes-updatepolicy-replacingupdate">Política AutoScalingReplacingUpdate</h2>

    <p>Para especificar como o AWS CloudFormation lida com atualizações de substituição para um grupo do Auto Scaling, use a política <code class="code">AutoScalingReplacingUpdate</code>. Essa política permite que você especifique se o AWS CloudFormation substituirá um grupo do Auto Scaling por um novo ou apenas as instâncias no grupo do Auto Scaling.</p>
    <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Importante</h6></div><div class="awsdocs-note-text"><p>Antes de executar uma atualização, verifique se há capacidade suficiente no Amazon EC2 para os novos e antigos grupos de Auto Scaling.</p></div></div>


     
      <h3 id="cfn-attributes-updatepolicy-replacingupdate-syntax">Sintaxe</h3>

      <div id="JSON" name="JSON" class="section langfilter">
        <h4 id="aws-attribute-updatepolicy-replacingupdate-syntax.json">JSON</h4>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"UpdatePolicy" : <span>{</span>
  "<a href="#cfn-attributes-updatepolicy-replacingupdate">AutoScalingReplacingUpdate</a>" : <span>{</span>
    "<a href="#cfn-attributes-updatepolicy-replacingupdate-willreplace">WillReplace</a>" : <code class="replaceable">Boolean</code>
  }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h4 id="aws-attribute-updatepolicy-replacingupdate-syntax.yaml">YAML</h4>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">UpdatePolicy:
  <a href="#cfn-attributes-updatepolicy-replacingupdate">AutoScalingReplacingUpdate</a>:
    <a href="#cfn-attributes-updatepolicy-replacingupdate-willreplace">WillReplace</a>: <code class="replaceable">Boolean</code></code></pre>
      </div>
     
     
      <h3 id="cfn-attributes-updatepolicy-replacingupdate-properties">Propriedades</h3>

      <div class="variablelist">
         
      <dl>
          <dt id="cfn-attributes-updatepolicy-replacingupdate-willreplace"><span class="term"><code class="code">WillReplace</code></span></dt>
          <dd>
            <p>Especifica se um grupo do Auto Scaling e as instâncias que ele contém serão substituídos durante uma atualização. Durante a substituição, o CloudFormation retém o grupo antigo até que ele termine a criação do novo. Se a atualização falhar, o CloudFormation poderá reverter para o grupo de Auto Scaling antigo e excluir o grupo de Auto Scaling novo.</p>
            <p>Embora o CloudFormation crie o novo grupo, ele não desanexa nem anexa as instâncias. Após criar com êxito o novo grupo do Auto Scaling, o CloudFormation excluirá o grupo de Auto Scaling antigo durante o processo de limpeza.</p>
            <p>Quando você definir o parâmetro <code class="code">WillReplace</code>, lembre-se de especificar um <code class="code"><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-creationpolicy.html">CreationPolicy</a></code> correspondente. Se o número mínimo de instâncias (especificado pela propriedade <code class="code">MinSuccessfulInstancesPercent</code>) não sinalizar sucesso dentro do período de <code class="code">Timeout</code> (especificado na política <code class="code">CreationPolicy</code>), a atualização de substituição falhará e o AWS CloudFormation reverterá ao grupo do Auto Scaling  antigo.</p>
            <p><em>Tipo</em>: booliano</p>
            <p><em>Obrigatório</em>: não</p>
          </dd>
        </dl></div>
     
   
    <h2 id="cfn-attributes-updatepolicy-rollingupdate">Política AutoScalingRollingUpdate</h2>

    <p>Para especificar como o CloudFormation lida com as atualizações sem interrupção para um grupo de Auto Scaling, use a política <code class="code">AutoScalingRollingUpdate</code>. As atualizações sem interrupção permitem que você especifique se as instâncias de atualização do AWS CloudFormation, que estão em um grupo do Auto Scaling, serão em lotes ou todas ao mesmo tempo.</p>
    <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Importante</h6></div><div class="awsdocs-note-text"><p>Durante uma atualização sem interrupção, alguns processos do Auto Scaling podem fazer alterações no grupo de Auto Scaling antes do CloudFormation concluir a atualização sem interrupção. Essas alterações podem fazer com que a atualização sem interrupção falhe. Para evitar que o Auto Scaling execute processos durante uma atualização sem interrupção, use a propriedade <code class="code">SuspendProcesses</code>. Para obter mais informações, consulte <a href="https://aws.amazon.com/premiumsupport/knowledge-center/auto-scaling-group-rolling-updates/" rel="noopener noreferrer" target="_blank"><span>Quais são as melhores práticas recomendadas para executar atualizações contínuas de grupos de Auto Scaling?</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a></p></div></div>

    <p>Lembre-se de que, durante as operações de reversão de atualização da pilha, o CloudFormation usa a configuração <code class="code">UpdatePolicy</code> especificada no modelo antes da operação de atualização da pilha atual. Por exemplo, suponha que você tenha atualizado o modelo <code class="code">MaxBatchSize</code> na <code class="code">UpdatePolicy</code> de sua pilha, de 1 a 10. E em seguida, você executa uma atualização de pilha. Esta atualização falha e o CloudFormation inicia uma operação de reversão de atualização. Nesse caso, o CloudFormation usará 1 como o tamanho máximo do lote, em vez de 10. Por esse motivo, recomendamos que você faça alterações na configuração de <code class="code">UpdatePolicy</code> em uma atualização de pilha separada e antes de qualquer atualização no recurso <code class="code">AWS::AutoScaling::AutoScalingGroup</code> que possa iniciar atualizações contínuas.</p>

    
      <h3 id="cfn-attributes-updatepolicy-rollingupdate-syntax">Sintaxe</h3>

      <div id="JSON" name="JSON" class="section langfilter">
        <h4 id="aws-attribute-updatepolicy-rollingupdate-syntax.json">JSON</h4>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"UpdatePolicy" : <span>{</span>
  "<a href="#cfn-attributes-updatepolicy-rollingupdate">AutoScalingRollingUpdate</a>" : <span>{</span>
    "<a href="#cfn-attributes-updatepolicy-rollingupdate-maxbatchsize">MaxBatchSize</a>" : <code class="replaceable">Integer</code>,
    "<a href="#cfn-attributes-updatepolicy-rollingupdate-minactiveinstancespercent">MinActiveInstancesPercent</a>" : <code class="replaceable">Integer</code>,
    "<a href="#cfn-attributes-updatepolicy-rollingupdate-mininstancesinservice">MinInstancesInService</a>" : <code class="replaceable">Integer</code>,
    "<a href="#cfn-attributes-updatepolicy-rollingupdate-minsuccessfulinstancespercent">MinSuccessfulInstancesPercent</a>" : <code class="replaceable">Integer</code>,
    "<a href="#cfn-attributes-updatepolicy-rollingupdate-pausetime">PauseTime</a>" : <code class="replaceable">String</code>,
    "<a href="#cfn-attributes-updatepolicy-rollingupdate-suspendprocesses">SuspendProcesses</a>" : [ <code class="replaceable">List of processes</code> ],
    "<a href="#cfn-attributes-updatepolicy-rollingupdate-waitonresourcesignals">WaitOnResourceSignals</a>" : <code class="replaceable">Boolean</code>
  }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h4 id="aws-attribute-updatepolicy-rollingupdate-syntax.yaml">YAML</h4>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">UpdatePolicy:
  <a href="#cfn-attributes-updatepolicy-rollingupdate">AutoScalingRollingUpdate</a>:
    <a href="#cfn-attributes-updatepolicy-rollingupdate-maxbatchsize">MaxBatchSize</a>: <code class="replaceable">Integer</code>
    <a href="#cfn-attributes-updatepolicy-rollingupdate-minactiveinstancespercent">MinActiveInstancesPercent</a>: <code class="replaceable">Integer</code>
    <a href="#cfn-attributes-updatepolicy-rollingupdate-mininstancesinservice">MinInstancesInService</a>: <code class="replaceable">Integer</code>
    <a href="#cfn-attributes-updatepolicy-rollingupdate-minsuccessfulinstancespercent">MinSuccessfulInstancesPercent</a>: <code class="replaceable">Integer</code>
    <a href="#cfn-attributes-updatepolicy-rollingupdate-pausetime">PauseTime</a>: <code class="replaceable">String</code>
    <a href="#cfn-attributes-updatepolicy-rollingupdate-suspendprocesses">SuspendProcesses</a>:
      - <code class="replaceable">List of processes</code>
    <a href="#cfn-attributes-updatepolicy-rollingupdate-waitonresourcesignals">WaitOnResourceSignals</a>: <code class="replaceable">Boolean</code></code></pre>
      </div>
     
     
      <h3 id="aws-attribute-updatepolicy-rollingupdate-properties">Propriedades</h3>
      <div class="variablelist">
         
        
         
         
         
         
         
      <dl>
          <dt id="cfn-attributes-updatepolicy-rollingupdate-maxbatchsize"><span class="term"><code class="code">MaxBatchSize</code></span></dt>
          <dd>
            <p>Especifica o número máximo de instâncias que podem ser substituídas ao mesmo tempo.</p>
            <p><em>Padrão</em>: <code class="code">1</code></p>
            <p><em>Maximum</em>: <code class="code">100</code></p>
            <p><em>Tipo</em>: inteiro</p>
            <p><em>Obrigatório</em>: não</p>
          </dd>
         
     <dt id="cfn-attributes-updatepolicy-rollingupdate-minactiveinstancespercent"><span class="term"><code class="code">MinActiveInstancesPercent</code></span></dt>
     <dd>
      <p>Especifica o percentual de instâncias em um grupo do Auto Scaling que devem estar no estado <code class="code">InService</code> relativo à capacidade desejada desse grupo durante uma atualização contínua para que uma atualização seja bem-sucedida. É possível especificar um valor de 0 a 100. O CloudFormation arredonda para o décimo mais próximo de um percentual. Por exemplo, se você atualizar cinco instâncias com um percentual mínimo de <code class="code">InService</code> igual a 50, pelo menos três instâncias deverão estar no estado <code class="code">InService</code>.</p>
      <p>Se uma instância não migrar para o estado <code class="code">InService</code> em até uma hora, o CloudFormation entenderá que a instância não foi atualizada.</p>
      <p>Se você especificar essa propriedade, também será necessário habilitar a propriedade <code class="code">PauseTime</code>.</p>
      <p>O parâmetro <code class="code">MinActiveInstancesPercent</code> se aplica a instâncias somente para fins de sinalização. Para especificar o número de instâncias no seu grupo de Auto Scaling, consulte as propriedades <code class="code">MinSize</code>, <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-as-group.html#cfn-as-group-maxsize"><code class="code">MaxSize</code></a> e <code class="code">DesiredCapacity</code> para o recurso <code class="code">AWS::AutoScaling::AutoScalingGroup</code>.</p>
      <p>Configurar <code class="code">MinActiveInstancesPercent</code> em seu <code class="code">UpdatePolicy</code> também afetará as instâncias executadas em resposta ao fato de a propriedade <code class="code">DesiredCapacity</code> no recurso <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-as-group.html"><code class="code">AWS::AutoScaling::AutoScalingGroup</code></a> ser maior do que a capacidade desejada atual desse grupo do Auto Scaling.</p>
      <p><em>Padrão</em>: <code class="code">100</code></p>
      <p><em>Tipo</em>: inteiro</p>
      <p><em>Obrigatório</em>: não</p>
     </dd>
     
          <dt id="cfn-attributes-updatepolicy-rollingupdate-mininstancesinservice"><span class="term"><code class="code">MinInstancesInService</code></span></dt>
          <dd>
            <p>Especifica o número mínimo de instâncias que devem estar em serviço dentro do grupo de Auto Scaling enquanto o CloudFormation atualiza as instâncias antigas. Esse valor deve ser menor que o <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-as-group.html#cfn-as-group-maxsize"><code class="code">MaxSize</code></a> do grupo do Auto Scaling.</p>
            <p><em>Padrão</em>: <code class="code">0</code></p>
            <p><em>Tipo</em>: inteiro</p>
            <p><em>Obrigatório</em>: não</p>
          </dd>
         
          <dt id="cfn-attributes-updatepolicy-rollingupdate-minsuccessfulinstancespercent"><span class="term"><code class="code">MinSuccessfulInstancesPercent</code></span></dt>
          <dd>
            <p>Especifica que porcentagem de instâncias em uma atualização sem interrupção do Auto Scaling deve sinalizar sucesso para que uma atualização seja bem-sucedida. É possível especificar um valor de <code class="code">0</code> a <code class="code">100</code>. O CloudFormation arredonda para o décimo mais próximo de um percentual. Por exemplo, se você atualizar cinco instâncias com uma porcentagem mínima de êxito de <code class="code">50</code>, três instâncias deverão sinalizar sucesso.</p>
            <p>Se uma instância não enviar um sinal no tempo especificado na propriedade <code class="code">PauseTime</code>, o CloudFormation entenderá que a instância não foi atualizada.</p>
            <p>Se você especificar essa propriedade, deverá também habilitar as propriedades <code class="code">WaitOnResourceSignals</code> e <code class="code">PauseTime</code>.</p>
            <p>O parâmetro <code class="code">MinSuccessfulInstancesPercent</code> se aplica somente a instâncias apenas com a finalidade de sinalização. Para especificar o número de instâncias no seu grupo do Auto Scaling, consulte as propriedades <code class="code">MinSize</code>, <code class="code">MaxSize</code> e <code class="code">DesiredCapacity</code> para o recurso <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-as-group.html"><code class="code">AWS::AutoScaling::AutoScalingGroup</code></a>.</p>
            <p><em>Padrão</em>: <code class="code">100</code></p>
            <p><em>Tipo</em>: inteiro</p>
            <p><em>Obrigatório</em>: não</p>

            <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Importante</h6></div><div class="awsdocs-note-text"><p>Quando a propriedade <code class="code">MinSuccessfulInstancesPercent</code> estiver definida como <code class="code">0</code>, o CloudFormation esperará que 0% das instâncias de capacidade estejam em um estado <code class="code">InService</code>. O <code class="code">MinSuccessfulInstancesPercent</code> retornará imediatamente e antes de considerar o status do grupo do Auto Scaling como <code class="code">Update
                  Complete</code> para passar para os recursos subsequentes que são definidos no modelo da pilha.</p><p>Se outros grupos do Auto Scaling estiverem definidos no modelo do CloudFormation, eles serão atualizados simultaneamente. Quando todos os grupos do Auto Scaling são implantados de uma só vez com 0% das instâncias de capacidade em um estado <code class="code">InService</code>, você terá problemas de disponibilidade, pois nenhuma instância atenderá ao tráfego do cliente.</p><p>O CloudFormation recomenda que <code class="code">MinSuccessfulInstancesPercent</code> seja definido como um valor maior que 0, permitindo que instâncias mínimas razoáveis sejam verificadas antes de considerar a conclusão de uma atualização de grupos do Auto Scaling.</p></div></div>

          </dd>

         
          <dt id="cfn-attributes-updatepolicy-rollingupdate-pausetime"><span class="term"><code class="code">PauseTime</code></span></dt>
          <dd>
            <p>A quantidade de tempo que o CloudFormation pausa após fazer uma alteração em um lote de instâncias para dar a elas tempo para iniciar aplicações de software. Por exemplo, pode ser necessário especificar <code class="code">PauseTime</code> quando aumentar o número de instâncias em um grupo de Auto Scaling.</p>
            <p>Se você habilitar a propriedade <code class="code">WaitOnResourceSignals</code>, <code class="code">PauseTime</code> será a quantidade de tempo que o CloudFormation deve aguardar para que o grupo de Auto Scaling receba o número necessário de sinais válidos de instâncias adicionadas ou substituídas. Se <code class="code">PauseTime</code> for excedido antes de o grupo de Auto Scaling receber o número necessário de sinais, a atualização falhará. Para obter os melhores resultados, especifique um período de tempo que ofereça às aplicações tempo suficiente para começar. Se a atualização precisar ser revertida, um curto <code class="code">PauseTime</code> pode fazer com que a reversão falhe.</p>
            <p>Especifique <code class="code">PauseTime</code> no formato de duração <a href="http://en.wikipedia.org/wiki/ISO_8601#Durations" rel="noopener noreferrer" target="_blank"><span>ISO8601</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> (no formato <code class="code">PT<code class="replaceable">#</code>H<code class="replaceable">#</code>M<code class="replaceable">#</code>S</code>, em que cada <code class="replaceable">#</code> é o número de horas, minutos e segundos, respectivamente). O <code class="code">PauseTime</code> máximo é de uma hora (<code class="code">PT1H</code>).</p>
            <p><em>Padrão</em>: <code class="code">PT1H</code> (1 hora) quando a propriedade <code class="code">WaitOnResourceSignals</code> estiver definida como <code class="code">true</code>.</p>
            <p><em>Tipo:</em> string</p>
            <p><em>Obrigatório</em>: não</p>
          </dd>
         
          <dt id="cfn-attributes-updatepolicy-rollingupdate-suspendprocesses"><span class="term"><code class="code">SuspendProcesses</code></span></dt>
          <dd>
            <p>Especifica os processos do Auto Scaling a serem suspensos durante uma atualização de pilha. A suspensão de processos impede que o Auto Scaling interfira na atualização da pilha. Por exemplo, você pode suspender alarmes para que o Amazon EC2 Auto Scaling não inicie políticas de escalabilidade associadas a um alarme. Para obter os valores válidos, consulte o parâmetro <code class="code">ScalingProcesses.member.N</code> da ação <a href="https://docs.aws.amazon.com/autoscaling/ec2/APIReference/API_SuspendProcesses.html">SuspendProcesses</a> em <em>Referência da API do Amazon EC2 Auto Scaling</em>.</p>
            <p><em>Padrão</em>: não especificado</p>
            <p><em>Tipo</em>: Lista de processos de Auto Scaling</p>
            <p><em>Obrigatório</em>: não</p>
          </dd>
         
          <dt id="cfn-attributes-updatepolicy-rollingupdate-waitonresourcesignals"><span class="term"><code class="code">WaitOnResourceSignals</code></span></dt>
          <dd>
            <p>Especifica se o grupo do Auto Scaling aguardará sinais de novas instâncias durante uma atualização. Use essa propriedade para garantir que as instâncias concluam a instalação e a configuração de aplicações, antes que a atualização do grupo do Auto Scaling continue. O AWS CloudFormation suspende a atualização de um grupo do Auto Scaling depois que novas instâncias do EC2 são executadas no grupo. O AWS CloudFormation deve receber um sinal de cada instância nova dentro do <code class="code">PauseTime</code> especificado para continuar a atualização. Para sinalizar o grupo de Auto Scaling, use o script de ajuda <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-signal.html">cfn-signal</a> ou a API <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_SignalResource.html"><code class="code">SignalResource</code></a>.</p>
            <p>Para que as instâncias esperem por uma verificação de integridade do Elastic Load Balancing antes de sinalizar sucesso, adicione uma verificação de integridade usando o script de ajuda <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-init.html">cfn-init</a>. Para ver um exemplo, consulte o comando <code class="code">verify_instance_health</code> no modelo de exemplo <a href="https://github.com/awslabs/aws-cloudformation-templates/blob/master/aws/services/AutoScaling/AutoScalingRollingUpdates.yaml" rel="noopener noreferrer" target="_blank"><span>Auto Scaling rolling updates</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
            <p><em>Padrão</em>: <code class="code">true</code></p>
            <p><em>Tipo</em>: booliano</p>
            <p><em>Obrigatório:</em> condicional. Se você especificar a propriedade <code class="code">MinSuccessfulInstancesPercent</code>, deverá também habilitar as propriedades <code class="code">WaitOnResourceSignals</code> e <code class="code">PauseTime</code>.</p>
          </dd>
        </dl></div>
     
   
    <h2 id="cfn-attributes-updatepolicy-scheduledactions">Política AutoScalingScheduledAction</h2>

    <p>Para especificar como o AWS CloudFormation lida com as atualizações das propriedades <code class="code">MinSize</code>, <code class="code">MaxSize</code> e <code class="code">DesiredCapacity</code> quando o recurso <code class="code">AWS::AutoScaling::AutoScalingGroup</code> tem uma ação programada associada, use a política <code class="code">AutoScalingScheduledAction</code>.</p>
    <p>Com as ações programadas, as propriedades de tamanho de um grupo do Auto Scaling podem mudar a qualquer momento. Quando você atualiza uma pilha com um grupo de Auto Scaling e uma ação programada, o CloudFormation sempre define os valores das propriedades de tamanho do seu grupo de Auto Scaling como os valores definidos no recurso <code class="code">AWS::AutoScaling::AutoScalingGroup</code> do seu modelo, mesmo que uma ação programada esteja em vigor.</p>
    <p>Se você não quiser que o CloudFormation altere os valores das propriedades de tamanho do grupo quando tiver uma ação programada em vigor, use a política de atualização <code class="code">AutoScalingScheduledAction</code> e defina <code class="code">IgnoreUnmodifiedGroupSizeProperties</code> como <code class="code">true</code> para impedir que o CloudFormation altere as propriedades <code class="code">MinSize</code>, <code class="code">MaxSize</code> ou <code class="code">DesiredCapacity</code>, a menos que esses valores tenham sido modificados no seu modelo.</p>
     
      <h3 id="cfn-attributes-updatepolicy-scheduledactions-syntax">Sintaxe</h3>

      <div id="JSON" name="JSON" class="section langfilter">
        <h4 id="aws-attribute-updatepolicy-scheduledactions-syntax.json">JSON</h4>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"UpdatePolicy" : <span>{</span>
  "<a href="#cfn-attributes-updatepolicy-scheduledactions">AutoScalingScheduledAction</a>" : <span>{</span>
    "<a href="#cfn-attributes-updatepolicy-scheduledactions-ignoreunmodifiedgroupsizeproperties">IgnoreUnmodifiedGroupSizeProperties</a>" : <code class="replaceable">Boolean</code>
  }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h4 id="aws-attribute-updatepolicy-scheduledactions-syntax.yaml">YAML</h4>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">UpdatePolicy:
  <a href="#cfn-attributes-updatepolicy-scheduledactions">AutoScalingScheduledAction</a>:
    <a href="#cfn-attributes-updatepolicy-scheduledactions-ignoreunmodifiedgroupsizeproperties">IgnoreUnmodifiedGroupSizeProperties</a>: <code class="replaceable">Boolean</code></code></pre>
      </div>
     
     
      <h3 id="cfn-attributes-updatepolicy-scheduledactions-properties">Propriedades</h3>

      <div class="variablelist">
         
      <dl>
          <dt id="cfn-attributes-updatepolicy-scheduledactions-ignoreunmodifiedgroupsizeproperties"><span class="term"><code class="code">IgnoreUnmodifiedGroupSizeProperties</code></span></dt>
          <dd>
            <p>Se <code class="code">true</code>, o AWS CloudFormation ignora as diferenças nas propriedades de tamanho do grupo entre o grupo do Auto Scaling atual e o grupo do Auto Scaling descrito no recurso <code class="code">AWS::AutoScaling::AutoScalingGroup</code> do modelo durante uma atualização de pilha. Se você modificar qualquer um dos valores de propriedade de tamanho do grupo em seu modelo, o AWS CloudFormation usará os valores modificados e as atualizações do seu grupo do Auto Scaling.</p>
            <p><em>Padrão</em>: <code class="code">false</code></p>
            <p><em>Tipo</em>: booliano</p>
            <p><em>Obrigatório</em>: não</p>
          </dd>
        </dl></div>
     
   
    <h2 id="cfn-attributes-updatepolicy-useonlineresharding">Política UseOnlineResharding</h2>
    <p>Para modificar os estilhaços de um grupo de replicação, adicionando ou removendo estilhaços, em vez de substituir todo o recurso <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-elasticache-replicationgroup.html">AWS::ElastiCache::ReplicationGroup</a>, utilize a política de atualização <code class="code">UseOnlineResharding</code>.</p>
    <p>Se <code class="code">UseOnlineResharding</code> estiver definido como <code class="code">true</code>, você poderá atualizar as propriedades <code class="code">NumNodeGroups</code> e <code class="code">NodeGroupConfiguration</code> do recurso <code class="code">AWS::ElastiCache::ReplicationGroup</code> e o CloudFormation atualizará essas propriedades sem interrupção. Quando <code class="code">UseOnlineResharding</code> estiver definido como <code class="code">false</code>, ou não estiver especificado, a atualização das propriedades <code class="code">NumNodeGroups</code> e <code class="code">NodeGroupConfiguration</code> fará com que o CloudFormation substitua todo o recurso de <code class="code">AWS::ElastiCache::ReplicationGroup</code>.</p>
    <p>A política de atualização de <code class="code">UseOnlineResharding</code> não tem propriedades.</p>
    <p>Coisas a considerar ao definir a política de atualização de <code class="code">UseOnlineResharding</code> para <code class="code">true</code>:</p>
    <div class="itemizedlist">
       
       
       
    <ul class="itemizedlist"><li class="listitem">
        <p>É altamente recomendável que você execute as atualizações para as propriedades de <code class="code">NumNodeGroups</code> e <code class="code">NodeGroupConfiguration</code> como sendo as únicas atualizações em uma determinada operação de atualização da pilha.</p>
        <p>A atualização da configuração do grupo de nós de um grupo de replicação é uma operação com uso intensivo de recursos. Se uma atualização de pilha falhar, o CloudFormation não reverterá as alterações na configuração de grupo de nós de um grupo de replicação. No entanto, o CloudFormation reverterá quaisquer outras propriedades que foram alteradas como parte da operação de atualização que falhou.</p>
      </li><li class="listitem">
        <p>Todas as atualizações de grupos de nós exigem a identificação de todos os grupos de nós.</p>
        <p>Se você especificar a propriedade de <code class="code">NodeGroupConfiguration</code>, precisará especificar também o NodeGroupId para a configuração de cada grupo de nós para que o CloudFormation atualize o número de nós sem interrupção.</p>
        <p>Ao criar um grupo de replicação, se você não especificar um ID para cada grupo de nós, o ElastiCache gerará automaticamente um ID para cada grupo de nós. Para atualizar o grupo de replicação sem interrupção, use o console do ElastiCache (<a href="https://console.aws.amazon.com/elasticache/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/elasticache/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>) ou <a href="https://docs.aws.amazon.com/AmazonElastiCache/latest/APIReference/API_DescribeReplicationGroups.html">DescribeReplicationGroups</a> para recuperar os IDs para todos os grupos de nós do grupo de replicações. Em seguida, especifique o ID para cada grupo de nós no seu modelo de pilha antes de tentar adicionar ou remover estilhaços.</p>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Como uma prática recomendada, ao criar um grupo de replicação em um modelo de pilha, inclua um ID para cada grupo de nós que você especificar.</p></div></div>
        <p>Além disso, a atualização do número de nós sem interrupção requer que você tenha especificado com precisão as propriedades <code class="code">PrimaryAvailabilityZone</code>, <code class="code">ReplicaAvailabilityZones</code> e <code class="code">ReplicaCount</code> para cada <code class="code">NodeGroupConfiguration</code> também. Você pode usar o console ElastiCache (<a href="https://console.aws.amazon.com/elasticache/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/elasticache/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>) ou <a href="https://docs.aws.amazon.com/AmazonElastiCache/latest/APIReference/API_DescribeReplicationGroups.html">DescribeReplicationGroups</a> para recuperar os valores reais para cada grupo de nós e compará-los com os valores no seu modelo de pilha. Você pode atualizar os valores de propriedades dos groups de nós como uma atualização de pilha separada ou como parte da mesma atualização da pilha que altera o número de grupos de nós.</p>
        <p>Quando você usa uma política de atualização de <code class="code">UseOnlineResharding</code> para atualizar o número de grupos de nós sem interrupção, o ElastiCache distribui uniformemente os espaços de chave entre o número especificado de slots. Isso não pode ser atualizado mais tarde. Portanto, depois de atualizar o número de grupos de nós dessa forma, você deve remover o valor especificado para a propriedade <code class="code">Slots</code> de cada <code class="code">NodeGroupConfiguration</code> do modelo de pilha, uma vez que ele já não reflete mais os valores reais em cada grupo de nós.</p>
      </li><li class="listitem">
        <p>Os resultados reais da remoção do grupo de nós podem variar</p>
        <p>Quando você especifica um valor de <code class="code">NumNodeGroups</code> menor que o número atual de grupos de nós, o CloudFormation instrui o ElastiCache para remover o maior número de grupos de nós possível para alcançar o número especificado de nós. No entanto, o ElastiCache pode não ser sempre capaz de remover o número desejado de grupos de nós. Caso o ElastiCache não possa remover o número desejado de grupos de nós, o CloudFormation gera um evento de pilha com alertas sobre isso. Nos casos em que o ElastiCache não puder remover <em>quaisquer</em> grupos de nós, a atualização do recurso CloudFormation falhará.</p>
      </li></ul></div>
    <p>Para obter mais informações sobre como modificar grupos de replicação, consulte <a href="https://docs.aws.amazon.com/AmazonElastiCache/latest/APIReference/API_ModifyReplicationGroupShardConfiguration.html">ModifyReplicationGroupShardConfiguration</a> no <em>Amazon ElastiCache API Reference</em>.</p>

     
      <h3 id="cfn-attributes-updatepolicy-useonlineresharding-syntax">Sintaxe</h3>
      <div id="JSON" name="JSON" class="section langfilter">
        <h4 id="cfn-attributes-updatepolicy-useonlineresharding-syntax.json">JSON</h4>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"UpdatePolicy" : <span>{</span>
  "<a href="#cfn-attributes-updatepolicy-useonlineresharding">UseOnlineResharding</a>" : <code class="replaceable">Boolean</code>
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h4 id="cfn-attributes-updatepolicy-useonlineresharding-syntax.yaml">YAML</h4>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">UpdatePolicy:
  <a href="#cfn-attributes-updatepolicy-useonlineresharding">UseOnlineResharding</a>: <code class="replaceable">Boolean</code></code></pre>
      </div>
     
   
    <h2 id="cfn-attributes-updatepolicy-upgradeopensearchdomain">Política EnableVersionUpgrade</h2>

    <p>Para atualizar um domínio do OpenSearch Service para uma nova versão do OpenSearch ou do Elasticsearch, em vez de substituir todo o recurso <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-opensearchservice-domain.html">AWS::OpenSearchService::Domain</a> ou <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-elasticsearch-domain.html">AWS::Elasticsearch::Domain</a> use a política de atualização <code class="code">EnableVersionUpgrade</code>.</p>
    <p>Se <code class="code">EnableVersionUpgrade</code> estiver definida como <code class="code">true</code>, você poderá atualizar a propriedade <code class="code">EngineVersion</code> do recurso <code class="code">AWS::OpenSearchService::Domain</code> (ou a propriedade <code class="code">ElasticsearchVersion</code> do recurso <code class="code">AWS::Elasticsearch::Domain</code> legado) e o CloudFormation atualizará essa propriedade sem interrupções.. Quando <code class="code">EnableVersionUpgrade</code> estiver definida como <code class="code">false</code> ou não estiver especificada, a atualização da propriedade <code class="code">EngineVersion</code> ou <code class="code">ElasticsearchVersion</code> fará com que o CloudFormation substitua o recurso <code class="code">AWS::OpenSearchService::Domain</code>/<code class="code">AWS::Elasticsearch::Domain</code> inteiro.</p>
    <p>A política de atualização de <code class="code">EnableVersionUpgrade</code> não tem propriedades.</p>
    <p>Para obter mais informações sobre como atualizar domínios do OpenSearch Service, consulte <a href="https://docs.aws.amazon.com/opensearch-service/latest/developerguide/configuration-api.html#configuration-api-actions-upgrade-domain">UpgradeDomain</a> no Guia do desenvolvedor do Amazon OpenSearch Service.</p>

     
      <h3 id="cfn-attributes-updatepolicy-upgradeopensearchdomain-syntax">Sintaxe</h3>

      <div id="JSON" name="JSON" class="section langfilter">
        <h4 id="cfn-attributes-updatepolicy-upgradeopensearchdomain-syntax.json">JSON</h4>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"UpdatePolicy" : <span>{</span>
  "<a href="#cfn-attributes-updatepolicy-upgradeopensearchdomain">EnableVersionUpgrade</a>" : <code class="replaceable">Boolean</code>
}</code></pre>
      </div>

      <div id="YAML" name="YAML" class="section langfilter">
        <h4 id="cfn-attributes-updatepolicy-upgradeopensearchdomain-syntax.yaml">YAML</h4>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">UpdatePolicy:
  <a href="#cfn-attributes-updatepolicy-upgradeopensearchdomain">EnableVersionUpgrade</a>: <code class="replaceable">Boolean</code></code></pre>
      </div>

     

   
    <h2 id="cfn-attributes-updatepolicy-codedeploylambdaaliasupdate">Política de atualização do CodeDeployLambdaAlias</h2>

    <p>Para executar uma implantação do CodeDeploy quando a versão for alterada em um recurso de <code class="code">AWS::Lambda::Alias</code> use a política de atualização <code class="code">CodeDeployLambdaAliasUpdate</code>.</p>
     
      <h3 id="cfn-attributes-updatepolicy-codedeploylambdaaliasupdate-syntax">Sintaxe</h3>

      <div id="JSON" name="JSON" class="section langfilter">
        <h4 id="aws-attribute-updatepolicy-codedeploylambdaaliasupdate-syntax.json">JSON</h4>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"UpdatePolicy" : <span>{</span>
  "<a href="#cfn-attributes-updatepolicy-codedeploylambdaaliasupdate">CodeDeployLambdaAliasUpdate</a>" : <span>{</span>
    "<a href="#cfn-attributes-updatepolicy-codedeploylambdaaliasupdate-afterallowtraffichook">AfterAllowTrafficHook</a>" : <code class="replaceable">String</code>,
    "<a href="#cfn-attributes-updatepolicy-codedeploylambdaaliasupdate-applicationname">ApplicationName</a>" : <code class="replaceable">String</code>,
    "<a href="#cfn-attributes-updatepolicy-codedeploylambdaaliasupdate-beforeallowtraffichook">BeforeAllowTrafficHook</a>" : <code class="replaceable">String</code>,
    "<a href="#cfn-attributes-updatepolicy-codedeploylambdaaliasupdate-deploymentgroupname">DeploymentGroupName</a>" : <code class="replaceable">String</code>
  }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h4 id="aws-attribute-updatepolicy-codedeploylambdaaliasupdate-syntax.yaml">YAML</h4>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">UpdatePolicy:
  <a href="#cfn-attributes-updatepolicy-codedeploylambdaaliasupdate">CodeDeployLambdaAliasUpdate</a>:
    <a href="#cfn-attributes-updatepolicy-codedeploylambdaaliasupdate-afterallowtraffichook">AfterAllowTrafficHook</a>: <code class="replaceable">String</code>
    <a href="#cfn-attributes-updatepolicy-codedeploylambdaaliasupdate-applicationname">ApplicationName</a>: <code class="replaceable">String</code>
    <a href="#cfn-attributes-updatepolicy-codedeploylambdaaliasupdate-beforeallowtraffichook">BeforeAllowTrafficHook</a>: <code class="replaceable">String</code>
    <a href="#cfn-attributes-updatepolicy-codedeploylambdaaliasupdate-deploymentgroupname">DeploymentGroupName</a>: <code class="replaceable">String</code></code></pre>
      </div>
     
     
      <h3 id="aws-attribute-updatepolicy-codedeploylambdaaliasupdate-properties">Propriedades</h3>

      <div class="variablelist">
         
         
         
         
      <dl>
          <dt id="cfn-attributes-updatepolicy-codedeploylambdaaliasupdate-afterallowtraffichook"><span class="term"><code class="code">AfterAllowTrafficHook</code></span></dt>
          <dd>
            <p>O nome da função do Lambda a ser executada depois que o roteamento do tráfego for concluído.</p>
            <p><em>Obrigatório</em>: não</p>
            <p><em>Tipo:</em> string</p>
          </dd>
         
          <dt id="cfn-attributes-updatepolicy-codedeploylambdaaliasupdate-applicationname"><span class="term"><code class="code">ApplicationName</code></span></dt>
          <dd>
            <p>O nome da aplicação do CodeDeploy.</p>
            <p><em>Obrigatório</em>: Sim</p>
            <p><em>Tipo:</em> string</p>
          </dd>
         
          <dt id="cfn-attributes-updatepolicy-codedeploylambdaaliasupdate-beforeallowtraffichook"><span class="term"><code class="code">BeforeAllowTrafficHook</code></span></dt>
          <dd>
            <p>O nome da função do Lambda a ser executada antes do início do roteamento do tráfego.</p>
            <p><em>Obrigatório</em>: não</p>
            <p><em>Tipo:</em> string</p>
          </dd>
         
          <dt id="cfn-attributes-updatepolicy-codedeploylambdaaliasupdate-deploymentgroupname"><span class="term"><code class="code">DeploymentGroupName</code></span></dt>
          <dd>
            <p>O nome do grupo de implantação do CodeDeploy. Esse é o local em que a política de mudança de tráfego é definida.</p>
            <p><em>Obrigatório</em>: Sim</p>
            <p><em>Tipo:</em> string</p>
          </dd>
        </dl></div>
      <p>Para obter um exemplo que especifica o atributo <code class="code">UpdatePolicy</code> para um recurso <code class="code">AWS::Lambda::Alias</code>, consulte <a href="#aws-resource-lambda-alias-example">Política de atualização de alias do Lambda</a>.</p>
     
   
    <h2 id="aws-attribute-updatepolicy-examples">Exemplos</h2>
    <p>Os exemplos a seguir mostram como adicionar uma política de atualização a um grupo do Auto Scaling e como manter a disponibilidade ao atualizar metadados.</p>
     
      <h3 id="w9aac34c23c23c23b5">Adicionar uma <code class="code">UpdatePolicy</code> a um grupo do Auto Scaling</h3>

      <p>O exemplo a seguir mostra como adicionar uma política de atualização. Durante uma atualização, o grupo do Auto Scaling atualiza as instâncias em lotes de dois e mantém no mínimo uma instância em serviço. Como o sinalizador <code class="code">WaitOnResourceSignals</code> está definido, o grupo de Auto Scaling aguarda pelas novas instâncias que serão adicionadas ao grupo. As novas instâncias devem sinalizar ao grupo do Auto Scaling antes que ele atualize o próximo lote de instâncias.</p>
      <div id="JSON" name="JSON" class="section langfilter">
        <h4 id="attribute-updatepolicy-example-1.json">JSON</h4>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"ASG" : <span>{</span>
   "Type" : "AWS::AutoScaling::AutoScalingGroup",
   "Properties" : <span>{</span>
      "AvailabilityZones" : [
         "us-east-1a",
         "us-east-1b"
      ],
      "DesiredCapacity" : "1",
      "LaunchConfigurationName" : <span>{</span>
         "Ref" : "LaunchConfig"
      },
      "MaxSize" : "4",
      "MinSize" : "1"
   },
   "UpdatePolicy" : <span>{</span>
      "AutoScalingScheduledAction" : <span>{</span>
         "IgnoreUnmodifiedGroupSizeProperties" : "true"
      },
      "AutoScalingRollingUpdate" : <span>{</span>
         "MinInstancesInService" : "1",
         "MaxBatchSize" : "2",
         "WaitOnResourceSignals" : "true",
         "PauseTime" : "PT10M"
      }
   }
 },
"ScheduledAction" : <span>{</span>
   "Type" : "AWS::AutoScaling::ScheduledAction",
   "Properties" : <span>{</span>
      "AutoScalingGroupName" : <span>{</span>
         "Ref" : "ASG"
      },
      "DesiredCapacity" : "2",
      "StartTime" : "2017-06-02T20 : 00 : 00Z"
   }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h4 id="attribute-updatepolicy-example-1.yaml">YAML</h4>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">ASG:
  Type: 'AWS::AutoScaling::AutoScalingGroup'
  Properties:
    AvailabilityZones:
    - us-east-1a
    - us-east-1b
    DesiredCapacity: '1'
    LaunchConfigurationName:
      Ref: LaunchConfig
    MaxSize: '4'
    MinSize: '1'
  UpdatePolicy:
    AutoScalingScheduledAction:
      IgnoreUnmodifiedGroupSizeProperties: 'true'
    AutoScalingRollingUpdate:
      MinInstancesInService: '1'
      MaxBatchSize: '2'
      WaitOnResourceSignals: 'true'
      PauseTime: PT10M
ScheduledAction:
  Type: 'AWS::AutoScaling::ScheduledAction'
  Properties:
    AutoScalingGroupName:
      Ref: ASG
    DesiredCapacity: '2'
    StartTime: '2017-06-02T20 : 00 : 00Z'</code></pre>
      </div>
     
     
      <h3 id="w9aac34c23c23c23b7">Política AutoScalingReplacingUpdate</h3>

      <p>O exemplo a seguir declara uma política que impõe um grupo do Auto Scaling associado a ser substituído durante uma atualização. Para que a atualização seja bem-sucedida, uma porcentagem de instâncias (especificada pelo parâmetro <code class="code">MinSuccessfulPercentParameter</code>) deve sinalizar o sucesso dentro do período de <code class="code">Timeout</code>.</p>
      <div id="JSON" name="JSON" class="section langfilter">
        <h4 id="attribute-updatepolicy-example-2.json">JSON</h4>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"UpdatePolicy" : <span>{</span>
  "AutoScalingReplacingUpdate" : <span>{</span>
    "WillReplace" : "true"
  }
},
"CreationPolicy" : <span>{</span>
  "ResourceSignal" : <span>{</span>
    "Count" : <span>{</span> "Ref" : "ResourceSignalsOnCreate"},
    "Timeout" : "PT10M"
  },
  "AutoScalingCreationPolicy" : <span>{</span>
    "MinSuccessfulInstancesPercent" : <span>{</span> "Ref" : "MinSuccessfulPercentParameter" }
  }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h4 id="attribute-updatepolicy-example-2.yaml">YAML</h4>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">UpdatePolicy:
  AutoScalingReplacingUpdate:
    WillReplace: 'true'
CreationPolicy:
  ResourceSignal:
    Count: !Ref 'ResourceSignalsOnCreate'
    Timeout: PT10M
  AutoScalingCreationPolicy:
    MinSuccessfulInstancesPercent: !Ref 'MinSuccessfulPercentParameter'</code></pre>
      </div>
     
     
      <h3 id="w9aac34c23c23c23b9">Manter a disponibilidade ao atualizar os metadados do script auxiliar cfn-init</h3>

      <p>Ao instalar aplicações de software em instâncias, você pode usar as chaves de metadados <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-init.html"><code class="code">AWS::CloudFormation::Init</code></a> e o script de ajuda <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-init.html"><code>cfn-init</code></a> para inicializar as instâncias no grupo do Auto Scaling. O CloudFormation instala os pacotes, executa os comandos e realiza outras ações de inicialização descritas nos metadados.</p>
      <p>Ao atualiza apenas os metadados (por exemplo, atualizar um pacote para outra versão), você pode usar o daemon de ajuda <code><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-hup.html">cfn-hup</a></code> para detectar e aplicar as atualizações. No entanto, o daemon <code>cfn-hup</code> será executado de forma independente em cada instância. Se o daemon for executado ao mesmo tempo em todas as instâncias, sua aplicação ou serviço poderá estar indisponível durante a atualização. Para garantir a disponibilidade, force uma atualização sem interrupção para que o CloudFormation atualize as instâncias um lote por vez.</p>
      <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Importante</h6></div><div class="awsdocs-note-text"><p>Forçar uma atualização sem interrupção requer que o CloudFormation crie uma instância nova e, em seguida, exclua a antiga. Todas as informações armazenadas na instância antiga serão perdidas.</p></div></div>
      <p>Para forçar uma atualização sem interrupção, altere o ID lógico do recurso de configuração de execução e, em seguida, atualize a pilha e quaisquer referências que apontam para o ID lógico original (como o grupo do Auto Scaling associado). O CloudFormation aciona uma atualização sem interrupção no grupo do Auto Scaling, substituindo todas as instâncias.</p>
     
     
      <h3 id="w9aac34c23c23c23c11">Modelo original</h3>

      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"LaunchConfig": <span>{</span>
  "Type" : "AWS::AutoScaling::LaunchConfiguration",
  "Metadata" : <span>{</span>
    "Comment" : "Install a simple PHP application",
    "AWS::CloudFormation::Init" : <span>{</span>
    ...
    }
  }
}</code></pre>
     
     
      <h3 id="w9aac34c23c23c23c13">Atualização do ID lógico</h3>

      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"<b>LaunchConfigUpdateRubygemsPkg</b>": <span>{</span>
  "Type" : "AWS::AutoScaling::LaunchConfiguration",
  "Metadata" : <span>{</span>
    "Comment" : "Install a simple PHP application",
    "AWS::CloudFormation::Init" : <span>{</span>
    ...
    }
  }
}</code></pre>
     
     
      <h3 id="aws-resource-lambda-alias-example">Política de atualização de alias do Lambda</h3>
      <p>O exemplo a seguir especifica o atributo <code class="code">UpdatePolicy</code> para um recurso <code class="code">AWS::Lambda::Alias</code>. Todos os detalhes da implantação são definidos pela aplicação e pelo grupo de implantação passados para a política.</p>
      <div id="JSON" name="JSON" class="section langfilter">
        <h4 id="aws-attribute-updatepolicy-codedeploylambda.json">JSON</h4>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Alias": <span>{</span>
  "Type": "AWS::Lambda::Alias",
  "Properties": <span>{</span>
    "FunctionName": <span>{</span>
      "Ref": "LambdaFunction"
    },
    "FunctionVersion": <span>{</span>
      "Fn::GetAtt": [
        "FunctionVersionTwo",
        "Version"
      ]
    },
    "Name": "MyAlias"
  },
  "UpdatePolicy": <span>{</span>
    "CodeDeployLambdaAliasUpdate": <span>{</span>
      "ApplicationName": <span>{</span>
        "Ref": "CodeDeployApplication"
      },
      "DeploymentGroupName": <span>{</span>
        "Ref": "CodeDeployDeploymentGroup"
      },
      "BeforeAllowTrafficHook": <span>{</span>
        "Ref": "PreHookLambdaFunction"
      },
      "AfterAllowTrafficHook": <span>{</span>
        "Ref": "PreHookLambdaFunction"
      }
    }
  }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h4 id="aws-attribute-updatepolicy-codedeploylambda-example.yaml">YAML</h4>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Alias:
  Type: 'AWS::Lambda::Alias'
  Properties:
    FunctionName: !Ref LambdaFunction
    FunctionVersion: !GetAtt FunctionVersionTwo.Version
    Name: MyAlias
  UpdatePolicy:
    CodeDeployLambdaAliasUpdate:
      ApplicationName: !Ref CodeDeployApplication
      DeploymentGroupName: !Ref CodeDeployDeploymentGroup
      BeforeAllowTrafficHook: !Ref PreHookLambdaFunction
      AfterAllowTrafficHook: !Ref PreHookLambdaFunction</code></pre>
      </div>
     
  <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Atenção" /> <strong>O Javascript está desativado ou não está disponível no seu navegador.</strong></p><p>Para usar a documentação da AWS, o Javascript deve estar ativado. Consulte as páginas de Ajuda do navegador para obter instruções.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenções do documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./aws-attribute-metadata.html">Metadata</div><div id="next" class="next-link" accesskey="n" href="./aws-attribute-updatereplacepolicy.html">UpdateReplacePolicy</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Essa página foi útil? - Sim</div><div class="content"><p>Obrigado por nos informar que estamos fazendo um bom trabalho!</p><p>Se tiver tempo, conte-nos sobre o que você gostou para que possamos melhorar ainda mais.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Essa página foi útil? - Não</div><div class="content"><p>Obrigado por nos informar que precisamos melhorar a página. Lamentamos ter decepcionado você.</p><p>Se tiver tempo, conte-nos como podemos melhorar a documentação.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>