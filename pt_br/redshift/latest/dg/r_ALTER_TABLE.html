<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="pt-BR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>ALTER TABLE - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_ALTER_TABLE" /><meta name="default_state" content="r_ALTER_TABLE" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_ALTER_TABLE.html" /><meta name="description" content="Altera a definição de uma tabela do Amazon Redshift. Esse comando atualiza os valores e propriedades definidos por ou ." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guia do desenvolvedor de banco de dados" /><meta name="abstract" content="Crie e gerencie um data warehouse com o Amazon Redshift, um serviço de data warehouse totalmente gerenciado, em escala de petabyte e de nível empresarial." /><meta name="guide-locale" content="pt_br" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_ALTER_TABLE.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_ALTER_TABLE.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guia do desenvolvedor de banco de dados" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guia do desenvolvedor de banco de dados" /><meta id="panorama-serviceConsolePage" value="ALTER TABLE" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>ALTER TABLE - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#r_ALTER_TABLE" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_ALTER_TABLE.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_ALTER_TABLE.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_ALTER_TABLE.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,desenvolvedor,dados de amostra,banco de dados,desenvolvedor do banco de dados,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guia do desenvolvedor de banco de dados",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Referência SQL",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Comandos SQL",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "ALTER TABLE",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c_SQL_commands.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#r_ALTER_TABLE" target="_blank" rel="noopener noreferrer" title="Abrir em PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentação</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guia do desenvolvedor de banco de dados</a></div><div id="page-toc-src"><a href="#r_ALTER_TABLE-privileges">Privilégios obrigatórios</a><a href="#r_ALTER_TABLE-synopsis">Sintaxe</a><a href="#r_ALTER_TABLE-parameters">Parâmetros</a><a href="#r_ALTER_TABLE-examples">Exemplos</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="r_ALTER_TABLE">ALTER TABLE</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Esse comando altera a definição de uma tabela do Amazon Redshift ou de uma tabela externa do Amazon Redshift Spectrum. Esse comando atualiza os valores e propriedades definidos por <a href="./r_CREATE_TABLE_NEW.html">CRIAR TABELA</a> ou <a href="./r_CREATE_EXTERNAL_TABLE.html">CREATE EXTERNAL TABLE</a>.</p><p>Não é possível executar ALTER TABLE em uma tabela externa em um bloco de transação (BEGIN ... END). Para obter mais informações sobre transações, consulte <a href="./c_serial_isolation.html">Isolamento serializável</a>. </p><p>ALTER TABLE bloqueia a tabela para operações de leitura e gravação até que a transação envolvendo a operação ALTER TABLE seja concluída, a menos que seja especificamente indicado na documentação que você pode consultar dados ou executar outras operações na tabela enquanto ela estiver sendo alterada.</p>
         <h2 id="r_ALTER_TABLE-privileges">Privilégios obrigatórios</h2>
         <p>O usuário que altera uma tabela precisa do privilégio adequado para que o comando seja bem-sucedido. Dependendo do comando ALTER TABLE, é necessário um dos privilégios a seguir.</p>
         <div class="itemizedlist">
             
             
             
         <ul class="itemizedlist"><li class="listitem"><p>Superusuário</p></li><li class="listitem"><p>Usuários com o privilégio ALTER TABLE</p></li><li class="listitem"><p>Proprietário da tabela com o privilégio USAGE no esquema</p></li></ul></div>
       
         <h2 id="r_ALTER_TABLE-synopsis">Sintaxe</h2>
         





         <pre class="screen">ALTER TABLE <em>table_name</em>
<span>{</span>
ADD <em>table_constraint</em>
| DROP CONSTRAINT <em>constraint_name</em> [ RESTRICT | CASCADE ]
| OWNER TO <em>new_owner</em>
| RENAME TO <em>new_name</em>
| RENAME COLUMN <em>column_name</em> TO <em>new_name</em>
| ALTER COLUMN <em>column_name</em> TYPE <em>updated_varchar_data_type_size</em>
| ALTER COLUMN <em>column_name</em> ENCODE <em>new_encode_type</em>
| ALTER COLUMN <em>column_name</em> ENCODE <em>encode_type</em>,
| ALTER COLUMN <em>column_name</em> ENCODE <em>encode_type</em>, .....;
| ALTER DISTKEY <em>column_name</em>
| ALTER DISTSTYLE ALL
| ALTER DISTSTYLE EVEN
| ALTER DISTSTYLE KEY DISTKEY <em>column_name</em>
| ALTER DISTSTYLE AUTO
| ALTER [COMPOUND] SORTKEY ( <em>column_name</em> [,...] )
| ALTER SORTKEY AUTO
| ALTER SORTKEY NONE
| ALTER ENCODE AUTO
| ADD [ COLUMN ] <em>column_name column_type</em>
  [ DEFAULT <em>default_expr</em> ]
  [ ENCODE <em>encoding</em> ]
  [ NOT NULL | NULL ]
  [ COLLATE <span>{</span> CASE_SENSITIVE | CASE_INSENSITIVE } ] |
| DROP [ COLUMN ] <em>column_name</em> [ RESTRICT | CASCADE ] 
| ROW LEVEL SECURITY <span>{</span> ON | OFF } [ CONJUNCTION TYPE <span>{</span> AND | OR } ] [ FOR DATASHARES ]}

where <em>table_constraint</em> is:

[ CONSTRAINT <em>constraint_name</em> ]
<span>{</span> UNIQUE ( <em>column_name</em> [, ... ] )
| PRIMARY KEY ( <em>column_name</em> [, ... ] )
| FOREIGN KEY (<em>column_name</em> [, ... ] )
   REFERENCES  <em>reftable</em> [ ( <em>refcolumn</em> ) ]}

The following options apply only to external tables:

SET LOCATION <span>{</span> 's3://<em>bucket/folder</em>/' | 's3://<em>bucket/manifest_file</em>' }
| SET FILE FORMAT <em>format</em> |
| SET TABLE PROPERTIES ('<em>property_name</em>'='<em>property_value</em>')
| PARTITION ( partition_column=partition_value [, ...] )
  SET LOCATION <span>{</span> 's3://<em>bucket</em>/<em>folder</em>' |'s3://<em>bucket</em>/<em>manifest_file</em>' }
| ADD [IF NOT EXISTS]
    PARTITION ( partition_column=partition_value [, ...] ) LOCATION <span>{</span> 's3://<em>bucket</em>/<em>folder</em>' |'s3://<em>bucket</em>/<em>manifest_file</em>' }
    [, ... ]
| DROP PARTITION ( <em>partition_column</em>=<em>partition_value</em> [, ...] )  </pre>
         
         <p>Para reduzir o tempo de execução do comando ALTER TABLE, você pode combinar algumas cláusulas do comando ALTER TABLE.</p>
         <p>O Amazon Redshift oferece suporte às seguintes combinações de cláusulas de ALTER TABLE:</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">ALTER TABLE <em>tablename</em> ALTER SORTKEY (<em>column_list</em>), ALTER DISTKEY <em>column_Id</em>;
ALTER TABLE <em>tablename</em> ALTER DISTKEY <em>column_Id</em>, ALTER SORTKEY (<em>column_list</em>);
ALTER TABLE <em>tablename</em> ALTER SORTKEY (<em>column_list</em>), ALTER DISTSTYLE ALL;
ALTER TABLE <em>tablename</em> ALTER DISTSTYLE ALL, ALTER SORTKEY (<em>column_list</em>);</code></pre>

              
         
         

         

            
         <h2 id="r_ALTER_TABLE-parameters">Parâmetros</h2>
         <div class="variablelist">
             
             
             
             
             
             
             
            
             
            
             
            
             
            
             
            
             
            
             


            
             


            
             

            
             
             
            
            
             

             
             
             
             
            
             
             
             
            
             
             
             
         <dl>
               <dt><span class="term"> <em>table_name</em> </span></dt>
               <dd>
                  <p>Nome da tabela a ser alterada. Especifique somente o nome da tabela ou use o formato <em>schema_name.table_name</em> para usar um esquema específico. As tabelas externas devem ser qualificadas por um nome de esquema externo. Você também poderá especificar um nome de exibição se estiver usando a instrução ALTER TABLE para renomear ou alterar o proprietário de uma exibição. O tamanho máximo de um nome de tabela é 127 bytes; nomes mais longos são truncados para ter no máximo 127 bytes. É possível usar caracteres multibyte UFT-8 até um máximo de quatro bytes. Para obter mais informações sobre nomes válidos, consulte <a href="./r_names.html">Nomes e identificadores</a>.</p>
               </dd>
             
               <dt><span class="term">ADD <em>restrição_tabela</em> </span></dt>
               <dd>
                  <p>Cláusula que adiciona a restrição especificada à tabela. Para descrições de valores de <em>table_constraint</em> válidos, consulte <a href="./r_CREATE_TABLE_NEW.html">CRIAR TABELA</a>.</p>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Não é possível adicionar uma restrição de chave primária a uma coluna anulável. Se a coluna tiver sido criada originalmente com a restrição NOT NULL, é possível adicionar uma restrição de chave primária.</p></div></div>
               </dd>
             
               <dt><span class="term">DROP CONSTRAINT <em>nome_restrição</em> </span></dt>
               <dd>
                  <p>Cláusula que remove a restrição denominada da tabela. Para remover uma restrição, especifique o nome da restrição, não o tipo. Para visualizar nomes de restrições de tabelas, execute a consulta a seguir.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select constraint_name, constraint_type
from information_schema.table_constraints;</code></pre>
               </dd>
             
               <dt><span class="term">RESTRICT </span></dt>
               <dd>
                  <p>Cláusula que remove somente a restrição especificada. RESTRICT é uma opção para o comando DROP CONSTRAINT. RESTRICT não pode ser usada com CASCADE. </p>
               </dd>
             
               <dt><span class="term">CASCADE </span></dt>
               <dd>
                  <p>Cláusula que remove a restrição especificada e qualquer dependência dessa restrição. CASCADE é uma opção para o comando DROP CONSTRAINT. CASCADE não pode ser usada com RESTRICT.</p>
               </dd>
             
               <dt><span class="term">OWNER TO <em>novo_proprietário</em> </span></dt>
               <dd>
                  <p>Cláusula que altera o proprietário da tabela (ou exibição) para o valor <em>new_owner</em>.</p>
               </dd>
             
               <dt><span class="term">RENAME TO <em>novo_nome</em> </span></dt>
               <dd>
                  <p>Cláusula que renomeia uma tabela (ou exibição) para o valor especificado em <em>new_name</em>. O tamanho máximo do nome da tabela é 127 bytes; nomes mais longos são truncados para ter no máximo 127 bytes.</p>
                  <p>Não é possível renomear uma tabela permanente para um nome que comece com '#'. '#' no início do nome é indicação de uma tabela temporária.</p>
                  <p>Você não pode renomear uma tabela externa.</p>
               </dd>
             
               <dt><span class="term">ALTER COLUMN <em>column_name</em> TYPE <em>updated_varchar_data_type_size</em> </span></dt>
               <dd>
                  
                  
                  
                  <p>Uma cláusula que altera o tamanho de uma coluna definida como um tipo de dados VARCHAR. Essa cláusula só oferece suporte à alteração do tamanho de um tipo de dado VARCHAR. Considere as seguintes limitações:</p>
                  <div class="itemizedlist">
                      
                      
                      
                      
                      
                     
                  <ul class="itemizedlist"><li class="listitem">
                        <p>Não é possível alterar uma coluna com as codificações de compactação BYTEDICT, RUNLENGTH, TEXT255 ou TEXT32K. </p>
                     </li><li class="listitem">
                        <p>Você não reduzir o tamanho para menos que o tamanho máximo dos dados existentes. </p>
                     </li><li class="listitem">
                        <p>Não é possível alterar colunas com valores padrão </p>
                     </li><li class="listitem">
                        <p>Não é possível alterar colunas com UNIQUE, PRIMARY KEY ou FOREIGN KEY. </p>
                     </li><li class="listitem">
                        <p>Não é possível alterar colunas em um bloco de transação (BEGIN ... END). Para obter mais informações sobre transações, consulte <a href="./c_serial_isolation.html">Isolamento serializável</a>. </p>
                     </li></ul></div>
                  
               </dd>
             
               <dt><span class="term">ALTER COLUMN <em>column_name</em> ENCODE <em>new_encode_type</em> </span></dt>
               <dd>

                  <p>Cláusula que altera a codificação de compactação de uma coluna. Se você especificar a codificação de compactação para uma coluna, a tabela não será mais definida como ENCODE AUTO. Para obter informações sobre a codificação de compactação, consulte <a href="./t_Compressing_data_on_disk.html">Trabalhar com compactação de coluna</a>. </p>
                  <p>Quando você altera a codificação de compactação para uma coluna, a tabela permanece disponível para consulta.</p>
                  <p>Considere as seguintes limitações:</p>
                  <div class="itemizedlist">
                      
                      


                  <ul class="itemizedlist"><li class="listitem">
                        <p>Você não pode alterar uma coluna para a mesma codificação definida atualmente para a coluna. </p>
                     </li><li class="listitem">
                        <p>Não é possível alterar a codificação de uma coluna em uma tabela com uma chave de classificação intercalada. </p>
                     </li></ul></div>

               </dd>
             
               <dt><span class="term">ALTER COLUMN <em>column_name</em> ENCODE <em>encode_type</em>, ALTER COLUMN <em>column_name</em> ENCODE <em>encode_type</em>, .....; </span></dt>
               <dd>

                  <p>Uma cláusula que altera a codificação de compactação de várias colunas em um único comando. Para obter informações sobre a codificação de compactação, consulte <a href="./t_Compressing_data_on_disk.html">Trabalhar com compactação de coluna</a>.</p>
                  <p>Quando você altera a codificação de compactação para uma coluna, a tabela permanece disponível para consulta.</p>
                    <p> Considere as seguintes limitações:</p>
                  <div class="itemizedlist">
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem"><p>Você não pode alterar uma coluna para o mesmo tipo de codificação ou uma diferente várias vezes em um único comando.</p></li><li class="listitem"><p>Você não pode alterar uma coluna para a mesma codificação definida atualmente para a coluna. </p></li><li class="listitem">
                        <p>Não é possível alterar a codificação de uma coluna em uma tabela com uma chave de classificação intercalada. </p>
                     </li></ul></div>
               </dd>
             
               <dt><span class="term">ALTER DISTSTYLE ALL</span></dt>
               <dd>
                  <p>Uma cláusula que altera o estilo de distribuição existente de uma tabela para <code class="code">ALL</code>. Considere o seguinte:</p>
                  <div class="itemizedlist">
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>ALTER DISTSTYLE, ALTER SORTKEY e VACUUM não podem ser executados simultaneamente na mesma tabela. </p>
                        <div class="itemizedlist">
                            
                            
                        <ul class="itemizedlist"><li class="listitem">
                              <p>Se VACUUM estiver sendo executado no momento, a execução ALTER DISTSTYLE ALL retornará um erro. </p>
                           </li><li class="listitem">
                              <p>Se ALTER DISTSTYLE ALL estiver em execução, a limpeza em segundo plano não será iniciada em uma tabela. </p>
                           </li></ul></div>
                     </li><li class="listitem">
                        <p>O comando ALTER DISTSTYLE ALL não é compatível com tabelas com chaves de classificação intercaladas e tabelas temporárias.</p>
                     </li><li class="listitem"><p>Se o estilo de distribuição foi definido anteriormente como AUTO, a tabela não é mais um candidato para otimização automática de tabela. </p></li></ul></div>
                  <p>Para mais informações sobre DISTSTYLE ALL, consulte <a href="./r_CREATE_TABLE_NEW.html">CRIAR TABELA</a>.</p>
               </dd>
             
               <dt><span class="term">ALTER DISTSTYLE EVEN</span></dt>
               <dd>
                  
                  <p>Uma cláusula que altera o estilo de distribuição existente de uma tabela para <code class="code">EVEN</code>. Considere o seguinte:</p>
                  <div class="itemizedlist">
                      
                      
                      

                  <ul class="itemizedlist"><li class="listitem">
                        <p>Um ALTER DISTSYTLE, ALTER SORTKEY e VACUUM não podem ser executados simultaneamente na mesma tabela. </p>
                        <div class="itemizedlist">
                            
                            
                        <ul class="itemizedlist"><li class="listitem">
                              <p>Se VACUUM estiver sendo executado no momento, a execução ALTER DISTSTYLE EVEN retornará um erro. </p>
                           </li><li class="listitem">
                              <p>Se ALTER DISTSTYLE EVEN estiver em execução, o vacuum em segundo plano não será iniciado em uma tabela. </p>
                           </li></ul></div>
                     </li><li class="listitem"><p>O comando ALTER DISTSTYLE EVEN não é compatível com tabelas com chaves de classificação intercaladas nem com tabelas temporárias.</p></li><li class="listitem"><p>Se o estilo de distribuição foi definido anteriormente como AUTO, a tabela não é mais um candidato para otimização automática de tabela. </p> </li></ul></div>


                  <p>Para obter mais informações sobre DISTSTYLE EVEN, consulte <a href="./r_CREATE_TABLE_NEW.html">CRIAR TABELA</a>.</p>

               </dd>
             
               <dt><span class="term">ALTER DISTKEY <em>column_name</em> ou ALTER DISTSTYLE KEY DISTKEY <em>column_name</em></span></dt>
               <dd>
                  <p>Uma cláusula que altera a coluna usada como a chave de distribuição da tabela. Considere o seguinte:</p>
                  <div class="itemizedlist">
                     
                      
                      
                     
                     
                      

                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>VACUUM e ALTER DISTKEY não podem ser executados ao mesmo tempo na mesma tabela. </p>
                        <div class="itemizedlist">
                            
                            
                            
                        <ul class="itemizedlist"><li class="listitem">
                              <p>Se VACUUM já estiver sendo executado, então, ALTER DISTKEY retornará um erro.</p>
                           </li><li class="listitem">
                              <p>Se ALTER DISTKEY estiver em execução, a limpeza em segundo plano não será iniciada na tabela.</p>
                           </li><li class="listitem">
                              <p>Se ALTER DISTKEY estiver sendo executado, a limpeza em primeiro plano retornará um erro.</p>
                           </li></ul></div>
                     </li><li class="listitem">
                        <p>Você só pode executar um comando ALTER DISTKEY por vez em uma tabela. </p>
                     </li><li class="listitem">
                        <p>O comando ALTER DISTKEY não é compatível com tabelas com chaves de classificação intercalada. </p>
                     </li><li class="listitem"><p>Se o estilo de distribuição foi definido anteriormente como AUTO, a tabela não é mais um candidato para otimização automática de tabela. </p> </li></ul></div>
                  
                  <p>Ao especificar DISTSTYLE KEY, os dados são distribuídos pelos valores na coluna DISTKEY. Para mais informações sobre DISTSTYLE, consulte <a href="./r_CREATE_TABLE_NEW.html">CRIAR TABELA</a>.</p>
               </dd>
             
               <dt><span class="term">ALTER DISTSTYLE AUTO</span></dt>
               <dd>
                  <p>Uma cláusula que altera o estilo de distribuição existente de uma tabela para AUTO. </p>

                  <p>Quando você altera um estilo de distribuição para AUTO, o estilo de distribuição da tabela é definido para o seguinte: </p>
                     
                    <div class="itemizedlist">
                        
                        
                        
                        
                        
                        
                    <ul class="itemizedlist"><li class="listitem"><p>Uma pequena tabela com DISTSTYLE ALL é convertida em AUTO(ALL). </p></li><li class="listitem"><p>Uma pequena tabela com DISTSTYLE EVEN é convertida em AUTO(ALL). </p></li><li class="listitem"><p>Uma pequena tabela com DISTSTYLE KEY é convertida em AUTO(ALL). </p></li><li class="listitem"><p>Uma grande tabela com DISTSTYLE ALL é convertida em AUTO(EVEN). </p></li><li class="listitem"><p>Uma grande tabela com DISTSTYLE EVEN é convertida em AUTO(EVEN). </p></li><li class="listitem"><p>Uma tabela grande com DISTSTYLE KEY é convertida em AUTO(KEY) e a DISTKEY é mantida. Nesse caso, o Amazon Redshift não faz alterações na tabela.</p></li></ul></div>

                  <p>Se o Amazon Redshift determinar que um novo estilo de distribuição ou chave melhorará a performance das consultas, o Amazon Redshift poderá alterar o estilo de distribuição ou a chave da sua tabela no futuro. Por exemplo, o Amazon Redshift pode converter uma tabela com um DISTSTYLE de AUTO(KEY) em AUTO(EVEN), ou vice-versa. Para obter mais informações sobre o comportamento quando as chaves de distribuição são alteradas, incluindo redistribuição de dados e bloqueios, consulte <a href="https://docs.aws.amazon.com/redshift/latest/dg/advisor-recommendations.html#alter-diststyle-distkey-recommendation">Recomendações do Amazon Redshift Advisor</a>.</p>

                  <p>Para mais informações sobre DISTSTYLE AUTO, consulte <a href="./r_CREATE_TABLE_NEW.html">CRIAR TABELA</a>. </p>


                  <p>Para exibir o estilo de distribuição de uma tabela, consulte a visualização do catálogo do sistema SVV_TABLE_INFO. Para obter mais informações, consulte <a href="./r_SVV_TABLE_INFO.html">SVV_TABLE_INFO</a>. Para exibir as recomendações do Amazon Redshift Advisor para tabelas, consulte a visualização do catálogo do sistema SVV_ALTER_TABLE_RECOMMENDATIONS. Para obter mais informações, consulte <a href="./r_SVV_ALTER_TABLE_RECOMMENDATIONS.html">SVV_ALTER_TABLE_RECOMMENDATIONS</a>. Para exibir as ações executadas pelo Amazon Redshift, consulte a visualização do catálogo do sistema SVL_AUTO_WORKER_ACTION. Para obter mais informações, consulte <a href="./r_SVL_AUTO_WORKER_ACTION.html">SVL_AUTO_WORKER_ACTION</a>. </p>

               </dd>
             
               <dt><span class="term">ALTER [COMPOUND] SORTKEY ( <em>column_name</em> [,...] )</span></dt>
               <dd>
                  <p>Uma cláusula que altera ou adiciona a chave de classificação usada para uma tabela. </p>
                  <p>Quando você altera uma chave de classificação, a codificação de compactação de colunas na chave de classificação nova ou original pode ser alterada. Se nenhuma codificação for explicitamente definida para a tabela, o Amazon Redshift atribuirá automaticamente codificações de compactação da seguinte forma:</p>
                  <div class="itemizedlist">
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>Colunas que são definidas como chaves de classificação são designadas a compactação RAW.</p>
                     </li><li class="listitem">
                        <p>Colunas que são definidas como tipos de dados BOOLEAN, REAL ou DOUBLE PRECISION recebem a compactação RAW.</p>
                     </li><li class="listitem">

                        <p>As colunas definidas como SMALLINT, INTEGER, BIGINT, DECIMAL, DATE, TIME, TIMETZ, TIMESTAMP ou TIMESTAMPTZ recebem a compactação AZ64.</p>

                     </li><li class="listitem">
                        <p>As colunas definidas como CHAR ou VARCHAR recebem a compactação LZO.</p>
                     </li></ul></div>
                  <p>Considere o seguinte:</p>
                  <div class="itemizedlist">
                      
                     
                      
                     
                      
                     
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>Você pode definir um máximo de 400 colunas para uma chave de classificação por tabela. </p>
                     </li><li class="listitem">
                        <p>É possível alterar uma chave de classificação intercalada para uma chave de classificação composta ou nenhuma chave de classificação. Porém, não é possível alterar uma chave de classificação composta para uma chave de classificação intercalada. </p>
                        
                     </li><li class="listitem"><p>Se a chave de classificação tiver sido definida anteriormente como AUTO, a tabela não será mais candidata à otimização automática da tabela. </p> </li><li class="listitem">
                        <p>O Amazon Redshift recomenda o uso de codificação RAW (sem compactação) para colunas definidas como chaves de classificação. Quando você altera uma coluna para escolhê-la como uma chave de classificação, a compactação da coluna é alterada para compactação RAW (sem compactação). Isso pode aumentar a quantidade de armazenamento necessária pela tabela. O quanto o tamanho da tabela aumenta depende da definição específica da tabela e do conteúdo da tabela. Para obter mais informações sobre compactação, consulte <a href="./c_Compression_encodings.html">Codificações de compactação</a>. </p>
                     </li></ul></div>
                  <p>Quando os dados são carregados em uma tabela, os dados são carregados na ordem da chave de classificação. Quando você altera a chave de classificação, o Amazon Redshift reorganiza os dados. Para obter mais informações sobre SORTKEY, consulte <a href="./r_CREATE_TABLE_NEW.html">CRIAR TABELA</a>.</p>
               </dd>
             
               <dt><span class="term">ALTER SORTKEY AUTO</span></dt>
               <dd>
                  <p>Uma cláusula que altera ou adiciona a chave de classificação da tabela de destino como AUTO. </p>

                  <p>Quando você altera uma chave de classificação para AUTO, o Amazon Redshift preserva a chave de classificação existente da tabela. </p>

                  


                  <p>Se o Amazon Redshift determinar que uma nova chave de classificação melhorará a performance das consultas, o Amazon Redshift poderá alterar a chave de classificação ou a chave da sua tabela futuramente. </p>

                  <p>Para obter mais informações sobre SORTKEY AUTO, consulte <a href="./r_CREATE_TABLE_NEW.html">CRIAR TABELA</a>. </p>

                     <p>Para exibir a chave de classificação de uma tabela, consulte a visualização do catálogo do sistema SVV_TABLE_INFO. Para obter mais informações, consulte <a href="./r_SVV_TABLE_INFO.html">SVV_TABLE_INFO</a>. Para exibir as recomendações do Amazon Redshift Advisor para tabelas, consulte a visualização do catálogo do sistema SVV_ALTER_TABLE_RECOMMENDATIONS. Para obter mais informações, consulte <a href="./r_SVV_ALTER_TABLE_RECOMMENDATIONS.html">SVV_ALTER_TABLE_RECOMMENDATIONS</a>. Para exibir as ações executadas pelo Amazon Redshift, consulte a visualização do catálogo do sistema SVL_AUTO_WORKER_ACTION. Para obter mais informações, consulte <a href="./r_SVL_AUTO_WORKER_ACTION.html">SVL_AUTO_WORKER_ACTION</a>. </p>
               </dd>
             
               <dt><span class="term">ALTER SORTKEY NONE</span></dt>
               <dd>
                  <p>Cláusula que remove a chave de classificação da tabela de destino. </p>

                  <p>Se a chave de classificação tiver sido definida anteriormente como AUTO, a tabela não será mais candidata à otimização automática da tabela. </p>
               </dd>
             
               <dt><span class="term">ALTER ENCODE AUTO</span></dt>
               <dd>
                  <p>Uma cláusula que altera o tipo de codificação das colunas da tabela de destino para AUTO. Quando você altera a codificação para AUTO, o Amazon Redshift preserva o tipo de codificação existente das colunas na tabela. Em seguida, se o Amazon Redshift determinar que um novo tipo de codificação pode melhorar a performance da consulta, o Amazon Redshift poderá alterar o tipo de codificação das colunas da tabela. </p>
                  <p>Se você alterar uma ou mais colunas para especificar uma codificação, o Amazon Redshift não ajustará mais automaticamente a codificação para todas as colunas da tabela. As colunas retêm as configurações de codificação atuais.</p>
                  <p>As seguintes ações não afetam a configuração ENCODE AUTO para a tabela: </p>
                  <div class="itemizedlist">
                      
                      
                      
                      

                  <ul class="itemizedlist"><li class="listitem"><p>Renomear a tabela.</p></li><li class="listitem"><p>Alterar a configuração DISTSTYLE ou SORTKEY para a tabela.</p></li><li class="listitem"><p>Adicionar ou eliminar uma coluna com uma configuração ENCODE.</p></li><li class="listitem"><p>Usar a opção COMPUPDATE do comando COPY. Para obter mais informações, consulte <a href="./copy-parameters-data-load.html"> Operações de carregamento de dados</a>.</p></li></ul></div>
                  <p>Para exibir a codificação de uma tabela, consulte a visualização do catálogo do sistema SVV_TABLE_INFO. Para obter mais informações, consulte <a href="./r_SVV_TABLE_INFO.html">SVV_TABLE_INFO</a>.</p>
            </dd>

             
               <dt><span class="term">RENAME COLUMN <em>column_name</em> TO <em>new_name</em> </span></dt>
               <dd>
                  <p>Cláusula que renomeia uma coluna para o valor especificado em <em>new_name</em>. O tamanho máximo do nome da coluna é 127 bytes; nomes mais longos são truncados para ter no máximo 127 bytes. Para obter mais informações sobre nomes válidos, consulte <a href="./r_names.html">Nomes e identificadores</a>.</p>
               </dd>
             
               <dt><span class="term">ADD [ COLUMN ] <em>nome_coluna</em> </span></dt>
               <dd>
                  <p>Cláusula que adiciona uma coluna com o nome especificado à tabela. Só é possível adicionar uma coluna em cada instrução ALTER TABLE.</p>
                  <p>Não é possível adicionar uma coluna que é a chave de distribuição (DISTKEY) ou uma chave de classificação (SORTKEY) da tabela.</p>
                  <p> Não é possível usar o comando ALTER TABLE ADD COLUMN para modificar os atributos da tabela e da coluna a seguir: </p>
                  <div class="itemizedlist">
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>UNIQUE</p>
                     </li><li class="listitem">
                        <p>PRIMARY KEY</p>
                     </li><li class="listitem">
                        <p>REFERENCES (chave externa)</p>
                     </li><li class="listitem">
                        <p>IDENTITY ou GENERATED BY DEFAULT AS IDENTITY</p>
                     </li></ul></div>
                  <p>O tamanho máximo do nome da coluna é 127 bytes; nomes mais longos são truncados para ter no máximo 127 bytes. O número máximo de colunas que você pode definir em uma única tabela é 1.600.</p>
                  <p>As seguintes restrições são aplicadas ao adicionar uma coluna a uma tabela externa:</p>
                  <div class="itemizedlist">
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>Você não pode adicionar uma coluna a uma tabela externa com a restrições de coluna DEFAULT, ENCODE, NOT NULL ou NULL. </p>
                     </li><li class="listitem">
                        <p>Você não pode adicionar colunas a uma tabela externa definida usando o formato de arquivo AVRO. </p>
                     </li><li class="listitem">
                        <p>Se pseudocolunas estiverem habilitadas, o número máximo de colunas que poderá ser definido em uma única tabela externa será 1.598. Se pseudocolunas não estiverem habilitadas, o número máximo de colunas que poderá ser definido em uma única tabela será 1.600. </p>
                     </li></ul></div>
                  <p>Para obter mais informações, consulte <a href="./r_CREATE_EXTERNAL_TABLE.html">CREATE EXTERNAL TABLE</a>.</p>
               </dd>
             
               <dt><span class="term"> <em>column_type</em> </span></dt>
               <dd>
                  <p>O tipo de dados da coluna que está sendo adicionada. Para as colunas CHAR e VARCHAR, é possível usar a palavra-chave MAX em vez de declarar o tamanho máximo. MAX define o tamanho máximo de CHAR para 4.096 bytes ou de VARCHAR para 65.535 bytes. O tamanho máximo de um objeto GEOMETRY é 1.048.447 bytes. </p>
                  <p>Para obter mais informações sobre os tipos de dados que o Amazon Redshift aceita, consulte <a href="./c_Supported_data_types.html">Tipos de dados</a>.</p>
               </dd>
             
               <dt id="alter-table-default"><span class="term">DEFAULT <em>default_expr</em> </span></dt>
               <dd>
                  <p>Cláusula que atribui um valor de dados padrão à coluna. O tipo de dados <em>expr_padrão</em> deve ser compatível com o tipo de dados da coluna. O valor DEFAULT deve ser uma expressão sem variáveis. Não são permitidas subconsultas, referências cruzadas de outras colunas na tabela atual e funções definidas pelo usuário.</p>
                  <p><em>default_expr</em> é usado em qualquer operação INSERT que não especifique um valor para a coluna. Se não houver um valor padrão especificado, o valor padrão da coluna é nulo.</p>
                  <p>Se uma operação COPY encontrar um campo nulo em uma coluna com um valor DEFAULT e uma restrição NOT NULL, o comando COPY vai inserir o valor da <em>default_expr</em>. </p>
                  <p>DEFAULT não é compatível com tabelas externas.</p>
               </dd>
             
               <dt id="alter-table-encode"><span class="term">ENCODE <em>encoding</em> </span></dt>
               <dd>
                  <p>Codificação de compactação de uma coluna. Por padrão, o Amazon Redshift gerencia automaticamente a codificação de compactação para todas as colunas de uma tabela se você não especificar a codificação de compactação para qualquer coluna da tabela ou se especificar a opção ENCODE AUTO para a tabela.</p>
                  <p>Se você especificar a codificação de compactação para qualquer coluna na tabela ou se não especificar a opção ENCODE AUTO para a tabela, o Amazon Redshift atribuirá automaticamente a codificação de compactação às colunas para as quais você não especifica a codificação de compactação da seguinte maneira:</p>
                  <div class="itemizedlist">
                      
                      
                      
                      
                      
                     
                  <ul class="itemizedlist"><li class="listitem">
                        <p>Todas as colunas nas tabelas temporárias são atribuídas à compactação RAW como padrão.</p>
                     </li><li class="listitem">
                        <p>Colunas que são definidas como chaves de classificação são designadas a compactação RAW.</p>
                     </li><li class="listitem">
                        
                        <p>Colunas que são definidas como tipos de dados BOOLEAN, REAL, DOUBLE PRECISION, GEOMETRY ou GEOGRAPHY recebem a compactação RAW.</p>
                     </li><li class="listitem">

                        <p>As colunas definidas como SMALLINT, INTEGER, BIGINT, DECIMAL, DATE, TIME, TIMETZ, TIMESTAMP ou TIMESTAMPTZ recebem a compactação AZ64.</p>

                     </li><li class="listitem">
                        <p>As colunas definidas como CHAR, VARCHAR ou VARBYTE recebem a compactação LZO.</p>
                     </li></ul></div>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Se você não quiser que uma coluna seja compactada, especifique explicitamente codificação RAW.</p></div></div>
                  <p>Os seguintes <a href="./c_Compression_encodings.html#compression-encoding-list">compression encodings</a> são compatíveis:</p>
                  <div class="itemizedlist">
                     
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>AZ64</p>
                     </li><li class="listitem">
                        <p>BYTEDICT</p>
                     </li><li class="listitem">
                        <p>DELTA</p>
                     </li><li class="listitem">
                        <p>DELTA32K</p>
                     </li><li class="listitem">
                        <p>LZO</p>
                     </li><li class="listitem">
                        <p>MOSTLY8</p>
                     </li><li class="listitem">
                        <p>MOSTLY16</p>
                     </li><li class="listitem">
                        <p>MOSTLY32</p>
                     </li><li class="listitem">
                        <p>RAW (sem compactação)</p>
                     </li><li class="listitem">
                        <p>RUNLENGTH</p>
                     </li><li class="listitem">
                        <p>TEXT255</p>
                     </li><li class="listitem">
                        <p>TEXT32K</p>
                     </li><li class="listitem">
                        <p>ZSTD</p>
                     </li></ul></div>
                  <p>ENCODE não é compatível com tabelas externas.</p>
               </dd>
             
               <dt><span class="term">NOT NULL | NULL </span></dt>
               <dd>
                  <p>NOT NULL especifica que a coluna não deve conter valores nulos. NULL, o padrão, especifica que a coluna aceita valores nulos.</p>
                  <p>NOT NULL e NULL não são compatíveis com tabelas externas.</p>
               </dd>
             
               <dt><span class="term">COLLATE <span>{</span> CASE_SENSITIVE | CASE_INSENSITIVE }</span></dt>
               <dd>
                  <p>Uma cláusula que especifica se a pesquisa ou comparação de string na coluna é CASE_SENSITIVE ou CASE_INSENSITIVE. O valor padrão é o mesmo da configuração atual de diferenciação de maiúsculas e minúsculas do banco de dados.</p>
                  
                  <p>Para localizar as informações de agrupamento de banco de dados, use o seguinte comando:</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">SELECT db_collation();
                     
<code class="computeroutput" copy="false">db_collation
----------------
 case_sensitive
(1 row)</code></code></pre>
               </dd>
             
               <dt><span class="term">DROP [ COLUMN ] <em>column_name</em> </span></dt>
               <dd>
                  <p>Nome da coluna a ser excluída da tabela.</p>
                  <p>Você não pode descartar a última coluna de uma tabela. Uma tabela deve ter pelo menos uma coluna.</p>
                  <p>Não é possível descartar uma coluna que seja a chave de distribuição (DISTKEY) ou uma chave de classificação (SORTKEY) da tabela. Comportamento padrão de DROP COLUMN será RESTRICT se a coluna tiver qualquer objeto dependente, como uma exibição, uma chave primária, uma chave externa ou uma restrição UNIQUE.</p>
                  <p>As seguintes restrições são aplicadas ao remover uma coluna de uma tabela externa:</p>
                  <div class="itemizedlist">
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>Você não poderá descartar uma coluna de uma tabela externa se a coluna for usada como uma partição.</p>
                     </li><li class="listitem">
                        <p>Você não pode descartar uma coluna de uma tabela externa definida usando o formato de arquivo AVRO. </p>
                     </li><li class="listitem">
                        <p>RESTRICT e CASCADE são ignorados para tabelas externas.</p>
                     </li><li class="listitem"><p>Não é possível descartar as colunas da tabela de políticas referenciada dentro da definição de política, a menos que você descarte ou desanexe a política. Isso também se aplica quando a opção CASCADE é especificada. Você pode descartar outras colunas na tabela de políticas.</p></li></ul></div>

                  <p>Para obter mais informações, consulte <a href="./r_CREATE_EXTERNAL_TABLE.html">CREATE EXTERNAL TABLE</a>.</p>


               </dd>
             
               <dt><span class="term">RESTRICT </span></dt>
               <dd>
                  <p>Quando usado com DROP COLUMN, RESTRICT significa que a coluna a ser descartada não será descartada, nestes casos:</p>
                  <div class="itemizedlist">
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>Se uma visualização definida fizer referência à coluna que está sendo descartada</p>
                     </li><li class="listitem">
                        <p>Se uma chave externa fizer referência à coluna</p>
                     </li><li class="listitem">
                        <p>Se a coluna fizer parte de uma chave multipart</p>
                     </li></ul></div>
                  <p>RESTRICT não pode ser usada com CASCADE.</p>
                  <p>RESTRICT e CASCADE são ignorados para tabelas externas.</p>
               </dd>
             
               <dt><span class="term">CASCADE </span></dt>
               <dd>
                  <p>Quando usado com DROP COLUMN, remove a coluna especificada e qualquer objeto dependente dessa coluna. CASCADE não pode ser usada com RESTRICT.</p>
                  <p>RESTRICT e CASCADE são ignorados para tabelas externas.</p>
               </dd>
            </dl></div>
         <p>As opções a seguir se aplicam somente a tabelas externas.</p>
         <div class="variablelist">
             
             
             
             
             
             

             




            

            



         <dl>
               <dt><span class="term">SET LOCATION <span>{</span> 's3://<em>bucket/folder</em>/' | 's3://<em>bucket/manifest_file</em>' }</span></dt>
               <dd>
                  <p>O caminho para a pasta ou bucket do Amazon S3 que contém arquivos de dados ou um arquivo manifesto que contém uma lista de caminhos de objetos do Amazon S3. Os buckets devem estar na mesma região da AWS que o cluster do Amazon Redshift. Para obter uma lista de regiões da AWS compatíveis, consulte <a href="./c-using-spectrum.html#c-spectrum-considerations">Regiões do Amazon Redshift Spectrum</a>. Para obter mais informações sobre o uso de um arquivo manifesto, consulte LOCATION na referência CREATE EXTERNAL TABLE <a href="./r_CREATE_EXTERNAL_TABLE.html#r_CREATE_EXTERNAL_TABLE-parameters">Parâmetros</a>.</p>
               </dd>
             
               <dt><span class="term">SET FILE FORMAT <em>format</em></span></dt>
               <dd>
                  <p>Formato para arquivos de dados externos.</p>
                  <p>Os formatos válidos são:</p>
                  <div class="itemizedlist">
                      
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>AVRO </p>
                     </li><li class="listitem">
                        <p>PARQUET</p>
                     </li><li class="listitem">
                        <p>RCFILE</p>
                     </li><li class="listitem">
                        <p>SEQUENCEFILE</p>
                     </li><li class="listitem">
                        <p>TEXTFILE </p>
                     </li></ul></div>
               </dd>
             
               <dt><span class="term">SET TABLE PROPERTIES ( '<em>property_name</em>'='<em>property_value</em>') </span></dt>
               <dd>
                  <p>Uma cláusula que estabelece a definição da tabela de propriedades da tabela para uma tabela externa. </p>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>As propriedades de tabela fazem distinção entre maiúsculas e minúsculas.</p></div></div>
                  <div class="variablelist">
                      
                      
                  <dl>
                        <dt><span class="term">'numRows'='<em>row_count</em>' </span></dt>
                        <dd>
                           <p>Uma propriedade que define o valor de numRows para a definição da tabela. Para atualizar de maneira explícita as estatísticas de uma tabela externa, defina a propriedade numRows de maneira a indicar o tamanho da tabela. O Amazon Redshift não analisa as tabelas externas para gerar as estatísticas das tabelas que o otimizador de consultas utiliza para gerar um plano de consulta. Se as estatísticas da tabela não estiverem configuradas para uma tabela externa, o Amazon Redshift gerará um plano de execução de consulta. Tal plano é baseado em uma suposição de que as tabelas externas são as maiores e as tabelas locais são as menores.</p>
                        </dd>
                      
                        <dt><span class="term">'skip.header.line.count'='<em>line_count</em>'</span></dt>
                        <dd>
                           <p>Uma propriedade que define o número de linhas a serem ignoradas no início de cada arquivo de origem.</p>
                        </dd>
                     </dl></div>
               </dd>
             
               <dt><span class="term">PARTITION ( <em>partition_column</em>=<em>partition_value</em> [, ...] SET LOCATION <span>{</span> 's3://<em>bucket</em>/<em>folder</em>' | 's3://<em>bucket</em>/<em>manifest_file</em>' }</span></dt>
               <dd>
                  <p>Cláusula que define um novo local para uma ou mais colunas de partição. </p>
               </dd>
             
               <dt><span class="term">ADD [ IF NOT EXISTS ] PARTITION ( <em>partition_column</em>=<em>partition_value</em> [, ...] ) LOCATION <span>{</span> 's3://<em>bucket</em>/<em>folder</em>' | 's3://<em>bucket</em>/<em>manifest_file</em>' } [, ... ]</span></dt>
               <dd>
                  <p>Uma cláusula que adiciona uma ou mais partições. É possível especificar várias cláusulas PARTITION usando um único comando ALTER TABLE… ADD.</p>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Se usar o catálogo do AWS Glue, você poderá adicionar até 100 partições usando um único comando ALTER TABLE.</p></div></div>
                  <p>A cláusula IF NOT EXISTS indica que, se a partição especificada já existir, o comando não deverá fazer alterações. Também indica que o comando deverá retornar uma mensagem de que a partição existe, em vez de finalizar com um erro. Esta cláusula é útil para realizar scripting para que o script não falhe se o comando ALTER TABLE tentar adicionar uma partição que já existe. </p>
               </dd>
             
               <dt><span class="term">DROP PARTITION (<em>partition_column</em>=<em>partition_value</em> [, ...] ) </span></dt>
               <dd>
                  <p>Cláusula que remove a partição especificada. Remover uma partição altera somente os metadados da tabela externa. Os dados no Amazon S3 não são afetados.</p>
               </dd>
             
               <dt><span class="term">ROW LEVEL SECURITY <span>{</span> ON | OFF } [ CONJUNCTION TYPE <span>{</span> AND | OR } ] [ FOR DATASHARES ]</span></dt>
                     <dd><p>Uma cláusula que ativa ou desativa a segurança no nível da linha para uma relação.</p>
                        <p>Quando a segurança no nível da linha é ativada para uma relação, você só pode ler as linhas às quais a política de segurança no nível da linha permite acesso. Quando não há política que conceda acesso à relação, você não consegue ver nenhuma linha da tabela. Somente superusuários e usuários ou perfis que tenham o perfil <code class="code">sys:secadmin</code> podem definir a cláusula ROW LEVEL SECURITY. Para obter mais informações, consulte <a href="./t_rls.html">Segurança no nível da linha</a>.</p>
                  <div class="itemizedlist">
                      
                      
                  <ul class="itemizedlist"><li class="listitem"><p>[ CONJUNCTION TYPE <span>{</span> AND | OR } ] </p>
                        <p>Uma cláusula que permite a você escolher o tipo de conjunção da política de segurança no nível da linha para uma relação. Quando várias políticas de segurança no nível da linha são anexadas a uma relação, você pode combinar as políticas com a cláusula AND ou OR. Por padrão, o Amazon Redshift combina políticas RLS com a cláusula AND. Superusuários, usuários ou funções que tenham a função <code class="code">sys:secadmin</code> podem usar essa cláusula para definir o tipo de conjunção da política de segurança no nível da linha para uma relação. Para obter mais informações, consulte <a href="./t_rls_combine_policies.html">Combinar várias políticas por usuário</a>. </p></li><li class="listitem"><p>PARA UNIDADES DE COMPARTILHAMENTO DE DADOS</p>
                        <p>Uma cláusula que determina se uma relação protegida por RLS pode ser acessada por meio das unidades de compartilhamento de dados. Por padrão, uma relação protegida por RLS não pode ser acessada por meio de uma unidade de compartilhamento de dados. Um comando ALTER TABLE ROW LEVEL SECURITY executado com essa cláusula só afeta a propriedade de acessibilidade da unidade de compartilhamento de dados da relação. A propriedade ROW LEVEL SECURITY não foi alterada. </p>
                        <p> Se você tornar uma relação protegida por RLS acessível por meio de unidades de compartilhamentos de dados, a relação não terá segurança no nível da linha no banco de dados compartilhado no lado do consumidor. A relação mantém a propriedade RLS do lado do produtor. </p>
                     </li></ul></div>
               </dd>
            </dl></div>
       
            <h2 id="r_ALTER_TABLE-examples">Exemplos</h2>
            <p>Para exemplos que mostram como usar o comando ALTER TABLE, confira os tópicos a seguir.</p>
               <div class="itemizedlist">
                   
                   
                   
               <ul class="itemizedlist"><li class="listitem"><p><a href="./r_ALTER_TABLE_examples_basic.html">Exemplos de ALTER TABLE</a></p></li><li class="listitem"><p><a href="./r_ALTER_TABLE_external-table.html">Exemplos de ALTER EXTERNAL TABLE</a></p></li><li class="listitem"><p><a href="./r_ALTER_TABLE_COL_ex-add-drop.html">Exemplos de ALTER TABLE ADD e DROP COLUMN</a></p></li></ul></div>       
         <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Atenção" /> <strong>O Javascript está desativado ou não está disponível no seu navegador.</strong></p><p>Para usar a documentação da AWS, o Javascript deve estar ativado. Consulte as páginas de Ajuda do navegador para obter instruções.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenções do documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_ALTER_SYSTEM.html">ALTER SYSTEM</div><div id="next" class="next-link" accesskey="n" href="./r_ALTER_TABLE_examples_basic.html">Exemplos de ALTER TABLE</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Essa página foi útil? - Sim</div><div class="content"><p>Obrigado por nos informar que estamos fazendo um bom trabalho!</p><p>Se tiver tempo, conte-nos sobre o que você gostou para que possamos melhorar ainda mais.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_ALTER_TABLE.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Essa página foi útil? - Não</div><div class="content"><p>Obrigado por nos informar que precisamos melhorar a página. Lamentamos ter decepcionado você.</p><p>Se tiver tempo, conte-nos como podemos melhorar a documentação.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_ALTER_TABLE.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>