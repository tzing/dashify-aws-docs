<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="pt-BR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>CREATE EXTERNAL TABLE - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_CREATE_EXTERNAL_TABLE" /><meta name="default_state" content="r_CREATE_EXTERNAL_TABLE" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" /><meta name="description" content="Cria uma nova tabela externa no banco de dados atual." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guia do desenvolvedor de banco de dados" /><meta name="abstract" content="Crie e gerencie um data warehouse com o Amazon Redshift, um serviço de data warehouse totalmente gerenciado, em escala de petabyte e de nível empresarial." /><meta name="guide-locale" content="pt_br" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guia do desenvolvedor de banco de dados" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guia do desenvolvedor de banco de dados" /><meta id="panorama-serviceConsolePage" value="CREATE EXTERNAL TABLE" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>CREATE EXTERNAL TABLE - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#r_CREATE_EXTERNAL_TABLE" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,desenvolvedor,dados de amostra,banco de dados,desenvolvedor do banco de dados,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guia do desenvolvedor de banco de dados",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Referência SQL",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Comandos SQL",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "CREATE EXTERNAL TABLE",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c_SQL_commands.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#r_CREATE_EXTERNAL_TABLE" target="_blank" rel="noopener noreferrer" title="Abrir em PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentação</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guia do desenvolvedor de banco de dados</a></div><div id="page-toc-src"><a href="#r_CREATE_EXTERNAL_TABLE-privileges">Privilégios obrigatórios</a><a href="#r_CREATE_EXTERNAL_TABLE-synopsis">Sintaxe</a><a href="#r_CREATE_EXTERNAL_TABLE-parameters">Parâmetros</a><a href="#r_CREATE_EXTERNAL_TABLE_examples_link">Exemplos</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="r_CREATE_EXTERNAL_TABLE">CREATE EXTERNAL TABLE</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Cria uma nova tabela externa no esquema especificado. Todas as tabelas externas devem ser criadas em um esquema externo. O caminho de pesquisa não é compatível com esquemas e tabelas externos. Para obter mais informações, consulte <a href="./r_CREATE_EXTERNAL_SCHEMA.html">CREATE EXTERNAL SCHEMA</a>.</p><p>Além das tabelas externas criadas usando o comando de CREATE EXTERNAL TABLE, o Amazon Redshift pode fazer referência a tabelas externas definidas em um catálogo do AWS Glue ou do AWS Lake Formation ou em uma metastore do Apache Hive. Use o comando <a href="./r_CREATE_EXTERNAL_SCHEMA.html">CREATE EXTERNAL SCHEMA</a> para registrar um banco de dados externo definido no catálogo externo e disponibilize as tabelas externas para uso no Amazon Redshift. Se a tabela externa existir em um catálogo do AWS Glue ou do AWS Lake Formation ou na metastore do Hive, você não precisará criar uma tabela usando CREATE EXTERNAL TABLE. Para visualizar as tabelas externas, consulte a exibição do sistema <a href="./r_SVV_EXTERNAL_TABLES.html">SVV_EXTERNAL_TABLES</a>. </p><p>Ao executar o comando CREATE EXTERNAL TABLE AS, você cria uma tabela externa com base na definição da coluna de uma consulta e grava os resultados dessa consulta no Amazon S3. Os resultados estão no Apache Parquet ou no formato de texto delimitado. Se a tabela externa tiver uma chave ou chaves de partições, o Amazon Redshift particionará novos arquivos de acordo com essas chaves de partição e registrará novas partições no catálogo externo automaticamente. Para obter mais informações sobre CREATE EXTERNAL TABLE AS, consulte <a href="./r_CREATE_EXTERNAL_TABLE_usage.html">Observações de uso</a>. </p><p>Você pode consultar uma tabela externa usando a mesma sintaxe de SELECT que usa com outras tabelas do Amazon Redshift. Também é possível usar a sintaxe INSERT para gravar novos arquivos no local da tabela externa no Amazon S3. Para obter mais informações, consulte <a href="./r_INSERT_external_table.html">INSERT (tabela externa)</a>.</p><p>Para criar uma exibição com uma tabela externa, inclua a cláusula WITH NO SCHEMA BINDING na instrução <a href="./r_CREATE_VIEW.html">CREATE VIEW</a>.</p><p>Não é possível executar CREATE EXTERNAL TABLE em uma transação (BEGIN … END). Para obter mais informações sobre transações, consulte <a href="./c_serial_isolation.html">Isolamento serializável</a>. </p>
         <h2 id="r_CREATE_EXTERNAL_TABLE-privileges">Privilégios obrigatórios</h2>
         <p>Para criar tabelas externas, você deve ser proprietário do esquema externo ou um superusuário. Para transferir a propriedade de um esquema externo, use ALTER SCHEMA para alterar o proprietário. O acesso a tabelas externas é controlado pelo acesso ao esquema externo. Não é possível usar o comando <a href="./r_GRANT.html">GRANT</a> ou <a href="./r_REVOKE.html">REVOKE</a> para permissões em uma tabela externa. Em vez disso, conceda ou revogue USAGE no esquema externo.</p>
         <p>As <a href="./r_CREATE_EXTERNAL_TABLE_usage.html">Observações de uso</a> têm informações adicionais sobre permissões específicas para tabelas externas.</p>
       
         <h2 id="r_CREATE_EXTERNAL_TABLE-synopsis">Sintaxe</h2>
         <pre class="screen">CREATE EXTERNAL TABLE
<em>external_schema.table_name</em>
(<em>column_name</em> <em>data_type</em> [, …] )
[ PARTITIONED BY (<em>col_name</em> <em>data_type</em> [, … ] )]
[ <span>{</span> ROW FORMAT DELIMITED <em>row_format</em> |
  ROW FORMAT SERDE '<em>serde_name</em>'
  [ WITH SERDEPROPERTIES ( '<em>property_name</em>' = '<em>property_value</em>' [, ...] ) ] } ]
STORED AS <em>file_format</em>
LOCATION <span>{</span> 's3://<em>bucket/folder</em>/' | 's3://<em>bucket/manifest_file</em>' }
[ TABLE PROPERTIES ( '<em>property_name</em>'='<em>property_value</em>' [, ...] ) ]</pre>
         <p>Veja a seguir a sintaxe de CREATE EXTERNAL TABLE AS.</p>
         <pre class="screen">CREATE EXTERNAL TABLE
<em>external_schema.table_name</em>
[ PARTITIONED BY (<em>col_name</em> [, … ] ) ]
[ ROW FORMAT DELIMITED <em>row_format</em> ]
STORED AS <em>file_format</em>
LOCATION <span>{</span> 's3://<em>bucket/folder</em>/' }
[ TABLE PROPERTIES ( '<em>property_name</em>'='<em>property_value</em>' [, ...] ) ]
 AS
 <span>{</span> select_statement }
         </pre>
       
         <h2 id="r_CREATE_EXTERNAL_TABLE-parameters">Parâmetros</h2>
         <div class="variablelist">
             
             
             
             
             
             
             
             
            
             
         <dl>
               <dt><span class="term"> <em>external_schema.table_name</em> </span></dt>
               <dd>
                  <p>Nome da tabela a ser criada, qualificada por um nome de esquema externo. As tabelas externas devem ser criadas em um esquema externo. Para obter mais informações, consulte <a href="./r_CREATE_EXTERNAL_SCHEMA.html">CREATE EXTERNAL SCHEMA</a>.</p>
                  <p>O tamanho máximo de um nome de tabela é 127 bytes; nomes mais longos são truncados para ter no máximo 127 bytes. É possível usar caracteres multibyte UFT-8 até um máximo de quatro bytes. O Amazon Redshift aplica um limite de 9.900 tabelas por cluster, incluindo tabelas temporárias definidas pelo usuário e tabelas temporárias criadas pelo Amazon Redshift durante o processamento de consultas ou a manutenção do sistema. Como opção, é possível qualificar o nome da tabela com o nome do banco de dados. No exemplo a seguir, o nome do banco de dados é <code class="code">spectrum_db</code>, o nome do esquema externo é <code class="code">spectrum_schema</code> e o nome da tabela é <code class="code">test</code>.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">create external table spectrum_db.spectrum_schema.test (c1 int)
stored as parquet
location 's3://mybucket/myfolder/';</code></pre>
                  <p>Se o banco de dados ou esquema especificado não existir, a tabela não será criada e a instrução retornará um erro. Você não pode criar tabelas ou exibições nos bancos de dados do sistema <code class="code">template0</code>, <code class="code">template1</code>, <code class="code">padb_harvest</code> ou <code class="code">sys:internal</code>.</p>
                  <p>O nome da tabela deve ser exclusivo para o esquema especificado. </p>
                  <p>Para obter mais informações sobre nomes válidos, consulte <a href="./r_names.html">Nomes e identificadores</a>.</p>
               </dd>
             
               <dt><span class="term">( <em>nome_coluna</em> <em>tipo_dados</em> )</span></dt>
               <dd>
                  <p>O nome e o tipo de dados de cada coluna que está sendo criada.</p>
                  <p>O tamanho máximo de um nome de coluna é 127 bytes; nomes mais longos são truncados para ter no máximo 127 bytes. É possível usar caracteres multibyte UFT-8 até um máximo de quatro bytes. Você não pode especificar nomes de coluna <code class="code">"$path"</code> ou <code class="code">"$size"</code>. Para obter mais informações sobre nomes válidos, consulte <a href="./r_names.html">Nomes e identificadores</a>.</p>
                  <p>Por padrão, o Amazon Redshift cria tabelas externas com as pseudocolunas <code class="code">$path</code> e <code class="code">$size</code>. Você pode desabilitar a criação de pseudocolunas em uma sessão. Basta definir o parâmetro de configuração <code class="code">spectrum_enable_pseudo_columns</code> como <code class="code">false</code>. Para obter mais informações, consulte <a href="./r_CREATE_EXTERNAL_TABLE_usage.html#r_CREATE_EXTERNAL_TABLE_usage-pseudocolumns">Pseudocolunas </a>.</p>
                  <p>Se as pseudocolunas forem habilitadas, o número máximo de colunas que você poderá definir em uma única tabela será 1.598. Se pseudocolunas não estiverem habilitadas, o número máximo de colunas que poderá ser definido em uma única tabela será 1.600. </p>


                     <p>Se você estiver criando uma "tabela larga", assegure que sua lista de colunas não exceda os limites de largura de linha para resultados intermediários durante cargas e processamento de consultas. Para obter mais informações, consulte <a href="./r_CREATE_TABLE_NEW.html#r_CREATE_TABLE_usage">Observações de uso</a>.</p>


                  
                  <p>Para um comando CREATE EXTERNAL TABLE AS, não é necessária uma lista de colunas, pois elas são derivadas da consulta.</p>
               </dd>
             
               <dt><span class="term"> <em>data_type</em> </span></dt>
               <dd>
                  <p>Os seguintes <a href="./c_Supported_data_types.html">Tipos de dados</a> são compatíveis:</p>
                  <div class="itemizedlist">
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>SMALLINT (INT2)</p>
                     </li><li class="listitem">
                        <p>INTEGER (INT, INT4)</p>
                     </li><li class="listitem">
                        <p>BIGINT (INT8)</p>
                     </li><li class="listitem">
                        <p>DECIMAL (NUMERIC)</p>
                     </li><li class="listitem">
                        <p>REAL (FLOAT4)</p>
                     </li><li class="listitem">
                        <p>DOUBLE PRECISION (FLOAT8)</p>
                     </li><li class="listitem">
                        <p>BOOLEAN (BOOL)</p>
                     </li><li class="listitem">
                        <p>CHAR (CHARACTER)</p>
                     </li><li class="listitem">
                        <p>VARCHAR (CHARACTER VARYING)</p>
                     </li><li class="listitem">
                        
                        <p>VARBYTE (CHARACTER VARYING): pode ser usado com arquivos de dados Parquet e ORC, e somente com tabelas não particionadas.</p>
                     </li><li class="listitem">

                        <p>DATE: pode ser usado somente com arquivos de dados de texto, Parquet ou ORC, ou como uma coluna de partição.</p>
                     </li><li class="listitem">
                        <p>TIMESTAMP</p>
                     </li></ul></div>
                  
                  <p></p>
                  <p>Em DATE, você pode usar os formatos conforme descrito a seguir. Para valores mensais representados usando dígitos, estes formatos são compatíveis:</p>
                  <div class="itemizedlist">
                      

                      
                  <ul class="itemizedlist"><li class="listitem"><p><code class="code">mm-dd-yyyy</code> Por exemplo, <code class="code">05-01-2017</code>. Esse é o padrão.</p></li><li class="listitem"><p><code class="code">yyyy-mm-dd</code>, onde o ano é representado por mais de 2 dígitos. Por exemplo, <code class="code">2017-05-01</code>.</p>
                        </li></ul></div>
                  <p>Para valores mensais representados usando abreviações de três letras, estes formatos são compatíveis:</p>
                  <div class="itemizedlist">
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem"><p><code class="code">mmm-dd-yyyy</code> Por exemplo, <code class="code">may-01-2017</code>. Esse é o padrão.</p></li><li class="listitem"><p><code class="code">dd-mmm-yyyy</code>, onde o ano é representado por mais de 2 dígitos. Por exemplo, <code class="code">01-may-2017</code>.</p>
                     </li><li class="listitem"><p><code class="code">yyyy-mmm-dd</code>, onde o ano é representado por mais de 2 dígitos. Por exemplo, <code class="code">2017-may-01</code>.</p>
                     </li></ul></div>
                     <p>Para valores de ano consistentemente inferiores a 100, o ano é calculado desta maneira:</p>
                     <div class="itemizedlist">
                         
                         
                         
                     <ul class="itemizedlist"><li class="listitem"><p>Se o ano for inferior a 70, o ano será calculado como o ano mais 2000. Por exemplo, a data 05-01-17 no formato <code class="code">mm-dd-yyyy</code> é convertida para <code class="code">05-01-2017</code>.</p></li><li class="listitem"><p>Se o ano for inferior a 100 e maior que 69, o ano será calculado como o ano mais 1900. Por exemplo, a data 05-01-89 no formato <code class="code">mm-dd-yyyy</code> é convertida para <code class="code">05-01-1989</code>.</p></li><li class="listitem"><p>Para valores de ano representados por dois dígitos, adicione zeros à esquerda para representar o ano em 4 dígitos.</p></li></ul></div>


                  <p>Os valores de data e hora nos arquivos de texto devem estar no formato <code class="code">yyyy-mm-dd
                        HH:mm:ss.SSSSSS</code>, como mostra o seguinte valor de data e hora de exemplo: <code class="code">2017-05-01 11:30:59.000000</code>.</p>
                  <p>O comprimento de uma coluna VARCHAR é definido em bytes, não em caracteres. Por exemplo, uma coluna VARCHAR(12) pode conter 12 caracteres de único byte ou 6 caracteres de dois bytes. Quando você consulta uma tabela externa, os resultados são truncados para se adequar ao tamanho da coluna definido sem retornar um erro. Para obter mais informações, consulte <a href="./r_Character_types.html#r_Character_types-storage-and-ranges">Armazenamento e intervalos</a>. </p>
                  <p>Para obter uma melhor performance, recomendamos especificar o menor tamanho de coluna que se ajusta aos seus dados. Para encontrar o tamanho máximo em bytes dos valores em uma coluna, use a função <a href="./r_OCTET_LENGTH.html">OCTET_LENGTH</a>. O exemplo a seguir retorna o tamanho máximo de valores na coluna de email.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="userinput">select max(octet_length(email)) from users;</code>

max
---
 62</code></pre>
               </dd>
             
               <dt><span class="term">PARTITIONED BY (<em>nome_col</em> <em>tipo_dados</em> [, … ] )</span></dt>
               <dd>
                  <p>Cláusula que define uma tabela particionada com uma ou mais colunas de partição. Um diretório de dados separado é usado para cada combinação específica, o que pode melhorar a performance da consulta em algumas condições. As colunas particionadas não existem na própria tabela de dados. Se você usar um valor para <em>col_name</em> que é o mesmo valor usado na coluna da tabela, obterá um erro. </p>
                  <p>Depois de criar uma tabela particionada, altere-a usando uma instrução <a href="./r_ALTER_TABLE.html">ALTER TABLE</a> … ADD PARTITION para registrar novas partições no catálogo externo. Ao adicionar uma partição, você define a localização da subpasta no Amazon S3 que contém dados da partição.</p>
                  <p>Por exemplo, se a tabela <code class="code">spectrum.lineitem_part</code> for definida com <code class="code">PARTITIONED BY (l_shipdate date)</code>, execute o comando ALTER TABLE a seguir para adicionar uma partição.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">ALTER TABLE spectrum.lineitem_part ADD PARTITION (l_shipdate='1992-01-29')
LOCATION 's3://spectrum-public/lineitem_partition/l_shipdate=1992-01-29';</code></pre>
                  <p>Se você estiver usando CREATE EXTERNAL TABLE AS, não será necessário executar ALTER TABLE…ADD PARTITION. O Amazon Redshift registra novas partições no catálogo externo. O Amazon Redshift também grava automaticamente os dados correspondentes nas partições no Amazon S3 com base na chave ou nas chaves de partição definidas na tabela.</p>

                  <p>Para visualizar partições, consulte a exibição do sistema <a href="./r_SVV_EXTERNAL_PARTITIONS.html">SVV_EXTERNAL_PARTITIONS</a>.</p>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Para um comando CREATE EXTERNAL TABLE AS, não é necessário especificar o tipo de dados da coluna de partição, pois essa coluna é derivada da consulta. </p></div></div>

               </dd>
             
               <dt><span class="term">ROW FORMAT DELIMITED <em>formatodelinha</em></span></dt>
               <dd>
                  <p>Cláusula que especifica o formato de dados subjacentes. Os valores possíveis para <em>rowformat</em> são os seguintes:</p>
                  <div class="itemizedlist">
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>LINES TERMINATED BY '<em>delimiter</em>' </p>
                     </li><li class="listitem">
                        <p>FIELDS TERMINATED BY '<em>delimiter</em>' </p>
                     </li></ul></div>
                  <p>Especifique um único caractere ASCII para '<em>delimiter</em>'. Você pode especificar caracteres ASCII não imprimíveis usando o sistema octal no formato <code class="code">'\</code><em><code class="code">ddd</code></em><code class="code">'</code>, em que <em><code class="code">d</code></em> é um dígito octal (0 - 7) até ‘\177’. O exemplo a seguir especifica o caractere BEL (sino) usando o sistema octal. </p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">ROW FORMAT DELIMITED FIELDS TERMINATED BY '\007'</code></pre>
                  <p>Se ROW FORMAT for omitido, o formato padrão será DELIMITED FIELDS TERMINATED BY '\A' (início do cabeçalho) e LINES TERMINATED BY '\n' (nova linha). </p>
                  
               </dd>
             
               <dt><span class="term">ROW FORMAT SERDE '<em>serde_name</em>' </span></dt>
               <dt><span class="term">[WITH SERDEPROPERTIES ( '<em>property_name</em>' = '<em>property_value</em>' [, ...] ) ]</span></dt>
               <dd>
                  <p>Uma cláusula que especifica o formato SERDE para os dados subjacentes. </p>
                  <div class="variablelist">
                      
                  <dl>
                        <dt><span class="term">'<em>serde_name</em>'</span></dt>
                        <dd>
                           <p>O nome de SerDe. Você pode especificar os seguintes formatos:</p>
                           <div class="itemizedlist">
                               
                               
                              
                               
                               
                              
                               
                           <ul class="itemizedlist"><li class="listitem">
                                 <p>org.apache.hadoop.hive.serde2.RegexSerDe </p>
                              </li><li class="listitem">
                                 <p>com.amazonaws.glue.serde.GrokSerDe </p>
                              </li><li class="listitem">
                                 <p>org.apache.hadoop.hive.serde2.OpenCSVSerde </p>
                                 <p>Esse parâmetro é compatível com a seguinte propriedade SerDe para OpenCSVSerde: </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">'wholeFile' = 'true' </code></pre>
                                 <p>Defina a propriedade <code class="code">wholeFile</code> para <code class="code">true</code> a fim de analisar corretamente novos caracteres de linha (\n) dentro de strings entre aspas para solicitações de OpenCSV. </p>

                              </li><li class="listitem">
                                 <p>org.openx.data.jsonserde.JsonSerDe</p>
                                 <div class="itemizedlist">
                                     
                                     
                                    
                                     
                                     

                                 <ul class="itemizedlist"><li class="listitem">
                                       <p>O JSON SERDE também dá suporte aos arquivos Ion. </p>
                                    </li><li class="listitem">
                                       <p>O JSON bastante deve ser bem formado. </p>
                                    </li><li class="listitem">
                                       <p>Os timestamps em Ion e JSON precisam ter formato ISO8601.</p>
                                    </li><li class="listitem">
                                       <p>Esse parâmetro é compatível com a seguinte propriedade SerDe para JsonSerDe: </p>
                                       <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">'strip.outer.array'='true' </code></pre>
                                       <p>Processa arquivos Ion/JSON contendo uma matriz muito grande entre colchetes externos ( [ … ] ) como se contivesse vários registros JSON dentro da matriz. </p>
                                    </li></ul></div>
                              </li><li class="listitem">
                                 <p>com.amazon.ionhiveserde.IonHiveSerDe</p>
                                 <p>O formato Amazon ION fornece formatos de texto e binário, além dos tipos de dados. Para uma tabela externa que faz referência a dados no formato ION, mapeie cada coluna na tabela externa para o elemento correspondente nos dados do formato ION. Para obter mais informações, consulte <a href="https://amzn.github.io/ion-docs/" rel="noopener noreferrer" target="_blank"><span>Amazon Ion</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. Também é necessário especificar os formatos de entrada e saída.</p>

                              </li></ul></div>
                        </dd>
                     </dl></div>
                  <div class="variablelist">
                      
                  <dl>
                        <dt><span class="term">WITH SERDEPROPERTIES ( '<em>property_name</em>' = '<em>property_value</em>' [, ...] ) ]</span></dt>
                        <dd>
                           <p>Opcionalmente, especifique nomes e valores de propriedade, separados por vírgulas.</p>
                        </dd>
                     </dl></div>
                  <p>Se ROW FORMAT for omitido, o formato padrão será DELIMITED FIELDS TERMINATED BY '\A' (início do cabeçalho) e LINES TERMINATED BY '\n' (nova linha). </p>
                  
               </dd>
             
               <dt><span class="term">STORED AS <em>formato do arquivo</em></span></dt>
               <dd>
                  <p>Formato para arquivos de dados. </p>
                  <p>Os formatos válidos são:</p>
                  <div class="itemizedlist">
                      
                      
                      
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>PARQUET</p>
                     </li><li class="listitem">
                        <p>RCFILE (somente para dados que usem ColumnarSerDe, não LazyBinaryColumnarSerDe)</p>
                     </li><li class="listitem">
                        <p>SEQUENCEFILE</p>
                     </li><li class="listitem">
                        <p>TEXTFILE (para arquivos de texto, inclusive arquivos JSON).</p> 
                     </li><li class="listitem">
                        <p>ORC </p>
                     </li><li class="listitem">
                        <p>AVRO </p>
                     </li><li class="listitem">
                        <p>INPUTFORMAT '<em>input_format_classname</em>' OUTPUTFORMAT '<em>output_format_classname</em>' </p>
                     </li></ul></div>
                  <p>O comando CREATE EXTERNAL TABLE AS oferece suporte somente a dois formatos de arquivo, TEXTFILE e PARQUET.</p>
                  <p>Para INPUTFORMAT e OUTPUTFORMAT, especifique um nome de classe, conforme exibido no exemplo a seguir: </p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">'org.apache.hadoop.mapred.TextInputFormat'</code></pre>
               </dd>
             
               <dt id="create-external-table-location"><span class="term">LOCATION <span>{</span> 's3://<em>bucket/folder</em>/' | 's3://<em>bucket/manifest_file</em>'}</span></dt>
               <dd>
                  <p>O caminho para a pasta ou bucket do Amazon S3 que contém arquivos de dados ou um arquivo manifesto que contém uma lista de caminhos de objetos do Amazon S3. Os buckets devem estar na mesma região da AWS que o cluster do Amazon Redshift. Para obter uma lista de regiões da AWS compatíveis, consulte <a href="./c-using-spectrum.html#c-spectrum-considerations">Regiões do Amazon Redshift Spectrum</a>.</p>


                  
                  <p>Se o caminho especificar uma pasta ou bucket, por exemplo <code class="code">'s3://mybucket/custdata/'</code>, o Redshift Spectrum fará a varredura dos arquivos na pasta ou bucket especificado e em todas as subpastas. O Redshift Spectrum ignora os arquivos ocultos e os arquivos que começam com um ponto ou um sublinhado. </p>
                  <p>Se o caminho especificar um arquivo manifesto, o argumento <code class="code">'s3://bucket/manifest_file'</code> deverá fazer referência explícita a um único arquivo, por exemplo, <code class="code">'s3://mybucket/manifest.txt'</code>. Ele não pode fazer referência a um prefixo de chaves. </p>
                  
                  <p>O manifesto é um arquivo de texto em formato JSON que lista o URL de cada arquivo a ser carregado a partir do Amazon S3 e o tamanho do arquivo em bytes. O URL inclui o nome do bucket e o caminho de objeto completo do arquivo. Os arquivos especificados no manifesto podem estar em buckets diferentes, mas todos os buckets devem estar na mesma região da AWS que o cluster do Amazon Redshift. Se for listado duas vezes, o arquivo será carregado duas vezes. O exemplo a seguir mostra o JSON de um manifesto que carrega três arquivos. </p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
  "entries": [
    <span>{</span>"url":"s3://mybucket-alpha/custdata.1", "meta": <span>{</span> "content_length": 5956875 } },
    <span>{</span>"url":"s3://mybucket-alpha/custdata.2", "meta": <span>{</span> "content_length": 5997091 } },
    <span>{</span>"url":"s3://mybucket-beta/custdata.1", "meta": <span>{</span> "content_length": 5978675 } }
  ]
}</code></pre>
                  
                  
                  <p>Você pode tornar a inclusão de um arquivo específico obrigatória. Para fazer isso, inclua uma opção <code class="code">mandatory</code> em nível de arquivo no manifesto. Ao consultar uma tabela externa com um ficheiro obrigatório faltando, a instrução SELECT falha. Certifique-se de que todos os arquivos incluídos na definição da tabela externa estejam presentes. Se nem todos estiverem presentes, um erro será exibido mostrando o primeiro arquivo obrigatório que não foi encontrado. O exemplo a seguir mostra o JSON para um manifesto com a opção <code class="code">mandatory</code> definida como <code class="code">true</code>.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
  "entries": [
    <span>{</span>"url":"s3://mybucket-alpha/custdata.1", "mandatory":true, "meta": <span>{</span> "content_length": 5956875 } },
    <span>{</span>"url":"s3://mybucket-alpha/custdata.2", "mandatory":false, "meta": <span>{</span> "content_length": 5997091 } },
    <span>{</span>"url":"s3://mybucket-beta/custdata.1", "meta": <span>{</span> "content_length": 5978675 } }
  ]
}</code></pre>
                  <p>Para fazer referência a arquivos criados usando UNLOAD, use o manifesto criado usando <a href="./r_UNLOAD.html">UNLOAD</a> com o parâmetro MANIFEST. O arquivo manifesto é compatível com um arquivo manifesto para <a href="./copy-parameters-data-source-s3.html">COPY do Amazon S3</a>, mas utiliza chaves diferentes. Chaves que não são usadas são ignoradas. </p>
               </dd>
             
               <dt><span class="term">TABLE PROPERTIES ( '<em>property_name</em>'='<em>property_value</em>' [, ...] ) </span></dt>
               <dd>
                  <p>Uma cláusula que estabelece a definição da tabela para propriedades da tabela. </p>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>As propriedades de tabela fazem distinção entre maiúsculas e minúsculas.</p></div></div>
                  <div class="variablelist">
                     



                      

                      

                      
                      

                      


                      

                      

                      


                      
                      
                      


                      
                      
                      
                     
                      

                      
                  <dl>
                        <dt><span class="term"> 'compression_type'='<em>valor</em>' </span></dt>
                        <dd>
                           <p> Uma propriedade que define o tipo de compactação a ser usado se o nome de arquivo não contiver uma extensão. Se você definir essa propriedade e houver uma extensão de arquivo, a extensão será ignorada e o valor definido pela propriedade será usado. Os valores válidos para o tipo de compactação são os seguintes:</p>
                           <div class="itemizedlist">
                               
                              
                               
                               
                               
                           <ul class="itemizedlist"><li class="listitem">
                                 <p>bzip2</p>
                              </li><li class="listitem">
                                 <p>gzip</p>
                              </li><li class="listitem">
                                 <p>nenhum</p>
                              </li><li class="listitem">
                                 <p>snappy</p>
                              </li></ul></div>
                        </dd>
                      
                        <dt><span class="term">'data_cleansing_enabled'='true / false’</span></dt>
                        <dd>
                           <p>Essa propriedade define se o tratamento de dados está ativado para a tabela. Quando 'data_cleansing_enabled' está definido como true, o tratamento de dados está ativado para a tabela. Quando 'data_cleansing_enabled' está definido como false, o tratamento de dados está desativado para a tabela. A seguir, há uma lista das propriedades de tratamento de dados em nível de tabela controladas por essa propriedade:</p>
                           <div class="itemizedlist">
                               
                               
                               
                               
                               
                           <ul class="itemizedlist"><li class="listitem"><p>column_count_mismatch_handling</p></li><li class="listitem"><p>invalid_char_handling</p></li><li class="listitem"><p>numeric_overflow_handling</p></li><li class="listitem"><p>replacement_char</p></li><li class="listitem"><p>surplus_char_handling</p></li></ul></div>
                           <p>Para ver exemplos, consulte <a href="./r_CREATE_EXTERNAL_TABLE_examples.html#r_CREATE_EXTERNAL_TABLE_examples-data-handling">Exemplos de tratamento de dados</a>.</p>
                        </dd>

                      
                        <dt><span class="term">'invalid_char_handling'='<em>valor</em>' </span></dt>
                        <dd>
                           <p>Especifica a ação a ser realizada quando os resultados da consulta contêm valores de caracteres UTF-8 inválidos. Você pode especificar as seguintes ações:</p>
                           <div class="variablelist">
                               
                               
                               
                               
                               

                           <dl>
                                 <dt><span class="term">DESATIVADA</span></dt>
                                 <dd><p>Não trata os caracteres inválidos.</p></dd>
                               
                                 <dt><span class="term">FAIL</span></dt>
                                 <dd><p>Cancela as consultas que retornam dados contendo valores UTF-8 inválidos.</p></dd>
                               
                                 <dt><span class="term">SET_TO_NULL </span></dt>
                                 <dd><p>Substitui os valores UTF-8 inválidos por null.</p></dd>
                               
                                 <dt><span class="term">DROP_ROW</span></dt>
                                 <dd><p>Substitui todos os valores da linha por null.</p></dd>
                               
                                 <dt><span class="term">REPLACE</span></dt>
                                 <dd><p>Substitui o caractere inválido pelo caractere de substituição especificado usando <code class="code">replacement_char</code>.</p></dd>
                              </dl></div>
                        </dd>
                      
                        <dt><span class="term">'replacement_char'='<em>caractere</em>’</span></dt>
                        <dd>
                           <p>Especifica o caractere de substituição a ser usado quando você define <code class="code">invalid_char_handling</code> como <code class="code">REPLACE</code>.</p>
                        </dd>
                      
                        <dt><span class="term">'numeric_overflow_handling'='valor’</span></dt>
                        <dd>
                           <p>Especifica a ação a ser realizada quando os dados ORC contêm um inteiro (por exemplo, BIGINT ou int64) que é maior que a definição da coluna (por exemplo, SMALLINT ou int16). Você pode especificar as seguintes ações:</p>
                           <div class="variablelist">
                               
                               
                               
                               
                           <dl>
                                 <dt><span class="term">DESATIVADA</span></dt>
                                 <dd><p>O tratamento de caracteres inválidos é desativado.</p></dd>
                               
                                 <dt><span class="term">FAIL</span></dt>
                                 <dd><p>Cancelar a consulta quando os dados incluírem caracteres inválidos.</p></dd>
                               
                                 <dt><span class="term">SET_TO_NULL</span></dt>
                                 <dd><p>Definir os caracteres inválidos como null.</p></dd>
                               
                                 <dt><span class="term">DROP_ROW</span></dt>
                                 <dd><p>Definir todos os valores da linha como null.</p></dd>
                              </dl></div>

                        </dd>

                      
                        
                        <dt><span class="term">'surplus_bytes_handling'='<em>value</em>'</span></dt>
                        <dd>
                           <p>Especifica como lidar com os dados sendo carregados que excederem o comprimento do tipo de dado definido para colunas contendo dados VARBYTE. Por padrão, o Redshift Spectrum define o valor como null para dados que excedem a largura da coluna.</p>
                           <p>Você pode especificar as seguintes ações a serem realizadas quando a consulta retorna dados que excedem o comprimento do tipo de dado:</p>
                           <div class="variablelist">
                               
                               
                               
                               
                               
                           <dl>
                                 <dt><span class="term">SET_TO_NULL</span></dt>
                                 <dd><p>Substitui os dados que excedem a largura da coluna por null.</p></dd>
                               
                                 <dt><span class="term">DESATIVADA</span></dt>
                                 <dd><p>Não lida com excesso de bytes.</p></dd>
                               
                                 <dt><span class="term">FAIL</span></dt>
                                 <dd><p>Cancela as consultas que retornam dados que excedem a largura da coluna.</p></dd>
                               
                                 <dt><span class="term">DROP_ROW</span></dt>
                                 <dd><p>Elimine todas as linhas que contêm dados que excedam a largura da coluna.</p></dd>
                               
                                 <dt><span class="term">TRUNCATE</span></dt>
                                 <dd><p>Remove os caracteres que excedem o número máximo de caracteres definido para a coluna.</p></dd>
                              </dl></div>
                        </dd>
                      
                        <dt><span class="term">'surplus_char_handling'='<em>valor</em>'</span></dt>
                        <dd>
                           <p>Especifica como lidar com os dados sendo carregados que excederem o comprimento do tipo de dados definido para colunas contendo VARCHAR, CHAR ou dados em string. Por padrão, o Redshift Spectrum define o valor como null para dados que excedem a largura da coluna.</p>
                           <p>Você pode especificar as seguintes ações a serem realizadas quando a consulta retorna dados que excedem a largura da coluna:</p>
                           <div class="variablelist">
                               
                               
                               
                               
                               
                           <dl>
                                 <dt><span class="term">SET_TO_NULL</span></dt>
                                 <dd><p>Substitui os dados que excedem a largura da coluna por null.</p></dd>
                               
                                 <dt><span class="term">DESATIVADA</span></dt>
                                 <dd><p>Não trata de caracteres em excesso.</p></dd>
                               
                                 <dt><span class="term">FAIL</span></dt>
                                 <dd><p>Cancela as consultas que retornam dados que excedem a largura da coluna.</p></dd>
                               
                                 <dt><span class="term">DROP_ROW</span></dt>
                                 <dd><p>Substitui todos os valores da linha por null.</p></dd>
                               
                                 <dt><span class="term">TRUNCATE</span></dt>
                                 <dd><p>Remove os caracteres que excedem o número máximo de caracteres definido para a coluna.</p></dd>
                              </dl></div>
                        </dd>
                      
                        
                        <dt><span class="term">'column_count_mismatch_handling'='value’</span></dt>
                        <dd>
                           <p>Identifica se o arquivo contém um número menor ou maior de valores para uma linha do que o de colunas especificado na definição da tabela externa. Essa propriedade só está disponível para um formato de arquivo de texto não compactado. Você pode especificar as seguintes ações:</p>
                           <div class="variablelist">
                               
                               
                               
                               
                           <dl>
                                 <dt><span class="term">DESATIVADA</span></dt>
                                 <dd><p>O tratamento de incompatibilidade de contagem de colunas está desativado.</p></dd>
                               
                                 <dt><span class="term">FAIL</span></dt>
                                 <dd><p>Há falha na consulta se for detectada incompatibilidade na contagem de colunas.</p></dd>
                               
                                 <dt><span class="term">SET_TO_NULL</span></dt>
                                 <dd><p>Preencha os valores ausentes com NULL e ignore os valores adicionais em cada linha.</p></dd>
                               
                                 <dt><span class="term">DROP_ROW</span></dt>
                                 <dd><p>Elimine todas as linhas que contêm erro de incompatibilidade de contagem de colunas na verificação.</p></dd>
                              </dl></div>
                        </dd>
                      
                        <dt><span class="term">'numRows'='<em>row_count</em>' </span></dt>
                        <dd>
                           <p>Uma propriedade que define o valor de numRows para a definição da tabela. Para atualizar de maneira explícita as estatísticas de uma tabela externa, defina a propriedade numRows de maneira a indicar o tamanho da tabela. O Amazon Redshift não analisa as tabelas externas para gerar as estatísticas das tabelas que o otimizador de consultas utiliza para gerar um plano de consulta. Se as estatísticas de tabelas não estiverem definidas para uma tabela externa, o Amazon Redshift gera um plano de execução de consulta com base na suposição de que as tabelas externas são maiores e as tabelas locais são menores.</p>
                        </dd>
                      
                        <dt><span class="term">'skip.header.line.count'='<em>line_count</em>'</span></dt>
                        <dd>
                           <p>Uma propriedade que define o número de linhas a serem ignoradas no início de cada arquivo de origem.</p>
                        </dd>
                      
                        <dt><span class="term">'serialization.null.format'=' '</span></dt>
                        <dd>
                           <p>Uma propriedade que especifica o Spectrum deve retornar um valor <code class="code">NULL</code> quando houver uma correspondência exata com o texto fornecido em um campo.</p>
                        </dd>
                      
                        <dt><span class="term">'orc.schema.resolution'='mapping_type'</span></dt>
                        <dd>
                           <p>Uma propriedade que define o tipo de mapeamento de coluna para tabelas que usam o formato de dados ORC. Essa propriedade é ignorada para outros formatos de dados.</p>
                           <p>Os valores válidos para o tipo de mapeamento de coluna são os seguintes: </p>
                           <div class="itemizedlist">
                               
                               
                           <ul class="itemizedlist"><li class="listitem">
                                 <p>name </p>
                              </li><li class="listitem">
                                 <p>position </p>
                              </li></ul></div>
                           <p>Se a propriedade <em>orc.schema.resolution</em> for omitida, as colunas serão mapeadas por nome por padrão. Se <em>orc.schema.resolution</em> estiver definido como qualquer valor diferente de <em>'name'</em> ou <em>'position'</em>, as colunas serão mapeadas por posição. Para obter mais informações sobre o mapeamento de colunas, consulte <a href="./c-spectrum-external-tables.html#c-spectrum-column-mapping-orc">Mapeamento de colunas de tabela externa para colunas do ORC</a>.</p>
                           <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>O comando COPY mapeia para arquivos de dados ORC apenas por posição. A propriedade de tabela <em>orc.schema.resolution</em> não tem efeito sobre o comportamento do comando COPY. </p></div></div>
                        </dd>
                      
                        <dt><span class="term">'write.parallel'='on / off’</span></dt>
                        <dd>
                           <p>Uma propriedade que define se CREATE EXTERNAL TABLE AS deve gravar dados em paralelo. Por padrão, CREATE EXTERNAL TABLE AS grava dados em paralelo em vários arquivos, de acordo com o número de fatias no cluster. A opção padrão é ativado. Quando 'write.parallel' está definido como desativado, CREATE EXTERNAL TABLE AS grava em um ou mais arquivos de dados serialmente no Amazon S3. Essa propriedade de tabela também se aplica a qualquer instrução INSERT subsequente na mesma tabela externa.</p>
                        </dd>
                      
                        <dt><span class="term">‘write.maxfilesize.mb’=‘size’</span></dt>
                        <dd>
                           <p>Uma propriedade que define o tamanho máximo (em MB) de cada arquivo gravado no Amazon S3 por CREATE EXTERNAL TABLE AS. O tamanho deve ser um número inteiro entre 5 e 6.200. O tamanho máximo padrão do arquivo é 6.200 MB. Essa propriedade de tabela também se aplica a qualquer instrução INSERT subsequente na mesma tabela externa.</p>
                        </dd>
                      
                        <dt><span class="term">‘write.kms.key.id’=‘<em>value</em>’</span></dt>
                        <dd>
                           <p>É possível especificar uma chave AWS Key Management Service para habilitar a criptografia do lado do servidor (SSE) para objetos do Amazon S3, onde <em>value</em> é uma das seguintes ações: </p>
                           <div class="itemizedlist">
                               
                                                                     <ul class="itemizedlist"><li class="listitem"><p><code class="code">auto</code> para usar o chave padrão do AWS KMS armazenada no bucket do Amazon S3.</p></li><li class="listitem"><p><em>kms-key</em>que você especifica para criptografar dados.</p></li></ul></div>
                        </dd>
                      
                        <dt><span class="term"><em>select_statement</em></span></dt>
                        <dd>
                           <p>Uma instrução que insere uma ou mais linhas na tabela externa ao definir qualquer consulta. Todas as linhas que a consulta gera são gravadas no Amazon S3 no formato de texto ou Parquet com base na definição da tabela.</p>
                        </dd>
                     </dl></div>
               </dd>
            </dl></div>
       
         <h2 id="r_CREATE_EXTERNAL_TABLE_examples_link">Exemplos</h2>
         <p>Uma coleção de exemplos está disponível em <a href="./r_CREATE_EXTERNAL_TABLE_examples.html">Exemplos</a>.</p>
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Atenção" /> <strong>O Javascript está desativado ou não está disponível no seu navegador.</strong></p><p>Para usar a documentação da AWS, o Javascript deve estar ativado. Consulte as páginas de Ajuda do navegador para obter instruções.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenções do documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_CREATE_EXTERNAL_SCHEMA.html">CREATE EXTERNAL SCHEMA</div><div id="next" class="next-link" accesskey="n" href="./r_CREATE_EXTERNAL_TABLE_usage.html">Observações de uso</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Essa página foi útil? - Sim</div><div class="content"><p>Obrigado por nos informar que estamos fazendo um bom trabalho!</p><p>Se tiver tempo, conte-nos sobre o que você gostou para que possamos melhorar ainda mais.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Essa página foi útil? - Não</div><div class="content"><p>Obrigado por nos informar que precisamos melhorar a página. Lamentamos ter decepcionado você.</p><p>Se tiver tempo, conte-nos como podemos melhorar a documentação.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>