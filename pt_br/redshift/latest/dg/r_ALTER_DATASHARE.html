<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="pt-BR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>ALTER DATASHARE - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_ALTER_DATASHARE" /><meta name="default_state" content="r_ALTER_DATASHARE" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_ALTER_DATASHARE.html" /><meta name="description" content="Altera um datashare." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guia do desenvolvedor de banco de dados" /><meta name="abstract" content="Crie e gerencie um data warehouse com o Amazon Redshift, um serviço de data warehouse totalmente gerenciado, em escala de petabyte e de nível empresarial." /><meta name="guide-locale" content="pt_br" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_ALTER_DATASHARE.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_ALTER_DATASHARE.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guia do desenvolvedor de banco de dados" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guia do desenvolvedor de banco de dados" /><meta id="panorama-serviceConsolePage" value="ALTER DATASHARE" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>ALTER DATASHARE - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#r_ALTER_DATASHARE" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_ALTER_DATASHARE.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_ALTER_DATASHARE.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_ALTER_DATASHARE.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,desenvolvedor,dados de amostra,banco de dados,desenvolvedor do banco de dados,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guia do desenvolvedor de banco de dados",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Referência SQL",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Comandos SQL",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "ALTER DATASHARE",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c_SQL_commands.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#r_ALTER_DATASHARE" target="_blank" rel="noopener noreferrer" title="Abrir em PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentação</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guia do desenvolvedor de banco de dados</a></div><div id="page-toc-src"><a href="#r_ALTER_DATASHARE-privileges">Privilégios obrigatórios</a><a href="#r_ALTER_DATASHARE-synopsis">Sintaxe</a><a href="#r_ALTER_DATASHARE-parameters">Parâmetros</a><a href="#r_ALTER_DATASHARE_usage">Observações de uso do ALTER DATASHARE</a><a href="#r_ALTER_DATASHARE_examples">Exemplos</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="r_ALTER_DATASHARE">ALTER DATASHARE</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Altera a definição de um datashare. Você pode adicionar ou remover objetos usando ALTER DATASHARE. Você só pode alterar uma unidade de compartilhamento de dados no banco de dados atual. Adicione ou remova objetos do banco de dados associado a uma unidade de compartilhamento de dados. O proprietário do datashare com as permissões necessárias nos objetos de datashare a serem adicionados ou removidos pode alterar o datashare.</p>
         <h2 id="r_ALTER_DATASHARE-privileges">Privilégios obrigatórios</h2>
         <p>A seguir estão os privilégios obrigatórios para ALTER DATASHARE:</p>
         <div class="itemizedlist">
             
             
             
             
         <ul class="itemizedlist"><li class="listitem"><p>Superusuário.</p></li><li class="listitem"><p>Usuário com o privilégio ALTER DATASHARE.</p></li><li class="listitem"><p>Usuários que tenham privilégios ALTER ou ALL na unidade de compartilhamento de dados.</p></li><li class="listitem"><p>Para adicionar objetos específicos a uma unidade de compartilhamento de dados, os usuários devem ter o privilégio nos objetos. Neste caso, os usuários devem ser os proprietários de objetos ou ter privilégios SELECT, USAGE ou ALL nos objetos. </p></li></ul></div>
       
         <h2 id="r_ALTER_DATASHARE-synopsis">Sintaxe</h2>

         <p>A sintaxe a seguir ilustra como adicionar ou remover objetos da unidade de compartilhamento de dados.</p>
         <pre class="screen">ALTER DATASHARE datashare_name <span>{</span> ADD | REMOVE } <span>{</span>
TABLE <em>schema.table</em> [, ...]
| SCHEMA <em>schema</em> [, ...]
| FUNCTION <em>schema.sql_udf</em> (argtype,...) [, ...]
| ALL TABLES IN SCHEMA <em>schema</em> [, ...]
| ALL FUNCTIONS IN SCHEMA <em>schema</em> [, ...] }</pre>

         <p>A sintaxe a seguir ilustra como configurar as propriedades da unidade de compartilhamento de dados.</p>
         <pre class="screen">ALTER DATASHARE datashare_name <span>{</span>
[ SET PUBLICACCESSIBLE [=] TRUE | FALSE ]
[ SET INCLUDENEW [=] TRUE | FALSE FOR SCHEMA <em>schema</em> ] }</pre>
       
         <h2 id="r_ALTER_DATASHARE-parameters">Parâmetros</h2>


         <div class="variablelist">
             

             

             

             

             

             

             

             

             
         <dl>
               <dt><span class="term"><em>datashare_name</em></span></dt>
               <dd>
                  <p>Nome do datashare a ser alterado. </p>
               </dd>
             
               <dt><span class="term">ADD | REMOVE</span></dt>
               <dd>
                  <p>Uma cláusula que especifica se deve adicionar ou remover objetos do datashare.</p>
               </dd>
             
               <dt><span class="term">TABLE <em>schema</em>.<em>table</em> [, ...]</span></dt>
               <dd>
                  <p>O nome da tabela ou da exibição no esquema especificado a ser adicionado ao datashare.</p>
               </dd>
             
               <dt><span class="term">SCHEMA <em>schema</em> [, ...] </span></dt>
               <dd>
                  <p>O nome do esquema a ser adicionado ao datashare.</p>
               </dd>
             
               <dt><span class="term">FUNCTION <em>schema</em>.<em>sql_udf</em> (argtype,...) [, ...]</span></dt>
               <dd>
                  <p>O nome da função SQL definida pelo usuário a ser adicionada à unidade de compartilhamento de dados.</p>
               </dd>
             
               <dt><span class="term">ALL TABLES IN SCHEMA <em>schema</em> [, ...] </span></dt>
               <dd>
                  <p>Uma cláusula que especifica se deve adicionar todas as tabelas e exibições no esquema especificado ao datashare.</p>

               </dd>
             
               <dt><span class="term">ALL FUNCTIONS IN SCHEMA <em>schema</em> [, ...] }</span></dt>
               <dd>
                  <p>Uma cláusula que especifica a adição de todas as funções no esquema especificado ao datashare.</p>
               </dd>
             
               <dt><span class="term">[ SET PUBLICACCESSIBLE [=] TRUE | FALSE ]</span></dt>
               <dd>
                  <p>Uma cláusula que especifica se um datashare pode ser compartilhado para clusters acessíveis publicamente.</p>
               </dd>
             
               <dt><span class="term">[ SET INCLUDENEW [=] TRUE | FALSE FOR SCHEMA <em>schema</em> ]</span></dt>
               <dd><p>Uma cláusula que especifica se deseja adicionar futuras tabelas, exibições ou funções definidas pelo usuário (UDFs) do SQL criadas no esquema especificado ao datashare. Tabelas atuais, exibições ou UDFs SQL no esquema especificado não são adicionadas ao datashare. Somente superusuários podem alterar essa propriedade para cada par datashare-schema. Por padrão, a cláusula INCLUDENEW está definida como falsa. </p></dd>
            </dl></div>
       
         <h2 id="r_ALTER_DATASHARE_usage">Observações de uso do ALTER DATASHARE</h2>

       <div class="itemizedlist">
           
         
          

           


             
               
         <ul class="itemizedlist"><li class="listitem">
            <p>Os seguintes usuários podem alterar um datashare:</p>
         <div class="itemizedlist">
             
             
             
         <ul class="itemizedlist"><li class="listitem"><p>Um superusuário</p></li><li class="listitem"><p>O proprietário do datashare</p></li><li class="listitem"><p>Usuários com privilégios ALTER ou ALL na unidade de compartilhamento de dados</p></li></ul></div>

            </li><li class="listitem"><p>Para adicionar objetos específicos a uma unidade de compartilhamento de dados, esses usuários devem ter o privilégio correto nos objetos. Os usuários devem ser os proprietários de objetos ou ter privilégios SELECT, USAGE ou ALL nos objetos.</p></li><li class="listitem"><p>Você pode compartilhar esquemas, tabelas, exibições regulares, exibições de vinculação tardia, visualizações materializadas e funções definidas pelo usuário (UDFs) do SQL. Adicione um esquema à unidade de compartilhamento de dados antes de adicionar outros objetos ao esquema. </p>
               <p>Quando você adiciona um esquema, o Amazon Redshift não adiciona todos os objetos abaixo dele. Você deve adicioná-las explicitamente. </p></li><li class="listitem">
             <p>Recomendamos criar unidades de compartilhamento de dados AWS Data Exchange com a configuração publicamente acessível ativada.</p></li><li class="listitem"><p>Em geral, recomendamos não alterar uma unidade de compartilhamento de dados AWS Data Exchange para desativar a acessibilidade pública usando a instrução ALTER DATASHARE. Se você fizer isso, as Contas da AWS que têm acesso à unidade de compartilhamento de dados perderão o acesso se os clusters forem acessíveis ao público. Executar esse tipo de alteração pode violar os termos do produto de dados no AWS Data Exchange. Veja a seguir uma exceção a essa recomendação.</p>
               <p>O exemplo a seguir mostra um erro quando uma unidade de compartilhamento de dados do AWS Data Exchange é criada com a configuração desativada.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">ALTER DATASHARE salesshare SET PUBLICACCESSIBLE FALSE;
ERROR:  Alter of ADX-managed datashare salesshare requires session variable datashare_break_glass_session_var to be set to value 'c670ba4db22f4b'</code></pre>
               <p>Para permitir a alteração de uma unidade de compartilhamento de dados do AWS Data Exchange para desativar a configuração publicamente acessível, definir a variável a seguir e executar a instrução ALTER DATASHARE novamente.</p>
               
<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SET datashare_break_glass_session_var to 'c670ba4db22f4b';</code></pre>
<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">ALTER DATASHARE salesshare SET PUBLICACCESSIBLE FALSE;</code></pre>
               <p>Nesse caso, o Amazon Redshift gera um valor único aleatório para definir a variável de sessão para permitir ALTER DATASHARE SET PUBLICACCESSIBLE FALSE para uma unidade de compartilhamento de dados do AWS Data Exchange.</p>
            </li></ul></div>


       
         <h2 id="r_ALTER_DATASHARE_examples">Exemplos</h2>
         <p>O exemplo a seguir adiciona o esquema <code class="code">public</code> à unidade de compartilhamento de dados <code class="code">salesshare</code>.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">ALTER DATASHARE salesshare ADD SCHEMA public;</code></pre>
         <p>O exemplo a seguir adiciona a tabela <code class="code">public.tickit_sales_redshift</code> à unidade de compartilhamento de dados <code class="code">salesshare</code>.</p>
         
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">ALTER DATASHARE salesshare ADD TABLE public.tickit_sales_redshift;</code></pre>

         <p>O exemplo a seguir adiciona todas as tabelas à unidade de compartilhamento de dados <code class="code">salesshare</code>.</p>
         
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">ALTER DATASHARE salesshare ADD ALL TABLES IN SCHEMA PUBLIC;</code></pre>



         <p>O exemplo a seguir remove a tabela <code class="code">public.tickit_sales_redshift</code> da unidade de compartilhamento de dados <code class="code">salesshare</code>.</p>
         
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">ALTER DATASHARE salesshare REMOVE TABLE public.tickit_sales_redshift;</code></pre>

      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Atenção" /> <strong>O Javascript está desativado ou não está disponível no seu navegador.</strong></p><p>Para usar a documentação da AWS, o Javascript deve estar ativado. Consulte as páginas de Ajuda do navegador para obter instruções.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenções do documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_ALTER_DATABASE.html">ALTER DATABASE</div><div id="next" class="next-link" accesskey="n" href="./r_ALTER_DEFAULT_PRIVILEGES.html">ALTER DEFAULT PRIVILEGES</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Essa página foi útil? - Sim</div><div class="content"><p>Obrigado por nos informar que estamos fazendo um bom trabalho!</p><p>Se tiver tempo, conte-nos sobre o que você gostou para que possamos melhorar ainda mais.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_ALTER_DATASHARE.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Essa página foi útil? - Não</div><div class="content"><p>Obrigado por nos informar que precisamos melhorar a página. Lamentamos ter decepcionado você.</p><p>Se tiver tempo, conte-nos como podemos melhorar a documentação.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_ALTER_DATASHARE.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>