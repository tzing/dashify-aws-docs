<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="pt-BR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Trabalhar com otimização automática de tabelas - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="t_Creating_tables" /><meta name="default_state" content="t_Creating_tables" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/t_Creating_tables.html" /><meta name="description" content="A otimização automática de tabelas é um recurso de auto-ajuste no Amazon Redshift que otimiza automaticamente o design de tabelas aplicando chaves de classificação e distribuição." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guia do desenvolvedor de banco de dados" /><meta name="abstract" content="Crie e gerencie um data warehouse com o Amazon Redshift, um serviço de data warehouse totalmente gerenciado, em escala de petabyte e de nível empresarial." /><meta name="guide-locale" content="pt_br" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/t_Creating_tables.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/t_Creating_tables.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/t_Creating_tables.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/t_Creating_tables.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/t_Creating_tables.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/t_Creating_tables.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/t_Creating_tables.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/t_Creating_tables.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/t_Creating_tables.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/t_Creating_tables.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/t_Creating_tables.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/t_Creating_tables.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/t_Creating_tables.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/t_Creating_tables.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/t_Creating_tables.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/t_Creating_tables.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/t_Creating_tables.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/t_Creating_tables.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/t_Creating_tables.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/t_Creating_tables.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/t_Creating_tables.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/t_Creating_tables.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guia do desenvolvedor de banco de dados" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guia do desenvolvedor de banco de dados" /><meta id="panorama-serviceConsolePage" value="Trabalhar com otimização automática de tabelas" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Trabalhar com otimização automática de tabelas - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#t_Creating_tables" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/t_Creating_tables.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/t_Creating_tables.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/t_Creating_tables.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,desenvolvedor,dados de amostra,banco de dados,desenvolvedor do banco de dados,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guia do desenvolvedor de banco de dados",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Trabalhar com otimização automática de tabelas",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/t_Creating_tables.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#t_Creating_tables" target="_blank" rel="noopener noreferrer" title="Abrir em PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentação</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guia do desenvolvedor de banco de dados</a></div><div id="page-toc-src"><a href="#ato-enabling">Habilitar a otimização automática de tabelas</a><a href="#ato-disabling">Remover a otimização automática de tabelas</a><a href="#ato-monitoring-actions">Ações de monitoramento de otimização automática de tabelas</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="t_Creating_tables">Trabalhar com otimização automática de tabelas</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Otimização automática de tabelas é um recurso de auto-ajuste que otimiza automaticamente o design de tabelas aplicando chaves de classificação e distribuição sem a necessidade de intervenção do administrador. Usando a automação para ajustar o design de tabelas, você pode começar a usar e obter a performance mais rápida sem investir tempo para ajustar manualmente e implementar otimizações de tabelas. </p><p>A otimização automática de tabelas observa continuamente como as consultas interagem com tabelas. Ele usa métodos avançados de inteligência artificial para escolher chaves de classificação e distribuição para otimizar a performance do workload do cluster. Se o Amazon Redshift determinar que a aplicação de uma chave melhora a performance do cluster, as tabelas serão alteradas automaticamente em poucas horas a partir do momento em que o cluster foi criado, com impacto mínimo nas consultas. </p><p>Para aproveitar essa automação, um administrador do Amazon Redshift cria uma nova tabela ou altera uma tabela existente para habilitá-la a usar a otimização automática. Tabelas existentes com um estilo de distribuição ou chave de classificação de <code class="code">AUTO</code> já estão habilitados para automação. Quando você executa consultas nessas tabelas, o Amazon Redshift determina se uma chave de classificação ou uma chave de distribuição melhorará a performance. Em caso afirmativo, o Amazon Redshift modificará automaticamente a tabela sem exigir a intervenção do administrador. Se um número mínimo de consultas for executado, as otimizações serão aplicadas dentro de horas após o cluster ser iniciado. </p><p> Se o Amazon Redshift determinar que uma chave de distribuição melhora a performance das consultas, tabelas onde o estilo de distribuição é <code class="code">AUTO</code> pode ter seu estilo de distribuição alterado para <code class="code">KEY</code>.</p><div class="highlights"><h6>Tópicos</h6><ul><li><a href="#ato-enabling">Habilitar a otimização automática de tabelas</a></li><li><a href="#ato-disabling">Remover a otimização automática de tabelas de uma tabela</a></li><li><a href="#ato-monitoring-actions">Ações de monitoramento de otimização automática de tabelas</a></li><li><a href="./t_Compressing_data_on_disk.html">Trabalhar com compactação de coluna</a></li><li><a href="./t_Distributing_data.html">Trabalhar com estilos de distribuição de dados</a></li><li><a href="./t_Sorting_data.html">Trabalhar com chaves de classificação</a></li><li><a href="./t_Defining_constraints.html">Definição de restrições de tabelas</a></li></ul></div>
        <h2 id="ato-enabling">Habilitar a otimização automática de tabelas</h2>
        
        <p>Por padrão, as tabelas criadas sem definir explicitamente chaves de classificação ou chaves de distribuição são definidas como <code class="code">AUTO</code>. No momento da criação da tabela, você também pode definir explicitamente uma chave de classificação ou distribuição manualmente. Se você definir a chave de classificação ou distribuição, a tabela não será gerenciada automaticamente. </p>
        
        <p>Para permitir que uma tabela existente seja otimizada automaticamente, use as opções de instrução ALTER para alterar a tabela para <code class="code">AUTO</code>. Você pode optar por definir a automação para chaves de classificação, mas não para chaves de distribuição (e vice-versa). Se você executar uma instrução ALTER para converter uma tabela para ser uma tabela automatizada, chaves de classificação existentes e estilos de distribuição serão preservados. </p>           
        
        <pre class="programlisting"><div class="code-btn-container"></div><code class="sql ">ALTER TABLE <code class="replaceable">table_name</code> ALTER SORTKEY AUTO;</code></pre> 
        <pre class="programlisting"><div class="code-btn-container"></div><code class="sql ">ALTER TABLE <code class="replaceable">table_name</code> ALTER DISTSTYLE AUTO;</code></pre>
        
        <p>Para obter mais informações, consulte <a href="./r_ALTER_TABLE.html">ALTER TABLE</a>.</p>
        
        <p>Inicialmente, uma tabela não tem chave de distribuição ou chave de classificação. O estilo de distribuição é definido como <code class="code">EVEN</code> ou <code class="code">ALL</code>dependendo do tamanho da tabela. À medida que a tabela cresce em tamanho, o Amazon Redshift aplica as chaves de distribuição e as chaves de classificação ideais. As otimizações são aplicadas dentro de horas após um número mínimo de consultas serem executadas. Ao determinar otimizações de chave de classificação, o Amazon Redshift tenta otimizar os blocos de dados lidos do disco durante uma varredura de tabela. Ao determinar otimizações de estilo de distribuição, o Amazon Redshift tenta otimizar o número de bytes transferidos entre nós de cluster. </p>
                 
     
        <h2 id="ato-disabling">Remover a otimização automática de tabelas de uma tabela</h2>
        
        <p>Você pode remover uma tabela da otimização automática. A remoção de uma tabela da automação envolve a seleção de uma chave de classificação ou estilo de distribuição. Para alterar o estilo de distribuição, especifique um estilo de distribuição específico. </p>
        
        <pre class="programlisting"><div class="code-btn-container"></div><code class="sql ">ALTER TABLE <code class="replaceable">table_name</code> ALTER DISTSTYLE EVEN;</code></pre>
        <pre class="programlisting"><div class="code-btn-container"></div><code class="sql ">ALTER TABLE <code class="replaceable">table_name</code> ALTER DISTSTYLE ALL;</code></pre>
        <pre class="programlisting"><div class="code-btn-container"></div><code class="sql ">ALTER TABLE <code class="replaceable">table_name</code> ALTER DISTSTYLE KEY DISTKEY <code class="replaceable">c1</code>;</code></pre>
        
        <p>Para alterar uma chave de classificação, você pode definir uma chave de classificação ou escolher nenhuma. </p>
        
        <pre class="programlisting"><div class="code-btn-container"></div><code class="sql ">ALTER TABLE <code class="replaceable">table_name</code> ALTER SORTKEY(<code class="replaceable">c1, c2</code>);</code></pre>
        <pre class="programlisting"><div class="code-btn-container"></div><code class="sql ">ALTER TABLE <code class="replaceable">table_name</code> ALTER SORTKEY NONE;</code></pre>
     
        <h2 id="ato-monitoring-actions">Ações de monitoramento de otimização automática de tabelas</h2>
        
        <p>A visualização do sistema <code class="code">SVV_ALTER_TABLE_RECOMMENDATIONS</code> registra as recomendações atuais do Amazon Redshift Advisor para tabelas. Essa exibição mostra recomendações para todas as tabelas, aquelas que são definidas para otimização automática e aquelas que não são. </p>
        <p>Para visualizar se uma tabela está definida para otimização automática, consulte a visualização do sistema <code class="code">SVV_TABLE_INFO</code>. As entradas aparecem somente para tabelas visíveis no banco de dados da sessão atual. Recomendações são inseridas na exibição duas vezes por dia, começando em horas a partir do momento em que o cluster foi criado. Após uma recomendação estar disponível, ela começa dentro de uma hora. Depois que uma recomendação for aplicada (pelo Amazon Redshift ou por você), ela não aparecerá mais na visualização. </p>
        
        <p>A visualização do sistema <code class="code">SVL_AUTO_WORKER_ACTION</code> mostra um log de auditoria de todas as ações realizadas pelo Amazon Redshift e o estado anterior da tabela.</p>       
        
        <p>A visualização do sistema <code class="code">SVV_TABLE_INFO</code> lista todas as tabelas no sistema, juntamente com uma coluna para indicar se a chave de classificação e o estilo de distribuição da tabela estão definidos como <code class="code">AUTO</code>. </p> 
        <p>Para obter mais informações sobre essas visualizações de sistema, consulte <a href="./c_intro_system_views.html">Monitoramento do sistema (somente provisionado)</a>.</p>   
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Atenção" /> <strong>O Javascript está desativado ou não está disponível no seu navegador.</strong></p><p>Para usar a documentação da AWS, o Javascript deve estar ativado. Consulte as páginas de Ajuda do navegador para obter instruções.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenções do documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./tutorials-redshift.html">Tutoriais</div><div id="next" class="next-link" accesskey="n" href="./t_Compressing_data_on_disk.html">Trabalhar com compactação de coluna</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Essa página foi útil? - Sim</div><div class="content"><p>Obrigado por nos informar que estamos fazendo um bom trabalho!</p><p>Se tiver tempo, conte-nos sobre o que você gostou para que possamos melhorar ainda mais.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/t_Creating_tables.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Essa página foi útil? - Não</div><div class="content"><p>Obrigado por nos informar que precisamos melhorar a página. Lamentamos ter decepcionado você.</p><p>Se tiver tempo, conte-nos como podemos melhorar a documentação.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/t_Creating_tables.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>