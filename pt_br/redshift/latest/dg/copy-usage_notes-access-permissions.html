<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="pt-BR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Permissões para acessar outros recursos da AWS - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="copy-usage_notes-access-permissions" /><meta name="default_state" content="copy-usage_notes-access-permissions" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/copy-usage_notes-access-permissions.html" /><meta name="description" content="Para mover dados entre o cluster e outro recurso da AWS, como Amazon S3, Amazon DynamoDB, Amazon EMR, ou Amazon EC2, o cluster deve ter permissão para acessar o recurso e realizar as ações necessárias. Por exemplo, para carregar dados do Amazon S3, COPY deve ter acesso LIST ao bucket e acesso GET para os objetos de bucket. Para obter informações sobre permissões mínimas, consulte" /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guia do desenvolvedor de banco de dados" /><meta name="abstract" content="Crie e gerencie um data warehouse com o Amazon Redshift, um serviço de data warehouse totalmente gerenciado, em escala de petabyte e de nível empresarial." /><meta name="guide-locale" content="pt_br" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/copy-usage_notes-access-permissions.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/copy-usage_notes-access-permissions.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guia do desenvolvedor de banco de dados" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guia do desenvolvedor de banco de dados" /><meta id="panorama-serviceConsolePage" value="Permissões para acessar outros recursos da AWS" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Permissões para acessar outros recursos da AWS - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#copy-usage_notes-access-permissions" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/copy-usage_notes-access-permissions.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/copy-usage_notes-access-permissions.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/copy-usage_notes-access-permissions.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,desenvolvedor,dados de amostra,banco de dados,desenvolvedor do banco de dados,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guia do desenvolvedor de banco de dados",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Referência SQL",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Comandos SQL",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "COPY",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_COPY.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Observações de uso",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_COPY_usage_notes.html"
      },
      {
        "@type" : "ListItem",
        "position" : 8,
        "name" : "Permissões para acessar outros recursos da AWS",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_COPY_usage_notes.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#copy-usage_notes-access-permissions" target="_blank" rel="noopener noreferrer" title="Abrir em PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentação</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guia do desenvolvedor de banco de dados</a></div><div id="page-toc-src"><a href="#copy-usage_notes-access-role-based">Controle de acesso com base em função</a><a href="#copy-usage_notes-access-key-based">Controle de acesso com base em chave</a><a href="#copy-usage_notes-iam-permissions">Permissões do IAM</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="copy-usage_notes-access-permissions">Permissões para acessar outros recursos da AWS</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p> Para mover dados entre o cluster e outro recurso da AWS, como Amazon S3, Amazon DynamoDB, Amazon EMR, ou Amazon EC2, o cluster deve ter permissão para acessar o recurso e realizar as ações necessárias. Por exemplo, para carregar dados do Amazon S3, COPY deve ter acesso LIST ao bucket e acesso GET para os objetos de bucket. Para obter informações sobre permissões mínimas, consulte <a href="#copy-usage_notes-iam-permissions">Permissões do IAM para COPY, UNLOAD e CREATE LIBRARY</a>.</p><p>Para obter autorização a fim de acessar o recurso, o cluster deve ser autenticado. Você pode escolher qualquer um dos seguintes métodos de autenticação: </p><div class="itemizedlist">
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p><a href="#copy-usage_notes-access-role-based">Controle de acesso com base em função</a> – Para controle de acesso baseado na função, você especifica uma função do AWS Identity and Access Management (IAM) usada pelo cluster na autenticação e na autorização. Para resguardar as credenciais da AWS e os dados sigilosos, é altamente recomendável usar a autenticação baseada na função.</p>
            </li><li class="listitem">
               <p><a href="#copy-usage_notes-access-key-based">Controle de acesso com base em chave</a> – Para controle de acesso baseado em chave, você fornece as credenciais de acesso da AWS (ID da chave de acesso e chave de acesso secreta) para um usuário como texto sem formatação.</p>
            </li></ul></div>
            <h2 id="copy-usage_notes-access-role-based">Controle de acesso com base em função</h2>

            <p>Com <span>controle de acesso baseado na função</span>, o cluster pressupõe temporariamente uma função do IAM em seu nome. Então, com base nas autorizações concedidas para a função, seu cluster pode acessar os recursos da AWS necessários.</p>
            <p>Criar um <em>perfil</em> do IAM é semelhante a conceder permissões a um usuário no sentido de ser uma identidade da AWS com políticas de permissão que determinam o que a identidade pode e não pode fazer na AWS. No entanto, em vez de ser exclusivamente associada a um usuário, uma função pode ser assumida por qualquer entidade que precise dela. Além disso, uma função não tem credenciais (uma senha ou chaves de acesso) associadas. Em vez disso, se uma função estiver associada a um cluster, as chaves de acesso serão criadas dinamicamente e fornecidas para o cluster.</p>
            <p>Recomendamos o uso do controle de acesso baseado em função, pois ele fornece um controle refinado e mais seguro do acesso aos recursos da AWS e dados sigilosos do usuário, além de proteger suas credenciais da AWS.</p>
            <p>A autenticação com base na função oferece os seguintes benefícios:</p>
            <div class="itemizedlist">
                
                
                
                
            <ul class="itemizedlist"><li class="listitem">
                  <p>Você pode usar as ferramentas do IAM padrão da AWS para definir uma função do IAM e associar a função a vários clusters. Quando você modifica a política de acesso de uma função, as alterações são aplicadas automaticamente a todos os clusters que usam a função.</p>
               </li><li class="listitem">
                  <p>Você pode definir políticas do IAM refinadas que concedem permissões para clusters específicos e usuários de banco de dados acessarem recursos e ações específicos da AWS.</p>
               </li><li class="listitem">
                  <p>O cluster obtém credenciais de sessão temporária em tempo de execução e atualiza as credenciais conforme necessário até a operação ser concluída. Se você usar credenciais temporárias baseadas na chave, a operação falhará se as credenciais temporárias expirarem antes de serem concluídas.</p>
               </li><li class="listitem">
                  <p>O ID de chave de acesso e o ID de chave de acesso secreta não são armazenados nem transmitidos no código SQL.</p>
               </li></ul></div>
            <p>Para usar o controle de acesso com base em função, você primeiro deve criar uma função do IAM usando o tipo de função de serviço do Amazon Redshift e, em seguida, anexar a função ao seu cluster. A função deve ter, pelo menos, as permissões listadas em <a href="#copy-usage_notes-iam-permissions">Permissões do IAM para COPY, UNLOAD e CREATE LIBRARY</a>. Para conhecer as etapas de criação de um perfil do IAM e anexá-lo ao cluster, consulte “<a href="https://docs.aws.amazon.com/redshift/latest/mgmt/authorizing-redshift-service.html">Autorizar o Amazon Redshift a acessar outros serviços da AWS em seu nome</a>” no <em>Guia de gerenciamento de clusters do Amazon Redshift</em>.</p>
            
            <p>Você pode adicionar uma função a um cluster ou visualizar as funções associadas a um cluster usando o Console de Gerenciamento do Amazon Redshift, a CLI ou a API. Para obter mais informações, consulte “<a href="https://docs.aws.amazon.com/redshift/latest/mgmt/copy-unload-iam-role.html">Autorizar operações COPY, UNLOAD, CREATE EXTERNAL FUNCTION e CREATE EXTERNAL SCHEMA usando funções do IAM</a>” no <em>Guia de gerenciamento de clusters do Amazon Redshift</em>.</p>
            <p>Quando você cria uma função do IAM, o IAM retorna um nome de recurso da Amazon (ARN) para a função. Para especificar uma função do IAM, forneça ao ARN da função o parâmetro <a href="./copy-parameters-authorization.html#copy-iam-role">IAM_ROLE</a> ou o parâmetro <a href="./copy-parameters-authorization.html#copy-credentials">CREDENTIALS</a>. </p>
            <p>Por exemplo, suponhamos que a função a seguir esteja anexada ao cluster.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">"IamRoleArn": "arn:aws:iam::0123456789012:role/MyRedshiftRole"</code></pre>
            <p>O exemplo de comando COPY a seguir usa o parâmetro IAM_ROLE com o ARN no exemplo anterior para autenticação e acesso ao Amazon S3.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">copy customer from 's3://mybucket/mydata'  
iam_role 'arn:aws:iam::0123456789012:role/MyRedshiftRole';</code></pre>
            <p>O exemplo de comando COPY a seguir usa o parâmetro CREDENTIALS para especificar a função do IAM.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">copy customer from 's3://mybucket/mydata' 
credentials 
'aws_iam_role=arn:aws:iam::0123456789012:role/MyRedshiftRole';</code></pre>
            <p>Além disso, um superusuário pode conceder o privilégio ASSUMEROLE aos usuários e grupos do banco de dados para fornecer acesso a uma função para operações COPY. Para obter mais informações, consulte <a href="./r_GRANT.html">GRANT</a>.</p>
          
            <h2 id="copy-usage_notes-access-key-based">Controle de acesso com base em chave</h2>

            <p>Com <span>controle de acesso baseado em chave</span>, você fornece o ID da chave de acesso e a chave de acesso secreta de um usuário do IAM autorizado a acessar os recursos da AWS que contêm os dados. Você pode usar os parâmetros <a href="./copy-parameters-authorization.html#copy-access-key-id">ACCESS_KEY_ID and SECRET_ACCESS_KEY</a> juntos ou o parâmetro <a href="./copy-parameters-authorization.html#copy-credentials">CREDENTIALS</a>.</p>
            
            
            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>É altamente recomendável usar uma função do IAM para autenticação em vez de fornecer um ID da chave de acesso de texto simples e uma chave de acesso secreta. Se você escolher o controle de acesso com base em chave, nunca use as credenciais de sua conta da AWS (raiz). Sempre crie um usuário do IAM e forneça o ID da chave de acesso e a chave de acesso secreta desse usuário. Para obter as etapas para criar um usuário do IAM, consulte <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users_create.html">Criação de um usuário do IAM em sua conta da AWS</a>.</p></div></div>
            
            <p>Para se autenticar usando ACCESS_KEY_ID e SECRET_ACCESS_KEY, substitua <code class="replaceable">&lt;access-key-id&gt;</code> e <code class="replaceable">&lt;secret-access-key&gt;</code> por um ID de chave de acesso do usuário autorizado e uma chave de acesso secreta completa conforme mostrado a seguir. </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">ACCESS_KEY_ID '<code class="replaceable">&lt;access-key-id&gt;</code>'
SECRET_ACCESS_KEY '<code class="replaceable">&lt;secret-access-key&gt;</code>';</code></pre>
            <p>Para se autenticar usando o parâmetro CREDENTIALS, substitua <code class="replaceable">&lt;access-key-id&gt;</code> e <code class="replaceable">&lt;secret-access-key&gt;</code> por um ID de chave de acesso do usuário autorizado e uma chave de acesso secreta completa conforme mostrado a seguir.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">CREDENTIALS
'aws_access_key_id=<code class="replaceable">&lt;access-key-id&gt;</code>;aws_secret_access_key=<code class="replaceable">&lt;secret-access-key&gt;</code>';</code></pre>

            
            <p>O usuário do IAM deve ter, pelo menos, as permissões listadas em <a href="#copy-usage_notes-iam-permissions">Permissões do IAM para COPY, UNLOAD e CREATE LIBRARY</a>.</p>


             
               <h3 id="r_copy-temporary-security-credentials">Credenciais de segurança temporárias</h3>


               <p> Se estiver usando o controle de acesso baseado na chave, você poderá limitar ainda o acesso que usuários têm aos dados usando credenciais de segurança temporárias. A autenticação baseada na função usa automaticamente credenciais temporárias. </p>
               <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>É altamente recomendável usar <a href="#copy-usage_notes-access-role-based.phrase">role-based access control</a>, em vez de criar credenciais temporárias e fornecer o ID de chave de acesso e a chave de acesso secreta como texto sem formatação. O controle de acesso baseado em perfil usa automaticamente credenciais temporárias. </p></div></div>
               <p>As credenciais de segurança temporárias fornecem segurança avançada, pois possuem vidas úteis curtas e não podem ser reutilizadas depois que expiram. A ID da chave de acesso e a chave de acesso secreta geradas com o token não podem ser usadas sem o token, e um usuário que tiver essas credenciais de segurança temporárias poderá acessar os recursos somente até as credenciais expirarem.</p>
               <p>Para conceder a usuários acesso temporário aos recursos, você chama operações da API do AWS Security Token Service (AWS STS). As operações da API do AWS STS retornam credenciais de segurança temporárias que consistem em um token de segurança, um ID de chave de acesso e uma chave de acesso secreta. Você emite as credenciais de segurança temporárias para os usuários que precisam de acesso temporário aos recursos. Esses usuários podem ser usuários do IAM existentes ou podem não ser usuários da AWS. Para obter mais informações sobre como criar credenciais de segurança temporárias, consulte <a href="https://docs.aws.amazon.com/STS/latest/UsingSTS/Welcome.html">Usar credenciais de segurança temporárias</a> no Manual do usuário do IAM.</p>
               <p>É possível usar os parâmetros <a href="./copy-parameters-authorization.html#copy-access-key-id">ACCESS_KEY_ID and SECRET_ACCESS_KEY</a> com o parâmetro <a href="./copy-parameters-authorization.html#copy-token">SESSION_TOKEN</a> ou o parâmetro <a href="./copy-parameters-authorization.html#copy-credentials">CREDENTIALS</a>. Você também deve fornecer o ID de chave de acesso e a chave de acesso secreta que acompanhavam o token.</p>
               <p>Para se autenticar usando ACCESS_KEY_ID, SECRET_ACCESS_KEY e SESSION_TOKEN, substitua <code class="replaceable">&lt;temporary-access-key-id&gt;</code>, <code class="replaceable">&lt;temporary-secret-access-key&gt;</code> e <code class="replaceable">&lt;temporary-token&gt;</code> conforme mostrado a seguir. </p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">ACCESS_KEY_ID '<code class="replaceable">&lt;temporary-access-key-id&gt;</code>'
SECRET_ACCESS_KEY '<code class="replaceable">&lt;temporary-secret-access-key&gt;</code>'
SESSION_TOKEN '<code class="replaceable">&lt;temporary-token&gt;</code>';</code></pre>
               <p>Para se autenticar usando CREDENTIALS, inclua <code class="code">session_token=<code class="replaceable">&lt;temporary-token&gt;</code></code> na string de credenciais conforme mostrado a seguir. </p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">CREDENTIALS
'aws_access_key_id=<code class="replaceable">&lt;temporary-access-key-id&gt;</code>;aws_secret_access_key=<code class="replaceable">&lt;temporary-secret-access-key&gt;</code>;session_token=<code class="replaceable">&lt;temporary-token&gt;</code>';</code></pre>
               <p>O exemplo a seguir mostra um comando COPY com credenciais de segurança temporárias.</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">copy table-name
from 's3://objectpath'
access_key_id '<code class="replaceable">&lt;temporary-access-key-id&gt;</code>'
secret_access_key '<code class="replaceable">&lt;temporary-secret-access-key&gt;</code>'
session_token '<code class="replaceable">&lt;temporary-token&gt;</code>';</code></pre>
               <p>O exemplo a seguir carrega a tabela LISTING com credenciais temporárias e criptografia de arquivos.</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">copy listing
from 's3://mybucket/data/listings_pipe.txt'
access_key_id '<code class="replaceable">&lt;temporary-access-key-id&gt;</code>'
secret_access_key '<code class="replaceable">&lt;temporary-secret-access-key&gt;</code>'
session_token '<code class="replaceable">&lt;temporary-token&gt;</code>'
master_symmetric_key '<code class="replaceable">&lt;root-key&gt;</code>'
encrypted;</code></pre>
               <p>O exemplo a seguir carrega a tabela LISTING usando o parâmetro CREDENTIALS com credenciais temporárias e criptografia de arquivos.</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">copy listing
from 's3://mybucket/data/listings_pipe.txt'
credentials 
'aws_access_key_id=<code class="replaceable">&lt;temporary-access-key-id&gt;</code>;aws_secret_access_key=<code class="replaceable">&lt;temporary-secret-access-key&gt;</code>;session_token=<code class="replaceable">&lt;temporary-token&gt;</code>;master_symmetric_key=<code class="replaceable">&lt;root-key&gt;</code>'
encrypted;</code></pre>
               <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Importante</h6></div><div class="awsdocs-note-text"><p>As credenciais de segurança temporárias devem ser válidas durante toda a duração da operação de COPY ou UNLOAD. Se as credenciais de segurança temporárias expirarem durante a operação, o comando falhará e a transação será revertida. Por exemplo, se as credenciais de segurança temporárias expirarem depois de 15 minutos e a operação COPY exigir uma hora, a operação COPY falhará antes de ser concluída. Se você usar acesso baseado na função, as credenciais de segurança temporárias serão atualizadas automaticamente até a operação ser concluída.</p></div></div>
             
          
            <h2 id="copy-usage_notes-iam-permissions">Permissões do IAM para COPY, UNLOAD e CREATE LIBRARY</h2>


            <p>O usuário ou perfil do IAM referenciado pelo parâmetro CREDENTIALS deve ter, pelo menos, as seguintes permissões:</p>
            <div class="itemizedlist">
                
                
                
                
                
                
            <ul class="itemizedlist"><li class="listitem">
                  <p>Para COPY no Amazon S3, a permissão para LIST o bucket do Amazon S3 e GET os objetos do Amazon S3 do carregados, além do arquivo manifesto, se algum for usado.</p>
               </li><li class="listitem">
                  <p>Para COPY do Amazon S3, Amazon EMR e hosts remotos (SSH) com dados formatados em JSON, permissão para LIST e GET o arquivo JSONPaths no Amazon S3, se algum for usado. </p>
               </li><li class="listitem">
                  <p>Para COPY no DynamoDB, permissão para SCAN e DESCRIBE a tabela do DynamoDB que está sendo carregada. </p>
               </li><li class="listitem">
                  <p>Para COPY a partir de um cluster do Amazon EMR, permissão para a ação <code class="code">ListInstances</code> no cluster do Amazon EMR. </p>
               </li><li class="listitem">
                  <p>Para UNLOAD no Amazon S3, as permissões para GET, LIST e PUT para o bucket do Amazon S3 no qual os arquivos de dados estão sendo descarregados.</p>
               </li><li class="listitem">
                  <p>Para CREATE LIBARY do Amazon S3, permissão para LIST o bucket do Amazon S3 e GET os objetos do Amazon S3 a serem importados</p>
               </li></ul></div>
            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Se você receber a mensagem de erro <code class="code">S3ServiceException: Access
                  Denied</code> ao executar um comando COPY, UNLOAD ou CREATE LIBRARY, significa que o cluster não tem permissões de acesso apropriadas para o Amazon S3.</p></div></div>
            <p>É possível gerenciar permissões do IAM anexando uma política do IAM a um perfil do IAM anexado ao cluster, ao usuário ou ao grupo ao qual o usuário pertence. Por exemplo, a política gerenciada <code class="code">AmazonS3ReadOnlyAccess</code> concede permissões LIST e GET a recursos do Amazon S3. Para obter mais informações sobre o gerenciamento de políticas, consulte <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_manage.html">Gerenciando políticas do IAM</a> no <em>Manual do usuário do IAM</em>. </p>

         <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Atenção" /> <strong>O Javascript está desativado ou não está disponível no seu navegador.</strong></p><p>Para usar a documentação da AWS, o Javascript deve estar ativado. Consulte as páginas de Ajuda do navegador para obter instruções.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenções do documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_COPY_usage_notes.html">Observações de uso</div><div id="next" class="next-link" accesskey="n" href="./copy-usage_notes-s3-access-point-alias.html">Usar COPY com aliases de ponto de acesso do Amazon S3</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Essa página foi útil? - Sim</div><div class="content"><p>Obrigado por nos informar que estamos fazendo um bom trabalho!</p><p>Se tiver tempo, conte-nos sobre o que você gostou para que possamos melhorar ainda mais.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/copy-usage_notes-access-permissions.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Essa página foi útil? - Não</div><div class="content"><p>Obrigado por nos informar que precisamos melhorar a página. Lamentamos ter decepcionado você.</p><p>Se tiver tempo, conte-nos como podemos melhorar a documentação.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/copy-usage_notes-access-permissions.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>