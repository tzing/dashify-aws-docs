<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="pt-BR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Visualizações materializadas automatizadas - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="materialized-view-auto-mv" /><meta name="default_state" content="materialized-view-auto-mv" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-auto-mv.html" /><meta name="description" content="Saiba mais sobre visualizações materializadas automatizadas." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guia do desenvolvedor de banco de dados" /><meta name="abstract" content="Crie e gerencie um data warehouse com o Amazon Redshift, um serviço de data warehouse totalmente gerenciado, em escala de petabyte e de nível empresarial." /><meta name="guide-locale" content="pt_br" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-auto-mv.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-auto-mv.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guia do desenvolvedor de banco de dados" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guia do desenvolvedor de banco de dados" /><meta id="panorama-serviceConsolePage" value="Visualizações materializadas automatizadas" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Visualizações materializadas automatizadas - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#materialized-view-auto-mv" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-auto-mv.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-auto-mv.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-auto-mv.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,desenvolvedor,dados de amostra,banco de dados,desenvolvedor do banco de dados,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guia do desenvolvedor de banco de dados",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Criar visualizações materializadas no Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-overview.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Visualizações materializadas automatizadas",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-overview.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#materialized-view-auto-mv" target="_blank" rel="noopener noreferrer" title="Abrir em PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentação</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guia do desenvolvedor de banco de dados</a></div><div id="page-toc-src"><a href="#materialized-view-auto-mv-important">Escopo e considerações de SQL para visualizações materializadas automatizadas</a><a href="#materialized-view-auto-mv-limitations">Visualizações materializadas automatizadas</a><a href="#materialized-view-auto-mv-billing">Faturamento para visões materializadas automatizadas</a><a href="#materialized-view-auto-mv-resources">Recursos adicionais</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="materialized-view-auto-mv">Visualizações materializadas automatizadas</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>As visualizações materializadas são uma ferramenta poderosa para melhorar a performance da consulta no Amazon Redshift. Elas fazem isso armazenando um conjunto de resultados pré-calculado. Consultas semelhantes não precisam executar novamente a mesma lógica toda vez, pois elas podem recuperar registros do conjunto de resultados existente. Desenvolvedores e analistas criam visualizações materializadas depois de analisar suas workloads para determinar quais consultas trariam benefício e se o custo de manutenção de cada visualização materializada vale a pena. À medida que as workloads aumentam ou são alteradas, essas exibições materializadas precisam ser revisadas para garantir que continuem a fornecer benefícios de performance tangíveis.</p><p>O recurso de visualizações materializadas automatizadas (AutoMV) no Redshift oferece os mesmos benefícios de performance das visualizações materializadas criadas pelo usuário. O Amazon Redshift monitora continuamente a workload usando machine learning e cria visões materializadas quando são benéficas. A AutoMV equilibra os custos de criação e atualização de exibições materializadas em relação aos benefícios esperados para a latência da consulta. O sistema também monitora as AutoMVs criadas anteriormente e as descarta quando não são mais benéficas.</p><p>O comportamento e os recursos da AutoMV são os mesmos que as visualizações materializadas criadas pelo usuário. São atualizadas automaticamente e incrementalmente, usando os mesmos critérios e restrições. Assim como as visões materializadas criadas pelo usuário, o <a href="./materialized-view-auto-rewrite.html">Regravação automática de consulta para usar visualizações materializadas</a> identifica consultas que podem se beneficiar das AutoMVs criadas pelo sistema. Ele regrava automaticamente essas consultas para usar o AutoMVS, melhorando a performance da consulta. Os desenvolvedores não precisam revisar as consultas para aproveitar a AutoMV.</p><p></p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>As visualizações materializadas automatizadas são atualizadas de forma intermitente. As consultas regravadas para usar o AutoMV sempre retornam os resultados mais recentes. Quando o Redshift detecta que os dados não estão atualizados, as consultas não são regravadas para serem lidas de visões materializadas automatizadas. Em vez disso, as consultas selecionam os dados mais recentes das tabelas de base.</p></div></div><p>Qualquer workload com consultas usadas repetidamente pode se beneficiar da AutoMV. Entre os casos de uso comuns estão:</p><div class="itemizedlist">
             

             
        <ul class="itemizedlist"><li class="listitem"><p><em>Painéis</em>: os painéis são bastante utilizados para fornecer visualizações rápidas dos principais indicadores de negócios (KPIs), eventos, tendências e outras métricas. Geralmente apresentam um layout comum com gráficos e tabelas, mas mostram diferentes visualizações para filtragem ou para operações de seleção de dimensões, como busca detalhada para baixo. Os painéis muitas vezes têm um conjunto comum de consultas usadas repetidamente com parâmetros diferentes. As consultas de painel podem se beneficiar muito de visualizações materializadas automatizadas.</p></li><li class="listitem">
                <p> <em>Relatórios</em>: as consultas de relatórios podem ser programadas em várias frequências, com base nos requisitos de negócios e no tipo de relatório. Além disso, podem ser automatizadas ou sob demanda. Uma característica comum das consultas de relatórios é que elas podem ser de longa duração e uso intensivo de recursos. Com a AutoMV, essas consultas não precisam ser recalculadas sempre que forem executadas, o que reduz o ambiente de tempo de execução para cada consulta e utilização de recursos no Redshift. </p>
            </li></ul></div><p>Para desativar as visualizações materializadas automatizadas, atualize o grupo de parâmetros <code class="code">auto_mv</code> para <code class="code">false</code>. Para obter mais informações, consulte <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/working-with-parameter-groups.html">Grupos de parâmetros do Amazon Redshift</a> no Guia de gerenciamento de clusters do Amazon Redshift.</p>
            <h2 id="materialized-view-auto-mv-important">Escopo e considerações de SQL para visualizações materializadas automatizadas</h2>
            <div class="itemizedlist">
                 
                 
                
                 
   
   
                 
            <ul class="itemizedlist"><li class="listitem"><p>Uma visão materializada automática pode ser iniciada e criada por uma consulta ou subconsulta, desde que contenha uma cláusula <code class="code">GROUP BY</code> ou uma das seguintes funções agregadas: SUM, COUNT, MIN, MAX ou AVG. No entanto, ela não pode conter nenhum destes itens:</p>
                <div class="itemizedlist">
                     
                     
                     
                     
                     
                
                     
                <ul class="itemizedlist"><li class="listitem"><p>Esquerda, direita ou junções externas completas</p></li><li class="listitem"><p>Funções agregadas, como SUM, COUNT, MIN, MAX e AVG. (Essas funções específicas funcionam com a regravação de consulta automática.)</p></li><li class="listitem"><p>Qualquer função agregada que inclua DISTINCT.</p></li><li class="listitem"><p>Todas as funções da janela</p></li><li class="listitem"><p>Cláusulas SELECT DISTINCT ou HAVING</p></li><li class="listitem"><p>Outras visualizações materializadas</p></li></ul></div>
                    <p>Não é garantido que uma consulta que atenda aos critérios iniciará a criação de uma visão materializada automática. O sistema determina de quais candidatos se deve criar uma visão, com base no benefício esperado para a workload e no custo dos recursos a serem mantidos, o que inclui o custo de atualização do sistema. Cada visão materializada resultante é utilizável pela regravação de consulta automática.</p></li><li class="listitem"><p>Mesmo que a AutoMV possa ser iniciada por uma subconsulta ou trechos individuais de operadores de conjunto, a visão materializada resultante não conterá subconsultas nem operadores de conjunto.</p></li><li class="listitem"><p>Para determinar se a AutoMV foi usada para consultas, veja o plano EXPLAIN e procure <code class="code">%_auto_mv_%</code> na saída. Para obter mais informações, consulte <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_EXPLAIN.html">EXPLAIN</a>.</p></li><li class="listitem"><p>As visões materializadas automatizadas não são compatíveis em tabelas externas, como unidades de compartilhamento de dados e tabelas federadas.</p></li></ul></div>
         
            <h2 id="materialized-view-auto-mv-limitations">Visualizações materializadas automatizadas</h2>
            <p>Veja a seguir as limitações para trabalhar com visualizações materializadas:</p>
            <div class="itemizedlist">
                 
        

                 

            <ul class="itemizedlist"><li class="listitem"><p><em>Número máximo de AutoMVs</em>: o limite de visões materializadas automatizadas é 200 por banco de dados no cluster.</p></li><li class="listitem"><p><em>Espaço e capacidade de armazenamento</em>: uma característica importante da AutoMV é que ela é executada usando ciclos de fundo sobressalentes para ajudar a garantir que as workloads do usuário não sejam afetadas. Se o cluster estiver ocupado ou ficar sem espaço de armazenamento, o AutoMV interromperá sua atividade. Especificamente, com 80% da capacidade total do cluster, nenhuma nova visão materializada automatizada é criada. Com 90% da capacidade total, elas podem ser descartadas para viabilizar que as workloads do usuário continuem sem degradação da performance. Para obter mais informações sobre como determinar a capacidade de clusters, consulte <a href="./r_STV_NODE_STORAGE_CAPACITY.html">STV_NODE_STORAGE_CAPACITY</a>.</p></li></ul></div>
         
            <h2 id="materialized-view-auto-mv-billing">Faturamento para visões materializadas automatizadas</h2>
            <p> O recurso de otimização automática do Amazon Redshift cria e atualiza visões materializadas automatizadas. Não há cobrança por recursos computacionais para esse processo. O armazenamento de visões materializadas automatizadas é cobrado de acordo com a taxa normal de armazenamento. Para obter mais informações, consulte <a href="https://aws.amazon.com/redshift/pricing/" rel="noopener noreferrer" target="_blank"><span>Preços do Amazon Redshift</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
         
            <h2 id="materialized-view-auto-mv-resources">Recursos adicionais</h2>
            <p> A postagem do blog a seguir fornece mais explicações sobre visões materializadas automatizadas. Ele detalha como eles são criados, mantidos e descartados. Também explica os algoritmos subjacentes que impulsionam essas decisões: <a href="https://aws.amazon.com/blogs//big-data/optimize-your-amazon-redshift-query-performance-with-automated-materialized-views/" rel="noopener noreferrer" target="_blank"><span>Optimize your Amazon Redshift query performance with automated materialized views</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> (Otimizar a performance de suas consultas do Amazon Redshift com visões materializadas automatizadas).</p>
      
            <p> Este vídeo começa com uma explicação das visões materializadas e mostra como elas melhoram a performance e conservam recursos. Depois, ele fornece uma explicação detalhada das visões materializadas automatizadas com uma animação de fluxo de processo e uma demonstração ao vivo. </p> 
            <div class="mediaobject">
                 
                    <iframe width="560" height="315" frameborder="0" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen="" sandbox="allow-scripts allow-same-origin allow-popups" src="https://www.youtube-nocookie.com/embed/-85GSBQOBTA"></iframe>
                 
            </div>
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Atenção" /> <strong>O Javascript está desativado ou não está disponível no seu navegador.</strong></p><p>Para usar a documentação da AWS, o Javascript deve estar ativado. Consulte as páginas de Ajuda do navegador para obter instruções.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenções do documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./materialized-view-refresh.html">Atualizar uma visualização materializada</div><div id="next" class="next-link" accesskey="n" href="./materialized-view-UDFs.html">Como usar uma função definida pelo usuário (UDF) em uma visão materializada</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Essa página foi útil? - Sim</div><div class="content"><p>Obrigado por nos informar que estamos fazendo um bom trabalho!</p><p>Se tiver tempo, conte-nos sobre o que você gostou para que possamos melhorar ainda mais.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-auto-mv.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Essa página foi útil? - Não</div><div class="content"><p>Obrigado por nos informar que precisamos melhorar a página. Lamentamos ter decepcionado você.</p><p>Se tiver tempo, conte-nos como podemos melhorar a documentação.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-auto-mv.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>