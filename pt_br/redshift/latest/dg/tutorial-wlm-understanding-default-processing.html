<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="pt-BR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Seção 1: Compreender o comportamento do processamento de filas padrão - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="tutorial-wlm-understanding-default-processing" /><meta name="default_state" content="tutorial-wlm-understanding-default-processing" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/tutorial-wlm-understanding-default-processing.html" /><meta name="description" content="Antes de começar a configurar o WLM manual, é útil entender o comportamento padrão do processamento de fila no Amazon Redshift. Nesta seção, crie duas visualizações de banco de dados que retornam informações de diversas tabelas do sistema. Depois, execute algumas consultas de teste para saber como as consultas são roteadas por padrão. Para obter mais informações sobre tabelas de sistema, consulte" /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guia do desenvolvedor de banco de dados" /><meta name="abstract" content="Crie e gerencie um data warehouse com o Amazon Redshift, um serviço de data warehouse totalmente gerenciado, em escala de petabyte e de nível empresarial." /><meta name="guide-locale" content="pt_br" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/tutorial-wlm-understanding-default-processing.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/tutorial-wlm-understanding-default-processing.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/tutorial-wlm-understanding-default-processing.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/tutorial-wlm-understanding-default-processing.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/tutorial-wlm-understanding-default-processing.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/tutorial-wlm-understanding-default-processing.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/tutorial-wlm-understanding-default-processing.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/tutorial-wlm-understanding-default-processing.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/tutorial-wlm-understanding-default-processing.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/tutorial-wlm-understanding-default-processing.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/tutorial-wlm-understanding-default-processing.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/tutorial-wlm-understanding-default-processing.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/tutorial-wlm-understanding-default-processing.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/tutorial-wlm-understanding-default-processing.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/tutorial-wlm-understanding-default-processing.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/tutorial-wlm-understanding-default-processing.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/tutorial-wlm-understanding-default-processing.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/tutorial-wlm-understanding-default-processing.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/tutorial-wlm-understanding-default-processing.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/tutorial-wlm-understanding-default-processing.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/tutorial-wlm-understanding-default-processing.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/tutorial-wlm-understanding-default-processing.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guia do desenvolvedor de banco de dados" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guia do desenvolvedor de banco de dados" /><meta id="panorama-serviceConsolePage" value="Seção 1: Compreender o comportamento do processamento de filas padrão" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Seção 1: Compreender o comportamento do processamento de filas padrão - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#tutorial-wlm-understanding-default-processing" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/tutorial-wlm-understanding-default-processing.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/tutorial-wlm-understanding-default-processing.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/tutorial-wlm-understanding-default-processing.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,desenvolvedor,dados de amostra,banco de dados,desenvolvedor do banco de dados,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guia do desenvolvedor de banco de dados",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Como implementar o gerenciamento do workload",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm-c-implementing-workload-management.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Implementar o WLM manual",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm-c-defining-query-queues.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Tutorial: Configuração de filas de gerenciamento do workload (WLM) manual",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/tutorial-configuring-workload-management.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Seção 1: Compreender o comportamento do processamento de filas padrão",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/tutorial-configuring-workload-management.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#tutorial-wlm-understanding-default-processing" target="_blank" rel="noopener noreferrer" title="Abrir em PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentação</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guia do desenvolvedor de banco de dados</a></div><div id="page-toc-src"><a href="#tutorial-wlm-create-queue-state-view">Etapa 1: Criar a visualização WLM_QUEUE_STATE_VW</a><a href="#tutorial-wlm-create-query-state-view">Etapa 2: Criar a visualização WLM_QUERY_STATE_VW</a><a href="#tutorial-wlm-run-test-queries">Etapa 3: Executar consultas de teste</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="tutorial-wlm-understanding-default-processing">Seção 1: Compreender o comportamento do processamento de filas padrão</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Antes de começar a configurar o WLM manual, é útil entender o comportamento padrão do processamento de fila no Amazon Redshift. Nesta seção, crie duas visualizações de banco de dados que retornam informações de diversas tabelas do sistema. Depois, execute algumas consultas de teste para saber como as consultas são roteadas por padrão. Para obter mais informações sobre tabelas de sistema, consulte <a href="./cm_chap_system-tables.html">Referência de visualizações e tabelas do sistema</a>. </p>
            <h2 id="tutorial-wlm-create-queue-state-view">Etapa 1: Criar a visualização WLM_QUEUE_STATE_VW</h2>

            <p>Nesta etapa, crie uma visualização chamada WLM_QUEUE_STATE_VW. Essa visualização retorna informações das tabelas de sistema a seguir.</p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><a href="./r_STV_WLM_CLASSIFICATION_CONFIG.html">STV_WLM_CLASSIFICATION_CONFIG</a></p>
                </li><li class="listitem">
                    <p><a href="./r_STV_WLM_SERVICE_CLASS_CONFIG.html">STV_WLM_SERVICE_CLASS_CONFIG</a></p>
                </li><li class="listitem">
                    <p><a href="./r_STV_WLM_SERVICE_CLASS_STATE.html">STV_WLM_SERVICE_CLASS_STATE</a></p>
                </li></ul></div>
            <p>Essa visualização será usada ao longo do tutorial para monitorar o que acontecerá com as filas depois que alterar a configuração do WLM. A tabela a seguir descreve os dados retornados pela visualização WLM_QUEUE_STATE_VW. </p>
            <div class="table-container"><div class="table-contents"><table id="w319aac43c45c37b5b5b9"><thead>
                        <tr>
                            <th>Coluna</th>
                            <th>Descrição</th>
                        </tr>
                    </thead>
                        <tr>
                            <td tabindex="-1">fila</td>
                            <td tabindex="-1">O número associado à linha que representa uma fila. O número da fila determina a ordem das filas no banco de dados.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">descrição</td>
                            <td tabindex="-1">Um valor que descreve se a fila está disponível somente para determinados grupos de usuários, determinados grupos de consultas ou todos os tipos de consultas.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">slots</td>
                            <td tabindex="-1">O número de slots alocados para a fila.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">mem</td>
                            <td tabindex="-1">O valor de memória, em MB, por slot, alocado para a fila.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">max_execution_time</td>
                            <td tabindex="-1">O valor de tempo em que uma consulta tem permissão para ser executada antes de ser encerrada.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">user_*</td>
                            <td tabindex="-1">Um valor que indique se os caracteres curinga são permitidos na configuração do WLM para corresponder aos grupos de usuários.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">query_*</td>
                            <td tabindex="-1">Um valor que indique se os caracteres curinga são permitidos na configuração do WLM para corresponder aos grupos de consultas.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">queued</td>
                            <td tabindex="-1">O número de consultas que estão aguardando na fila para serem processadas.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">executing</td>
                            <td tabindex="-1">O número de consultas que estão em execução no momento.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">executed</td>
                            <td tabindex="-1">O número de consultas que já foram executadas.</td>
                        </tr>
                    </table></div></div>
             
                <h3 id="how-to-wlm-create-queue-state-view">Como criar a visualização WLM_QUEUE_STATE_VW</h3>

                <div class="orderedlist">
                     
                     
                     
                <ol><li>
                        <p>Abra o <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/rsql-query-tool.html">Amazon Redshift RSQL</a> e conecte-se ao seu banco de dados de amostra TICKIT. Se você não tiver esse banco de dados, consulte <a href="./tutorial-configuring-workload-management.html#tutorial-wlm-prereq">Pré-requisitos</a>.</p>
                    </li><li>
                        <p>Execute a consulta a seguir para criar a visualização WLM_QUEUE_STATE_VW.</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">create view WLM_QUEUE_STATE_VW as
select (config.service_class-5) as queue
, trim (class.condition) as description
, config.num_query_tasks as slots
, config.query_working_mem as mem
, config.max_execution_time as max_time
, config.user_group_wild_card as "user_*"
, config.query_group_wild_card as "query_*"
, state.num_queued_queries queued
, state.num_executing_queries executing
, state.num_executed_queries executed
from
STV_WLM_CLASSIFICATION_CONFIG class,
STV_WLM_SERVICE_CLASS_CONFIG config,
STV_WLM_SERVICE_CLASS_STATE state
where
class.action_service_class = config.service_class 
and class.action_service_class = state.service_class 
and config.service_class &gt; 4
order by config.service_class;</code></pre>
                    </li><li>
                        <p>Execute a consulta a seguir para ver as informações contidas pela visualização.</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select * from wlm_queue_state_vw;</code></pre>
                        <p>Este é um resultado de exemplo.</p>
                        <div class="mediaobject">
                             
                                <img src="images/psql_tutorial_wlm_010.png" class="aws-docs-img-whiteBg aws-docs-img-padding" />
                             
                        </div>
                    </li></ol></div>
             
         
            <h2 id="tutorial-wlm-create-query-state-view">Etapa 2: Criar a visualização WLM_QUERY_STATE_VW</h2>

            <p>Nesta etapa, crie uma visualização chamada WLM_QUERY_STATE_VW. Essa visualização retorna informações da tabela de sistema <a href="./r_STV_WLM_QUERY_STATE.html">STV_WLM_QUERY_STATE</a>.</p>
            <p>Essa visualização será usada ao longo do tutorial para monitorar as consultas em execução. A tabela a seguir descreve os dados retornados pela visualização WLM_QUERY_STATE_VW.</p>
            <div class="table-container"><div class="table-contents"><table id="w319aac43c45c37b5b7b7"><thead>
                        <tr>
                            <th>Coluna</th>
                            <th>Descrição</th>
                        </tr>
                    </thead>
                        <tr>
                            <td tabindex="-1">consulta</td>
                            <td tabindex="-1">O ID da consulta.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">fila</td>
                            <td tabindex="-1">O número da fila.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">slot_count</td>
                            <td tabindex="-1">O número de slots alocados para a consulta.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">start_time</td>
                            <td tabindex="-1">A hora em que a consulta foi iniciada.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">estado</td>
                            <td tabindex="-1">O estado da consulta, como em execução.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">queue_time</td>
                            <td tabindex="-1">O número de microssegundos em que a consulta passou na fila.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">exec_time</td>
                            <td tabindex="-1">O número de microssegundos transcorridos desde que a consulta foi executada.</td>
                        </tr>
                    </table></div></div>
             
                <h3 id="how-to-wlm-create-query-state-view">Como criar a visualização WLM_QUERY_STATE_VW</h3>

                <div class="orderedlist">
                     
                     
                <ol><li>
                        <p>Em RSQL, execute a consulta a seguir para criar a visualização WLM_QUERY_STATE_VW.</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">create view WLM_QUERY_STATE_VW as
select query, (service_class-5) as queue, slot_count, trim(wlm_start_time) as start_time, trim(state) as state, trim(queue_time) as queue_time, trim(exec_time) as exec_time
from stv_wlm_query_state;</code></pre>
                    </li><li>
                        <p>Execute a consulta a seguir para ver as informações contidas pela visualização.</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select * from wlm_query_state_vw;</code></pre>
                        <p>Este é um resultado de exemplo.</p>
                        <div class="mediaobject">
                             
                                <img src="images/psql_tutorial_wlm_020.png" class="aws-docs-img-whiteBg aws-docs-img-padding" />
                             
                        </div>
                    </li></ol></div>
             
         
            <h2 id="tutorial-wlm-run-test-queries">Etapa 3: Executar consultas de teste</h2>

            <p>Nesta etapa, execute consultas de várias conexões em RSQL e examine as tabelas de sistema para determinar como as consultas foram roteadas para processamento. </p>
            <p>Para esta etapa, são necessárias duas janelas RSQL abertas: </p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>Na janela RSQL 1, execute consultas que monitoram o estado das filas e das consultas usando as visualizações já criadas neste tutorial.</p>
                </li><li class="listitem">
                    <p>Na janela RSQL 2, execute consultas demoradas para alterar os resultados encontrados na janela RSQL 1.</p>
                </li></ul></div>
             
                <h3 id="how-to-wlm-run-test-queries">Como executar as consultas de teste</h3>

                <div class="orderedlist">
                     
                     
                     
                     
                <ol><li>
                        <p>Abra duas janelas RSQL. Se já tiver uma janela aberta, você precisará somente abrir uma segunda. Você pode usar a mesma conta de usuário para ambas as conexões.</p>
                    </li><li>
                        <p>Na janela RSQL 1, execute a consulta a seguir.</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select * from wlm_query_state_vw;</code></pre>
                        <p>Este é um resultado de exemplo.</p>
                        <div class="mediaobject">
                             
                                <img src="images/psql_tutorial_wlm_030.png" class="aws-docs-img-whiteBg aws-docs-img-padding" />
                             
                        </div>
                        <p>Essa consulta retorna um resultado autorreferencial. A consulta em execução no momento é a instrução SELECT nesta visualização. Uma consulta nessa visualização sempre retorna pelo menos um resultado. Compare esse resultado com o resultado ocorrido depois de iniciar a consulta demorada na próxima etapa.</p>
                    </li><li>
                        <p>Na janela RSQL 2, execute uma consulta no banco de dados de exemplo TICKIT. Essa consulta deve ser executada por aproximadamente um minuto, de maneira que você tenha tempo de explorar os resultados das visualizações WLM_QUEUE_STATE_VW e WLM_QUERY_STATE_VW criadas anteriormente. Em alguns casos, você poderá descobrir que a consulta não é executada por tempo suficiente para consultar ambas as visualizações. Nesses casos, aumente o valor do filtro em <code class="code">l.listid </code>para fazer com seja excutada por mais tempo.</p>
                        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Para reduzir o tempo de execução da consulta e melhorar a performance do sistema, o Amazon Redshift armazena em cache os resultados de certos tipos de consultas na memória no nó líder. Quando o cache de resultados estiver habilitado, as consultas subsequentes serão executadas mais rapidamente. Para impedir que a consulta seja executada muito rapidamente, desabilite o cache de resultados para a sessão atual.</p></div></div>
                        <p>Para desabilitar o cache de resultados da sessão atual, defina o parâmetro <a href="./r_enable_result_cache_for_session.html">enable_result_cache_for_session</a> como <code class="code">off</code>, conforme mostrado a seguir.</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">set enable_result_cache_for_session to off;</code></pre>
                        <p>Na janela RSQL 2, execute a consulta a seguir.</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select avg(l.priceperticket*s.qtysold) from listing l, sales s where l.listid &lt; 100000;</code></pre>
                       </li><li>
                        <p>Na janela RSQL 1, as consultas WLM_QUEUE_STATE_VW e WLM_QUERY_STATE_VW comparam os resultados com os resultados anteriores.</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select * from wlm_queue_state_vw;
select * from wlm_query_state_vw;</code></pre>
                        <p>Estes são resultados de exemplo.</p>
                        <div class="mediaobject">
                             
                                <img src="images/psql_tutorial_wlm_040.png" class="aws-docs-img-whiteBg aws-docs-img-padding" />
                             
                        </div>
                        <div class="mediaobject">
                             
                                <img src="images/psql_tutorial_wlm_050.png" class="aws-docs-img-whiteBg aws-docs-img-padding" />
                             
                        </div>
                    </li></ol></div>
                <p>Observe as seguintes diferenças entre as consultas anteriores e os resultados nesta etapa:</p>
                <div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Agora existem duas linhas em WLM_QUERY_STATE_VW. Um resultado é a consulta autorreferencial para executar uma operação SELECT nessa visualização. O segundo resultado é a consulta demorada da etapa anterior.</p>
                    </li><li class="listitem">
                        <p>A coluna em execução em WLM_QUEUE_STATE_VW aumentou de 1 a 2. Essa entrada de coluna significa que existem duas consultas em execução na fila.</p>
                    </li><li class="listitem">
                        <p>A coluna executada é incrementada sempre que você executa uma consulta na fila.</p>
                    </li></ul></div>
                <p>A visualização WLM_QUEUE_STATE_VW é útil para ter uma visualização geral das filas e quantas consultas estão sendo processadas em cada fila. A visualização WLM_QUERY_STATE_VW é útil para obter uma visão mais detalhada das consultas individuais em execução no momento.</p>
             
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Atenção" /> <strong>O Javascript está desativado ou não está disponível no seu navegador.</strong></p><p>Para usar a documentação da AWS, o Javascript deve estar ativado. Consulte as páginas de Ajuda do navegador para obter instruções.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenções do documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./tutorial-configuring-workload-management.html">Tutorial: Configuração de filas de WLM manual</div><div id="next" class="next-link" accesskey="n" href="./tutorial-wlm-modifying-wlm-configuration.html">Seção 2: Modificar a configuração da fila de consultas do WLM</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Essa página foi útil? - Sim</div><div class="content"><p>Obrigado por nos informar que estamos fazendo um bom trabalho!</p><p>Se tiver tempo, conte-nos sobre o que você gostou para que possamos melhorar ainda mais.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/tutorial-wlm-understanding-default-processing.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Essa página foi útil? - Não</div><div class="content"><p>Obrigado por nos informar que precisamos melhorar a página. Lamentamos ter decepcionado você.</p><p>Se tiver tempo, conte-nos como podemos melhorar a documentação.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/tutorial-wlm-understanding-default-processing.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>