<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="pt-BR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>CREATE SCHEMA - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_CREATE_SCHEMA" /><meta name="default_state" content="r_CREATE_SCHEMA" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_CREATE_SCHEMA.html" /><meta name="description" content="Define um novo esquema para o banco de dados atual." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guia do desenvolvedor de banco de dados" /><meta name="abstract" content="Crie e gerencie um data warehouse com o Amazon Redshift, um serviço de data warehouse totalmente gerenciado, em escala de petabyte e de nível empresarial." /><meta name="guide-locale" content="pt_br" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_CREATE_SCHEMA.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_CREATE_SCHEMA.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_CREATE_SCHEMA.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_CREATE_SCHEMA.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_CREATE_SCHEMA.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_SCHEMA.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_SCHEMA.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_CREATE_SCHEMA.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_CREATE_SCHEMA.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_CREATE_SCHEMA.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_CREATE_SCHEMA.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_CREATE_SCHEMA.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_CREATE_SCHEMA.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_CREATE_SCHEMA.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_CREATE_SCHEMA.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_CREATE_SCHEMA.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_CREATE_SCHEMA.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_CREATE_SCHEMA.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_CREATE_SCHEMA.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_CREATE_SCHEMA.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_CREATE_SCHEMA.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_SCHEMA.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guia do desenvolvedor de banco de dados" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guia do desenvolvedor de banco de dados" /><meta id="panorama-serviceConsolePage" value="CREATE SCHEMA" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>CREATE SCHEMA - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#r_CREATE_SCHEMA" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_CREATE_SCHEMA.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_CREATE_SCHEMA.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_CREATE_SCHEMA.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,desenvolvedor,dados de amostra,banco de dados,desenvolvedor do banco de dados,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guia do desenvolvedor de banco de dados",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Referência SQL",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Comandos SQL",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "CREATE SCHEMA",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c_SQL_commands.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#r_CREATE_SCHEMA" target="_blank" rel="noopener noreferrer" title="Abrir em PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentação</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guia do desenvolvedor de banco de dados</a></div><div id="page-toc-src"><a href="#r_CREATE_SCHEMA-privileges">Privilégios obrigatórios</a><a href="#r_CREATE_SCHEMA-synopsis">Sintaxe</a><a href="#r_CREATE_SCHEMA-parameters">Parâmetros</a><a href="#r_CREATE_SCHEMA-limit">Limites</a><a href="#r_CREATE_SCHEMA-examples">Exemplos</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="r_CREATE_SCHEMA">CREATE SCHEMA</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Define um novo esquema para o banco de dados atual.</p>
         <h2 id="r_CREATE_SCHEMA-privileges">Privilégios obrigatórios</h2>
         <p>A seguir estão os privilégios obrigatórios para CREATE SCHEMA:</p>
         <div class="itemizedlist">
             
             
         <ul class="itemizedlist"><li class="listitem"><p>Superusuário</p></li><li class="listitem"><p>Usuários com o privilégio CREATE SCHEMA</p></li></ul></div>
       
         <h2 id="r_CREATE_SCHEMA-synopsis">Sintaxe</h2>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">CREATE SCHEMA [ IF NOT EXISTS ] <em>schema_name</em> [ AUTHORIZATION <em>username</em> ]
           [ QUOTA <span>{</span>quota [MB | GB | TB] | UNLIMITED} ] [ <em>schema_element</em> [ ... ]

CREATE SCHEMA AUTHORIZATION <em>username</em>[ QUOTA <span>{</span>quota [MB | GB | TB] | UNLIMITED} ] [ <em>schema_element</em> [ ... ] ]</code></pre>
       
         <h2 id="r_CREATE_SCHEMA-parameters">Parâmetros</h2>
         <div class="variablelist">
             
             
             
             
             
             
             
         <dl>
               <dt><span class="term"> IF NOT EXISTS </span></dt>
               <dd>
                  <p>Cláusula que indica que, se o esquema especificado existe, o comando não deve fazer alterações e deve retornar uma mensagem informando que o esquema existe, em vez de encerrar com um erro.</p>
                  <p>Esta cláusula é útil para realizar scripting para que o script não falhe se o comando CREATE SCHEMA tentar criar um esquema que já existe.</p>
               </dd>
             
               <dt><span class="term"> <em>schema_name</em> </span></dt>
               <dd>

                  <p>Nome do novo esquema. O nome do esquema não pode ser <code class="code">PUBLIC</code>. Para obter mais informações sobre nomes válidos, consulte <a href="./r_names.html">Nomes e identificadores</a>.</p>

                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>A lista de esquemas no parâmetro de configuração <a href="./r_search_path.html">search_path</a> determina a precedência de objetos com nomes idênticos quando forem mencionados sem os nomes dos esquemas.</p></div></div>
               </dd>
             
               <dt><span class="term">AUTHORIZATION </span></dt>
               <dd>
                  <p>Cláusula que dá a propriedade a um usuário especificado.</p>
               </dd>
             
               <dt><span class="term"> <em>nome de usuário</em> </span></dt>
               <dd>
                  <p>Nome do proprietário do esquema.</p>
               </dd>
             
               <dt><span class="term"> <em>elemento_esquema</em> </span></dt>
               <dd>
                  <p>Definição de um ou mais objetos a serem criados no esquema.</p>
               </dd>
             
               <dt><span class="term">QUOTA</span></dt>
               <dd>
                  <p>A quantidade máxima de espaço em disco que o esquema especificado pode usar. Esse espaço é o uso coletivo do disco. Ele inclui todas as tabelas permanentes, visualizações materializadas do esquema especificado e cópias duplicadas de todas as tabelas com distribuição ALL em cada nó de computação. A cota do esquema não contabiliza tabelas temporárias criadas como parte de um esquema ou namespace temporário. </p>

                  <p>Para exibir as cotas de esquema configuradas, consulte <a href="./r_SVV_SCHEMA_QUOTA_STATE.html">SVV_SCHEMA_QUOTA_STATE</a>.</p>
                  <p>Para exibir os registros em que as cotas de esquema foram excedidas, consulte <a href="./r_STL_SCHEMA_QUOTA_VIOLATIONS.html">STL_SCHEMA_QUOTA_VIOLATIONS</a>.</p>
                  <p>O Amazon Redshift converte o valor selecionado para megabytes. Gigabytes é a unidade de medida padrão quando um valor não é especificado.</p>

                  <p>Você deve ser um superusuário de banco de dados para definir e alterar uma cota de esquema. Um usuário que não seja um superusuário, mas que tenha permissão CREATE SCHEMA, poderá criar um esquema com uma cota definida. Quando você cria um esquema sem definir uma cota, o esquema assume uma cota ilimitada. Quando você define a cota abaixo do valor atual usado pelo esquema, o Amazon Redshift impede novas ingestões até liberar espaço em disco. Uma instrução DELETE exclui os dados de uma tabela e o espaço em disco é liberado somente quando VACUUM é executada. </p>
                  <p>O Amazon Redshift verifica cada transação em busca de violações de cota antes de confirmar a transação. O Amazon Redshift verifica o tamanho (o espaço em disco usado por todas as tabelas em um esquema) de cada esquema modificado em relação à cota definida. Como a verificação de violação de cota ocorre no final de uma transação, o limite de tamanho poderá exceder temporariamente a cota enquanto a transação não é confirmada. Quando uma transação excede a cota, o Amazon Redshift aborta a transação, proíbe ingestões subsequentes e reverte todas as alterações até você liberar espaço em disco. Devido à VACUUM em segundo plano e limpeza interna, é possível que um esquema não esteja cheio no momento da verificação após uma transação cancelada. </p>
                  <p>Como exceção, o Amazon Redshift desconsidera a violação da cota e confirma transações em determinados casos. O Amazon Redshift faz isso para transações que consistem apenas em uma ou mais das seguintes instruções, onde não houver uma instrução de consumo INSERT ou COPY na mesma transação:</p>
                  <div class="itemizedlist">
                      
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>DELETE</p>
                     </li><li class="listitem">
                        <p>TRUNCATE</p>
                     </li><li class="listitem">
                        <p>VACUUM</p>
                     </li><li class="listitem">
                        <p>DESCARTAR TABELA</p>
                     </li><li class="listitem">
                        <p>ALTER TABLE APPEND somente ao mover dados do esquema cheio para outro esquema não cheio</p>
                     </li></ul></div>
               </dd>
             
               <dt><span class="term"> <em>UNLIMITED</em> </span></dt>
               <dd>
                  <p>O Amazon Redshift não impõe limite para o crescimento do tamanho total do esquema.</p>
               </dd>
            </dl></div>
       
         <h2 id="r_CREATE_SCHEMA-limit">Limites</h2>
         <p>O Amazon Redshift aplica os limites a seguir a esquemas.</p>
         <div class="itemizedlist">
             
         <ul class="itemizedlist"><li class="listitem">
               <p>O máximo de esquemas permitido por banco de dados é 9.900.</p>
            </li></ul></div>
       
         <h2 id="r_CREATE_SCHEMA-examples">Exemplos</h2>
         <p>O exemplo a seguir cria um esquema chamado US_SALES e dá sua propriedade ao usuário DWUSER.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">create schema us_sales authorization dwuser;</code></pre>
         <p>O exemplo a seguir cria um esquema chamado US_SALES, dá sua propriedade ao usuário DWUSER e define a cota para 50 GB.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">create schema us_sales authorization dwuser QUOTA 50 GB;</code></pre>
         <p>Para exibir o novo esquema, consulte a tabela de catálogo PG_NAMESPACE, conforme mostrado a seguir.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select nspname as schema, usename as owner
from pg_namespace, pg_user
where pg_namespace.nspowner = pg_user.usesysid
and pg_user.usename ='dwuser';

   schema |  owner
----------+----------
 us_sales | dwuser
(1 row)</code></pre>
         <p>O exemplo a seguir cria o esquema US_SALES, ou não realiza ação nenhuma, e retorna uma mensagem se o esquema já existir.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">create schema if not exists us_sales;</code></pre>
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Atenção" /> <strong>O Javascript está desativado ou não está disponível no seu navegador.</strong></p><p>Para usar a documentação da AWS, o Javascript deve estar ativado. Consulte as páginas de Ajuda do navegador para obter instruções.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenções do documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_CREATE_ROLE.html">CRIAR PERFIL</div><div id="next" class="next-link" accesskey="n" href="./r_CREATE_TABLE_NEW.html">CRIAR TABELA</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Essa página foi útil? - Sim</div><div class="content"><p>Obrigado por nos informar que estamos fazendo um bom trabalho!</p><p>Se tiver tempo, conte-nos sobre o que você gostou para que possamos melhorar ainda mais.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_CREATE_SCHEMA.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Essa página foi útil? - Não</div><div class="content"><p>Obrigado por nos informar que precisamos melhorar a página. Lamentamos ter decepcionado você.</p><p>Se tiver tempo, conte-nos como podemos melhorar a documentação.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_CREATE_SCHEMA.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>