<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="pt-BR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>ANALYZE - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_ANALYZE" /><meta name="default_state" content="r_ANALYZE" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_ANALYZE.html" /><meta name="description" content="Atualiza as estatísticas da tabela para uso pelo planejador de consulta." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guia do desenvolvedor de banco de dados" /><meta name="abstract" content="Crie e gerencie um data warehouse com o Amazon Redshift, um serviço de data warehouse totalmente gerenciado, em escala de petabyte e de nível empresarial." /><meta name="guide-locale" content="pt_br" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_ANALYZE.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_ANALYZE.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_ANALYZE.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_ANALYZE.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_ANALYZE.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_ANALYZE.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_ANALYZE.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_ANALYZE.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_ANALYZE.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_ANALYZE.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_ANALYZE.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_ANALYZE.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_ANALYZE.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_ANALYZE.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_ANALYZE.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_ANALYZE.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_ANALYZE.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_ANALYZE.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_ANALYZE.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_ANALYZE.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_ANALYZE.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_ANALYZE.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guia do desenvolvedor de banco de dados" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guia do desenvolvedor de banco de dados" /><meta id="panorama-serviceConsolePage" value="ANALYZE" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>ANALYZE - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#r_ANALYZE" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_ANALYZE.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_ANALYZE.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_ANALYZE.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,desenvolvedor,dados de amostra,banco de dados,desenvolvedor do banco de dados,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guia do desenvolvedor de banco de dados",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Referência SQL",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Comandos SQL",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "ANALYZE",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c_SQL_commands.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#r_ANALYZE" target="_blank" rel="noopener noreferrer" title="Abrir em PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentação</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guia do desenvolvedor de banco de dados</a></div><div id="page-toc-src"><a href="#r_ANALYZE-privileges">Privilégios obrigatórios</a><a href="#r_ANALYZE-synopsis">Sintaxe</a><a href="#r_ANALYZE-parameters">Parâmetros</a><a href="#r_ANALYZE-usage-notes">Observações de uso</a><a href="#r_ANALYZE-examples">Exemplos</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="r_ANALYZE">ANALYZE</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Atualiza as estatísticas da tabela para uso pelo planejador de consulta. </p>
         <h2 id="r_ANALYZE-privileges">Privilégios obrigatórios</h2>
         <p>A seguir estão os privilégios obrigatórios para ANALYZE:</p>
         <div class="itemizedlist">
             
             
             
             
         <ul class="itemizedlist"><li class="listitem"><p>Superusuário</p></li><li class="listitem"><p>Usuários com o privilégio ANALYZE</p></li><li class="listitem"><p>Proprietário da relação</p></li><li class="listitem"><p>Proprietário do banco de dados com o qual a tabela é compartilhada</p></li></ul></div>
       
         <h2 id="r_ANALYZE-synopsis">Sintaxe</h2>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">ANALYZE [ VERBOSE ]
[ [ <em>table_name</em> [ ( <em>column_name</em> [, ...] ) ] ]
[ PREDICATE COLUMNS | ALL  COLUMNS ]</code></pre>
       
         <h2 id="r_ANALYZE-parameters">Parâmetros</h2>
         <div class="variablelist">
             
             
             
            
             
         <dl>
               <dt><span class="term">VERBOSE </span></dt>
               <dd>
                  <p>Cláusula que retorna mensagens de informações de andamento sobre a operação ANALYZE. Esta opção é útil quando uma tabela não é especificada.</p>
               </dd>
             
               <dt><span class="term"> <em>table_name</em> </span></dt>
               <dd>
                  <p>É possível analisar tabelas específicas, incluindo tabelas temporárias. É possível qualificar a tabela com o nome do esquema. Como opção, é possível especificar nome_tabela para analisar uma tabela exclusiva. Não é possível especificar mais de um <em>nome_tabela</em> com uma única instrução ANALYZE <em>nome_tabela</em>. Se você não especificar um valor para o <em>table_name</em>, todas as tabelas no banco de dados conectado atualmente são analisadas, incluindo as tabelas persistentes no catálogo do sistema. O Amazon Redshift ignora a análise de uma tabela se a porcentagem de linhas alteradas desde a última ANALYZE for inferior ao limite de análise. Para obter mais informações, consulte <a href="#r_ANALYZE-threshold">Limite de análise</a>.</p>
                  <p>Não é necessário analisar tabelas de sistema do Amazon Redshift (tabelas STL e STV).</p>
               </dd>
             
               <dt><span class="term"> <em>column_name</em> </span></dt>
               <dd>
                  <p>Se especificar um <em>table_name</em>, você também pode especificar uma ou mais colunas na tabela (como uma lista separada por colunas entre parênteses). Se uma lista de colunas for especificada, somente as colunas listadas serão analisadas.</p>
               </dd>
             
               <dt><span class="term"> PREDICATE COLUMNS | ALL COLUMNS </span></dt>
               <dd>
                  <p>Cláusulas que indicam se ANALYZE deve incluir somente colunas de predicado. Especifique o parâmetro PREDICATE COLUMNS para analisar somente as colunas usadas como predicados em consultas anteriores ou que podem vir a ser usadas como predicados. Especifique ALL COLUMNS para analisar todas as colunas. ALL COLUMNS é o valor padrão. </p>
                  <p>Uma coluna é incluída no conjunto de colunas de predicado se qualquer das seguintes afirmações for verdadeira:</p>
                  <div class="itemizedlist">
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>A coluna foi usada em uma consulta como parte de um filtro, condição de junção ou agrupamento por cláusula.</p>
                     </li><li class="listitem">
                        <p>A coluna é uma chave de distribuição.</p>
                     </li><li class="listitem">
                        <p>A coluna faz parte de uma chave de classificação.</p>
                     </li></ul></div>
                  <p>Se nenhuma coluna for marcada como coluna de predicado, por exemplo porque a tabela ainda não foi consultada, todas as colunas serão analisadas mesmo se o parâmetro PREDICATE COLUMNS for especificado. Para obter mais informações sobre colunas de predicado, consulte <a href="./t_Analyzing_tables.html">Análise de tabelas</a>.</p>
               </dd>
            </dl></div>
       
         <h2 id="r_ANALYZE-usage-notes">Observações de uso</h2>
         <p>O Amazon Redshift executa automaticamente ANALYZE em tabelas criadas com os seguintes comandos: </p>
         <div class="itemizedlist">
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>CREATE TABLE AS</p>
            </li><li class="listitem">
               <p>CREATE TEMP TABLE AS </p>
            </li><li class="listitem">
               <p>SELECT INTO</p>
            </li></ul></div>
         <p> Não é possível analisar uma tabela externa.</p>
         <p>Não é necessário executar o comando ANALYZE nessas tabelas quando elas são criadas. Se você as modificar, você deve analisá-las da mesma forma que outras tabelas.</p>
          
            <h3 id="r_ANALYZE-threshold">Limite de análise</h3>
            <p>Para reduzir o tempo de processamento e aprimorar a performance geral do sistema, o Amazon Redshift ignorará o comando ANALYZE para uma tabela se a porcentagem de linhas alteradas desde a última vez em que o comando ANALYZE foi executado for inferior ao limite de análise especificado pelo parâmetro <a href="./r_analyze_threshold_percent.html">analyze_threshold_percent</a>. Por padrão, <code class="code">analyze_threshold_percent</code> é 10. Para alterar a <code class="code">analyze_threshold_percent</code> para a sessão atual, execute o comando <a href="./r_SET.html">SET</a>. O exemplo a seguir altera a <code class="code">analyze_threshold_percent</code> para 20%.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">set analyze_threshold_percent to 20;</code></pre>
            <p>Para analisar tabelas quando apenas uma quantidade pequena de linhas tiver sido alterada, defina <code class="code">analyze_threshold_percent</code> como um número arbitrariamente pequeno. Por exemplo, se você definir <code class="code">analyze_threshold_percent</code> como 0,01, a tabela com 100.000.000 linhas não será ignorada se pelo menos 10.000 linhas tiverem sido alteradas. </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">set analyze_threshold_percent to 0.01;</code></pre>
            <p>Se o comando ANALYZE ignorar uma tabela porque ela não atende ao limite, o Amazon Redshift retornará a mensagem a seguir.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">ANALYZE SKIP</code></pre>
            <p>Para analisar todas as tabelas, mesmo se nenhuma linha tiver sido alterada, defina <code class="code">analyze_threshold_percent</code> como 0.</p>
            <p>Para visualizar os resultados das operações ANALYZE, consulte a tabela do sistema <a href="./r_STL_ANALYZE.html">STL_ANALYZE</a>. </p>
            <p>Para obter mais informações sobre a análise de tabelas, consulte <a href="./t_Analyzing_tables.html">Análise de tabelas</a>.</p>
          
       
         <h2 id="r_ANALYZE-examples">Exemplos</h2>
         <p>Analisa todas as tabelas no banco de dados TICKIT e retorna informações de andamento.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">analyze verbose;</code></pre>
         <p>Analise somente a tabela LISTING.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">analyze listing;</code></pre>
         <p>Analise as colunas VENUEID e VENUENAME na tabela VENUE. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">analyze venue(venueid, venuename);</code></pre>
         <p>Analise somente colunas de predicado na tabela VENUE.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">analyze venue predicate columns;</code></pre>
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Atenção" /> <strong>O Javascript está desativado ou não está disponível no seu navegador.</strong></p><p>Para usar a documentação da AWS, o Javascript deve estar ativado. Consulte as páginas de Ajuda do navegador para obter instruções.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenções do documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_ALTER_USER.html">ALTER USER</div><div id="next" class="next-link" accesskey="n" href="./r_ANALYZE_COMPRESSION.html">ANALYZE COMPRESSION</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Essa página foi útil? - Sim</div><div class="content"><p>Obrigado por nos informar que estamos fazendo um bom trabalho!</p><p>Se tiver tempo, conte-nos sobre o que você gostou para que possamos melhorar ainda mais.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_ANALYZE.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Essa página foi útil? - Não</div><div class="content"><p>Obrigado por nos informar que precisamos melhorar a página. Lamentamos ter decepcionado você.</p><p>Se tiver tempo, conte-nos como podemos melhorar a documentação.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_ANALYZE.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>