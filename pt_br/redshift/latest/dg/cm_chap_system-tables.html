<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="pt-BR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Referência de visualizações e tabelas do sistema - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="cm_chap_system-tables" /><meta name="default_state" content="cm_chap_system-tables" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm_chap_system-tables.html" /><meta name="description" content="Descreve os detalhes das tabelas e visualizações de sistema." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guia do desenvolvedor de banco de dados" /><meta name="abstract" content="Crie e gerencie um data warehouse com o Amazon Redshift, um serviço de data warehouse totalmente gerenciado, em escala de petabyte e de nível empresarial." /><meta name="guide-locale" content="pt_br" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm_chap_system-tables.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/cm_chap_system-tables.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/cm_chap_system-tables.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/cm_chap_system-tables.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/cm_chap_system-tables.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/cm_chap_system-tables.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/cm_chap_system-tables.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/cm_chap_system-tables.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/cm_chap_system-tables.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/cm_chap_system-tables.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/cm_chap_system-tables.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/cm_chap_system-tables.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/cm_chap_system-tables.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/cm_chap_system-tables.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/cm_chap_system-tables.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/cm_chap_system-tables.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/cm_chap_system-tables.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm_chap_system-tables.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm_chap_system-tables.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/cm_chap_system-tables.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/cm_chap_system-tables.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/cm_chap_system-tables.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guia do desenvolvedor de banco de dados" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guia do desenvolvedor de banco de dados" /><meta id="panorama-serviceConsolePage" value="Referência de visualizações e tabelas do sistema" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Referência de visualizações e tabelas do sistema - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#cm_chap_system-tables" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm_chap_system-tables.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm_chap_system-tables.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm_chap_system-tables.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,desenvolvedor,dados de amostra,banco de dados,desenvolvedor do banco de dados,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guia do desenvolvedor de banco de dados",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Referência de visualizações e tabelas do sistema",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm_chap_system-tables.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#cm_chap_system-tables" target="_blank" rel="noopener noreferrer" title="Abrir em PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentação</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guia do desenvolvedor de banco de dados</a></div><div id="page-toc-src"><a href="#c_intro_system_tables">Tabelas e visualizações de sistema</a><a href="#c_types-of-system-tables-and-views">Tipos de tabelas e visualizações de sistema</a><a href="#c_visibility-of-data">Visibilidade de dados em tabelas e visualizações de sistema</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="cm_chap_system-tables">Referência de visualizações e tabelas do sistema</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><div class="highlights"><h6>Tópicos</h6><ul><li><a href="#c_intro_system_tables">Tabelas e visualizações de sistema</a></li><li><a href="#c_types-of-system-tables-and-views">Tipos de tabelas e visualizações de sistema </a></li><li><a href="#c_visibility-of-data">Visibilidade de dados em tabelas e visualizações de sistema</a></li><li><a href="./svv_views.html">Visualizações SVV de metadados</a></li><li><a href="./serverless_views-monitoring.html">Visualizações de monitoramento de SYS</a></li><li><a href="./sys_view_migration.html">Migrar para visualizações de monitoramento de SYS</a></li><li><a href="./c_intro_system_views.html">Monitoramento do sistema (somente provisionado)</a></li><li><a href="./c_intro_catalog_views.html">Tabelas de catálogo do sistema</a></li></ul></div>
        <h2 id="c_intro_system_tables">Tabelas e visualizações de sistema</h2>


        <p>O Amazon Redshift tem muitas tabelas de sistema e visualizações que contêm informações sobre como o sistema está funcionando. Você pode consultar essas tabelas de sistema e visualizações da mesma maneira como consultaria qualquer outra tabela de banco de dados. Esta seção mostra algumas consultas de tabela de sistema de exemplo e explica: </p>
        <div class="itemizedlist">
             
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>Como tipos diferentes de tabelas de sistema e visualizações são gerados</p>
            </li><li class="listitem">
                <p>Quais tipos de informações você pode obter dessas tabelas</p>
            </li><li class="listitem">
                <p>Como unir tabelas de sistema do Amazon Redshift a tabelas de catálogo</p>
            </li><li class="listitem">
                <p>Como gerenciar o crescimento de arquivos de log da tabela de sistema</p>
            </li></ul></div>
        <p>Algumas tabelas de sistema somente podem ser usadas pela equipe da AWS para fins de diagnóstico. As seções a seguir abordam as tabelas de sistema que podem ser consultadas em busca de informações úteis por administradores de sistema ou outros usuários do banco de dados. </p>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>As tabelas de sistema não estão incluídas em backups de cluster automatizados ou manuais (snapshots). As visualizações do sistema STL retêm sete dias do histórico de log. Reter os logs não requer nenhuma ação do cliente, mas se você quiser reter os dados de log por mais de sete dias, será necessário copiá-los periodicamente para outras tabelas ou descarregá-los no Amazon S3.</p></div></div>
     
        <h2 id="c_types-of-system-tables-and-views">Tipos de tabelas e visualizações de sistema </h2>
        <p>Há vários tipos de tabelas e visões do sistema: </p>
        <div class="itemizedlist">
             
             
             
             
             
             
        <ul class="itemizedlist"><li class="listitem"><p>As visualizações SVV contêm informações sobre objetos de banco de dados com referências a tabelas STV transitórias.</p></li><li class="listitem"><p>As visualizações SYS são usadas para monitorar o uso de consultas e workload para clusters e grupos de trabalho sem servidor.</p></li><li class="listitem"><p>As tabelas STL são geradas a partir de logs que foram mantidos em disco para apresentar um histórico do sistema.</p></li><li class="listitem"><p>Essas tabelas de STV são tabelas virtuais do sistema que contêm snapshots dos dados atuais do sistema. Elas se baseiam em dados transitórios na memória e não são mantidas em logs baseados em disco ou em tabelas regulares.</p></li><li class="listitem"><p>As visões SVCS fornecem detalhes sobre consultas nos clusters principal e de escalabilidade da simultaneidade.</p></li><li class="listitem"><p>As visualizações SVL fornecem detalhes sobre consultas nos clusters principais.</p></li></ul></div>
        
        <p>As tabelas de sistema e as visualizações não usam o mesmo modelo de consistência de tabelas regulares. É importante estar ciente desse problema ao consultá-las, especialmente para tabelas STV e visualizações SVV. Por exemplo, dada uma tabela t1 regular com uma coluna c1, você esperaria que a seguinte consulta não retornasse linhas:</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select * from t1
where c1 &gt; (select max(c1) from t1)</code></pre>
        <p>Porém, a seguinte consulta em relação a uma tabela de sistema também pode retornar linhas:</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select * from stv_exec_state
where currenttime &gt; (select max(currenttime) from stv_exec_state)</code></pre>
        <p> O motivo dessa consulta poder retornar linhas é que currenttime é temporário e as duas referências na consulta talvez não retornem o mesmo valor quando avaliadas.</p>
        <p>Por outro lado, a seguinte consulta também pode não retornar linhas:</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select * from stv_exec_state
where currenttime = (select max(currenttime) from stv_exec_state)</code></pre>
     
        <h2 id="c_visibility-of-data">Visibilidade de dados em tabelas e visualizações de sistema</h2>


        <p>Existem duas classes de visibilidade para dados em tabelas e exibições do sistema: visível para usuários e visível para superusuários.</p>
        <p>Somente usuários com privilégios de superusuário podem ver os dados dessas tabelas que estejam na categoria visível para superusuários. Os usuários regulares podem ver dados em tabelas visíveis para usuários. Para oferecer a um usuário regular acesso às tabelas visíveis aos superusuários, conceda o privilégio SELECT nessa tabela ao usuário regular. Para ter mais informações, consulte <a href="./r_GRANT.html">GRANT</a>.</p>
        <p>Por padrão, na maioria das tabelas visíveis para usuários, as linhas geradas por um outro usuário são invisíveis para um usuário regular. Se um usuário regular receber <a href="./r_ALTER_USER.html#alter-user-syslog-access">SYSLOG ACCESS UNRESTRICTED</a>, ele poderá ver todas as linhas em tabelas visíveis aos usuários, incluindo as linhas geradas por outros usuários. Para obter mais informações, consulte <a href="./r_ALTER_USER.html">ALTER USER</a> ou <a href="./r_CREATE_USER.html">CRIAR USUÁRIO</a>. Todas as linhas em SVV_TRANSACTIONS são visíveis a todos os usuários. Para obter informações sobre visibilidade de dados, consulte o artigo AWS re:Post <a href="https://repost.aws/knowledge-center/amazon-redshift-system-tables" rel="noopener noreferrer" target="_blank"><span>Como posso permitir que usuários regulares do banco de dados Amazon Redshift visualizem dados em tabelas do sistema de outros usuários do cluster?</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> da base de conhecimento.</p>
        <p>Para visualizações de metadados, o Amazon Redshift não permite visibilidade para usuários que recebem SYSLOG ACCESS UNRESTRICTED.</p>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Fornecer acesso ilimitado para um usuário às tabelas de sistema é o mesmo que dar ao usuário visibilidade para os dados gerados por outros usuários. Por exemplo, STL_QUERY e STL_QUERY_TEXT contêm texto completo de instruções INSERT, UPDATE e DELETE, e podem conter dados confidenciais gerados pelos usuários. </p></div></div>
        <p>Um superusuário pode ver todas as linhas em todas as tabelas. Para oferecer acesso a um usuário regular às tabelas visíveis para superusuários, <a href="./r_GRANT.html">GRANT</a>selecione o privilégio nessa tabela para o usuário regular.</p>
         
            <h3 id="sub-c_visibility-of-data-filtering">Filtrar consultas geradas pelo sistema</h3>
            <p>As tabelas e visualizações do sistema relacionadas à consulta, como SVL_QUERY_SUMMARY, SVL_QLOG e outras, geralmente contêm um grande número de instruções geradas automaticamente que o Amazon Redshift usa para monitorar o status do banco de dados. Essas consultas geradas pelo sistema são visíveis para um superusuário, mas raramente são úteis. Para filtrá-las ao selecionar uma tabela ou visualização de sistema que use a coluna <code class="code">userid</code>, adicione a condição <code class="code">userid &gt; 1</code> à cláusula WHERE. Por exemplo:</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class=""> select * from svl_query_summary where userid &gt; 1</code></pre>
         
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Atenção" /> <strong>O Javascript está desativado ou não está disponível no seu navegador.</strong></p><p>Para usar a documentação da AWS, o Javascript deve estar ativado. Consulte as páginas de Ajuda do navegador para obter instruções.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenções do documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_pg_keywords.html">Palavras reservadas</div><div id="next" class="next-link" accesskey="n" href="./svv_views.html">Visualizações SVV de metadados</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Essa página foi útil? - Sim</div><div class="content"><p>Obrigado por nos informar que estamos fazendo um bom trabalho!</p><p>Se tiver tempo, conte-nos sobre o que você gostou para que possamos melhorar ainda mais.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm_chap_system-tables.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Essa página foi útil? - Não</div><div class="content"><p>Obrigado por nos informar que precisamos melhorar a página. Lamentamos ter decepcionado você.</p><p>Se tiver tempo, conte-nos como podemos melhorar a documentação.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm_chap_system-tables.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>