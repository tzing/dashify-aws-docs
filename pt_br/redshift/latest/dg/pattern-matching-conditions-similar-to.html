<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="pt-BR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>SIMILAR TO - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="pattern-matching-conditions-similar-to" /><meta name="default_state" content="pattern-matching-conditions-similar-to" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/pattern-matching-conditions-similar-to.html" /><meta name="description" content="Faz a correspondência de uma expressão de string com um padrão de expressão regular SQL que pode incluir um conjunto de metacaracteres para correspondência de padrão, incluindo os dois compatíveis com o operador LIKE." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guia do desenvolvedor de banco de dados" /><meta name="abstract" content="Crie e gerencie um data warehouse com o Amazon Redshift, um serviço de data warehouse totalmente gerenciado, em escala de petabyte e de nível empresarial." /><meta name="guide-locale" content="pt_br" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/pattern-matching-conditions-similar-to.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/pattern-matching-conditions-similar-to.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/pattern-matching-conditions-similar-to.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/pattern-matching-conditions-similar-to.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/pattern-matching-conditions-similar-to.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/pattern-matching-conditions-similar-to.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/pattern-matching-conditions-similar-to.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/pattern-matching-conditions-similar-to.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/pattern-matching-conditions-similar-to.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/pattern-matching-conditions-similar-to.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/pattern-matching-conditions-similar-to.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/pattern-matching-conditions-similar-to.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/pattern-matching-conditions-similar-to.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/pattern-matching-conditions-similar-to.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/pattern-matching-conditions-similar-to.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/pattern-matching-conditions-similar-to.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/pattern-matching-conditions-similar-to.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/pattern-matching-conditions-similar-to.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/pattern-matching-conditions-similar-to.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/pattern-matching-conditions-similar-to.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/pattern-matching-conditions-similar-to.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/pattern-matching-conditions-similar-to.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guia do desenvolvedor de banco de dados" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guia do desenvolvedor de banco de dados" /><meta id="panorama-serviceConsolePage" value="SIMILAR TO" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>SIMILAR TO - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#pattern-matching-conditions-similar-to" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/pattern-matching-conditions-similar-to.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/pattern-matching-conditions-similar-to.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/pattern-matching-conditions-similar-to.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,desenvolvedor,dados de amostra,banco de dados,desenvolvedor do banco de dados,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guia do desenvolvedor de banco de dados",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Referência SQL",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Uso de SQL",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c_SQL_reference.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Condições",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_conditions.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Condições de correspondência de padrões",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/pattern-matching-conditions.html"
      },
      {
        "@type" : "ListItem",
        "position" : 8,
        "name" : "SIMILAR TO",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/pattern-matching-conditions.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#pattern-matching-conditions-similar-to" target="_blank" rel="noopener noreferrer" title="Abrir em PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentação</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guia do desenvolvedor de banco de dados</a></div><div id="page-toc-src"><a href="#pattern-matching-conditions-similar-to-synopsis">Sintaxe</a><a href="#pattern-matching-conditions-similar-to-arguments">Argumentos</a><a href="#pattern-matching-conditions-similar-to-examples">Exemplos</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="pattern-matching-conditions-similar-to">SIMILAR TO</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>O operador SIMILAR TO faz a correspondências de uma expressão de string, tal como um nome de coluna, com um padrão de expressão regular SQL. Um padrão de expressão regular SQL pode incluir um conjunto de metacaracteres de correspondência padrão, incluindo os dois compatíveis com o operador <a href="./r_patternmatching_condition_like.html">LIKE</a>. </p><p>O operador SIMILAR TO retorna verdadeiro somente se seu padrão corresponder à string inteira, ao contrário do comportamento de expressão regular POSIX, onde o padrão pode corresponder a qualquer parte da string. </p><p>SIMILAR TO executa uma correspondência com diferenciação entre maiúsculas e minúsculas. </p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>A correspondência de expressões regular usando SIMILAR TO é computacionalmente cara. Recomendamos usar LIKE sempre que possível, especialmente ao processar um número muito grande de linhas. Por exemplo, as seguintes consultas são funcionalmente idênticas, mas a consulta que usa LIKE é executada várias vezes mais rápido do que a consulta que usa uma expressão regular:</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select count(*) from event where eventname SIMILAR TO '%(Ring|Die)%'; 
select count(*) from event where eventname LIKE '%Ring%' OR eventname LIKE '%Die%'; </code></pre></div></div>
                  <h2 id="pattern-matching-conditions-similar-to-synopsis">Sintaxe</h2>


                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><em>expression</em> [ NOT ] SIMILAR TO <em>pattern</em> [ ESCAPE '<em>escape_char</em>' ]</code></pre>
                
                  <h2 id="pattern-matching-conditions-similar-to-arguments">Argumentos</h2>


                  <div class="variablelist">
                      
                      
                      
                      
                  <dl>
                        <dt><span class="term"> <em>expressão</em> </span></dt>
                        <dd>
                           <p>Uma expressão de caractere UTF-8 válida, tal como um nome de coluna. </p>
                        </dd>
                      
                        <dt><span class="term">SIMILAR TO</span></dt>
                        <dd>
                           <p>SIMILAR to executa uma correspondência de padrão com diferenciação entre maiúsculas e minúsculas para toda a string na <em>expressão</em>. </p>
                        </dd>
                      
                        <dt><span class="term"> <em>pattern</em> </span></dt>
                        <dd>
                           <p>Uma expressão válida de caractere UTF-8 que representa um padrão de expressão regular SQL. </p>
                        </dd>
                      
                        <dt><span class="term"> <em>escape_char</em> </span></dt>
                        <dd>
                           <p>Uma expressão de caractere que irá escapar metacaracteres no padrão. O padrão é duas barras invertidas ('\\'). </p>
                        </dd>
                     </dl></div>
                  <p>Se o <em>padrão</em> não contém metacaracteres, o padrão representa somente a própria string.</p>
                  <p>Qualquer uma das expressões de caracteres pode ser de tipos de dados CHAR ou VARCHAR. Se eles forem diferentes, o Amazon Redshift converterá o <em>padrão</em> no tipo de dados da <em>expressão</em>. </p>
                  <p>SIMILAR TO é compatível com os seguintes metacaracteres de correspondência de padrão: </p>
                  <div class="table-container"><div class="table-contents"><table id="w319aac47b7c13c15c15c13c11"><thead>
                           <tr>
                              <th>Operador </th>
                              <th>Descrição </th>
                           </tr>
                        </thead>
                           <tr>
                              <td tabindex="-1"><code class="code">% </code></td>
                              <td tabindex="-1">Corresponde a qualquer sequência de zero ou mais caracteres.</td>
                           </tr>
                           <tr>
                              <td tabindex="-1"><code class="code">_</code></td>
                              <td tabindex="-1">Corresponde a qualquer caractere único.</td>
                           </tr>
                           <tr>
                              <td tabindex="-1"><code class="code">|</code></td>
                              <td tabindex="-1">Denota a alternação (uma das duas alternativas).</td>
                           </tr>
                           <tr>
                              <td tabindex="-1"><code class="code">*</code></td>
                              <td tabindex="-1">Repita o item anterior zero ou mais vezes.</td>
                           </tr>
                           <tr>
                              <td tabindex="-1"><code class="code">+</code></td>
                              <td tabindex="-1">Repita o item anterior uma ou mais vezes.</td>
                           </tr>
                           <tr>
                              <td tabindex="-1"><code class="code">? </code></td>
                              <td tabindex="-1">Repita o item anterior zero ou uma vez.</td>
                           </tr>
                           <tr>
                              <td tabindex="-1"><code class="code"><span>{</span>m}</code></td>
                              <td tabindex="-1">Repita o item anterior exatamente <em>m</em> vezes.</td>
                           </tr>
                           <tr>
                              <td tabindex="-1"><code class="code"><span>{</span>m,}</code></td>
                              <td tabindex="-1">Repita o item anterior <em>m</em> ou mais vezes.</td>
                           </tr>
                           <tr>
                              <td tabindex="-1"><code class="code"><span>{</span>m,n}</code></td>
                              <td tabindex="-1">Repita o item anterior pelo menos <em>m</em> e não mais do que <em>n</em> vezes.</td>
                           </tr>
                           <tr>
                              <td tabindex="-1"><code class="code"> ()</code></td>
                              <td tabindex="-1">Parênteses agrupam itens em um único item lógico.</td>
                           </tr>
                           <tr>
                              <td tabindex="-1"><code class="code">[...]</code></td>
                              <td tabindex="-1">Uma expressão entre colchetes especifica uma classe de caractere, assim como em expressões regulares POSIX.</td>
                           </tr>
                        </table></div></div>
                
                  <h2 id="pattern-matching-conditions-similar-to-examples">Exemplos</h2>


                  <p>A seguinte tabela mostra exemplos de correspondência de padrão usando SIMILAR TO:</p>
                  <div class="table-container"><div class="table-contents"><table id="w319aac47b7c13c15c15c15b5"><thead>
                           <tr>
                              <th>Expressão </th>
                              <th>Retornos </th>
                           </tr>
                        </thead>
                           <tr>
                              <td tabindex="-1"><code class="code">'abc' SIMILAR TO 'abc'</code></td>
                              <td tabindex="-1">Verdadeiro</td>
                           </tr>
                           <tr>
                              <td tabindex="-1">
                                 <code class="code">'abc' SIMILAR TO '_b_' </code></td>
                              <td tabindex="-1">Verdadeiro</td>
                           </tr>
                           <tr>
                              <td tabindex="-1"><code class="code">'abc' SIMILAR TO '_A_'</code></td>
                              <td tabindex="-1">Falso</td>
                           </tr>
                           <tr>
                              <td tabindex="-1"><code class="code">'abc' SIMILAR TO '%(b|d)%'</code></td>
                              <td tabindex="-1">Verdadeiro</td>
                           </tr>
                           <tr>
                              <td tabindex="-1"><code class="code">'abc' SIMILAR TO '(b|c)%'</code></td>
                              <td tabindex="-1">Falso</td>
                           </tr>
                           <tr>
                              <td tabindex="-1"><code class="code">'AbcAbcdefgefg12efgefg12' SIMILAR TO
                                    '((Ab)?c)+d((efg)+(12))+' </code></td>
                              <td tabindex="-1">Verdadeiro</td>
                           </tr>
                           <tr>
                              <td tabindex="-1"><code class="code">'aaaaaab11111xy' SIMILAR TO 'a<span>{</span>6}_
                                    [0-9]<span>{</span>5}(x|y)<span>{</span>2}' </code></td>
                              <td tabindex="-1">Verdadeiro</td>
                           </tr>
                           <tr>
                              <td tabindex="-1"><code class="code">'$0.87' SIMILAR TO '$[0-9]+(.[0-9][0-9])?'
                                 </code></td>
                              <td tabindex="-1">Verdadeiro</td>
                           </tr>
                        </table></div></div>
                  <p>O seguinte exemplo encontra cidades cujos nomes contêm "E" ou "H": </p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT DISTINCT city FROM users
WHERE city SIMILAR TO '%E%|%H%' ORDER BY city LIMIT 5;

      city
-----------------
 Agoura Hills
 Auburn Hills
 Benton Harbor
 Beverly Hills
 Chicago Heights</code></pre>
                  <p>O seguinte exemplo usa a string de escape padrão ('<code class="code">\\</code>') para pesquisar strings que contêm "<code class="code">_</code>":</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT tablename, "column" FROM pg_table_def
WHERE "column" SIMILAR TO '%start\\_%'
ORDER BY tablename, "column" LIMIT 5;

        tablename         |       column
--------------------------+---------------------
 stcs_abort_idle          | idle_start_time
 stcs_abort_idle          | txn_start_time
 stcs_analyze_compression | start_time
 stcs_auto_worker_levels  | start_level
 stcs_auto_worker_levels  | start_wlm_occupancy</code></pre>
                  <p>O seguinte exemplo especifica '<code class="code">^</code>' como a string de escape e, então, usa a string de escape para pesquisar strings que contêm "<code class="code">_</code>": </p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT tablename, "column" FROM pg_table_def
WHERE "column" SIMILAR TO '%start^_%' ESCAPE '^'
ORDER BY tablename, "column" LIMIT 5;

        tablename         |       column
--------------------------+---------------------
 stcs_abort_idle          | idle_start_time
 stcs_abort_idle          | txn_start_time
 stcs_analyze_compression | start_time
 stcs_auto_worker_levels  | start_level
 stcs_auto_worker_levels  | start_wlm_occupancy</code></pre>
               <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Atenção" /> <strong>O Javascript está desativado ou não está disponível no seu navegador.</strong></p><p>Para usar a documentação da AWS, o Javascript deve estar ativado. Consulte as páginas de Ajuda do navegador para obter instruções.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenções do documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_patternmatching_condition_like.html">LIKE</div><div id="next" class="next-link" accesskey="n" href="./pattern-matching-conditions-posix.html">Operadores POSIX</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Essa página foi útil? - Sim</div><div class="content"><p>Obrigado por nos informar que estamos fazendo um bom trabalho!</p><p>Se tiver tempo, conte-nos sobre o que você gostou para que possamos melhorar ainda mais.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/pattern-matching-conditions-similar-to.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Essa página foi útil? - Não</div><div class="content"><p>Obrigado por nos informar que precisamos melhorar a página. Lamentamos ter decepcionado você.</p><p>Se tiver tempo, conte-nos como podemos melhorar a documentação.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/pattern-matching-conditions-similar-to.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>