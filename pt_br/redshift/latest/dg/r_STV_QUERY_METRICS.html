<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="pt-BR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>STV_QUERY_METRICS - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_STV_QUERY_METRICS" /><meta name="default_state" content="r_STV_QUERY_METRICS" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_STV_QUERY_METRICS.html" /><meta name="description" content="Visualize a performance da velocidade do disco e a utilização do disco para Amazon Redshift." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guia do desenvolvedor de banco de dados" /><meta name="abstract" content="Crie e gerencie um data warehouse com o Amazon Redshift, um serviço de data warehouse totalmente gerenciado, em escala de petabyte e de nível empresarial." /><meta name="guide-locale" content="pt_br" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_STV_QUERY_METRICS.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guia do desenvolvedor de banco de dados" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guia do desenvolvedor de banco de dados" /><meta id="panorama-serviceConsolePage" value="STV_QUERY_METRICS" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>STV_QUERY_METRICS - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#r_STV_QUERY_METRICS" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_STV_QUERY_METRICS.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_STV_QUERY_METRICS.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_STV_QUERY_METRICS.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,desenvolvedor,dados de amostra,banco de dados,desenvolvedor do banco de dados,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guia do desenvolvedor de banco de dados",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Referência de visualizações e tabelas do sistema",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm_chap_system-tables.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Monitoramento do sistema (somente provisionado)",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c_intro_system_views.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Tabelas STV para dados de snapshot",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c_intro_STV_tables.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "STV_QUERY_METRICS",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c_intro_STV_tables.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#r_STV_QUERY_METRICS" target="_blank" rel="noopener noreferrer" title="Abrir em PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentação</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guia do desenvolvedor de banco de dados</a></div><div id="page-toc-src"><a href="#r_STV_QUERY_METRICS-table-rows2">Colunas da tabela</a><a href="#r_STV_QUERY_METRICS-step-type">Tipos de etapas</a><a href="#r_STV_QUERY_METRICS-sample-query2">Consulta de exemplo</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="r_STV_QUERY_METRICS">STV_QUERY_METRICS</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Contém informações de métricas, como o número de linhas processadas, utilização da CPU, entrada/saída e utilização do disco, para consultas ativas em execução nas filas de consultas definidas pelo usuário (classes de serviço). Para visualizar as métricas para as consultas que foram concluídas, consulte a tabela do sistema <a href="./r_STL_QUERY_METRICS.html">STL_QUERY_METRICS</a>. </p><p>Para as métricas de consulta, as amostras são feitas em intervalos de um segundo. Consequentemente, diferentes execuções da mesma consulta podem retornar tempos um pouco diferentes. Além disso, os segmentos de consultas executados em menos de 1 segundo podem não ser registrados. </p><p>A tabela STV_QUERY_METRICS rastreia e agrega as métricas no nível da consulta, do segmento e das etapas. Para obter informações sobre os segmentos e as etapas de uma consulta, acesse <a href="./c-query-planning.html">Planejamento de consulta e fluxo de trabalho de execução</a>. Muitas métricas (como, por exemplo, <code class="code">max_rows</code>, <code class="code">cpu_time</code>, etc.) são resultado da soma obtida das fatias de nós. Para obter mais informações sobre as fatias de nós, consulte <a href="./c_high_level_system_architecture.html">Arquitetura de sistema do data warehouse</a>. </p><p>Para determinar o nível no qual uma linha relata suas métricas, examine as colunas <code class="code">segment</code> e <code class="code">step_type</code>:</p><div class="itemizedlist">
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>Se ambos <code class="code">segment</code> e <code class="code">step_type</code> são <code class="code">-1</code>, a linha relata as métricas no nível da consulta. </p>
            </li><li class="listitem">
                <p>Se <code class="code">segment</code> não é <code class="code">-1</code> e <code class="code">step_type</code> é <code class="code">-1</code>, a linha relata as métricas no nível do segmento. </p>
            </li><li class="listitem">
                <p>Se ambos <code class="code">segment</code> e <code class="code">step_type</code> são diferentes de <code class="code">-1</code>, a linha relata as métricas no nível da etapa. </p>
            </li></ul></div><p>STV_QUERY_METRICS permanece visível para todos os usuários. Os superusuários podem ver todas as linhas; usuários regulares podem ver somente seus próprios dados. Para obter mais informações, consulte <a href="./cm_chap_system-tables.html#c_visibility-of-data">Visibilidade de dados em tabelas e visualizações de sistema</a>.</p><p>Alguns ou todos os dados nessa tabela também podem ser encontrados na exibição de monitoramento SYS <a href="./SYS_QUERY_DETAIL.html">SYS_QUERY_DETAIL</a>. Os dados na exibição de monitoramento SYS são formatados para serem mais fáceis de usar e compreender. É recomendável usar a exibição de monitoramento SYS nas consultas.</p>
            <h2 id="r_STV_QUERY_METRICS-table-rows2">Colunas da tabela</h2>



            <div class="table-container"><div class="table-contents"><table id="w319aac49c17c11c33c17b3"><thead>
                        <tr>
                            <th>Nome da coluna </th>
                            <th>Tipo de dados </th>
                            <th>Descrição </th>
                        </tr>
                    </thead>
                        <tr>
                            <td tabindex="-1">userid </td>
                            <td tabindex="-1">inteiro </td>
                            <td tabindex="-1">O ID do usuário que executou a consulta que gerou a entrada. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">service_class </td>
                            <td tabindex="-1">inteiro </td>
                            <td tabindex="-1">O ID da fila de consultas do WLM (classe de serviço). As filas de consultas são definidas na configuração do WLM. As métricas são relatadas somente para as filas definidas pelo usuário.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">consulta</td>
                            <td tabindex="-1">inteiro </td>
                            <td tabindex="-1">ID da consulta. A coluna de consulta pode ser usada para unir outras tabelas e exibições do sistema.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">starttime </td>
                            <td tabindex="-1">timestamp </td>
                            <td tabindex="-1">O horário (em UTC) do início da execução da consulta, com 6 dígitos de precisão fracionária de segundos. Por exemplo: <code class="code">2009-06-12 11:29:19.131358</code>. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">slices </td>
                            <td tabindex="-1">inteiro </td>
                            <td tabindex="-1">O número de fatias do cluster. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">segment </td>
                            <td tabindex="-1">inteiro </td>
                            <td tabindex="-1">O número do segmento. Uma consulta consiste em vários segmentos e cada segmento consiste em uma ou mais etapas. Os segmentos de uma consulta podem ser executados em paralelo. Cada segmento executa em um único processo. Se o valor do segmento é -1, os valores das métricas do segmento são acumulados no nível de consulta.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">step_type </td>
                            <td tabindex="-1">inteiro </td>
                            <td tabindex="-1">O tipo da etapa que foi executada. Para obter uma descrição dos tipos de etapas, consulte <a href="#r_STV_QUERY_METRICS-step-type">Tipos de etapas</a>. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">rows </td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">O número de linhas processadas por uma etapa. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">max_rows </td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">O número máximo de linhas geradas na saída de uma etapa, agregado de todas as fatias.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">cpu_time </td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">O tempo de CPU usado, em microssegundos. No nível de segmento, o tempo total de CPU usado pelo segmento em todas as fatias. No nível de consulta, a soma dos tempos de CPU da consulta em todas as fatias e segmentos. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">max_cpu_time </td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">O tempo máximo de CPU usado, em microssegundos. No nível de segmento, o tempo máximo de CPU usado pelo segmento em todas as fatias. No nível de consulta, o tempo máximo de CPU usado por qualquer um dos segmento da consulta. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">blocks_read </td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">O número de blocos de 1 MB lidos pela consulta ou segmento. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">max_blocks_read </td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">O número máximo de blocos de 1 MB lidos pelo segmento, agregado de todas as fatias. No nível de segmento, o número máximo de blocos de 1 MB lidos para o segmento em todas as fatias. No nível de consulta, o número máximo de blocos de 1 MB lidos por qualquer um dos segmentos da consulta. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">run_time </td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">
                                <p>O tempo total de execução, somado de todas de fatias. O tempo de execução não inclui o tempo de espera. </p>
                                <p>No nível de segmento, o tempo de execução para o segmento, somado de todas as fatias. No nível de consulta, o tempo de execução da consulta, somado de todas as fatias e segmentos. Como esse valor é uma soma, o tempo de execução não está relacionado ao tempo de execução de consulta. </p>
                            </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">max_run_time </td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">O tempo máximo decorrido para um segmento, em microssegundos. No nível de segmento, o tempo máximo de execução para o segmento em todas as fatias. No nível de consulta, o tempo máximo de execução para qualquer um dos segmento da consulta. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">max_blocks_to_disk </td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">A quantidade máxima de espaço em disco usada para gravar resultados intermediários, em blocos de 1 MB. No nível de segmento, a quantidade máxima de espaço em disco usada pelo segmento em todas as fatias. No nível de consulta, a quantidade máxima de espaço em disco usada por qualquer um dos segmento da consulta. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">blocks_to_disk </td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">A quantidade de espaço em disco usada por uma consulta ou segmento para gravar resultados intermediários, em blocos de 1 MB.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">etapa</td>
                            <td tabindex="-1">inteiro </td>
                            <td tabindex="-1">Etapa da consulta que foi executada.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">max_query_scan_size</td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">A quantidade máxima de dados pesquisados em varredura por uma consulta, em MB. No nível de segmento, a quantidade máxima de dados pesquisados em varredura por um segmento em todas as fatias. No nível de consulta, a quantidade máxima de dados pesquisados em varredura por qualquer um dos segmento da consulta. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">query_scan_size</td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">A quantidade de dados pesquisados em varredura por uma consulta, em MB. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">query_priority </td>
                            <td tabindex="-1">inteiro </td>
                            <td tabindex="-1">A prioridade da consulta. Os valores possíveis são <code class="code">-1</code>, <code class="code">0</code>, <code class="code">1</code>, <code class="code">2</code>, <code class="code">3</code> e <code class="code">4</code>, em que <code class="code">-1</code> significa que a prioridade da consulta não é compatível. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">query_queue_time</td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">O tempo em microssegundos que a consulta estava em fila. </td>
                        </tr>
                    </table></div></div>
         
            <h2 id="r_STV_QUERY_METRICS-step-type">Tipos de etapas</h2>


            <p>A tabela a seguir lista os tipos de etapas relevantes para os usuários de banco de dados. A tabela não lista os tipos de etapas que são somente para uso interno. Se o tipo da etapa é -1, a métrica não é relatada no nível da etapa.</p>
            <div class="table-container"><div class="table-contents"><table id="w319aac49c17c11c33c19b5"><thead>
                        <tr>
                            <th>Step type (Tipo de etapa)</th>
                            <th>Descrição </th>
                        </tr>
                    </thead>
                        <tr>
                            <td tabindex="-1">1 </td>
                            <td tabindex="-1">Varredura de tabela</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">2</td>
                            <td tabindex="-1">Inserir linhas</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">3 </td>
                            <td tabindex="-1">Agregar linhas</td>
                        </tr>

                        <tr>
                            <td tabindex="-1">6 </td>
                            <td tabindex="-1">Etapa de classificação</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">7</td>
                            <td tabindex="-1">Etapa de mesclagem</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">8</td>
                            <td tabindex="-1">Etapa de distribuição</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">9 </td>
                            <td tabindex="-1">Etapa de distribuição de transmissão</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">10</td>
                            <td tabindex="-1">Junção de hash</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">11</td>
                            <td tabindex="-1">Junção de mesclagem</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">12</td>
                            <td tabindex="-1">Etapa de gravação</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">14</td>
                            <td tabindex="-1">Hash</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">15</td>
                            <td tabindex="-1">Junção de loop aninhado </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">16</td>
                            <td tabindex="-1">Campos e expressões de projeto</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">17</td>
                            <td tabindex="-1">Limitar o número de linhas retornadas </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">18</td>
                            <td tabindex="-1">Exclusiva</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">20</td>
                            <td tabindex="-1">Excluir linhas</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">26</td>
                            <td tabindex="-1">Limitar o número de linhas classificadas retornadas</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">29</td>
                            <td tabindex="-1">Computar uma função de janela</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">32</td>
                            <td tabindex="-1">UDF</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">33</td>
                            <td tabindex="-1">Exclusivo</td>
                        </tr>

                        <tr>
                            <td tabindex="-1">37</td>
                            <td tabindex="-1">Retornar as linhas do nó de liderança para o cliente</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">38</td>
                            <td tabindex="-1">Retornar as linhas dos nós de computação para o nó de liderança</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">40</td>
                            <td tabindex="-1">Varredura de espectro.</td>
                        </tr>
                    </table></div></div>

         
            <h2 id="r_STV_QUERY_METRICS-sample-query2">Consulta de exemplo</h2>


            <p>Para encontrar as consultas ativas com alto nível de tempo de CPU (mais de 1.000 segundos), execute a consulta a seguir.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select query, cpu_time / 1000000 as cpu_seconds
from stv_query_metrics where segment = -1 and cpu_time &gt; 1000000000
order by cpu_time;

query | cpu_seconds
------+------------
25775 |        9540</code></pre>
            <p>Para encontrar as consultas ativas com uma junção de loop aninhado que retornaram mais de um milhão de linhas, execute a seguinte consulta.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select query, rows 
from stv_query_metrics 
where step_type = 15 and rows &gt; 1000000
order by rows;

query | rows      
------+-----------
25775 | 1580225854</code></pre>
            <p>Para encontrar as consultas ativas cujas execuções duraram mais de 60 segundos e que usaram menos de 10 segundos de tempo de CPU, execute a seguinte consulta. </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select query, run_time/1000000 as run_time_seconds
from stv_query_metrics 
where segment = -1 and run_time &gt; 60000000 and cpu_time &lt; 10000000;

query | run_time_seconds
------+-----------------
25775 |              114</code></pre>
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Atenção" /> <strong>O Javascript está desativado ou não está disponível no seu navegador.</strong></p><p>Para usar a documentação da AWS, o Javascript deve estar ativado. Consulte as páginas de Ajuda do navegador para obter instruções.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenções do documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_STV_PARTITIONS.html">STV_PARTITIONS</div><div id="next" class="next-link" accesskey="n" href="./r_STV_RECENTS.html">STV_RECENTS</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Essa página foi útil? - Sim</div><div class="content"><p>Obrigado por nos informar que estamos fazendo um bom trabalho!</p><p>Se tiver tempo, conte-nos sobre o que você gostou para que possamos melhorar ainda mais.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_STV_QUERY_METRICS.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Essa página foi útil? - Não</div><div class="content"><p>Obrigado por nos informar que precisamos melhorar a página. Lamentamos ter decepcionado você.</p><p>Se tiver tempo, conte-nos como podemos melhorar a documentação.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_STV_QUERY_METRICS.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>