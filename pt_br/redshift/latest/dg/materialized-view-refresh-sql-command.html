<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="pt-BR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>REFRESH MATERIALIZED VIEW - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="materialized-view-refresh-sql-command" /><meta name="default_state" content="materialized-view-refresh-sql-command" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-refresh-sql-command.html" /><meta name="description" content="Atualiza uma visualização materializada." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guia do desenvolvedor de banco de dados" /><meta name="abstract" content="Crie e gerencie um data warehouse com o Amazon Redshift, um serviço de data warehouse totalmente gerenciado, em escala de petabyte e de nível empresarial." /><meta name="guide-locale" content="pt_br" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-refresh-sql-command.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-refresh-sql-command.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guia do desenvolvedor de banco de dados" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guia do desenvolvedor de banco de dados" /><meta id="panorama-serviceConsolePage" value="REFRESH MATERIALIZED VIEW" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>REFRESH MATERIALIZED VIEW - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#materialized-view-refresh-sql-command" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-refresh-sql-command.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-refresh-sql-command.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-refresh-sql-command.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,desenvolvedor,dados de amostra,banco de dados,desenvolvedor do banco de dados,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guia do desenvolvedor de banco de dados",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Referência SQL",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Comandos SQL",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "REFRESH MATERIALIZED VIEW",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c_SQL_commands.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#materialized-view-refresh-sql-command" target="_blank" rel="noopener noreferrer" title="Abrir em PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentação</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guia do desenvolvedor de banco de dados</a></div><div id="page-toc-src"><a href="#mv_REFRESH_MATERIALIZED_VIEW-synopsis">Sintaxe</a><a href="#mv_REFRESH_MATERIALIZED_VIEW-parameters">Parâmetros</a><a href="#mv_REFRESH_MARTERIALIZED_VIEW_usage">Observações de uso</a><a href="#mv_REFRESH_MARTERIALIZED_VIEW_limitations">Limitações para atualização incremental</a><a href="#mv_REFRESH_MARTERIALIZED_VIEW_examples">Exemplos</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="materialized-view-refresh-sql-command">REFRESH MATERIALIZED VIEW</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Atualiza uma visualização materializada.</p><p>Quando você cria uma visualização materializada, seu conteúdo reflete o estado da tabela ou das tabelas do banco de dados subjacente na ocasião. Os dados na visualização materializada permanecem inalterados, mesmo quando aplicações fazem alterações nos dados nas tabelas subjacentes. Para atualizar os dados na visualização materializada, você pode usar a instrução <code class="code">REFRESH MATERIALIZED VIEW</code> a qualquer momento. Ao usar essa instrução, o Amazon Redshift identifica as alterações que ocorreram na tabela ou tabelas base e aplica essas alterações à visualização materializada.</p><p>Para obter mais informações sobre visualizações materializadas, consulte <a href="./materialized-view-overview.html">Criar visualizações materializadas no Amazon Redshift</a>.</p>
         <h2 id="mv_REFRESH_MATERIALIZED_VIEW-synopsis">Sintaxe</h2>
         <pre class="screen">REFRESH MATERIALIZED VIEW <em>mv_name</em></pre>
       
         <h2 id="mv_REFRESH_MATERIALIZED_VIEW-parameters">Parâmetros</h2>
         <div class="variablelist">
             
         <dl>
               <dt><span class="term"><em>mv_name</em></span></dt>
               <dd>
                  <p>O nome da visualização materializada a ser atualizada.</p>
               </dd>
            </dl></div>
       
         <h2 id="mv_REFRESH_MARTERIALIZED_VIEW_usage">Observações de uso</h2>
         <p>Somente o proprietário de uma visualização materializada pode executar uma operação <code class="code">REFRESH MATERIALIZED
               VIEW</code> nela. Além disso, o proprietário deve ter o privilégio SELECT nas tabelas base subjacentes para executar <code class="code">REFRESH
               MATERIALIZED VIEW</code> com êxito. </p>
         <p>O comando <code class="code">REFRESH MATERIALIZED VIEW</code> é executado como uma transação própria. A semântica de transação do Amazon Redshift é seguida para determinar quais dados das tabelas base são visíveis para o comando <code class="code">REFRESH</code>, ou quando as alterações feitas pelo comando <code class="code">REFRESH</code> são tornadas visíveis para outras transações em execução no Amazon Redshift.</p>
         <div class="itemizedlist">
             
            
            
            
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>Para visualizações materializadas incrementais, o <code class="code">REFRESH MATERIALIZED VIEW</code> usa apenas as linhas da tabela base que já estão confirmadas. Portanto, se a operação de atualização for executada após uma instrução DML (Data Manipulation Language) na mesma transação, as alterações dessa instrução DML não serão visíveis para serem atualizadas. </p>
            </li><li class="listitem">
               <p>Para uma atualização completa de uma visualização materializada, o <code class="code">REFRESH MATERIALIZED
                     VIEW</code> vê todas as linhas da tabela base visíveis para a transação de atualização, de acordo com a semântica de transação usual do Amazon Redshift. </p>
            </li><li class="listitem">
               <p>Dependendo do tipo de argumento de entrada, o Amazon Redshift ainda oferece suporte à atualização incremental de visualizações materializadas para as seguintes funções com tipos específicos de argumentos de entrada: DATE (timestamp), DATE_PART (date, time, interval, time-tz), DATE_TRUNC (timestamp, interval).</p>
            </li><li class="listitem">
               <p>A atualização incremental é compatível em uma visão materializada na qual a tabela base está e uma unidade de compartilhamento de dados.</p>
            </li></ul></div>
         <p>Algumas operações no Amazon Redshift interagem com visualizações materializadas. Algumas dessas operações podem forçar uma operação <code class="code">REFRESH MATERIALIZED VIEW</code> a recalcular totalmente a visualização materializada, mesmo que a consulta que define a visualização materializada use apenas os recursos SQL qualificados para atualização incremental. Por exemplo:</p>
         <div class="itemizedlist">
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>Se as visualizações materializadas não forem atualizadas, as operações de limpeza em segundo plano podem ser bloqueadas. Depois de um período limite definido internamente, será permitido executar uma operação de vácuo. Quando essa operação de vácuo acontece, todas as visualizações materializadas dependentes são marcadas para recomputação na próxima atualização (mesmo que elas sejam incrementais). Para obter informações sobre VACUUM, consulte <a href="./r_VACUUM_command.html">VACUUM</a>. Para obter mais informações sobre eventos e alterações de estado, consulte <a href="./r_STL_MV_STATE.html">STL_MV_STATE</a>.</p>
            </li><li class="listitem">
               <p>Algumas operações iniciadas pelo usuário nas tabelas base forçam a recomputação total das visualizações materializadas na próxima vez que uma operação de REFRESH seja executada. Exemplos de tais operações são um VACUUM chamado manualmente, um redimensionamento clássico, uma operação ALTER DISTKEY, uma operação ALTER SORTKEY e uma operação truncada. Para obter mais informações sobre eventos e alterações de estado, consulte <a href="./r_STL_MV_STATE.html">STL_MV_STATE</a>. </p>
            </li></ul></div>
       
         <h2 id="mv_REFRESH_MARTERIALIZED_VIEW_limitations">Limitações para atualização incremental</h2>
         <p>Atualmente, o Amazon Redshift não oferece suporte à atualização incremental para visualizações materializadas definidas com uma consulta usando qualquer um dos seguintes elementos SQL:</p>
         <div class="itemizedlist">
             
             
             
             
             
             
             
             
             
             
            
            

            
         <ul class="itemizedlist"><li class="listitem">
               <p>OUTER JOIN (RIGHT, LEFT ou FULL).</p>
            </li><li class="listitem">
               <p>Operações de conjuntos: (UNION, INTERSECT, EXCEPT, MINUS)</p>
            </li><li class="listitem">
               <p>UNION ALL quando ocorre em uma subconsulta e uma função agregada ou uma cláusula GROUP BY está presente na consulta.</p>
            </li><li class="listitem">
               <p>Funções agregadas MEDIAN, PERCENTILE_CONT, LISTAGG, STDDEV_SAMP, STDDEV_POP, APPROXIMATE COUNT, APPROXIMATE PERCENTILE e funções agregadas bit a bit.</p>
               <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>A funções agregadas COUNT, SUM, MIN, MAX e AVG não são comportadas.</p></div></div>
            </li><li class="listitem">
               <p>Funções agregadas DISTINCT, como DISTINCT COUNT, DISTINCT SUM e assim por diante.</p>
            </li><li class="listitem">
               <p>Funções de janela.</p>
            </li><li class="listitem">
               <p>Uma consulta que usa tabelas temporárias para otimização de consultas, como para otimizar subexpressões comuns.</p>
            </li><li class="listitem">
               <p>Subconsultas em qualquer outro lugar além da cláusula FROM.</p>
            </li><li class="listitem">
               <p>Tabelas externas referenciando os formatos a seguir na consulta que define a visão materializada. </p>
               <div class="itemizedlist">
                   
                   
               <ul class="itemizedlist"><li class="listitem">
                     <p> Delta Lake </p>
                  </li><li class="listitem">
                     <p> Hudi </p>
                  </li></ul></div>
               <p>A atualização incremental é compatível para visões materializadas definidas usando tabelas externas que referenciam outros formatos na faixa de visualização. Para obter mais informações sobre como configurar clusters de visualização, consulte <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/managing-clusters-console.html#cluster-preview">Creating a preview cluster</a> no <em>Guia de gerenciamento do Amazon Redshift</em>. Para obter mais informações sobre como configurar grupos de trabalho de visualização, consulte <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/serverless-workgroup-preview.html">Creating a preview workgroup</a> no <em>Guia de gerenciamento do Amazon Redshift</em>. </p>
            </li><li class="listitem"><p>Funções mutáveis, como funções de data-hora, funções aleatórias e não-estáveis definidas pelo usuário.</p></li></ul></div>
         <p>Para obter mais informações sobre as limitações das visões materializadas, incluindo o efeito de operações em segundo plano, como VACUUM, nas operações de atualização de visões materializadas, consulte <a href="#mv_REFRESH_MARTERIALIZED_VIEW_usage">Observações de uso</a>.</p>
       
         <h2 id="mv_REFRESH_MARTERIALIZED_VIEW_examples">Exemplos</h2>
         <p>O exemplo a seguir atualiza a visualização materializada <code class="code">tickets_mv</code>.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">REFRESH MATERIALIZED VIEW tickets_mv;
</code></pre>
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Atenção" /> <strong>O Javascript está desativado ou não está disponível no seu navegador.</strong></p><p>Para usar a documentação da AWS, o Javascript deve estar ativado. Consulte as páginas de Ajuda do navegador para obter instruções.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenções do documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_PREPARE.html">PREPARE</div><div id="next" class="next-link" accesskey="n" href="./r_RESET.html">RESET</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Essa página foi útil? - Sim</div><div class="content"><p>Obrigado por nos informar que estamos fazendo um bom trabalho!</p><p>Se tiver tempo, conte-nos sobre o que você gostou para que possamos melhorar ainda mais.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-refresh-sql-command.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Essa página foi útil? - Não</div><div class="content"><p>Obrigado por nos informar que precisamos melhorar a página. Lamentamos ter decepcionado você.</p><p>Se tiver tempo, conte-nos como podemos melhorar a documentação.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-refresh-sql-command.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>