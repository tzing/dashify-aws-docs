<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="pt-BR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Modificar a configuração do WLM - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="cm-c-modifying-wlm-configuration" /><meta name="default_state" content="cm-c-modifying-wlm-configuration" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm-c-modifying-wlm-configuration.html" /><meta name="description" content="Modifique a configuração do WLM no Amazon Redshift para definir filas de consulta." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guia do desenvolvedor de banco de dados" /><meta name="abstract" content="Crie e gerencie um data warehouse com o Amazon Redshift, um serviço de data warehouse totalmente gerenciado, em escala de petabyte e de nível empresarial." /><meta name="guide-locale" content="pt_br" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm-c-modifying-wlm-configuration.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/cm-c-modifying-wlm-configuration.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/cm-c-modifying-wlm-configuration.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/cm-c-modifying-wlm-configuration.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/cm-c-modifying-wlm-configuration.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/cm-c-modifying-wlm-configuration.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/cm-c-modifying-wlm-configuration.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/cm-c-modifying-wlm-configuration.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/cm-c-modifying-wlm-configuration.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/cm-c-modifying-wlm-configuration.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/cm-c-modifying-wlm-configuration.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/cm-c-modifying-wlm-configuration.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/cm-c-modifying-wlm-configuration.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/cm-c-modifying-wlm-configuration.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/cm-c-modifying-wlm-configuration.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/cm-c-modifying-wlm-configuration.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/cm-c-modifying-wlm-configuration.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm-c-modifying-wlm-configuration.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm-c-modifying-wlm-configuration.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/cm-c-modifying-wlm-configuration.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/cm-c-modifying-wlm-configuration.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/cm-c-modifying-wlm-configuration.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guia do desenvolvedor de banco de dados" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guia do desenvolvedor de banco de dados" /><meta id="panorama-serviceConsolePage" value="Modificar a configuração do WLM" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Modificar a configuração do WLM - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#cm-c-modifying-wlm-configuration" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm-c-modifying-wlm-configuration.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm-c-modifying-wlm-configuration.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm-c-modifying-wlm-configuration.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,desenvolvedor,dados de amostra,banco de dados,desenvolvedor do banco de dados,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guia do desenvolvedor de banco de dados",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Como implementar o gerenciamento do workload",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm-c-implementing-workload-management.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Modificar a configuração do WLM",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm-c-implementing-workload-management.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#cm-c-modifying-wlm-configuration" target="_blank" rel="noopener noreferrer" title="Abrir em PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentação</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guia do desenvolvedor de banco de dados</a></div><div id="page-toc-src"><a href="#wlm-manual-to-automatic">Migrar do WLM manual para o WLM automático</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="cm-c-modifying-wlm-configuration">Modificar a configuração do WLM</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>A maneira mais fácil de modificar a configuração do WLM é usando o console do Amazon Redshift. Você também pode usar a AWS CLI ou a API do Amazon Redshift. </p><p>Ao alternar o cluster entre WLM automático e manual, ele é colocado no estado <code class="code">pending reboot</code>. A alteração não entra em vigor até que o próximo cluster seja reinicializado.</p><p>Para obter informações detalhadas sobre como modificar as configurações do WLM, consulte “<a href="https://docs.aws.amazon.com/redshift/latest/mgmt/workload-mgmt-config.html">Configurar o gerenciamento de workload</a>” no <em>Guia de gerenciamento de clusters do Amazon Redshift</em>.</p>
         <h2 id="wlm-manual-to-automatic">Migrar do WLM manual para o WLM automático</h2>
         
         <p>Para maximizar a taxa de transferência do sistema e usar os recursos de maneira mais efetiva, recomendamos que você configure o WLM automático para as filas. Considere adotar a abordagem a seguir para configurar uma transição tranquila do WLM manual para o WLM automático.</p>
         
         <p>Para migrar de WLM manual para WLM automático e usar prioridades de fila, recomendamos que você crie um grupo de parâmetros e anexe-o ao cluster. Para obter mais informações, consulte “<a href="https://docs.aws.amazon.com/redshift/latest/mgmt/working-with-parameter-groups.html">Grupos de parâmetros do Amazon Redshift</a>” no <em>Guia de gerenciamento de clusters do Amazon Redshift</em>. </p>
         <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Importante</h6></div><div class="awsdocs-note-text"><p>Alterar o grupo de parâmetros ou mudar de WLM manual para automático exige uma reinicialização do cluster. Para obter mais informações, consulte <a href="./cm-c-wlm-dynamic-properties.html">Propriedades de configuração dinâmicas e estáticas do WLM</a>.</p></div></div>
         
         <p>Vamos ver um exemplo no qual há três filas manuais do WLM. Uma para uma workload de ETL, outra para uma workload de análise e mais uma para uma workload de ciência de dados. O workload de ETL é executado a cada 6 horas, o workload de análise é executado durante todo o dia e o workload de ciência de dados pode apresentar períodos de pico a qualquer momento. Com o WLM manual, especifique a memória e a simultaneidade que cada fila de workload obtém com base na sua compreensão da importância de cada uma delas para os negócios. A especificação da memória e da simultaneidade não é só difícil de descobrir, mas também faz com que os recursos do cluster sejam particionados estaticamente e, portanto, sejam desperdiçados quando somente um subconjunto das workloads está em execução.</p>
         
         <p>É possível usar o WLM automático com prioridades de consulta para indicar as prioridades relativas dos workloads, evitando os problemas anteriores. Para este exemplo, siga as seguintes etapas:</p>
         <div class="itemizedlist">
             
             
             
             
         <ul class="itemizedlist"><li class="listitem"><p>Crie um grupo de parâmetros e alterne para o modo <b>Auto WLM (WLM automático)</b>.</p></li><li class="listitem"><p>Adicione filas para cada uma das três workloads: workload de ETL, workload de análise e workload de ciência de dados. Use os mesmos grupos de usuários para cada workload usado com o modo <b>Manual WLM (WLM manual)</b>. </p></li><li class="listitem"><p>Defina a prioridade para o workload de ETL como <code class="code">High</code>, a do workload de análise como <code class="code">Normal</code> e a de ciência de dados como <code class="code">Low</code>. Essas prioridades refletem as prioridades de seus negócios para as diferentes workloads ou grupos de usuários. </p></li><li class="listitem"><p>Opcionalmente, habilite a escalabilidade da simultaneidade para a fila de análise ou de ciência de dados para que as consultas nessas filas obtenham uma performance consistente, mesmo quando a workload de ETL estiver sendo executada a cada 6 horas.</p></li></ul></div>
         
         <p>Com as prioridades de consulta, quando somente a workload de análise estiver em execução no cluster, ela obterá o sistema todo para si mesma. Isso gera alto throughput com melhor utilização do sistema. No entanto, quando o workload de ETL é iniciado, ele obtém a precedência, já que tem uma prioridade maior. As consultas em execução como parte da workload de ETL obtêm prioridade durante a admissão, além de alocação de recursos preferencial após serem admitidas. Como consequência, o workload de ETL é executado de maneira previsível, independentemente do que mais possa estar sendo executado no sistema. A performance previsível para uma workload de alta prioridade ocorre em detrimento de outra. As workloads de baixa prioridade que são executadas por mais tempo, seja porque as consultas estão aguardando que consultas mais importantes sejam concluídas. Ou porque eles estão recebendo uma fração menor de recursos quando são executados simultaneamente com consultas de prioridade mais alta. Os algoritmos de programação usados pelo Amazon Redshift possibilitam que as consultas de prioridade mais baixa não sofram de inanição, mas continuem progredindo, embora em um ritmo mais lento.</p>
         
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><div class="itemizedlist">
             
              
             
         <ul class="itemizedlist"><li class="listitem"><p>O campo de tempo limite não está disponível para WLM automático. Em vez disso, use a regra QMR, <code class="code">query_execution_time</code>. Para obter mais informações, consulte <a href="./cm-c-wlm-query-monitoring-rules.html">Regras de monitoramento de consulta do WLM</a>.</p></li><li class="listitem"><p>A ação de QMR, HOP, não se aplica a WLM automático. Em vez disso, use a ação <code class="code">change priority</code>. Para obter mais informações, consulte <a href="./cm-c-wlm-query-monitoring-rules.html">Regras de monitoramento de consulta do WLM</a>.</p></li><li class="listitem"><p>Os clusters usam filas do WLM automático e do WLM manual de forma diferente, o que pode causar confusão com suas configurações. Por exemplo, você pode configurar a propriedade de prioridade em filas do WLM automático, mas não em filas do WLM manual. Dessa forma, evite misturar filas do WLM automático e filas do WLM manual em um grupo de parâmetros. Em vez disso, crie outro grupo de parâmetros ao migrar para o WLM automático.</p></li></ul></div></div></div>

         
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Atenção" /> <strong>O Javascript está desativado ou não está disponível no seu navegador.</strong></p><p>Para usar a documentação da AWS, o Javascript deve estar ativado. Consulte as páginas de Ajuda do navegador para obter instruções.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenções do documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./cm-c-implementing-workload-management.html">Como implementar o gerenciamento do workload</div><div id="next" class="next-link" accesskey="n" href="./automatic-wlm.html">WLM automático</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Essa página foi útil? - Sim</div><div class="content"><p>Obrigado por nos informar que estamos fazendo um bom trabalho!</p><p>Se tiver tempo, conte-nos sobre o que você gostou para que possamos melhorar ainda mais.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm-c-modifying-wlm-configuration.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Essa página foi útil? - Não</div><div class="content"><p>Obrigado por nos informar que precisamos melhorar a página. Lamentamos ter decepcionado você.</p><p>Se tiver tempo, conte-nos como podemos melhorar a documentação.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm-c-modifying-wlm-configuration.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>