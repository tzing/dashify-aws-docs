<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="pt-BR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Usar Redshift Spectrum com AWS Lake Formation - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="spectrum-lake-formation" /><meta name="default_state" content="spectrum-lake-formation" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/spectrum-lake-formation.html" /><meta name="description" content="É possível usar o AWS Lake Formation para definir e impor de forma centralizada políticas de acesso no nível do banco de dados, da tabela e da coluna para os dados armazenados no Amazon S3. Depois que os dados forem registrados com um AWS Glue Data Catalog habilitado com o Lake Formation, será possível consultá-los usando vários serviços, incluindo o Redshift Spectrum." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guia do desenvolvedor de banco de dados" /><meta name="abstract" content="Crie e gerencie um data warehouse com o Amazon Redshift, um serviço de data warehouse totalmente gerenciado, em escala de petabyte e de nível empresarial." /><meta name="guide-locale" content="pt_br" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/spectrum-lake-formation.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/spectrum-lake-formation.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/spectrum-lake-formation.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/spectrum-lake-formation.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/spectrum-lake-formation.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/spectrum-lake-formation.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/spectrum-lake-formation.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/spectrum-lake-formation.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/spectrum-lake-formation.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/spectrum-lake-formation.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/spectrum-lake-formation.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/spectrum-lake-formation.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/spectrum-lake-formation.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/spectrum-lake-formation.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/spectrum-lake-formation.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/spectrum-lake-formation.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/spectrum-lake-formation.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/spectrum-lake-formation.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/spectrum-lake-formation.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/spectrum-lake-formation.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/spectrum-lake-formation.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/spectrum-lake-formation.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guia do desenvolvedor de banco de dados" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guia do desenvolvedor de banco de dados" /><meta id="panorama-serviceConsolePage" value="Usar Redshift Spectrum com AWS Lake Formation" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Usar Redshift Spectrum com AWS Lake Formation - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#spectrum-lake-formation" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/spectrum-lake-formation.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/spectrum-lake-formation.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/spectrum-lake-formation.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,desenvolvedor,dados de amostra,banco de dados,desenvolvedor do banco de dados,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guia do desenvolvedor de banco de dados",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Consultar dados externos usando o Amazon Redshift Spectrum",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c-using-spectrum.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Usar Redshift Spectrum com AWS Lake Formation",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c-using-spectrum.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#spectrum-lake-formation" target="_blank" rel="noopener noreferrer" title="Abrir em PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentação</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guia do desenvolvedor de banco de dados</a></div><div id="page-toc-src"><a href="#spectrum-lake-formation-data-filters">Usar filtros de dados para segurança em nível de linha e de célula</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="spectrum-lake-formation">Usar Redshift Spectrum com AWS Lake Formation</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>É possível usar o AWS Lake Formation para definir e impor de forma centralizada políticas de acesso no nível do banco de dados, da tabela e da coluna para os dados armazenados no Amazon S3. Depois que os dados forem registrados com um AWS Glue Data Catalog habilitado com o Lake Formation, será possível consultá-los usando vários serviços, incluindo o Redshift Spectrum. </p><p>O Lake Formation fornece a segurança e a governança do catálogo de dados. No Lake Formation, é possível conceder e revogar permissões para os objetos do catálogo de dados, como bancos de dados, tabelas, colunas e armazenamento subjacente do Amazon S3.</p><div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Importante</h6></div><div class="awsdocs-note-text"><p>Você só pode usar o Redshift Spectrum com um catálogo de dados habilitado para Lake Formation nas regiões da AWS onde o Lake Formation está disponível. Para obter uma lista de regiões disponíveis, consulte <a href="https://docs.aws.amazon.com/general/latest/gr/lake-formation.html">Endpoints e cotas do AWS Lake Formation</a> na <em>Referência geral da AWS</em>.</p></div></div><p>Usando o Redshift Spectrum com Lake Formation, você pode fazer o seguinte:</p><div class="itemizedlist">
          
          
          
      <ul class="itemizedlist"><li class="listitem"><p>Use o Lake Formation como um local central para conceder e revogar permissões e políticas de controle de acesso em todos os dados do data lake. O Lake Formation fornece uma hierarquia de permissões para controlar o acesso aos bancos de dados e tabelas em um catálogo de dados. Para obter mais informações, consulte <a href="https://docs.aws.amazon.com/lake-formation/latest/dg/lake-formation-permissions.html">“Overview of Lake Formation permissions”</a> (Visão geral das permissões do Lake Formation) no <em>Guia do desenvolvedor do AWS Lake Formation</em>.</p></li><li class="listitem"><p>Crie tabelas externas e execute consultas em dados no data lake. Antes que os usuários da conta possam executar consultas, um administrador da conta do data lake registra os caminhos existentes do Amazon S3 que contêm dados da fonte com o Lake Formation. O administrador também cria tabelas e concede permissões aos usuários. O acesso pode ser concedido em bancos de dados, tabelas ou colunas. O administrador pode usar filtros de dados no Lake Formation para conceder controle de acesso granular sobre seus dados confidenciais armazenados no Amazon S3. Para obter mais informações, consulte <a href="#spectrum-lake-formation-data-filters">Usar filtros de dados para segurança em nível de linha e de célula</a>.</p>
            <p>Depois que os dados forem registrados no catálogo de dados, sempre que os usuários tentarem executar consultas, o Lake Formation verificará o acesso à tabela para essa entidade principal específica. O Lake Formation fornece credenciais temporárias para o Redshift Spectrum e a consulta é executada. </p></li><li class="listitem">
            
            <p>Execute consultas do Redshift Spectrum em um AWS Glue Data Catalog montado automaticamente usando credenciais do IAM obtidas com <code class="code">GetCredentials</code> ou <code class="code">GetClusterCredentials</code> e gerencie as permissões do Lake Formation por usuário do banco de dados (IAMR:username ou IAM:username).</p></li></ul></div><p>Quando você usa o Redshift Spectrum com um Catálogo de Dados habilitado para o Lake Formation, uma das seguintes opções deve estar em vigor:</p><div class="itemizedlist">
          
          
      <ul class="itemizedlist"><li class="listitem"><p>Um perfil do IAM associado ao cluster que tem permissão para o Catálogo de Dados.</p></li><li class="listitem"><p>Uma identidade federada do IAM configurada para gerenciar o acesso a recursos externos. Para obter mais informações, consulte <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/authorization-fas-spectrum.html">Usar uma identidade federada para gerenciar o acesso do Amazon Redshift aos recursos locais e às tabelas externas do Amazon Redshift Spectrum</a>.</p></li></ul></div><div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Importante</h6></div><div class="awsdocs-note-text"><p>Não é possível encadear funções do IAM ao usar o Redshift Spectrum com um catálogo de dados habilitado para o Lake Formation.</p></div></div><p>Para saber mais sobre as etapas necessárias para configurar o AWS Lake Formation a ser usado com o Redshift Spectrum, consulte <a href="https://docs.aws.amazon.com/lake-formation/latest/dg/getting-started-tutorial-jdbc.html">Tutorial: Creating a data lake from a JDBC source in Lake Formation</a> no <em>Guia do desenvolvedor do AWS Lake Formation</em>. Especificamente, confira <a href="https://docs.aws.amazon.com/lake-formation/latest/dg/tut-query-redshift.html">“Query the data in the data lake using Amazon Redshift Spectrum”</a> (Consultar os dados no data lake usando o Amazon Redshift Spectrum) para obter detalhes sobre a integração com o Redshift Spectrum. Os dados e recursos da AWS usados neste tópico dependem das etapas anteriores do tutorial.</p>
         <h2 id="spectrum-lake-formation-data-filters">Usar filtros de dados para segurança em nível de linha e de célula</h2>
         
         
         <p>Você pode definir filtros de dados no AWS Lake Formation para controlar o acesso em nível de linha e célula de consultas do Redshift Spectrum aos dados definidos em seu catálogo de dados. Para configurar isso, execute as seguintes tarefas:</p>
         <div class="itemizedlist">
             
             
         <ul class="itemizedlist"><li class="listitem"><p>Crie um filtro de dados no Lake Formation com as seguintes informações:</p>
               <div class="itemizedlist">
                   
                   
               <ul class="itemizedlist"><li class="listitem"><p>Uma especificação de coluna com uma lista de colunas a serem incluídas ou excluídas dos resultados da consulta.</p></li><li class="listitem"><p>Uma expressão de filtro de linha que especifica as linhas a serem incluídas nos resultados da consulta.</p></li></ul></div>
               <p>Para obter mais informações sobre como criar um filtro de dados, consulte <a href="https://docs.aws.amazon.com/lake-formation/latest/dg/data-filters-about.html">“Data filters in Lake Formation”</a> (Filtros de dados no Lake Formation) no <em>Guia do desenvolvedor do AWS Lake Formation</em>.</p></li><li class="listitem"><p>Crie uma tabela externa no Amazon Redshift que faça referência a uma tabela em seu catálogo de dados habilitado para o Lake Formation. Para obter detalhes sobre como consultar uma tabela do Lake Formation usando o Redshift Spectrum, confira <a href="https://docs.aws.amazon.com/lake-formation/latest/dg/tut-query-redshift.html">“Query the data in the data lake using Amazon Redshift Spectrum”</a> (Consultar os dados no data lake usando o Amazon Redshift Spectrum) no <em>Guia do desenvolvedor do AWS Lake Formation</em>.</p></li></ul></div>
         <p>Depois que a tabela for definida no Amazon Redshift, você poderá consultar a tabela do Lake Formation e acessar somente as linhas e colunas permitidas pelo filtro de dados.</p>
         
         <p>Para obter um guia detalhado sobre como configurar a segurança por linha e célula no Lake Formation, depois consultar usando o Redshift Spectrum, consulte <a href="https://aws.amazon.com/blogs/big-data/use-amazon-redshift-spectrum-with-row-level-and-cell-level-security-policies-defined-in-aws-lake-formation/" rel="noopener noreferrer" target="_blank"><span>Usar o Amazon Redshift Spectrum com políticas de segurança por linha e célula definidas no AWS Lake Formation</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Atenção" /> <strong>O Javascript está desativado ou não está disponível no seu navegador.</strong></p><p>Para usar a documentação da AWS, o Javascript deve estar ativado. Consulte as páginas de Ajuda do navegador para obter instruções.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenções do documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./c-spectrum-iam-policies.html">Políticas do IAM do Amazon Redshift Spectrum</div><div id="next" class="next-link" accesskey="n" href="./c-spectrum-data-files.html">Criação de arquivos de dados para consultas no Amazon Redshift Spectrum</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Essa página foi útil? - Sim</div><div class="content"><p>Obrigado por nos informar que estamos fazendo um bom trabalho!</p><p>Se tiver tempo, conte-nos sobre o que você gostou para que possamos melhorar ainda mais.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/spectrum-lake-formation.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Essa página foi útil? - Não</div><div class="content"><p>Obrigado por nos informar que precisamos melhorar a página. Lamentamos ter decepcionado você.</p><p>Se tiver tempo, conte-nos como podemos melhorar a documentação.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/spectrum-lake-formation.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>