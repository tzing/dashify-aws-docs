<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="pt-BR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Ingestão de streaming - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="materialized-view-streaming-ingestion" /><meta name="default_state" content="materialized-view-streaming-ingestion" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-streaming-ingestion.html" /><meta name="description" content="Saiba mais sobre como usar a ingestão de streaming para transmitir dados de serviços de streaming para o Amazon Redshift." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guia do desenvolvedor de banco de dados" /><meta name="abstract" content="Crie e gerencie um data warehouse com o Amazon Redshift, um serviço de data warehouse totalmente gerenciado, em escala de petabyte e de nível empresarial." /><meta name="guide-locale" content="pt_br" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-streaming-ingestion.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-streaming-ingestion.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guia do desenvolvedor de banco de dados" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guia do desenvolvedor de banco de dados" /><meta id="panorama-serviceConsolePage" value="Ingestão de streaming" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Ingestão de streaming - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#materialized-view-streaming-ingestion" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-streaming-ingestion.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-streaming-ingestion.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-streaming-ingestion.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,desenvolvedor,dados de amostra,banco de dados,desenvolvedor do banco de dados,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guia do desenvolvedor de banco de dados",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Criar visualizações materializadas no Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-overview.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Ingestão de streaming",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-overview.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#materialized-view-streaming-ingestion" target="_blank" rel="noopener noreferrer" title="Abrir em PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentação</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guia do desenvolvedor de banco de dados</a></div><div id="page-toc-src"><a href="#materialized-view-streaming-ingestion-data-flow">Fluxo de dados</a><a href="#materialized-view-streaming-ingestion-use-cases">Casos de uso de ingestão de transmissão</a><a href="#materialized-view-streaming-ingestion-considerations">Considerações sobre a ingestão de streaming</a><a href="#materialized-view-streaming-ingestion-limitations">Limitações</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="materialized-view-streaming-ingestion">Ingestão de streaming</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p> A ingestão de streaming fornece ingestão de dados de transmissão de baixa latência e alta velocidade do <a href="https://aws.amazon.com/kinesis/data-streams/" rel="noopener noreferrer" target="_blank"><span>Amazon Kinesis Data Streams</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> e <a href="https://aws.amazon.com/msk/" rel="noopener noreferrer" target="_blank"><span>Amazon Managed Streaming for Apache Kafka</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> em uma visão materializada provisionada pelo Amazon Redshift ou Amazon Redshift sem servidor. Ela reduz o tempo necessário para acessar os dados, bem como o custo de armazenamento. Você pode configurar a ingestão de streaming para o seu cluster do Amazon Redshift ou para o Amazon Redshift Serverless e criar uma visão materializada, usando instruções SQL, conforme descrito em <a href="./materialized-view-overview.html">Criar visualizações materializadas no Amazon Redshift</a>. Depois disso, usando a atualização da visão materializada, você pode ingerir centenas de megabytes de dados por segundo. Isso resulta em acesso rápido a dados externos que são atualizados rapidamente. </p>
            <h2 id="materialized-view-streaming-ingestion-data-flow">Fluxo de dados</h2>
            <p> Um cluster provisionado pelo Amazon Redshift ou um grupo de trabalho do Amazon Redshift sem servidor é o consumidor do fluxo. Uma visão materializada é a área de pouso para dados lidos do fluxo, que são processados à medida que chegam. Por exemplo, os valores JSON podem ser consumidos e mapeados para as colunas de dados da visão materializada usando SQL familiar. Quando a visão materializada é atualizada, os nós de computação do Amazon Redshift alocam cada fragmento de dados do Kinesis ou partição do Kafka para uma fatia de computação. Cada fatia consome dados dos fragmentos alocados até que a visão atinja a paridade com o <code class="code">SEQUENCE_NUMBER</code> para o fluxo do Kinesis ou último <code class="code">Offset</code> para o tópico do Kafka. A visão materializada subsequente atualiza os dados de leitura do último <code class="code">SEQUENCE_NUMBER</code> da atualização anterior até atingir a paridade com os dados do fluxo ou tópico. </p>
      
     
         
            <h2 id="materialized-view-streaming-ingestion-use-cases">Casos de uso de ingestão de transmissão</h2>
            <p> Casos de uso para a ingestão de streaming do Amazon Redshift envolvem trabalhar com dados que são gerados continuamente (transmitidos) e que precisam ser processados em um curto período (latência) desde sua geração. Isso é chamado de análise quase em tempo real. As fontes de dados podem variar, incluindo dispositivos da IoT, dados de telemetria de sistemas ou dados de fluxo de cliques de um site ou uma aplicação movimentada. </p>
         
                <h2 id="materialized-view-streaming-ingestion-considerations">Considerações sobre a ingestão de streaming</h2>
                <p>A seguir estão considerações importantes e práticas recomendadas para performance e faturamento ao configurar um ambiente de ingestão de streaming.</p>
                <div class="itemizedlist">
       
                    
                 
                     
                     
      
      
                     
                    
                     
                    
                     
                     
                    
                     
                    
                    
                <ul class="itemizedlist"><li class="listitem"><p><em>Uso e ativação da atualização automática</em>: as consultas de atualização automática para visões materializadas são tratadas como qualquer outra workload do usuário. A atualização automática carrega os dados do fluxo assim que eles chegam. </p>
                   <p>A atualização automática pode ser ativada explicitamente para uma visão materializada criada para ingestão de streaming. Para fazer isso, especifique <code class="code">AUTO REFRESH</code> na definição da visão materializada. A atualização manual é o padrão. Para especificar a atualização automática de uma visão materializada existente para ingestão de streaming, você pode executar <code class="code">ALTER MATERIALIZED VIEW</code> para ativá-la. Para obter mais informações, consulte <a href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-create-sql-command.html">CREATE MATERIALIZED VIEW</a> ou <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_ALTER_MATERIALIZED_VIEW.html">ALTER MATERIALIZED VIEW</a>.</p>
                    </li><li class="listitem">
                        <p><em>Ingestão de streaming e Amazon Redshift Serverless</em>: as mesmas instruções de instalação e configuração que se aplicam à ingestão de streaming do Amazon Redshift em um cluster provisionado também se aplicam à ingestão de streaming no Amazon Redshift Serverless. É importante dimensionar o Amazon Redshift Serverless com o nível necessário de RPUs para oferecer suporte à ingestão de streaming com atualização automática e outras workloads. Para obter mais informações, consulte <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/serverless-billing.html">Faturamento do Amazon Redshift Serverless</a>.</p>
              
                    </li><li class="listitem">
                        <p><em>Nós do Amazon Redshift em uma zona de disponibilidade diferente do cluster do Amazon MSK</em>: quando você configura a ingestão de streaming, o Amazon Redshift tenta se conectar a um cluster do Amazon MSK na mesma zona de disponibilidade, caso o reconhecimento de rack esteja habilitado para o Amazon MSK. Se todos os seus nós estiverem em zonas de disponibilidade diferentes do cluster do Amazon Redshift, você poderá incorrer custos de transferência de dados entre zonas de disponibilidade. Para evitar isso, mantenha pelo menos um nó de cluster de agente do Amazon MSK na mesma AZ do seu cluster do Amazon Redshift. </p>
                    </li><li class="listitem">
                        <p><em>Local de início da atualização</em>: depois de criar uma visão materializada, sua atualização inicial começa a partir de <code class="code">TRIM_HORIZON</code> de um fluxo do Kinesis, ou do offset 0 de um tópico do Amazon MSK.</p></li><li class="listitem">
                        <p> <em>Formatos de dados</em>: os formatos de dados compatíveis são limitados àqueles que podem ser convertidos de <code class="code">VARBYTE</code>. Para obter mais informações, consulte <a href="./r_VARBYTE_type.html">Tipo VARBYTE</a> e <a href="./r_VARBYTE_OPERATORS.html">Operadores VARBYTE</a>. </p>
                    </li><li class="listitem"><p><em>Streaming para várias visões materializadas</em>: no Amazon Redshift, recomendamos, na maioria dos casos, que você coloque os dados de cada fluxo em uma única visão materializada. No entanto, é possível ingerir um fluxo e colocar os dados em várias visões materializadas. Por exemplo, um caso de uso em que você ingere um fluxo contendo dados esportivos, mas organiza os dados de cada esporte em visões materializadas separadas.</p>
                        <p>Observe que quando você ingere dados e atualiza várias visões materializadas, pode haver custos de saída mais altos, especificamente para a leitura de dados do provedor de streaming. Além disso, o maior uso de recursos para leitura em mais de uma visão materializada pode impactar outras workloads. Observe também as limitações de largura de banda, throughput e desempenho do seu provedor de streaming. Para obter mais informações sobre preços de fluxos de dados, consulte <a href="https://aws.amazon.com/kinesis/data-streams/pricing/" rel="noopener noreferrer" target="_blank"><span>Preços do Kinesis Data Streams</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> e <a href="https://aws.amazon.com/msk/pricing/" rel="noopener noreferrer" target="_blank"><span>Preços do Amazon Managed Streaming para Apache Kafka</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
                    </li><li class="listitem"><p><em>Anexar registros a uma tabela</em>: é possível executar <code class="code">ALTER TABLE APPEND</code> para acrescentar linhas a uma tabela de destino usando uma visão materializada de origem existente. Isso funciona somente se a visão materializada estiver configurada para ingestão de streaming. Para obter mais informações, consulte <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_ALTER_TABLE_APPEND.html">ALTER TABLE APPEND</a>.</p></li><li class="listitem"><p><em>Executar TRUNCATE ou DELETE</em>: você pode remover registros de uma visão materializada usada para ingestão de streaming utilizando alguns métodos:</p>
                        <div class="itemizedlist">
                             
                             
                        <ul class="itemizedlist"><li class="listitem"><p><code class="code">TRUNCATE</code>: esse comando exclui todas as linhas de uma visão materializada configurada para ingestão de streaming. Ele não verifica a tabela. Para obter mais informações, consulte <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_TRUNCATE.html">TRUNCATE</a>.</p></li><li class="listitem"><p><code class="code">DELETE</code>: esse comando exclui todas as linhas de uma visão materializada configurada para ingestão de streaming. Para obter mais informações, consulte <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_DELETE.html">DELETE</a>.</p></li></ul></div>
                    </li></ul></div>
                
                 
                    <h3 id="materialized-view-streaming-methods">Comparação entre ingestão de streaming e preparação de dados no Amazon S3</h3>
                    <p> Há várias opções para realizar streaming de dados para o Amazon Redshift ou para o Amazon Redshift sem servidor. Duas opções conhecidas são a ingestão de streaming, descrita neste tópico, ou a configuração de um fluxo de entrega para o Amazon S3 com o Kinesis Data Firehose. A seguinte lista descreve cada método: </p>  
                    <div class="orderedlist">
                         
                         
                    <ol><li><p> A ingestão de streaming do Kinesis Data Streams ou do Amazon Managed Streaming for Apache Kafka para o Amazon Redshift ou Amazon Redshift sem servidor requer a configuração de uma visão materializada para receber os dados. </p></li><li><p>Para entregar dados ao Amazon Redshift usando o Kinesis Data Streams e transmiti-los por meio do Kinesis Data Firehose, é necessário conectar o fluxo de origem ao Amazon Kinesis Data Firehose e esperar que o Kinesis Data Firehose prepare os dados no Amazon S3. Esse processo utiliza lotes de vários tamanhos em intervalos de buffer de duração variável. Após a transmissão para o Amazon S3, o Kinesis Data Firehose inicia um comando COPY para carregar os dados. </p></li></ol></div>
                    <p>Com a ingestão de streaming, você ignora várias etapas que são necessárias no segundo processo:</p>
                    <div class="itemizedlist">
                         
                         
                         
                    <ul class="itemizedlist"><li class="listitem"><p>Não é necessário enviar dados para um fluxo de entrega do Amazon Kinesis Data Firehose, porque, com a ingestão de streaming, os dados podem ser enviados diretamente do Kinesis Data Streams a uma visão materializada em um banco de dados do Redshift.</p></li><li class="listitem"><p>Não é necessário descarregar os dados transmitidos no Amazon S3 porque os dados de ingestão de streaming vão diretamente para a visão materializada do Redshift.</p></li><li class="listitem"><p>Não é necessário gravar e executar comandos COPY porque os dados na visão materializada são atualizados diretamente do fluxo. O carregamento de dados do Amazon S3 para o Redshift não faz parte do processo.</p></li></ul></div>
                    <p>Observe que a ingestão de streaming é limitada a fluxos do Amazon Kinesis Data Streams e tópicos do Amazon MSK. Para transmitir do Kinesis Data Streams para outras origens diferentes do Amazon Redshift, você provavelmente vai precisar de um fluxo de entrega do Kinesis Data Firehose. Para obter mais informações, consulte <a href="https://docs.aws.amazon.com/firehose/latest/dev/basic-write.html">Enviar dados para um fluxo de entrega do Amazon Kinesis Data Firehose</a>.</p>
                 
             
                    <h2 id="materialized-view-streaming-ingestion-limitations">Limitações</h2>
                    
                    <div class="table-container"><div class="table-contents"><table id="w319aac21c47c11b3"><thead>
                                <tr>
                                    <th>Recurso ou comportamento </th>
                                    <th>Descrição </th>
                                </tr>
                            </thead>
                   
                                
                                <tr>
                                    <td tabindex="-1"><b>Limite de tamanho de tópicos do Kafka</b> </td>
                                    <td tabindex="-1"><p>Não é possível usar um tópico do Kafka com um nome maior que 128 caracteres (sem incluir aspas). Para obter mais informações, consulte <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_names.html">Nomes e identificadores</a>.</p></td>
                                </tr>
                                <tr>
                                    <td tabindex="-1"><b>Atualizações e JOINs incrementais em uma visão materializada</b></td>
                                    <td tabindex="-1"><p>A exibição materializada deve poder ser mantida de forma incremental. Não é possível realizar recálculo completo para o Kinesis ou Amazon MSK porque eles não preservam o histórico de fluxos ou tópicos após 24 horas ou 7 dias, por padrão. Você pode definir períodos de retenção de dados mais longos no Kinesis ou no Amazon MSK. No entanto, isso pode resultar em mais manutenção e custo. Além disso, atualmente não há suporte para JOINs em visões materializadas criadas em um fluxo do Kinesis ou em um tópico do Amazon MSK. Depois de criar uma visão materializada em seu fluxo ou tópico, você pode criar outra visão materializada para unir a visão materializada de streaming a outras visões materializadas, tabelas ou visões.</p>
                                        <p>Para obter mais informações, consulte <a href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-refresh-sql-command.html">ATUALIZAR EXIBIÇÃO MATERIALIZADA</a>.</p></td>
                                </tr>
                                
                   
                                <tr>
                                    <td tabindex="-1"><b>Análise de registros</b></td>
                                    <td tabindex="-1"><p>A ingestão de streaming do Amazon Redshift não oferece suporte à análise de registros que foram agregados pela Kinesis Producer Library (<a href="https://docs.aws.amazon.com/kinesis/latest/dev/kinesis-kpl-concepts.html#kinesis-kpl-concepts-aggretation">Conceitos chave da KPL - Agregação</a>). Os registros agregados são ingeridos, mas são armazenados como dados de buffer de protocolo binário. (Consulte <a href="https://developers.google.com/protocol-buffers" rel="noopener noreferrer" target="_blank"><span>Buffers de protocolo</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> para obter mais informações.) Dependendo de como você envia dados para o Kinesis, talvez seja necessário desativar esse recurso. </p></td>
                                </tr>
                                
                  
                       
                               
                                <tr>
                                    <td tabindex="-1"><b>Descompressão</b> </td>
                                    <td tabindex="-1"><p>No momento, <code class="code">VARBYTE</code> não é compatível com nenhum método de descompressão. Por causa disso, registros contendo dados compactados não podem ser consultados no Redshift. Descompacte seus dados antes de enviá-los para o fluxo do Kinesis ou para o tópico do Amazon MSK.</p></td>
                                </tr>
                                
                                <tr>
                                    <td tabindex="-1"><b>Tamanho máximo do registro</b> </td>
                                    <td tabindex="-1"><p>O tamanho máximo de qualquer campo de registro que o Amazon Redshift consegue ingerir do Kinesis ou do Amazon MSK é um pouco menos de 1 MB. Os pontos a seguir detalham o comportamento:</p><div class="itemizedlist">
                                             
                                             
                                        <ul class="itemizedlist"><li class="listitem"><p><b>Comprimento máximo de VARBYTE</b>: o tipo <code class="code">VARBYTE</code> é compatível com um comprimento de dados máximo de 1.024.000 bytes. Como o Kinesis limita as cargas a 1 MB, após a codificação Base64, todos os dados do Kinesis podem ser ingeridos pelo Amazon Redshift.</p></li><li class="listitem"><p><b>Limites de mensagens</b>: a configuração padrão do Amazon MSK limita as mensagens a 1 MB. Além disso, se uma mensagem incluir cabeçalhos, a quantidade de dados será limitada a 1.048.470 bytes. Com as configurações padrão, não há problemas com a ingestão. No entanto, você pode alterar o tamanho máximo de mensagem para o Kafka, bem como para o Amazon MSK, para um valor maior. Nesse caso, talvez seja possível que o campo de chave/valor de um registro do Kafka, ou do cabeçalho, exceda o limite de tamanho. Esses registros podem causar um erro e não serem ingeridos.</p></li></ul></div></td>
                                </tr>
                   
                                
                                <tr>
                                    <td tabindex="-1"><b>Registros de erros</b> </td>
                                    <td tabindex="-1"><p>Em cada caso em que um registro não pode ser ingerido no Redshift porque o tamanho dos dados excede o tamanho máximo, esse registro é ignorado. A atualização da visão materializada ainda é bem-sucedida, nesse caso, e um segmento de cada registro de erro é gravado na tabela do sistema <a href="./r_SYS_STREAM_SCAN_ERRORS.html">SYS_STREAM_SCAN_ERRORS</a>. Erros resultantes da lógica comercial, como um erro em um cálculo ou um erro resultante de uma conversão de tipo, não são ignorados. Antes de adicionar lógica à sua definição de visão materializada, teste a lógica com cuidado para evitá-las.</p></td>
                                </tr>
                   
                     
                            </table></div></div>
                    
                    
                    
                    
                    
                    
                    
                    
                <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Atenção" /> <strong>O Javascript está desativado ou não está disponível no seu navegador.</strong></p><p>Para usar a documentação da AWS, o Javascript deve estar ativado. Consulte as páginas de Ajuda do navegador para obter instruções.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenções do documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./materialized-view-UDFs.html">Como usar uma função definida pelo usuário (UDF) em uma visão materializada</div><div id="next" class="next-link" accesskey="n" href="./materialized-view-streaming-ingestion-getting-started.html">Conceitos básicos da ingestão de streaming do Amazon Kinesis Data Streams</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Essa página foi útil? - Sim</div><div class="content"><p>Obrigado por nos informar que estamos fazendo um bom trabalho!</p><p>Se tiver tempo, conte-nos sobre o que você gostou para que possamos melhorar ainda mais.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-streaming-ingestion.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Essa página foi útil? - Não</div><div class="content"><p>Obrigado por nos informar que precisamos melhorar a página. Lamentamos ter decepcionado você.</p><p>Se tiver tempo, conte-nos como podemos melhorar a documentação.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-streaming-ingestion.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>