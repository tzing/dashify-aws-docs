<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="pt-BR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>SVL_MULTI_STATEMENT_VIOLATIONS - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_SVL_MULTI_STATEMENT_VIOLATIONS" /><meta name="default_state" content="r_SVL_MULTI_STATEMENT_VIOLATIONS" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" /><meta name="description" content="Use a visualização SVL_MULTI_STATEMENT_VIOLATIONS para obter um registro completo de todos os comandos SQL executados no sistema que possuem violações." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guia do desenvolvedor de banco de dados" /><meta name="abstract" content="Crie e gerencie um data warehouse com o Amazon Redshift, um serviço de data warehouse totalmente gerenciado, em escala de petabyte e de nível empresarial." /><meta name="guide-locale" content="pt_br" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guia do desenvolvedor de banco de dados" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guia do desenvolvedor de banco de dados" /><meta id="panorama-serviceConsolePage" value="SVL_MULTI_STATEMENT_VIOLATIONS" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>SVL_MULTI_STATEMENT_VIOLATIONS - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#r_SVL_MULTI_STATEMENT_VIOLATIONS" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,desenvolvedor,dados de amostra,banco de dados,desenvolvedor do banco de dados,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guia do desenvolvedor de banco de dados",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Referência de visualizações e tabelas do sistema",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm_chap_system-tables.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Monitoramento do sistema (somente provisionado)",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c_intro_system_views.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Visualizações SVL para o cluster principal",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/svl_views.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "SVL_MULTI_STATEMENT_VIOLATIONS",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/svl_views.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#r_SVL_MULTI_STATEMENT_VIOLATIONS" target="_blank" rel="noopener noreferrer" title="Abrir em PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentação</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guia do desenvolvedor de banco de dados</a></div><div id="page-toc-src"><a href="#r_SVL_MULTI_STATEMENT_VIOLATIONS-table-columns">Colunas da tabela</a><a href="#r_SVL_MULTI_STATEMENT_VIOLATIONS-sample-query">Consulta de exemplo</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="r_SVL_MULTI_STATEMENT_VIOLATIONS">SVL_MULTI_STATEMENT_VIOLATIONS</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Use a visualização SVL_MULTI_STATEMENT_VIOLATIONS para obter um registro completo de todos os comandos SQL executados no sistema que violam as restrições do bloco de transação.</p><p>Violações ocorrem quando você executa qualquer um dos seguintes comandos SQL que o Amazon Redshift restringe dentro de um bloco de transação ou solicitações de várias instruções:</p><div class="itemizedlist">
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
           <ul class="itemizedlist"><li class="listitem"><p><a href="./r_CREATE_DATABASE.html">CREATE DATABASE</a></p></li><li class="listitem"><p><a href="./r_DROP_DATABASE.html">DROP DATABASE</a></p></li><li class="listitem"><p><a href="./r_ALTER_TABLE_APPEND.html">ALTER TABLE APPEND</a></p></li><li class="listitem"><p><a href="./r_CREATE_EXTERNAL_TABLE.html">CREATE EXTERNAL TABLE</a></p></li><li class="listitem"><p>DROP EXTERNAL TABLE</p></li><li class="listitem"><p>RENAME EXTERNAL TABLE</p></li><li class="listitem"><p>ALTER EXTERNAL TABLE</p></li><li class="listitem"><p>CREATE TABLESPACE</p></li><li class="listitem"><p>DROP TABLESPACE</p></li><li class="listitem"><p><a href="./r_CREATE_LIBRARY.html">CREATE LIBRARY</a></p></li><li class="listitem"><p><a href="./r_DROP_LIBRARY.html">DROP LIBRARY</a></p></li><li class="listitem"><p>REBUILDCAT</p></li><li class="listitem"><p>INDEXCAT</p></li><li class="listitem"><p>REINDEX DATABASE</p></li><li class="listitem"><p><a href="./r_VACUUM_command.html">VACUUM</a></p></li><li class="listitem"><p><a href="./r_GRANT.html">GRANT</a></p></li><li class="listitem"><p><a href="./r_COPY.html">COPY</a></p></li></ul></div><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Se houver alguma entrada nesta exibição, altere suas aplicações e scripts SQL correspondentes. Recomendamos alterar o código da aplicação para mover o uso desses comandos SQL restritos para fora do bloco de transação. Se precisar de assistência adicional, entre em contato com o AWS Support.</p></div></div><p>SVL_MULTI_STATEMENT_VIOLATIONS é visível para todos os usuários. Os superusuários podem ver todas as linhas; usuários regulares podem ver somente seus próprios dados. Para obter mais informações, consulte <a href="./cm_chap_system-tables.html#c_visibility-of-data">Visibilidade de dados em tabelas e visualizações de sistema</a>.</p><p>Alguns ou todos os dados nessa tabela também podem ser encontrados na exibição de monitoramento SYS <a href="./SYS_QUERY_HISTORY.html">SYS_QUERY_HISTORY</a>. Os dados na exibição de monitoramento SYS são formatados para serem mais fáceis de usar e compreender. É recomendável usar a exibição de monitoramento SYS nas consultas.</p>
            <h2 id="r_SVL_MULTI_STATEMENT_VIOLATIONS-table-columns">Colunas da tabela</h2>
            
            
            <div class="table-container"><div class="table-contents"><table id="w319aac49c17c15c25c15b3"><thead>
                        <tr>
                            <th>Nome da coluna </th>
                            <th>Tipo de dados </th>
                            <th>Descrição </th>
                        </tr>
                    </thead>
                        <tr>
                            <td tabindex="-1">userid </td>
                            <td tabindex="-1">inteiro </td>
                            <td tabindex="-1">O ID do usuário que causou a violação. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">banco de dados </td>
                            <td tabindex="-1">character(32) </td>
                            <td tabindex="-1">O nome do banco de dados ao qual o usuário estava conectado. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">cmdname </td>
                            <td tabindex="-1">character(20) </td>

                            <td tabindex="-1">O nome do comando que não pode ser executado dentro de um bloco de transação ou solicitação de instrução múltipla. Por exemplo, CREATE DATABASE, DROP DATABASE, ALTER TABLE APPEND, CREATE EXTERNAL TABLE, DROP EXTERNAL TABLE, RENAME EXTERNAL TABLE, ALTER EXTERNAL TABLE, CREATE LIBRARY, DROP LIBRARY, REBUILDCAT, INDEXCAT, REINDEX DATABASE, VACUUM e GRANT em recursos externos, CLUSTER, COPY, CREATE TABLESPACE e DROP TABLESPACE. </td>

                        </tr>
                        <tr>
                            <td tabindex="-1">xid </td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">O ID da transação associada à instrução. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">pid </td>
                            <td tabindex="-1">inteiro </td>
                            <td tabindex="-1">O ID do processo para a instrução. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">label </td>
                            <td tabindex="-1">character(320) </td>
                            <td tabindex="-1">O nome do arquivo usado para executar a consulta ou um rótulo definido com o comando SET QUERY_GROUP. Se a consulta não for baseada em arquivos ou o parâmetro QUERY_GROUP não estiver definido, o valor deste campo será branco. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">starttime </td>
                            <td tabindex="-1">timestamp</td>
                            <td tabindex="-1">A hora exata em que a instrução começou a ser executada, com 6 dígitos de precisão para segundos fracionários, por exemplo: <code class="userinput">2009-06-12 11:29:19.131358</code> </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">endtime </td>
                            <td tabindex="-1">timestamp</td>
                            <td tabindex="-1">A hora exata em que a instrução terminou de ser executada, com 6 dígitos de precisão para segundos fracionários, por exemplo: <code class="userinput">2009-06-12 11:29:19.193640</code> </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">sequence </td>
                            <td tabindex="-1">inteiro </td>
                            <td tabindex="-1">Quando uma única instrução contém mais de 200 caracteres, são registradas linhas adicionais para essa instrução. O valor 0 da sequência é a primeira linha, 1 é a segunda, e assim por diante. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">type </td>
                            <td tabindex="-1">varchar(10) </td>
                            <td tabindex="-1">O tipo da instrução SQL: <code class="userinput">QUERY</code>, <code class="userinput">DDL</code> ou <code class="userinput">UTILITY</code>. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">text </td>
                            <td tabindex="-1">character(200) </td>
                            <td tabindex="-1">O texto SQL, em incrementos de 200 caracteres. Esse campo pode conter caracteres especiais como barra invertida (<code class="code">\\</code>) e nova linha (<code class="code">\n</code>). </td>
                        </tr>
                    </table></div></div>
         
            <h2 id="r_SVL_MULTI_STATEMENT_VIOLATIONS-sample-query">Consulta de exemplo</h2>
            
            
            <p>A consulta a seguir retorna várias instruções que têm violações.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select * from svl_multi_statement_violations order by starttime asc;

userid | database | cmdname | xid | pid | label | starttime | endtime | sequence | type | text
==============================================================================================================================
1 | dev | CREATE DATABASE | 1034 | 5729 |label1 | ********* | ******* | 0 | DDL | create table c(b int);
1 | dev | CREATE DATABASE | 1034 | 5729 |label1 | ********* | ******* | 0 | UTILITY | create database b;
1 | dev | CREATE DATABASE | 1034 | 5729 |label1 | ********* | ******* | 0 | UTILITY | COMMIT
...</code></pre>
 
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Atenção" /> <strong>O Javascript está desativado ou não está disponível no seu navegador.</strong></p><p>Para usar a documentação da AWS, o Javascript deve estar ativado. Consulte as páginas de Ajuda do navegador para obter instruções.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenções do documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_SVL_FEDERATED_QUERY.html">SVL_FEDERATED_QUERY</div><div id="next" class="next-link" accesskey="n" href="./r_SVL_MV_REFRESH_STATUS.html">SVL_MV_REFRESH_STATUS</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Essa página foi útil? - Sim</div><div class="content"><p>Obrigado por nos informar que estamos fazendo um bom trabalho!</p><p>Se tiver tempo, conte-nos sobre o que você gostou para que possamos melhorar ainda mais.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Essa página foi útil? - Não</div><div class="content"><p>Obrigado por nos informar que precisamos melhorar a página. Lamentamos ter decepcionado você.</p><p>Se tiver tempo, conte-nos como podemos melhorar a documentação.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_SVL_MULTI_STATEMENT_VIOLATIONS.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>