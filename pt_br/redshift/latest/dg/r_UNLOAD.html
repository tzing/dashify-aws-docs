<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="pt-BR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>UNLOAD - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_UNLOAD" /><meta name="default_state" content="r_UNLOAD" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_UNLOAD.html" /><meta name="description" content="Descarrega o resultado de uma consulta em um ou mais arquivos no Amazon Simple Storage Service (Amazon S3)." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guia do desenvolvedor de banco de dados" /><meta name="abstract" content="Crie e gerencie um data warehouse com o Amazon Redshift, um serviço de data warehouse totalmente gerenciado, em escala de petabyte e de nível empresarial." /><meta name="guide-locale" content="pt_br" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_UNLOAD.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_UNLOAD.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_UNLOAD.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_UNLOAD.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_UNLOAD.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_UNLOAD.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_UNLOAD.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_UNLOAD.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_UNLOAD.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_UNLOAD.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_UNLOAD.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_UNLOAD.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_UNLOAD.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_UNLOAD.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_UNLOAD.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_UNLOAD.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_UNLOAD.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_UNLOAD.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_UNLOAD.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_UNLOAD.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_UNLOAD.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_UNLOAD.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guia do desenvolvedor de banco de dados" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guia do desenvolvedor de banco de dados" /><meta id="panorama-serviceConsolePage" value="UNLOAD" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>UNLOAD - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#r_UNLOAD" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_UNLOAD.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_UNLOAD.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_UNLOAD.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,desenvolvedor,dados de amostra,banco de dados,desenvolvedor do banco de dados,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guia do desenvolvedor de banco de dados",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Referência SQL",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Comandos SQL",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "UNLOAD",
        "item" : "https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c_SQL_commands.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#r_UNLOAD" target="_blank" rel="noopener noreferrer" title="Abrir em PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentação</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guia do desenvolvedor de banco de dados</a></div><div id="page-toc-src"><a href="#r_UNLOAD-permissions">Permissões e privilégios necessários</a><a href="#r_UNLOAD-synopsis">Sintaxe</a><a href="#unload-parameters">Parâmetros</a><a href="#unload-usage-notes">Observações de uso</a><a href="#r_UNLOAD-examples">Exemplos</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="r_UNLOAD">UNLOAD</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Descarrega o resultado de uma consulta em um ou mais arquivos de texto JSON ou Apache Parquet no Amazon S3, usando a criptografia no servidor Amazon S3 (SSE-S3). Você também pode especificar a criptografia no lado do servidor com uma chave do AWS Key Management Service (SSE-KMS) ou a criptografia do lado do cliente com uma chave gerenciada pelo cliente.</p><p>Por padrão, o formato do arquivo descarregado é texto delimitado por barra vertical (<code class="code">|</code>).</p><p>Você pode gerenciar o tamanho de arquivos no Amazon S3, e, por extensão, o número de arquivos, configurando o parâmetro MAXFILESIZE. Certifique-se de que os intervalos de IP do S3 sejam adicionados à sua lista de permissões. Para saber mais sobre os intervalos de IP do S3 necessários, consulte <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/security-network-isolation.html#network-isolation"> Isolamento de rede</a>.</p><p>Você pode descarregar o resultado de uma consulta do Amazon Redshift no data lake do Amazon S3 no Apache Parquet, um formato de armazenamento colunar aberto e eficiente para análise. O formato Parquet é até duas vezes mais rápido de descarregar e consome até seis vezes menos armazenamento no Amazon S3 em comparação com os formatos de texto. Isso permite que você salve a transformação e o enriquecimento de dados que você fez no Amazon S3 no data lake do Amazon S3 em um formato aberto. Depois, você pode analisar seus dados com o Redshift Spectrum e outros serviços da AWS, como Amazon Athena, Amazon EMR e Amazon SageMaker. </p><p>Para obter mais informações e exemplos de cenários sobre o uso do comando UNLOAD, consulte <a href="./c_unloading_data.html">Descarregamento de dados</a>.</p>
         <h2 id="r_UNLOAD-permissions">Permissões e privilégios necessários</h2>
         <p>Para que o comando UNLOAD seja bem-sucedido, é necessário pelo menos o privilégio SELECT nos dados no banco de dados, com a permissão para gravar no local do Amazon S3. As permissões necessárias são semelhantes ao comando COPY. Para obter mais informações sobre as permissões do comando COPY, consulte <a href="./copy-usage_notes-access-permissions.html">Permissões para acessar outros recursos da AWS</a>.</p>
       
         <h2 id="r_UNLOAD-synopsis">Sintaxe</h2>
         
         
         
         
         
         
         
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">UNLOAD ('<em>select-statement</em>')
TO '<em>s3://object-path/name-prefix</em>'
<em>authorization</em>
[ <em>option</em>, ...] 

where <em>authorization</em> is
IAM_ROLE <span>{</span> default | 'arn:aws:iam::<code class="replaceable">&lt;Conta da AWS-id-1&gt;</code>:role/<code class="replaceable">&lt;role-name&gt;</code>[,arn:aws:iam::<code class="replaceable">&lt;Conta da AWS-id-2&gt;</code>:role/<code class="replaceable">&lt;role-name&gt;</code>][,...]' }
            
where <em>option</em> is
| [ FORMAT [ AS ] ] CSV | PARQUET | JSON
| PARTITION BY ( <em>column_name</em> [, ... ] ) [ INCLUDE ]
| MANIFEST [ VERBOSE ]
| HEADER
| DELIMITER [ AS ] '<em>delimiter-char</em>'
| FIXEDWIDTH [ AS ] '<em>fixedwidth-spec</em>'
| ENCRYPTED [ AUTO ]
| BZIP2
| GZIP
| ZSTD
| ADDQUOTES
| NULL [ AS ] '<em>null-string</em>'
| ESCAPE
| ALLOWOVERWRITE
| CLEANPATH
| PARALLEL [ <span>{</span> ON | TRUE } | <span>{</span> OFF | FALSE } ]
| MAXFILESIZE [AS] <em>max-size</em> [ MB | GB ]
| ROWGROUPSIZE [AS] <em>size</em> [ MB | GB ]
| REGION [AS] '<em>aws-region</em>' }
| EXTENSION '<em>extension-name</em>'

</code></pre>
       
         <h2 id="unload-parameters">Parâmetros</h2>
         <div class="variablelist">
             
             
             
             
            
            
             
            
            
            
             
             
             
             
             
             
             
             
             
             
             
             
             
             
             
             
             
            
             
             
             
            
             
         <dl>
               <dt><span class="term">('<em>select-instrução</em>') </span></dt>
               <dd>
                  <p>Uma consulta SELECT. Os resultados da consulta são descarregados. Na maioria dos casos, vale descarregar dados em ordem de classificação especificando uma cláusula ORDER BY na consulta. Essa abordagem economiza tempo necessário para classificar os dados ao carregar novamente. </p>
                  <p>A consulta deve estar entre aspas simples como mostrado a seguir: </p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">('select * from venue order by venueid')</code></pre>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Se sua consulta contiver aspas (por exemplo, para incluir valores literais), coloque o literal entre dois conjuntos de aspas simples — você também deve colocar a consulta entre aspas simples: </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">('select * from venue where venuestate=''NV''')</code></pre></div></div>
               </dd>
             
               <dt><span class="term">TO 's3://<em>object-path/name-prefix</em>' </span></dt>
               <dd>
                  <p>Caminho completo, incluindo o nome do bucket, para o local no Amazon S3 onde o Amazon Redshift gravará os objetos do arquivo de saída, incluindo o arquivo manifesto se MANIFEST estiver especificado. Os nomes de objetos devem ter o prefixo <em>nome-prefixo</em>. Se você usar <code class="code">PARTITION BY</code>, uma barra (/) será automaticamente adicionada ao final do valor <em>name-prefix</em>, se necessário. Para maior segurança, UNLOAD se conecta ao Amazon S3 usando uma conexão HTTPS. Por padrão, UNLOAD grava um ou mais arquivos por fatia. UNLOAD adiciona um número de fatia e um número de peça para o prefixo especificado da seguinte forma:</p>
                  <p><code class="code"><code class="replaceable">&lt;object-path&gt;</code>/<code class="replaceable">&lt;name-prefix&gt;</code><code class="replaceable">&lt;slice-number&gt;</code>_part_<code class="replaceable">&lt;part-number&gt;</code></code>. </p>
                  <p>Se MANIFEST for especificado, o arquivo manifesto será redigido conforme o seguinte:</p>
                  <p><code class="code"><code class="replaceable">&lt;object_path&gt;</code>/<code class="replaceable">&lt;name_prefix&gt;</code>manifest</code>. </p>
                  <p>Se PARALLEL for especificado como OFF, os arquivos de dados serão gravados da seguinte forma:</p>
                  <p><code class="code"><code class="replaceable">&lt;object_path&gt;</code>/<code class="replaceable">&lt;name_prefix&gt;</code><code class="replaceable">&lt;part-number&gt;</code></code>. </p>
                  <p>UNLOAD cria automaticamente arquivos criptografados usando a criptografia no lado do servidor (SSE) do Amazon S3, incluindo o arquivo manifesto se MANIFEST for usado. O comando COPY lê automaticamente os arquivos criptografados no lado do servidor durante a operação de carregamento. Você pode baixar arquivos criptografados do lado do servidor de forma transparente de seu bucket usando o console do Amazon S3 ou API. Para obter mais informações, consulte <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/serv-side-encryption.html">Proteção de dados usando criptografia no lado do servidor</a>. </p>
                  <p>Para usar a criptografia do lado do cliente do Amazon S3, especifique a opção ENCRYPTED.</p>
                  <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Importante</h6></div><div class="awsdocs-note-text"><p>REGION é necessário quando o bucket do Amazon S3 não está na mesma Região da AWS que o banco de dados do Amazon Redshift. </p></div></div>
               </dd>
             
               <dt><span class="term"><em>autorização</em></span></dt>
               <dd>
                  <p>O comando UNLOAD requer autorização para gravar dados no Amazon S3. O comando UNLOAD usa os mesmos parâmetros do comando COPY para autorização. Para obter mais informações, consulte <a href="./copy-parameters-authorization.html">Parâmetros de autorização</a> na referência de sintaxe do comando COPY.</p>
               </dd>
             
               <dt id="unload-iam"><span class="term">IAM_ROLE <span>{</span> default | 'arn:aws:iam::<code class="replaceable">&lt;Conta da AWS-id-1&gt;</code>:role/<code class="replaceable">&lt;role-name&gt;</code>' </span></dt>
               <dd>
                  <p>Use a palavra-chave padrão para que o Amazon Redshift use a função do IAM definida como padrão e associada ao cluster quando o comando UNLOAD for executado.</p>
                  <p>Use o nome do recurso da Amazon (ARN) de uma função do IAM que seu cluster usa para autenticação e autorização. Se especificar IAM_ROLE, você não poderá usar ACCESS_KEY_ID e SECRET_ACCESS_KEY, SESSION_TOKEN ou CREDENTIALS. O IAM_ROLE pode ser conectado. Para obter mais informações, consulte <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/authorizing-redshift-service.html#authorizing-redshift-service-chaining-roles">Encadeamento de funções do IAM</a> no <em>Guia de gerenciamento do Amazon Redshift</em>.</p>
               </dd>
             
               <dt id="unload-csv"><span class="term">[ FORMAT [AS] ] CSV | PARQUET | JSON</span></dt>
               <dd>
                  <p>Palavras-chave para especificar o formato de descarregamento para substituir o formato padrão. </p>
                  <p>No caso de CSV, descarregue para um arquivo de texto no formato CSV usando um caractere de vírgula ( , ) como delimitador padrão. Se um campo contiver delimitadores, aspas duplas, caracteres de nova linha ou retornos de carro, o campo no arquivo descarregado será colocado entre aspas duplas. Uma aspas duplas dentro de um campo de dados é recuada por aspas duplas adicionais. Quando nenhuma linha é descarregada, o Amazon Redshift pode gravar objetos vazios do Amazon S3.</p>
                  <p>No caso de PARQUET, descarregue para um arquivo no formato Apache Parquet versão 1.0. Por padrão, cada grupo de linhas é compactado usando a compactação SNAPPY. Para obter mais informações sobre o formato Apache Parquet, consulte <a href="https://parquet.apache.org/" rel="noopener noreferrer" target="_blank"><span>Parquet</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. </p>
                  <p>Quando JSON, descarrega para um arquivo JSON com todas as linhas que contêm um objeto JSON, representando um registro completo no resultado da consulta. O Amazon Redshift é compatível com a gravação de JSON aninhado quando o resultado da consulta contém colunas SUPER. Para criar um objeto JSON válido, o nome de toda coluna da consulta deve ser exclusivo. No arquivo JSON, os valores booleanos são descarregados como <code class="code">t</code> ou <code class="code">f</code>, e os valores NULL são descarregados como <code class="code">null</code>. Quando nenhuma linha é descarregada, o Amazon Redshift não grava objetos do Amazon S3.</p>
                  <p>As palavras-chave FORMAT e AS são opcionais. Não é possível usar CSV com FIXEDWIDTH nem ADDQUOTES. Não é possível usar PARQUET com DELIMITER, FIXEDWIDTH, ADDQUOTES, ESCAPE, NULL AS, HEADER, GZIP, BZIP2 ou ZSTD. O comando PARQUET com ENCRYPTED só é compatível com criptografia do lado do servidor com uma chave do AWS Key Management Service (SSE-KMS). Não é possível usar JSON com EADER, FIXEDWIDTH, ADDQUOTES, ESCAPE nem NULL AS.</p>
               </dd>
             
               <dt id="unload-partitionby"><span class="term">PARTITION BY ( <em>column_name</em> [, ... ] ) [INCLUDE]</span></dt>
               <dd>
                  <p>Especifica as chaves de partição para a operação de descarregamento. O comando UNLOAD particiona automaticamente arquivos de saída em pastas de partição com base nos valores de chave de partição, seguindo a convenção Apache Hive. Por exemplo, um arquivo Parquet que pertence à partição setembro de 2019 tem o seguinte prefixo: <code>s3://my_bucket_name/my_prefix/year=2019/month=September/000.parquet</code>. </p>
                  <p>O valor para <em>column_name</em> deve ser uma coluna nos resultados da consulta que está sendo descarregado. </p>
                  <p>Se você especificar PARTITION BY com a opção INCLUDE, as colunas de partição não serão removidas dos arquivos descarregados. </p>

                  <p>O Amazon Redshift não oferece suporte a literais de string em cláusulas PARTITION BY.</p>


               </dd>
             
               <dt><span class="term">MANIFEST [ VERBOSE ]</span></dt>
               <dd>
                  <p>Cria um arquivo manifesto que lista explicitamente detalhes dos arquivos de dados criados por processo UNLOAD. O manifesto é um arquivo de texto em formato JSON que lista o URL de cada arquivo gravado no Amazon S3. </p>
                  <p>Se MANIFEST for especificado com a opção VERBOSE, o manifesto incluirá os seguintes detalhes: </p>
                  <div class="itemizedlist">
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>Os nomes das colunas e os tipos de dados, e, para os tipos de dados CHAR, VARCHAR ou NUMERIC, dimensões para cada coluna. Para os tipos de dados CHAR e VARCHAR, a dimensão é o comprimento. Para um tipo de dados DECIMAL ou NUMERIC, as dimensões são precisão e escala. </p>
                     </li><li class="listitem">
                        <p>A contagem de linhas descarregada para cada arquivo. Se a opção HEADER for especificada, a contagem de linhas incluirá a linha de cabeçalho. </p>
                     </li><li class="listitem">
                        <p>O tamanho total do arquivo de todos os arquivos descarregados e a contagem total de linhas descarregada para todos os arquivos. Se a opção HEADER for especificada, a contagem de linhas incluirá as linhas de cabeçalho. </p>
                     </li><li class="listitem">
                        <p>O autor. Autor é sempre "Amazon Redshift".</p>
                     </li></ul></div>
                  <p>Você pode especificar VERBOSE somente após MANIFEST. </p>
                  <p>O arquivo manifesto é gravado no mesmo prefixo de caminho do Amazon S3 que os arquivos descarregados no formato <code class="code">&lt;object_path_prefix&gt;manifest</code>. Por exemplo, se UNLOAD especificar o prefixo “<code class="code">s3://mybucket/venue_</code>“ do caminho do Amazon S3, a localização do arquivo manifesto será “<code class="code">s3://mybucket/venue_manifest</code>“.</p>
               </dd>
             
               <dt><span class="term">CABEÇALHO</span></dt>
               <dd>
                  <p>Adiciona uma linha de cabeçalho que contém os nomes de coluna no topo de cada arquivo de saída. Opções de transformação de texto, como CSV, DELIMITER, ADDQUOTES e ESCAPE, também se aplicam à linha de cabeçalho. Não é possível usar HEADER com FIXEDWIDTH.</p>
               </dd>
             
               <dt><span class="term">DELIMITER AS '<em>delimiter_character</em>' </span></dt>
               <dd>
                  <p>Especifica o único caractere ASCII usado para separar campos no arquivo de saída, como um caractere de barra vertical ( | ), uma vírgula ( , ) ou uma tabulação ( \t ). O delimitador padrão para arquivos de texto é um caractere de barra. O delimitador padrão para arquivos CSV é uma vírgula. A palavra-chave AS é opcional. Não é possível usar DELIMITER com FIXEDWIDTH. Se os dados contiverem o caractere delimitador, será necessário especificar a opção ESCAPE para ignorar o delimitador, ou usar ADDQUOTES para colocar os dados entre aspas duplas. Como alternativa, especifique um delimitador que não esteja contido nos dados.</p>
               </dd>
             
               <dt><span class="term">FIXEDWIDTH '<em>fixedwidth_spec</em>' </span></dt>
               <dd>
                  <p>Descarrega os dados em um arquivo em que a largura de cada coluna tem um tamanho fixo, em vez separadas por um delimitador. A <em>fixedwidth_spec</em> é uma string que especifica o número de colunas e a largura das coluna. A palavra-chave AS é opcional. Como FIXEDWIDTH não trunca dados, a especificação para cada coluna na instrução UNLOAD precisa ser pelo menos do tamanho de entrada mais longa para aquela coluna. O formato de <em>fixedwidth_spec</em> é mostrado a abaixo: </p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">'<em>colID1:colWidth1,colID2:colWidth2, ...</em>'</code></pre>
                  <p>Não é possível usar FIXEDWIDTH com DELIMITER ou HEADER.</p>
               </dd>
             
               <dt id="unload-parameters-encrypted"><span class="term">ENCRYPTED [AUTO]</span></dt>
               <dd>
                  <p>Especifica que os arquivos de saída no Amazon S3 são criptografados usando criptografia do lado do servidor Amazon S3 ou criptografia do lado do cliente. Se MANIFEST for especificado, o arquivo manifesto também será criptografado. Para obter mais informações, consulte <a href="./t_unloading_encrypted_files.html">Descarregamento de arquivos de dados criptografados</a>. Se você não especificar o parâmetro ENCRYPTED, UNLOAD criará automaticamente arquivos criptografados usando a criptografia do servidor Amazon S3 com chaves de criptografia gerenciadas (SSE-S3) da AWS. </p>
                  <p>Para ENCRYPTED, você pode querer descarregar no Amazon S3 usando criptografia do lado do servidor com uma chave do AWS KMS (SSE-KMS). Em caso afirmativo, use o parâmetro <a href="#unload-parameters-kms-key-id">KMS_KEY_ID</a> para fornecer o ID da chave. Você não pode usar o parâmetro <a href="./copy-parameters-authorization.html#copy-credentials">CREDENTIALS</a> com parâmetro KMS_KEY_ID. Se você executar um comando UNLOAD para dados usando KMS_KEY_ID, poderá fazer uma operação COPY para os mesmos dados sem especificar uma chave. </p>
                  <p>Para descarregar no Amazon S3 usando criptografia do lado do cliente com uma chave simétrica fornecida pelo cliente, forneça a chave de duas maneiras. Para fornecer a chave, use o parâmetro <a href="#unload-parameters-master-symmetric-key">MASTER_SYMMETRIC_KEY</a> ou a parte <code class="code">master_symmetric_key</code> de uma string de credencial <a href="./copy-parameters-authorization.html#copy-credentials">CREDENTIALS</a>. Se você descarregar dados usando uma chave simétrica raiz, certifique-se de fornecer a mesma chave ao executar uma operação COPY para os dados criptografados. </p>
                  <p>UNLOAD não oferece suporte à criptografia do servidor Amazon S3 com uma chave fornecida pelo cliente (SSE-C). </p>
                  <p>Se ENCRYPTED AUTO for usado, o comando UNLOAD busca a chave de criptografia padrão do AWS KMS  na propriedade de bucket do Amazon S3 de destino e criptografa os arquivos gravados no Amazon S3 com a chave do AWS KMS. Se o bucket não tiver a chave de criptografia padrão do AWS KMS, UNLOAD criará automaticamente arquivos criptografados usando a criptografia do lado do servidor Amazon Redshift com chaves de criptografia gerenciadas (SSE-S3) da AWS. Não é possível usar essa opção com KMS_KEY_ID, MASTER_SYMMETRIC_KEY ou CREDENTIALS que contém master_symmetric_key. </p>
               </dd>
             
               <dt id="unload-parameters-kms-key-id"><span class="term">KMS_KEY_ID '<em>key-id</em>'</span></dt>
               <dd>
                  <p>Especifica o ID de chave para uma chave do AWS Key Management Service (AWS KMS) a ser usada para criptografar arquivos de dados no Amazon S3. Para ter mais informações, consulte <a href="https://docs.aws.amazon.com/kms/latest/developerguide/overview.html">O que é o AWS Key Management Service?</a> Se você especificar KMS_KEY_ID, você deve especificar o parâmetro <a href="#unload-parameters-encrypted">ENCRYPTED</a> também. Se você especificar KMS_KEY_ID, não autentique usando o parâmetro CREDENTIALS. Em vez disso, use <a href="./copy-parameters-authorization.html#copy-iam-role">IAM_ROLE</a> ou <a href="./copy-parameters-authorization.html#copy-access-key-id">ACCESS_KEY_ID and SECRET_ACCESS_KEY</a>. </p>

               </dd>
             
               <dt id="unload-parameters-master-symmetric-key"><span class="term">MASTER_SYMMETRIC_KEY '<em>root_key</em>'</span></dt>
               <dd>
                  <p>Especifica a chave simétrica raiz a ser usada para criptografar arquivos de dados no Amazon s3. Se você especificar MASTER_SYMMETRIC_KEY, também deve especificar o parâmetro <a href="#unload-parameters-encrypted">ENCRYPTED</a>. Não é possível usar MASTER_SYMMETRIC_KEY com o parâmetro CREDENTIALS. Para obter mais informações, consulte <a href="./c_loading-encrypted-files.html">Carregar arquivos de dados criptografados do Amazon S3</a>. </p>
               </dd>
             
               <dt><span class="term">BZIP2 </span></dt>
               <dd>
                  <p>Descarrega dados em um ou mais arquivos compactados bzip2 por fatia. Cada arquivo resultante recebe uma extensão <code class="code">.bz2</code>. </p>
               </dd>
             
               <dt><span class="term">GZIP </span></dt>
               <dd>
                  <p>Descarrega dados em um ou mais arquivos compactados gzip por fatia. Cada arquivo resultante recebe uma extensão <code class="code">.gz</code>. </p>
               </dd>
             
               <dt><span class="term">ZSTD </span></dt>
               <dd>
                  <p>Descarrega dados em um ou mais arquivos compactados Zstandard por fatia. Cada arquivo resultante recebe uma extensão <code class="code">.zst</code>. </p>
               </dd>
             
               <dt><span class="term">ADDQUOTES </span></dt>
               <dd>
                  <p>Coloca aspas em cada campo de dados descarregado para que o Amazon Redshift possa descarregar os valores de dados que contêm o próprio delimitador. Por exemplo, se o delimitador for uma vírgula, você pode descarregar e recarregar os seguintes dados com êxito: </p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class=""> "1","Hello, World" </code></pre>
                  <p>Se as aspas não forem adicionadas, a string <code class="code">Hello, World</code> será analisada como dois campos separados.</p>
                  <p>Alguns formatos de saída não são compatíveis com ADDQUOTES.</p>
                  <p>Se você usar ADDQUOTES, deve especificar REMOVEQUOTES em COPY se recarregar dados.</p>
               </dd>
             
               <dt><span class="term">NULL AS '<em>string-nula</em>' </span></dt>
               <dd>
                  <p>Especifica uma string que representa um valor nulo em arquivos de descarregamento. Se essa opção for usada, todos os arquivos de saída contêm a string especificada em vez de todos os valores nulos encontrados nos dados selecionados. Se essa opção não for especificada, os valores nulos serão descarregados como: </p>
                  <div class="itemizedlist">
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>String de tamanho zero para saída delimitada </p>
                     </li><li class="listitem">
                        <p>String de espaço em branco para saída de largura fixa</p>
                     </li></ul></div>
                  <p>Se uma string nula é específica para um tamanho fixo de descarregamento e o tamanho de uma coluna de saída é inferior ao tamanho de string nulo, o seguinte comportamento ocorre: </p>
                  <div class="itemizedlist">
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>Um campo vazio é a saída para colunas sem caracteres </p>
                     </li><li class="listitem">
                        <p>Um erro é relatado para colunas com caracteres </p>
                     </li></ul></div>
                  <p>Ao contrário de outros tipos de dados em que uma string definida pelo usuário representa um valor nulo, o Amazon Redshift exporta as colunas de dados SUPER usando o formato JSON e a representa como nula, conforme determinado pelo formato JSON. Como resultado, as colunas de dados SUPER ignoram a opção NULL [AS] usada nos comandos UNLOAD.</p>
               </dd>
             
               <dt><span class="term">ESCAPE </span></dt>
               <dd>
                  <p>Para colunas CHAR e VARCHAR em arquivos de descarregamento delimitados, um caractere de escape (<code class="code">\</code>) é posicionado antes de cada ocorrência dos seguintes caracteres:</p>
                  <div class="itemizedlist">
                      
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>Linefeed: <code class="code">\n</code></p>
                     </li><li class="listitem">
                        <p>Retorno de carro: <code class="code">\r</code></p>
                     </li><li class="listitem">
                        <p>O caractere delimitador especificado para dados descarregados. </p>
                     </li><li class="listitem">
                        <p>Caractere de escape: <code class="code">\</code></p>
                     </li><li class="listitem">
                        <p>Um caractere de aspas: <code class="code">"</code> ou <code class="code">'</code> (se ambos ESCAPE e ADDQUOTES estiverem especificados no comando UNLOAD).</p>
                     </li></ul></div>
                  <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Importante</h6></div><div class="awsdocs-note-text"><p>Se você carregou os dados usando COPY com a opção ESCAPE, também deverá especificar a opção ESCAPE com o comando UNLOAD para gerar o arquivo de saída recíproco. Da mesma maneira, se usar UNLOAD com a opção ESCAPE, você precisará usar ESCAPE quando usar o comando COPY nos mesmos dados.</p></div></div>
               </dd>
             
               <dt id="allowoverwrite"><span class="term">ALLOWOVERWRITE </span></dt>
               <dd>
                  <p>Como padrão, UNLOAD apresenta falha se localizar arquivos que possivelmente substituiria. Se ALLOWOVERWRITE for especificado, UNLOAD substituirá arquivos existentes, incluindo o arquivo manifesto. </p>
               </dd>
             
               <dt id="cleanpath"><span class="term">CLEANPATH</span></dt>
               <dd>
                  <p>A opção CLEANPATH remove arquivos existentes localizados no caminho do Amazon S3 especificado na cláusula TO antes de descarregar arquivos para o local especificado. </p>
                  <p>Se você incluir a cláusula PARTITION BY, os arquivos existentes serão removidos somente das pastas de partição para receber novos arquivos gerados pela operação UNLOAD.</p>
                  <p>Você deve ter a permissão <code class="code">s3:DeleteObject</code> no bucket do Amazon S3. Para obter mais informações, consulte <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/access-policy-language-overview.html">Políticas e permissões no Amazon S3</a> no <em>Guia do usuário do Amazon Simple Storage Service</em>. Os arquivos removidos usando a opção CLEANPATH serão excluídos permanentemente e não podem ser recuperados.</p>
                  <p>Você não pode especificar a opção CLEANPATH se especificar a opção ALLOWOVERWRITE.</p>
               </dd>
             
               <dt id="unload-parallel"><span class="term">PARALLEL </span></dt>
               <dd>
                  <p>Por padrão, UNLOAD grava dados em paralelo a vários arquivos, de acordo com o número de fatias no cluster. A opção padrão é ON ou TRUE. Se PARALLEL estiver configurado como OFF ou FALSE, UNLOAD gravará um ou mais arquivos de dados em série, classificado(s) absolutamente de acordo com a cláusula ORDER BY, se houver. O tamanho máximo de um arquivo de dados é 6,2 GB. Dessa forma, por exemplo, se você descarrega 13,4 GB de dados, a opção UNLOAD cria os seguintes três arquivos.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">s3://mybucket/key000    6.2 GB
s3://mybucket/key001    6.2 GB
s3://mybucket/key002    1.0 GB</code></pre>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>O comando UNLOAD é projetado para usar processamento paralelo. Recomendamos deixar PARALLEL habilitado na maioria dos casos, especialmente se os arquivos são usados para carregar tabelas usando um comando COPY.</p></div></div>
               </dd>
             
               <dt id="unload-maxfilesize"><span class="term">MAXFILESIZE [AS] max-size [ MB | GB ] </span></dt>
               <dd>
                  <p>Especifica o tamanho máximo de arquivos criados por UNLOAD no Amazon S3. Especifique um valor decimal entre 5 MB e 6,2 GB. A palavra-chave AS é opcional. A unidade padrão é MB. Se MAXFILESIZE não for especificado, o tamanho de arquivo máximo padrão será 6,2 GB. O tamanho do arquivo de manifesto, se houver, não é afetado por MAXFILESIZE.</p>
               </dd>
             
               <dt id="unload-rowgroupsize"><span class="term">ROWGROUPSIZE [AS] size [ MB | GB ] </span></dt>
               <dd>
                  <p>Especifica o tamanho dos grupos de linhas. Escolher um tamanho maior pode reduzir o número de grupos de linhas, reduzindo a quantidade de comunicação de rede. Especifique um valor inteiro entre 32 MB e 128 MB. A palavra-chave AS é opcional. A unidade padrão é MB.</p>
                  <p>Se ROWGROUPSIZE não for especificado, o tamanho padrão será 32 MB. Para usar esse parâmetro, o formato de armazenamento deve ser Parquet e o tipo de nó deve ser ra3.4xlarge, ra3.16xlarge, ds2.8xlarge ou dc2.8xlarge.</p>
               </dd>
             
               <dt id="unload-region"><span class="term">REGION [AS] '<em>aws-region</em>'</span></dt>
               <dd>
                  <p>Especifica a Região da AWS onde está localizado o bucket do Amazon S3 de destino. O parâmetro REGION é necessário para a operação UNLOAD em um bucket do Amazon S3 que não esteja na mesma Região da AWS que o banco de dados do Amazon Redshift. </p>
                  <p>O valor de <em>aws_region</em> deve corresponder a uma região da AWS listada na tabela de <a href="https://docs.aws.amazon.com/general/latest/gr/rande.html#redshift_region">Regiões e endpoints do Amazon Redshift</a> na <em>Referência geral da AWS</em>.</p>
                  <p>Por padrão, UNLOAD assume que o bucket do Amazon S3 de destino está localizado na mesma Região da AWS que o banco de dados do Amazon Redshift.</p>
               </dd>
             
               <dt id="unload-extension"><span class="term">EXTENSÃO “<em>extension-name</em>”</span></dt>
               <dd>
                  <p>Especifica a extensão do arquivo a ser anexada aos nomes dos arquivos descarregados. O Amazon Redshift não executa nenhuma validação, então você deve verificar se a extensão de arquivo especificada está correta. Se você estiver usando um método de compactação como o GZIP, ainda precisará especificar <code class="code">.gz</code> no parâmetro de extensão. Se você não fornecer nenhuma extensão, o Amazon Redshift não adicionará nada ao nome do arquivo. Se você especificar um método de compactação sem fornecer uma extensão, o Amazon Redshift só adicionará a extensão do método de compactação ao nome do arquivo.</p>
               </dd>
            </dl></div>
       
         <h2 id="unload-usage-notes">Observações de uso</h2>
          
            <h3 id="unload-usage-escape">Usar ESCAPE para todas as operações UNLOAD de texto delimitadas</h3>
            <p>Quando você usa UNLOAD com um delimitador, seus dados podem incluir esse delimitador ou qualquer um dos caracteres listados na descrição da opção ESCAPE. Nesse caso, você deve usar a opção ESCAPE com o comando UNLOAD. Se você não usar a opção ESCAPE com UNLOAD, poderá ocorrer uma falha nas operações COPY subsequentes que usem os dados descarregados.</p>
            <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Importante</h6></div><div class="awsdocs-note-text"><p>É altamente recomendável que você sempre use ESCAPE com os comandos UNLOAD e COPY. A exceção será se você tiver certeza de que seus dados não contêm nenhum delimitador nem outros caracteres que talvez precisem ser ignorados. </p></div></div>
          
          
            <h3 id="unload-usage-floating-point-precision">Perda de precisão de ponto flutuante</h3>
            <p>Você pode se deparar com perda de precisão para dados flutuantes sucessivamente descarregados e recarregados. </p>
          
          
            <h3 id="unload-usage-limit-clause">Cláusula de limitação</h3>
            <p>A consulta SELECT não pode usar uma cláusula LIMIT na SELECT externa. Por exemplo, o seguinte comando UNLOAD retorna uma falha:</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">unload ('select * from venue limit 10')
to 's3://mybucket/venue_pipe_' iam_role 'arn:aws:iam::0123456789012:role/MyRedshiftRole'; </code></pre>
            <p>Em vez disso, use uma cláusula LIMIT aninhada, como no exemplo a seguir.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">unload ('select * from venue where venueid in
(select venueid from venue order by venueid desc limit 10)')
to 's3://mybucket/venue_pipe_' iam_role 'arn:aws:iam::0123456789012:role/MyRedshiftRole';</code></pre>
            <p>Você também pode preencher uma tabela usando SELECT…INTO ou CREATE TABLE AS com uma cláusula LIMIT e descarregar da tabela.</p>
          
          
            <h3 id="unload-usage-geometry">Descarregar uma coluna do tipo de dados GEOMETRY</h3>
            <p>Só é possível descarregar colunas GEOMETRY para texto ou formato CSV. Não é possível descarregar dados GEOMETRY com a opção <code class="code">FIXEDWIDTH</code>. Os dados são descarregados na forma hexadecimal do binário bem-conhecido estendido (EWKB). Se o tamanho dos dados EWKB for maior que 4 MB, ocorrerá um aviso porque os dados não poderão ser carregados em uma tabela mais tarde. </p>
          


          
            <h3 id="unload-usage-hll">Descarregar o tipo de dados HLLSKETCH</h3>

            <p>Só é possível descarregar colunas HLLSKETCH para texto ou formato CSV. Não é possível descarregar dados HLLSKETCH com a opção <code class="code">FIXEDWIDTH</code>. Os dados são descarregados no formato Base64 para esboços de HyperLogLog densos ou no formato JSON para esboços de HyperLogLog esparsos. Para obter mais informações, consulte <a href="./hyperloglog-functions.html">Funções HyperLogLog</a>.</p>
            <p>O exemplo a seguir exporta uma tabela contendo colunas HLLSKETCH para um arquivo.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">CREATE TABLE a_table(an_int INT, b_int INT);
INSERT INTO a_table VALUES (1,1), (2,1), (3,1), (4,1), (1,2), (2,2), (3,2), (4,2), (5,2), (6,2);

CREATE TABLE hll_table (sketch HLLSKETCH);
INSERT INTO hll_table select hll_create_sketch(an_int) from a_table group by b_int;

UNLOAD ('select * from hll_table') TO 's3://mybucket/unload/'
IAM_ROLE 'arn:aws:iam::0123456789012:role/MyRedshiftRole' NULL AS 'null' ALLOWOVERWRITE CSV;</code></pre>
          

          
            
            <h3 id="unload-usage-varbyte">Descarregar uma coluna do tipo de dados VARBYTE</h3>
            <p>Só é possível descarregar colunas VARBYTE para texto ou formato CSV. Os dados são descarregados em forma hexadecimal. Não é possível descarregar dados VARBYTE com a opção <code class="code">FIXEDWIDTH</code>. Não há suporte para a opção <code class="code">ADDQUOTES</code> de UNLOAD para um CSV. Uma coluna VARBYTE não pode ser usada como coluna PARTITIONED BY. </p>
          


          
            <h3 id="unload-parquet-usage">Cláusula FORMAT AS PARQUET</h3>
            <p>Esteja ciente destas considerações ao usar o FORMAT AS PARQUET:</p>
            <div class="itemizedlist">
                
                
                
                
            <ul class="itemizedlist"><li class="listitem">
                  <p>O descarregamento para Parquet não usa compactação no nível de arquivo. Cada grupo de linhas é compactado com SNAPPY.</p>
               </li><li class="listitem">
                  <p>Se MAXFILESIZE não for especificado, o tamanho de arquivo máximo padrão será 6,2 GB. Você pode usar MAXFILESIZE para especificar um tamanho de arquivo de 5 MB a 6,2 GB. O tamanho real do arquivo é aproximado quando o arquivo está sendo gravado, então ele pode não ser exatamente igual ao número especificado.</p>
                  <p>Para maximizar a performance da verificação, o Amazon Redshift tenta criar arquivos Parquet que contenham grupos de linhas de 32 MB igualmente dimensionados. O valor MAXFILESIZE especificado é automaticamente arredondado para baixo para o múltiplo mais próximo de 32 MB. Por exemplo, se você especificar MAXFILESIZE 200 MB, cada arquivo Parquet descarregado será de aproximadamente 192 MB (grupo de linhas de 32 MB x 6 = 192 MB).</p>
               </li><li class="listitem">
                  <p>Se uma coluna usar o formato de dados TIMESTAMPTZ, somente os valores de timestamp serão descarregados. As informações de fuso horário não são descarregadas.</p>
               </li><li class="listitem">
                  <p>Não especifique prefixos de nome de arquivo que começam com caracteres de sublinhado (_) ou ponto final (.). O Redshift Spectrum trata os arquivos que começam com esses caracteres como arquivos ocultos e os ignora.</p>
               </li></ul></div>
          
          
            <h3 id="unload-partitionby-usage">Cláusula PARTITION BY</h3>
            <p>Esteja ciente destas considerações ao usar o PARTITION BY:</p>
            <div class="itemizedlist">

                
                
                
                
                
                

            <ul class="itemizedlist"><li class="listitem">
                  <p>As colunas de partição não são incluídas no arquivo de saída.</p>
               </li><li class="listitem">
                  <p>Certifique-se de incluir colunas de partição na consulta SELECT usada na instrução UNLOAD. Você pode especificar qualquer número de colunas de partição no comando UNLOAD. No entanto, há uma limitação de que deve haver pelo menos uma coluna sem partição para fazer parte do arquivo.</p>
               </li><li class="listitem">
                  <p>Se a chave-valor de partição for nulo, o Amazon Redshift descarregará automaticamente esses dados em uma partição padrão chamada <code class="code">partition_column=__HIVE_DEFAULT_PARTITION__</code>. </p>
               </li><li class="listitem">
                  <p>O comando UNLOAD não faz nenhuma chamada para um catálogo externo. Para registrar suas novas partições para fazer parte da tabela externa existente, use um ALTER TABLE ... separado. Comando ADD PARTITION ... Como alternativa, você pode executar um comando CREATE EXTERNAL TABLE para registrar os dados descarregados como uma nova tabela externa. Você também pode usar um crawler do AWS Glue para preencher o catálogo de dados. Para obter mais informações, consulte <a href="https://docs.aws.amazon.com/glue/latest/dg/add-crawler.html">Definição de crawlers</a> no <em>Guia do desenvolvedor do AWS Glue</em>. </p>
               </li><li class="listitem">
                  <p>Se você usar a opção MANIFEST, o Amazon Redshift gerará somente um arquivo manifesto na pasta raiz do Amazon S3.</p>
               </li><li class="listitem">
                  <p>Os tipos de dados da coluna que você pode usar como chave de partição são SMALLINT, INTEGER, BIGINT, DECIMAL, REAL, BOOLEAN, CHAR, VARCHAR, DATE e TIMESTAMP. </p>
               </li></ul></div>
          
         

         


         

          
            <h3 id="unload-assumerole-privilege-usage">Usar o privilégio ASSUMEROLE para conceder acesso a uma função do IAM para operações UNLOAD</h3>

            <p>Para fornecer acesso a usuários e grupos específicos a uma função do IAM para operações UNLOAD, um superusuário pode conceder o privilégio ASSUMEROLE em uma função do IAM a usuários e grupos. Para obter mais informações, consulte <a href="./r_GRANT.html">GRANT</a>. </p>

          

          
            <h3 id="unload-usage-s3-access-point-alias">UNLOAD não é compatível com aliases de ponto de acesso do Amazon S3</h3>

            <p>Não é possível usar os aliases de ponto de acesso do Amazon S3 com comandos UNLOAD. </p>
          
         
       
            <h2 id="r_UNLOAD-examples">Exemplos</h2>
            <p>Para ver exemplos que mostram como usar o comando UNLOAD, consulte <a href="./r_UNLOAD_command_examples.html">Exemplos de UNLOAD</a>.</p>
         <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Atenção" /> <strong>O Javascript está desativado ou não está disponível no seu navegador.</strong></p><p>Para usar a documentação da AWS, o Javascript deve estar ativado. Consulte as páginas de Ajuda do navegador para obter instruções.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenções do documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_TRUNCATE.html">TRUNCATE</div><div id="next" class="next-link" accesskey="n" href="./r_UNLOAD_command_examples.html">Exemplos de UNLOAD</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Essa página foi útil? - Sim</div><div class="content"><p>Obrigado por nos informar que estamos fazendo um bom trabalho!</p><p>Se tiver tempo, conte-nos sobre o que você gostou para que possamos melhorar ainda mais.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_UNLOAD.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Essa página foi útil? - Não</div><div class="content"><p>Obrigado por nos informar que precisamos melhorar a página. Lamentamos ter decepcionado você.</p><p>Se tiver tempo, conte-nos como podemos melhorar a documentação.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_UNLOAD.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>