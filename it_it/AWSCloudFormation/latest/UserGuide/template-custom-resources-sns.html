<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="it-IT"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Risorse personalizzate supportate da Amazon Simple Notification Service - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="template-custom-resources-sns" /><meta name="default_state" content="template-custom-resources-sns" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" /><meta name="description" content="Informazioni sulle risorse personalizzate supportate da Amazon SNS in AWS CloudFormation." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Guida per l'utente" /><meta name="abstract" content="Crea e gestisci le implementazioni AWS dell'infrastruttura in modo prevedibile e ripetuto utilizzando questa guida per AWS CloudFormation l'utente." /><meta name="guide-locale" content="it_it" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Guida per l'utente" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Guida per l'utente" /><meta id="panorama-serviceConsolePage" value="Risorse personalizzate supportate da Amazon Simple Notification Service" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Risorse personalizzate supportate da Amazon Simple Notification Service - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,provisioning delle risorse,configurazione delle risorse,gestione dell'infrastruttura,CloudFormer,CloudFormation pila,CloudFormation modello,set di modifiche" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guida per l'utente",
        "item" : "https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Utilizzo dei modelli AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/template-guide.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Risorse personalizzate",
        "item" : "https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/template-custom-resources.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Risorse personalizzate supportate da Amazon Simple Notification Service",
        "item" : "https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/template-custom-resources.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentazione</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Guida per l'utente</a></div><div id="page-toc-src"><a href="#walkthrough-custom-resources-sns-adding-nonaws-resource">Spiegazione passo per passo: Utilizzo di Amazon Simple Notification Service per creare risorse personalizzate</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Le traduzioni sono generate tramite traduzione automatica. In caso di conflitto tra il contenuto di una traduzione e la versione originale in Inglese, quest'ultima prevarrà.</p></awsui-alert><h1 class="topictitle" id="template-custom-resources-sns">Risorse personalizzate supportate da Amazon Simple Notification Service</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Quando associ un argomento Amazon SNS a una risorsa personalizzata, utilizzi le notifiche Amazon SNS per richiamare la logica di provisioning personalizzata. Con le risorse personalizzate e Amazon SNS, puoi abilitare scenari quali l'aggiunta di nuove risorse a uno stack e l'inserimento di dati dinamici in uno stack. Ad esempio, quando crei uno stack, AWS CloudFormation può inviare una richiesta <code class="code">create</code> a un argomento che viene monitorato da un'applicazione in esecuzione su un'istanza Amazon Elastic Compute Cloud. La notifica Amazon SNS abilita le attività di provisioning aggiuntive nell'applicazione, come il recupero di un pool di indirizzi IP elastici consentiti. Al termine, l'applicazione invia una risposta (e tutti i dati di output) per indicare a AWS CloudFormation di procedere con l'operazione di stack.</p><h2 id="walkthrough-custom-resources-sns-adding-nonaws-resource">Spiegazione passo per passo: Utilizzo di Amazon Simple Notification Service per creare risorse personalizzate</h2>
      
      
      <p>Questa procedura guidata ti illustrerà la procedura di creazione delle risorse personalizzate, spiegando la sequenza di eventi e messaggi inviati e ricevuti come conseguenza della creazione, dell'aggiornamento e dell'eliminazione di uno stack di risorse personalizzato.</p>
      <h3 id="crpg-walkthrough-stack-creation">Fase 1: creazione dello stack</h3>
         
         <div class="orderedlist">
             
             
             
             
         <ol style="list-style-type:arabic ! important;"><li>
               <p>Template developer crea uno stack AWS CloudFormation contenente una risorsa personalizzata; nell'esempio di modello riportato di seguito, viene utilizzato il nome del tipo di risorsa personalizzato <code class="code">Custom::SeleniumTester</code> per la risorsa personalizzata <code class="code">MySeleniumTest</code>.</p>
               <p>Il tipo di risorsa personalizzata viene dichiarata con un <em>token di servizio</em>, <em>proprietà specifiche del provider</em> opzionali e attributi <a href="./intrinsic-function-reference-getatt.html">Fn::GetAtt</a> opzionali definiti da custom resource provider. Queste proprietà e questi attributi possono essere utilizzati per trasmettere le informazioni da template developer a custom resource provider e viceversa. I nomi dei tipi di risorse personalizzati devono essere alfanumerici e possono avere una lunghezza massima di 60 caratteri.</p>
               <p>Nel seguente esempio viene mostrato un modello con proprietà personalizzate e attribuiti restituiti:</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "AWSTemplateFormatVersion" : "2010-09-09",
   "Resources" : <span>{</span>
      "MySeleniumTest" : <span>{</span>
         "Type": "Custom::SeleniumTester",
         "Version" : "1.0",
         "Properties" : <span>{</span>
            "ServiceToken": "arn:aws:sns:us-west-2:123456789012:CRTest",
            "seleniumTester" : "SeleniumTest()",
            "endpoints" : [ "http://mysite.com", "http://myecommercesite.com/", "http://search.mysite.com" ],
            "frequencyOfTestsPerHour" : [ "3", "2", "4" ]
         }
      }
   },
   "Outputs" : <span>{</span>
      "topItem" : <span>{</span>
         "Value" : <span>{</span> "Fn::GetAtt" : ["MySeleniumTest", "resultsPage"] }
      },
      "numRespondents" : <span>{</span>
         "Value" : <span>{</span> "Fn::GetAtt" : ["MySeleniumTest", "lastUpdate"] }
      }
   }
}</code></pre>
               <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>I nomi e i valori dei dati a cui si accede con <code class="code"><code class="code">Fn::GetAtt</code></code> sono restituiti dal provider di risorse personalizzate durante la risposta del provider a AWS CloudFormation. Se custom resource provider è una terza parte, template developer deve ottenere i nomi dei valori restituiti da custom resource provider.</p></div></div>
            </li><li>
               <p>AWS CloudFormation invia una notifica Amazon SNS al provider di risorse con un codice <code class="code">"RequestType" : "Create"</code> contenente le informazioni sullo stack, la proprietà di risorsa personalizzata del modello di stack e un URL S3 per la risposta.</p>
               <p>L'argomento SNS che viene utilizzato per inviare la notifica è compreso nel modello della proprietà <code class="code">ServiceToken</code>. Per evitare l'utilizzo di un valore hardcoded, un template developer può utilizzare un parametro del modello in modo che il valore venga inserito all'avvio dello stack.</p>
               <p>Nel seguente esempio viene mostrata una richiesta <code class="code">Create</code> della risorsa personalizzata contenente un nome di tipo risorsa personalizzato, <code class="code">Custom::SeleniumTester</code>, creata con <code class="code">LogicalResourceId</code> di <code class="code">MySeleniumTester</code>:</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "RequestType" : "Create",
   "ResponseURL" : "http://pre-signed-S3-url-for-response",
   "StackId" : "arn:aws:cloudformation:us-west-2:123456789012:stack/stack-name/guid",
   "RequestId" : "unique id for this create request",
   "ResourceType" : "Custom::SeleniumTester",
   "LogicalResourceId" : "MySeleniumTester",
   "ResourceProperties" : <span>{</span>
      "seleniumTester" : "SeleniumTest()",
      "endpoints" : [ "http://mysite.com", "http://myecommercesite.com/", "http://search.mysite.com" ],
      "frequencyOfTestsPerHour" : [ "3", "2", "4" ]
   }
}</code></pre>
            </li><li>
               <p>Il custom resource provider elabora i dati inviati dallo template developer e determina se la richiesta <code class="code">Create</code> è andata a buon fine. Il fornitore di risorse utilizza quindi l'URL S3 inviato da AWS CloudFormation per inviare una risposta <code class="code">SUCCESS</code> o <code class="code">FAILED</code>.</p>
               <p>A seconda del tipo di risposta, possono essere visualizzati diversi campi in AWS CloudFormation. Consulta la sezione Risposte nell'argomento di riferimento per informazioni sull' RequestTypeargomento in corso di elaborazione.</p>
               <p>In risposta a una richiesta di creazione o aggiornamento, il custom resource provider può restituire elementi di dati nel campo <a href="./crpg-ref-responses.html#crpg-ref-responses-data">Dati</a> della risposta. Queste sono coppie nome/valore e i <em>nomi</em> corrispondono agli attributi <code class="code"><code class="code">Fn::GetAtt</code></code> utilizzati con la risorsa personalizzata nel modello di stack. I <em>valori</em> sono i dati che vengono restituiti quando il template developer chiama <code class="code"><code class="code">Fn::GetAtt</code></code> nella risorsa con il nome attributo.</p>
               <p>Di seguito è riportato un esempio di risposta della risorsa personalizzata:</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Status" : "SUCCESS",
   "PhysicalResourceId" : "Tester1",
   "StackId" : "arn:aws:cloudformation:us-west-2:123456789012:stack/stack-name/guid",
   "RequestId" : "unique id for this create request",
   "LogicalResourceId" : "MySeleniumTester",
   "Data" : <span>{</span>
      "resultsPage" : "http://www.myexampledomain/test-results/guid",
      "lastUpdate" : "2012-11-14T03:30Z",
   }
}           </code></pre>
               <p>Nei campi <code class="code">StackId</code>, <code class="code">RequestId</code> e <code class="code">LogicalResourceId</code> il testo della richiesta deve essere copiato parola per parola.</p>
            </li><li>
               <p> AWS CloudFormation dichiara lo stato dello stack come <code class="code">CREATE_COMPLETE</code> o <code class="code">CREATE_FAILED</code>. Se lo stack è stato creato senza errori, il template developer può utilizzare i valori di output delle risorse personalizzate create accedendovi con <a href="./intrinsic-function-reference-getatt.html">Fn::GetAtt</a>.</p>
               <p>Ad esempio, il modello di risorsa personalizzata utilizzato per illustrazione usa <code class="code"><code class="code">Fn::GetAtt</code></code> per copiare gli output delle risorse nell'output dello stack:</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Outputs" : <span>{</span>
   "topItem" : <span>{</span>
      "Value" : <span>{</span> "Fn::GetAtt" : ["MySeleniumTest", "resultsPage"] }
   },
   "numRespondents" : <span>{</span>
      "Value" : <span>{</span> "Fn::GetAtt" : ["MySeleniumTest", "lastUpdate"] }
   }
}           </code></pre>
            </li></ol></div>
         <p>Per informazioni dettagliate sugli oggetti di richiesta e risposta utilizzati nelle richieste <code class="code">Create</code>, consulta l'argomento <a href="./crpg-ref-requesttypes-create.html">Creare</a> nel <a href="./crpg-ref.html">Riferimento a risorse personalizzate</a>.</p>
       
      <h3 id="crpg-walkthrough-stack-updates">Fase 2: aggiornamenti degli stack</h3>
         
         <p>Per aggiornare uno stack esistente, devi inviare un modello che specifichi gli aggiornamenti per le proprietà delle risorse dello stack, come illustrato nell'esempio seguente. AWS CloudFormation aggiorna solo le risorse che hanno modifiche specificate nel modello. Per ulteriori informazioni sull'aggiornamento degli stack, consulta <a href="./using-cfn-updating-stacks.html">Aggiornamenti di stack AWS CloudFormation</a>.</p>
         <p>Puoi aggiornare le risorse personalizzate che richiedono una sostituzione della risorsa fisica sottostante. Quando si aggiorna una risorsa personalizzata in un modello AWS CloudFormation, AWS CloudFormation invia una richiesta di aggiornamento a tale risorsa personalizzata. Se una risorsa personalizzata richiede una sostituzione, la nuova risorsa personalizzata deve inviare una risposta con il nuovo ID fisico. Quando AWS CloudFormation riceve la risposta, confronta il valore di <code class="code">PhysicalResourceId</code> della vecchia e della nuova risorsa personalizzata. Se sono diversi, AWS CloudFormation riconosce l'aggiornamento come sostituzione e invia una richiesta di eliminazione della vecchia risorsa, come illustrato in <a href="#crpg-walkthrough-stack-deletion">Fase 3: eliminazione dello stack</a>.</p>
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>Se non hai modificato la risorsa personalizzata, AWS CloudFormation non invia richieste durante l'aggiornamento dello stack.</p></div></div>
         <div class="orderedlist">
             
             
             
             
         <ol style="list-style-type:arabic ! important;"><li>
               <p>Il template developer avvia un aggiornamento dello stack contenente una risorsa personalizzata. Durante l'esecuzione di un aggiornamento, lo template developer può specificare nuove proprietà nel modello di stack.</p>
               <p>Di seguito è disponibile un esempio di <code class="code">Update</code> del modello di stack tramite un tipo di risorsa personalizzata:</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "AWSTemplateFormatVersion" : "2010-09-09",
   "Resources" : <span>{</span>
      "MySeleniumTest" : <span>{</span>
         "Type": "Custom::SeleniumTester",
         "Version" : "1.0",
         "Properties" : <span>{</span>
            "ServiceToken": "arn:aws:sns:us-west-2:123456789012:CRTest",
            "seleniumTester" : "SeleniumTest()",
            "endpoints" : [ "http://mysite.com", "http://myecommercesite.com/", "http://search.mysite.com",
               "http://mynewsite.com" ],
            "frequencyOfTestsPerHour" : [ "3", "2", "4", "3" ]
         }
      }
   },
   "Outputs" : <span>{</span>
      "topItem" : <span>{</span>
         "Value" : <span>{</span> "Fn::GetAtt" : ["MySeleniumTest", "resultsPage"] }
      },
      "numRespondents" : <span>{</span>
         "Value" : <span>{</span> "Fn::GetAtt" : ["MySeleniumTest", "lastUpdate"] }
      }
   }
}           </code></pre>
            </li><li>
               <p>AWS CloudFormationinvia una Amazon SNS notifica al fornitore di risorse con una <code class="code">"RequestType" : "Update"</code> che contiene informazioni simili alla <code class="code">Create</code> chiamata, tranne per il fatto che il <code class="code">OldResourceProperties</code> campo contiene le vecchie proprietà della risorsa e  ResourceProperties  contiene le proprietà delle risorse aggiornate (se presenti).</p>
               <p>Di seguito è riportato un esempio di richiesta <code class="code">Update</code>:</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "RequestType" : "Update",
   "ResponseURL" : "http://pre-signed-S3-url-for-response",
   "StackId" : "arn:aws:cloudformation:us-west-2:123456789012:stack/stack-name/guid",
   "RequestId" : "uniqueid for this update request",
   "LogicalResourceId" : "MySeleniumTester",
   "ResourceType" : "Custom::SeleniumTester",  
   "PhysicalResourceId" : "Tester1",
   "ResourceProperties" : <span>{</span>
      "seleniumTester" : "SeleniumTest()",
      "endpoints" : [ "http://mysite.com", "http://myecommercesite.com/", "http://search.mysite.com",
         "http://mynewsite.com" ],
      "frequencyOfTestsPerHour" : [ "3", "2", "4", "3" ]
   },
   "OldResourceProperties" : <span>{</span>
      "seleniumTester" : "SeleniumTest()",
      "endpoints" : [ "http://mysite.com", "http://myecommercesite.com/", "http://search.mysite.com" ],
      "frequencyOfTestsPerHour" : [ "3", "2", "4" ]
   }
}          </code></pre>
            </li><li>
               <p>Il provider di risorse personalizzate elabora i dati inviati tramite AWS CloudFormation. La risorsa personalizzata esegue l'aggiornamento e invia una risposta di tipo<code class="code">SUCCESS</code> o <code class="code">FAILED</code> all'URL S3. AWS CloudFormation quindi confronta gli <code class="code">PhysicalResourceIDs</code> delle risorse personalizzate nuove ed esistenti. In caso di differenze, AWS CloudFormation riconosce che l'aggiornamento richiede una sostituzione e invia una richiesta di eliminazione alla vecchia risorsa. L'esempio seguente mostra la risposta di un custom resource provider a una richiesta <code class="code">Update</code>.</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Status" : "SUCCESS",
   "StackId" : "arn:aws:cloudformation:us-west-2:123456789012:stack/stack-name/guid",
   "RequestId" : "uniqueid for this update request",
   "LogicalResourceId" : "MySeleniumTester",
   "PhysicalResourceId" : "Tester2"
}           </code></pre>
               <p>Nei campi <code class="code">StackId</code>, <code class="code">RequestId</code> e <code class="code">LogicalResourceId</code> il testo della richiesta deve essere copiato parola per parola.</p>
            </li><li>
               <p>AWS CloudFormation dichiara lo stato dello stack come <code class="code">UPDATE_COMPLETE</code> o <code class="code">UPDATE_FAILED</code>. Se l'aggiornamento ha esito negativo, viene eseguito il rollback dello stack. Se lo stack è stato aggiornato senza errori, il template developer può accedere ai nuovi valori di output delle risorse personalizzate create con <code class="code"><code class="code">Fn::GetAtt</code></code>.</p>
            </li></ol></div>
         <p>Per informazioni dettagliate sugli oggetti di richiesta e risposta utilizzati nelle richieste <code class="code">Update</code>, consulta l'argomento <a href="./crpg-ref-requesttypes-update.html">Aggiornare</a> nel <a href="./crpg-ref.html">Riferimento a risorse personalizzate</a>.</p>
       
      <h3 id="crpg-walkthrough-stack-deletion">Fase 3: eliminazione dello stack</h3>
         
         <div class="orderedlist">
             
             
             
             
         <ol style="list-style-type:arabic ! important;"><li>
               <p>Il template developer elimina un aggiornamento dello stack contenente una risorsa personalizzata. AWS CloudFormation ottiene le proprietà attuali specificate nel modello dello stack insieme all'argomento SNS e si prepara per effettuare una richiesta al provider di risorse personalizzate.</p>
            </li><li>
               <p>AWS CloudFormation invia una notifica Amazon SNS al provider di risorse con un codice <code class="code">"RequestType" : "Delete"</code> contenente le attuali informazioni sullo stack, la proprietà di risorsa personalizzata del modello di stack e un URL S3 per la risposta.</p>
               <p>Quando si elimina uno stack o si esegue un aggiornamento che rimuove o sostituisce le risorse personalizzate, AWS CloudFormation confronta gli <code class="code">PhysicalResourceId</code> delle risorse personalizzate nuove ed esistenti. In caso di differenze, AWS CloudFormation riconosce l'aggiornamento come sostituzione e invia una richiesta di eliminazione della vecchia risorsa (<code class="code">OldPhysicalResource</code>), come illustrato nel seguente esempio di una richiesta <code class="code">Delete</code>.</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "RequestType" : "Delete",
   "ResponseURL" : "http://pre-signed-S3-url-for-response",
   "StackId" : "arn:aws:cloudformation:us-west-2:123456789012:stack/stack-name/guid",
   "RequestId" : "unique id for this delete request",
   "ResourceType" : "Custom::SeleniumTester",
   "LogicalResourceId" : "MySeleniumTester",
   "PhysicalResourceId" : "Tester1",
   "ResourceProperties" : <span>{</span>
      "seleniumTester" : "SeleniumTest()",
      "endpoints" : [ "http://mysite.com", "http://myecommercesite.com/", "http://search.mysite.com",
         "http://mynewsite.com" ],
      "frequencyOfTestsPerHour" : [ "3", "2", "4", "3" ]
   }
}    
            </code></pre>
               <p><code class="code">DescribeStackResource</code>, <code class="code">DescribeStackResources</code>e <code class="code">ListStackResources</code> mostrano il nome definito dall'utente se è stato specificato.</p>
            </li><li>
               <p>Il provider di risorse personalizzate elabora i dati inviati da AWS CloudFormation e determina se la richiesta <code class="code">Delete</code> è andata a buon fine. Il fornitore di risorse utilizza quindi l'URL S3 inviato da AWS CloudFormation per inviare una risposta <code class="code">SUCCESS</code> o <code class="code">FAILED</code>. Per eliminare uno stack con una risorsa personalizzata, il custom resource provider deve rispondere a una richiesta di eliminazione.</p>
               <p>Nel seguente esempio viene mostrata la risposta di un custom resource provider a una richiesta <code class="code">Delete</code>:</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Status" : "SUCCESS",
   "StackId" : "arn:aws:cloudformation:us-west-2:123456789012:stack/stack-name/guid",
   "RequestId" : "unique id for this delete request",
   "LogicalResourceId" : "MySeleniumTester",
   "PhysicalResourceId" : "Tester1"
}         </code></pre>
               <p>Nei campi <code class="code">StackId</code>, <code class="code">RequestId</code> e <code class="code">LogicalResourceId</code> il testo della richiesta deve essere copiato parola per parola.</p>
            </li><li>
               <p>AWS CloudFormation dichiara lo stato dello stack come <code class="code">DELETE_COMPLETE</code> o <code class="code">DELETE_FAILED</code>.</p>
            </li></ol></div>
         <p>Per informazioni dettagliate sugli oggetti di richiesta e risposta utilizzati nelle richieste <code class="code">Delete</code>, consulta l'argomento <a href="./crpg-ref-requesttypes-delete.html">Delete</a> in <a href="./crpg-ref.html">Riferimento a risorse personalizzate</a>.</p>
       
      <h3 id="w9aac23c26c14b5c12">Consulta anche</h3>
         
         <div class="itemizedlist">
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p><a href="./crpg-ref.html">Riferimento a risorse personalizzate di AWS CloudFormation</a></p>
            </li><li class="listitem">
               <p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-customresource.html"><code class="code">AWS::CloudFormation::CustomResource</code></a></p>
            </li><li class="listitem">
               <p><a href="./intrinsic-function-reference-getatt.html">Fn:: GetAtt</a></p>
            </li></ul></div>
       
   <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avvertimento" /> <strong>JavaScript è disabilitato o non è disponibile nel tuo browser.</strong></p><p>Per usare la documentazione AWS, JavaScript deve essere abilitato. Consulta le pagine della guida del browser per le istruzioni.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenzioni dei documenti</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./template-custom-resources.html">Risorse personalizzate</div><div id="next" class="next-link" accesskey="n" href="./template-custom-resources-lambda.html">Risorse personalizzate supportate da AWS Lambda</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Questa pagina ti è stata utile? - Sì</div><div class="content"><p>Grazie per averci comunicato che stiamo facendo un buon lavoro!</p><p>Se hai un momento, ti invitiamo a dirci che cosa abbiamo fatto che ti è piaciuto così possiamo offrirti altri contenuti simili.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Questa pagina ti è stata utile? - No</div><div class="content"><p>Grazie per averci comunicato che questa pagina ha bisogno di essere modificata. Siamo spiacenti di non aver soddisfatto le tue esigenze.</p><p>Se hai un momento, ti invitiamo a dirci come possiamo migliorare la documentazione.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/template-custom-resources-sns.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>