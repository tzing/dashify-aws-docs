<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="it-IT"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Informazioni sulle nozioni di base dei modelli - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="gettingstarted.templatebasics" /><meta name="default_state" content="gettingstarted.templatebasics" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" /><meta name="description" content="Scopri le nozioni di base dei modelli per imparare l'utilizzo delle risorse, dei parametri e di altri componenti e il loro funzionamento." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Guida per l'utente" /><meta name="abstract" content="Crea e gestisci le implementazioni AWS dell'infrastruttura in modo prevedibile e ripetuto utilizzando questa guida per AWS CloudFormation l'utente." /><meta name="guide-locale" content="it_it" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Guida per l'utente" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Guida per l'utente" /><meta id="panorama-serviceConsolePage" value="Informazioni sulle nozioni di base dei modelli" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Informazioni sulle nozioni di base dei modelli - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,provisioning delle risorse,configurazione delle risorse,gestione dell'infrastruttura,CloudFormer,CloudFormation pila,CloudFormation modello,set di modifiche" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guida per l'utente",
        "item" : "https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Nozioni di base su AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/GettingStarted.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Informazioni sulle nozioni di base dei modelli",
        "item" : "https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/GettingStarted.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentazione</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Guida per l'utente</a></div><div id="page-toc-src"><a href="#gettingstarted.templatebasics.what">Che cos'è un AWS CloudFormation modello?</a><a href="#gettingstarted.templatebasics.simple">Risorse: Hello Bucket!</a><a href="#gettingstarted.templatebasics.multiple">Proprietà della risorsa e utilizzo congiunto delle risorse</a><a href="#gettingstarted.templatebasics.parameters">Ricezione di input utente utilizzando i parametri di input</a><a href="#gettingstarted.templatebasics.mappings">Specificazione dei valori condizionali utilizzando le mappature</a><a href="#gettingstarted.templatebasics.outputs">Valori costruiti e valori di output</a><a href="#gettingstarted.templatebasics.learnmore">Passaggi successivi</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Le traduzioni sono generate tramite traduzione automatica. In caso di conflitto tra il contenuto di una traduzione e la versione originale in Inglese, quest'ultima prevarrà.</p></awsui-alert><h1 class="topictitle" id="gettingstarted.templatebasics">Informazioni sulle nozioni di base dei modelli</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><div class="highlights" id="inline-topiclist"><h6>Argomenti</h6><ul><li><a href="#gettingstarted.templatebasics.what">Che cos'è un AWS CloudFormation modello?</a></li><li><a href="#gettingstarted.templatebasics.simple">Risorse: Hello Bucket!</a></li><li><a href="#gettingstarted.templatebasics.multiple">Proprietà della risorsa e utilizzo congiunto delle risorse</a></li><li><a href="#gettingstarted.templatebasics.parameters">Ricezione di input utente utilizzando i parametri di input</a></li><li><a href="#gettingstarted.templatebasics.mappings">Specificazione dei valori condizionali utilizzando le mappature</a></li><li><a href="#gettingstarted.templatebasics.outputs">Valori costruiti e valori di output</a></li><li><a href="#gettingstarted.templatebasics.learnmore">Passaggi successivi</a></li></ul></div><p>In <a href="./GettingStarted.Walkthrough.html">Inizia a usare</a> hai appreso come utilizzare un modello per creare uno stack. Hai visto le risorse dichiarate in un modello e come mappare le risorse nello stack. Abbiamo inoltre visto i parametri di input e il modo in cui consentono di trasferire valori specifici al momento della creazione di uno stack da un modello. In questa sezione, approfondiremo le risorse e i parametri. Tratteremo anche gli altri componenti dei modelli in modo che tu sappia come utilizzare questi componenti insieme per creare modelli che producono le AWS risorse che desideri.</p>
    <h2 id="gettingstarted.templatebasics.what">Che cos'è un AWS CloudFormation modello?</h2>

    <p>Un modello è una dichiarazione delle AWS risorse che compongono uno stack. Il modello viene archiviato come file di testo il cui formato è conforme allo standard  JavaScript  Object Notation (JSON) o YAML. Poiché si tratta di semplici file di testo, puoi crearli e modificarli in qualsiasi editor di testo e gestirli nel sistema di controllo del codice sorgente con il resto del codice sorgente. Consulta <a href="./template-formats.html">Formati di modello AWS CloudFormation</a> per ulteriori informazioni sui formati di modello.</p>
    <p>Nel modello, dichiari le AWS risorse che desideri creare e configurare. Dichiari un oggetto come una coppia nome-valore o come un accoppiamento di un nome con un set di oggetti figli racchiusi. La sintassi dipende dal formato utilizzato. Per ulteriori informazioni, consulta <a href="./template-anatomy.html">Anatomia dei modelli</a>. L'unico oggetto di primo livello richiesto è l'oggetto Resources, che deve dichiarare almeno una risorsa. Iniziamo con il modello più semplice che contiene soltanto un oggetto Resources, che a sua volta contiene una singola dichiarazione di risorsa.</p>
   
    <h2 id="gettingstarted.templatebasics.simple">Risorse: Hello Bucket!</h2>
    <p>L'oggetto Resources contiene un elenco di oggetti di risorse. Una dichiarazione di risorsa contiene gli attributi della risorsa, che sono dichiarati come oggetti figli. Una risorsa deve avere un <code class="code">Type</code> attributo che definisce il tipo di AWS risorsa che si desidera creare. L'attributo <code class="code">Type</code> ha un formato speciale:</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="text ">AWS::<code class="replaceable">ProductIdentifier</code>::<code class="replaceable">ResourceType</code></code></pre>
    <p>Ad esempio, il tipo di risorsa per un bucket Amazon S3 è. <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-s3-bucket.html">AWS::S3::Bucket</a> Per l'elenco completo dei tipi di risorse, consulta <a href="./template-reference.html">Riferimento modello</a>.</p>
    <p>Analizziamo un modello di base. Il modello seguente dichiara una singola risorsa di tipo <code class="code">AWS::S3::Bucket:</code> con il nome.  HelloBucket</p>
    <div id="JSON" name="JSON" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.simple.json">JSON</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>&#xD;
    "Resources": <span>{</span>&#xD;
        "HelloBucket": <span>{</span>&#xD;
            "Type": "AWS::S3::Bucket"&#xD;
        }&#xD;
    }&#xD;
}</code></pre>
    </div>
    <div id="YAML" name="YAML" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.simple.yaml">YAML</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources:&#xD;
  HelloBucket:&#xD;
    Type: 'AWS::S3::Bucket'&#xD;
</code></pre>
    </div>
    <p>Se utilizzi questo modello per creare uno stack, AWS CloudFormation creerà un bucket Amazon S3. Creare un bucket è semplice, perché è  CloudFormation  possibile creare un bucket con impostazioni predefinite. Per altre risorse, come un Amazon EC2 Auto Scaling gruppo o un'istanza EC2, sono  CloudFormation  necessarie ulteriori informazioni. Le dichiarazioni di risorse utilizzano un attributo <code class="code">Properties</code> per specificare le informazioni utilizzate per creare una risorsa.</p>
    <p>A seconda del tipo di risorsa, alcune proprietà sono obbligatorie, come la  ImageId  proprietà di una <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-instance.html">AWS::EC2::Instance</a>risorsa, mentre altre sono facoltative. Alcune proprietà hanno valori predefiniti, ad esempio la  AccessControl  proprietà della <code class="code">AWS::S3::Bucket</code> risorsa, pertanto specificare un valore per tali proprietà è facoltativo. Altre proprietà non sono obbligatorie, ma possono aggiungere funzionalità, ad esempio la proprietà <code class="code">WebsiteConfiguration</code> della risorsa <code class="code">AWS::S3::Bucket</code>. Specificare un valore per tali proprietà è completamente facoltativo e dipende dalle tue esigenze. Nell'esempio riportato in precedenza, poiché la risorsa <code class="code">AWS::S3::Bucket</code> dispone solo di proprietà facoltative e non abbiamo bisogno delle funzionalità opzionali, possiamo accettare le impostazioni predefinite e omettere l'attributo Properties.</p>
    <p>Per visualizzare le proprietà per ogni tipo di risorsa, consulta gli argomenti in <a href="./aws-template-resource-type-ref.html">AWS riferimento ai tipi di risorse e proprietà</a>.</p>
   
    <h2 id="gettingstarted.templatebasics.multiple">Proprietà della risorsa e utilizzo congiunto delle risorse</h2>

    <p>Di solito, una proprietà di una risorsa è semplicemente un valore di stringa. Ad esempio, il modello seguente specifica un ACL predefinito (PublicRead) per la  AccessControl  proprietà del bucket.</p>
    <div id="JSON" name="JSON" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.multiple.json">JSON</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>&#xD;
    "Resources": <span>{</span>&#xD;
        "HelloBucket": <span>{</span>&#xD;
            "Type": "AWS::S3::Bucket",&#xD;
            "Properties": <span>{</span>&#xD;
                "AccessControl": "PublicRead"&#xD;
            }&#xD;
        }&#xD;
    }&#xD;
}</code></pre>
    </div>
    <div id="YAML" name="YAML" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.multiple.yaml">YAML</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources:&#xD;
  HelloBucket:&#xD;
    Type: 'AWS::S3::Bucket'&#xD;
    Properties:&#xD;
      AccessControl: PublicRead&#xD;
</code></pre>
    </div>
    <p>Alcune risorse possono avere più proprietà e alcune proprietà possono avere una o più proprietà secondarie. Ad esempio, la <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-s3-bucket.html">AWS::S3::Bucket</a>risorsa ha due proprietà: e.  AccessControl   WebsiteConfiguration La  WebsiteConfiguration  proprietà ha due sottoproprietà:  IndexDocument e ErrorDocument. Il modello seguente mostra la nostra risorsa bucket originale con le proprietà aggiuntive.</p>
    <div id="JSON" name="JSON" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.multiple.json2">JSON</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>&#xD;
    "Resources": <span>{</span>&#xD;
        "HelloBucket": <span>{</span>&#xD;
            "Type": "AWS::S3::Bucket",&#xD;
            "Properties": <span>{</span>&#xD;
                "AccessControl": "PublicRead",&#xD;
                "WebsiteConfiguration": <span>{</span>&#xD;
                    "IndexDocument": "index.html",&#xD;
                    "ErrorDocument": "error.html"&#xD;
                }&#xD;
            }&#xD;
        }&#xD;
    }&#xD;
}</code></pre>
    </div>
    <div id="YAML" name="YAML" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.multiple.yaml2">YAML</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources:&#xD;
  HelloBucket:&#xD;
    Type: 'AWS::S3::Bucket'&#xD;
    Properties:&#xD;
      AccessControl: PublicRead&#xD;
      WebsiteConfiguration:&#xD;
        IndexDocument: index.html&#xD;
        ErrorDocument: error.html&#xD;
</code></pre>
    </div>
    <p>Uno dei principali vantaggi dei modelli  CloudFormation  è la possibilità di creare un insieme di risorse che interagiscono per creare un'applicazione o una soluzione. Il nome utilizzato per una risorsa all'interno del modello è un nome logico. Quando  CloudFormation  crea la risorsa, genera un nome fisico basato sulla combinazione del nome logico, del nome dello stack e di un ID univoco.</p>

    <p>Probabilmente ti stai chiedendo in che modo impostare le proprietà su una risorsa in base al nome o alla proprietà di un'altra risorsa. <span>Ad esempio, puoi creare <span>una  CloudFront  distribuzione supportata da un bucket S3 o</span> da un'istanza EC2 che utilizza i gruppi di sicurezza EC2 e tutte queste risorse possono essere create nello stesso modello.</span>  CloudFormation ha una serie di funzioni intrinseche che è possibile utilizzare per fare riferimento ad altre risorse e alle relative proprietà. Puoi utilizzare la <a href="./intrinsic-function-reference-ref.html">funzione Ref</a> per fare riferimento a una proprietà di identificazione di una risorsa. Spesso, questo è il nome fisico della risorsa; tuttavia, talvolta può essere un identificatore, ad esempio l'indirizzo IP di una risorsa <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-eip.html">AWS::EC2::EIP</a> o un Amazon Resource Name (ARN) di un argomento Amazon SNS. Per un elenco dei valori restituiti dalla funzione Ref, consulta <a href="./intrinsic-function-reference-ref.html">Funzione Ref</a>. Il modello seguente contiene una <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-instance.html">AWS::EC2::Instance</a>risorsa. La  SecurityGroups  proprietà della risorsa chiama la funzione Ref per fare riferimento alla <code class="code">AWS::EC2::SecurityGroup</code> risorsa InstanceSecurityGroup.</p>
    <div id="JSON" name="JSON" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.multiple.json3">JSON</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Resources": <span>{</span>
        "Ec2Instance": <span>{</span>
            "Type": "AWS::EC2::Instance",
            "Properties": <span>{</span>
                "SecurityGroups": [
                    <span>{</span>
                        "Ref": "InstanceSecurityGroup"
                    }
                ],
                "KeyName": "mykey",
                "ImageId": ""
            }
        },
        "InstanceSecurityGroup": <span>{</span>
            "Type": "AWS::EC2::SecurityGroup",
            "Properties": <span>{</span>
                "GroupDescription": "Enable SSH access via port 22",
                "SecurityGroupIngress": [
                    <span>{</span>
                        "IpProtocol": "tcp",
                        "FromPort": 22,
                        "ToPort": 22,
                        "CidrIp": "0.0.0.0/0"
                    }
                ]
            }
        }
    }
}</code></pre>
    </div>
    <div id="YAML" name="YAML" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.multiple.yaml3">YAML</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources:
  Ec2Instance:
    Type: 'AWS::EC2::Instance'
    Properties:
      SecurityGroups:
        - !Ref InstanceSecurityGroup
      KeyName: mykey
      ImageId: ''
  InstanceSecurityGroup:
    Type: 'AWS::EC2::SecurityGroup'
    Properties:
      GroupDescription: Enable SSH access via port 22
      SecurityGroupIngress:
        - IpProtocol: tcp
          FromPort: 22
          ToPort: 22
          CidrIp: 0.0.0.0/0</code></pre>
    </div>
    <p>La  SecurityGroups  proprietà è un elenco di gruppi di sicurezza e nell'esempio precedente è presente un solo elemento nell'elenco. Il modello seguente contiene un elemento aggiuntivo nell'elenco delle  SecurityGroups  proprietà.</p>
    <div id="JSON" name="JSON" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.multiple.json4">JSON</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Resources": <span>{</span>
        "Ec2Instance": <span>{</span>
            "Type": "AWS::EC2::Instance",
            "Properties": <span>{</span>
                "SecurityGroups": [
                    <span>{</span>
                        "Ref": "InstanceSecurityGroup"
                    },
                    "MyExistingSecurityGroup"
                ],
                "KeyName": "mykey",
                "ImageId": "ami-7a11e213"
            }
        },
        "InstanceSecurityGroup": <span>{</span>
            "Type": "AWS::EC2::SecurityGroup",
            "Properties": <span>{</span>
                "GroupDescription": "Enable SSH access via port 22",
                "SecurityGroupIngress": [
                    <span>{</span>
                        "IpProtocol": "tcp",
                        "FromPort": 22,
                        "ToPort": 22,
                        "CidrIp": "0.0.0.0/0"
                    }
                ]
            }
        }
    }
}</code></pre>
    </div>
    <div id="YAML" name="YAML" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.multiple.yaml4">YAML</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources:
  Ec2Instance:
    Type: 'AWS::EC2::Instance'
    Properties:
      SecurityGroups:
        - !Ref InstanceSecurityGroup
        - MyExistingSecurityGroup
      KeyName: mykey
      ImageId: ami-7a11e213
  InstanceSecurityGroup:
    Type: 'AWS::EC2::SecurityGroup'
    Properties:
      GroupDescription: Enable SSH access via port 22
      SecurityGroupIngress:
        - IpProtocol: tcp
          FromPort: 22
          ToPort: 22
          CidrIp: 0.0.0.0/0</code></pre>
    </div>
    <p>MyExistingSecurityGroup è una stringa che fa riferimento a un gruppo di sicurezza EC2 esistente anziché a un gruppo di sicurezza dichiarato in un modello. Utilizza stringhe letterali per fare riferimento alle risorse AWS
esistenti.</p>
    <p>Nell'esempio precedente, la  KeyName  proprietà di <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-instance.html">AWS::EC2::Instance</a>è la stringa letterale mykey. Ciò significa che una coppia di chiavi con il nome mykey deve esistere nella Regione in cui lo stack viene creato; in caso contrario, la creazione dello stack non riuscirà perché la coppia di chiavi non esiste. La key pair che usi può variare a seconda della regione in cui stai creando lo stack, oppure potresti voler condividere il modello con qualcun altro in modo che possa usarlo con il proprio AWS account. In questo caso, puoi utilizzare un parametro di input in modo che il nome della coppia di chiavi possa essere specificato al momento della creazione dello stack. La funzione Ref può fare riferimento ai parametri di input specificati al momento della creazione dello stack. Il modello seguente aggiunge un oggetto Parameters contenente il  KeyName  parametro, che viene utilizzato per specificare la  KeyName  proprietà della <code class="code">AWS::EC2::Instance</code> risorsa. Il tipo di parametro è <code class="code">AWS::EC2::KeyPair::KeyName</code>, che garantisce a un utente la possibilità di specificare un nome valido per la coppia di chiavi nel suo account e nella Regione in cui è stato creato lo stack .</p>
    <div id="JSON" name="JSON" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.multiple.json5">JSON</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Parameters": <span>{</span>
    "KeyName": <span>{</span>
      "Description": "The EC2 Key Pair to allow SSH access to the instance",
      "Type": "AWS::EC2::KeyPair::KeyName"
    }
  },
  "Resources": <span>{</span>
    "Ec2Instance": <span>{</span>
      "Type": "AWS::EC2::Instance",
      "Properties": <span>{</span>
        "SecurityGroups": [
          <span>{</span>
            "Ref": "InstanceSecurityGroup"
          },
          "MyExistingSecurityGroup"
        ],
        "KeyName": <span>{</span>
          "Ref": "KeyName"
        },
        "ImageId": "ami-7a11e213"
      }
    },
    "InstanceSecurityGroup": <span>{</span>
      "Type": "AWS::EC2::SecurityGroup",
      "Properties": <span>{</span>
        "GroupDescription": "Enable SSH access via port 22",
        "SecurityGroupIngress": [
          <span>{</span>
            "IpProtocol": "tcp",
            "FromPort": 22,
            "ToPort": 22,
            "CidrIp": "0.0.0.0/0"
          }
        ]
      }
    }
  }
}</code></pre>
    </div>
    <div id="YAML" name="YAML" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.multiple.yaml5">YAML</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Parameters:
  KeyName:
    Description: The EC2 Key Pair to allow SSH access to the instance
    Type: 'AWS::EC2::KeyPair::KeyName'
Resources:
  Ec2Instance:
    Type: 'AWS::EC2::Instance'
    Properties:
      SecurityGroups:
        - !Ref InstanceSecurityGroup
        - MyExistingSecurityGroup
      KeyName: !Ref KeyName
      ImageId: ami-7a11e213
  InstanceSecurityGroup:
    Type: 'AWS::EC2::SecurityGroup'
    Properties:
      GroupDescription: Enable SSH access via port 22
      SecurityGroupIngress:
        - IpProtocol: tcp
          FromPort: 22
          ToPort: 22
          CidrIp: 0.0.0.0/0</code></pre>
    </div>
    <p>La funzione Ref è utile se il parametro o il valore restituito per una risorsa è esattamente quello che desideri; tuttavia, possono essere necessari altri attributi di una risorsa. Ad esempio, se desideri creare una  CloudFront  distribuzione con un'origine S3, devi specificare la posizione del bucket utilizzando un indirizzo in stile DNS. Una serie di risorse dispongono di attributi aggiuntivi i cui valori possono essere utilizzati nel modello. Per ottenere questi attributi, si utilizza la funzione <a href="./intrinsic-function-reference-getatt.html">Fn</a>::. GetAtt Il seguente modello crea una risorsa di  CloudFront  distribuzione che specifica il nome DNS di una risorsa bucket S3 utilizzando la Fn::GetAtt  funzione per ottenere l'attributo del bucket.  DomainName </p>
    <div id="JSON" name="JSON" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.multiple.json6">JSON</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Resources": <span>{</span>
    "myBucket": <span>{</span>
      "Type": "AWS::S3::Bucket"
    },
    "myDistribution": <span>{</span>
      "Type": "AWS::CloudFront::Distribution",
      "Properties": <span>{</span>
        "DistributionConfig": <span>{</span>
          "Origins": [
            <span>{</span>
              "DomainName": <span>{</span>
                "Fn::GetAtt": [
                  "myBucket",
                  "DomainName"
                ]
              },
              "Id": "myS3Origin",
              "S3OriginConfig": <span>{</span>}
            }
          ],
          "Enabled": "true",
          "DefaultCacheBehavior": <span>{</span>
            "TargetOriginId": "myS3Origin",
            "ForwardedValues": <span>{</span>
              "QueryString": "false"
            },
            "ViewerProtocolPolicy": "allow-all"
          }
        }
      }
    }
  }
}</code></pre>
    </div>
    <div id="YAML" name="YAML" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.multiple.yaml6">YAML</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources:
  myBucket:
    Type: 'AWS::S3::Bucket'
  myDistribution:
    Type: 'AWS::CloudFront::Distribution'
    Properties:
      DistributionConfig:
        Origins:
          - DomainName: !GetAtt 
              - myBucket
              - DomainName
            Id: myS3Origin
            S3OriginConfig: <span>{</span>}
        Enabled: 'true'
        DefaultCacheBehavior:
          TargetOriginId: myS3Origin
          ForwardedValues:
            QueryString: 'false'
          ViewerProtocolPolicy: allow-all</code></pre>
    </div>
    <p>La Fn::GetAtt  funzione richiede due parametri, il nome logico della risorsa e il nome dell'attributo da recuperare. Per un elenco completo degli attributi disponibili per le risorse, vedere <a href="./intrinsic-function-reference-getatt.html">Fn::. GetAtt</a> Noterai che la Fn::GetAtt  funzione elenca i suoi due parametri in un array. Per le funzioni che richiedono più parametri, puoi utilizzare un array per specificare i parametri.</p>
   
    <h2 id="gettingstarted.templatebasics.parameters">Ricezione di input utente utilizzando i parametri di input</h2>

    <p>Finora hai imparato a conoscere le risorse e le nozioni di base sul loro utilizzo congiunto all'interno di un modello. Hai già imparato come fare riferimento a parametri di input, ma non abbiamo ancora approfondito la definizione dei parametri di input. Diamo un'occhiata alle dichiarazioni dei parametri e a come puoi limitare e convalidare l'input utente.</p>
    <p>Puoi dichiarare i parametri nell'oggetto Parameters di un modello. Un parametro contiene un elenco di attributi che definiscono il valore e i vincoli rispetto al valore. L'unico attributo obbligatorio è Type, che può essere String, Number o un tipo AWSspecifico. Puoi anche aggiungere un attributo Descrizione che indica a un utente più informazioni sul tipo di valore che deve specificare. Il nome e la descrizione del parametro appaiono nella pagina Specifica i parametri quando un utente usa il modello nella creazione guidata di stack.</p>
    <p>Il seguente frammento del modello è un oggetto Parameters che dichiara i parametri utilizzati nella pagina Specifica i parametri sopra riportata.</p>
    <div id="JSON" name="JSON" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.parameters.json">JSON</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">  "Parameters": <span>{</span>
    "KeyName": <span>{</span>
      "Description" : "Name of an existing EC2 KeyPair to enable SSH access into the WordPress web server",
      "Type": "AWS::EC2::KeyPair::KeyName"
    },
    "WordPressUser": <span>{</span>
      "Default": "admin",
      "NoEcho": "true",
      "Description" : "The WordPress database admin account user name",
      "Type": "String",
      "MinLength": "1",
      "MaxLength": "16",
      "AllowedPattern" : "[a-zA-Z][a-zA-Z0-9]*"
    },
    "WebServerPort": <span>{</span>
      "Default": "8888",
      "Description" : "TCP/IP port for the WordPress web server",
      "Type": "Number",
      "MinValue": "1",
      "MaxValue": "65535"
    }
  }</code></pre>
    </div>
    <div id="YAML" name="YAML" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.parameters.yaml">YAML</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Parameters:
  KeyName:
    Description: Name of an existing EC2 KeyPair to enable SSH access into the WordPress web server
    Type: AWS::EC2::KeyPair::KeyName
  WordPressUser:
    Default: admin
    NoEcho: true
    Description: The WordPress database admin account user name
    Type: String
    MinLength: 1
    MaxLength: 16
    AllowedPattern: "[a-zA-Z][a-zA-Z0-9]*"
  WebServerPort:
    Default: 8888
    Description: TCP/IP port for the WordPress web server
    Type: Number
    MinValue: 1
    MaxValue: 65535</code></pre>
    </div>
    <p>Per i parametri con valori predefiniti,  CloudFormation  utilizza i valori predefiniti a meno che gli utenti non specifichino un altro valore. Se si omette l'attributo predefinito, gli utenti devono specificare un valore per il parametro; tuttavia, richiedere all'utente di immettere un valore non assicura che il valore sia valido. Per convalidare il valore di un parametro, potete dichiarare vincoli o specificare un AWStipo di parametro specifico.</p>
    <p>Si noterà che il parametro <code class="code">KeyName</code> non ha un attributo <code class="code">Default</code> mentre gli altri parametri sì. Ad esempio, il parametro <code class="code">WordPressUser</code> ha l'attributo <code class="code">Default: admin</code>, ma il parametro <code class="code">KeyName</code> non ne ha nessuno. Gli utenti devono specificare un valore del nome della chiave al momento della creazione dello stack. In caso contrario, non  CloudFormation  riesce a creare lo stack e genera un'eccezione:. <code class="code">Parameters: [KeyName] must have
        values</code></p>
    <p>Per tipi di parametri AWSspecifici,  CloudFormation  convalida i valori di input rispetto ai valori esistenti nell' AWS account dell'utente e nella regione in cui sta creando lo stack <em>prima</em> di creare qualsiasi risorsa dello stack. Nel modello di esempio, il <code class="code">KeyName</code> parametro è un tipo di parametro specifico AWSdi. <code class="code">AWS::EC2::KeyPair::KeyName</code>  CloudFormation verifica che gli utenti specifichino un nome valido per la coppia di chiavi EC2 prima di creare lo stack. Un altro esempio di tipo AWSdi parametro specifico è <code class="code">AWS::EC2::VPC::Id</code> che richiede agli utenti di specificare un ID VPC valido. Oltre alla convalida iniziale, la AWS console mostra un elenco a discesa di valori validi per tipi di parametri AWSspecifici, come nomi di key pair EC2 o ID VPC validi, quando gli utenti utilizzano la procedura guidata Create Stack.</p>
    <p>Per il tipo <code class="code">String</code>, puoi utilizzare i seguenti attributi per dichiarare i vincoli: <code class="code">MinLength</code>, <code class="code">MaxLength</code>, <code class="code">Default</code>, <code class="code">AllowedValues</code> e <code class="code">AllowedPattern</code>. Nell'esempio, il parametro <code class="code">WordPressUser</code> ha tre vincoli: il valore del parametro deve contenere da 1 a 16 caratteri (<code class="code">MinLength</code>, <code class="code">MaxLength</code>) e deve iniziare con una lettera seguita da qualsiasi combinazione di lettere e numeri (<code class="code">AllowedPattern</code>).</p>
    <p>Per il tipo <code class="code">Number</code> puoi dichiarare i seguenti vincoli: <code class="code">MinValue</code>, <code class="code">MaxValue</code>, <code class="code">Default</code> e <code class="code">AllowedValues</code>. Un numero può essere un intero o un valore float. Nell'esempio riportato sopra, il parametro <code class="code">WebServerPort</code> deve essere un numero compreso tra 1 e 65535 incluso (<code class="code">MinValue</code>, <code class="code">MaxValue</code>).</p>
    <p>All'inizio di questa sezione, abbiamo detto che i parametri sono un buon metodo per specificare dati sensibili o specifici per l'implementazione, ad esempio le password o i nomi utente, che devi utilizzare, ma che non vuoi incorporare nel modello stesso. Se imposti l'<code class="code">NoEcho</code>attributo su<code class="code">true</code>,  CloudFormation  restituisce il valore del parametro mascherato da asterischi (*****) per tutte le chiamate che descrivono lo stack o gli eventi dello stack, ad eccezione delle informazioni memorizzate nelle posizioni specificate di seguito. Nell'esempio riportato in precedenza, il valore del parametro <code class="code">WordPressUser</code> non è visibile visualizzando le impostazioni dello stack e il relativo valore viene restituito sotto forma di asterischi.</p>
    <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Importante</h6></div><div class="awsdocs-note-text"><p>L'utilizzo dell'attributo <code class="code">NoEcho</code> non maschera le informazioni memorizzate nei seguenti elementi:</p><div class="itemizedlist">
           
           
           
         <ul class="itemizedlist"><li class="listitem">
           <p>La sezione dei modelli. <code class="code">Metadata</code>  CloudFormation non trasforma, modifica o oscura le informazioni incluse nella <code class="code">Metadata</code> sezione. Per ulteriori informazioni, consulta <a href="./metadata-section-structure.html">Metadati</a>.</p>
          </li><li class="listitem">
           <p>Sezione dei modelli <code class="code">Outputs</code>. Per ulteriori informazioni, consulta <a href="./outputs-section-structure.html">Output</a>.</p>
          </li><li class="listitem">
           <p>Attributo <code class="code">Metadata</code> di una definizione di risorsa. Per ulteriori informazioni, consulta <a href="./aws-attribute-metadata.html">Attributo Metadata</a>.</p>
          </li></ul></div><p>Si consiglia vivamente di non utilizzare questi meccanismi per includere informazioni sensibili, come password o segreti.</p></div></div>
    <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Importante</h6></div><div class="awsdocs-note-text"><p>Anziché incorporare informazioni riservate direttamente nei  CloudFormation  modelli, consigliamo di utilizzare parametri dinamici nel modello di pila per fare riferimento a informazioni sensibili archiviate e gestite all'esterno CloudFormation, ad esempio nel AWS Systems Manager Parameter Store o. AWS Secrets Manager</p><p>Per ulteriori informazioni, consulta la procedura <a href="./security-best-practices.html#creds">Non incorporare le credenziali nei modelli</a> consigliata.</p></div></div>
   
    <h2 id="gettingstarted.templatebasics.mappings">Specificazione dei valori condizionali utilizzando le mappature</h2>

    <p>I parametri sono un ottimo modo per consentire agli utenti di specificare valori sensibili o univoci da utilizzare nelle proprietà delle risorse dello stack; tuttavia, potrebbero esservi impostazioni dipendenti dalla Regione o che gli utenti trovano complessi da individuare a causa di altre condizioni o dipendenze. In questi casi, potresti aggiungere la logica nel modello stesso, in modo che gli utenti possano specificare valori più semplici (o nessuno) per ottenere i risultati desiderati. In un esempio precedente, abbiamo codificato l'ID AMI per la  ImageId  proprietà della nostra istanza EC2. <span>Questa operazione funziona correttamente nella Regione Stati Uniti orientali, dove rappresenta l'AMI che desideriamo. Tuttavia, se l'utente cerca di creare lo stack in un'altra Regione otterrà l'AMI sbagliata o non otterrà alcuna AMI. (Gli ID AMI sono univoci per una Regione, perciò lo stesso ID AMI in un'altra Regione potrebbe non rappresentare un'AMI o rappresentarne una totalmente diversa).</span> </p>
    <p>Per evitare questo problema, è necessario specificare l'ID AMI corretto in base a un input condizionale (in questo esempio, la Regione in cui è stato creato lo stack ). Sono disponibili due funzionalità del modello che possono essere utili, l'oggetto Mappings e lo pseudoparametro <code class="code">AWS::Region</code>.</p>
    <p>Lo <code class="code">AWS::Region</code> pseudo parametro è un valore che si  CloudFormation  risolve come la regione in cui viene creato lo stack. Gli pseudo parametri vengono risolti entro quando si crea lo stack.  CloudFormation  Le mappature ti consentono di utilizzare un valore di input come una condizione che determina un altro valore. Analogamente a un'istruzione switch, una mappatura associa un set di valori a un altro. Utilizzando il parametro <code class="code">AWS::Region</code> insieme a una mappatura, puoi accertarti che venga specificato un ID AMI adeguato alla Regione. <span>Il modello seguente contiene un oggetto Mappings con un nome  RegionMap  di mappatura utilizzato per mappare un ID AMI alla regione appropriata.</span></p>
    <div id="JSON" name="JSON" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.mappings.json">JSON</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Parameters": <span>{</span>
    "KeyName": <span>{</span>
      "Description": "Name of an existing EC2 KeyPair to enable SSH access to the instance",
      "Type": "String"
    }
  },
  "Mappings": <span>{</span>
    "RegionMap": <span>{</span>
      "us-east-1": <span>{</span>
        "AMI": "ami-76f0061f"
      },
      "us-west-1": <span>{</span>
        "AMI": "ami-655a0a20"
      },
      "eu-west-1": <span>{</span>
        "AMI": "ami-7fd4e10b"
      },
      "ap-southeast-1": <span>{</span>
        "AMI": "ami-72621c20"
      },
      "ap-northeast-1": <span>{</span>
        "AMI": "ami-8e08a38f"
      }
    }
  },
  "Resources": <span>{</span>
    "Ec2Instance": <span>{</span>
      "Type": "AWS::EC2::Instance",
      "Properties": <span>{</span>
        "KeyName": <span>{</span>
          "Ref": "KeyName"
        },
        "ImageId": <span>{</span>
          "Fn::FindInMap": [
            "RegionMap",
            <span>{</span>
              "Ref": "AWS::Region"
            },
            "AMI"
          ]
        },
        "UserData": <span>{</span>
          "Fn::Base64": "80"
        }
      }
    }
  }
}</code></pre>
    </div>
    <div id="YAML" name="YAML" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.mappings.yaml">YAML</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Parameters:
  KeyName:
    Description: Name of an existing EC2 KeyPair to enable SSH access to the instance
    Type: String
Mappings:
  RegionMap:
    us-east-1:
      AMI: ami-76f0061f
    us-west-1:
      AMI: ami-655a0a20
    eu-west-1:
      AMI: ami-7fd4e10b
    ap-southeast-1:
      AMI: ami-72621c20
    ap-northeast-1:
      AMI: ami-8e08a38f
Resources:
  Ec2Instance:
    Type: 'AWS::EC2::Instance'
    Properties:
      KeyName: !Ref KeyName
      ImageId: !FindInMap 
        - RegionMap
        - !Ref 'AWS::Region'
        - AMI
      UserData: !Base64 '80'</code></pre>
    </div>
    <p>In RegionMap, ogni regione è mappata su una coppia nome-valore. La coppia nome-valore è un'etichetta e il valore da mappare. In RegionMap, AMI è l'etichetta e l'ID AMI è il valore. Per utilizzare una mappa per restituire un valore, si utilizza la FindInMap funzione <a href="./intrinsic-function-reference-findinmap.html">Fn::</a>, passando il nome della mappa, il valore utilizzato per trovare il valore mappato e l'etichetta del valore mappato che si desidera restituire. <span> Nell'esempio precedente, la  ImageId  proprietà della risorsa Ec2Instance utilizza la FindInMap  funzione Fn:: per determinarne il valore specificando  RegionMap  come mappa da utilizzare,  AWS::Region  come valore di input da mappare e AMI come etichetta per identificare il valore su cui mappare. Ad esempio, se questo modello è stato usato per creare uno stack nella Regione Stati Uniti occidentali (California settentrionale), <code class="code">ImageId</code> sarebbe impostata su <code class="code">ami-655a0a20</code>.</span> </p>
    <div class="awsdocs-note awsdocs-tip"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Suggerimento</h6></div><div class="awsdocs-note-text"><p>Lo pseudoparametro <code class="code">AWS::Region</code> permette di individuare la Regione in cui viene creato lo stack. Alcune risorse, ad esempio <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-as-group.html">AWS::AutoScaling::AutoScalingGroup</a> e <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-instance.html">AWS::EC2::Instance<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-elb.html">AWS::ElasticLoadBalancing::LoadBalancer</a></a>, hanno una proprietà che specifica le zone di disponibilità. Puoi utilizzare la <a href="./intrinsic-function-reference-getavailabilityzones.html">funzione Fn::GetAZs</a> per ottenere un elenco di tutte le zone di disponibilità in una Regione.</p></div></div>
   
    <h2 id="gettingstarted.templatebasics.outputs">Valori costruiti e valori di output</h2>

    <p>I parametri e le mappature sono un ottimo modo per trasferire o determinare valori specifici al momento della creazione dello stack, ma ci possono essere situazioni in cui un valore da un parametro o un altro attributo della risorsa rappresenta solo una parte del valore di cui hai bisogno. Ad esempio, nel seguente frammento del  WordPress  modello, la funzione Fn: :Join costruisce la <code class="code">Target</code> sottoproprietà della proprietà della <code class="code">ElasticLoadBalancer</code> risorsa concatenando il <code class="code">HealthCheck</code> <code class="code">WebServerPort</code> parametro con altre stringhe letterali per formare il valore necessario.</p>
    <div id="JSON" name="JSON" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.outputs.json">JSON</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Resources": <span>{</span>
    "ElasticLoadBalancer": <span>{</span>
      "Type": "AWS::ElasticLoadBalancing::LoadBalancer",
      "Properties": <span>{</span>
        "AvailabilityZones": <span>{</span>
          "Fn::GetAZs": ""
        },
        "Instances": [
          <span>{</span>
            "Ref": "Ec2Instance1"
          },
          <span>{</span>
            "Ref": "Ec2Instance2"
          }
        ],
        "Listeners": [
          <span>{</span>
            "LoadBalancerPort": "80",
            "InstancePort": <span>{</span>
              "Ref": "WebServerPort"
            },
            "Protocol": "HTTP"
          }
        ],
        "HealthCheck": <span>{</span>
          "Target": <span>{</span>
            "Fn::Join": [
              "",
              [
                "HTTP:",
                <span>{</span>
                  "Ref": "WebServerPort"
                },
                "/"
              ]
            ]
          },
          "HealthyThreshold": "3",
          "UnhealthyThreshold": "5",
          "Interval": "30",
          "Timeout": "5"
        }
      }
    }
  }
}</code></pre>
    </div>
    <div id="YAML" name="YAML" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.outputs.yaml">YAML</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources:
  ElasticLoadBalancer:
    Type: 'AWS::ElasticLoadBalancing::LoadBalancer'
    Properties:
      AvailabilityZones: !GetAZs ''
      Instances:
        - !Ref Ec2Instance1
        - !Ref Ec2Instance2
      Listeners:
        - LoadBalancerPort: '80'
          InstancePort: !Ref WebServerPort
          Protocol: HTTP
      HealthCheck:
        Target: !Join 
          - ''
          - - 'HTTP:'
            - !Ref WebServerPort
            - /
        HealthyThreshold: '3'
        UnhealthyThreshold: '5'
        Interval: '30'
        Timeout: '5'</code></pre>
    </div>
    <p>La funzione Fn::Join utilizza due parametri, un delimitatore che separa i valori che desideri concatenare e un array di valori nell'ordine in cui desideri visualizzarli. Nell'esempio precedente, la funzione Fn: :Join specifica una stringa vuota come delimitatore e HTTP:, il valore del parametro e un carattere/come valori da concatenare.  WebServerPort  Se  WebServerPort  avesse il valore 8888, la proprietà Target verrebbe impostata sul seguente valore:</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="text ">HTTP:8888/</code></pre>
    <p>La funzione Fn::Join è utile anche per dichiarare i valori di output dello stack. L'oggetto Outputs nel modello contiene dichiarazioni per i valori che desideri siano disponibili dopo la creazione dello stack. Un output è un modo comodo di acquisire informazioni importanti sulle risorse o sui parametri di input. Ad esempio, nel  WordPress  modello, dichiariamo il seguente oggetto Outputs.</p>
    <div id="JSON" name="JSON" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.outputs.json2">JSON</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Outputs": <span>{</span>
        "InstallURL": <span>{</span>
            "Value": <span>{</span>
                "Fn::Join": [
                    "",
                    [
                        "http://",
                        <span>{</span>
                            "Fn::GetAtt": [
                                "ElasticLoadBalancer",
                                "DNSName"
                            ]
                        },
                        "/wp-admin/install.php"
                    ]
                ]
            },
            "Description": "Installation URL of the WordPress website"
        },
        "WebsiteURL": <span>{</span>
            "Value": <span>{</span>
                "Fn::Join": [
                    "",
                    [
                        "http://",
                        <span>{</span>
                            "Fn::GetAtt": [
                                "ElasticLoadBalancer",
                                "DNSName"
                            ]
                        }
                    ]
                ]
            }
        }
    }
}</code></pre>
    </div>
    <div id="YAML" name="YAML" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.outputs.yaml2">YAML</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Outputs:
  InstallURL:
    Value: !Join 
      - ''
      - - 'http://'
        - !GetAtt 
          - ElasticLoadBalancer
          - DNSName
        - /wp-admin/install.php
    Description: Installation URL of the WordPress website
  WebsiteURL:
    Value: !Join 
      - ''
      - - 'http://'
        - !GetAtt 
          - ElasticLoadBalancer
          - DNSName</code></pre>
    </div>
    <p>Ogni valore di output ha un nome, un attributo Value che contiene la dichiarazione del valore restituito come valore di output e, facoltativamente, una descrizione del valore. Nell'esempio precedente, installUrl è la stringa restituita da una chiamata alla funzione Fn: :Join che concatena http://, il nome DNS della risorsa e /wp-admin/install.php.  ElasticLoadBalancer Il valore di output dovrebbe essere simile al seguente:</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="text ">http://mywptests-elasticl-1gb51l6sl8y5v-206169572.<span>us-east-2</span>.elb.amazonaws.com/wp-admin/install.php</code></pre>
    <p>Nel tutorial Get Started, abbiamo usato questo collegamento per accedere comodamente alla pagina di installazione del blog che abbiamo creato.  WordPress   CloudFormation genera i valori di output dopo aver terminato la creazione dello stack. È possibile visualizzare i valori di output nella scheda Output della console  CloudFormation o utilizzando il comando <code class="code">aws cloudformation describe-stacks</code>.</p>
   
    <h2 id="gettingstarted.templatebasics.learnmore">Passaggi successivi</h2>

    <p>Abbiamo analizzato le parti principali di un modello e come utilizzarle. Hai imparato le seguenti nozioni sui modelli:</p>
    <div class="itemizedlist">
       
       
       
       
       
       
    <ul class="itemizedlist"><li class="listitem">
        <p>Dichiarazione delle risorse e delle relative proprietà.</p>
      </li><li class="listitem">
        <p>Fare riferimento ad altre risorse con la funzione Ref e agli attributi delle risorse utilizzando la Fn::GetAtt  funzione.</p>
      </li><li class="listitem">
        <p>Utilizzo dei parametri per consentire agli utenti di specificare i valori al momento della creazione dello stack e utilizzo dei vincoli per convalidare l'input del parametro.</p>
      </li><li class="listitem">
        <p>Utilizzo delle mappature per determinare i valori condizionali.</p>
      </li><li class="listitem">
        <p>Utilizzo della funzione Fn::Join per creare valori in base a parametri, attributi delle risorse e altre stringhe.</p>
      </li><li class="listitem">
        <p>Utilizzo dei valori di output per acquisire informazioni sulle risorse dello stack.</p>
      </li></ul></div>
    <p>Non abbiamo incluso due oggetti di primo livello in un modello:  AWSTemplateFormatVersion  e Description.  AWSTemplateFormatVersion è semplicemente la versione del formato del modello: se non lo specifichi,  CloudFormation  utilizzerà la versione più recente.</p>
    <p>Description è qualunque stringa JSON o YAML valida. Questa descrizione appare nella pagina Specifica i parametri della creazione guidata di stack. Per ulteriori informazioni, consultare <a href="./format-version-structure.html">Versione del formato</a> e <a href="./template-description-structure.html">Descrizione</a>.</p>

    <p>Naturalmente, ci sono caratteristiche dello stack e del modello più avanzate. Di seguito è riportato un elenco di alcune delle più importanti che potrebbero esserti utili:</p>
    <p><em>Attributi facoltativi</em> che possono essere utilizzati con qualsiasi risorsa:</p>
    <div class="itemizedlist">
       
       
       
    <ul class="itemizedlist"><li class="listitem">
        <p><a href="./aws-attribute-dependson.html">DependsOn l'attributo</a> consente di specificare che una risorsa deve essere creata dopo l'altra.</p>
      </li><li class="listitem">
        <p><a href="./aws-attribute-deletionpolicy.html">DeletionPolicy l'attributo</a> consente di  CloudFormation  specificare come gestire l'eliminazione di una risorsa.</p>
      </li><li class="listitem">
        <p>L'attributo<a href="./aws-attribute-metadata.html">Metadata</a> consente di specificare i dati strutturati con una risorsa.</p>
      </li></ul></div>
    <p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-stack.html"><em>AWS::CloudFormation::Stack</em></a>consente di annidare un altro stack come risorsa all'interno del modello.</p>
  <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avvertimento" /> <strong>JavaScript è disabilitato o non è disponibile nel tuo browser.</strong></p><p>Per usare la documentazione AWS, JavaScript deve essere abilitato. Consulta le pagine della guida del browser per le istruzioni.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenzioni dei documenti</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./GettingStarted.Walkthrough.html">Inizia a usare</div><div id="next" class="next-link" accesskey="n" href="./updating.stacks.walkthrough.html">Spiegazione passo per passo: aggiornamento di uno stack</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Questa pagina ti è stata utile? - Sì</div><div class="content"><p>Grazie per averci comunicato che stiamo facendo un buon lavoro!</p><p>Se hai un momento, ti invitiamo a dirci che cosa abbiamo fatto che ti è piaciuto così possiamo offrirti altri contenuti simili.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Questa pagina ti è stata utile? - No</div><div class="content"><p>Grazie per averci comunicato che questa pagina ha bisogno di essere modificata. Siamo spiacenti di non aver soddisfatto le tue esigenze.</p><p>Se hai un momento, ti invitiamo a dirci come possiamo migliorare la documentazione.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>