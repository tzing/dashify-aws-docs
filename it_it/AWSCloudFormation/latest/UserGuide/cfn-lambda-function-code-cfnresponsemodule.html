<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="it-IT"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Modulo cfn-response - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="cfn-lambda-function-code-cfnresponsemodule" /><meta name="default_state" content="cfn-lambda-function-code-cfnresponsemodule" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" /><meta name="description" content="Quando si utilizza la ZipFile proprietà per specificare il codice sorgente della funzione e tale funzione interagisce con una risorsa AWS CloudFormation personalizzata, è possibile caricare il cfn-response modulo per inviare risposte a tali risorse. Il modulo contiene un metodo" /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Guida per l'utente" /><meta name="abstract" content="Crea e gestisci le implementazioni AWS dell'infrastruttura in modo prevedibile e ripetuto utilizzando questa guida per AWS CloudFormation l'utente." /><meta name="guide-locale" content="it_it" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Guida per l'utente" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Guida per l'utente" /><meta id="panorama-serviceConsolePage" value="Modulo cfn-response" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Modulo cfn-response - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,provisioning delle risorse,configurazione delle risorse,gestione dell'infrastruttura,CloudFormer,CloudFormation pila,CloudFormation modello,set di modifiche" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guida per l'utente",
        "item" : "https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Utilizzo dei modelli AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/template-guide.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Risorse personalizzate",
        "item" : "https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/template-custom-resources.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Risorse personalizzate supportate da AWS Lambda",
        "item" : "https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/template-custom-resources-lambda.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Modulo cfn-response",
        "item" : "https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/template-custom-resources-lambda.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentazione</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Guida per l'utente</a></div><div id="page-toc-src"><a href="#cfn-lambda-function-code-cfnresponsemodule-loading">Caricamento del modulo cfn-response</a><a href="#cfn-lambda-function-code-cfnresponsemodule-send-parameters">Parametri del metodo send</a><a href="#cfn-lambda-function-code-cfnresponsemodule-examples">Esempi</a><a href="#cfn-lambda-function-code-cfnresponsemodule-source">Codice di origine del modulo</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Le traduzioni sono generate tramite traduzione automatica. In caso di conflitto tra il contenuto di una traduzione e la versione originale in Inglese, quest'ultima prevarrà.</p></awsui-alert><h1 class="topictitle" id="cfn-lambda-function-code-cfnresponsemodule">Modulo <code class="code">cfn-response</code></h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Quando si utilizza la <code class="code">ZipFile</code> proprietà per specificare il codice sorgente <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-lambda-function.html">della funzione</a> e tale funzione interagisce con una risorsa AWS CloudFormation personalizzata, è possibile caricare il <code class="code">cfn-response</code> modulo per inviare risposte a tali risorse. Il modulo contiene un metodo <code class="code">send</code>, che invia un <a href="./crpg-ref-responses.html">oggetto di risposta</a> a una risorsa personalizzata mediante un URL prefirmato Amazon S3 (<code class="code">ResponseURL</code>).</p><p>Dopo l'esecuzione del metodo <code class="code">send</code>, la funzione Lambda termina, perciò tutto quello che si scrive dopo quel metodo verrà ignorato.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>Il modulo <code class="code">cfn-response</code> è disponibile solo quando si utilizza la proprietà <code class="code">ZipFile</code> per scrivere il codice d'origine. Il modulo non è disponibile per il codice di origine archiviato in bucket Amazon S3. Per il codice nei bucket, è necessario scrivere funzioni proprie per inviare le risposte.</p></div></div>
    <h2 id="cfn-lambda-function-code-cfnresponsemodule-loading">Caricamento del modulo <code class="code">cfn-response</code></h2>
    
    <p>Per le funzioni Node.js, utilizza la funzione <code class="code">require()</code> per caricare il modulo <code class="code">cfn-response</code>. Ad esempio, il seguente esempio di codice crea un oggetto <code class="code">cfn-response</code> con il nome <code class="code">response</code>:</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="js ">var response = require('cfn-response');</code></pre>
    
    <p>Per Python, utilizza l'istruzione <code class="code">import</code> per caricare il modulo <code class="code">cfnresponse</code>, come mostrato nel seguente esempio:</p>
    <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>Utilizzare questa istruzione di importazione esatta. Se si utilizzano altre varianti dell'istruzione import, AWS CloudFormation non include il modulo di risposta.</p></div></div>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="js ">import cfnresponse</code></pre>
   
    <h2 id="cfn-lambda-function-code-cfnresponsemodule-send-parameters">Parametri del metodo <code class="code">send</code></h2>
    <p>Si possono utilizzare i seguenti parametri con il metodo <code class="code">send</code>:</p>
    <div class="variablelist">
       
       
       
       
       
       
    <dl>
        <dt><span class="term"><code class="code">event</code></span></dt>
        <dd>
          <p>I campi in una <a href="./crpg-ref-requesttypes.html">richiesta di risorse personalizzata</a>.</p>
        </dd>
       
        <dt><span class="term"><code class="code">context</code></span></dt>
        <dd>
          <p>Un oggetto, specifico per le funzioni Lambda, che è possibile utilizzare per specificare quando la funzione e qualsiasi callback hanno completato l'esecuzione o per accedere alle informazioni dall'interno dell'ambiente di esecuzione Lambda. Per ulteriori informazioni, consulta <a href="https://docs.aws.amazon.com/lambda/latest/dg/programming-model.html">Modello di programmazione (Node.js)</a> nella <em>Guida per gli sviluppatori diAWS Lambda </em>.</p>
        </dd>
       
        <dt><span class="term"><code class="code">responseStatus</code></span></dt>
        <dd>
          <p>Se la funzione è stata completata. Utilizza le costanti del modulo <code class="code">cfnresponse</code> per specificare lo stato: <code class="code">SUCCESS</code> per esecuzioni di successo e <code class="code">FAILED</code> per esecuzioni non riuscite.</p>
        </dd>
       
        <dt><span class="term"><code class="code">responseData</code></span></dt>
        <dd>
          <p>Il campo <code class="code">Data</code> di un <a href="./crpg-ref-responses.html">oggetto di risposta</a> della risorsa personalizzata. I dati corrispondono a un elenco di coppie nome-valore.</p>
        </dd>
       
        <dt><span class="term"><code class="code">physicalResourceId</code></span></dt>
        <dd>
          <p>Facoltativo. L'ID univoco della risorssa personalizzata che ha invocato la funzione. Per impostazione predefinita, il modulo utilizza il nome del flusso di log di Amazon  CloudWatch  Logs associato alla funzione Lambda.</p>
          <p>Il valore restituito per un <code class="code">PhysicalResourceId</code> può modificare le operazioni personalizzate di aggiornamento delle risorse. Se il valore restituito è lo stesso, viene considerato un aggiornamento normale. Se il valore restituito è diverso, AWS CloudFormation
riconosce l'aggiornamento come sostituzione e invia una richiesta di eliminazione alla vecchia risorsa. Per ulteriori informazioni, consulta <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-customresource.html"><code class="code">AWS::CloudFormation::CustomResource</code></a>.</p>
        </dd>
       
        <dt><span class="term"><code class="code">noEcho</code></span></dt>
        <dd>
          <p>Facoltativo. Indica se nascondere o meno l'output della risorsa personalizzata quando viene recuperata utilizzando la funzione <code class="code">Fn::GetAtt</code>. Se impostato su <code class="code">true</code>, tutti i valori restituiti vengono mascherati con asterischi (*****), ad eccezione delle informazioni archiviate nelle posizioni specificate di seguito. Di default, il valore è <code class="code">false</code>.</p>
          <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Importante</h6></div><div class="awsdocs-note-text"><p>L'utilizzo dell'attributo <code class="code">NoEcho</code> non maschera le informazioni memorizzate nei seguenti elementi:</p><div class="itemizedlist">
           
           
           
         <ul class="itemizedlist"><li class="listitem">
           <p>La sezione dei <code class="code">Metadata</code> modelli.  CloudFormation non trasforma, modifica o oscura le informazioni incluse nella <code class="code">Metadata</code> sezione. Per ulteriori informazioni, consulta <a href="./metadata-section-structure.html">Metadati</a>.</p>
          </li><li class="listitem">
           <p>Sezione dei modelli <code class="code">Outputs</code>. Per ulteriori informazioni, consulta <a href="./outputs-section-structure.html">Output</a>.</p>
          </li><li class="listitem">
           <p>Attributo <code class="code">Metadata</code> di una definizione di risorsa. Per ulteriori informazioni, consulta <a href="./aws-attribute-metadata.html">Attributo Metadata</a>.</p>
          </li></ul></div><p>Si consiglia vivamente di non utilizzare questi meccanismi per includere informazioni sensibili, come password o segreti.</p></div></div>
          <p>Per ulteriori informazioni sull'utilizzo di <code class="code">NoEcho</code> per mascherare le informazioni sensibili, consulta la best practice <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/best-practices.html#creds">Non incorporare le credenziali nei modelli</a>.</p>
        </dd>
      </dl></div>
   
    <h2 id="cfn-lambda-function-code-cfnresponsemodule-examples">Esempi</h2>
     
      <h3 id="cfn-lambda-function-code-zipfile-examplenodejs">Node.js</h3>
      <p>In questo esempio Node.js, la funzione in linea Lambda utilizza un valore di input e lo moltiplica per 5. Le funzioni in linea sono particolarmente utili per le funzioni più piccole perché consentono di specificare il codice di origine direttamente nel modello, invece di creare un pacchetto e caricarlo in un bucket Amazon S3. La funzione utilizza il metodo <code class="code">cfn-response</code> <code class="code">send</code> per inviare il risultato alla risorsa personalizzata che la richiama.</p>
      <div id="JSON" name="JSON" class="section langfilter">
        <h4 id="cfn-lambda-function-code-zipfile-examplenodejs.json">JSON</h4>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"ZipFile": <span>{</span> "Fn::Join": ["", [
  "var response = require('cfn-response');",
  "exports.handler = function(event, context) <span>{</span>",
  "  var input = parseInt(event.ResourceProperties.Input);",
  "  var responseData = <span>{</span>Value: input * 5};",
  "  response.send(event, context, response.SUCCESS, responseData);",
  "};"
]]}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h4 id="cfn-lambda-function-code-zipfile-examplenodejs-yaml">YAML</h4>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">ZipFile: &gt;
  var response = require('cfn-response');
  exports.handler = function(event, context) <span>{</span>
    var input = parseInt(event.ResourceProperties.Input);
    var responseData = <span>{</span>Value: input * 5};
    response.send(event, context, response.SUCCESS, responseData);
  };</code></pre>
      </div>
     
     
      <h3 id="cfn-lambda-function-code-zipfile-examplepython">Python</h3>
      <p>In questo esempio Python, la funzione inline Lambda utilizza un valore intero e lo moltiplica per 5.</p>
      <div id="JSON" name="JSON" class="section langfilter">
        <h4 id="cfn-lambda-function-code-zipfile-examplepython.json">JSON</h4>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"ZipFile" : <span>{</span> "Fn::Join" : ["\n", [
  "import json",
  "import cfnresponse",
  "def handler(event, context):",
  "   responseValue = int(event['ResourceProperties']['Input']) * 5",
  "   responseData = <span>{</span>}",
  "   responseData['Data'] = responseValue",
  "   cfnresponse.send(event, context, cfnresponse.SUCCESS, responseData, \"CustomResourcePhysicalID\")"
]]}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h4 id="cfn-lambda-function-code-zipfile-examplepython.yaml">YAML</h4>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">ZipFile: |
  import json
  import cfnresponse
  def handler(event, context):
    responseValue = int(event['ResourceProperties']['Input']) * 5
    responseData = <span>{</span>}
    responseData['Data'] = responseValue
    cfnresponse.send(event, context, cfnresponse.SUCCESS, responseData, "CustomResourcePhysicalID")</code></pre>
      </div>
     
   
    <h2 id="cfn-lambda-function-code-cfnresponsemodule-source">Codice di origine del modulo</h2>
    <p>Il seguente è il codice sorgente del modulo di risposta per le funzioni Node.js. Esaminarlo per comprendere ciò che il modulo fa e per facilitare l'implementazione di funzioni di risposta personalizzate.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="js ">// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
// SPDX-License-Identifier: MIT-0
 
exports.SUCCESS = "SUCCESS";
exports.FAILED = "FAILED";
 
exports.send = function(event, context, responseStatus, responseData, physicalResourceId, noEcho) <span>{</span>
 
    var responseBody = JSON.stringify(<span>{</span>
        Status: responseStatus,
        Reason: "See the details in CloudWatch Log Stream: " + context.logStreamName,
        PhysicalResourceId: physicalResourceId || context.logStreamName,
        StackId: event.StackId,
        RequestId: event.RequestId,
        LogicalResourceId: event.LogicalResourceId,
        NoEcho: noEcho || false,
        Data: responseData
    });
 
    console.log("Response body:\n", responseBody);
 
    var https = require("https");
    var url = require("url");
 
    var parsedUrl = url.parse(event.ResponseURL);
    var options = <span>{</span>
        hostname: parsedUrl.hostname,
        port: 443,
        path: parsedUrl.path,
        method: "PUT",
        headers: <span>{</span>
            "content-type": "",
            "content-length": responseBody.length
        }
    };
 
    var request = https.request(options, function(response) <span>{</span>
        console.log("Status code: " + parseInt(response.statusCode));
        context.done();
    });
 
    request.on("error", function(error) <span>{</span>
        console.log("send(..) failed executing https.request(..): " + error);
        context.done();
    });
 
    request.write(responseBody);
    request.end();
}</code></pre>
    <p>Il seguente è il codice sorgente del modulo di risposta per le funzioni Python 2 e 3:</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="python "># Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
# SPDX-License-Identifier: MIT-0
 
from __future__ import print_function
import urllib3
import json

SUCCESS = "SUCCESS"
FAILED = "FAILED"

http = urllib3.PoolManager()


def send(event, context, responseStatus, responseData, physicalResourceId=None, noEcho=False, reason=None):
    responseUrl = event['ResponseURL']

    print(responseUrl)

    responseBody = <span>{</span>
        'Status' : responseStatus,
        'Reason' : reason or "See the details in CloudWatch Log Stream: <span>{</span>}".format(context.log_stream_name),
        'PhysicalResourceId' : physicalResourceId or context.log_stream_name,
        'StackId' : event['StackId'],
        'RequestId' : event['RequestId'],
        'LogicalResourceId' : event['LogicalResourceId'],
        'NoEcho' : noEcho,
        'Data' : responseData
    }

    json_responseBody = json.dumps(responseBody)

    print("Response body:")
    print(json_responseBody)

    headers = <span>{</span>
        'content-type' : '',
        'content-length' : str(len(json_responseBody))
    }

    try:
        response = http.request('PUT', responseUrl, headers=headers, body=json_responseBody)
        print("Status code:", response.status)


    except Exception as e:

        print("send(..) failed executing http.request(..):", e)</code></pre>
    
  <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avvertimento" /> <strong>JavaScript è disabilitato o non è disponibile nel tuo browser.</strong></p><p>Per usare la documentazione AWS, JavaScript deve essere abilitato. Consulta le pagine della guida del browser per le istruzioni.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenzioni dei documenti</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./walkthrough-custom-resources-lambda-lookup-amiids.html">Spiegazione passo per passo: ricerca di ID di Amazon Machine Image</div><div id="next" class="next-link" accesskey="n" href="./crpg-ref.html">Riferimento a risorse personalizzate</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Questa pagina ti è stata utile? - Sì</div><div class="content"><p>Grazie per averci comunicato che stiamo facendo un buon lavoro!</p><p>Se hai un momento, ti invitiamo a dirci che cosa abbiamo fatto che ti è piaciuto così possiamo offrirti altri contenuti simili.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Questa pagina ti è stata utile? - No</div><div class="content"><p>Grazie per averci comunicato che questa pagina ha bisogno di essere modificata. Siamo spiacenti di non aver soddisfatto le tue esigenze.</p><p>Se hai un momento, ti invitiamo a dirci come possiamo migliorare la documentazione.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>