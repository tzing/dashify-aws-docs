<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="it-IT"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Opzioni di errore degli stack - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="stack-failure-options" /><meta name="default_state" content="stack-failure-options" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" /><meta name="description" content="Sviluppa in modo iterativo le applicazioni quando si verificano errori di provisioning iniziando dal punto di errore senza eseguire il rollback delle risorse con provisioning effettuato correttamente." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Guida per l'utente" /><meta name="abstract" content="Crea e gestisci le implementazioni AWS dell'infrastruttura in modo prevedibile e ripetuto utilizzando questa guida per AWS CloudFormation l'utente." /><meta name="guide-locale" content="it_it" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Guida per l'utente" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Guida per l'utente" /><meta id="panorama-serviceConsolePage" value="Opzioni di errore degli stack" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Opzioni di errore degli stack - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/stack-failure-options.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,provisioning delle risorse,configurazione delle risorse,gestione dell'infrastruttura,CloudFormer,CloudFormation pila,CloudFormation modello,set di modifiche" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guida per l'utente",
        "item" : "https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Utilizzo degli stack di",
        "item" : "https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/stacks.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Opzioni di errore degli stack",
        "item" : "https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/stacks.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentazione</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Guida per l'utente</a></div><div id="page-toc-src"><a href="#stack-failure-options-overview">Panoramica delle opzioni di errore degli stack</a><a href="#stack-failure-options-conditions">Condizioni per sospendere il rollback dello stack</a><a href="#stack-failure-options-console">Mantieni risorse con provisioning effettuato correttamente (console)</a><a href="#stack-failure-options-cli">Mantieni risorse con provisioning effettuato correttamente (AWS CLI)</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Le traduzioni sono generate tramite traduzione automatica. In caso di conflitto tra il contenuto di una traduzione e la versione originale in Inglese, quest'ultima prevarr√†.</p></awsui-alert><h1 class="topictitle" id="stack-failure-options">Opzioni di errore degli stack</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Puoi sviluppare in modo iterativo le applicazioni quando si verificano errori di provisioning iniziando dal punto di errore senza eseguire il rollback delle risorse con provisioning effettuato correttamente. Specificando le opzioni di errore degli stack, puoi risolvere i problemi delle risorse con stato <code class="code">CREATE_FAILED</code> o <code class="code">UPDATE_FAILED</code>. Puoi effettuare il provisioning di opzioni di errore per tutte le implementazioni di stack e le operazioni di set di modifica.</p><div class="itemizedlist">
   
   
  
 <ul class="itemizedlist"><li class="listitem">
   <p>L'impostazione delle operazioni di creazione su <b>Preserve successfully provisioned resources</b> (Mantieni le risorse con provisioning effettuato correttamente) mantiene lo stato delle risorse riuscite, mentre le risorse non riuscite continuano a presentare lo stato di esito negativo fino all'esecuzione dell'operazione di aggiornamento successiva.</p>
  </li><li class="listitem">
   <p>L'impostazione delle operazioni di aggiornamento e modifica del set su <b>Preserve successfully provisioned resources</b> (Mantieni le risorse con provisioning effettuato correttamente) mantiene lo stato delle risorse riuscite durante il rollback delle risorse non riuscite all'ultimo stato stabile noto. Le risorse non riuscite presenteranno lo stato <code class="code">UPDATE_FAILED</code>. Le risorse per le quali non √® disponibile un ultimo stato stabile noto verranno eliminate in occasione della successiva operazione stack.</p>
  </li></ul></div><p>Per ulteriori dettagli su come sospendere il rollback delle risorse non riuscite, consulta le sezioni seguenti:</p><div class="itemizedlist">
   
   
   
   
 <ul class="itemizedlist"><li class="listitem">
   <p><a href="#stack-failure-options-overview">Panoramica delle opzioni di errore degli stack</a></p>
  </li><li class="listitem">
   <p><a href="#stack-failure-options-conditions">Condizioni per sospendere il rollback dello stack</a></p>
  </li><li class="listitem">
   <p><a href="#stack-failure-options-console">Mantieni risorse con provisioning effettuato correttamente (console)</a></p>
  </li><li class="listitem">
   <p><a href="#stack-failure-options-cli">Mantieni risorse con provisioning effettuato correttamente (AWS CLI)</a></p>
  </li></ul></div>
  <h2 id="stack-failure-options-overview">Panoramica delle opzioni di errore degli stack</h2>
  <p>Prima di eseguire un'operazione dalla console AWS CloudFormation, dall'API, o da AWS Command Line Interface(AWS CLI), specifica il comportamento per l'errore delle risorse con provisioning effettuato correttamente. Quindi, procedi con il processo di implementazione delle risorse senza altre modifiche. In caso di guasto operativo, CloudFormation si arresta al primo errore in ogni percorso di provisioning indipendente. CloudFormation identifica le dipendenze tra le risorse per parallelizzare le operazioni di provisioning indipendenti. Quindi procede al provisioning delle risorse su ogni percorso di provisioning indipendente fino a quando non si verifica un errore. Un errore in un percorso non influisce sugli altri percorsi di provisioning. CloudFormation continuer√† a eseguire il provisioning delle risorse fino al completamento o all'arresto in caso di guasto diverso.</p>
  <p>Risolvi eventuali problemi per continuare il processo di implementazione. CloudFormation esegue gli aggiornamenti necessari prima di riprovare le azioni di provisioning su risorse il cui provisioning ha avuto esito negativo in precedenza. Puoi risolvere i problemi inviando un'operazione <b>Retry</b> (Riprova), <b>Update</b> (Aggiorna) o <b>Rollback</b>. Ad esempio, se stai effettuando il provisioning di un'istanza Amazon EC2 e l'istanza EC2 non riesce durante un'operazione di creazione, potresti voler indagare sull'errore, piuttosto che eseguire immediatamente il rollback della risorsa non riuscita. Puoi rivedere le verifiche dello stato del sistema e dello stato delle istanze, quindi seleziona l'operazione <b>Retry</b> (Riprova) operazione una volta risolti i problemi.</p>
  
  
  <p>Quando un'operazione di stack ha esito negativo e hai specificato <b>Preserve successfully provisioned resources</b> (Mantieni le risorse con provisioning effettuato correttamente) dal menu <b>Stack failure options</b> (Opzioni di errore dello stack), puoi selezionare le seguenti opzioni.</p>
  <div class="itemizedlist">
    
    
    
  <ul class="itemizedlist"><li class="listitem">
    <p><b>Retry</b> (Riprova): riprova l'operazione di provisioning sulle risorse non riuscite e continua il provisioning del modello fino al completamento dell'operazione di stack o al successivo errore. Seleziona questa opzione se non √® stato possibile effettuare il provisioning della risorsa a causa di un problema che non richiede modifiche al modello, ad esempio l'autorizzazione AWS Identity and Access Management (IAM).</p>
   </li><li class="listitem">
    <p><b>Update</b> (Aggiorna): le risorse con provisioning effettuato correttamente vengono aggiornate in base agli aggiornamenti dei modelli. Le risorse che non sono state create o aggiornate verranno riprovate. Seleziona questa opzione se il provisioning della risorsa non √® riuscito a causa di errori del modello e questo √® stato modificato. Quando aggiorni uno stack con stato <code class="code">FAILED</code>, devi selezionare <b>Preserve successfully provisioned resources</b> (Mantieni risorse con provisioning effettuato correttamente) per <b>Stack failure options</b> (Opzioni di errore dello stack) per continuare ad aggiornare lo stack.</p>
   </li><li class="listitem">
    <p><b>Roll back</b> (Rollback): CloudFormation esegue il rollback dello stack all'ultimo stato stabile noto.</p>
   </li></ul></div>

 
  
  <h2 id="stack-failure-options-conditions">Condizioni per sospendere il rollback dello stack</h2>
  <p>Per sospendere il rollback delle risorse non riuscite nello stack, √® necessario che siano soddisfatte le seguenti condizioni.</p>
  <div class="itemizedlist">
    
    
  <ul class="itemizedlist"><li class="listitem">
    <p>Devi specificare il parametro <b>Preserve successfully provisioned resources</b> (Mantieni risorse con provisioning effettuato correttamente) durante un'operazione di stack. Per ulteriori informazioni sul comportamento del rollback, consulta <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-console-add-tags.html#rollback">Impostazione di opzioni di stack AWS CloudFormation</a>.</p>
   </li><li class="listitem">
    <p>Un'operazione di stack deve presentare uno stato dello stack <code class="code">CREATE_FAILED</code> o <code class="code">UPDATE_FAILED</code>. Per ulteriori informazioni sugli stati dello stack, consulta <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-describing-stacks.html#w2ab1c23c15c17c11">Codici di stato dello stack</a>.</p>
   </li></ul></div>
  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>I tipi di aggiornamento non modificabili non sono supportati.</p></div></div>
  
  <h2 id="stack-failure-options-console">Mantieni risorse con provisioning effettuato correttamente (console)</h2>
  <awsdocs-tabs><dl style="display: none">
   <dt>Create stack</dt><dd tab-id="create-stack">
     <div class="procedure"><h6>Per mantenere le risorse con provisioning effettuato correttamente durante un'operazione di creazione dello stack</h6><ol><li><p>Accedere alla AWS Management Console e aprire la console di AWS CloudFormation all'indirizzo <a href="https://console.aws.amazon.com/cloudformation/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/cloudformation</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
       <p>Scegli <b>Create stack</b> (Crea stack) e seleziona <b>With new resources (standard)</b> (Con nuove risorse [standard]).</p>
      </li><li>
       <p>Nella pagina <b>Specify template (Specifica modello)</b>, scegliere un modello di stack utilizzando una delle opzioni seguenti:</p>
       <div class="itemizedlist">
         
         
         
       <ul class="itemizedlist"><li class="listitem">
         <p><b>Template is ready (Il modello √® pronto)</b></p>
        </li><li class="listitem">
         <p><b>Use a sample template (Utilizza un modello di esempio)</b></p>
        </li><li class="listitem">
         <p><b>Create template in Designer (Crea modello in Designer)</b></p>
        </li></ul></div>
       <p>Accetta le impostazioni desiderate e seleziona <b>Next</b> (Avanti).</p>
      </li><li>
       <p>Nella pagina <b>Specify stack details</b> (Specifica dettagli stack), immetti il nome dello stack nella casella <b>Stack name</b> (Nome stack).</p>
      </li><li>
       <p>Nella sezione <b>Parameters</b> (Parametri), specifica i parametri definiti nel modello di stack.</p>
       <p>√à possibile utilizzare o modificare qualsiasi parametro con i valori predefiniti.</p>
      </li><li>
       <p>Una volta definiti i valori dei parametri, seleziona <b>Next</b> (Avanti).</p>
      </li><li>
       <p>Nella pagina <b>Configure stack options</b> (Configura opzioni stack), puoi impostare ulteriori opzioni per lo stack.</p>
      </li><li>
       <p>Per <b>Stack failure options</b> (Opzioni di errore dello stack), seleziona <b>Preserve successfully provisioned resources</b> (Mantieni risorse con provisioning effettuato correttamente).</p>
      </li><li>
       <p>Una volta definite le opzioni di stack, seleziona <b>Next</b> (Avanti).</p>
      </li><li>
       <p>Rivedi lo stack nella pagina <b>Review</b> (Rivedi) e seleziona <b>Create stack</b> (Crea stack).</p>
      </li></ol></div>
     <p><em>Results</em> (Risultati): risorse che non sono riuscite a creare la transizione dello stato dello stack in <code class="code">CREATE_FAILED</code> per impedire il rollback dello stack quando l'operazione di stack riscontra un errore. Le risorse con provisioning effettuato correttamente presentano lo stato <code class="code">CREATE_COMPLETE</code>. Puoi monitorare lo stack nella scheda <b>Stack events</b> (Eventi stack).</p>
    </dd>
   <dt>Update stack</dt><dd tab-id="update-stack">
     <div class="procedure"><h6>Per mantenere le risorse con provisioning effettuato correttamente durante un'operazione di aggiornamento dello stack</h6><ol><li><p>Accedere alla AWS Management Console e aprire la console di AWS CloudFormation all'indirizzo <a href="https://console.aws.amazon.com/cloudformation/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/cloudformation</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
       <p>Seleziona lo stack che desideri aggiornare, quindi seleziona <b>Update</b> (Aggiorna).</p>
      </li><li>
       <p>Nella pagina <b>Update stack</b> (Aggiorna stack), scegli un modello di stack utilizzando una delle opzioni seguenti:</p>
       <div class="itemizedlist">
         
         
         
       <ul class="itemizedlist"><li class="listitem">
         <p><b>Use current template</b> (Utilizza modello corrente)</p>
        </li><li class="listitem">
         <p><b>Replace current template</b> (Sostituisci modello corrente)</p>
        </li><li class="listitem">
         <p><b>Edit template in designer</b> (Modifica modello in Designer)</p>
        </li></ul></div>
       <p>Accetta le impostazioni desiderate e seleziona <b>Next</b> (Avanti).</p>
      </li><li>
       <p>Nella pagina <b>Specify stack details</b> (Specifica dettagli stack), specifica i parametri definiti nel modello di stack.</p>
       <p>√à possibile utilizzare o modificare qualsiasi parametro con i valori predefiniti.</p>
      </li><li>
       <p>Una volta definiti i valori dei parametri, seleziona <b>Next</b> (Avanti).</p>
      </li><li>
       <p>Nella pagina <b>Configure stack options</b> (Configura opzioni stack), puoi impostare ulteriori opzioni per lo stack.</p>
      </li><li>
       <p>Per <b>Behavior on provisioning failure</b> (Comportamento con errore di provisioning), seleziona <b>Preserve successfully provisioned resources</b> (Mantieni risorse con provisioning effettuato correttamente).</p>
      </li><li>
       <p>Una volta definite le opzioni di stack, seleziona <b>Next</b> (Avanti).</p>
      </li><li>
       <p>Rivedi lo stack nella pagina <b>Review</b> (Rivedi) e seleziona <b>Update stack</b> (Aggiorna stack).</p>
      </li></ol></div>
     <p><em>Risultati</em>: le risorse che non sono riuscite ad aggiornare la transizione dello stato dello stack in <code class="code">UPDATE_FAILED</code> ed eseguire il rollback all'ultimo stato stabile noto. Le risorse senza un ultimo stato stabile noto verranno eliminate da CloudFormation all'operazione di stack successiva. Le risorse di cui √® stato eseguito il provisioning presentano lo stato <code class="code">CREATE_COMPLETE</code> o <code class="code">UPDATE_COMPLETE</code>. Puoi monitorare lo stack nella scheda <b>Stack events</b> (Eventi stack).</p>
    </dd>
   <dt>Change set</dt><dd tab-id="change-set">
     <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>Puoi avviare un set di modifiche per uno stack con stato <code class="code">CREATE_FAILED</code> o <code class="code">UPDATE_FAILED</code>, ma non per uno stato <code class="code">UPDATE_ROLLBACK_FAILED</code>.</p></div></div>
     <div class="procedure"><h6>Per mantenere le risorse con provisioning effettuato correttamente durante un'operazione di modifica del set</h6><ol><li><p>Accedere alla AWS Management Console e aprire la console di AWS CloudFormation all'indirizzo <a href="https://console.aws.amazon.com/cloudformation/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/cloudformation</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
       <p>Seleziona lo stack che contiene il set di modifiche che desideri avviare, quindi scegli la scheda <b>Change sets</b> (Set di modifiche).</p>
      </li><li>
       <p>Seleziona il set di modifiche, quindi scegli <b>Execute</b> (Esegui).</p>
      </li><li>
       <p>Per <b>Execute change set</b> (Esegui set di modifiche), seleziona l'opzione <b>Preserve successfully provisioned resources</b> (Mantieni risorse con provisioning effettuato correttamente).</p>
      </li><li>
       <p>Seleziona <b>Execute change set</b> (Esegui set di modifiche).</p>
      </li></ol></div>
     <p><em>Risultati</em>: le risorse che non sono riuscite ad aggiornare la transizione dello stato dello stack in <code class="code">UPDATE_FAILED</code> ed eseguire il rollback all'ultimo stato stabile noto. Le risorse senza un ultimo stato stabile noto verranno eliminate da CloudFormation all'operazione di stack successiva. Le risorse di cui √® stato eseguito il provisioning presentano lo stato <code class="code">CREATE_COMPLETE</code> o <code class="code">UPDATE_COMPLETE</code>. Puoi monitorare lo stack nella scheda <b>Stack events</b> (Eventi stack).</p>
    </dd>
  </dl></awsdocs-tabs>
  
  <h2 id="stack-failure-options-cli">Mantieni risorse con provisioning effettuato correttamente (AWS CLI)</h2>
  <awsdocs-tabs><dl style="display: none">
   <dt>Create stack</dt><dd tab-id="create-stack">
     <div class="procedure"><h6>Per mantenere le risorse con provisioning effettuato correttamente durante un'operazione di creazione dello stack</h6><p>Specifica l'opzione <code class="code">disable-rollback</code> o l'enumerazione <code class="code">on-failure DO_NOTHING</code> durante un'operazione <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/create-stack.html">create-stack</a>.</p><ol><li>
       <p>Fornisci un nome e un modello di stack per il comando <code class="code">create-stack</code> con l'opzione <code class="code">disable-rollback</code>.</p>
       <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">aws cloudformation create-stack --stack-name <code class="code" copy="true">myteststack</code> --template-body <code class="replaceable">file://DOC-EXAMPLE-BUCKET.json</code> --disable-rollback</code></pre>
       <p>Questo comando restituisce il seguente output.</p>
       <pre class="screen"><span>{</span>
¬† ¬† "StackId": "arn:aws:cloudformation:us-east-1:123456789012:stack/myteststack/466df9e0-0dff-08e3-8e2f-5088487c4896"
}</pre>
      </li><li>
       <p>Descrivi lo stato dello stack utilizzando l'opzione <code class="code">describe-stacks</code>.</p>
       <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">aws cloudformation describe-stacks --stack-name <code class="replaceable">myteststack</code></code></pre>
       <p>Questo comando restituisce il seguente output.</p>
       <pre class="screen"><span>{</span>
¬† ¬† "Stacks": ¬†[
¬† ¬† ¬† ¬† <span>{</span>
¬† ¬† ¬† ¬† ¬† ¬† "StackId": "arn:aws:cloudformation:us-east-1:123456789012:stack/myteststack/466df9e0-0dff-08e3-8e2f-5088487c4896",
¬† ¬† ¬† ¬† ¬† ¬† "Description": "AWS CloudFormation Sample Template",
¬† ¬† ¬† ¬† ¬† ¬† "Tags": [],
¬† ¬† ¬† ¬† ¬† ¬† "Outputs": [],
¬† ¬† ¬† ¬† ¬† ¬† "StackStatusReason": ‚ÄúThe following resource(s) failed to create: [MyBucket]‚Äù,
¬† ¬† ¬† ¬† ¬† ¬† "CreationTime": "2013-08-23T01:02:15.422Z",
¬† ¬† ¬† ¬† ¬† ¬† "Capabilities": [],
¬† ¬† ¬† ¬† ¬† ¬† "StackName": "myteststack",
¬† ¬† ¬† ¬† ¬† ¬† "StackStatus": "CREATE_FAILED",
¬† ¬† ¬† ¬† ¬† ¬† "DisableRollback": true
¬† ¬† ¬† ¬† }
¬† ¬† ]
}</pre>
      </li></ol></div>
    </dd>
   <dt>Update stack</dt><dd tab-id="update-stack">
     <div class="procedure"><h6>Per mantenere le risorse con provisioning effettuato correttamente durante un'operazione di aggiornamento dello stack.</h6><ol><li>
       <p>Fornisci un nome e un modello di stack esistenti per il comando <code class="code">update-stack</code> con l'opzione <code class="code">disable-rollback</code>.</p>
       <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">aws cloudformation update-stack --stack-name <code class="replaceable">myteststack</code> --template-url <code class="replaceable">DOC-EXAMPLE-BUCKET.template</code> --disable-rollback</code></pre>
       <p>Questo comando restituisce il seguente output.</p>
       <pre class="screen"><span>{</span>
¬† ¬† "StackId": "arn:aws:cloudformation:us-east-1:123456789012:stack/myteststack/466df9e0-0dff-08e3-8e2f-5088487c4896"
}</pre>
      </li><li>
       <p>Descrivi lo stato dello stack utilizzando l'opzione <code class="code">describe-stacks</code> o <code class="code">describe-stack-events</code>.</p>
       <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">aws cloudformation describe-stacks --stack-name <code class="replaceable">myteststack</code></code></pre>
       <p>Questo comando restituisce il seguente output.</p>
       <pre class="screen"><span>{</span>
    "Stacks": ¬†[
¬† ¬† ¬† ¬† <span>{</span>
¬† ¬† ¬† ¬† ¬† ¬† "StackId": "arn:aws:cloudformation:us-east-1:123456789012:stack/myteststack/466df9e0-0dff-08e3-8e2f-5088487c4896",
¬† ¬† ¬† ¬† ¬† ¬† "Description": "AWS CloudFormation Sample Template",
¬† ¬† ¬† ¬† ¬† ¬† "Tags": [],
¬† ¬† ¬† ¬† ¬† ¬† "Outputs": [],
¬† ¬† ¬† ¬† ¬† ¬† "CreationTime": "2013-08-23T01:02:15.422Z",
¬† ¬† ¬† ¬† ¬† ¬† "Capabilities": [],
¬† ¬† ¬† ¬† ¬† ¬† "StackName": "myteststack",
¬† ¬† ¬† ¬† ¬† ¬† "StackStatus": "UPDATE_COMPLETE",
¬† ¬† ¬† ¬† ¬† ¬† "DisableRollback": true
¬† ¬† ¬† ¬† }
¬† ¬† ]
}</pre>
      </li></ol></div>
    </dd>
   <dt>Change set</dt><dd tab-id="change-set">
     <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>Puoi avviare un set di modifiche per uno stack con stato <code class="code">CREATE_FAILED</code> o <code class="code">UPDATE_FAILED</code>, ma non per uno stato <code class="code">UPDATE_ROLLBACK_FAILED</code>.</p></div></div>
     <div class="procedure"><h6>Per mantenere le risorse con provisioning effettuato correttamente durante un'operazione di modifica del set</h6><p>Specifica l'opzione <code class="code">disable-rollback</code> durante un'operazione <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/execute-change-set.html">execute-change-set</a>.</p><ol><li>
       <p>Fornisci un nome e un modello di stack per il comando <code class="code">execute-change-set</code> con l'opzione <code class="code">disable-rollback</code>.</p>
       <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">aws cloudformation execute-change-set --stack-name <code class="replaceable">myteststack</code> --change-set-name <code class="replaceable">my-change-set</code> --template-body file://template.yaml</code></pre>
       <p>Questo comando restituisce il seguente output.</p>
       <pre class="screen"><span>{</span>
¬†"Id": "arn:aws:cloudformation:us-east-1:123456789012:changeSet/my-change-set/bc9555ba-a949-xmpl-bfb8-f41d04ec5784",
¬†"StackId": "arn:aws:cloudformation:us-east-1:123456789012:stack/myteststack/466df9e0-0dff-08e3-8e2f-5088487c4896"
}</pre>
      </li><li>
       <p>Avvia il set di modifiche con l'opzione <code class="code">disable-rollback</code>.</p>
       <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">aws cloudformation execute-change-set --stack-name <code class="replaceable">myteststack</code> --change-set-name <code class="replaceable">my-change-set</code> -‚Äìdisable-rollback</code></pre>
      </li><li>
       <p>Determina lo stato dello stack utilizzando l'opzione <code class="code">describe-stacks</code> o <code class="code">describe-stack-events</code>.</p>
       <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "StackEvents": [
     <span>{</span>
        "StackId": "arn:aws:cloudformation:us-east-1:123456789012:stack/myteststack/466df9e0-0dff-08e3-8e2f-5088487c4896",
        "EventId": "49c966a0-7b74-11ea-8071-024244bb0672",
        "StackName": "myteststack",
        "LogicalResourceId": " MyBucket",
        "PhysicalResourceId": "MyBucket",
        "ResourceType": "AWS::S3::Bucket",
        "Timestamp": "2020-04-10T21:43:17.015Z",
        "ResourceStatus": "UPDATE_FAILED"
        "ResourceStatusReason": "User XYZ is not allowed to perform S3::UpdateBucket on MyBucket"
     }
}</code></pre>
      </li><li>
       <p>Correggi gli errori di autorizzazione e riprova l'operazione.</p>
       <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">aws cloudformation update-stack --stack-name <code class="replaceable">myteststack</code> --use-previous-template --disable-rollback</code></pre>
       <p>Questo comando restituisce il seguente output.</p>
       <pre class="screen"><span>{</span>
¬† ¬† "StackId": "arn:aws:cloudformation:us-east-1:123456789012:stack/myteststack/466df9e0-0dff-08e3-8e2f-5088487c4896"
}</pre>
      </li><li>
       <p>Descrivi lo stato dello stack utilizzando l'opzione <code class="code">describe-stacks</code> o <code class="code">describe-stack-events</code>.</p>
       <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">aws cloudformation describe-stacks --stack-name <code class="replaceable">myteststack</code></code></pre>
       <p>Questo comando restituisce il seguente output.</p>
       <pre class="screen"><span>{</span>
¬† ¬† "Stacks": ¬†[
¬† ¬† ¬† ¬† <span>{</span>
¬† ¬† ¬† ¬† ¬† ¬† "StackId": "arn:aws:cloudformation:us-east-1:123456789012:stack/myteststack/466df9e0-0dff-08e3-8e2f-5088487c4896",
¬† ¬† ¬† ¬† ¬† ¬† "Description": "AWS CloudFormation Sample Template",
¬† ¬† ¬† ¬† ¬† ¬† "Tags": [],
¬† ¬† ¬† ¬† ¬† ¬† "Outputs": [],
¬† ¬† ¬† ¬† ¬† ¬† "CreationTime": "2013-08-23T01:02:15.422Z",
¬† ¬† ¬† ¬† ¬† ¬† "Capabilities": [],
¬† ¬† ¬† ¬† ¬† ¬† "StackName": "myteststack",
¬† ¬† ¬† ¬† ¬† ¬† "StackStatus": "UPDATE_COMPLETE",
¬† ¬† ¬† ¬† ¬† ¬† "DisableRollback": true
¬† ¬† ¬† ¬† }
¬† ¬† ]
}</pre>
      </li></ol></div>
    </dd>
  </dl></awsdocs-tabs>
  
   
   <h3 id="roll-back-stack-cli">Rollback dello stack</h3>
   
   <div class="procedure"><h6>Per eseguire il rollback di uno stack dallo stato CREATE_FAILED o UPDATE_FAILED</h6><p>Specifica l'operazione <code class="code">rollback-stack</code> per eseguire il rollback di uno stack al suo ultimo stato stabile.</p><ul><li>
     <p>Avvia un rollback con l'operazione <code class="code">rollback-stack</code> e specifica il nome dello stack.</p>
     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">aws cloudformation rollback-stack --stack-name <code class="replaceable">myteststack</code></code></pre>
     <p>Questo comando restituisce il seguente output.</p>
     <pre class="screen"><span>{</span>
    "StackId": "arn:aws:cloudformation:us-east-1:123456789012:stack/myteststack/466df9e0-0dff-08e3-8e2f-5088487c4896"
}</pre>
    </li></ul></div>
   <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>L'operazione <code class="code">rollback-stack</code> eliminer√† uno stack se non contiene un ultimo stato stabile noto.</p></div></div>
   
  
 <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avvertimento" /> <strong>JavaScript √® disabilitato o non √® disponibile nel tuo browser.</strong></p><p>Per usare la documentazione AWS, JavaScript deve essere abilitato. Consulta le pagine della guida del browser per le istruzioni.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenzioni dei documenti</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./stack-resource-configuration-complete.html">distribuzione dello stack</div><div id="next" class="next-link" accesskey="n" href="./refactor-stacks.html">Spostamento di risorse tra stack</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Questa pagina ti √® stata utile? - S√¨</div><div class="content"><p>Grazie per averci comunicato che stiamo facendo un buon lavoro!</p><p>Se hai un momento, ti invitiamo a dirci che cosa abbiamo fatto che ti √® piaciuto cos√¨ possiamo offrirti altri contenuti simili.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/stack-failure-options.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Questa pagina ti √® stata utile? - No</div><div class="content"><p>Grazie per averci comunicato che questa pagina ha bisogno di essere modificata. Siamo spiacenti di non aver soddisfatto le tue esigenze.</p><p>Se hai un momento, ti invitiamo a dirci come possiamo migliorare la documentazione.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/stack-failure-options.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>