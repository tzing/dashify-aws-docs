<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="it-IT"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Risoluzione dei problemi CloudFormation - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="troubleshooting" /><meta name="default_state" content="troubleshooting" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/troubleshooting.html" /><meta name="description" content="Risolvi i problemi che potrebbero verificarsi durante la creazione, l'aggiornamento o l'eliminazione di uno stack AWS CloudFormation ." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Guida per l'utente" /><meta name="abstract" content="Crea e gestisci le implementazioni AWS dell'infrastruttura in modo prevedibile e ripetuto utilizzando questa guida per AWS CloudFormation l'utente." /><meta name="guide-locale" content="it_it" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/troubleshooting.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Guida per l'utente" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Guida per l'utente" /><meta id="panorama-serviceConsolePage" value="Risoluzione dei problemi CloudFormation" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Risoluzione dei problemi CloudFormation - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/troubleshooting.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/troubleshooting.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/troubleshooting.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,provisioning delle risorse,configurazione delle risorse,gestione dell'infrastruttura,CloudFormer,CloudFormation pila,CloudFormation modello,set di modifiche" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guida per l'utente",
        "item" : "https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Risoluzione dei problemi CloudFormation",
        "item" : "https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/troubleshooting.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentazione</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Guida per l'utente</a></div><div id="page-toc-src"><a href="#basic-ts-guide">Guida alla risoluzione dei problemi</a><a href="#troubleshooting-errors">Risoluzione degli errori</a><a href="#contacting-support">Contattare il supporto</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Le traduzioni sono generate tramite traduzione automatica. In caso di conflitto tra il contenuto di una traduzione e la versione originale in Inglese, quest'ultima prevarrà.</p></awsui-alert><h1 class="topictitle" id="troubleshooting">Risoluzione dei problemi  CloudFormation</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Quando lo utilizzi AWS CloudFormation, potresti riscontrare problemi durante la creazione, l'aggiornamento o l'eliminazione  CloudFormation degli stack. Le sezioni seguenti sono utili per risolvere alcuni dei problemi più comuni che possono verificarsi.</p><p>Per domande generali sull'argomento CloudFormation, consulta le domande <a href="https://aws.amazon.com/cloudformation/faqs/" rel="noopener noreferrer" target="_blank"><span>AWS CloudFormation frequenti</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. Puoi anche cercare risposte e pubblicare domande nei <a href="https://forums.aws.amazon.com/forum.jspa?forumID=92" rel="noopener noreferrer" target="_blank"><span>forum diAWS CloudFormation</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p><div class="highlights" id="inline-topiclist"><h6>Argomenti</h6><ul><li><a href="#basic-ts-guide">Guida alla risoluzione dei problemi</a></li><li><a href="#troubleshooting-errors">Risoluzione degli errori</a></li><li><a href="#contacting-support">Contattare il supporto</a></li></ul></div>
        <h2 id="basic-ts-guide">Guida alla risoluzione dei problemi</h2>

        <p>Se AWS CloudFormation non riesci a creare, aggiornare o eliminare lo stack, puoi visualizzare i messaggi di errore o i log per aiutarti a saperne di più sul problema. Le seguenti attività descrivono i metodi generali per la risoluzione di un  CloudFormation  problema. Per informazioni su errori e soluzioni specifici, consulta la sezione <a href="#troubleshooting-errors">Risoluzione degli errori</a>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>Utilizza la <a href="https://console.aws.amazon.com/cloudformation/" rel="noopener noreferrer" target="_blank"><span>console di CloudFormation</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> per visualizzare lo stato dei tuoi stack. Nella console, puoi visualizzare un elenco degli eventi di stack, mentre lo stack viene creato, aggiornato o eliminato. In questo elenco, trova l'evento relativo al problema e quindi visualizzane il motivo dello stato. Il motivo dello stato potrebbe contenere un messaggio di errore da AWS CloudFormation o proveniente da un particolare servizio che può aiutarti a risolvere il problema. Per ulteriori informazioni sulla visualizzazione degli eventi dello stack, consulta <a href="./cfn-console-view-stack-data-resources.html">Visualizzazione dei dati e delle risorse AWS CloudFormation dello stack su AWS Management Console</a>.</p>
            </li><li class="listitem">
                <p>Per i problemi relativi a Amazon EC2, visualizza i log cloud-init e cfn. Questi log sono pubblicati nell'istanza Amazon EC2, nella directory <code>/var/log/</code>. Questi registri acquisiscono i processi e gli output dei comandi durante la AWS CloudFormation configurazione dell'istanza. Per Windows, visualizza il servizio EC2Configure in <code>%ProgramFiles%\Amazon\EC2ConfigService</code>, EC2 Launch in <code>%ProgramData%\Amazon\EC2-Windows\Launch\Logs</code>, EC2 Launch v2 in <code>%ProgramData%\Amazon\EC2Launch\log</code> e log cfn in <code>C:\cfn\log</code>.</p>
                <p>Puoi anche configurare il AWS CloudFormation modello in modo che i log vengano pubblicati su Amazon CloudWatch, che visualizza i log in AWS Management Console modo da non doverti connettere alla tua istanza Amazon EC2. Per ulteriori informazioni, consulta <a href="https://aws.amazon.com/blogs/devops/view-cloudformation-logs-in-the-console/" rel="noopener noreferrer" target="_blank"><span>Visualizza  CloudFormation  i log nella console nel blog sulla gestione</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> delle applicazioni.</p>
            </li></ul></div>
     
        <h2 id="troubleshooting-errors">Risoluzione degli errori</h2>

        <p>Quando riscontri i seguenti errori AWS CloudFormation nello stack, puoi utilizzare le seguenti soluzioni per aiutarti a trovare l'origine dei problemi e risolverli.</p>
        <div class="highlights" id="inline-topiclist"><h6>Argomenti</h6><ul><li><a href="#troubleshooting-errors-delete-stack-fails">Impossibile eliminare lo stack</a></li><li><a href="#troubleshooting-errors-dependency-error">Errore di dipendenza</a></li><li><a href="#troubleshooting-errors-error-parsing-parameter-when-passing-a-list">Errore del parametro di analisi durante il passaggio di un elenco</a></li><li><a href="#troubleshooting-errors-insufficient-iam-permissions">Autorizzazioni IAM insufficienti</a></li><li><a href="#troubleshooting-errors-invalid-value-or-unsupported-resource-property">Valore non valido o proprietà della risorsa non supportata</a></li><li><a href="#troubleshooting-errors-limit-exceeded">Quota superata</a></li><li><a href="#troubleshooting-errors-nested-stacks-are-stuck">Stack nidificati bloccati in UPDATE_COMPLETE_CLEANUP_IN_PROGRESS, UPDATE_ROLLBACK_COMPLETE_CLEANUP_IN_PROGRESS o UPDATE_ROLLBACK_IN_PROGRESS</a></li><li><a href="#troubleshooting-errors-no-updates-to-perform">Nessun aggiornamento da eseguire</a></li><li><a href="#troubleshooting-resource-did-not-stabilize">Impossibile stabilizzare una risorsa durante un'operazione di creazione, aggiornamento o eliminazione dello stack</a></li><li><a href="#troubleshooting-errors-security-group-does-not-exist-in-vpc">Gruppo di sicurezza non esistente in VPC</a></li><li><a href="#troubleshooting-errors-update-rollback-failed">Impossibile eseguire il rollback dell'aggiornamento</a></li><li><a href="#troubleshooting-errors-wait-condition-didnt-receive-the-required-number-of-signals">Condizione di attesa con numero richiesto di segnali non ricevuto da un'istanza Amazon EC2</a></li><li><a href="#troubleshooting-errors-resource-removed-not-deleted">Risorsa rimossa dallo stack ma non eliminata.</a></li></ul></div>
         
            <h3 id="troubleshooting-errors-delete-stack-fails">Impossibile eliminare lo stack</h3>

            <p>Per risolvere questa situazione, prova quanto segue:</p>
            <div class="itemizedlist">
                 
                 
                 
                 
                     
            <ul class="itemizedlist"><li class="listitem">
                    <p>Alcune risorse devono essere vuote prima di poter essere eliminate. Ad esempio, devi eliminare tutti gli oggetti in un bucket Amazon S3 o rimuovere tutte le istanze in un gruppo di sicurezza Amazon EC2 prima di poter eliminare il bucket o il gruppo di sicurezza.</p>
                </li><li class="listitem">
                    <p>Verifica di disporre delle necessarie autorizzazioni IAM per eliminare le risorse nello stack. Oltre alle AWS CloudFormation autorizzazioni, devi avere il permesso di utilizzare i servizi sottostanti, come Amazon S3 o Amazon EC2.</p>
                </li><li class="listitem">
                    <p>Se lo stato degli stack è impostato perché AWS CloudFormation
non è <code class="code">DELETE_FAILED</code> stato possibile eliminare una risorsa, esegui nuovamente l'eliminazione con il <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_DeleteStack.html"><code class="code">RetainResources</code></a>parametro e specifica la risorsa che non può essere eliminata. AWS CloudFormation  AWS CloudFormation elimina lo stack senza eliminare la risorsa conservata. La conservazione delle risorse è utile quando non puoi eliminare una risorsa, ad esempio un bucket S3 che contiene oggetti da conservare, ma vuoi comunque eliminare lo stack.</p>
                    <p>Dopo aver eliminato lo stack, è possibile eliminare manualmente le risorse conservate utilizzando il servizio associato. AWS </p>
                </li><li class="listitem">
                    <p>Non è possibile eliminare stack per cui è abilitata la protezione da cessazione. Se tenti di eliminare uno stack con protezione da cessazione abilitata, l'eliminazione ha esito negativo e lo stack, incluso lo stato, rimane invariato. Disabilita la protezione da cessazione sullo stack, quindi esegui nuovamente l'operazione di eliminazione.</p>
                    <p>Questo vale anche per gli <a href="./using-cfn-nested-stacks.html">stack nidificati</a> i cui stack radice abbiano abilitata la protezione da cessazione. Disattiva la protezione da cessazione sullo stack radice, quindi esegui nuovamente l'operazione di eliminazione. È consigliabile non eliminare gli stack nidificati direttamente, ma solo nell'ambito dell'eliminazione dello stack radice e di tutte le relative risorse.</p>
                    <p>Per ulteriori informazioni, consulta <a href="./using-cfn-protect-stacks.html">Protezione di uno stack dall'eliminazione</a>.</p>
                </li><li class="listitem">
                        <p>Per tutti gli altri problemi, se ne hai AWS Support, puoi creare un AWS Support caso. Per informazioni, consulta <a href="#contacting-support">Contattare il supporto</a>.</p>
                </li></ul></div>
         
         
            <h3 id="troubleshooting-errors-dependency-error">Errore di dipendenza</h3>

            <p>Per risolvere un errore di dipendenza, aggiungi un attributo <code class="code">DependsOn</code> alle risorse che dipendono da altre risorse nel modello. In alcuni casi, è necessario dichiarare esplicitamente le dipendenze in modo da AWS CloudFormation poter creare o eliminare risorse nell'ordine corretto. Ad esempio, se crei un IP elastico e un VPC con un gateway Internet nello stesso stack, l'IP elastico deve dipendere dal collegamento del gateway Internet. Per ulteriori informazioni, consulta <a href="./aws-attribute-dependson.html">Attributo DependsOn</a>.</p>
         
         
            <h3 id="troubleshooting-errors-error-parsing-parameter-when-passing-a-list">Errore del parametro di analisi durante il passaggio di un elenco</h3>

            <p>Quando usate AWS Command Line Interface o AWS CloudFormation per passare una lista, aggiungete il carattere escape (<code class="code">\</code>) prima di ogni virgola. L'esempio seguente mostra come specificare un parametro di input nella AWS CLI.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="text ">ParameterKey=CIDR,ParameterValue='10.10.0.0/16\,10.10.0.0/24\,10.10.1.0/24'</code></pre>
         
         
            <h3 id="troubleshooting-errors-insufficient-iam-permissions">Autorizzazioni IAM insufficienti</h3>

            <p>Quando lavori con uno AWS CloudFormation stack, non solo hai bisogno delle autorizzazioni per utilizzarlo AWS CloudFormation, ma devi anche avere l'autorizzazione per utilizzare i servizi sottostanti descritti nel tuo modello. Ad esempio, se crei un bucket Amazon S3 o avvii un'istanza Amazon EC2, sono necessarie le autorizzazioni per Amazon S3 o Amazon EC2. Esamina la tua policy IAM e verifica di disporre delle autorizzazioni necessarie prima di lavorare con gli stack. AWS CloudFormation Per ulteriori informazioni, consulta <a href="./using-iam-template.html">Controllo dell'accesso con AWS Identity and Access Management</a>.</p>
         
         
            <h3 id="troubleshooting-errors-invalid-value-or-unsupported-resource-property">Valore non valido o proprietà della risorsa non supportata</h3>

            <p>Quando crei o aggiorni uno AWS CloudFormation stack, lo stack può fallire a causa di parametri di input non validi, nomi di proprietà delle risorse non supportati o valori di proprietà delle risorse non supportati. Per i parametri di input, verifica che la risorsa esista. Ad esempio, se specifichi una coppia di chiavi Amazon EC2 o un ID VPC, la risorsa deve esistere nel tuo account e nella Regione in cui stai creando o aggiornando lo stack. Per assicurarti di utilizzare valori validi, puoi scegliere <a href="./parameters-section-structure.html#parameters-section-structure-syntax">tipi di parametri</a> specifici di AWS.</p>
            <p>Per i nomi e i valori di proprietà delle risorse, aggiorna il modello per l'utilizzo di nomi e valori validi. Per un elenco di tutte le risorse e dei relativi nomi di proprietà, consulta <a href="./aws-template-resource-type-ref.html">AWS riferimento ai tipi di risorse e proprietà</a>.</p>
         
         
            <h3 id="troubleshooting-errors-limit-exceeded">Quota superata</h3>

            <p>Verifica di non aver raggiunto la quota per una risorsa. Ad esempio, il numero massimo predefinito di istanze on demand Amazon EC2 che è possibile avviare è 5. Se tenti di creare più istanze on demand Amazon EC2 di quante ne siano consentite dal tuo account, la creazione dell'istanza ha esito negativo e ricevi l'errore <code class="code">Status=start_failed</code>. Per visualizzare le quote AWS
predefinite per servizio, consulta <a href="https://docs.aws.amazon.com/general/latest/gr/aws_service_limits.html">Quote di servizio diAWS</a> in <em>Riferimenti generali di AWS</em>.</p>
            <p>Per le AWS CloudFormation quote e le strategie di modifica, consulta. <a href="./cloudformation-limits.html">AWS CloudFormation quote</a></p>
            <p>Inoltre, durante un aggiornamento, se una risorsa viene sostituita, AWS CloudFormation crea una nuova risorsa prima di eliminare quella precedente. Questa sostituzione potrebbe causare lo sconfinamento dell'account rispetto alle quote delle risorse, con conseguente errore nell'aggiornamento. Puoi eliminare le risorse in eccesso o richiedere un <a href="https://docs.aws.amazon.com/general/latest/gr/aws_service_limits.html">aumento delle quote</a>.</p>
         
         
            <h3 id="troubleshooting-errors-nested-stacks-are-stuck">Stack nidificati bloccati in <code class="code">UPDATE_COMPLETE_CLEANUP_IN_PROGRESS</code>, <code class="code">UPDATE_ROLLBACK_COMPLETE_CLEANUP_IN_PROGRESS</code> o <code class="code">UPDATE_ROLLBACK_IN_PROGRESS</code></h3>

            <p>Uno stack nidificato non è stato in grado di eseguire il rollback. A causa delle potenziali dipendenze tra le risorse degli stack nidificati, AWS CloudFormation non inizia a ripulire le risorse dello stack nidificato finché tutti gli stack nidificati non sono stati aggiornati o non sono stati ripristinati. Quando uno stack nidificato non riesce a eseguire il rollback, AWS CloudFormation annulla tutte le operazioni, indipendentemente dallo stato in cui si trovano gli altri stack nidificati. Uno stack nidificato che ha completato l'aggiornamento o il rollback ma non ha ricevuto alcun segnale di avvio della pulizia perché un altro nidificato non è riuscito a ripristinarlo si trova in uno stato or. AWS CloudFormation <code class="code">UPDATE_COMPLETE_CLEANUP_IN_PROGRESS</code> <code class="code">UPDATE_ROLLBACK_COMPLETE_CLEANUP_IN_PROGRESS</code> Uno stack nidificato che non ha potuto completare l'aggiornamento, ma che non ha ricevuto un segnale per avviare il rollback, si trova in uno stato <code class="code">UPDATE_ROLLBACK_IN_PROGRESS</code>.</p>
            <p>Il rollback di uno stack nidificato potrebbe non riuscire a causa di modifiche apportate all'esterno di AWS CloudFormation, quando il modello dello stack non riflette accuratamente lo stato dello stack. Uno stack nidificato può non riuscire anche se un gruppo con dimensionamento automatico in uno stack nidificato aveva un periodo di timeout del segnale per le risorse insufficiente quando il gruppo è stato creato o aggiornato.</p>
            <p>Per risolvere il problema con lo stack, contatta <a href="#contacting-support">AWS Support</a>.</p>
         
         
            <h3 id="troubleshooting-errors-no-updates-to-perform">Nessun aggiornamento da eseguire</h3>

            <p>Per aggiornare uno AWS CloudFormation stack, è necessario inviare le modifiche ai valori del modello o dei parametri a. AWS CloudFormationTuttavia, AWS CloudFormation non riconoscerà alcune modifiche al modello come aggiornamento, ad esempio le modifiche a una politica di eliminazione, una politica di aggiornamento, una dichiarazione di condizione o una dichiarazione di output. Se devi effettuare tali modifiche senza toccare altro, puoi aggiungere o modificare un attributo di <a href="./aws-attribute-metadata.html">metadati</a> per qualsiasi risorsa.</p>
            <p>Per ulteriori informazioni sulla modifica dei modelli durante un aggiornamento, consulta <a href="./using-cfn-updating-stacks-get-template.html">Modifica di un modello di stack</a>.</p>
         
         
            <h3 id="troubleshooting-resource-did-not-stabilize">Impossibile stabilizzare una risorsa durante un'operazione di creazione, aggiornamento o eliminazione dello stack</h3>


            <p>Una risorsa non ha risposto perché l'operazione ha superato il periodo di AWS CloudFormation timeout o un AWS servizio è stato interrotto. In caso di interruzioni del servizio, <a href="https://status.aws.amazon.com/" rel="noopener noreferrer" target="_blank"><span>verifica</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> che il AWS servizio in questione sia in esecuzione, quindi riprova a eseguire l'operazione stack.</p>
            <p>Se i AWS servizi sono stati eseguiti correttamente, controlla se lo stack contiene una delle seguenti risorse:</p>
            <div class="itemizedlist">
                 
                 
                 
                 
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">AWS::AutoScaling::AutoScalingGroup</code> per operazioni di creazione, aggiornamento ed eliminazione</p>
                </li><li class="listitem">
                    <p><code class="code">AWS::CertificateManager::Certificate</code> per operazioni di creazione</p>
                </li><li class="listitem">
                    <p><code class="code">AWS::CloudFormation::Stack</code> per operazioni di creazione, aggiornamento ed eliminazione</p>
                </li><li class="listitem">
                    <p><code class="code">AWS::ElasticSearch::Domain</code> per operazioni di aggiornamento</p>
                </li><li class="listitem">
                    <p><code class="code">AWS::RDS::DBCluster</code> per operazioni di creazione e aggiornamento</p>
                </li><li class="listitem">
                    <p><code class="code">AWS::RDS::DBInstance</code> per operazioni di creazione, aggiornamento ed eliminazione</p>
                </li><li class="listitem">
                    <p><code class="code">AWS::Redshift::Cluster</code> per operazioni di aggiornamento</p>
                </li></ul></div>

            <p>Le operazioni per queste risorse potrebbero richiedere più tempo del periodo di timeout predefinito. Il periodo di timeout dipende dalla risorsa e dalle credenziali utilizzate. Per estendere il periodo di timeout, specifica un <a href="./using-iam-servicerole.html">ruolo di servizio</a> quando esegui l'operazione sullo stack. Se utilizzi già un ruolo di servizio, oppure se il tuo stack contiene una risorsa non in elenco, contatta <a href="#contacting-support">AWS Support</a>.</p>
            <p>Se il tuo stack è nello stato <code class="code">UPDATE_ROLLBACK_FAILED</code>, consulta <a href="#troubleshooting-errors-update-rollback-failed">Impossibile eseguire il rollback dell'aggiornamento</a>.</p>

         
         
            <h3 id="troubleshooting-errors-security-group-does-not-exist-in-vpc">Gruppo di sicurezza non esistente in VPC</h3>

            <p>Verifica che il gruppo di sicurezza esista nel VPC specificato. Se il gruppo di sicurezza esiste, assicurati di specificarne l'ID e non il nome. Ad esempio, la risorsa <code class="code">AWS::EC2::SecurityGroupIngress</code> ha le proprietà <code class="code">SourceSecurityGroupName</code> e <code class="code">SourceSecurityGroupId</code>. Per i gruppi di sicurezza VPC, devi utilizzare la proprietà <code class="code">SourceSecurityGroupId</code> e specificare l'ID del gruppo di sicurezza.</p>
         
         
            <h3 id="troubleshooting-errors-update-rollback-failed">Impossibile eseguire il rollback dell'aggiornamento</h3>

            <p>Una risorsa dipendente non può tornare al suo stato originale, provocando il mancato completamento del rollback (stato <code class="code">UPDATE_ROLLBACK_FAILED</code>). Ad esempio, è possibile che uno stack stia eseguendo il rollback a una vecchia istanza database che è stata eliminata al di fuori di AWS CloudFormation. Poiché AWS CloudFormation non sa che il database è stato eliminato, presume che l'istanza del database esista ancora e tenta di ripristinarla, causando il fallimento del rollback dell'aggiornamento.</p>
            <p>A seconda del problema, è possibile correggere manualmente gli errori e continuare il rollback. Per continuare il rollback, puoi riportare lo stack allo stato di funzionamento <code class="code">UPDATE_ROLLBACK_COMPLETE</code> e quindi provare nuovamente ad aggiornare lo stack. L'elenco seguente descrive le soluzioni a problemi comuni che provocano errori nel rollback dell'aggiornamento:</p>
            <div class="itemizedlist">
                 
                 
                 
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <div class="variablelist">
                         
                    <dl>
                            <dt><span class="term">Impossibile ricevere il numero richiesto di segnali</span></dt>
                            <dd>
                                <p>Utilizza il comando <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/signal-resource.html">signal-resource</a> per inviare manualmente il numero richiesto di segnali di riuscita alla risorsa in attesa, quindi continua con il rollback dell'aggiornamento. Ad esempio, durante il rollback di un aggiornamento, le istanze in un gruppo con dimensionamento automatico potrebbe non riuscire a segnalare la riuscita entro il timeout specificato. Invia manualmente i segnali di successo al gruppo con dimensionamento automatico. Quando continui il rollback dell'aggiornamento, AWS CloudFormation vede i tuoi segnali e procede con il rollback.</p>
                            </dd>
                        </dl></div>
                </li><li class="listitem">
                    <div class="variablelist">
                         
                    <dl>
                            <dt><span class="term">Le modifiche a una risorsa sono state apportate al di fuori di AWS CloudFormation</span></dt>
                            <dd>
                                <p>Sincronizza manualmente le risorse in modo che corrispondano al modello originale dello stack, quindi continua con il rollback dell'aggiornamento. Ad esempio, se hai eliminato manualmente una risorsa a cui AWS CloudFormation stai tentando di eseguire il rollback, devi creare manualmente quella risorsa con lo stesso nome e le stesse proprietà che aveva nello stack originale.</p>
                            </dd>
                        </dl></div>
                </li><li class="listitem">
                    <div class="variablelist">
                         
                    <dl>
                            <dt><span class="term">Autorizzazioni insufficienti</span></dt>
                            <dd>
                                <p>Verifica di disporre delle autorizzazioni IAM sufficienti per modificare le risorse, quindi continua con il rollback dell'aggiornamento. Ad esempio, la tua policy IAM potrebbe consentirti di creare un bucket S3, ma non di modificarlo. Aggiungi le operazioni di modifica alla tua policy.</p>
                            </dd>
                        </dl></div>
                </li><li class="listitem">
                    <div class="variablelist">
                         
                    <dl>
                            <dt><span class="term">Token di sicurezza non valido</span></dt>
                            <dd>
                                <p>AWS CloudFormation richiede un nuovo set di credenziali. Non sono richieste modifiche. Continua con il rollback dell'aggiornamento per aggiornare le credenziali.</p>
                            </dd>
                        </dl></div>
                </li><li class="listitem">
                    <div class="variablelist">
                         
                    <dl>
                            <dt><span class="term">Errore relativo ai limiti</span></dt>
                            <dd>
                                <p>Elimina le risorse che non ti servono o richiedi un <a href="https://docs.aws.amazon.com/general/latest/gr/aws_service_limits.html">aumento delle quote</a>, quindi continua con il rollback dell'aggiornamento. Ad esempio, se la quota di istanze on demand EC2 per il tuo account è pari a 5 e il rollback dell'aggiornamento supera tale quota, non verrà eseguito.</p>
                            </dd>
                        </dl></div>
                </li><li class="listitem">
                    <div class="variablelist">
                         
                    <dl>
                            <dt><span class="term">La risorsa non si è stabilizzata</span></dt>
                            <dd>
                                <p>Una risorsa non ha risposto perché l'operazione potrebbe aver superato il periodo di AWS CloudFormation timeout o un AWS servizio potrebbe essere stato interrotto. Non sono richieste modifiche. Una volta completato il funzionamento delle risorse o dopo che il AWS servizio è tornato operativo, continua a ripristinare l'aggiornamento.</p>
                            </dd>
                        </dl></div>
                </li></ul></div>
            <p>Per continuare a ripristinare un aggiornamento, puoi utilizzare la AWS CloudFormation console o l'interfaccia a riga di AWS comando (AWS CLI). Per ulteriori informazioni, consulta <a href="./using-cfn-updating-stacks-continueupdaterollback.html">Rollback di un aggiornamento</a>.</p>
            <p>Se nessuna di queste soluzioni funziona, puoi saltare le risorse che non AWS CloudFormation possono essere ripristinate correttamente. Per ulteriori informazioni, consulta il <code class="code">ResourcesToSkip</code> parametro per il funzionamento dell'<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_ContinueUpdateRollback.html"><code class="code">ContinueUpdateRollback</code></a>API nell'<em>AWS CloudFormation API Reference.</em> AWS CloudFormation imposta lo stato delle risorse specificate su <code class="code">UPDATE_COMPLETE</code> e continua a ripristinare lo stack. Dopo aver completato il rollback, lo stato delle risorse saltate saranno incoerenti con lo stato delle risorse nel modello di stack. Prima di eseguire un altro aggiornamento dello stack, devi modificare le risorse o aggiornare lo stack in modo che siano coerenti. Altrimenti, i successivi aggiornamenti dello stack potrebbero fallire e rendere lo stack irrecuperabile.</p>
         
         
            <h3 id="troubleshooting-errors-wait-condition-didnt-receive-the-required-number-of-signals">Condizione di attesa con numero richiesto di segnali non ricevuto da un'istanza Amazon EC2</h3>

            <p>Per risolvere questa situazione, prova quanto segue:</p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>Assicurati che l'AMI che stai utilizzando abbia gli script di AWS CloudFormation supporto installati. Se l'AMI non include gli script helper, puoi anche scaricarli sulla tua istanza. Per ulteriori informazioni, consulta <a href="./cfn-helper-scripts-reference.html">Riferimenti agli script helper di CloudFormation</a>.</p>
                </li><li class="listitem">
                    <p>Verifica che il comando <code class="code">cfn-signal</code> sia stato eseguito sull'istanza. Per aiutarti con il debug dell'avvio dell'istanza, puoi avvalerti dei log, ad esempio <code>/var/log/cloud-init.log</code> o <code>/var/log/cfn-init.log</code>. Puoi recuperare i log accedendo alla tua istanza, ma devi <a href="./cfn-console-add-tags.html">disabilitare il rollback in caso di errore</a> oppure AWS CloudFormation elimina l'istanza dopo che lo stack non è riuscito a creare. Puoi anche <a href="https://aws.amazon.com/blogs/devops/view-cloudformation-logs-in-the-console/" rel="noopener noreferrer" target="_blank"><span>pubblicare i log</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> su Amazon CloudWatch. Per Windows, puoi visualizzare i log cfn in <code>C:\cfn\log</code> e i log del servizio EC2Config in <code>%ProgramFiles%\Amazon\EC2ConfigService</code>.</p>
                </li><li class="listitem">
                    <p>Verifica che l'istanza disponga di una connessione a Internet. Se è in un VPC, l'istanza deve essere in grado di connettersi a Internet attraverso un dispositivo NAT, se si trova in una sottorete privata, o attraverso un gateway Internet, se è in una sottorete pubblica. Per testare la connessione a Internet dell'istanza, cerca di accedere a una pagina Web pubblica, ad esempio <code class="code">http://aws.amazon.com</code>. Ad esempio, puoi eseguire il comando seguente sull'istanza. Dovrebbe restituire un codice di stato HTTP 200.</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="userinput">curl -I https://aws.amazon.com</code></code></pre>
                    <p>Per ulteriori informazioni sulla configurazione di un dispositivo NAT, consulta <a href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-nat.html">NAT</a> nella <em>Guida per l'utente di Amazon VPC</em>.</p>
                </li></ul></div>
         
         
            <h3 id="troubleshooting-errors-resource-removed-not-deleted">Risorsa rimossa dallo stack ma non eliminata.</h3>
            <p>Durante un aggiornamento dello stack,  CloudFormation  ha rimosso una risorsa da uno stack ma non ha eliminato la risorsa. La risorsa esiste ancora, ma non è più accessibile tramite  CloudFormation. Ciò può verificarsi durante gli aggiornamenti dello stack in cui:</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>CloudFormation deve sostituire una risorsa esistente, quindi crea prima una nuova risorsa, quindi tenta di eliminare la vecchia risorsa.</p>
                </li><li class="listitem">
                    <p>La risorsa è stata rimossa dal modello di stack, quindi  CloudFormation tenta di eliminarla dallo stack.</p>
                </li></ul></div>
            <p>Tuttavia, potrebbero esserci casi in cui non è  CloudFormation  possibile eliminare la risorsa. Ad esempio, se l'utente non dispone delle autorizzazioni per eliminare una risorsa di un determinato tipo.</p>
            <p>CloudFormation tenta di eliminare la vecchia risorsa tre volte. Se non  CloudFormation  riesce a eliminare la vecchia risorsa, rimuove la vecchia risorsa dallo stack e continua ad aggiornare lo stack. Quando l'aggiornamento dello stack è completo,  CloudFormation  genera un evento <code class="code">UPDATE_COMPLETE</code> stack, ma include un evento <code class="code">StatusReason</code> che indica che una o più risorse non possono essere eliminate.  CloudFormation emette anche un <code class="code">DELETE_FAILED</code> evento per la risorsa specifica, con un corrispondente che <code class="code">StatusReason</code> fornisce maggiori dettagli sul motivo per cui  CloudFormation  non è riuscita a eliminare la risorsa.</p>
            <p>Per risolvere questo problema, eliminare la risorsa direttamente utilizzando la console o l'API per il servizio sottostante.</p>
         
     
        <h2 id="contacting-support">Contattare il supporto</h2>

        <p>In caso AWS Supportaffermativo, è possibile creare una richiesta di supporto tecnico all'<a href="https://console.aws.amazon.com/support/home#/" rel="noopener noreferrer" target="_blank"><span>indirizzo https://console.aws.amazon.com/support/home#/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. Prima di contattare il supporto, raccogli queste informazioni:</p>
        <div class="itemizedlist">
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>L'ID dello stack. Puoi trovare l'ID dello stack nella scheda <b>Overview (Panoramica)</b> della <a href="https://console.aws.amazon.com/cloudformation/" rel="noopener noreferrer" target="_blank"><span>consoleAWS CloudFormation</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. Per ulteriori informazioni, consulta <a href="./cfn-console-view-stack-data-resources.html">Visualizzazione dei dati e delle risorse AWS CloudFormation dello stack su AWS Management Console</a>.</p>
                <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Importante</h6></div><div class="awsdocs-note-text"><p>Non apportare modifiche allo stack al di fuori di AWS CloudFormation. Apportare modifiche allo stack all'esterno AWS CloudFormation potrebbe mettere lo stack in uno stato irrecuperabile.</p></div></div>
            </li><li class="listitem">
                <p>Eventuali messaggi di errore dello stack. Per informazioni sulla visualizzazione dei messaggi di errore dello stack, consulta la sezione <a href="#basic-ts-guide">Guida alla risoluzione dei problemi</a>.</p>
            </li><li class="listitem">
                <p>Per i problemi relativi a Amazon EC2, raccogli i log cloud-init e cfn. Questi log sono pubblicati nell'istanza Amazon EC2, nella directory <code>/var/log/</code>. Questi log acquisiscono gli output di processi e comandi mentre l'istanza viene configurata. Per Windows, raccogli i log del servizio EC2Configure e di cfn in <code>%ProgramFiles%\Amazon\EC2ConfigService</code> e <code>C:\cfn\log</code>.</p>
            </li></ul></div>
        <p>Puoi anche cercare risposte e pubblicare domande nei <a href="https://forums.aws.amazon.com/forum.jspa?forumID=92" rel="noopener noreferrer" target="_blank"><span>forum diAWS CloudFormation</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avvertimento" /> <strong>JavaScript è disabilitato o non è disponibile nel tuo browser.</strong></p><p>Per usare la documentazione AWS, JavaScript deve essere abilitato. Consulta le pagine della guida del browser per le istruzioni.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenzioni dei documenti</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./example_cross_ApiGatewayDataTracker_section.html">Creazione di una REST API per monitorare i dati COVID-19</div><div id="next" class="next-link" accesskey="n" href="./ReleaseHistory.html">Cronologia delle versioni</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Questa pagina ti è stata utile? - Sì</div><div class="content"><p>Grazie per averci comunicato che stiamo facendo un buon lavoro!</p><p>Se hai un momento, ti invitiamo a dirci che cosa abbiamo fatto che ti è piaciuto così possiamo offrirti altri contenuti simili.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/troubleshooting.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Questa pagina ti è stata utile? - No</div><div class="content"><p>Grazie per averci comunicato che questa pagina ha bisogno di essere modificata. Siamo spiacenti di non aver soddisfatto le tue esigenze.</p><p>Se hai un momento, ti invitiamo a dirci come possiamo migliorare la documentazione.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/troubleshooting.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>