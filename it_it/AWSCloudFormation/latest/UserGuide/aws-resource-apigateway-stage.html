<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>AWS::ApiGateway::Stage - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="aws-resource-apigateway-stage" /><meta name="default_state" content="aws-resource-apigateway-stage" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-stage.html" /><meta name="description" content="Use the AWS CloudFormation AWS::ApiGateway::Stage resource for ApiGateway." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Create and manage AWS infrastructure deployments predictably and repeatedly using AWS CloudFormation with this User Guide." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json;toc-AWS_ApiGateway.json" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-stage.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-stage.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-stage.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-stage.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-stage.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-stage.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-stage.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-stage.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-stage.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-stage.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-stage.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-stage.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-stage.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-stage.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-stage.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-stage.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-stage.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-stage.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-stage.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-stage.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-stage.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-stage.html" hreflang="x-default" /><meta name="feedback-item" content="API Gateway" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="AWS::ApiGateway::Stage" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>AWS::ApiGateway::Stage - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=API%20Gateway&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-stage.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-stage.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-stage.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Amazon API Gateway resource type reference",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/AWS_ApiGateway.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "AWS::ApiGateway::Stage",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/AWS_ApiGateway.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="AWS_ApiGateway.html">User Guide</a></div><div id="page-toc-src"><a href="#aws-resource-apigateway-stage-syntax">Syntax</a><a href="#aws-resource-apigateway-stage-properties">Properties</a><a href="#aws-resource-apigateway-stage-return-values">Return values</a><a href="#aws-resource-apigateway-stage--examples">Examples</a><a href="#aws-resource-apigateway-stage--seealso">See also</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="aws-resource-apigateway-stage">AWS::ApiGateway::Stage</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>The <code class="code">AWS::ApiGateway::Stage</code> resource creates a stage for a deployment.</p><h2 id="aws-resource-apigateway-stage-syntax">Syntax</h2><p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p><div id="JSON" name="JSON" class="section langfilter"><h3 id="aws-resource-apigateway-stage-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Type" : "AWS::ApiGateway::Stage",
  "Properties" : <span>{</span>
      "<a href="#cfn-apigateway-stage-accesslogsetting">AccessLogSetting</a>" : <code class="replaceable"><a href="./aws-properties-apigateway-stage-accesslogsetting.html">AccessLogSetting</a></code>,
      "<a href="#cfn-apigateway-stage-cacheclusterenabled">CacheClusterEnabled</a>" : <code class="replaceable">Boolean</code>,
      "<a href="#cfn-apigateway-stage-cacheclustersize">CacheClusterSize</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-apigateway-stage-canarysetting">CanarySetting</a>" : <code class="replaceable"><a href="./aws-properties-apigateway-stage-canarysetting.html">CanarySetting</a></code>,
      "<a href="#cfn-apigateway-stage-clientcertificateid">ClientCertificateId</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-apigateway-stage-deploymentid">DeploymentId</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-apigateway-stage-description">Description</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-apigateway-stage-documentationversion">DocumentationVersion</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-apigateway-stage-methodsettings">MethodSettings</a>" : <code class="replaceable">[ <a href="./aws-properties-apigateway-stage-methodsetting.html">MethodSetting</a>, ... ]</code>,
      "<a href="#cfn-apigateway-stage-restapiid">RestApiId</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-apigateway-stage-stagename">StageName</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-apigateway-stage-tags">Tags</a>" : <code class="replaceable">[ <a href="./aws-properties-apigateway-stage-tag.html">Tag</a>, ... ]</code>,
      "<a href="#cfn-apigateway-stage-tracingenabled">TracingEnabled</a>" : <code class="replaceable">Boolean</code>,
      "<a href="#cfn-apigateway-stage-variables">Variables</a>" : <code class="replaceable"><span>{</span><code class="replaceable">Key</code>: <code class="replaceable">Value</code>, ...}</code>
    }
}
</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h3 id="aws-resource-apigateway-stage-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Type: AWS::ApiGateway::Stage
Properties:
  <a href="#cfn-apigateway-stage-accesslogsetting">AccessLogSetting</a>: <code class="replaceable">
    <a href="./aws-properties-apigateway-stage-accesslogsetting.html">AccessLogSetting</a></code>
  <a href="#cfn-apigateway-stage-cacheclusterenabled">CacheClusterEnabled</a>: <code class="replaceable">Boolean</code>
  <a href="#cfn-apigateway-stage-cacheclustersize">CacheClusterSize</a>: <code class="replaceable">String</code>
  <a href="#cfn-apigateway-stage-canarysetting">CanarySetting</a>: <code class="replaceable">
    <a href="./aws-properties-apigateway-stage-canarysetting.html">CanarySetting</a></code>
  <a href="#cfn-apigateway-stage-clientcertificateid">ClientCertificateId</a>: <code class="replaceable">String</code>
  <a href="#cfn-apigateway-stage-deploymentid">DeploymentId</a>: <code class="replaceable">String</code>
  <a href="#cfn-apigateway-stage-description">Description</a>: <code class="replaceable">String</code>
  <a href="#cfn-apigateway-stage-documentationversion">DocumentationVersion</a>: <code class="replaceable">String</code>
  <a href="#cfn-apigateway-stage-methodsettings">MethodSettings</a>: <code class="replaceable">
    - <a href="./aws-properties-apigateway-stage-methodsetting.html">MethodSetting</a></code>
  <a href="#cfn-apigateway-stage-restapiid">RestApiId</a>: <code class="replaceable">String</code>
  <a href="#cfn-apigateway-stage-stagename">StageName</a>: <code class="replaceable">String</code>
  <a href="#cfn-apigateway-stage-tags">Tags</a>: <code class="replaceable">
    - <a href="./aws-properties-apigateway-stage-tag.html">Tag</a></code>
  <a href="#cfn-apigateway-stage-tracingenabled">TracingEnabled</a>: <code class="replaceable">Boolean</code>
  <a href="#cfn-apigateway-stage-variables">Variables</a>: <code class="replaceable">
    <code class="replaceable">Key</code>: <code class="replaceable">Value</code></code>
</code></pre></div><h2 id="aws-resource-apigateway-stage-properties">Properties</h2><div class="variablelist"><dl><dt id="cfn-apigateway-stage-accesslogsetting"><span class="term"><code class="code">AccessLogSetting</code></span></dt><dd>
         <p>Access log settings, including the access log format and access log destination ARN.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: <a href="./aws-properties-apigateway-stage-accesslogsetting.html">AccessLogSetting</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-apigateway-stage-cacheclusterenabled"><span class="term"><code class="code">CacheClusterEnabled</code></span></dt><dd>
         <p>Specifies whether a cache cluster is enabled for the stage. To activate a method-level cache, set <code class="code">CachingEnabled</code> to <code class="code">true</code> for a method. </p>
      <p><em>Required</em>: No</p><p><em>Type</em>: Boolean</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-apigateway-stage-cacheclustersize"><span class="term"><code class="code">CacheClusterSize</code></span></dt><dd>
         <p>The stage's cache capacity in GB. For more information about choosing a cache size, see <a href="https://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-caching.html">Enabling API caching to enhance responsiveness</a>.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Allowed values</em>: <code class="code">0.5 | 1.6 | 6.1 | 13.5 | 28.4 | 58.2 | 118 | 237</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-apigateway-stage-canarysetting"><span class="term"><code class="code">CanarySetting</code></span></dt><dd>
         <p>Settings for the canary deployment in this stage.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: <a href="./aws-properties-apigateway-stage-canarysetting.html">CanarySetting</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-apigateway-stage-clientcertificateid"><span class="term"><code class="code">ClientCertificateId</code></span></dt><dd>
         <p>The identifier of a client certificate for an API stage.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-apigateway-stage-deploymentid"><span class="term"><code class="code">DeploymentId</code></span></dt><dd>
         <p>The identifier of the Deployment that the stage points to.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-apigateway-stage-description"><span class="term"><code class="code">Description</code></span></dt><dd>
         <p>The stage's description.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-apigateway-stage-documentationversion"><span class="term"><code class="code">DocumentationVersion</code></span></dt><dd>
         <p>The version of the associated API documentation.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-apigateway-stage-methodsettings"><span class="term"><code class="code">MethodSettings</code></span></dt><dd>
         <p>A map that defines the method settings for a Stage resource. Keys (designated as <code class="code">/<span>{</span>method_setting_key</code> below) are method paths defined as <code class="code"><span>{</span>resource_path}/<span>{</span>http_method}</code> for an individual method override, or <code class="code">/\*/\*</code> for overriding all methods in the stage.  </p>
      <p><em>Required</em>: No</p><p><em>Type</em>: Array of <a href="./aws-properties-apigateway-stage-methodsetting.html">MethodSetting</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-apigateway-stage-restapiid"><span class="term"><code class="code">RestApiId</code></span></dt><dd>
         <p>The string identifier of the associated RestApi.</p>
      <p><em>Required</em>: Yes</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-apigateway-stage-stagename"><span class="term"><code class="code">StageName</code></span></dt><dd>
         <p>The name of the stage is the first path segment in the Uniform Resource Identifier (URI) of a call to API Gateway. Stage names can only contain alphanumeric characters, hyphens, and underscores. Maximum length is 128 characters.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-apigateway-stage-tags"><span class="term"><code class="code">Tags</code></span></dt><dd>
         <p>The collection of tags. Each tag element is associated with a given resource.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: Array of <a href="./aws-properties-apigateway-stage-tag.html">Tag</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-apigateway-stage-tracingenabled"><span class="term"><code class="code">TracingEnabled</code></span></dt><dd>
         <p>Specifies whether active tracing with X-ray is enabled for the Stage.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: Boolean</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-apigateway-stage-variables"><span class="term"><code class="code">Variables</code></span></dt><dd>
        <p>A map (string-to-string map) that defines the stage variables, where the variable name is the key and the variable value is the value. Variable names are limited to alphanumeric characters. Values must match the following regular expression: <code class="code">[A-Za-z0-9-._~:/?#&amp;=,]+</code>.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: Object of String</p><p><em>Pattern</em>: <code class="code">[a-zA-Z0-9]+</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd></dl></div><h2 id="aws-resource-apigateway-stage-return-values">Return values</h2><h3 id="aws-resource-apigateway-stage-return-values-ref">Ref</h3><p>When you pass the logical ID of this resource to the intrinsic <code class="code">Ref</code> function, <code class="code">Ref</code> returns the name of the stage, such as <code class="code">MyTestStage</code>.</p><p>For more information about using the <code class="code">Ref</code> function, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-ref.html"><code class="code">Ref</code></a>.</p><h2 id="aws-resource-apigateway-stage--examples">Examples</h2><p></p><h3 id="aws-resource-apigateway-stage--examples--Create_stage">Create stage</h3><p>The following example creates a stage for the <code class="code">TestDeployment</code> deployment. The stage also specifies method settings for the <code class="code">MyRestApi</code> API.</p><div id="JSON" name="JSON" class="section langfilter"><h4 id="aws-resource-apigateway-stage--examples--Create_stage--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>&#xD;
    "Resources": <span>{</span>&#xD;
        "Prod": <span>{</span>&#xD;
            "Type": "AWS::ApiGateway::Stage",&#xD;
            "Properties": <span>{</span>&#xD;
                "StageName": "Prod",&#xD;
                "Description": "Prod Stage",&#xD;
                "RestApiId": <span>{</span>&#xD;
                    "Ref": "MyRestApi"&#xD;
                },&#xD;
                "DeploymentId": <span>{</span>&#xD;
                    "Ref": "TestDeployment"&#xD;
                },&#xD;
                "DocumentationVersion": <span>{</span>&#xD;
                    "Ref": "MyDocumentationVersion"&#xD;
                },&#xD;
                "ClientCertificateId": <span>{</span>&#xD;
                    "Ref": "ClientCertificate"&#xD;
                },&#xD;
                "Variables": <span>{</span>&#xD;
                    "Stack": "Prod"&#xD;
                },&#xD;
                "MethodSettings": [&#xD;
                    <span>{</span>&#xD;
                        "ResourcePath": "/",&#xD;
                        "HttpMethod": "GET",&#xD;
                        "MetricsEnabled": "true",&#xD;
                        "DataTraceEnabled": "false"&#xD;
                    },&#xD;
                    <span>{</span>&#xD;
                        "ResourcePath": "/stack",&#xD;
                        "HttpMethod": "POST",&#xD;
                        "MetricsEnabled": "true",&#xD;
                        "DataTraceEnabled": "false",&#xD;
                        "ThrottlingBurstLimit": "999"&#xD;
                    },&#xD;
                    <span>{</span>&#xD;
                        "ResourcePath": "/stack",&#xD;
                        "HttpMethod": "GET",&#xD;
                        "MetricsEnabled": "true",&#xD;
                        "DataTraceEnabled": "false",&#xD;
                        "ThrottlingBurstLimit": "555"&#xD;
                    }&#xD;
                ]&#xD;
            }&#xD;
        }&#xD;
    }&#xD;
}</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-resource-apigateway-stage--examples--Create_stage--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources:&#xD;
  Prod:&#xD;
    Type: AWS::ApiGateway::Stage&#xD;
    Properties:&#xD;
      StageName: Prod&#xD;
      Description: Prod Stage&#xD;
      RestApiId: !Ref MyRestApi&#xD;
      DeploymentId: !Ref TestDeployment&#xD;
      DocumentationVersion: !Ref MyDocumentationVersion&#xD;
      ClientCertificateId: !Ref ClientCertificate&#xD;
      Variables:&#xD;
        Stack: Prod&#xD;
      MethodSettings:&#xD;
        - ResourcePath: /&#xD;
          HttpMethod: GET&#xD;
          MetricsEnabled: 'true'&#xD;
          DataTraceEnabled: 'false'&#xD;
        - ResourcePath: /stack&#xD;
          HttpMethod: POST&#xD;
          MetricsEnabled: 'true'&#xD;
          DataTraceEnabled: 'false'&#xD;
          ThrottlingBurstLimit: '999'&#xD;
        - ResourcePath: /stack&#xD;
          HttpMethod: GET&#xD;
          MetricsEnabled: 'true'&#xD;
          DataTraceEnabled: 'false'&#xD;
          ThrottlingBurstLimit: '555'</code></pre></div><h2 id="aws-resource-apigateway-stage--seealso">See also</h2><div class="itemizedlist">
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><a href="https://docs.aws.amazon.com/apigateway/latest/api/API_CreateStage.html">stage:create</a> in the <em>Amazon API Gateway REST API Reference</em></p>
                </li></ul></div><p></p><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./aws-properties-apigateway-restapi-tag.html">Tag</div><div id="next" class="next-link" accesskey="n" href="./aws-properties-apigateway-stage-accesslogsetting.html">AccessLogSetting</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=API Gateway&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-stage.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=API Gateway&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-apigateway-stage.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>