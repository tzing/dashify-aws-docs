<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="it-IT"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Attributo DependsOn - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="aws-attribute-dependson" /><meta name="default_state" content="aws-attribute-dependson" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" /><meta name="description" content="Specificate che la creazione di una risorsa specifica dipende da un'altra risorsa CloudFormation inclusa nell'DependsOnattributo." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Guida per l'utente" /><meta name="abstract" content="Crea e gestisci le implementazioni AWS dell'infrastruttura in modo prevedibile e ripetuto utilizzando questa guida per AWS CloudFormation l'utente." /><meta name="guide-locale" content="it_it" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Guida per l'utente" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Guida per l'utente" /><meta id="panorama-serviceConsolePage" value="Attributo DependsOn" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Attributo DependsOn - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,provisioning delle risorse,configurazione delle risorse,gestione dell'infrastruttura,CloudFormer,CloudFormation pila,CloudFormation modello,set di modifiche" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guida per l'utente",
        "item" : "https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Riferimento modello",
        "item" : "https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/template-reference.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Riferimento attributo della risorsa",
        "item" : "https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-product-attribute-reference.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Attributo DependsOn",
        "item" : "https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-product-attribute-reference.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentazione</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Guida per l'utente</a></div><div id="page-toc-src"><a href="#aws-attribute-dependson-syntax">Sintassi</a><a href="#aws-attribute-dependson-example">Esempio</a><a href="#gatewayattachment">Quando un attributo DependsOn è obbligatorio</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Le traduzioni sono generate tramite traduzione automatica. In caso di conflitto tra il contenuto di una traduzione e la versione originale in Inglese, quest'ultima prevarrà.</p></awsui-alert><h1 class="topictitle" id="aws-attribute-dependson">Attributo <code class="code">DependsOn</code></h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Con l'attributo <code class="code">DependsOn</code> puoi specificare che la creazione di una risorsa specifica segua un'altra. Quando aggiungi un attributo <code class="code">DependsOn</code> a una risorsa, tale risorsa viene creata solo dopo la creazione della risorsa specificata nell'attributo <code class="code">DependsOn</code>.</p><div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Importante</h6></div><div class="awsdocs-note-text"><p>Gli stack dipendenti hanno anche dipendenze implicite sotto forma di proprietà di destinazione <code class="code">!Ref</code>, <code class="code">!GetAtt</code> e <code class="code">!Sub</code>. Ad esempio, se le proprietà di una risorsa A utilizzano <code class="code">!Ref</code> su una risorsa B, si applica la regola seguente:</p><div class="itemizedlist">
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>La risorsa B viene creata prima della risorsa A.</p>
            </li><li class="listitem">
                <p>La risorsa A viene eliminata prima della risorsa B.</p>
            </li><li class="listitem">
                <p>La risorsa B viene aggiornata prima della risorsa A.</p>
            </li></ul></div></div></div><p>Puoi utilizzare l'attributo <code class="code">DependsOn</code> con qualsiasi risorsa. Di seguito sono elencati alcuni usi tipici:</p><div class="itemizedlist">
         
         
         
    <ul class="itemizedlist"><li class="listitem">
            <p>Determina quando una condizione di attesa diventa valida. Per ulteriori informazioni, consulta <a href="./using-cfn-waitcondition.html">Creazione delle condizioni di attesa in un modello</a>.</p>
        </li><li class="listitem">
            <p>Dichiara dipendenze per le risorse che devono essere create o eliminate in un ordine specifico. Ad esempio, devi dichiarare esplicitamente le dipendenze sugli allegati gateway per alcune risorse in un VPC. Per ulteriori informazioni, consulta <a href="#gatewayattachment">Quando un attributo DependsOn è obbligatorio</a>.</p>
        </li><li class="listitem">
            <p>Sovrascrivi il parallelismo predefinito durante la creazione, l'aggiornamento o l'eliminazione di risorse. AWS CloudFormation crea, aggiorna ed elimina le risorse in parallelo il più possibile. Determina automaticamente quali risorse in un modello possono essere parallelizzate e quali hanno dipendenze che richiedono altre operazioni per finire prima. È possibile utilizzare <code class="code">DependsOn</code> per specificare in modo esplicito le dipendenze, il che sostituisce il parallelismo predefinito e impone di  CloudFormation  operare su tali risorse in un ordine specificato.</p>
        </li></ul></div><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>Durante un aggiornamento dello stack, le risorse che dipendono dalle risorse aggiornate vengono aggiornate automaticamente.  CloudFormation non apporta modifiche alle risorse aggiornate automaticamente, ma, se a tali risorse è associata una policy di stack, l'account deve disporre delle autorizzazioni per aggiornarle.</p></div></div>
        <h2 id="aws-attribute-dependson-syntax">Sintassi</h2>

        <p>L'attributo <code class="code">DependsOn</code> può richiedere una singola stringa o un elenco di stringhe.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"DependsOn" : [ <code class="replaceable">String, ...</code> ]</code></pre>
     
        <h2 id="aws-attribute-dependson-example">Esempio</h2>

        <p>Il modello seguente contiene una <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-instance.html">AWS::EC2::Instance</a>risorsa con un <code class="code">DependsOn</code> attributo che specifica myDB, un <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-rds-database-instance.html">AWS: :RDS: :DBInstance</a>. Quando  CloudFormation  crea questo stack, crea prima MyDB, quindi crea Ec2Instance.</p>
        <div id="JSON" name="JSON" class="section langfilter">
            <h3 id="aws-attribute-dependson-example-1.json">JSON</h3>

            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "AWSTemplateFormatVersion" : "2010-09-09",
    "Mappings" : <span>{</span>
        "RegionMap" : <span>{</span>
            "us-east-1" : <span>{</span> 
                "AMI" : "ami-0ff8a91507f77f867" 
            },
            "us-west-1" : <span>{</span> 
                "AMI" : "ami-0bdb828fd58c52235" 
            },
            "eu-west-1" : <span>{</span> 
                "AMI" : "ami-047bb4163c506cd98" 
            },
            "ap-northeast-1" : <span>{</span> 
                "AMI" : "ami-06cd52961ce9f0d85" 
            },
            "ap-southeast-1" : <span>{</span> 
                "AMI" : "ami-08569b978cc4dfa10" 
            }
        }
    },
    "Resources" : <span>{</span>
        "Ec2Instance" : <span>{</span>
            "Type" : "AWS::EC2::Instance",
            "Properties" : <span>{</span>
                "ImageId": <span>{</span>
                    "Fn::FindInMap": [
                        "RegionMap",
                        <span>{</span>
                            "Ref": "AWS::Region"
                        },
                        "AMI"
                    ]
                }
            },
            "DependsOn" : "myDB"
        },
        "myDB" : <span>{</span>
            "Type" : "AWS::RDS::DBInstance",
            "Properties" : <span>{</span>
               "AllocatedStorage" : "5",
               "DBInstanceClass" : "db.t2.small",
               "Engine" : "MySQL",
               "EngineVersion" : "5.5",
               "MasterUsername" : "MyName",
               "MasterUserPassword" : "MyPassword"
            }
        }
    }
}     </code></pre>
        </div>
        <div id="YAML" name="YAML" class="section langfilter">
            <h3 id="aws-attribute-dependson-example-1.yaml">YAML</h3>

            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">AWSTemplateFormatVersion: '2010-09-09'
Mappings:
  RegionMap:
    us-east-1:
      AMI: ami-0ff8a91507f77f867
    us-west-1:
      AMI: ami-0bdb828fd58c52235
    eu-west-1:
      AMI: ami-047bb4163c506cd98
    ap-northeast-1:
      AMI: ami-06cd52961ce9f0d85
    ap-southeast-1:
      AMI: ami-08569b978cc4dfa10
Resources:
  Ec2Instance:
    Type: AWS::EC2::Instance
    Properties:
      ImageId:
        Fn::FindInMap:
        - RegionMap
        - Ref: AWS::Region
        - AMI
    DependsOn: myDB
  myDB:
    Type: AWS::RDS::DBInstance
    Properties:
      AllocatedStorage: '5'
      DBInstanceClass: db.t2.small
      Engine: MySQL
      EngineVersion: '5.5'
      MasterUsername: MyName
      MasterUserPassword: MyPassword
</code></pre>
        </div>
     
        <h2 id="gatewayattachment">Quando un attributo <code class="code">DependsOn</code> è obbligatorio</h2>

        <p>Allegato VPC-gateway</p>
        <p>Alcune risorse in un VPC richiedono un gateway (un gateway Internet o VPN). Se il modello  CloudFormation  definisce un VPC, un gateway e un allegato gateway, tutte le risorse che richiedono il gateway dipendono dall'allegato gateway. Ad esempio, un'istanza Amazon EC2 con un indirizzo IP pubblico dipende dall'allegato VPC-gateway se anche le risorse <code class="code">VPC</code> e <code class="code">InternetGateway</code> vengono dichiarate nello stesso modello.</p>
        <p>Al momento, le risorse seguenti dipendono da un allegato VPC-gateway quando hanno un indirizzo IP pubblico associato e sono in un VPC.</p>
        <div class="itemizedlist">
             
             
             
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>Gruppi Auto Scaling</p>
            </li><li class="listitem">
                <p>Istanze Amazon EC2</p>
            </li><li class="listitem">
                <p>Load balancer Elastic Load Balancing</p>
            </li><li class="listitem">
                <p>Indirizzi IP elastici</p>
            </li><li class="listitem">
                <p>Istanze database Amazon RDS</p>
            </li><li class="listitem">
                <p>Instradamenti Amazon VPC che includono il gateway Internet</p>
            </li></ul></div>
        <p>Una propagazione dell'instradamento del gateway VPN dipende da un allegato VPC-gateway quando disponi di un gateway VPN.</p>
        <p>Il seguente frammento mostra un esempio di allegato gateway e un'istanza Amazon EC2 che dipende da un allegato gateway:</p>
        <div id="JSON" name="JSON" class="section langfilter">
            <h3 id="aws-attribute-dependson-example-2.json">JSON</h3>

            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"GatewayToInternet" : <span>{</span>
  "Type" : "AWS::EC2::VPCGatewayAttachment",
  "Properties" : <span>{</span>
    "VpcId" : <span>{</span> 
      "Ref" : "VPC" 
    },
    "InternetGatewayId" : <span>{</span> 
      "Ref" : "InternetGateway" 
    }
  }
},

"EC2Host" : <span>{</span>
  "Type" : "AWS::EC2::Instance",
  "DependsOn" : "GatewayToInternet",
  "Properties" : <span>{</span>
    "InstanceType" : <span>{</span> 
      "Ref" : "EC2InstanceType" 
    },
    "KeyName"  : <span>{</span> 
      "Ref" : "KeyName" 
    },
    "ImageId": <span>{</span>
      "Fn::FindInMap": [
        "AWSRegionArch2AMI",
        <span>{</span>
          "Ref": "AWS::Region"
        },
        <span>{</span>
          "Fn::FindInMap": [
            "AWSInstanceType2Arch",
            <span>{</span>
              "Ref": "EC2InstanceType"
            },
            "Arch"
          ]
        }
      ]
    },
    "NetworkInterfaces" : [
      <span>{</span>
        "GroupSet" : [
          <span>{</span> 
            "Ref" : "EC2SecurityGroup" 
          }
        ],
        "AssociatePublicIpAddress" : "true",
        "DeviceIndex" : "0",
        "DeleteOnTermination" : "true",
        "SubnetId" : <span>{</span> 
          "Ref" : "PublicSubnet" 
        }
      }
    ]
  }
}</code></pre>
        </div>
        <div id="YAML" name="YAML" class="section langfilter">
            <h3 id="aws-attribute-dependson-example-2.yaml">YAML</h3>

            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">GatewayToInternet:
  Type: AWS::EC2::VPCGatewayAttachment
  Properties:
    VpcId:
      Ref: VPC
    InternetGatewayId:
      Ref: InternetGateway
EC2Host:
  Type: AWS::EC2::Instance
  DependsOn: GatewayToInternet
  Properties:
    InstanceType:
      Ref: EC2InstanceType
    KeyName:
      Ref: KeyName
    ImageId:
      Fn::FindInMap:
      - AWSRegionArch2AMI
      - Ref: AWS::Region
      - Fn::FindInMap:
        - AWSInstanceType2Arch
        - Ref: EC2InstanceType
        - Arch
    NetworkInterfaces:
    - GroupSet:
      - Ref: EC2SecurityGroup
      AssociatePublicIpAddress: 'true'
      DeviceIndex: '0'
      DeleteOnTermination: 'true'
      SubnetId:
        Ref: PublicSubnet</code></pre>
        </div>
         
            <h3 id="w9aac34c23c15c17c19">Servizio Amazon ECS e gruppo Auto Scaling</h3>

            <p>Quando utilizzi Auto Scaling o Amazon Elastic Compute Cloud (Amazon EC2) per creare istanze di container per un cluster Amazon ECS, la risorsa del servizio Amazon ECS deve avere una dipendenza sul gruppo Auto Scaling o sulle istanze Amazon EC2, come mostrato nel seguente frammento. In questo modo le istanze del contenitore sono disponibili e associate al cluster Amazon ECS prima di  CloudFormation  creare il servizio Amazon ECS.</p>
            <div id="JSON" name="JSON" class="section langfilter">
                <h4 id="aws-attribute-dependson-example-3.json">JSON</h4>

                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"service": <span>{</span>
  "Type": "AWS::ECS::Service",
  "DependsOn": [
    "ECSAutoScalingGroup"
  ],
  "Properties" : <span>{</span>
    "Cluster": <span>{</span>
      "Ref": "ECSCluster"
    },
    "DesiredCount": "1",
    "LoadBalancers": [
      <span>{</span>
        "ContainerName": "simple-app",
        "ContainerPort": "80",
        "LoadBalancerName" : <span>{</span> 
          "Ref" : "EcsElasticLoadBalancer" 
        }
      }
    ],
    "Role" : <span>{</span>
      "Ref":"ECSServiceRole"
    },
    "TaskDefinition" : <span>{</span>
      "Ref":"taskdefinition"
    }
  }
}</code></pre>
            </div>
            <div id="YAML" name="YAML" class="section langfilter">
                <h4 id="aws-attribute-dependson-example-3.yaml">YAML</h4>

                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">service:
  Type: AWS::ECS::Service
  DependsOn:
  - ECSAutoScalingGroup
  Properties:
    Cluster:
      Ref: ECSCluster
    DesiredCount: 1
    LoadBalancers:
    - ContainerName: simple-app
      ContainerPort: 80
      LoadBalancerName:
        Ref: EcsElasticLoadBalancer
    Role:
      Ref: ECSServiceRole
    TaskDefinition:
      Ref: taskdefinition</code></pre>
            </div>
         
         
            <h3 id="w9aac34c23c15c17c21">Policy del ruolo IAM</h3>

            <p>Le risorse in grado di effettuare chiamate aggiuntive ad AWS richiedono un ruolo di servizio, che consente a un servizio di effettuare chiamate ad AWS per tuo conto. Ad esempio, la <code class="code">AWS::CodeDeploy::DeploymentGroup</code> risorsa richiede un ruolo di servizio in modo che  CodeDeploy  disponga delle autorizzazioni per distribuire applicazioni sulle istanze. Quando disponi di un singolo modello che definisce un ruolo del servizio, la policy del ruolo (utilizzando la risorsa <code class="code">AWS::IAM::Policy</code> o <code class="code">AWS::IAM::ManagedPolicy</code>) e una risorsa che usa il ruolo, aggiungi una dipendenza in modo che la risorsa dipenda dalla policy del ruolo. Questa dipendenza garantisce che la policy sia disponibile per tutto il ciclo di vita della risorsa.</p>
            <p>Ad esempio, immagina di disporre di un modello con una risorsa del gruppo di distribuzione, un ruolo del servizio e il ruolo della policy. Quando crei uno stack,  CloudFormation  non creerà il gruppo di distribuzione finché non creerà la politica del ruolo. Senza la dipendenza,  CloudFormation  può creare la risorsa del gruppo di distribuzione prima di creare la politica del ruolo. In tal caso, il gruppo di distribuzione non riuscirà a creare a causa della mancanza di autorizzazioni.</p>
            <p>Se il ruolo ha una politica incorporata, non specificare una dipendenza.  CloudFormation crea il ruolo e la relativa politica contemporaneamente.</p>
         
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avvertimento" /> <strong>JavaScript è disabilitato o non è disponibile nel tuo browser.</strong></p><p>Per usare la documentazione AWS, JavaScript deve essere abilitato. Consulta le pagine della guida del browser per le istruzioni.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenzioni dei documenti</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./aws-attribute-deletionpolicy.html">DeletionPolicy</div><div id="next" class="next-link" accesskey="n" href="./aws-attribute-metadata.html">Metadata</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Questa pagina ti è stata utile? - Sì</div><div class="content"><p>Grazie per averci comunicato che stiamo facendo un buon lavoro!</p><p>Se hai un momento, ti invitiamo a dirci che cosa abbiamo fatto che ti è piaciuto così possiamo offrirti altri contenuti simili.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Questa pagina ti è stata utile? - No</div><div class="content"><p>Grazie per averci comunicato che questa pagina ha bisogno di essere modificata. Siamo spiacenti di non aver soddisfatto le tue esigenze.</p><p>Se hai un momento, ti invitiamo a dirci come possiamo migliorare la documentazione.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>