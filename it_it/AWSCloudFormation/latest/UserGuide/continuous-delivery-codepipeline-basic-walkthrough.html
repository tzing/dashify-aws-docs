<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="it-IT"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Spiegazione passo per passo: creazione di una pipeline per stack di test e produzione - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="continuous-delivery-codepipeline-basic-walkthrough" /><meta name="default_state" content="continuous-delivery-codepipeline-basic-walkthrough" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" /><meta name="description" content="Scopri come creare una CodePipeline pipeline che automatizzi molte AWS CloudFormation azioni per un flusso di lavoro di distribuzione continua." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Guida per l'utente" /><meta name="abstract" content="Crea e gestisci le implementazioni AWS dell'infrastruttura in modo prevedibile e ripetuto utilizzando questa guida per AWS CloudFormation l'utente." /><meta name="guide-locale" content="it_it" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Guida per l'utente" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Guida per l'utente" /><meta id="panorama-serviceConsolePage" value="Spiegazione passo per passo: creazione di una pipeline per stack di test e produzione" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Spiegazione passo per passo: creazione di una pipeline per stack di test e produzione - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,provisioning delle risorse,configurazione delle risorse,gestione dell'infrastruttura,CloudFormer,CloudFormation pila,CloudFormation modello,set di modifiche" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guida per l'utente",
        "item" : "https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Distribuzione continua con CodePipeline",
        "item" : "https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Spiegazione passo per passo: creazione di una pipeline per stack di test e produzione",
        "item" : "https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentazione</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Guida per l'utente</a></div><div id="page-toc-src"><a href="#w9aac21c11b5">Prerequisiti</a><a href="#w9aac21c11b7">Panoramica della spiegazione passo per passo</a><a href="#w9aac21c11b9">Fase 1: modifica dell'artefatto e caricamento in un bucket S3</a><a href="#w9aac21c11c11">Fase 2: creazione dello stack della pipeline</a><a href="#w9aac21c11c13">Fase 3: Visualizza lo stack  WordPress </a><a href="#w9aac21c11c15">Fase 4: Eliminazione delle risorse</a><a href="#w9aac21c11c19">Consulta anche</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Le traduzioni sono generate tramite traduzione automatica. In caso di conflitto tra il contenuto di una traduzione e la versione originale in Inglese, quest'ultima prevarrà.</p></awsui-alert><h1 class="topictitle" id="continuous-delivery-codepipeline-basic-walkthrough">Spiegazione passo per passo: creazione di una pipeline per stack di test e produzione</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Immaginiamo un processo di rilascio in cui si invia un modello AWS CloudFormation che viene utilizzato in AWS CloudFormation per creare automaticamente uno stack di test. Dopo avere esaminato lo stack di test, puoi visualizzare in anteprima gli effetti delle modifiche apportate allo stack e decidere se implementarle. Per ottenere questo flusso di elaborazione, puoi utilizzare AWS CloudFormation per creare il tuo stack di test, eliminare lo stack di test, creare un set di modifiche e quindi eseguire il set di modifiche. Tuttavia ciascuna operazione prevede l'interazione manuale con AWS CloudFormation. In questa procedura dettagliata, creeremo una  CodePipeline  pipeline che automatizza molte di queste azioni, aiutandoti a ottenere un flusso di lavoro di distribuzione continuo con i tuoi stack. AWS CloudFormation</p>
    <h2 id="w9aac21c11b5">Prerequisiti</h2>
    <p>Questa procedura dettagliata presuppone che tu abbia utilizzato  CodePipeline  e sappia come funzionano le pipelineAWS CloudFormation, i modelli e gli stack. AWS CloudFormation <a href="https://docs.aws.amazon.com/codepipeline/latest/userguide/">Per ulteriori informazioni in merito CodePipeline, consulta la Guida per l'utente. AWS CodePipeline</a> È inoltre necessario che sia presente un <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingBucket.html">bucket</a> Amazon S3 nella stessa Regione AWS in cui si intende creare la pipeline.</p>
    <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Importante</h6></div><div class="awsdocs-note-text"><p>Il  WordPress  modello di esempio crea un'istanza EC2 che richiede una connessione a Internet. Verifica che la sottorete e il VPC predefiniti consentano il traffico in Internet.</p></div></div>
   
    <h2 id="w9aac21c11b7">Panoramica della spiegazione passo per passo</h2>
    <p>Questa procedura dettagliata crea una pipeline per un sito di esempio  WordPress  in uno stack. La pipeline è suddivisa in tre fasi. Ogni fase deve contenere almeno un'operazione, ovvero un'attività eseguita dalla pipeline sul tuo artefatto (il tuo input). Una fase organizza le operazioni in una pipeline.  CodePipeline deve completare tutte le azioni in una fase prima che questa elabori nuovi artefatti, ad esempio, se hai inviato un nuovo input per rieseguire la pipeline.</p>
    <p>Al termine di questa procedura guidata, avrai una pipeline che esegue il flusso di elaborazione seguente:</p>
    <div class="orderedlist">
       
       
       
    <ol><li>
        <p>La prima fase della pipeline recupera un artefatto di origine (un modello AWS CloudFormation e i relativi file di configurazione) da un repository.</p>
        <p>Preparerai un artefatto che include un  WordPress  modello di esempio e lo caricherai in un bucket S3.</p>
      </li><li>
        <p>Nella seconda fase la pipeline crea uno stack di test e attende la tua approvazione.</p>
        <p>Dopo avere esaminato lo stack di test, puoi scegliere di continuare con la pipeline originale o di creare e inviare un altro artefatto per apportare modifiche. Se approvi, questa fase elimina lo stack di test e la pipeline procede con la fase successiva.</p>
      </li><li>
        <p>Nella terza fase la pipeline crea un set di modifiche su uno stack di produzione e attende la tua approvazione.</p>
        <p>Nell'esecuzione iniziale non avrai uno stack di produzione. Il set di modifiche mostra tutte le risorse che verranno create da AWS CloudFormation. Se approvi, questa fase esegue il set di modifiche e crea il tuo stack di produzione.</p>
      </li></ol></div>
    <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>AWS CloudFormation è un servizio gratuito. Tuttavia, ti verrà addebitato un costo per le risorse AWS incluse nei tuoi stack, ad esempio l'istanza EC2, secondo la tariffa corrente. Per ulteriori informazioni sui prezzi di AWS, visita la pagina dei dettagli per ogni prodotto all'indirizzo <a href="https://aws.amazon.com/" rel="noopener noreferrer" target="_blank"><span>http://aws.amazon.com</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></div></div>
   
    <h2 id="w9aac21c11b9">Fase 1: modifica dell'artefatto e caricamento in un bucket S3</h2>
    <p>Prima di creare la pipeline, è necessario configurare repository e file di origine.  CodePipeline copia questi file di origine nello <a href="https://docs.aws.amazon.com/codepipeline/latest/userguide/concepts.html">store di artefatti</a> della pipeline, quindi li utilizza per eseguire azioni nella pipeline, ad esempio per creare uno stack AWS CloudFormation.</p>
    <p>Quando utilizzi Amazon Simple Storage Service (Amazon S3) come repository di origine CodePipeline , è necessario comprimere i file sorgente prima di caricarli in un bucket S3. Il file compresso è un  CodePipeline  artefatto che può contenere un modello, un file di configurazione del AWS CloudFormation modello o entrambi. Forniamo un artefatto che contiene un modello di esempio e due file di configurazione del  WordPress  modello. I due file di configurazione specificano i valori dei parametri per il  WordPress  modello.  CodePipeline li usa quando crea gli  WordPress  stack. Un file contiene i valori dei parametri per uno stack di test, l'altro per uno stack di produzione. È necessario modificare i file di configurazione, ad esempio specificare un nome di coppia di chiavi EC2 esistente di tua proprietà. Per ulteriori informazioni sugli artefatti, vedi <a href="./continuous-delivery-codepipeline-cfn-artifacts.html">Artefatti di AWS CloudFormation</a>.</p>
    <p>Dopo aver creato il tuo artefatto, potrai caricarlo in un bucket S3.</p>
    <div class="procedure"><h6>Per modificare e caricare l'artefatto</h6><ol><li>
        <p><a href="https://s3.amazonaws.com/cloudformation-examples/user-guide/continuous-deployment/wordpress-single-instance.zip" rel="noopener noreferrer" target="_blank"><span>Scarica e apri l'artefatto di esempio: https://s3.amazonaws.com/cloudformation-examples/user-guide/continuous-deployment/ .zip. wordpress-single-instance</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a></p>
        <p>L'artefatto contiene tre file:</p>
        <div class="itemizedlist">
           
           
           
        <ul class="itemizedlist"><li class="listitem">
            <p>Il modello di esempio:  WordPress  <code class="code">wordpress-single-instance.yaml</code></p>
          </li><li class="listitem">
            <p>Il file di configurazione del modello per lo stack di test: <code class="code">test-stack-configuration.json</code> </p>
          </li><li class="listitem">
            <p>Il file di configurazione del modello per lo stack di produzione: <code class="code">prod-stack-configuration.json</code></p>
          </li></ul></div>
      </li><li>
        <p>Estrarre tutti i file e utilizzare un editor di testo per modificare i file di configurazione del modello.</p>
        <p>Apri i file di configurazione per vedere che contengono coppie chiave-valore che corrispondono ai parametri del  WordPress  modello. I file di configurazione specificano i valori dei parametri utilizzati dalla tua pipeline quando crea gli stack di test e di produzione.</p>
        <p>Modificare il ile <code class="code">test-stack-configuration.json</code> per specificare i valori dei parametri per lo stack di test e il file <code class="code">prod-stack-configuration.json</code> per lo stack di produzione.</p>
        <div class="itemizedlist">
           
           
        <ul class="itemizedlist"><li class="listitem">
            <p>Cambia i valori <code class="code">DBPassword</code> e le <code class="code">DBRootPassword</code> chiavi in password che puoi usare per accedere al tuo database.  WordPress  Come definito nel  WordPress  modello, i valori dei parametri devono contenere solo caratteri alfanumerici.</p>
          </li><li class="listitem">
            <p>Cambiare il valore della chiave <code class="code">KeyName</code> in un nome di coppia di chiavi EC2 esistente in cui si crea la pipeline.</p>
          </li></ul></div>
      </li><li>
        <p>Aggiungere i file di configurazione modificati al file di artefatto originale (<code class="code">.zip</code>), sostituendo i file duplicati.</p>
        <p>A questo punto hai un artefatto personalizzato che puoi caricare in un bucket S3.</p>
      </li><li>
        <p><a href="https://docs.aws.amazon.com/AmazonS3/latest/user-guide/UploadingObjectsintoAmazonS3.html">Caricare l'artefatto in un bucket S3 di cui si è proprietari.</a></p>
        <p>Prendere nota della posizione del file. Si dovrà specificare il percorso di questo file quando si creerà la pipeline.</p>
        <p>Note sugli artefatti e sul bucket S3:</p>
        <div class="itemizedlist">
           
           
           
           
        <ul class="itemizedlist"><li class="listitem">
            <p>Utilizza un bucket che si trovi nella stessa Regione AWS in cui verrà creata la pipeline.</p>
          </li><li class="listitem">
            <p>CodePipeline <a href="https://docs.aws.amazon.com/AmazonS3/latest/user-guide/enable-bucket-versioning.html">richiede che il bucket sia abilitato per il controllo delle versioni.</a></p>
          </li><li class="listitem">
            <p>Puoi anche utilizzare servizi che non richiedono di comprimere i file prima di caricarli, ad esempio nel tuo  GitHub  repository  CodeCommit di origine.</p>
          </li><li class="listitem">
            <p>Gli artefatti possono contenere informazioni sensibili, ad esempio password. <a href="https://docs.aws.amazon.com/AmazonS3/latest/user-guide/EditingPermissionsonanObject.html">Limitare l'accesso</a> in modo che solo gli utenti autorizzati possano visualizzare il file. Quando lo fai, assicurati che  CodePipeline  possa ancora accedere al file.</p>
          </li></ul></div>
      </li></ol></div>
    <p>Ora hai un artefatto che  CodePipeline  può entrare nella tua pipeline. Nel passaggio successivo, specificherai la posizione dell'artefatto e costruirai la pipeline.  WordPress </p>
   
    <h2 id="w9aac21c11c11">Fase 2: creazione dello stack della pipeline</h2>
    <p>Per creare la  WordPress  pipeline, utilizzerai un modello di esempio. AWS CloudFormation Oltre a creare la pipeline, il modello imposta i ruoli di servizio AWS Identity and Access Management (IAM) per  CodePipeline  eAWS CloudFormation, un bucket S3 per l' CodePipeline artifact store e un argomento Amazon Simple Notification Service (Amazon SNS) a cui la pipeline invia notifiche, ad esempio notifiche sulle recensioni. Il modello di esempio semplifica il provisioning e la configurazione di tali risorse in un solo stack AWS CloudFormation.</p>
    <p>Per ulteriori dettagli sulla configurazione della pipeline, vedi <a href="#codepipeline-basic-walkthrough-template-details">Operazioni della pipeline</a>.</p>
    <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Importante</h6></div><div class="awsdocs-note-text"><p>Il  WordPress  modello di esempio crea un'istanza EC2 che richiede una connessione a Internet. Verifica che la sottorete e il VPC predefiniti consentano il traffico in Internet.</p></div></div>
    <div class="procedure"><h6>Per creare lo stack della pipeline</h6><ol><li>
        <p>Scaricare il modello di esempio all'indirizzo <a href="https://s3.amazonaws.com/cloudformation-examples/user-guide/continuous-deployment/basic-pipeline.yml" rel="noopener noreferrer" target="_blank"><span>https://s3.amazonaws.com/cloudformation-examples/user-guide/continuous-deployment/basic-pipeline.yml</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. Salvarlo sul computer.</p>
      </li><li>
        <p>Apri la AWS CloudFormation console all'indirizzo <a href="https://console.aws.amazon.com/cloudformation/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/cloudformation/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
      </li><li>
        <p>Scegli una AWS regione che supporti  CodePipeline  eAWS CloudFormation.</p>
        <p>Per ulteriori informazioni, consulta la sezione relativa a <a href="https://docs.aws.amazon.com/general/latest/gr/rande.html">regioni ed endpoint AWS</a> nella <em>Riferimenti generali di AWS</em>.</p>
      </li><li>
        <p>Seleziona <b>Crea stack</b>.</p>
      </li><li>
        <p>In <b>Specify template (Specifica modello)</b>, scegli <b>Upload a template file (Carica un file modello)</b>, quindi scegli il modello appena scaricato, <code class="code">basic-pipeline.yml</code>.</p>
      </li><li>
        <p>Seleziona <b>Avanti</b>.</p>
      </li><li>
        <p>Per <b>Stack name (Nome stack)</b>, digitare <code class="code">sample-WordPress-pipeline</code>.</p>
      </li><li>
        <p>Nella sezione <b>Parameters (Parametri)</b> specificare i seguenti valori di parametro, quindi selezionare <b>Next (Avanti)</b>. Quando impostate i parametri dello stack, se avete mantenuto gli stessi nomi per il  WordPress  modello e i relativi file di configurazione, potete utilizzare i valori predefiniti. In caso contrario, specificare i nomi file utilizzati.</p>
        <div class="variablelist">
           
           
           
           
        <dl>
            <dt><span class="term"><b>PipelineName</b></span></dt>
            <dd>
              <p>Il nome della pipeline, ad esempio <code class="code">WordPress-test-pipeline</code>.</p>
            </dd>
           
            <dt><span class="term"><b>S3Bucket</b></span></dt>
            <dd>
              <p>Nome del bucket S3 in cui hai salvato il tuo artefatto (file <code class="code">.zip</code>).</p>
            </dd>
           
            <dt><span class="term"><b>SourceS3Key</b></span></dt>
            <dd>
              <p>Nome file dell'artefatto. Se hai salvato l'artefatto in una cartella, includila come parte del nome file, ad esempio <code class="code">folder/subfolder/wordpress-single-instance.zip</code>.</p>
            </dd>
           
            <dt><span class="term"><b>E-mail</b></span></dt>
            <dd>
              <p>L'indirizzo e-mail a cui  CodePipeline  invia la notifica della pipeline, ad esempio. <code class="code">myemail@example.com</code></p>
            </dd>
          </dl></div>
      </li><li>
        <p>Per questa procedura guidata, non è necessario aggiungere tag o specificare impostazioni avanzate, quindi selezionare <b>Next (Avanti)</b>.</p>
      </li><li>
        <p>Assicurarsi che il nome dello stack e l'URL del modello siano corretti e scegliere <b>Create stack (Crea stack)</b>.</p>
      </li><li>
        <p>Per confermare di essere consapevoli che AWS CloudFormation potrebbe creare risorse IAM, scegli la casella di controllo.</p>
      </li></ol></div>
    <p>AWS CloudFormation potrebbe impiegare diversi minuti per creare lo stack. È possibile controllare l'avanzamento negli eventi per lo stack. Per ulteriori informazioni, consulta <a href="./cfn-console-view-stack-data-resources.html">Visualizzazione dei dati e delle risorse AWS CloudFormation dello stack su AWS Management Console</a>.</p>
    <p>Dopo aver creato lo stack,  CodePipeline  avvia la nuova pipeline. Per visualizzarne lo stato, vedi la <a href="https://console.aws.amazon.com/codepipeline/" rel="noopener noreferrer" target="_blank"><span>console CodePipeline </span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. <b>Dall'elenco delle pipeline, scegli -test-pipeline. WordPress</b></p>
     
      <h3 id="codepipeline-basic-walkthrough-template-details">Operazioni della pipeline</h3>
      <p>Questa sezione spiega le tre fasi della pipeline, utilizzando frammenti del modello di pipeline di esempio.  WordPress </p>
       
        <h4 id="w9aac21c11c11c15b5">Fase 1: origine</h4>
        <p>La prima fase della pipeline è una fase di origine in cui si specifica la posizione del codice sorgente. Ogni volta che invii una revisione a questa posizione, riesegue la pipeline.  CodePipeline </p>
        <p>Il codice sorgente si trova in un bucket S3 e viene identificato dal relativo nome file. Questi valori sono stati specificati come valori dei parametri di input al momento della creazione dello stack della pipeline. Per consentire l'utilizzo dell'artefatto di origine nelle fasi successive, il frammento specifica la proprietà <code class="code">OutputArtifacts</code> con il nome <code class="code">TemplateSource</code>. Per utilizzare questo artefatto nelle fasi successive, è necessario specificare <code class="code">TemplateSource</code> come artefatto di input.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">- Name: S3Source
  Actions:
    - Name: TemplateSource
      ActionTypeId:
        Category: Source
        Owner: AWS
        Provider: S3
        Version: '1'
      Configuration:
        S3Bucket: !Ref 'S3Bucket'
        S3ObjectKey: !Ref 'SourceS3Key'
      OutputArtifacts:
        - Name: TemplateSource</code></pre>
       
       
        <h4 id="w9aac21c11c11c15b7">Fase 2:  TestStage</h4>
        <p>Nella fase <code class="code">TestStage</code> la pipeline crea lo stack di test, attende l'approvazione, quindi elimina lo stack di test.</p>
        <p>Per l'<code class="code">CreateStack</code>azione, la pipeline utilizza il file e il  WordPress  modello di configurazione del test per creare lo stack di test. Entrambi i file sono contenuti nell'artefatto di input <code class="code">TemplateSource</code>, che viene introdotto dalla fase di origine. Il frammento utilizza la modalità di operazione <code class="code">REPLACE_ON_FAILURE</code>. Se si la creazione dello stack non riesce la pipeline lo sostituisce, in questo modo non è più necessario eseguire la pulizia o risolvere i problemi dello stack prima di poter eseguire nuovamente la pipeline. La modalità di operazione è utile per effettuare in modo rapido iterazioni sugli stack di test. Per la proprietà <code class="code">RoleArn</code>, il valore è un ruolo di servizio AWS CloudFormation dichiarato altrove nel modello.</p>
        <p>L'operazione <code class="code">ApproveTestStack</code> sospende la pipeline e invia una notifica all'indirizzo e-mail da te indicato al momento della creazione dello stack della pipeline. Mentre la pipeline è in pausa, puoi controllare lo stack di  WordPress  test e le sue risorse. Utilizzare  CodePipeline  per <a href="https://docs.aws.amazon.com/codepipeline/latest/userguide/approvals-approve-or-reject.html">approvare o</a> rifiutare questa azione. La proprietà <code class="code">CustomData</code> include una descrizione dell'operazione che stai approvando, che la pipeline aggiunge all'e-mail di notifica.</p>
        <p>Dopo aver approvato questa azione,  CodePipeline  passa all'<code class="code">DeleteTestStack</code>azione ed elimina lo  WordPress  stack di test e le relative risorse.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">- Name: TestStage
  Actions:
    - Name: CreateStack
      ActionTypeId:
        Category: Deploy
        Owner: AWS
        Provider: CloudFormation
        Version: '1'
      InputArtifacts:
        - Name: TemplateSource
      Configuration:
        ActionMode: REPLACE_ON_FAILURE
        RoleArn: !GetAtt [CFNRole, Arn]
        StackName: !Ref TestStackName
        TemplateConfiguration: !Sub "TemplateSource::$<span>{</span>TestStackConfig}"
        TemplatePath: !Sub "TemplateSource::$<span>{</span>TemplateFileName}"
      RunOrder: '1'
    - Name: ApproveTestStack
      ActionTypeId:
        Category: Approval
        Owner: AWS
        Provider: Manual
        Version: '1'
      Configuration:
        NotificationArn: !Ref CodePipelineSNSTopic
        CustomData: !Sub 'Do you want to create a change set against the production stack and delete the $<span>{</span>TestStackName} stack?'
      RunOrder: '2'
    - Name: DeleteTestStack
      ActionTypeId:
        Category: Deploy
        Owner: AWS
        Provider: CloudFormation
        Version: '1'
      Configuration:
        ActionMode: DELETE_ONLY
        RoleArn: !GetAtt [CFNRole, Arn]
        StackName: !Ref TestStackName
      RunOrder: '3'</code></pre>
       
       
        <h4 id="w9aac21c11c11c15b9">Fase 3:  ProdStage</h4>
        <p>La fase <code class="code">ProdStage</code> della pipeline crea un set di modifiche sullo stack di produzione esistente, attende l'approvazione, quindi esegue il set di modifiche.</p>
        <p>Un set di modifiche fornisce un'anteprima di tutte le modifiche che AWS CloudFormation effettua sullo stack di produzione prima di implementarle. Sulla prima pipeline eseguita non avrai uno stack di produzione in esecuzione. Il set di modifiche mostra le operazioni che AWS CloudFormation ha eseguito durante la creazione dello stack di prova. Per creare il set di modifiche, l'<code class="code">CreateChangeSet</code>azione utilizza il modello di  WordPress  esempio e la configurazione del modello di produzione dall'elemento <code class="code">TemplateSource</code> di input.</p>
        <p>Analogamente alla fase precedente, l'operazione <code class="code">ApproveChangeSet</code> sospende la pipeline e invia una notifica e-mail. Mentre la pipeline è in pausa, è possibile visualizzare il set di modifiche per verificare tutte le modifiche proposte allo stack di produzione.  WordPress   CodePipeline Utilizzatelo per <a href="https://docs.aws.amazon.com/codepipeline/latest/userguide/approvals-approve-or-reject.html">approvare o rifiutare</a> questa azione rispettivamente per continuare o arrestare la pipeline.</p>
        <p>Dopo avere approvato questa operazione, l'operazione <code class="code">ExecuteChangeSet</code> esegue il set di modifiche in modo che AWS CloudFormation esegua tutte le operazioni descritte nel set di modifiche. Per l'esecuzione iniziale, AWS CloudFormation crea lo stack di produzione.  WordPress  Con le esecuzioni successive AWS CloudFormation aggiorna lo stack.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">- Name: ProdStage
  Actions:
    - Name: CreateChangeSet
      ActionTypeId:
        Category: Deploy
        Owner: AWS
        Provider: CloudFormation
        Version: '1'
      InputArtifacts:
        - Name: TemplateSource
      Configuration:
        ActionMode: CHANGE_SET_REPLACE
        RoleArn: !GetAtt [CFNRole, Arn]
        StackName: !Ref ProdStackName
        ChangeSetName: !Ref ChangeSetName
        TemplateConfiguration: !Sub "TemplateSource::$<span>{</span>ProdStackConfig}"
        TemplatePath: !Sub "TemplateSource::$<span>{</span>TemplateFileName}"
      RunOrder: '1'
    - Name: ApproveChangeSet
      ActionTypeId:
        Category: Approval
        Owner: AWS
        Provider: Manual
        Version: '1'
      Configuration:
        NotificationArn: !Ref CodePipelineSNSTopic
        CustomData: !Sub 'A new change set was created for the $<span>{</span>ProdStackName} stack. Do you want to implement the changes?'
      RunOrder: '2'
    - Name: ExecuteChangeSet
      ActionTypeId:
        Category: Deploy
        Owner: AWS
        Provider: CloudFormation
        Version: '1'
      Configuration:
        ActionMode: CHANGE_SET_EXECUTE
        ChangeSetName: !Ref ChangeSetName
        RoleArn: !GetAtt [CFNRole, Arn]
        StackName: !Ref ProdStackName
      RunOrder: '3'</code></pre>
       
     
   
    <h2 id="w9aac21c11c13">Fase 3: Visualizza lo stack  WordPress </h2>
    <p>Durante  CodePipeline  la pipeline, viene utilizzato AWS CloudFormation per creare stack di test e produzione. Per vedere lo stato di questi stack e il relativo output, è possibile utilizzare la console AWS CloudFormation.</p>
    <div class="procedure"><h6>Per visualizzare uno stack</h6><ol><li>
        <p><a href="https://console.aws.amazon.com/cloudformation/" rel="noopener noreferrer" target="_blank"><span>Apri la AWS CloudFormation console all'indirizzo https://console.aws.amazon.com/cloudformation/.</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a></p>
      </li><li>
        <p>A seconda che la pipeline sia in fase di test o di produzione, scegliere lo stack <code class="code">Test-MyWordPressSite</code> o <code class="code">Prod-MyWordPressSite</code>.</p>
      </li><li>
        <p>Per controllare lo stato dello stack, visualizzare gli <a href="./cfn-console-view-stack-data-resources.html">eventi</a> dello stack.</p>
      </li></ol></div>
    <p>Se lo stack si trova nello stato non riuscito, visualizzare il motivo per individuare l'errore. Correggere l'errore ed eseguire nuovamente la pipeline. Se lo stack è nello <code class="code">CREATE_COMPLETE</code> stato, visualizzane gli output per ottenere l'URL del tuo  WordPress  sito.</p>
    <p>L'hai usato con successo  CodePipeline  per creare un flusso di lavoro di distribuzione continua per un sito di esempio WordPress . Se invii modifiche al bucket S3, rileva  CodePipeline  automaticamente una nuova versione e quindi riesegue la pipeline. Questo flusso di elaborazione semplifica l'invio e il test delle modifiche prima di apportare modifiche al sito di produzione.</p>
   
    <h2 id="w9aac21c11c15">Fase 4: Eliminazione delle risorse</h2>
    <p>Per essere sicuro che non ti vengano addebitati servizi indesiderati, elimina le risorse.</p>
    <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Importante</h6></div><div class="awsdocs-note-text"><p>Elimina gli stack di test e produzione  WordPress  prima di eliminare lo stack di pipeline. Lo stack di pipeline contiene un ruolo di servizio necessario per eliminare gli stack.  WordPress  Se hai eliminato prima lo stack di pipeline, puoi <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_DeleteStack.html">associare un altro ruolo di servizio Amazon Resource Name (ARN)</a> agli  WordPress stack e quindi eliminarli.</p></div></div>
    <div class="procedure"><h6>Per eliminare oggetti nello store degli artefatti</h6><ol><li><p>Apri la console Amazon S3 all'indirizzo <a href="https://console.aws.amazon.com/s3/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/s3/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
        <p>Scegli il bucket S3  CodePipeline  utilizzato come archivio degli artefatti della tua pipeline.</p>
        <p>Il nome del bucket segue il formato: <code class="code"><code class="replaceable">stackname-artifactstorebucket-id</code></code>. Se è stata seguita questa procedura guidata, il nome del bucket potrebbe essere simile all'esempio seguente: <code class="code">sample-WordPress-pipeline-artifactstorebucket-12345abcd12345</code>.</p>
      </li><li>
        <p>Eliminare tutti gli oggetti nel bucket S3 dello store di artefatti.</p>
        <p>Quando si elimina lo stack della pipeline nella fase successiva, questo bucket deve essere vuoto. In caso contrario, AWS CloudFormation non sarà in grado di eliminare il bucket.</p>
      </li></ol></div>
    <div class="procedure"><h6>Per eliminare gli stack</h6><ol><li>
        <p>Dalla console AWS CloudFormation scegliere lo stack che si desidera eliminare.</p>
        <p>Se gli  WordPress  stack creati dalla pipeline sono ancora in esecuzione, sceglili prima. Per impostazione predefinita, i nomi degli stack sono <code class="code">Test-MyWordPressSite</code> e <code class="code">Prod-MyWordPressSite</code>.</p>
        <p>Se hai già eliminato gli  WordPress  stack, scegli lo stack. <code class="code">sample-WordPress-pipeline</code></p>
      </li><li>
        <p>Scegliere <b>Actions (Operazioni)</b>, quindi <b>Delete Stack (Elimina stack)</b>.</p>
      </li><li>
        <p>Nel messaggio di conferma, scegliere <b>Yes, Delete (Sì, elimina)</b>.</p>
      </li></ol></div>
    <p>AWS CloudFormation elimina lo stack e tutte le relative risorse, ad esempio l'istanza EC2, l'argomento di notifica, il ruolo di servizio e la pipeline.</p>
    <p>Ora che hai capito come creare un AWS CloudFormation flusso di lavoro di base CodePipeline, puoi utilizzare il modello di esempio e gli artefatti come punto di partenza per crearne uno personalizzato.</p>
   
    <h2 id="w9aac21c11c19">Consulta anche</h2>
    <p>Le risorse correlate seguenti possono rivelarsi utili durante l'utilizzo di questi parametri.</p>
    <div class="itemizedlist">
       
       
       
       
    <ul class="itemizedlist"><li class="listitem">
        <p>Per ulteriori informazioni sui parametri di AWS CloudFormation azione in CodePipeline, consultate il riferimento alla configurazione delle <a href="https://docs.aws.amazon.com/codepipeline/latest/userguide/action-reference-CloudFormation.html">AWS CloudFormation</a>azioni nella Guida per l'<em>AWS CodePipelineutente</em>.</p>
      </li><li class="listitem">
        <p>Per i valori del modello di esempio per provider di operazioni, ad esempio per il campo <code class="code">Owner</code> o i campi <code class="code">configuration</code>, consulta il <a href="https://docs.aws.amazon.com/codepipeline/latest/userguide/action-reference.html">Riferimento per la struttura delle operazioni</a> nella <em>Guida per l'utente di AWS CodePipeline</em>.</p>
      </li><li class="listitem">
        <p><em>Per scaricare esempi di modelli di stack di pipeline in formato YAML o JSON, consulta i tutorial in <a href="https://docs.aws.amazon.com/codepipeline/latest/userguide/tutorials-cloudformation.html">Crea una</a> pipeline con nella Guida per l'utente. AWS  CloudFormation AWS CodePipeline</em></p>
      </li><li class="listitem">
        <p>Per un esempio di file di configurazione del modello, consulta <a href="https://docs.aws.amazon.com/codepipeline/latest/userguide/continuous-delivery-codepipeline-cfn-artifacts.html">Artefatti di AWS CloudFormation</a>.</p>
      </li></ul></div>
  <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avvertimento" /> <strong>JavaScript è disabilitato o non è disponibile nel tuo browser.</strong></p><p>Per usare la documentazione AWS, JavaScript deve essere abilitato. Consulta le pagine della guida del browser per le istruzioni.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenzioni dei documenti</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./continuous-delivery-codepipeline.html">Distribuzione continua</div><div id="next" class="next-link" accesskey="n" href="./continuous-delivery-codepipeline-action-reference.html">Riferimento alle proprietà di configurazione</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Questa pagina ti è stata utile? - Sì</div><div class="content"><p>Grazie per averci comunicato che stiamo facendo un buon lavoro!</p><p>Se hai un momento, ti invitiamo a dirci che cosa abbiamo fatto che ti è piaciuto così possiamo offrirti altri contenuti simili.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Questa pagina ti è stata utile? - No</div><div class="content"><p>Grazie per averci comunicato che questa pagina ha bisogno di essere modificata. Siamo spiacenti di non aver soddisfatto le tue esigenze.</p><p>Se hai un momento, ti invitiamo a dirci come possiamo migliorare la documentazione.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-basic-walkthrough.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>