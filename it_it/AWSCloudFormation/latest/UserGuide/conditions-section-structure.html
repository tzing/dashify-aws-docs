<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="it-IT"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Condizioni - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="conditions-section-structure" /><meta name="default_state" content="conditions-section-structure" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/conditions-section-structure.html" /><meta name="description" content="Dichiarare le condizioni per creare in modo condizionale le risorse mediante le funzioni intrinseche nella sezione Conditions (Condizioni) di un modello." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Guida per l'utente" /><meta name="abstract" content="Crea e gestisci le implementazioni AWS dell'infrastruttura in modo prevedibile e ripetuto utilizzando questa guida per AWS CloudFormation l'utente." /><meta name="guide-locale" content="it_it" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/conditions-section-structure.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/conditions-section-structure.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/conditions-section-structure.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/conditions-section-structure.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/conditions-section-structure.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/conditions-section-structure.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/conditions-section-structure.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/conditions-section-structure.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/conditions-section-structure.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/conditions-section-structure.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/conditions-section-structure.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/conditions-section-structure.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/conditions-section-structure.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/conditions-section-structure.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/conditions-section-structure.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/conditions-section-structure.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/conditions-section-structure.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/conditions-section-structure.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/conditions-section-structure.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/conditions-section-structure.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/conditions-section-structure.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/conditions-section-structure.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Guida per l'utente" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Guida per l'utente" /><meta id="panorama-serviceConsolePage" value="Condizioni" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Condizioni - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/conditions-section-structure.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/conditions-section-structure.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/conditions-section-structure.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,provisioning delle risorse,configurazione delle risorse,gestione dell'infrastruttura,CloudFormer,CloudFormation pila,CloudFormation modello,set di modifiche" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guida per l'utente",
        "item" : "https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Utilizzo dei modelli AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/template-guide.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Anatomia dei modelli",
        "item" : "https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/template-anatomy.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Condizioni",
        "item" : "https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/template-anatomy.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentazione</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Guida per l'utente</a></div><div id="page-toc-src"><a href="#conditions-section-structure-overview">Panoramica delle modalità di utilizzo delle condizioni</a><a href="#conditions-section-structure-syntax">Sintassi</a><a href="#conditions-section-structure-examples">Esempi</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Le traduzioni sono generate tramite traduzione automatica. In caso di conflitto tra il contenuto di una traduzione e la versione originale in Inglese, quest'ultima prevarrà.</p></awsui-alert><h1 class="topictitle" id="conditions-section-structure">Condizioni</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>La sezione <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-condition.html"><code class="code">Conditions</code></a> facoltativa contiene istruzioni che definiscono le circostanze nelle quali le entità vengono create o configurate. Ad esempio, puoi creare una condizione e quindi associarla a una risorsa o a un output di modo che AWS CloudFormation crei la risorsa o l'output solo se la condizione è true. Analogamente, puoi associare la condizione a una proprietà di modo che AWS CloudFormation imposti la proprietà su un valore specifico se la condizione è true. Se la condizione è false, AWS CloudFormation imposta la proprietà su un valore differente che specifichi.</p><p>Puoi utilizzare le condizioni quando vuoi riutilizzare un modello che può creare risorse in diversi contesti, ad esempio un ambiente di test rispetto a un ambiente di produzione. Nel modello puoi aggiungere un parametro di input <code class="code">EnvironmentType</code>, che accetta <code class="userinput">prod</code> o <code class="userinput">test</code> come input. Per l'ambiente di produzione, puoi includere istanze Amazon EC2 con alcune funzionalità. Tuttavia, per l'ambiente di test, vuoi utilizzare le funzionalità ridotte per risparmiare denaro. Grazie alle condizioni, puoi definire quali risorse vengono creati e come vengono configurate per ciascun tipo di ambiente.</p><p>Le condizioni vengono valutate in base a <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/pseudo-parameter-reference.html"><code class="code">pseudo parameters</code></a> predefiniti o a valori di parametri di input che specifichi quando crei o aggiorni uno stack. All'interno di ogni condizione, puoi fare riferimento a un'altra condizione, a un valore di parametro o a una mappatura. Dopo aver definito tutte le condizioni, puoi associarle alle risorse e alle relative proprietà nelle sezioni <code class="code">Resources</code> e <code class="code">Outputs</code> di un modello.</p><p>In fase di creazione o aggiornamento dello stack, AWS CloudFormation valuta tutte le condizioni nel modello prima di creare le risorse. Vengono create risorse associate a una condizione True. Le risorse associate a una condizione false vengono ignorate. Inoltre, AWS CloudFormation valuta di nuovo tali condizioni a ogni aggiornamento dello stack prima di aggiornare le risorse. Le risorse ancora associate a una condizione True vengono aggiornate. Le risorse che ora risultano associate a una condizione False vengono eliminate.</p><div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Importante</h6></div><div class="awsdocs-note-text"><p>Durante l'aggiornamento di uno stack non puoi aggiornare solo le condizioni. Le condizioni possono essere aggiornate solo se si includono modifiche che comportano l'aggiunta, la modifica o l'eliminazione di risorse.</p></div></div>
        <h2 id="conditions-section-structure-overview">Panoramica delle modalità di utilizzo delle condizioni</h2>

        <p>A seconda dell'entità che desideri creare o configurare in modo condizionale, devi includere istruzioni nelle sezioni di modello seguenti:</p>
        <div class="variablelist">
             
             
             
        <dl>
                <dt><span class="term">Sezione <code class="code">Parameters</code></span></dt>
                <dd>
                    <p>Definisci gli input che le condizioni devono valutare. Le condizioni restituiscono true o false in base ai valori di questi parametri di input. Se le condizioni devono valutare pseudoparametri, non è necessario definire gli pseudoparametri in questa sezione, in quanto sono predefiniti da AWS CloudFormation.</p>
                </dd>
             
                <dt><span class="term">Sezione <code class="code">Conditions</code></span></dt>
                <dd>
                    <p>Definisci le condizioni tramite le relative intrinseche funzioni. Queste condizioni determinano quando AWS CloudFormation crea le risorse associate.</p>
                </dd>
             
                <dt><span class="term">Sezioni <code class="code">Resources</code> e <code class="code">Outputs</code></span></dt>
                <dd>
                    <p>Associa le condizioni alle risorse o agli output che vuoi creare in modo condizionale. AWS CloudFormationcrea le entità associate a una condizione true e ignora le entità associate a una condizione false. Utilizza la chiave <code class="code">Condition</code> e l'ID logico di una condizione per associarla a una risorsa o un output. Per specificare una proprietà in modo condizionale, utilizza la funzione <code class="code"><a href="./intrinsic-function-reference-conditions.html#intrinsic-function-reference-conditions-if">Fn::If</a></code>. Per ulteriori informazioni, consulta <a href="./intrinsic-function-reference-conditions.html">Funzioni di condizione</a>.</p>
                </dd>
            </dl></div>
     
        <h2 id="conditions-section-structure-syntax">Sintassi</h2>

        <p>La sezione <code class="code">Conditions</code> è composta dal nome di chiave <code class="code">Conditions</code>. Ogni dichiarazione della condizione include un ID logico e funzioni intrinseche che vengono valutati quando crei o aggiorni uno stack. Il seguente pseudomodello definisce la sezione <code class="code">Conditions</code>:</p>
        <div id="JSON" name="JSON" class="section langfilter">
            <h3 id="conditions-section-structure-syntax.json">JSON</h3>

            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Conditions" : <span>{</span>

  "<code class="replaceable">Logical ID</code>" : <span>{</span><code class="replaceable">Intrinsic function</code>}
}</code></pre>
        </div>
        <div id="YAML" name="YAML" class="section langfilter">
            <h3 id="conditions-section-structure-syntax.yaml">YAML</h3>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Conditions:
  <code class="replaceable">Logical ID</code>:
    <code class="replaceable">Intrinsic function</code>
</code></pre>
             
                <h4 id="conditions-section-structure-functions">Funzioni intrinseche delle condizioni</h4>
                <p>Puoi utilizzare le seguenti funzioni intrinseche per definire le condizioni:</p>
                <div class="itemizedlist">
                     
                     
      
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p><code class="code"><a href="./intrinsic-function-reference-conditions.html#intrinsic-function-reference-conditions-and">Fn::And</a></code></p>
                    </li><li class="listitem">
                        <p><code class="code"><a href="./intrinsic-function-reference-conditions.html#intrinsic-function-reference-conditions-equals">Fn::Equals</a></code></p>
                    </li><li class="listitem">
      <p><code class="code"><a href="./intrinsic-function-reference-foreach.html">Fn::ForEach</a></code></p>
     </li><li class="listitem">
                        <p><code class="code"><a href="./intrinsic-function-reference-conditions.html#intrinsic-function-reference-conditions-if">Fn::If</a></code></p>
                    </li><li class="listitem">
                        <p><code class="code"><a href="./intrinsic-function-reference-conditions.html#intrinsic-function-reference-conditions-not">Fn::Not</a></code></p>
                    </li><li class="listitem">
                        <p><code class="code"><a href="./intrinsic-function-reference-conditions.html#intrinsic-function-reference-conditions-or">Fn::Or</a></code></p>
                    </li></ul></div>
                <p>Per informazioni sulla sintassi e su ogni funzione, consulta <a href="./intrinsic-function-reference-conditions.html">Funzioni di condizione</a>.</p>
                <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p><code class="code">Fn::If</code> è supportata solo nell'attributo di metadati, nell'attributo delle policy di aggiornamento e nei valori di proprietà della sezione<code class="code">Resources</code> e nelle sezioni <code class="code">Outputs</code> di un modello.</p></div></div>
             
        </div>
     
        <h2 id="conditions-section-structure-examples">Esempi</h2>
         
            <h3 id="w9aac23c15c23c17b3">Condizione semplice</h3>

            <p>Il seguente modello di esempio include un parametro di input <code class="code">EnvType</code>, dove puoi specificare <code class="code">prod</code> per creare uno stack per l'ambiente di produzione o <code class="code">test</code> per creare uno stack per il testing. Per un ambiente di produzione, AWS CloudFormation crea un'istanza Amazon EC2 e collega un volume all'istanza. Per un ambiente di test, AWS CloudFormation crea solo l'istanza Amazon EC2.</p>
            <p>La condizione <code class="code">CreateProdResources</code> restituisce <code class="code">true</code> se il parametro <code class="code">EnvType</code> è uguale a <code class="code">prod</code>. Nel modello di esempio, le risorse <code class="code">NewVolume</code> e <code class="code">MountPoint</code> sono associate alla condizione <code class="code">CreateProdResources</code>. Pertanto, le risorse vengono create solo se il parametro <code class="code">EnvType</code> è uguale a <code class="code">prod</code>.</p>
            <div id="JSON" name="JSON" class="section langfilter">
                <h4 id="conditions-section-structure-example.json">JSON</h4>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "AWSTemplateFormatVersion": "2010-09-09",
    "Parameters": <span>{</span>
        "EnvType": <span>{</span>
            "Description": "Environment type.",
            "Default": "test",
            "Type": "String",
            "AllowedValues": [
                "prod",
                "test"
            ],
            "ConstraintDescription": "must specify prod or test."
        }
    },
    "Conditions": <span>{</span>
        "CreateProdResources": <span>{</span>
            "Fn::Equals": [
                <span>{</span>
                    "Ref": "EnvType"
                },
                "prod"
            ]
        }
    },
    "Resources": <span>{</span>
        "EC2Instance": <span>{</span>
            "Type": "AWS::EC2::Instance",
            "Properties": <span>{</span>
                "ImageId": "ami-0ff8a91507f77f867"
            }
        },
        "MountPoint": <span>{</span>
            "Type": "AWS::EC2::VolumeAttachment",
            "Condition": "CreateProdResources",
            "Properties": <span>{</span>
                "InstanceId": <span>{</span>
                    "Ref": "EC2Instance"
                },
                "VolumeId": <span>{</span>
                    "Ref": "NewVolume"
                },
                "Device": "/dev/sdh"
            }
        },
        "NewVolume": <span>{</span>
            "Type": "AWS::EC2::Volume",
            "Condition": "CreateProdResources",
            "Properties": <span>{</span>
                "Size": 100,
                "AvailabilityZone": <span>{</span>
                    "Fn::GetAtt": [
                        "EC2Instance",
                        "AvailabilityZone"
                    ]
                }
            }
        }
    }
}</code></pre>
            </div>
            <div id="YAML" name="YAML" class="section langfilter">
                <h4 id="conditions-section-structure-example.yaml">YAML</h4>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">AWSTemplateFormatVersion: 2010-09-09
Parameters:
  EnvType:
    Description: Environment type.
    Default: test
    Type: String
    AllowedValues:
      - prod
      - test
    ConstraintDescription: must specify prod or test.
Conditions:
  CreateProdResources: !Equals 
    - !Ref EnvType
    - prod
Resources:
  EC2Instance:
    Type: 'AWS::EC2::Instance'
    Properties:
      ImageId: ami-0ff8a91507f77f867
  MountPoint:
    Type: 'AWS::EC2::VolumeAttachment'
    Condition: CreateProdResources
    Properties:
      InstanceId: !Ref EC2Instance
      VolumeId: !Ref NewVolume
      Device: /dev/sdh
  NewVolume:
    Type: 'AWS::EC2::Volume'
    Condition: CreateProdResources
    Properties:
      Size: 100
      AvailabilityZone: !GetAtt 
        - EC2Instance
        - AvailabilityZone</code></pre>
            </div>
             
                <h4 id="w9aac23c15c23c17b3c11">Condizione nidificata</h4>
                <p>Il modello di esempio seguente fa riferimento a una condizione all'interno di un'altra condizione. È possibile creare uno stack che crea un bucket s3. Per uno stack distribuito in un ambiente di produzione, AWS CloudFormation crea una policy per il bucket S3.</p>
                    
                <div id="JSON" name="JSON" class="section langfilter">
                    <h5 id="conditions-section-structure-example-nested.json">JSON</h5>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Parameters": <span>{</span>
        "EnvType": <span>{</span>
            "Type": "String",
            "AllowedValues": [
                "prod",
                "test"
            ]
        },
        "BucketName": <span>{</span>
            "Default": "",
            "Type": "String"
        }
    },
    "Conditions": <span>{</span>
        "IsProduction": <span>{</span>
            "Fn::Equals": [
                <span>{</span>
                    "Ref": "EnvType"
                },
                "prod"
            ]
        },
        "CreateBucket": <span>{</span>
            "Fn::Not": [
                <span>{</span>
                    "Fn::Equals": [
                        <span>{</span>
                            "Ref": "BucketName"
                        },
                        ""
                    ]
                }
            ]
        },
        "CreateBucketPolicy": <span>{</span>
            "Fn::And": [
                <span>{</span>
                    "Condition": "IsProduction"
                },
                <span>{</span>
                    "Condition": "CreateBucket"
                }
            ]
        }
    },
    "Resources": <span>{</span>
        "Bucket": <span>{</span>
            "Type": "AWS::S3::Bucket",
            "Condition": "CreateBucket"
        },
        "Policy": <span>{</span>
            "Type": "AWS::S3::BucketPolicy",
            "Condition": "CreateBucketPolicy",
            "Properties": <span>{</span>
                "Bucket": <span>{</span>
                    "Ref": "Bucket"
                },
                "PolicyDocument": "..."
            }
        }
    }
}</code></pre>
            </div>
                <div id="YAML" name="YAML" class="section langfilter">
                    <h5 id="conditions-section-structure-example-nested.yaml">YAML</h5>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Parameters:
  EnvType:
    Type: String
    AllowedValues:
      - prod
      - test
  BucketName:
    Default: ''
    Type: String
Conditions:
  IsProduction: !Equals 
    - !Ref EnvType
    - prod
  CreateBucket: !Not 
    - !Equals 
      - !Ref BucketName
      - ''
  CreateBucketPolicy: !And 
    - !Condition IsProduction
    - !Condition CreateBucket
Resources:
  Bucket:
    Type: 'AWS::S3::Bucket'
    Condition: CreateBucket
  Policy:
    Type: 'AWS::S3::BucketPolicy'
    Condition: CreateBucketPolicy
    Properties:
      Bucket: !Ref BucketName
      PolicyDocument: ...</code></pre>
                </div>
             
         
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avvertimento" /> <strong>JavaScript è disabilitato o non è disponibile nel tuo browser.</strong></p><p>Per usare la documentazione AWS, JavaScript deve essere abilitato. Consulta le pagine della guida del browser per le istruzioni.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenzioni dei documenti</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./mappings-section-structure.html">Mappature</div><div id="next" class="next-link" accesskey="n" href="./transform-section-structure.html">Trasformazione</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Questa pagina ti è stata utile? - Sì</div><div class="content"><p>Grazie per averci comunicato che stiamo facendo un buon lavoro!</p><p>Se hai un momento, ti invitiamo a dirci che cosa abbiamo fatto che ti è piaciuto così possiamo offrirti altri contenuti simili.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/conditions-section-structure.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Questa pagina ti è stata utile? - No</div><div class="content"><p>Grazie per averci comunicato che questa pagina ha bisogno di essere modificata. Siamo spiacenti di non aver soddisfatto le tue esigenze.</p><p>Se hai un momento, ti invitiamo a dirci come possiamo migliorare la documentazione.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/conditions-section-structure.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>