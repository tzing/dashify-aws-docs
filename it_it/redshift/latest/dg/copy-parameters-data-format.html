<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="it-IT"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Parametri del formato dei dati - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="copy-parameters-data-format" /><meta name="default_state" content="copy-parameters-data-format" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/copy-parameters-data-format.html" /><meta name="description" content="Per impostazione predefinita, il comando COPY prevede che i dati di origine siano testi UTF-8 delimitati da caratteri. Il delimitatore predefinito è una barra verticale ( | ). Se i dati di origine sono in un altro formato, utilizza i seguenti parametri per specificare il formato dei dati:" /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guida per sviluppatori di database" /><meta name="abstract" content="Creare e gestire un data warehouse con Amazon Redshift, un servizio di data warehouse completamente gestito di livello aziendale e con capacità nell'ordine di più petabyte." /><meta name="guide-locale" content="it_it" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/copy-parameters-data-format.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/copy-parameters-data-format.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/copy-parameters-data-format.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/copy-parameters-data-format.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/copy-parameters-data-format.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/copy-parameters-data-format.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/copy-parameters-data-format.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/copy-parameters-data-format.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/copy-parameters-data-format.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/copy-parameters-data-format.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/copy-parameters-data-format.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/copy-parameters-data-format.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/copy-parameters-data-format.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/copy-parameters-data-format.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/copy-parameters-data-format.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/copy-parameters-data-format.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/copy-parameters-data-format.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/copy-parameters-data-format.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/copy-parameters-data-format.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/copy-parameters-data-format.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/copy-parameters-data-format.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/copy-parameters-data-format.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guida per sviluppatori di database" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guida per sviluppatori di database" /><meta id="panorama-serviceConsolePage" value="Parametri del formato dei dati" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Parametri del formato dei dati - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#copy-parameters-data-format" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/copy-parameters-data-format.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/copy-parameters-data-format.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/copy-parameters-data-format.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,sviluppatore,dati campione,database,sviluppatore di database,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guida per sviluppatori di database",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Documentazione di riferimento a SQL",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Comandi SQL",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "COPY",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_COPY.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Documentazione di riferimento dei parametri di COPY",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_COPY-parameters.html"
      },
      {
        "@type" : "ListItem",
        "position" : 8,
        "name" : "Parametri del formato dei dati",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_COPY-parameters.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#copy-parameters-data-format" target="_blank" rel="noopener noreferrer" title="Apri PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentazione</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guida per sviluppatori di database</a></div><div id="page-toc-src"><a href="#copy-json-data-file">File di dati JSON</a><a href="#copy-json-jsonpaths">File JSONPath</a><a href="#copy-json-jsonpath-expressions">Espressioni JSONPath</a><a href="#using-jsonpath-with-avro">Utilizzo di JSONPath con dati Avro</a><a href="#copy-parameters-columnar-data">Parametri del formato dei dati a colonna</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Le traduzioni sono generate tramite traduzione automatica. In caso di conflitto tra il contenuto di una traduzione e la versione originale in Inglese, quest'ultima prevarrà.</p></awsui-alert><h1 class="topictitle" id="copy-parameters-data-format">Parametri del formato dei dati</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Per impostazione predefinita, il comando COPY prevede che i dati di origine siano testi UTF-8 delimitati da caratteri. Il delimitatore predefinito è una barra verticale ( | ). Se i dati di origine sono in un altro formato, utilizza i seguenti parametri per specificare il formato dei dati: </p><div class="itemizedlist">
             
             
             

             
             
             
             
             
             
            
         <ul class="itemizedlist"><li class="listitem">
               <p><a href="#copy-format">FORMAT</a></p>
            </li><li class="listitem">
               <p><a href="#copy-csv">CSV</a></p>
            </li><li class="listitem">
               <p><a href="#copy-delimiter">DELIMITER</a>
               </p>
            </li><li class="listitem">
               <p><a href="#copy-fixedwidth">FIXEDWIDTH</a>
               </p>
            </li><li class="listitem">
               <p><a href="#copy-shapefile">SHAPEFILE</a>
               </p>
            </li><li class="listitem">
               <p><a href="#copy-avro">AVRO</a>
               </p>
            </li><li class="listitem">
               <p><a href="#copy-json">JSON</a>
               </p>
            </li><li class="listitem">
               <p><a href="#copy-parquet">PARQUET</a>
               </p>
            </li><li class="listitem">
               <p><a href="#copy-orc">ORC</a>
               </p>
            </li></ul></div><p>Oltre ai formati di dati standard, COPY supporta i seguenti formati di dati a colonna per COPY da Amazon S3: </p><div class="itemizedlist">
             
             
            
            
         <ul class="itemizedlist"><li class="listitem">
               <p><a href="#copy-orc">ORC</a>
               </p>
            </li><li class="listitem">
               <p><a href="#copy-parquet">PARQUET</a>
               </p>
            </li></ul></div><p>COPY dal formato a colonne è supportato con alcune restrizioni. Per ulteriori informazioni, consulta <a href="./copy-usage_notes-copy-from-columnar.html">COPY da formati di dati a colonna</a>. </p><div class="variablelist">
            <h6>Parametri del formato dei dati</h6>
             
              
             
             
            
             
            
             
            
             
         <dl>
               <dt id="copy-format"><span class="term">FORMAT [AS]</span></dt>
               <dd>
                  <p>(Facoltativo) Identifica le parole chiave del formato dei dati. Gli argomenti FORMAT sono descritti di seguito.</p>
               </dd>
             
               <dt id="copy-csv"><span class="term">CSV [ QUOTE [AS] <em>'quote_character'</em> ]</span></dt>
               <dd>
                  <p>Consente l'utilizzo del formato CSV nei dati di input. Per creare automaticamente sequenza di escape con i delimitatori, i caratteri di linea e i ritorni a capo, racchiudi il campo nel carattere specificato dal parametro QUOTE. Il carattere virgoletta di default è una virgoletta doppia ( " ). Quando si utilizza il carattere virgolette in un campo, eseguire l'escape del carattere aggiungendo altre virgolette. Ad esempio, se il carattere virgoletta è una virgoletta doppia, per inserire la stringa <code class="code">A
                        "quoted" word</code> il file di input deve includere la stringa <code class="code">"A
                        ""quoted"" word"</code>. Quando si utilizza il parametro CSV, il delimitatore predefinito è una virgola ( , ). È possibile specificare un delimitatore diverso utilizzando il parametro DELIMITER. </p>
                  <p>Quando un campo è racchiuso tra virgolette, lo spazio tra i delimitatori e i caratteri delle virgolette viene ignorato. Se il delimitatore è un carattere di spazio, ad esempio un carattere di tabulazione, il delimitatore non viene trattato come spazio.</p>
                  <p>Il CSV non può essere utilizzato con FIXEDWIDTH, REMOVEQUOTES o ESCAPE. </p>
                  <div class="variablelist">
                      
                  <dl>
                        <dt id="copy-csv-quote"><span class="term">QUOTE [AS] <em>'quote_character'</em></span></dt>
                        <dd>
                           <p>Facoltativo. Specifica il carattere da utilizzare come carattere virgoletta quando si utilizza il parametro CSV. Il carattere predefinito è una doppia virgoletta ( " ). Se si utilizzi il parametro QUOTE per definire un carattere virgoletta diverso dalla doppia virgoletta, non è necessario creare una sequenza di escape con le virgolette doppie all'interno del campo. Il parametro QUOTE può essere utilizzato solo con il parametro CSV. La parola chiave AS è facoltativa.</p>
                        </dd>
                     </dl></div>
               </dd>
             
               <dt id="copy-delimiter"><span class="term">DELIMITER [AS] ['<em>delimiter_char</em>'] </span></dt>
               <dd>
                  <p>Specifica il singolo carattere ASCII utilizzato per separare i campi del file di input, ad esempio un carattere pipe ( | ), una virgola ( , ) o una tabulazione ( \t ). Sono supportati caratteri ASCII non stampati. I caratteri ASCII possono anche essere rappresentati in ottale, usando il formato '\ddd', dove 'd' è una cifra ottale (0-7). Il delimitatore predefinito è un carattere pipe ( | ), a meno che non venga utilizzato il parametro CSV, nel qual caso il delimitatore predefinito è una virgola ( , ). La parola chiave AS è facoltativa. DELIMITER non può essere utilizzato con FIXEDWIDTH.</p>
               </dd>
             
               <dt id="copy-fixedwidth"><span class="term">FIXEDWIDTH '<em>fixedwidth_spec</em>' </span></dt>
               <dd>
                  <p>Carica i dati da un file in cui ogni larghezza di colonna è fissa, invece di avere colonne separate da un delimitatore. La stringa <em>fixedwidth_spec</em> specifica l'etichetta e la larghezza della colonna definite dall'utente. L'etichetta della colonna può essere sia una stringa di testo sia un intero, a seconda di ciò che sceglie l'utente. L'etichetta della colonna non ha alcuna relazione con il nome della colonna. L'ordine delle coppie etichetta/larghezza deve corrispondere esattamente all'ordine delle colonne della tabella. FIXEDWIDTH non può essere utilizzato con CSV o DELIMITER. In Amazon Redshift, la lunghezza delle colonne CHAR e VARCHAR è espressa in byte, quindi assicurati che la larghezza della colonna specificata corrisponda alla lunghezza binaria dei caratteri multibyte durante la preparazione del file da caricare. Per ulteriori informazioni, consulta <a href="./r_Character_types.html">Tipi di carattere</a>. </p>
                  <p>Di seguito viene mostrato il formato per <em>fixedwidth_spec</em>: </p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">'<em>colLabel1:colWidth1,colLabel:colWidth2, ...</em>'</code></pre>
               </dd>
             
               <dt id="copy-shapefile"><span class="term">SHAPEFILE [ SIMPLIFY [AUTO] [<em>'tolleranza'</em>] ]</span></dt>
               <dd>
                  <p>Consente l'utilizzo del formato SHAPEFILE nei dati di input. Per impostazione predefinita, la prima colonna dello shapefile è una colonna <code class="code">GEOMETRY</code> o <code class="code">IDENTITY</code>. Tutte le colonne successive seguono l'ordine specificato nello shapefile.</p>
                  <p>Non è possibile utilizzare SHAPEFILE con FIXEDWIDTH, REMOVEQUOTES o ESCAPE. </p>
                  <p>Per utilizzare oggetti <code class="code">GEOGRAPHY</code> con <code class="code">COPY FROM SHAPEFILE</code>, prima importa in un colonna <code class="code">GEOMETRY</code>, quindi converti gli oggetti in oggetti <code class="code">GEOGRAPHY</code>.</p>
                  <div class="variablelist">
                      
                      
                  <dl>
                        <dt id="copy-shapefile-simplify"><span class="term">SIMPLIFY [<em>tolleranza</em>]</span></dt>
                        <dd>
                           <p>(Facoltativo) Semplifica tutte le geometrie durante il processo di importazione dati utilizzando l'algoritmo Ramer-Douglas-Peucker e la tolleranza specificata. </p>
                        </dd>
                      
                        <dt id="copy-shapefile-simplify"><span class="term">SIMPLIFY AUTO [<em>tolleranza</em>]</span></dt>
                        <dd>
                           <p>(Facoltativo) Semplifica solo le geometrie più grandi della dimensione massima della geometria. Questa semplificazione utilizza l'algoritmo Ramer-Douglas-Peucker e la tolleranza calcolata automaticamente se questa non supera la tolleranza specificata. Questo algoritmo calcola la dimensione per memorizzare gli oggetti entro la tolleranza specificata. Il valore <em>tolleranza</em> è facoltativo.</p>
                        </dd>
                     </dl></div>
                  <p>Per esempi di caricamento di uno shapefile, consultare <a href="./r_COPY_command_examples.html#copy-example-spatial-copy-shapefile">Caricamento di uno shapefile in Amazon Redshift</a>.</p>
               </dd>
             
               <dt id="copy-avro"><span class="term">AVRO [AS] '<em>avro_option</em>'</span></dt>
               <dd>
                  <p>Specifica che i dati sorgente sono in formato Avro. </p>
                  <p>Il formato Avro è supportato per COPY da questi servizi e protocolli:</p>
                  <div class="itemizedlist">
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>Amazon S3 </p>
                     </li><li class="listitem">
                        <p>Amazon EMR </p>
                     </li><li class="listitem">
                        <p>Host remoto (SSH) </p>
                     </li></ul></div>
                  <p>Avro non è supportato per COPY da DynamoDB. </p>
                  <p>Avro è un protocollo di serializzazione dei dati. Un file sorgente Avro include uno schema che definisce la struttura dei dati. Il tipo di schema Avro deve essere <code class="code">record</code>. COPY accetta file Avro creati usando il codec di default non compresso così come i codec di compressione <code class="code">deflate</code> e <code class="code">snappy</code>. Per ulteriori informazioni su Avro, consultare <a href="https://avro.apache.org/" rel="noopener noreferrer" target="_blank"><span>Apache Avro</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. </p>
                  
                  <p>I valori validi per <em>avro_option</em> sono i seguenti:</p>
                  <div class="itemizedlist">
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p><code class="code">'auto'</code></p>
                     </li><li class="listitem">
                        <p><code class="code">'auto ignorecase'</code></p>
                     </li><li class="listitem">
                        <p><code class="code">'s3://<code class="replaceable">jsonpaths_file</code>'</code> </p>
                     </li></ul></div>
                  <p>Il valore predefinito è <code class="code">'auto'</code>.</p>
                  <p>COPY mappa automaticamente gli elementi di dati nei dati di origine Avro alle colonne della tabella di destinazione. Lo fa associando i nomi dei campi nello schema Avro ai nomi delle colonne nella tabella di destinazione. La corrispondenza prevede una distinzione tra lettere maiuscole e minuscole per <code class="code">'auto'</code> e non fa distinzione tra lettere maiuscole e minuscole per <code class="code">'auto
                        ignorecase'</code>. </p>
                  <p>I nomi delle colonne nelle tabelle Amazon Redshift sono sempre in minuscolo, quindi quando si utilizza l'opzione <code class="code">'auto'</code>, anche i nomi dei campi corrispondenti devono essere in minuscolo. Se i nomi dei campi non sono tutti minuscoli, è possibile utilizzare l'opzione <code class="code">'auto
                        ignorecase'</code>. Con l'argomento <code class="code">'auto'</code> di default, COPY riconosce solo il primo livello di campi, o <em>campi esterni</em>, nella struttura. </p>
                  <p>Per mappare esplicitamente i nomi delle colonne ai nomi dei campi Avro, è possibile utilizzare un <a href="#copy-json-jsonpaths">File JSONPath</a>. </p>
                  <p>Per impostazione predefinita, COPY tenta di far corrispondere tutte le colonne della tabella di destinazione ai nomi dei campi Avro. Per caricare un sottoinsieme delle colonne, è possibile specificare facoltativamente un elenco di colonne. Se una colonna nella tabella di destinazione viene omessa dall'elenco delle colonne, COPY carica l'espressione <a href="./r_CREATE_TABLE_NEW.html#create-table-default">DEFAULT</a> della colonna di destinazione. Se la colonna di destinazione non ha un valore di default, COPY prova a caricare NULL. Se una colonna è inclusa nell'elenco di colonne e COPY non trova un campo corrispondente nei dati Avro, COPY prova a caricare NULL nella colonna. </p>
                  <p>Se COPY tenta di assegnare NULL a una colonna definita come NOT NULL, il comando COPY non viene eseguito. </p>
                  
                  <p><b>Schema Avro</b></p>
                  <p>Un file di dati sorgente Avro include uno schema che definisce la struttura dei dati. COPY legge lo schema che fa parte del file di dati sorgente Avro per mappare gli elementi di dati sulle colonne della tabella di destinazione. L'esempio seguente mostra uno schema Avro. </p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "name": "person",
    "type": "record",
    "fields": [
        <span>{</span>"name": "id", "type": "int"},
        <span>{</span>"name": "guid", "type": "string"},
        <span>{</span>"name": "name", "type": "string"},
        <span>{</span>"name": "address", "type": "string"}]
}</code></pre>
                  <p>Lo schema Avro è definito utilizzando il formato JSON. L'oggetto JSON di livello superiore contiene tre coppie nome-valore con i nomi o le <em>chiavi</em>, <code class="code">"name"</code>, <code class="code">"type"</code> e <code class="code">"fields"</code>. </p>
                  <p>Le chiavi <code class="code">"fields"</code> si accoppiano con un array di oggetti che definiscono il nome e il tipo di dati di ogni campo nella struttura dei dati. Per impostazione predefinita, COPY fa corrispondere automaticamente i nomi dei campi ai nomi delle colonne. I nomi delle colonne sono sempre in minuscolo, quindi anche i nomi dei campi corrispondenti devono essere in minuscolo a meno che non si specifichi l'opzione <code class="code">‘auto ignorecase’</code>. I nomi dei campi che non corrispondono al nome di una colonna vengono ignorati. L'ordine non ha importanza. Nell'esempio precedente COPY mappa i nomi delle colonne <code class="code">id</code>, <code class="code">guid</code>, <code class="code">name</code> e <code class="code">address</code>. </p>
                  <p>Con l'argomento predefinito <code class="code">'auto'</code>, COPY fa corrispondere solo agli oggetti di primo livello alle colonne. Per mappare a livelli più profondi nello schema o se i nomi dei campi e delle colonne non corrispondono, utilizza un file JSONPath per definire la mappatura. Per ulteriori informazioni, consulta <a href="#copy-json-jsonpaths">File JSONPath</a>. </p>
                  <p>Se il valore associato a una chiave è un tipo di dati Avro complesso come byte, array, record, mappa o link, COPY carica il valore come stringa. Qui, la stringa è la rappresentazione JSON dei dati. COPY carica i tipi di dati enum Avro come stringhe, dove il contenuto è il nome del tipo. Per un esempio, consultare <a href="./copy-usage_notes-copy-from-json.html">COPY dal formato JSON</a>.</p>
                  <p>La dimensione massima dell'intestazione del file Avro, che include lo schema e i metadati del file, è di 1 MB.   </p>
                  <p>La dimensione massima di un singolo blocco dati Avro è di 4 MB. È diverso dalla dimensione massima della riga. Se si supera la dimensione massima di un singolo blocco dati Avro, anche se la dimensione della riga risultante è inferiore al limite di 4 MB, il comando COPY non viene eseguito. </p>
                  <p>Nel calcolo delle dimensioni delle righe, Amazon Redshift internamente conta due volte i caratteri pipe ( | ). Se i dati immessi contengono un numero molto elevato di caratteri pipe, è possibile che la dimensione delle righe superi i 4 MB anche se il blocco di dati è inferiore a 4 MB.</p>
               </dd>
             
               <dt id="copy-json"><span class="term">JSON [AS] '<em>json_option</em>'</span></dt>
               <dd>
                  <p>I dati sorgente sono in formato JSON. </p>
                  <p>Il formato JSON è supportato per COPY da questi servizi e protocolli:</p>
                  <div class="itemizedlist">
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>Amazon S3</p>
                     </li><li class="listitem">
                        <p>COPY da Amazon EMR</p>
                     </li><li class="listitem">
                        <p>COPY da SSH</p>
                     </li></ul></div>
                  <p>JSON non è supportato per COPY da DynamoDB. </p>
                  <p>I valori validi per <em>json_option</em> sono i seguenti:</p>
                     <div class="itemizedlist">
                         
                         
                         
                        
                         
                     <ul class="itemizedlist"><li class="listitem">
                           <p><code class="code">'auto'</code></p>
                        </li><li class="listitem">
                           <p><code class="code">'auto ignorecase'</code></p>
                        </li><li class="listitem">
                           <p><code class="code">'s3://<code class="replaceable">jsonpaths_file</code>'</code>
                           </p>
                        </li><li class="listitem">
                           <p><code class="code">'noshred'</code>
                           </p>
                        </li></ul></div>
                  
                  <p>Il valore predefinito è <code class="code">'auto'</code>. Amazon Redshift non divide gli attributi delle strutture JSON in più colonne durante il caricamento di un documento JSON.</p> 
                  <p>Per impostazione predefinita, COPY tenta di far corrispondere tutte le colonne della tabella di destinazione alle chiavi dei nomi dei campi JSON. Per caricare un sottoinsieme delle colonne, è possibile specificare facoltativamente un elenco di colonne. Se le chiavi del nome del campo JSON non sono tutte in minuscolo, è possibile utilizzare l'opzione <code class="code">'auto ignorecase'</code> o un <a href="#copy-json-jsonpaths">File JSONPath</a> per mappare esplicitamente i nomi delle colonne sulle chiavi dei nomi dei campi JSON.</p>
                  <p>Se una colonna nella tabella di destinazione viene omessa dall'elenco delle colonne, COPY carica l'espressione <a href="./r_CREATE_TABLE_NEW.html#create-table-default">DEFAULT</a> della colonna di destinazione. Se la colonna di destinazione non ha un valore di default, COPY prova a caricare NULL. Se una colonna è inclusa nell'elenco di colonne e COPY non trova un campo corrispondente nei dati JSON, COPY prova a caricare NULL nella colonna. </p>
                  <p>Se COPY tenta di assegnare NULL a una colonna definita come NOT NULL, il comando COPY non viene eseguito. </p>
                  <p>COPY mappa automaticamente gli elementi di dati nei dati di origine JSON alle colonne della tabella di destinazione. Lo fa associando <em>chiavi di oggetti</em>, o nomi, nelle coppie nome-valore di origine ai nomi delle colonne nella tabella di destinazione. </p>
 
                  <p>Fare riferimento ai seguenti dettagli su ogni valore <em>json_option</em>:</p>
                  <div class="variablelist">
                      
                     
                      
                     
                      
                     
                      
                     
                     
                     
                  <dl>
                        <dt id="copy-json-auto"><span class="term">'auto'</span></dt>
                        <dd>
                           <p>Questa opzione fa distinzione tra lettere maiuscole e minuscole. I nomi delle colonne nelle tabelle Amazon Redshift sono sempre in minuscolo, quindi quando si utilizza l'opzione <code class="code">'auto'</code>, anche i nomi dei campi JSON corrispondenti devono essere in minuscolo.</p>
                          
                        </dd>
                      
                        <dt id="copy-json-auto-ignorecase"><span class="term">'auto ignorecase'</span></dt>
                        <dd>
                           <p>Con questa opzione, non si fa distinzione tra maiuscole e minuscole. I nomi delle colonne nelle tabelle Amazon Redshift sono sempre minuscoli, quindi quando si utilizza l'opzione <code class="code">'auto ignorecase'</code>, i nomi dei campi JSON corrispondenti possono essere minuscoli, maiuscoli o misti. </p>
                           
                        </dd>
                      
                        <dt id="copy-json-pathfile"><span class="term">'s3://<em>jsonpaths_file</em>'</span></dt>
                        <dd>
                           <p>Con questa opzione, COPY utilizza il file JSONPaths per mappare gli elementi dei dati nei dati di origine JSON sulle colonne della tabella di destinazione. L'argomento <em><code class="code">s3://jsonpaths_file</code></em> deve essere una chiave oggetto Amazon S3 che fa esplicito riferimento a un singolo file. Un esempio è <code class="code">'s3://mybucket/jsonpaths.txt</code>'. L'argomento non può essere un prefisso di chiave. Per ulteriori informazioni sull'utilizzo di un file JSONPath, consultare <a href="#copy-json-jsonpaths">File JSONPath</a>.</p>
                         
                           <p>In alcuni casi, il file specificato da <code class="code">jsonpaths_file</code> ha lo stesso prefisso del percorso specificato da <code class="code">copy_from_s3_objectpath</code> per i file di dati. In tal caso, COPY legge il file JSONPaths come file di dati e restituisce errori. Ad esempio, si supponga che i file di dati utilizzino il percorso dell'oggetto <code class="code">s3://mybucket/my_data.json</code> e che il file JSONPaths sia <code class="code">s3://mybucket/my_data.jsonpaths</code>. In questo caso, COPY prova a caricare <code class="code">my_data.jsonpaths</code> come file di dati.</p>
                           
                        </dd>
                      
                        <dt id="copy-json-noshred"><span class="term">'noshred'</span></dt>
                        <dd>
                           <p>Con questa opzione, Amazon Redshift non divide gli attributi delle strutture JSON in più colonne durante il caricamento di un documento JSON.</p>
                           
                        </dd>
                     </dl></div>

               </dd>
            </dl></div>
            <h2 id="copy-json-data-file">File di dati JSON</h2>
            <p>Il file di dati JSON contiene un insieme di oggetti o array. COPY carica ogni oggetto o array JSON in una riga della tabella di destinazione. Ogni oggetto o array corrispondente a una riga deve essere una struttura autonoma a livello di root, cioè non deve essere membro di un'altra struttura JSON.</p>

            <p>Un <em>oggetto</em> JSON inizia e termina con delle parentesi ( <span>{</span> } ) e contiene un insieme non ordinato di coppie nome-valore. Ogni coppia nome e valore è separata da due punti e le coppie sono separate da virgole. Per impostazione predefinita, la <em>chiave oggetto</em>, o nome, nelle coppie nome-valore deve corrispondere al nome della colonna corrispondente nella tabella. I nomi delle colonne nelle tabelle Amazon Redshift sono sempre in minuscolo, quindi anche le chiavi dei nomi dei campi JSON corrispondenti devono essere in minuscolo. Se i nomi delle colonne e le chiavi JSON non corrispondono, utilizza un <a href="#copy-json-jsonpaths">File JSONPath</a> per mappare esplicitamente le colonne sulle chiavi. </p>
            <p>L'ordine non ha importanza in un oggetto JSON. I nomi che non corrispondono al nome di una colonna vengono ignorati. Di seguito viene mostrata la struttura di un semplice oggetto JSON.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
  "column1": "value1",
  "column2": value2,
  "notacolumn" : "ignore this value"
}</code></pre>
            <p>Un <em>array</em> JSON inizia e termina con delle parentesi ( <span>{</span> } ) e contiene un insieme ordinato di valori separati da virgole. Se i file di dati utilizzano array, è necessario specificare un file JSONPath per far corrispondere i valori alle colonne. Di seguito viene mostrata la struttura di un semplice array JSON. </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">["value1", value2]</code></pre>
            <p>Il JSON deve essere ben formato. Ad esempio, gli oggetti o gli array non possono essere separati da virgole o altri caratteri tranne lo spazio. Le stringhe devono essere racchiuse tra virgolette doppie. I caratteri virgolette devono essere virgolette semplici (0x22), non oblique o "intelligenti".</p>
            <p>La dimensione massima di un singolo oggetto o array JSON, compresi parentesi graffe o quadre, è di 4 MB. È diverso dalla dimensione massima della riga. Se la dimensione massima di un singolo oggetto o array JSON viene superata, anche se la dimensione della riga risultante è inferiore al limite di 4 MB, il comando COPY non viene eseguito. </p>
            <p>Nel calcolo delle dimensioni delle righe, Amazon Redshift internamente conta due volte i caratteri pipe ( | ). Se i dati immessi contengono un numero molto elevato di caratteri pipe, è possibile che la dimensione delle righe superi i 4 MB anche se la dimensione dell'oggetto è inferiore a 4 MB.</p>
            <p>COPY carica <code class="code">\n</code> come carattere newline e carica <code class="code">\t</code> come carattere di tabulazione. Per caricare una barra rovesciata, crea una sequenza di escape con una barra rovesciata ( <code class="code">\\</code> ).</p>
            <p>COPY cerca il sorgente JSON specificato per un oggetto o array JSON valido e ben strutturato. Se COPY rileva caratteri non vuoti prima di individuare una struttura JSON utilizzabile o tra oggetti o array JSON validi, COPY restituisce un errore per ogni istanza. Questi errori contano ai fini del conteggio MAXERROR. Quando il conteggio degli errori è uguale o superiore a MAXERROR, COPY fallisce. </p>
            <p>Per ogni errore, Amazon Redshift registra una riga nella tabella di sistema STL_LOAD_ERRORS. La colonna LINE_NUMBER registra l'ultima riga dell'oggetto JSON che ha causato l'errore. </p>
            <p>Se è specificato IGNOREHEADER, COPY ignora il numero di righe specificato nei dati JSON. I caratteri newline nei dati JSON sono sempre conteggiati per i calcoli IGNOREHEADER. </p>
            <p>COPY carica le stringhe vuote come campi vuoti per impostazione predefinita. Se è specificato EMPTYASNULL, COPY carica le stringhe vuote per i campi CHAR e VARCHAR come NULL. Le stringhe vuote per altri tipi di dati, come ad esempio INT, vengono sempre caricate come NULL. </p>
            <p>Con JSON non sono supportate le seguenti opzioni: </p>
            <div class="itemizedlist">
                
                
                
                
                
                
                
                
                
            <ul class="itemizedlist"><li class="listitem">
                  <p>CSV</p>
               </li><li class="listitem">
                  <p>DELIMITER </p>
               </li><li class="listitem">
                  <p>ESCAPE</p>
               </li><li class="listitem">
                  <p>FILLRECORD </p>
               </li><li class="listitem">
                  <p>FIXEDWIDTH</p>
               </li><li class="listitem">
                  <p>IGNOREBLANKLINES</p>
               </li><li class="listitem">
                  <p>NULL AS</p>
               </li><li class="listitem">
                  <p>READRATIO</p>
               </li><li class="listitem">
                  <p>REMOVEQUOTES </p>
               </li></ul></div>
            <p>Per ulteriori informazioni, consulta <a href="./copy-usage_notes-copy-from-json.html">COPY dal formato JSON</a>. Per ulteriori informazioni sulle strutture dati JSON, visita il sito <a href="https://www.json.org/" rel="noopener noreferrer" target="_blank"><span>http://www.json.org/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. </p>
          
            <h2 id="copy-json-jsonpaths">File JSONPath</h2>
            <p>Se si carica da dati di origine con formattazione JSON o Avro, per impostazione predefinita COPY mappa gli elementi di dati di primo livello nei dati di origine alle colonne della tabella di destinazione. Lo fa associando ogni nome, o chiave di oggetti, in una coppia nome-valore al nome di una colonna nella tabella di destinazione. </p>

            <p>Se i nomi delle colonne e delle chiavi oggetto non corrispondono o per mappare a livelli più profondi nella gerarchia dei dati, è possibile utilizzare un file JSONPath per mappare esplicitamente gli elementi di dati JSON o Avro sulle colonne. Il file JSONPath mappa gli elementi di dati JSON sulle colonne facendo corrispondere l'ordine delle colonne nella tabella di destinazione o nell'elenco delle colonne.</p>
            <p>Il file JSONPath deve contenere solo un singolo oggetto JSON (non un array). L'oggetto JSON è una coppia nome-valore. La <em>chiave oggetto</em>, che è il nome nella coppia nome-valore, deve essere <code class="code">"jsonpaths"</code>. Il <em>valore</em> nella coppia nome-valore è un array di <em>espressioni JSONPath</em>. Ogni espressione JSONPath fa riferimento a un singolo elemento nella gerarchia dati JSON o nello schema Avro, analogamente a come un'espressione XPath fa riferimento agli elementi di un documento XML. Per ulteriori informazioni, consulta <a href="#copy-json-jsonpath-expressions">Espressioni JSONPath</a>.</p>
            <p>Per utilizzare un file JSONPaths, aggiungere la parola chiave JSON o AVRO al comando COPY. Specificare il nome del bucket S3 e il percorso dell'oggetto del file JSONPaths utilizzando il seguente formato.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">COPY tablename 
FROM 'data_source' 
CREDENTIALS '<code class="replaceable">credentials-args</code>' 
FORMAT AS <span>{</span> AVRO | JSON } 's3://<em>jsonpaths_file</em>';</code></pre>
            <p>Il valore <code class="code"><code class="code">s3://jsonpaths_file</code></code> deve essere una chiave oggetto di Amazon S3 che fa riferimento esplicitamente a singolo file, come <code class="code">'s3://mybucket/jsonpaths.txt'</code>. Non può essere un prefisso di chiave. </p>
            <p>In alcuni casi, se il caricamento avviene da Amazon S3 il file specificato da <code class="code">jsonpaths_file</code> ha lo stesso prefisso del percorso specificato da <code class="code">copy_from_s3_objectpath</code> per i file di dati. In tal caso, COPY legge il file JSONPaths come file di dati e restituisce errori. Ad esempio, si supponga che i file di dati utilizzino il percorso dell'oggetto <code class="code">s3://mybucket/my_data.json</code> e che il file JSONPaths sia <code class="code">s3://mybucket/my_data.jsonpaths</code>. In questo caso, COPY prova a caricare <code class="code">my_data.jsonpaths</code> come file di dati.</p>
            <p> Se il nome della chiave è una stringa diversa da <code class="code">"jsonpaths"</code>, il comando COPY non restituisce un errore, ma ignora <em>jsonpaths_file</em> e usa invece l'argomento <code class="code">'auto'</code>. </p>
            <p>Se si verifica una delle seguenti situazioni, il comando COPY non va a buon fine:</p>
            <div class="itemizedlist">
                
                
                
                
            <ul class="itemizedlist"><li class="listitem">
                  <p>Il JSON ha un formato errato.</p>
               </li><li class="listitem">
                  <p>C'è più di un oggetto JSON.</p>
               </li><li class="listitem">
                  <p>Tutti i caratteri tranne lo spazio esistono al di fuori dell'oggetto.</p>
               </li><li class="listitem">
                  <p>Un elemento array è una stringa vuota o non è una stringa.</p>
               </li></ul></div>
            <p>MAXERROR non si applica al file JSONPath. </p>
            <p>Il file JSONPath non deve essere crittato, anche se è specificata l'opzione <a href="./copy-parameters-data-source-s3.html#copy-encrypted">ENCRYPTED</a>.</p>
            <p>Per ulteriori informazioni, consulta <a href="./copy-usage_notes-copy-from-json.html">COPY dal formato JSON</a>. </p>
          
            <h2 id="copy-json-jsonpath-expressions">Espressioni JSONPath</h2>
            <p>Il file JSONPath utilizza le espressioni JSONPath per mappare i campi di dati sulle colonne di destinazione. Ogni espressione JSONPath corrisponde a una colonna nella tabella di destinazione di Amazon Redshift. L'ordine degli elementi dell'array JSONPath deve corrispondere all'ordine delle colonne della tabella di destinazione o, se viene utilizzato un elenco di colonne, di quest'ultimo. </p>

            <p>I caratteri delle doppie virgolette sono richiesti come mostrato, sia per i nomi dei campi sia per i valori. I caratteri delle virgolette devono essere virgolette semplici (0x22), non oblique o "intelligenti".</p>
            <p>Se un elemento oggetto a cui fa riferimento un'espressione JSONPath non viene trovato nei dati JSON, COPY tenta di caricare un valore NULL. Se l'oggetto di riferimento ha un formato errato, COPY restituisce un errore di caricamento. </p>
            <p>Se un elemento array a cui fa riferimento un'espressione JSONPath non viene trovato nei dati JSON o Avro, COPY non va a buon fine e restituisce il seguente errore: <code class="code">Invalid JSONPath format: Not
                  an array or index out of range.</code> Rimuovi qualsiasi elemento array dal JSONPath che non esiste nei dati sorgente e verifica che gli array nei dati sorgente abbiano un formato corretto.  </p>
            <p>Le espressioni JSONPath possono utilizzare la notazione con parentesi o punti, ma non è possibile mischiare le notazioni. L'esempio seguente mostra le espressioni JSONPath che utilizzano la notazione con parentesi. </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "jsonpaths": [
        "$['venuename']",
        "$['venuecity']",
        "$['venuestate']",
        "$['venueseats']"
    ]
}</code></pre>
            <p>L'esempio seguente mostra le espressioni JSONPath che utilizzano la notazione con punti. </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "jsonpaths": [
        "$.venuename",
        "$.venuecity",
        "$.venuestate",
        "$.venueseats"
    ]
}</code></pre>
            <p>Nel contesto della sintassi di COPY di Amazon Redshift, un'espressione JSONPath deve specificare il percorso esplicito di un singolo elemento del nome in una struttura di dati gerarchica JSON o Avro. Amazon Redshift non supporta elementi JSONPath, come caratteri jolly o espressioni filtro, che potrebbero determinare un percorso ambiguo o elementi con più nomi.</p>
            <p>Per ulteriori informazioni, consulta <a href="./copy-usage_notes-copy-from-json.html">COPY dal formato JSON</a>. </p>
            
          
            <h2 id="using-jsonpath-with-avro">Utilizzo di JSONPath con dati Avro</h2>            
            <p>L'esempio seguente mostra uno schema Avro con più livelli.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "name": "person",
    "type": "record",
    "fields": [
        <span>{</span>"name": "id", "type": "int"},
        <span>{</span>"name": "guid", "type": "string"},
        <span>{</span>"name": "isActive", "type": "boolean"},
        <span>{</span>"name": "age", "type": "int"},
        <span>{</span>"name": "name", "type": "string"},
        <span>{</span>"name": "address", "type": "string"},
        <span>{</span>"name": "latitude", "type": "double"},
        <span>{</span>"name": "longitude", "type": "double"},
        <span>{</span>
            "name": "tags",
            "type": <span>{</span>
                        "type" : "array",
                        "name" : "inner_tags",
                        "items" : "string"
                    }
        },
        <span>{</span>
            "name": "friends",
            "type": <span>{</span>
                        "type" : "array",
                        "name" : "inner_friends",
                        "items" : <span>{</span>
                                    "name" : "friends_record",
                                    "type" : "record",
                                    "fields" : [
                                                 <span>{</span>"name" : "id", "type" : "int"},
                                                 <span>{</span>"name" : "name", "type" : "string"}
                                               ]
                                  }
                    }
        },
        <span>{</span>"name": "randomArrayItem", "type": "string"}
    ]
}</code></pre>
            <p>L'esempio seguente mostra un file JSONPaths che utilizza espressioni per fare riferimento allo schema precedente.  AvroPath  </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "jsonpaths": [
        "$.id",
        "$.guid",
        "$.address",
        "$.friends[0].id"
    ]
}</code></pre>
            <p>L'esempio di JSONPath include i seguenti elementi:</p>
            <div class="variablelist">
                
                
                
                
                
            <dl>
                  <dt><span class="term">jsonpath</span></dt>
                  <dd>
                     <p>Il nome dell'oggetto JSON che contiene le espressioni.  AvroPath</p>
                  </dd>
                
                  <dt><span class="term">[ … ]</span></dt>
                  <dd>
                     <p>Le parentesi racchiudono l'array JSON che contiene gli elementi del percorso.</p>
                  </dd>
                
                  <dt><span class="term">$</span></dt>
                  <dd>
                     <p>Il segno del dollaro fa riferimento all'elemento root nello schema Avro, che è l'array <code class="code">"fields"</code>.</p>
                  </dd>
                
                  <dt><span class="term">"$.id",</span></dt>
                  <dd>
                     <p>L'obiettivo dell' AvroPath espressione. In questa istanza, la destinazione è l'elemento nell'array <code class="code">"fields"</code> con il nome <code class="code">"id"</code>. Le espressioni sono separate da virgole.</p>
                  </dd>
                
                  <dt><span class="term">"$.friends[0].id"</span></dt>
                  <dd>
                     <p>Le parentesi indicano un indice dell'array. Le espressioni JSONPath utilizzano un'indicizzazione a base zero, quindi questa espressione fa riferimento al primo elemento nell'array <code class="code">"friends"</code> con il nome <code class="code">"id"</code>.</p>
                  </dd>
               </dl></div>
            <p>La sintassi dello schema Avro richiede l'utilizzo di <em>campi interni</em> per definire la struttura dei tipi di dati record e array. I campi interni vengono ignorati dalle  AvroPath  espressioni. Per esempio, il campo <code class="code">"friends"</code> definisce un array chiamato <code class="code">"inner_friends"</code>, che a sua volta definisce un record chiamato <code class="code">"friends_record"</code>. L' AvroPath espressione che fa riferimento al campo <code class="code">"id"</code> può ignorare i campi aggiuntivi per fare riferimento direttamente al campo di destinazione. Le  AvroPath  espressioni seguenti fanno riferimento ai due campi che appartengono all'<code class="code">"friends"</code>array.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">"$.friends[0].id"
"$.friends[0].name"</code></pre>
          
            <h2 id="copy-parameters-columnar-data">Parametri del formato dei dati a colonna</h2>
            <p>Oltre ai formati di dati standard, COPY supporta i seguenti formati di dati a colonna per COPY da Amazon S3: COPY dal formato a colonne è supportato con alcune restrizioni. Per ulteriori informazioni, consulta <a href="./copy-usage_notes-copy-from-columnar.html">COPY da formati di dati a colonna</a>. </p>
            <div class="variablelist">
                
                
               
               
            <dl>
                  <dt id="copy-orc"><span class="term">ORC</span></dt>
                  <dd>
                     <p>Carica i dati da un file che utilizza il formato di file ORC (Optimized Row Columnar). </p>
                  </dd>
                
                  <dt id="copy-parquet"><span class="term">PARQUET</span></dt>
                  <dd>
                     <p>Carica i dati da un file che utilizza il formato di file Parquet. </p>
                  </dd>
               </dl></div>
         <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avvertimento" /> <strong>JavaScript è disabilitato o non è disponibile nel tuo browser.</strong></p><p>Per usare la documentazione AWS, JavaScript deve essere abilitato. Consulta le pagine della guida del browser per le istruzioni.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenzioni dei documenti</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./copy-parameters-column-mapping.html">Opzioni di mappatura di colonne</div><div id="next" class="next-link" accesskey="n" href="./copy-parameters-file-compression.html">Parametri di compressione dei file</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Questa pagina ti è stata utile? - Sì</div><div class="content"><p>Grazie per averci comunicato che stiamo facendo un buon lavoro!</p><p>Se hai un momento, ti invitiamo a dirci che cosa abbiamo fatto che ti è piaciuto così possiamo offrirti altri contenuti simili.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/copy-parameters-data-format.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Questa pagina ti è stata utile? - No</div><div class="content"><p>Grazie per averci comunicato che questa pagina ha bisogno di essere modificata. Siamo spiacenti di non aver soddisfatto le tue esigenze.</p><p>Se hai un momento, ti invitiamo a dirci come possiamo migliorare la documentazione.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/copy-parameters-data-format.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>