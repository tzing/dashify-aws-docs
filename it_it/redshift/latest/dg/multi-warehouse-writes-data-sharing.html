<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="it-IT"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Condivisione di dati di lettura e scrittura all'interno di uno Account AWS o più account (anteprima) - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="multi-warehouse-writes-data-sharing" /><meta name="default_state" content="multi-warehouse-writes-data-sharing" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" /><meta name="description" content="Per ulteriori informazioni sulla configurazione della traccia di anteprima, consulta uno dei seguenti argomenti:" /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guida per sviluppatori di database" /><meta name="abstract" content="Creare e gestire un data warehouse con Amazon Redshift, un servizio di data warehouse completamente gestito di livello aziendale e con capacità nell'ordine di più petabyte." /><meta name="guide-locale" content="it_it" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guida per sviluppatori di database" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guida per sviluppatori di database" /><meta id="panorama-serviceConsolePage" value="Condivisione di dati di lettura e scrittura all'interno di uno Account AWS o più account (anteprima)" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Condivisione di dati di lettura e scrittura all'interno di uno Account AWS o più account (anteprima) - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#multi-warehouse-writes-data-sharing" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/multi-warehouse-writes-data-sharing.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,sviluppatore,dati campione,database,sviluppatore di database,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guida per sviluppatori di database",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Condivisione di dati tra cluster in Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg/datashare-overview.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Gestione delle attività di condivisione dati",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg/getting-started-datashare.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Condivisione di dati di lettura e scrittura all'interno di uno Account AWS o più account (anteprima)",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg/getting-started-datashare.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#multi-warehouse-writes-data-sharing" target="_blank" rel="noopener noreferrer" title="Apri PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentazione</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guida per sviluppatori di database</a></div><div id="page-toc-src"><a href="#within-account-writes-context">Condivisione dei dati in sola lettura e condivisione dei dati in lettura e scrittura</a><a href="#within-account-writes-share-prereqs">Prerequisiti e note sull'utilizzo</a><a href="#within-account-writes-share-producer">Condivisione di oggetti di database per l'accesso in lettura e scrittura in un'unità di condivisione dati in qualità di amministratore del database producer</a><a href="#within-account-writes-share-grants-available">Autorizzazioni disponibili per le unità di condivisione dati</a><a href="#within-account-writes-share-consumer-create-database">Abilitazione dell'esecuzione di query per cluster o gruppi di lavoro serverless sull'unità di condivisione dati</a><a href="#within-account-writes-share-consumer-transactions">Scrittura negli oggetti di un'unità di condivisione dati</a><a href="#across-account-read-write-req">Requisiti e limitazioni per l'unità di condivisione dati in anteprima</a><a href="#within-account-writes-share-sql-statements">Istruzioni SQL supportate</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Le traduzioni sono generate tramite traduzione automatica. In caso di conflitto tra il contenuto di una traduzione e la versione originale in Inglese, quest'ultima prevarrà.</p></awsui-alert><h1 class="topictitle" id="multi-warehouse-writes-data-sharing">Condivisione di dati di lettura e scrittura all'interno di uno  Account AWS  o più account (anteprima)</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><div class="table-container"><div class="table-contents"><table id="w320aac35c19c13b3">
      <tr>
        <td tabindex="-1"><em><b>Questa è una documentazione di pre-rilascio per le operazioni di scrittura in più data warehouse tramite la funzionalità di condivisione dei dati per Amazon Redshift, disponibile in anteprima pubblica nella traccia PREVIEW_2023. La documentazione e la funzionalità sono soggette a modifiche. Consigliamo di utilizzare questa funzione solo con cluster di test e non in ambienti di produzione. Per i termini e le condizioni di anteprima, vedere <em>Partecipazione al servizio beta</em> in <a href="https://aws.amazon.com/service-terms/" rel="noopener noreferrer" target="_blank"><span>Termini del servizio AWS</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</b></em> </td>
      </tr>
    </table></div></div><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>Le operazioni di scrittura in più warehouse tramite condivisione dei dati non sono attualmente disponibili nei cluster ra3.xlplus. Per utilizzare questa funzionalità, crea i cluster ra3.4xl, i cluster ra3.16xl o i gruppi di lavoro Amazon Redshift serverless con la traccia di anteprima.</p></div></div><p>Per ulteriori informazioni sulla configurazione della traccia di anteprima, consulta uno dei seguenti argomenti:</p><div class="itemizedlist">
                          
                          
                      <ul class="itemizedlist"><li class="listitem"><p>Per l'anteprima di Amazon Redshift serverless: <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/serverless-workgroup-preview.html">Creazione di un gruppo di lavoro di anteprima</a></p></li><li class="listitem"><p>Per l'anteprima dei cluster con provisioning di Amazon Redshift: <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/managing-clusters-console.html#cluster-preview">Creazione di un cluster di anteprima</a></p></li></ul></div><p>Puoi condividere oggetti di database per le letture e le scritture tra diversi cluster Amazon Redshift o gruppi di lavoro Serverless Amazon Redshift all'interno dello  Account AWS stesso o da uno all'altro.  Account AWS  Puoi scrivere dati anche tra le regioni. Le procedure descritte in questo argomento mostrano come impostare la condivisione dei dati. È possibile assegnare le autorizzazioni come SELECT, INSERT e UPDATE per tabelle diverse e USAGE e CREATE per schemi diversi. I dati sono attivi e disponibili per tutti i warehouse non appena viene eseguita una transazione di scrittura. Quando i dati sono condivisi tra account, gli amministratori degli account producer possono scegliere se fornire loro o meno l'accesso in sola lettura ai dati. Inoltre, gli amministratori degli account di produttore possono determinare se i namespace o le regioni specifici devono essere resi di sola lettura o accedere ai dati.  read-and-write </p><p>Le sezioni che seguono mostrano come configurare la condivisione dei dati. Le procedure presuppongono che si utilizzi un database in un cluster con provisioning o in un gruppo di lavoro Amazon Redshift serverless.</p>
               <h2 id="within-account-writes-context">Condivisione dei dati in sola lettura e condivisione dei dati in lettura e scrittura</h2>   
               <p>In precedenza, gli oggetti nelle unità di condivisione dati venivano solo letti in tutte le circostanze. La scrittura in un oggetto di un'unità di condivisione dati è una nuova funzionalità. Gli oggetti nelle unità di condivisione dati sono abilitati alla scrittura solo quando un producer assegna specificamente i privilegi di scrittura come INSERT o CREATE agli oggetti dell'unità di condivisione dati. I dettagli sono riportati nelle sezioni successive di questo argomento.</p>
               <p>Per la documentazione esistente delle unità di condivisione dati di sola lettura, consulta <a href="https://docs.aws.amazon.com/redshift/latest/dg/datashare-overview.html">Condivisione di dati tra cluster in Amazon Redshift</a>.</p>
             
               <h2 id="within-account-writes-share-prereqs">Prerequisiti e note sull'utilizzo</h2> 
               <p><em>Impostazioni di isolamento</em>: <b>il database deve essere impostato per l'isolamento degli snapshot.</b> Per impostazione predefinita, i database creati nella traccia PREVIEW_2023 dispongono dell'isolamento degli snapshot. Le impostazioni di isolamento possono essere modificate utilizzando la parola chiave ISOLATION nelle istruzioni <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_DATABASE.html">CREATE DATABASE</a> o <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_ALTER_DATABASE.html">ALTER DATABASE</a>.</p>

            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>Le operazioni di scrittura in più warehouse tramite condivisione dei dati non sono attualmente disponibili nei cluster ra3.xlplus. Per utilizzare questa funzionalità, crea i cluster ra3.4xl, i cluster ra3.16xl o i gruppi di lavoro Amazon Redshift serverless con la traccia di anteprima.</p></div></div> 
             
               <h2 id="within-account-writes-share-producer">Condivisione di oggetti di database per l'accesso in lettura e scrittura in un'unità di condivisione dati in qualità di amministratore del database producer</h2> 
               <p>Per iniziare la condivisione dei dati, l'amministratore del producer crea un'unità di condivisione dati e aggiunge gli oggetti:</p>
               <div class="procedure"><ol><li><p>Il proprietario o l'<a href="https://docs.aws.amazon.com/redshift/latest/dg/r_superusers.html">utente con privilegi avanzati</a> del database producer crea un'unità di condivisione dati. L'unità di condivisione dati è un container logico di oggetti, autorizzazioni e consumer del database. I consumer sono cluster o spazi dei nomi Amazon Redshift serverless presenti nel tuo account e in altri. Ogni unità di condivisione dati è associata al database in cui è stata creata ed è possibile aggiungere solo gli oggetti di quel database. Il seguente comando crea un'unità di condivisione dati:</p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE DATASHARE my_datashare [PUBLICACCESSIBLE = TRUE];</code></pre>
                     <p>L'impostazione PUBLICACCESSIBLE = TRUE consente ai consumer di eseguire query sull'unità di condivisione dati da cluster accessibili pubblicamente e gruppi di lavoro con provisioning. Disattivala o impostala esplicitamente su false se non vuoi consentirla.</p>
                     <p>Il proprietario dell'unità di condivisione dati deve assegnare l'autorizzazione USAGE per gli schemi che desidera aggiungere all'unità di condivisione dati. Il comando GRANT è nuovo. Viene utilizzato per assegnare varie azioni per lo schema, tra cui CREATE e USAGE. Gli schemi contengono oggetti condivisi:</p>
                  
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE SCHEMA myshared_schema1;
CREATE SCHEMA myshared_schema2;
 
GRANT USAGE ON SCHEMA myshared_schema1 TO DATASHARE my_datashare;
GRANT CREATE, USAGE ON SCHEMA myshared_schema2 TO DATASHARE my_datashare;</code></pre> 
                     <p>In alternativa, l'amministratore può continuare a eseguire i comandi ALTER per aggiungere uno schema all'unità di condivisione dati. Quando uno schema viene aggiunto in questo modo, vengono assegnate solo le autorizzazioni USAGE.</p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">ALTER DATASHARE my_datashare ADD SCHEMA myshared_schema1;</code></pre>
                  </li><li>
                     <p>Dopo aver aggiunto gli schemi, l'amministratore può assegnare le autorizzazioni dell'unità di condivisione dati per gli oggetti dello schema, che possono essere autorizzazioni in lettura e scrittura. L'esempio GRANT ALL mostra come assegnare tutte le autorizzazioni.</p>
                     
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">GRANT SELECT, INSERT ON TABLE myshared_schema1.table1, myshared_schema1.table2, myshared_schema2.table1
TO DATASHARE my_datashare;
                     
GRANT ALL ON TABLE myshared_schema1.table4 TO DATASHARE my_datashare;</code></pre> 
                     <p>È possibile continuare a eseguire comandi come ALTER DATASHARE per aggiungere le tabelle. In tal caso, vengono assegnate solo le autorizzazioni SELECT per gli oggetti aggiunti.</p>
               
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">ALTER DATASHARE my_datashare ADD TABLE myshared_schema1.table1, myshared_schema1.table2, myshared_schema2.table1;</code></pre>
            
                  </li><li><p>L'amministratore assegna l'utilizzo dell'unità di condivisione dati a uno spazio dei nomi specifico dell'account. Puoi trovare l'ID dello spazio dei nomi come parte dell'ARN nella pagina dei dettagli del cluster, nella pagina dei dettagli dello spazio dei nomi Amazon Redshift serverless o eseguendo il comando <code class="code">SELECT current_namespace;</code>. Per ulteriori informazioni, consulta <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_CURRENT_NAMESPACE.html">CURRENT_NAMESPACE</a>.</p>
             
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">GRANT USAGE ON DATASHARE my_datashare TO NAMESPACE '86b5169f-012a-234b-9fbb-e2e24359e9a8';</code></pre>
    
                  </li></ol></div>
                
                  <h3 id="within-account-writes-share-producer-cross">Autorizzazione della condivisione di un'unità di condivisione dati con un altro account</h3> 
                  <p>Dopo aver creato un datashare sul produttore e avervi aggiunto degli oggetti, potresti volerlo condividere con un altro account.  AWS  L'autorizzazione di un'unità di condivisione dati per l'utilizzo da parte di un altro account è un processo di sicurezza secondario che deve essere eseguito sul producer da un amministratore della sicurezza dei dati che autorizza l'utilizzo di un'unità di condivisione dati da parte dell'account consumer. È possibile autorizzare un'unità di condivisione dati su un altro account per operazioni di sola lettura o di lettura e scrittura. Se autorizzata per le operazioni di scrittura, all'account sono assegnati i privilegi di scrittura per l'unità di condivisione dati. In caso contrario, sono disponibili solo i privilegi di lettura per l'unità di condivisione dati. Per ulteriori informazioni su come effettuare tale operazione, consulta <a href="./within-account-writes-share-producer-authorize.html">Autorizzazione delle unità di condivisione dati per le operazioni di scrittura come amministratore di sicurezza producer (anteprima)</a>.</p>
                
               
                
                  <h3 id="within-account-writes-share-consumer-cross">Associazione di un'unità di condivisione dati di un altro account come consumer</h3> 
                  <p> Se l'unità di condivisione dati ha origine da un altro account, è necessario associarla a cluster o spazi dei nomi specifici dell'account prima di poterla utilizzare con cluster o spazi dei nomi. Puoi associarla a tutti gli spazi dei nomi di un account, a tutti gli spazi dei nomi in regioni specifiche dell'account o a spazi dei nomi specifici dell'account. Puoi scegliere se consentire o meno a uno spazio dei nomi l'accesso in sola lettura o l'accesso in lettura e scrittura. Se è autorizzata per le operazioni di scrittura, ai cluster e agli spazi dei nomi serverless associati vengono assegnati i privilegi di scrittura per l'unità di condivisione dati. In caso contrario, sono disponibili solo i privilegi di lettura per l'unità di condivisione dati. Per ulteriori informazioni su come eseguire questa operazione, consulta <a href="within-account-writes-share-consumer-associate.html" rel="noopener noreferrer" target="_blank">Associazione di dati condivisi come amministratore della sicurezza dei dati dei consumer (anteprima)</a>.</p>
                
               
             
               <h2 id="within-account-writes-share-grants-available">Autorizzazioni disponibili per le unità di condivisione dati</h2> 
               <p>I diversi tipi di oggetti e le varie autorizzazioni che puoi assegnare in un contesto di condivisione dei dati.</p>
               <p>Schemi:</p>
               <div class="itemizedlist">
                   
                   
               <ul class="itemizedlist"><li class="listitem"><p>USAGE</p></li><li class="listitem"><p>CREATE</p></li></ul></div>
               <p>Tabelle:</p>
               <div class="itemizedlist">
                   
                   
                   
                   
                   
                   
                   
               <ul class="itemizedlist"><li class="listitem"><p>SELECT</p></li><li class="listitem"><p>INSERT</p></li><li class="listitem"><p>UPDATE</p></li><li class="listitem"><p>DELETE</p></li><li class="listitem"><p>TRUNCATE</p></li><li class="listitem"><p>DROP</p></li><li class="listitem"><p>REFERENCES</p></li></ul></div>
               <p>Funzioni:</p>
               <div class="itemizedlist">
                   
               <ul class="itemizedlist"><li class="listitem"><p>EXECUTE</p></li></ul></div>
               
            
             
               <h2 id="within-account-writes-share-consumer-create-database">Abilitazione dell'esecuzione di query per cluster o gruppi di lavoro serverless sull'unità di condivisione dati</h2> 
               <p>In questo passaggio si presuppone che l'unità di condivisione dati abbia origine da un altro cluster o un altro spazio dei nomi Amazon Redshift serverless del tuo account oppure provenga da un altro account associato allo spazio dei nomi che utilizzi.</p>
               <div class="procedure"><ol><li><p>L'amministratore del database consumer può creare un database dall'unità di condivisione dati.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE DATABASE my_ds_db [WITH PERMISSIONS] FROM DATASHARE my_datashare OF NAMESPACE 'abc123def';</code></pre>
                     <p>Se crei un database con la clausola WITH PERMISSIONS, puoi assegnare autorizzazioni granulari per gli oggetti dell'unità di condivisione dati a utenti e ruoli diversi. In caso contrario, a tutti gli utenti e i ruoli a cui è stata concessa l'autorizzazione USAGE per il database dell'unità di condivisione dati vengono assegnate tutte le autorizzazioni per tutti gli oggetti all'interno del database dell'unità di condivisione dati.</p>
                     
                  </li><li><p>Di seguito viene illustrato come assegnare le autorizzazioni a un utente o un ruolo del database Redshift. È necessario essere connessi a un database locale per eseguire queste istruzioni. Non è possibile usare queste istruzioni se si esegue un comando USE sul database dell'unità di condivisione dati prima delle istruzioni grant.</p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">GRANT USAGE ON DATABASE my_ds_db TO ROLE data_eng;
GRANT CREATE, USAGE ON SCHEMA my_ds_db.my_shared_schema TO ROLE data_eng;
GRANT ALL ON ALL TABLES IN SCHEMA my_ds_db.my_shared_schema TO ROLE data_eng;
 
GRANT USAGE ON DATABASE my_ds_db TO bi_user;
GRANT USAGE ON SCHEMA my_ds_db.my_shared_schema TO bi_user;
GRANT SELECT ON my_ds_db.my_shared_schema.table1 TO bi_user;</code></pre>
       </li></ol></div>
     
             
                  <h2 id="within-account-writes-share-consumer-transactions">Scrittura negli oggetti di un'unità di condivisione dati</h2> 
                  <p>Sono disponibili due modi per scrivere negli oggetti di un'unità di condivisione dati.</p>
                  <p><b>Il comando USE, con connessione al database locale</b></p>
                  <p>Con questo comando, è possibile interrogare gli oggetti di un datashare con una notazione in due parti ed eseguire transazioni con più dichiarazioni. che possono essere eseguite solo all'interno di un singolo database.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">USE database_name;</code></pre>
                  <p>Puoi tornare a utilizzare il database a cui sei connesso eseguendo il comando RESET USE.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">RESET USE;</code></pre>
                  
                  <p>Una volta che hai eseguito il comando USE per un database, puoi eseguire il comando BEGIN per una transazione in quel database. Non è possibile scrivere in più database con una singola transazione.</p>
                  
                  <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Importante</h6></div><div class="awsdocs-note-text"><p> Se esegui un comando USE senza prima eseguire il commit o terminare la transazione corrente, il data warehouse viene riavviato. Assicurati di terminare o eseguire il commit delle transazioni aperte prima di eseguire un'istruzione USE.</p></div></div>
                  
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">USE database_name;    --set the context to the datashare database
 
INSERT INTO datashare_schema.table1 VALUES (1);
 
BEGIN; --start a transaction
 
INSERT INTO datashare_schema.table2 VALUES (1);
INSERT INTO datashare_schema.table3 VALUES (1);
 
COMMIT;  --end transaction; you can also use the END command.</code></pre>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>Non è possibile copiare i dati da file parquet e ORC in una tabella dell'unità di condivisione dati.</p></div></div>
                  
                  <p><b>Connessione al database dell'unità di condivisione dati direttamente tramite un driver Redshift JDBC, ODBC o Python</b></p>
                  <p>Se ti connetti direttamente a un database dell'unità di condivisione dati, puoi eseguire le query sulle tabelle utilizzando una notazione in due parti ed eseguire immediatamente le transazioni con più istruzioni nel database dell'unità di condivisione dati.</p>
                  
 
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">--connect to the datashare database via JDBC, ODBC, or the Python Driver
 
INSERT INTO datashare_schema.table1 VALUES (1);
 
BEGIN; --start a transaction
 
INSERT INTO datashare_schema.table2 VALUES (1);
INSERT INTO datashare_schema.table3 VALUES (1);
 
COMMIT;  -- end transaction; can also use the END command.</code></pre>
   
                  <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Importante</h6></div><div class="awsdocs-note-text"><p>L'esecuzione di un'istruzione INSERT INTO SELECT è supportata, ma è necessario disporre delle autorizzazioni INSERT su tutte le tabelle a cui si fa riferimento nella query.</p></div></div>    
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>Il supporto per la connessione ai database dell'unità di condivisione dati tramite l'API di dati sarà presto disponibile.</p></div></div>      
                 
                
               <h2 id="across-account-read-write-req">Requisiti e limitazioni per l'unità di condivisione dati in anteprima</h2>
              <p></p>
               <div class="itemizedlist">
                   
                   
                   
                   
       
    
   
                   
                   
                   
                   
               <ul class="itemizedlist"><li class="listitem"><p>È necessario essere connessi direttamente a un database dell'unità di condivisione dati o eseguire il comando USE per scrivere nelle unità di condivisione dati. Tuttavia, presto abiliteremo la possibilità di eseguire questa operazione usando una notazione in tre parti. </p></li><li class="listitem"><p>È necessario utilizzare gruppi di lavoro serverless, cluster ra3.4xl o cluster ra3.16xl per utilizzare questa funzionalità. È previsto il supporto per i cluster ra3.xlplus.</p></li><li class="listitem"><p><em>Metadata Discovery</em>: se sei un consumatore connesso direttamente a un database di datashare tramite i driver JDBC, ODBC o Python Redshift, puoi visualizzare i dati del catalogo nei seguenti modi: </p>
                     <div class="itemizedlist">
                  
                         
                         
                         
                     <ul class="itemizedlist"><li class="listitem"><p>Comandi SQL <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_SHOW.html">SHOW</a>.</p></li><li class="listitem"><p>Query su tabelle e viste information_schema.</p></li><li class="listitem"><p>Query su <a href="https://docs.aws.amazon.com/redshift/latest/dg/svv_views.html">viste SVV dei metadati</a>.</p></li></ul></div>
                  </li><li class="listitem"><p>Non è possibile connettersi ai database dell'unità di condivisione dati tramite l'API di dati. Il supporto per questa operazione sarà presto disponibile.</p></li><li class="listitem"><p>I consumer non possono vedere le autorizzazioni assegnate alle unità di condivisione dati. Aggiungeremo presto questa operazione.</p></li><li class="listitem"><p>Per la condivisione dei dati tra account, sia il cluster producer che quello consumer devono essere crittografati.</p></li><li class="listitem"><p>L'isolamento del database deve essere a livello di snapshot per consentire le operazioni di scrittura ad altri cluster e gruppi di lavoro serverless.</p></li><li class="listitem"><p>I consumer che scrivono negli oggetti dell'unità di condivisione dati non attivano un'operazione di analisi automatica. Di conseguenza, il producer deve eseguire manualmente l'analisi dopo l'inserimento dei dati nella tabella per aggiornare le statistiche della tabella. In caso contrario, i piani di query potrebbero non essere ottimali. </p></li></ul></div>
             
               <h2 id="within-account-writes-share-sql-statements">Istruzioni SQL supportate</h2> 
               <p>Queste istruzioni sono supportate per la versione di anteprima pubblica della condivisione di dati con le operazioni di scrittura:</p>
               <div class="itemizedlist">
                   
                   
                   
                   
                   
                   
                   
                   
                   
              
                   
                   
                   
                   
                   
               <ul class="itemizedlist"><li class="listitem"><p>BEGIN | START TRANSACTION</p></li><li class="listitem"><p>END | COMMIT | ROLLBACK</p></li><li class="listitem"><p>COPY senza COMPUPDATE</p></li><li class="listitem"><p><span>{</span> CREATE | DROP } SCHEMA</p></li><li class="listitem"><p><span>{</span> CREATE | DROP | SHOW } TABLE</p></li><li class="listitem"><p>CREATE TABLE table_name AS</p></li><li class="listitem"><p>DELETE</p></li><li class="listitem"><p><span>{</span> GRANT | REVOKE } privilege_name ON OBJECT_TYPE object_name TO consumer_user </p></li><li class="listitem"><p>INSERT</p></li><li class="listitem"><p>SELECT</p></li><li class="listitem"><p>INSERT INTO SELECT</p></li><li class="listitem"><p>TRUNCATE</p></li><li class="listitem"><p>UPDATE</p></li><li class="listitem"><p>Colonne con tipo di dati Super</p></li></ul></div>
               
         
               <p><em>Tipi di istruzioni non supportati</em>: i seguenti tipi non sono supportati:</p>
               <div class="itemizedlist">
                   
                   
                   
                   
                   
                   
        
               <ul class="itemizedlist"><li class="listitem"><p>Query con più istruzioni sui warehouse consumer che scrivono nei producer.</p></li><li class="listitem"><p>Query di dimensionamento simultaneo con scrittura dai consumer ai producer.</p></li><li class="listitem"><p>Processi di copia automatica con scrittura dai consumer ai producer.</p></li><li class="listitem"><p>Processi di streaming con scrittura dai consumer ai producer.</p></li><li class="listitem"><p>Consumer che creano tabelle di integrazione Zero-ETL su cluster producer. Per ulteriori informazioni sulle integrazioni Zero-ETL, consulta <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/zero-etl-using.html">Utilizzo delle integrazioni Zero-ETL</a>.</p></li><li class="listitem"><p>Scrittura in una tabella con una chiave di ordinamento interleaved.</p></li></ul></div>
               
            <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avvertimento" /> <strong>JavaScript è disabilitato o non è disponibile nel tuo browser.</strong></p><p>Per usare la documentazione AWS, JavaScript deve essere abilitato. Consulta le pagine della guida del browser per le istruzioni.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenzioni dei documenti</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./data-sharing-within-account-CF.html">Gestire la condivisione dei dati con  CloudFormation</div><div id="next" class="next-link" accesskey="n" href="./within-account-writes-share-producer-authorize.html">Autorizzazione delle unità di condivisione dati per le operazioni di scrittura come amministratore di sicurezza producer (anteprima)</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Questa pagina ti è stata utile? - Sì</div><div class="content"><p>Grazie per averci comunicato che stiamo facendo un buon lavoro!</p><p>Se hai un momento, ti invitiamo a dirci che cosa abbiamo fatto che ti è piaciuto così possiamo offrirti altri contenuti simili.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/multi-warehouse-writes-data-sharing.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Questa pagina ti è stata utile? - No</div><div class="content"><p>Grazie per averci comunicato che questa pagina ha bisogno di essere modificata. Siamo spiacenti di non aver soddisfatto le tue esigenze.</p><p>Se hai un momento, ti invitiamo a dirci come possiamo migliorare la documentazione.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/multi-warehouse-writes-data-sharing.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>