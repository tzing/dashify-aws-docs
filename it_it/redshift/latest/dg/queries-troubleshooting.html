<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="it-IT"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Risoluzione dei problemi delle query - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="queries-troubleshooting" /><meta name="default_state" content="queries-troubleshooting" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/queries-troubleshooting.html" /><meta name="description" content="Questa sezione fornisce un riferimento rapido per l'identificazione e l'indirizzamento dei problemi più comuni e più gravi che, probabilmente, riscontrerai con le query di Amazon Redshift." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guida per sviluppatori di database" /><meta name="abstract" content="Creare e gestire un data warehouse con Amazon Redshift, un servizio di data warehouse completamente gestito di livello aziendale e con capacità nell'ordine di più petabyte." /><meta name="guide-locale" content="it_it" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/queries-troubleshooting.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/queries-troubleshooting.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/queries-troubleshooting.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/queries-troubleshooting.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/queries-troubleshooting.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/queries-troubleshooting.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/queries-troubleshooting.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/queries-troubleshooting.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/queries-troubleshooting.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/queries-troubleshooting.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/queries-troubleshooting.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/queries-troubleshooting.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/queries-troubleshooting.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/queries-troubleshooting.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/queries-troubleshooting.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/queries-troubleshooting.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/queries-troubleshooting.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/queries-troubleshooting.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/queries-troubleshooting.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/queries-troubleshooting.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/queries-troubleshooting.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/queries-troubleshooting.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guida per sviluppatori di database" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guida per sviluppatori di database" /><meta id="panorama-serviceConsolePage" value="Risoluzione dei problemi delle query" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Risoluzione dei problemi delle query - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#queries-troubleshooting" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/queries-troubleshooting.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/queries-troubleshooting.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/queries-troubleshooting.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,sviluppatore,dati campione,database,sviluppatore di database,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guida per sviluppatori di database",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Ottimizzazione delle prestazioni delle query",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg/c-optimizing-query-performance.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Risoluzione dei problemi delle query",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg/c-optimizing-query-performance.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#queries-troubleshooting" target="_blank" rel="noopener noreferrer" title="Apri PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentazione</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guida per sviluppatori di database</a></div><div id="page-toc-src"><a href="#queries-troubleshooting-connection-fails">Connessione non riuscita</a><a href="#queries-troubleshooting-query-hangs">Interruzioni della query</a><a href="#queries-troubleshooting-query-takes-too-long">La query impiega troppo tempo</a><a href="#queries-troubleshooting-load-fails">Caricamento non riuscito</a><a href="#queries-troubleshooting-load-takes-too-long">Il caricamento impiega troppo tempo</a><a href="#queries-troubleshooting-load-data-incorrect">Dati di caricamento sbagliati</a><a href="#set-the-JDBC-fetch-size-parameter">Impostazione del parametro delle dimensioni del recupero JDBC</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Le traduzioni sono generate tramite traduzione automatica. In caso di conflitto tra il contenuto di una traduzione e la versione originale in Inglese, quest'ultima prevarrà.</p></awsui-alert><h1 class="topictitle" id="queries-troubleshooting">Risoluzione dei problemi delle query</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Questa sezione fornisce un riferimento rapido per l'identificazione e l'indirizzamento dei problemi più comuni e più gravi che, probabilmente, riscontrerai con le query di Amazon Redshift.</p><div class="highlights" id="inline-topiclist"><h6>Argomenti</h6><ul><li><a href="#queries-troubleshooting-connection-fails">Connessione non riuscita</a></li><li><a href="#queries-troubleshooting-query-hangs">Interruzioni della query</a></li><li><a href="#queries-troubleshooting-query-takes-too-long">La query impiega troppo tempo</a></li><li><a href="#queries-troubleshooting-load-fails">Caricamento non riuscito</a></li><li><a href="#queries-troubleshooting-load-takes-too-long">Il caricamento impiega troppo tempo</a></li><li><a href="#queries-troubleshooting-load-data-incorrect">Dati di caricamento sbagliati</a></li><li><a href="#set-the-JDBC-fetch-size-parameter">Impostazione del parametro delle dimensioni del recupero JDBC</a></li></ul></div><p>Questi suggerimenti ti forniscono un punto di inizio per la risoluzione dei problemi. Per ulteriori informazioni inoltre, puoi fare riferimento alle seguenti risorse.</p><div class="itemizedlist">
          
      <ul class="itemizedlist"><li class="listitem">
            <p><a href="https://docs.aws.amazon.com/redshift/latest/mgmt/using-rs-tools.html">Accesso ai cluster e ai database di Amazon Redshift</a></p>
         </li></ul></div><div class="itemizedlist">
          
      <ul class="itemizedlist"><li class="listitem">
            <p><a href="./t_Creating_tables.html">Utilizzo dell'ottimizzazione automatica delle tabelle</a></p>
         </li></ul></div><div class="itemizedlist">
          
      <ul class="itemizedlist"><li class="listitem">
            <p><a href="./t_Loading_data.html">Caricamento dei dati</a></p>
         </li></ul></div><div class="itemizedlist">
          
      <ul class="itemizedlist"><li class="listitem">
            <p><a href="./tutorial-loading-data.html">Tutorial: Caricamento dei dati da Amazon S3</a></p>
         </li></ul></div><h2 id="queries-troubleshooting-connection-fails">Connessione non riuscita</h2>
         
         <p>La connessione della tua query può avere esito negativo per le seguenti ragioni; suggeriamo i seguenti approcci per la risoluzione di problemi.</p>
          
            <h6>Il client non riesce a connettersi al server</h6>
            <p>Se stai utilizzando certificati di server o SSL, prima rimuovi questa complessità mentre risolvi il problema relativo alla connessione. Quando trovi una soluzione, aggiungi nuovamente i certificati di server o SSL. Per ulteriori informazioni, consulta <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/connecting-ssl-support.html">Configurazione delle opzioni di sicurezza per le connessioni</a> nella <em>Guida alla gestione di Amazon Redshift</em>.</p>
          
          
            <h6>La connessione è rifiutata</h6>
            <p>Generalmente, quando ricevi un messaggio di errore che indica esito negativo per stabilire una connessione, ciò significa che c'è un problema con l'autorizzazione per l'accesso al cluster. Per ulteriori informazioni, consulta <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/connecting-refusal-failure-issues.html">Connessione rifiutata o non riuscita</a> nella <em>Guida alla gestione di Amazon Redshift</em>. </p>
          
      <h2 id="queries-troubleshooting-query-hangs">Interruzioni della query</h2>
         
         <p>La tua query può interrompersi o bloccarsi per le seguenti ragioni; suggeriamo i seguenti approcci per la risoluzione di problemi.</p>
          
            <h6>Connessione al database interrotta</h6>
            <p>Riduci la dimensione dell'unità di trasmissione massima (MTU). La dimensione dell'MTU determina la dimensione massima, espressa in byte, di un pacchetto che può essere trasferito in un quadro Ethernet dalla tua connessione di rete. Per ulteriori informazioni, consulta <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/connecting-drop-issues.html">Connessione al database interrotta</a> nella <em>Guida alla gestione di Amazon Redshift</em>. </p>
          
          
            <h6>Connessione al database scaduta</h6>
            <p>La connessione del tuo client al database sembra scadere o interrompersi durante l'esecuzione di query lunghe, come il comando COPY. In questo caso, è possibile che la console Amazon Redshift mostri che la query è stata completata, ma lo strumento del client stesso sembra che la stia ancora eseguendo. I risultati della query potrebbero essere mancanti o incompleti, a seconda del momento in cui la connessione si è interrotta. Questo effetto si presenta quando connessioni inattive vengono terminate da un componente di rete intermedio. Per ulteriori informazioni, consulta <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/connecting-firewall-guidance.html">Problema di timeout del firewall</a> nella <em>Guida alla gestione di Amazon Redshift</em>. </p>
          
          
            <h6>Si verifica un  out-of-memory  errore sul lato client con ODBC</h6>
            <p>Se l'applicazione client utilizza una connessione ODBC e la query crea un set di risultati che è troppo grande per rientrare nella memoria, puoi eseguire il flusso del set di risultati all'applicazione client utilizzando un cursore. Per ulteriori informazioni, consultare <a href="./declare.html">DECLARE</a> e <a href="./declare.html#declare-performance">Considerazioni sulle prestazioni quando si utilizzano i cursori</a>.</p>
          
          
            <h6>Si verifica un errore sul lato client con JDBC  out-of-memory </h6>
            <p>Quando si tenta di recuperare set di risultati di grandi dimensioni tramite una connessione JDBC, è possibile che si verifichino errori sul lato client.  out-of-memory  Per ulteriori informazioni, consulta <a href="#set-the-JDBC-fetch-size-parameter">Impostazione del parametro delle dimensioni del recupero JDBC</a>.</p>
          
          
            <h6>Blocco potenziale </h6>
            <p>Se esiste un blocco potenziale, prova quanto segue:</p>
          
         <div class="itemizedlist">
             
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>Visualizza le tabelle di sistema <a href="./r_STV_LOCKS.html">STV_LOCKS</a> e <a href="./r_STL_TR_CONFLICT.html">STL_TR_CONFLICT</a> per individuare conflitti sugli aggiornamenti di più di una tabella.</p>
            </li><li class="listitem">
               <p>Utilizza la funzione <a href="./PG_CANCEL_BACKEND.html">PG_CANCEL_BACKEND</a> per cancellare una o più query di conflitto.</p>
            </li><li class="listitem">
               <p>Utilizza la funzione <a href="./PG_TERMINATE_BACKEND.html">PG_TERMINATE_BACKEND</a> per terminare una sessione. Questa operazione forza qualsiasi transazione attualmente in esecuzione nella sessione terminata, al fine di rilasciare tutti i blocchi ed eseguire il rollback della transazione.</p>
            </li><li class="listitem">
               <p>Programma attentamente le operazioni di scrittura simultanee. Per ulteriori informazioni, consultare <a href="./c_Concurrent_writes.html">Gestione delle operazioni di scrittura simultanee</a>.</p>
            </li></ul></div>
      <h2 id="queries-troubleshooting-query-takes-too-long">La query impiega troppo tempo</h2>
         
         <p>La tua query può impiegare troppo tempo per le seguenti ragioni; suggeriamo i seguenti approcci per la risoluzione di problemi.</p>
          
            <h6>Le tabelle non sono ottimizzate</h6>
            <p>Per ricevere tutti i vantaggi dell'elaborazione parallela, imposta la chiave di ordinamento, lo stile di distribuzione e la codifica della compressione delle tabelle. Per ulteriori informazioni, consultare <a href="./t_Creating_tables.html">Utilizzo dell'ottimizzazione automatica delle tabelle</a> </p>
          
          
            <h6>La query sta scrivendo sul disco</h6>
            <p>Le tue query potrebbero scrivere al disco per almeno una parte dell'esecuzione della query. Per ulteriori informazioni, consultare <a href="./query-performance-improvement-opportunities.html">Miglioramento delle prestazioni della query di </a>.</p>
          
          
            <h6>La query deve attendere il completamento di altre query</h6>
            <p>Attraverso la creazione di code della query e l'assegnazione di differenti tipi di query per code idonee, potresti essere in grado di migliorare le prestazioni complessive del sistema. Per ulteriori informazioni, consultare <a href="./cm-c-implementing-workload-management.html">Implementazione della gestione del carico di lavoro</a>. </p>
          
          
            <h6>Le query non sono ottimizzate</h6>
            <p>Analizza il piano di spiegazione per scoprire opportunità di riscrittura delle query o di ottimizzazione del database. Per ulteriori informazioni, consultare <a href="./c-the-query-plan.html">Piano di query</a>.</p>
          
          
            <h6>Le query necessitano di più memoria per essere eseguite</h6>
            <p>Se una query specifica richiede più memoria, puoi aumentare la memoria disponibile aumentando <a href="./r_wlm_query_slot_count.html">wlm_query_slot_count</a>. </p>
          
          
            <h6>Il database richiede un comando VACUUM per essere eseguito</h6>
            <p>Esegui il comando VACUUM quando aggiungi, elimini o modifichi un gran numero di righe, a meno che non carichi i tuoi dati nell'ordine della chiave di ordinamento. Il comando VACUUM riorganizza i tuoi dati al fine di mantenere l'ordine e ripristinare le prestazioni. Per ulteriori informazioni, consulta <a href="./t_Reclaiming_storage_space202.html">Vacuum delle tabelle</a>.</p>
          

         <h3 id="queries-troubleshooting-cross-refs">Risorse aggiuntive per la risoluzione di query di lunga durata</h3>
            <p>Di seguito sono riportati gli argomenti relativi alla visualizzazione del sistema e altre sezioni della documentazione utili per l'ottimizzazione delle query:</p>
            <div class="itemizedlist">
                
                
                
                
                
                
            <ul class="itemizedlist"><li class="listitem"><p>La vista di sistema <a href="./r_STV_INFLIGHT.html">STV_INFLIGHT</a> mostra quali query sono in esecuzione sul cluster. Può essere utile utilizzarlo insieme a <a href="./r_STV_RECENTS.html">STV_RECENTS</a> per determinare quali interrogazioni sono attualmente in esecuzione o completate di recente.</p></li><li class="listitem"><p><a href="./SYS_QUERY_HISTORY.html">SYS_QUERY_HISTORY</a> è utile per la risoluzione dei problemi. Mostra le query DDL e DML con proprietà pertinenti come il loro stato attuale, ad esempio <code class="code">running</code> o <code class="code">failed</code>, il tempo impiegato per l'esecuzione di ciascuna di esse e l'eventuale esecuzione di una query su un cluster con scalabilità concorrenziale.</p></li><li class="listitem"><p><a href="./r_STL_QUERYTEXT.html">STL_QUERYTEXT</a> acquisisce il testo di query per i comandi SQL. Inoltre, <a href="./r_SVV_QUERY_INFLIGHT.html">SVV_QUERY_INFLIGHT</a>, che unisce STL_QUERYTEXT a STV_INFLIGHT, mostra più metadati delle query.</p></li><li class="listitem"><p>Un conflitto di blocco delle transazioni può essere una possibile origine di problemi di prestazioni delle query. Per informazioni sulle transazioni attualmente bloccate sulle tabelle, consulta <a href="./r_SVV_TRANSACTIONS.html">SVV_TRANSACTIONS</a>.</p></li><li class="listitem"><p><a href="https://docs.aws.amazon.com/redshift/latest/dg/diagnostic-queries-for-query-tuning.html#identify-queries-that-are-top-candidates-for-tuning">Identificazione delle domande più adatte al tuning</a> fornisce una query di risoluzione dei problemi che consente di determinare quali query eseguite di recente hanno richiesto più tempo. Questo può aiutarti a concentrare i tuoi sforzi sulle domande che richiedono miglioramenti.</p></li><li class="listitem"><p>Se desideri approfondire la gestione delle query e capire come gestire le code di query, <a href="./cm-c-implementing-workload-management.html">Implementazione della gestione del carico di lavoro</a> mostra come farlo. La gestione del carico di lavoro è una funzionalità avanzata e nella maggior parte dei casi consigliamo la gestione automatizzata del carico di lavoro.</p></li></ul></div>
          
         
         
      <h2 id="queries-troubleshooting-load-fails">Caricamento non riuscito</h2>
         
         <p>Il caricamento dei tuoi dati può avere esito negativo per le seguenti ragioni; suggeriamo i seguenti approcci per la risoluzione di problemi.</p>
          
            <h6>L'origine dei dati si trova in una regione diversa  AWS</h6>
            <p>Per impostazione predefinita, il bucket Amazon S3 o la tabella Amazon DynamoDB specificati nel comando COPY devono trovarsi nella stessa regione del cluster.  AWS  Se i dati e il cluster si trovano in regioni differenti, riceverai un messaggio di errore simile al seguente: </p>
          
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">The bucket you are attempting to access must be addressed using the specified endpoint.</code></pre>
         <p>Se possibile, assicurati che il cluster e l'origine dei dati si trovino nella stessa regione. Puoi specificare una regione diversa utilizzando l'opzione <a href="./copy-parameters-data-source-s3.html#copy-region">REGION</a> del comando COPY. </p>
         
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>Se il cluster e la fonte di dati si trovano in  AWS  regioni diverse, sono previsti costi di trasferimento dei dati. Avrai anche una latenza maggiore.</p></div></div>
          
            <h6>Esito negativo del comando COPY</h6>
            <p>Eseguire una query STL_LOAD_ERRORS per scoprire gli errori che si sono verificati durante carichi specifici. Per ulteriori informazioni, consultare <a href="./r_STL_LOAD_ERRORS.html">STL_LOAD_ERRORS</a>.</p>
          
      <h2 id="queries-troubleshooting-load-takes-too-long">Il caricamento impiega troppo tempo</h2>
         
         <p>La tua operazione di caricamento può impiegare troppo tempo per le seguenti ragioni; suggeriamo i seguenti approcci per la risoluzione di problemi.</p>
          
            <h6>Caricamento dei dati da un singolo file mediante il comando COPY</h6>
            <p>Dividi i tuoi dati di caricamento in più file. Quando tutti i dati vengono caricati da un singolo file di grandi dimensioni, Amazon Redshift viene forzato a eseguire un caricamento serializzato, che è molto più lento. Il numero dei file dovrebbe essere un multiplo del numero delle sezioni nel tuo cluster; inoltre i file dovrebbero essere di dimensioni simili, tra 1 MB e 1 GB dopo la compressione. Per ulteriori informazioni, consultare <a href="./c_designing-queries-best-practices.html">Best practice di Amazon Redshift per la progettazione di query</a>.</p>
          
          
            <h6>Le operazioni di carica utilizzano più comandi COPY</h6>
            <p>Se vengono utilizzati contemporaneamente più comandi COPY per caricare una tabella da più file, Amazon Redshift viene forzato a eseguire un caricamento serializzato, che è più lento. In questo caso, utilizza un singolo comando COPY.</p>
          
      <h2 id="queries-troubleshooting-load-data-incorrect">Dati di caricamento sbagliati</h2>
         
         <p>L'operazione COPY può caricare dati sbagliati nei seguenti modi; suggeriamo i seguenti approcci per la risoluzione di problemi.</p>
         
          
            <h6>Vengono caricati file sbagliati</h6>
            <p>L'utilizzo di un prefisso dell'oggetto per specificare i file dei dati può causare la lettura di file indesiderati. Quindi, utilizza un file manifest per specificare con esattezza i file da caricare. Per ulteriori informazioni, consultare l'opzione <a href="./copy-parameters-data-source-s3.html#copy-manifest-file">copy_from_s3_manifest_file</a> del comando COPY e l'opzione <a href="./r_COPY_command_examples.html#copy-command-examples-manifest">Example: COPY from Amazon S3 using a manifest</a> nell'esempio COPY.</p>
          
      <h2 id="set-the-JDBC-fetch-size-parameter">Impostazione del parametro delle dimensioni del recupero JDBC</h2>
         <p>Per impostazione predefinita, il driver JDBC raccoglie tutti i risultati di una query in una sola volta. Di conseguenza, quando si tenta di recuperare un set di risultati di grandi dimensioni tramite una connessione JDBC, è possibile che si verifichi un errore sul lato client.  out-of-memory  Per consentire al client di recuperare i set di risultati in batch anziché in un singolo recupero, impostate il parametro  all-or-nothing  JDBC fetch size nell'applicazione client.</p>
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>La dimensione del recupero non è supportata da ODBC.</p></div></div>
         <p>Per le migliori prestazioni, imposta la dimensione del recupero sul valore più alto che non porti a errori di esaurimento della memoria. Un valore della dimensione del recupero più basso causa più viaggi del server, quindi tempi di esecuzione prolungati. Il server riserva le risorse, tra cui lo slot della query WLM e la memoria associata, fino al momento in cui il client recupera tutto l'insieme di risultati o la query viene cancellata. Quando ottimizzi in modo appropriato la dimensione del recupero, queste risorse vengono rilasciate più velocemente rendendole disponibili alle altre query.</p>
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>Se devi estrarre set di dati di grandi dimensioni, ti consigliamo di utilizzare un'istruzione <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_UNLOAD.html">UNLOAD</a> per trasferire i dati su Amazon S3. Quando usi UNLOAD, i nodi di calcolo lavorano in parallelo per velocizzare il trasferimento dei dati.</p></div></div>
         <p>Per ulteriori informazioni sull'impostazione del parametro della dimensione del recupero di JDBC, consultare <a href="https://jdbc.postgresql.org/documentation/query/#getting-results-based-on-a-cursor" rel="noopener noreferrer" target="_blank"><span>Ottenimento di risultati basato su un cursore</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> nella documentazione PostgreSQL.</p>
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avvertimento" /> <strong>JavaScript è disabilitato o non è disponibile nel tuo browser.</strong></p><p>Per usare la documentazione AWS, JavaScript deve essere abilitato. Consulta le pagine della guida del browser per le istruzioni.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenzioni dei documenti</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./diagnostic-queries-for-query-tuning.html">Query di diagnostica per l'ottimizzazione di query</div><div id="next" class="next-link" accesskey="n" href="./cm-c-implementing-workload-management.html">Implementazione della gestione del carico di lavoro</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Questa pagina ti è stata utile? - Sì</div><div class="content"><p>Grazie per averci comunicato che stiamo facendo un buon lavoro!</p><p>Se hai un momento, ti invitiamo a dirci che cosa abbiamo fatto che ti è piaciuto così possiamo offrirti altri contenuti simili.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/queries-troubleshooting.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Questa pagina ti è stata utile? - No</div><div class="content"><p>Grazie per averci comunicato che questa pagina ha bisogno di essere modificata. Siamo spiacenti di non aver soddisfatto le tue esigenze.</p><p>Se hai un momento, ti invitiamo a dirci come possiamo migliorare la documentazione.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/queries-troubleshooting.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>