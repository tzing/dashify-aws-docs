<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="it-IT"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Risoluzione dei problemi relativi alle query in Amazon Redshift Spectrum - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="c-spectrum-troubleshooting" /><meta name="default_state" content="c-spectrum-troubleshooting" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/c-spectrum-troubleshooting.html" /><meta name="description" content="In caso di timeout di una richiesta di Amazon Redshift Spectrum, la richiesta viene annullata e inoltrata di nuovo. Dopo cinque tentativi non riusciti, la query non riesce con il seguente errore. File di grandi dimensioni (superiori a 1 GB). Verificare la dimensione dei file in Amazon S3 e cercare file di dimensioni voluminose e disuguali. Dividi i file di grandi dimensioni in file più piccoli, di dimensione tra 100 MB e 1 GB. Fai in modo che i file siano della stessa dimensione." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guida per sviluppatori di database" /><meta name="abstract" content="Creare e gestire un data warehouse con Amazon Redshift, un servizio di data warehouse completamente gestito di livello aziendale e con capacità nell'ordine di più petabyte." /><meta name="guide-locale" content="it_it" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/c-spectrum-troubleshooting.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/c-spectrum-troubleshooting.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/c-spectrum-troubleshooting.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/c-spectrum-troubleshooting.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/c-spectrum-troubleshooting.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/c-spectrum-troubleshooting.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/c-spectrum-troubleshooting.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/c-spectrum-troubleshooting.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/c-spectrum-troubleshooting.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-spectrum-troubleshooting.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-spectrum-troubleshooting.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/c-spectrum-troubleshooting.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/c-spectrum-troubleshooting.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/c-spectrum-troubleshooting.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/c-spectrum-troubleshooting.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/c-spectrum-troubleshooting.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/c-spectrum-troubleshooting.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c-spectrum-troubleshooting.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c-spectrum-troubleshooting.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/c-spectrum-troubleshooting.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/c-spectrum-troubleshooting.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/c-spectrum-troubleshooting.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guida per sviluppatori di database" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guida per sviluppatori di database" /><meta id="panorama-serviceConsolePage" value="Risoluzione dei problemi relativi alle query in Amazon Redshift Spectrum" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Risoluzione dei problemi relativi alle query in Amazon Redshift Spectrum - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#c-spectrum-troubleshooting" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/c-spectrum-troubleshooting.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/c-spectrum-troubleshooting.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/c-spectrum-troubleshooting.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,sviluppatore,dati campione,database,sviluppatore di database,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guida per sviluppatori di database",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Esecuzione di query sui dati esterni utilizzando Amazon Redshift Spectrum",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg/c-using-spectrum.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Risoluzione dei problemi relativi alle query in Amazon Redshift Spectrum",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg/c-using-spectrum.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#c-spectrum-troubleshooting" target="_blank" rel="noopener noreferrer" title="Apri PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentazione</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guida per sviluppatori di database</a></div><div id="page-toc-src"><a href="#spectrum-troubleshooting-retries-exceeded">Superamento del numero di nuovi tentativi</a><a href="#spectrum-troubleshooting-access-throttled">Accesso limitato</a><a href="#spectrum-troubleshooting-resource-limit-exceeded">Superamento del limite di risorse</a><a href="#spectrum-troubleshooting-no-rows-partitioned-table">Nessuna riga restituita per una tabella partizionata</a><a href="#spectrum-troubleshooting-not-authorized-error">Errore non autorizzato</a><a href="#spectrum-troubleshooting-incompatible-data-format">Formati di dati non compatibili</a><a href="#spectrum-troubleshooting-syntax-error-using-hive-ddl">Errore di sintassi durante l'utilizzo della DDL Hive in Amazon Redshift</a><a href="#spectrum-troubleshooting-permission-to-create-temp-tables">Autorizzazione per creare tabelle temporanee</a><a href="#spectrum-troubleshooting-invalid-range">Intervallo non valido </a><a href="#spectrum-troubleshooting-invalid-parquet-version">Numero versione di Parquet non valido </a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Le traduzioni sono generate tramite traduzione automatica. In caso di conflitto tra il contenuto di una traduzione e la versione originale in Inglese, quest'ultima prevarrà.</p></awsui-alert><h1 class="topictitle" id="c-spectrum-troubleshooting">Risoluzione dei problemi relativi alle query in Amazon Redshift Spectrum</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p></p><p>Di seguito, è possibile trovare un riferimento rapido che identifica e risolve alcuni problemi comuni che si possono incontrare con le query di Amazon Redshift Spectrum. Per visualizzare gli errori generati dalle query di Redshift Spectrum, eseguire una query sulla tabella di sistema <a href="./r_SVL_S3LOG.html">SVL_S3LOG</a>.</p><div class="highlights" id="inline-topiclist"><h6>Argomenti</h6><ul><li><a href="#spectrum-troubleshooting-retries-exceeded">Superamento del numero di nuovi tentativi</a></li><li><a href="#spectrum-troubleshooting-access-throttled">Accesso limitato</a></li><li><a href="#spectrum-troubleshooting-resource-limit-exceeded">Superamento del limite di risorse</a></li><li><a href="#spectrum-troubleshooting-no-rows-partitioned-table">Nessuna riga restituita per una tabella partizionata</a></li><li><a href="#spectrum-troubleshooting-not-authorized-error">Errore non autorizzato</a></li><li><a href="#spectrum-troubleshooting-incompatible-data-format">Formati di dati non compatibili</a></li><li><a href="#spectrum-troubleshooting-syntax-error-using-hive-ddl">Errore di sintassi durante l'utilizzo della DDL Hive in Amazon Redshift</a></li><li><a href="#spectrum-troubleshooting-permission-to-create-temp-tables">Autorizzazione per creare tabelle temporanee</a></li><li><a href="#spectrum-troubleshooting-invalid-range">Intervallo non valido </a></li><li><a href="#spectrum-troubleshooting-invalid-parquet-version">Numero versione di Parquet non valido </a></li></ul></div>
         <h2 id="spectrum-troubleshooting-retries-exceeded">Superamento del numero di nuovi tentativi</h2>

         <p>In caso di timeout di una richiesta di Amazon Redshift Spectrum, la richiesta viene annullata e inoltrata di nuovo. Dopo cinque tentativi non riusciti, la query non riesce con il seguente errore.</p>
         <pre class="screen">error:  Spectrum Scan Error: Retries exceeded</pre>
         <p>Le cause possibili sono: </p>
         <div class="itemizedlist">
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>File di grandi dimensioni (superiori a 1 GB). Verificare la dimensione dei file in Amazon S3 e cercare file di dimensioni voluminose e disuguali. Dividi i file di grandi dimensioni in file più piccoli, di dimensione tra 100 MB e 1 GB. Fai in modo che i file siano della stessa dimensione. </p>
            </li><li class="listitem">
               <p>Throughput di rete lento. Riesegui la query in seguito. </p>
            </li></ul></div>
       
         <h2 id="spectrum-troubleshooting-access-throttled">Accesso limitato</h2>
         <p>Amazon Redshift Spectrum è soggetto alle quote di servizio di altri servizi AWS. In caso di utilizzo elevato, le richieste Redshift Spectrum potrebbero rallentare, causando il seguente errore.</p>
         <pre class="screen">error:  Spectrum Scan Error: Access throttled</pre>
         <p>Possono verificarsi due tipi di limitazione:</p>
         <div class="itemizedlist">
             
             
         <ul class="itemizedlist"><li class="listitem">
            <p>Accesso limitato da Amazon S3</p>
            </li><li class="listitem">
            <p>Accesso limitato da AWS KMS.</p>
            </li></ul></div>
         <p>Il contesto di errore fornisce ulteriori dettagli sul tipo di limitazione. Di seguito, puoi trovare le cause e le possibili risoluzioni per questa limitazione.</p>



          
            <h3 id="spectrum-troubleshooting-access-throttled-s3">Accesso limitato da Amazon S3</h3>
            
            <p>Amazon S3 potrebbe limitare una richiesta Redshift Spectrum se la frequenza di richieste di lettura su un <a href="https://docs.aws.amazon.com/glossary/latest/reference/glos-chap.html#keyprefix">prefisso</a> è troppo alta. Per informazioni sulla frequenza di richieste GET/HEAD che si può ottenere in Amazon S3, consultare <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/optimizing-performance.html">Ottimizzazione delle prestazioni di Amazon S3</a> nella <em>Guida per l'utente di Amazon Simple Storage Service</em>. La frequenza di richieste GET/HEAD di Amazon S3 tiene conto di tutte le richieste GET/HEAD su un prefisso, quindi diverse applicazioni che accedono allo stesso prefisso condividono la frequenza totale delle richieste.</p>
            <p>Se le richieste di Redshift Spectrum vengono spesso limitate da Amazon S3, che riduce il numero di richieste GET/HEAD di Amazon S3 che Redshift Spectrum effettua ad Amazon S3. A tale scopo, prova a unire file di piccole dimensioni in file più grandi. Ti consigliamo di utilizzare dimensioni pari a 64 MB o superiori.</p>
         <p>Considerare inoltre la possibilità di partizionare le tabelle Redshift Spectrum per beneficiare del filtraggio anticipato e ridurre il numero di file a cui si accede in Amazon S3. Per ulteriori informazioni, consultare <a href="./c-spectrum-external-tables.html#c-spectrum-external-tables-partitioning">Partizionamento delle tabelle esterne di Redshift Spectrum</a>. </p>
          
            
          
            <h3 id="spectrum-troubleshooting-access-throttled-kms">Accesso limitato da AWS KMS</h3>
         
            
            <p>Se i dati vengono archiviati in Amazon S3 utilizzando la crittografia lato server (SSE-S3 o SSE-KMS), Amazon S3 chiama un'operazione API su AWS KMS per ogni file al quale accede Redshift Spectrum. Queste richieste vengono conteggiate per la quota delle operazioni di crittografia; per ulteriori informazioni, consultare <a href="https://docs.aws.amazon.com/kms/latest/developerguide/requests-per-second.html">Quote di richiesta AWS KMS</a>. Per ulteriori informazioni su SSE-S3 e SSE-KMS, consultare <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingServerSideEncryption.html">Protezione dei dati tramite crittografia lato server</a> e <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingKMSEncryption.html">Protezione dei dati tramite crittografia lato server con Chiavi KMS archiviate in AWS KMS</a> nella <em>Guida per l'utente di Amazon Simple Storage Service</em>.</p>

            <p>Un primo passo per ridurre il numero di richieste che Redshift Spectrum effettua a AWS KMS consiste nel ridurre il numero di file a cui si accede. A tale scopo, prova a unire file di piccole dimensioni in file più grandi. Ti consigliamo di utilizzare dimensioni pari a 64 MB o superiori.</p>
            <p>Se le richieste Redshift Spectrum vengono limitate spesso da AWS KMS, prendere in considerazione la richiesta di aumento delle quote per la frequenza delle richieste AWS KMS per le operazioni di crittografia. Per richiedere un aumento della quota, consulta <a href="https://docs.aws.amazon.com/general/latest/gr/aws_service_limits.html">Limiti del servizio AWS</a> in <em>Riferimenti generali di Amazon Web Services</em>. </p>
          
       
         <h2 id="spectrum-troubleshooting-resource-limit-exceeded">Superamento del limite di risorse</h2>
         <p>Redshift Spectrum applica un limite superiore sulla quantità di memoria che una richiesta può utilizzare. Una richiesta Redshift Spectrum che richiede più memoria non riesce, causando il seguente errore.</p>
         <pre class="screen">error:  Spectrum Scan Error: Resource limit exceeded</pre>
            <p>Esistono due motivi comuni che possono causare il superamento dei limiti di memoria di una richiesta Redshift Spectrum:</p>
         <div class="itemizedlist">
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>Redshift Spectrum elabora una grande porzione di dati che non possono essere suddivisi in blocchi più piccoli.</p>
            </li><li class="listitem">
               <p>Un passaggio di aggregazione di grandi dimensioni viene elaborato da Redshift Spectrum.</p>
            </li></ul></div>

         <p>Ti consigliamo di utilizzare un formato di file che supporti le letture parallele con dimensioni di divisione pari o inferiori a 128 MB. consultare <a href="./c-spectrum-data-files.html">Creazione di file di dati per le query in Amazon Redshift Spectrum</a> per i formati di file supportati e le linee guida generiche per la creazione di file di dati. Quando utilizzi formati di file o algoritmi di compressione che non supportano le letture parallele, ti consigliamo di mantenere le dimensioni dei file tra 64 MB e 128 MB.</p>
       
         <h2 id="spectrum-troubleshooting-no-rows-partitioned-table">Nessuna riga restituita per una tabella partizionata</h2>

         <p>Se la query restituisce zero righe da una tabella esterna partizionata, verifica se una partizione è stata aggiunta per questa tabella esterna. Redshift Spectrum esegue la scansione dei file in una posizione Amazon S3 che è stata esplicitamente aggiunta utilizzando <code class="code">ALTER TABLE … ADD PARTITION</code>. Esegui la query sulla vista <a href="./r_SVV_EXTERNAL_PARTITIONS.html">SVV_EXTERNAL_PARTITIONS</a> per trovare le partizioni esistenti. Esegui <code class="code">ALTER TABLE … ADD PARTITION</code> per ogni partizione mancante. </p>
       
         <h2 id="spectrum-troubleshooting-not-authorized-error">Errore non autorizzato</h2>

         <p>Verificare che il ruolo IAM per il cluster consenta l'accesso agli oggetti dei file Amazon S3. Se il database esterno si trova in Amazon Athena, verificare che il ruolo IAM consenta l'accesso alle risorse Athena. Per ulteriori informazioni, consultare <a href="./c-spectrum-iam-policies.html">Policy IAM per Amazon Redshift Spectrum</a>.</p>
       
         <h2 id="spectrum-troubleshooting-incompatible-data-format">Formati di dati non compatibili</h2>

         <p>Per un formato di file a colonne, come Apache Parquet, il tipo di colonna è incorporato ai dati. Il tipo di colonna nella definizione CREATE EXTERNAL TABLE deve corrispondere al tipo di colonna del file di dati. In caso di mancata corrispondenza, viene visualizzato un messaggio di errore simile al seguente:</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">File 'https://s3bucket/location/file has an incompatible Parquet schema
for column ‘s3://s3bucket/location.col1'. Column type: VARCHAR, Par</code></pre>
         <p>Il messaggio potrebbe essere troncato a causa del limite della lunghezza del messaggio. Per recuperare il messaggio completo, incluso il nome e il tipo di colonna, eseguire una query sulla vista di sistema <a href="./r_SVL_S3LOG.html">SVL_S3LOG</a>.</p>
         <p>Le seguenti query di esempio SVL_S3LOG per l'ultima query completata.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">select message 
from svl_s3log 
where query = pg_last_query_id() 
order by query,segment,slice;</code></pre>
         <p>Quanto segue è un esempio di risultato che mostra un messaggio di errore completo.</p>

         <pre class="screen">                            message
–––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––––-
Spectrum Scan Error. File 'https://s3bucket/location/file has an incompatible
Parquet schema for column ' s3bucket/location.col1'. 
Column type: VARCHAR, Parquet schema:\noptional int64 l_orderkey [i:0 d:1 r:0]\n</pre>
         <p>Per correggere l'errore, modifica la tabella esterna affinché corrisponda al tipo di colonna del file Parquet. </p>
       
         <h2 id="spectrum-troubleshooting-syntax-error-using-hive-ddl">Errore di sintassi durante l'utilizzo della DDL Hive in Amazon Redshift</h2>

         <p>Per CREATE EXTERNAL TABLE, Amazon Redshift supporta un linguaggio DDL che è simile al linguaggio DDL Hive. Tuttavia, i due tipi di DDL non sono sempre esattamente gli stessi. Se si copia il DDL Hive per creare o modificare le tabelle esterne Amazon Redshift, è possibile che si verifichino errori di sintassi. Di seguito sono riportati alcuni esempi di differenze tra  Amazon Redshift e la DDL Hive: </p>
         <div class="itemizedlist">
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>Amazon Redshift richiede l'utilizzo di virgolette singole (') mentre la DDL Hive supporta le virgolette doppie (").</p>
            </li><li class="listitem">
               <p>Amazon Redshift non supporta il tipo di dati STRING. Utilizza invece VARCHAR.</p>
            </li></ul></div>
       
         <h2 id="spectrum-troubleshooting-permission-to-create-temp-tables">Autorizzazione per creare tabelle temporanee</h2>
         <p>Per eseguire le query di Redshift Spectrum, l'utente del database deve disporre dell'autorizzazione per creare tabelle temporanee nel database. L'esempio seguente concede l'autorizzazione temporanea per il database <code class="code">spectrumdb</code> al gruppo di utenti <code class="code">spectrumusers</code>. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">grant temp on database spectrumdb  to group spectrumusers;</code></pre>
         <p>Per ulteriori informazioni, consulta <a href="./r_GRANT.html">GRANT</a>.</p>
       
      
      <h2 id="spectrum-troubleshooting-invalid-range">Intervallo non valido </h2>
      <p>Redshift Spectrum prevede che i file in Amazon S3 appartenenti a una tabella esterna non vengano sovrascritti durante una query. In tal caso, può restituire il seguente errore.</p>
      <pre class="screen">Error: HTTP response error code: 416 Message: InvalidRange The requested range is not satisfiable</pre>
      <p>Per evitare l'errore, assicurati che i file Amazon S3 non vengano sovrascritti mentre sono soggetti a query con Redshift Spectrum.</p>    
    
         
         <h2 id="spectrum-troubleshooting-invalid-parquet-version">Numero versione di Parquet non valido </h2>
         <p>Redshift Spectrum controlla i metadati di ogni file Apache Parquet a cui accede. Se il controllo ha esito negativo, può essere visualizzato un errore simile al seguente:</p>
         <pre class="screen">File 'https://s3.<code class="replaceable">region</code>.amazonaws.com/s3bucket/location/file has an invalid version number</pre>
         <p>L'esito negativo del controllo può essere causato da due motivi comuni:</p>
         <div class="itemizedlist">
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>Il file Parquet è stato sovrascritto durante la query (consulta <a href="#spectrum-troubleshooting-invalid-range">Intervallo non valido </a>).</p>
            </li><li class="listitem">
               <p>Il file Parquet è danneggiato.</p>
            </li></ul></div>   
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avvertimento" /> <strong>JavaScript è disabilitato o non è disponibile nel tuo browser.</strong></p><p>Per usare la documentazione AWS, JavaScript deve essere abilitato. Consulta le pagine della guida del browser per le istruzioni.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenzioni dei documenti</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./c-spectrum-metrics.html">Monitoraggio di parametri</div><div id="next" class="next-link" accesskey="n" href="./tutorial-query-nested-data.html">Tutorial: Esecuzione di query su dati nidificati con Amazon Redshift Spectrum </div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Questa pagina ti è stata utile? - Sì</div><div class="content"><p>Grazie per averci comunicato che stiamo facendo un buon lavoro!</p><p>Se hai un momento, ti invitiamo a dirci che cosa abbiamo fatto che ti è piaciuto così possiamo offrirti altri contenuti simili.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/c-spectrum-troubleshooting.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Questa pagina ti è stata utile? - No</div><div class="content"><p>Grazie per averci comunicato che questa pagina ha bisogno di essere modificata. Siamo spiacenti di non aver soddisfatto le tue esigenze.</p><p>Se hai un momento, ti invitiamo a dirci come possiamo migliorare la documentazione.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/c-spectrum-troubleshooting.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>