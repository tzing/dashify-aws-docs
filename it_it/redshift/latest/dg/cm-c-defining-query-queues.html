<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="it-IT"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Implementazione di WLM manuale - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="cm-c-defining-query-queues" /><meta name="default_state" content="cm-c-defining-query-queues" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/cm-c-defining-query-queues.html" /><meta name="description" content="Definire le code di query modificando la configurazione WLM manuale in Amazon Redshift per un cluster in modo da definire fino a otto code di query oltre alla coda dell'utente con privilegi avanzati." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guida per sviluppatori di database" /><meta name="abstract" content="Creare e gestire un data warehouse con Amazon Redshift, un servizio di data warehouse completamente gestito di livello aziendale e con capacità nell'ordine di più petabyte." /><meta name="guide-locale" content="it_it" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/cm-c-defining-query-queues.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/cm-c-defining-query-queues.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/cm-c-defining-query-queues.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/cm-c-defining-query-queues.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/cm-c-defining-query-queues.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/cm-c-defining-query-queues.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/cm-c-defining-query-queues.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/cm-c-defining-query-queues.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/cm-c-defining-query-queues.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/cm-c-defining-query-queues.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/cm-c-defining-query-queues.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/cm-c-defining-query-queues.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/cm-c-defining-query-queues.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/cm-c-defining-query-queues.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/cm-c-defining-query-queues.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/cm-c-defining-query-queues.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/cm-c-defining-query-queues.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm-c-defining-query-queues.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/cm-c-defining-query-queues.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/cm-c-defining-query-queues.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/cm-c-defining-query-queues.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/cm-c-defining-query-queues.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guida per sviluppatori di database" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guida per sviluppatori di database" /><meta id="panorama-serviceConsolePage" value="Implementazione di WLM manuale" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Implementazione di WLM manuale - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#cm-c-defining-query-queues" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/cm-c-defining-query-queues.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/cm-c-defining-query-queues.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/cm-c-defining-query-queues.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,sviluppatore,dati campione,database,sviluppatore di database,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guida per sviluppatori di database",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Implementazione della gestione del carico di lavoro",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg/cm-c-implementing-workload-management.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Implementazione di WLM manuale",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg/cm-c-implementing-workload-management.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#cm-c-defining-query-queues" target="_blank" rel="noopener noreferrer" title="Apri PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentazione</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guida per sviluppatori di database</a></div><div id="page-toc-src"><a href="#concurrency-scaling-mode">Modalità dimensionamento simultaneo</a><a href="#cm-c-defining-query-queues-concurrency-level">Livello di simultaneità</a><a href="#cm-c-defining-query-queues-user-groups">Gruppi di utenti</a><a href="#cm-c-defining-query-queues-query-groups">Gruppi di query</a><a href="#wlm-wildcards">Caratteri jolly</a><a href="#wlm-memory-percent">Percentuale di memoria WLM da utilizzare</a><a href="#wlm-timeout">Timeout WLM</a><a href="#wlm-query-monitoring-rules">Regole di monitoraggio delle query</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Le traduzioni sono generate tramite traduzione automatica. In caso di conflitto tra il contenuto di una traduzione e la versione originale in Inglese, quest'ultima prevarrà.</p></awsui-alert><h1 class="topictitle" id="cm-c-defining-query-queues">Implementazione di WLM manuale</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Con il WLM manuale, è possibile gestire le prestazioni del sistema e l'esperienza degli utenti modificando la configurazione WLM per creare code separate per le query a esecuzione prolungata e le query a esecuzione breve.</p><p>Quando gli utenti eseguono query in Amazon Redshift, le query vengono indirizzate alle code di query. Ogni coda di query contiene un numero di slot di query. A ogni coda viene assegnata una parte della memoria disponibile del cluster. La memoria di una coda viene ripartita tra gli slot di query della coda. È possibile abilitare Amazon Redshift in modo che gestisca la simultaneità delle query con la WLM automatica. Per ulteriori informazioni, consultare <a href="./automatic-wlm.html">Implementazione del WLM automatico</a>.</p><p>Oppure puoi configurare proprietà WLM per ogni coda di query. Tale operazione serve per specificare il modo in cui la memoria viene allocata agli slot e come le query vengono indirizzate alle code specifiche durante il runtime. Inoltre, puoi configurare le proprietà WLM per annullare le query di lunga esecuzione.</p><p>Per impostazione predefinita, Amazon Redshift configura le code di query elencate di seguito:</p><div class="itemizedlist">
          
          
      <ul class="itemizedlist"><li class="listitem">
            <p> <b>Una coda dell'utente con privilegi avanzati</b> </p>
            <p>La coda dell'utente con privilegi avanzati è riservata solo agli utenti con privilegi avanzati e non può essere configurata. Utilizzare questa coda solo se è necessario eseguire query che interessano il sistema o per la risoluzione dei problemi. Ad esempio, utilizzare questa coda quando è necessario annullare la query a esecuzione prolungata di un utente o aggiungere utenti al database. Non utilizzarla per eseguire le query di routine. La coda non viene mostrata nella console, ma è presente nelle tabelle di sistema del database come quinta coda. Per eseguire una query nella coda dell'utente con privilegi avanzati, un utente deve aver eseguito l'accesso come utente con privilegi avanzati e deve eseguire la query utilizzando il gruppo di query predefinito <code class="code">superuser</code>.</p>
         </li><li class="listitem">
            <p> <b>Una coda dell'utente predefinita</b> </p>
            <p>La coda predefinita è inizialmente configurata per eseguire cinque query contemporaneamente. Quando si utilizza il WLM manuale, è possibile modificare le proprietà di simultaneità, timeout e allocazione della memoria per la coda predefinita, ma non è possibile specificare gruppi di utenti o gruppi di query. La coda predefinita deve essere l'ultima coda nella configurazione WLM. Qualsiasi query che non viene instradata ad altre code, viene eseguita nella coda predefinita. </p>
         </li></ul></div><p>Le code di query sono definite nella configurazione WLM. La configurazione WLM è un parametro modificabile (<code class="code">wlm_json_configuration</code>) in un gruppo di parametri che può essere associato a uno o più cluster. Per informazioni, consulta <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/workload-mgmt-config.html">Configurazione della gestione del carico di lavoro</a> nella <em>Guida alla gestione di Amazon Redshift</em>. </p><p>Puoi aggiungere altre code di query alla configurazione WLM predefinita, fino a un totale di otto code dell'utente. Per ogni coda di query puoi configurare le seguenti opzioni: </p><div class="itemizedlist">
          
          
          
          
          
          
          
          
      <ul class="itemizedlist"><li class="listitem">
            <p>Modalità dimensionamento simultaneo </p>
         </li><li class="listitem">
            <p>Livello di simultaneità </p>
         </li><li class="listitem">
            <p>Gruppi di utenti </p>
         </li><li class="listitem">
            <p>Gruppi di query </p>
         </li><li class="listitem">
            <p>Percentuale di memoria WLM da utilizzare</p>
         </li><li class="listitem">
            <p>Timeout WLM</p>
         </li><li class="listitem">
            <p>Hop della coda di query WLM</p>
         </li><li class="listitem">
            <p>Regole di monitoraggio delle query</p>
         </li></ul></div>
         <h2 id="concurrency-scaling-mode">Modalità dimensionamento simultaneo</h2>
         <p>Quando il dimensionamento simultaneo è abilitato, Amazon Redshift aggiunge automaticamente ulteriore capacità del cluster quando necessario per elaborare un aumento delle query di lettura r scrittura simultanee. Gli utenti visualizzano sempre i dati più recenti, indipendentemente dal fatto che le query vengano eseguite nel cluster principale o in un cluster di dimensionamento simultaneo. </p>
         <p>È possibile gestire le query inviate al cluster di dimensionamento simultaneo configurando le code di gestione del carico di lavoro. Quando abiliti il dimensionamento simultaneo per una coda, le query idonee vengono inviate al cluster di dimensionamento simultaneo anziché attendere in coda. Per ulteriori informazioni, consulta <a href="./concurrency-scaling.html">Utilizzo del dimensionamento della simultaneità</a>.</p>
       
         <h2 id="cm-c-defining-query-queues-concurrency-level">Livello di simultaneità</h2>
         <p>Le query in una coda vengono eseguite contemporaneamente fino al raggiungimento del conteggio degli slot di query WLM, detto livello di<em> simultaneità</em>, definito per la coda. Le query successive quindi attendono in coda.</p>
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>Il livello di simultaneità WLM è diverso dal numero di connessioni dell'utente simultanee che possono essere eseguite a un cluster. Per ulteriori informazioni, consulta <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/connecting-to-cluster.html">Connessione a un cluster</a> nella <em>Guida alla gestione di Amazon Redshift</em>.</p></div></div>
         <p>In una configurazione WLM automatica (consigliata), il livello di simultaneità è impostato su <b>Auto</b>. Amazon Redshift alloca dinamicamente la memoria alle query, che successivamente determina quante se ne devono eseguire contemporaneamente. Ciò è basato sulle risorse necessarie sia per le query esecuzione che per quelle in coda. Il WLM automatico non è configurabile. Per ulteriori informazioni, consulta <a href="./automatic-wlm.html">Implementazione del WLM automatico</a>. </p>
        
         <p>In una configurazione WLM manuale, Amazon Redshift alloca in modo statico una quantità fissa di memoria a ciascuna coda. La memoria della coda è suddivisa equamente tra gli slot di query. Ad esempio, se a una coda è allocato il 20% della memoria di un cluster e ha 10 slot, a ciascuna query viene allocato il 2% della memoria del cluster. L'allocazione della memoria rimane fissa indipendentemente dal numero di query eseguite contemporaneamente. A causa di questa allocazione fissa di memoria, le query eseguite interamente in memoria quando il numero di slot è 5 potrebbe dover scrivere i risultati intermedi sul disco se il numero degli slot è aumentato a 20. In questo caso, ogni condivisione della memoria della coda viene ridotta da 1/5 a 1/20. L'I/O del disco aggiuntivo potrebbe compromettere le prestazioni. </p>
         <p>Il numero massimo degli slot per tutte le code definite dall'utente è 50. Questo limita gli slot totali per tutte le code, inclusa la coda predefinita. L'unica coda che non è soggetta al limite è quella riservata agli utenti con privilegi avanzati.</p>
      
  
         
   
         <p>Per impostazione predefinita, le code WLM hanno un livello di simultaneità pari a 5. Il carico di lavoro potrebbe beneficiare di un livello di simultaneità più elevato in alcuni casi, come ad esempio il seguente:</p>
         <div class="itemizedlist">
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>Se molte piccole query sono costrette ad attendere le query a esecuzione prolungata, crea una coda separata con un numero di slot superiore e assegna le query più piccole a quella coda. Una coda con un livello di simultaneità più alto ha meno memoria allocata per ogni spazio di query, ma le query più piccole richiedono meno memoria.</p>
               <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>Se si abilita l'accelerazione di query brevi (SQA), WLM assegna automaticamente la priorità alle query brevi su query più lunghe, quindi non è necessaria una coda separata per le query brevi per la maggior parte dei flussi di lavoro. Per ulteriori informazioni, consulta <a href="./wlm-short-query-acceleration.html">Utilizzo dall'accelerazione di query brevi</a>. </p></div></div>
            </li><li class="listitem">
               <p>Se sono presenti più query, ognuna delle quali accede ai dati di una singola sezione, impostare una coda WLM separata in modo da eseguire queste query contemporaneamente. Amazon Redshift assegna query simultanee a sezioni separate, consentendo l'esecuzione di più query in parallelo su più sezioni. Ad esempio, se una query è una semplice aggregazione con un predicato sulla chiave di distribuzione, i dati per la query si troveranno su una singola sezione. </p>
            </li></ul></div>
    
          
            <h3 id="cm-c-defining-query-queues-concurrency-level-example">Un esempio di WLM manuale</h3>
            <p> Questo esempio è uno scenario semplice di WLM manuale per mostrare come è possibile allocare slot e memoria. Implementa il WLM manuale con tre code, che sono le seguenti: </p>
            <div class="itemizedlist">
                
                
                
            <ul class="itemizedlist"><li class="listitem"><p><em>Coda di importazione dei dati</em>: è impostata per l'importazione dei dati. È allocato il 20% della memoria del cluster e dispone di 5 slot. Pertanto, possono essere eseguite contemporaneamente 5 query in coda e per ciascuna viene allocato il 4% della memoria.</p></li><li class="listitem"><p><em>Coda data-scientist</em>: progettata per query che richiedono un uso intensivo della memoria. È allocato il 40% della memoria del cluster e dispone di 5 slot. Pertanto, possono essere eseguite contemporaneamente 5 query e per ciascuna viene allocato l'8% della memoria.</p></li><li class="listitem"><p><em>coda predefinita</em>: è progettata per la maggior parte degli utenti dell'organizzazione. Ciò include i gruppi di vendita e contabilità che in genere eseguono query di breve o media esecuzione e che non sono complicate. È allocato il 40% della memoria del cluster e dispone di 40 slot. 40 query possono essere eseguite contemporaneamente in questa coda, e a ogni query è allocato l'1% della memoria. Questo è il numero massimo di slot che possono essere allocati per questa coda perché tra tutte le code il limite è 50.</p></li></ul></div>
  
          
         
         <p>Se è esecuzione il WLM automatico e il carico di lavoro richiede l'esecuzione in parallelo di 15 query, è consigliabile abilitare il dimensionamento simultaneo. Questo perché l'aumento del numero di slot di query oltre 15 potrebbe creare conflitti per le risorse di sistema e limitare la velocità di trasmissione effettiva complessiva di un singolo cluster. Con il dimensionamento simultaneo, puoi eseguire centinaia di query in parallelo fino a un numero configurato di cluster con dimensionamento simultaneo. Il numero di cluster con dimensionamento simultaneo che è possibile utilizzare è controllato da <a href="./r_max_concurrency_scaling_clusters.html">max_concurrency_scaling_clusters</a>. Per ulteriori informazioni sul dimensionamento simultaneo, consultare <a href="./concurrency-scaling.html">Utilizzo del dimensionamento della simultaneità</a>. </p>
            
             
         
         
         
         
   
         <p>Per ulteriori informazioni, consulta <a href="./query-performance-improvement-opportunities.html">Miglioramento delle prestazioni della query di </a>. </p>
       
         <h2 id="cm-c-defining-query-queues-user-groups">Gruppi di utenti</h2>
         
         
         <p>Puoi assegnare un set di gruppi di utenti a una coda specificando il nome di ogni gruppo di utenti o utilizzando i caratteri jolly. Quando un membro di un gruppo utenti elencato esegue una query, quella query viene eseguita nella coda corrispondente. Non esiste un limite impostato per il numero di gruppi di utenti che possono essere assegnati a una coda. Per ulteriori informazioni, consultare <a href="./cm-c-executing-queries.html#cm-c-executing-queries-assigning-queries-to-queues-based-on-user-groups">Assegnazione delle query alle code in base ai gruppi di utenti</a>. </p>
       
         <h2 id="cm-c-defining-query-queues-query-groups">Gruppi di query </h2>
         
         
         <p>Puoi assegnare un set di gruppi di query a una coda specificando il nome di ogni gruppo di query o utilizzando i caratteri jolly. Un gruppo di query è semplicemente un'etichetta. In fase di runtime, puoi assegnare l'etichetta del gruppo di query a una serie di query. Qualsiasi query che viene assegnata a un gruppo di query elencato verrà eseguita nella coda corrispondente. Non esiste un limite definito per il numero di gruppi di query che possono essere assegnati a una coda. Per ulteriori informazioni, consulta <a href="./cm-c-executing-queries.html#cm-c-executing-queries-assigning-a-query-to-a-query-group">Assegnazione di una query a un gruppo di utenti</a>. </p>
       
         <h2 id="wlm-wildcards">Caratteri jolly</h2>
         
         <p>Se i caratteri jolly sono abilitati nella configurazione della coda WLM, puoi assegnare gruppi di utenti e gruppi di query a una coda individualmente o utilizzando i caratteri jolly nello stile shell Unix. La corrispondenza del modello fa distinzione tra maiuscole e minuscole. </p>
         <p>Ad esempio, il carattere jolly “*” corrisponde a qualsiasi numero di caratteri. Pertanto, se aggiungi <code class="code">dba_*</code> all'elenco dei gruppi di utenti di una coda, qualsiasi query eseguita dagli utenti che appartiene a un gruppo con un nome che inizia con <code class="code">dba_</code> verrà assegnata a quella coda. Un paio di esempi sono <code class="code">dba_admin</code> o <code class="code">DBA_primary</code>. Il carattere jolly “?” corrisponde a qualsiasi carattere singolo. Pertanto, se la coda include il gruppo di utenti <code class="code">dba?1</code>, i gruppi di utenti denominati <code class="code">dba11</code> e <code class="code">dba21</code> corrisponderanno, ma non quelli chiamati <code class="code">dba12</code>. </p>
         <p>I caratteri jolly sono disattivati per impostazione predefinita.</p>
       
         <h2 id="wlm-memory-percent">Percentuale di memoria WLM da utilizzare</h2>
         <p>Nella configurazione WLM automatica, la percentuale di memoria è impostata su <code class="userinput">auto</code>. Per ulteriori informazioni, consultare <a href="./automatic-wlm.html">Implementazione del WLM automatico</a>. </p>
         
         <p>In una configurazione WLM manuale, per specificare la quantità di memoria disponibile allocata a una query puoi impostare il parametro <code class="code">WLM Memory Percent to Use</code>. Per impostazione predefinita, a ogni coda definita dall'utente viene allocata una porzione uguale della memoria disponibile per le query definite dall'utente. Ad esempio, se hai quattro code definite dall'utente, a ciascuna coda viene assegnato il 25 percento della memoria disponibile. La coda dell'utente con privilegi avanzati ha una sua memoria allocata che non può essere modificata. Per modificare l'allocazione, assegni una percentuale intera di memoria a ciascuna coda, fino a un totale del 100 percento. Qualsiasi memoria non allocata è gestita da Amazon Redshift e può essere temporaneamente assegnata a una coda, se la coda richiede memoria aggiuntiva per l'elaborazione. </p>
         <p>Ad esempio, se configuri quattro code, puoi allocare la memoria come segue: 20 percento, 30 percento, 15 percento, 15 percento. Il restante 20 percento è non assegnato ed è gestito dal servizio.</p>
       
         <h2 id="wlm-timeout">Timeout WLM</h2>
         <p>Il timeout WLM (<code class="code">max_execution_time</code>) è sconsigliato. Al contrario, è necessario creare una regola di monitoraggio di query (QMR) utilizzando <code class="code">query_execution_time</code> per limitare il tempo di esecuzione trascorso per una query. Per ulteriori informazioni, consultare <a href="./cm-c-wlm-query-monitoring-rules.html">Regole di monitoraggio delle query WLM</a>. </p>
         
         <p>Per limitare il tempo di utilizzo delle query in una determinata coda WLM, puoi impostare il valore di timeout WLM per ogni coda. Il parametro di timeout specifica la quantità di tempo, in millisecondi, che Amazon Redshift attende per l'esecuzione di una query prima di annullare o saltare la query. Il timeout si basa sul tempo di esecuzione della query e non include il tempo trascorso in attesa in una coda. </p>
         <p>WLM tenta di saltare le istruzioni <a href="./r_CREATE_TABLE_AS.html">CREATE TABLE AS</a> (CTAS) e le query di sola lettura, ad esempio le istruzioni SELECT. Le query che non possono essere saltate vengono annullate. Per ulteriori informazioni, consultare <a href="./wlm-queue-hopping.html">Hop della coda di query WLM</a>.</p>
         <p>Il timeout WLM non si applica a una query il cui stato è returning. Per visualizzare lo stato di una query, consultare la tabella di sistema <a href="./r_STV_WLM_QUERY_STATE.html">STV_WLM_QUERY_STATE</a>. Le istruzioni COPY e le operazioni di manutenzione, come ANALYZE e VACUUM, non sono soggette al timeout WLM.</p>
         <p>La funzione del timeout WLM è simile al parametro di configurazione <a href="./r_statement_timeout.html">statement_timeout</a>, con la differenza che quando il parametro di configurazione <code class="code">statement_timeout</code> si applica all'intero cluster, il timeout WLM è specifico di una singola coda nella configurazione WLM. </p>
         <p>Se si specifica anche <a href="./r_statement_timeout.html">statement_timeout</a>, viene utilizzato il valore più basso di statement_timeout e il timeout WLM (max_execution_time). </p>
       
         <h2 id="wlm-query-monitoring-rules">Regole di monitoraggio delle query</h2>
         

         <p>Le regole di monitoraggio delle query definiscono i limiti delle prestazioni basati sui parametri per le code WLM e specificano l'azione da intraprendere quando una query oltrepassa tali limiti. Ad esempio, per una coda dedicata alle query di breve durata, puoi creare una regola che annulla le query eseguite per più di 60 secondi. Per tracciare le query mal progettate, potresti avere un'altra regola che registra le query che contengono cicli annidati. Per ulteriori informazioni, consultare <a href="./cm-c-wlm-query-monitoring-rules.html">Regole di monitoraggio delle query WLM</a>.</p>
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avvertimento" /> <strong>JavaScript è disabilitato o non è disponibile nel tuo browser.</strong></p><p>Per usare la documentazione AWS, JavaScript deve essere abilitato. Consulta le pagine della guida del browser per le istruzioni.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenzioni dei documenti</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./query-priority.html">Priorità delle query</div><div id="next" class="next-link" accesskey="n" href="./wlm-queue-hopping.html">Hop della coda di query WLM</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Questa pagina ti è stata utile? - Sì</div><div class="content"><p>Grazie per averci comunicato che stiamo facendo un buon lavoro!</p><p>Se hai un momento, ti invitiamo a dirci che cosa abbiamo fatto che ti è piaciuto così possiamo offrirti altri contenuti simili.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/cm-c-defining-query-queues.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Questa pagina ti è stata utile? - No</div><div class="content"><p>Grazie per averci comunicato che questa pagina ha bisogno di essere modificata. Siamo spiacenti di non aver soddisfatto le tue esigenze.</p><p>Se hai un momento, ti invitiamo a dirci come possiamo migliorare la documentazione.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/cm-c-defining-query-queues.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>