<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="it-IT"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tutorial: Creazione di modelli di abbandono dei clienti - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="tutorial_customer_churn" /><meta name="default_state" content="tutorial_customer_churn" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/tutorial_customer_churn.html" /><meta name="description" content="Utilizza questo tutorial per un esempio end-to-end della creazione di un modello di machine learning Amazon Redshift e dell'esecuzione di query di inferenza." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guida per sviluppatori di database" /><meta name="abstract" content="Creare e gestire un data warehouse con Amazon Redshift, un servizio di data warehouse completamente gestito di livello aziendale e con capacità nell'ordine di più petabyte." /><meta name="guide-locale" content="it_it" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/tutorial_customer_churn.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/tutorial_customer_churn.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/tutorial_customer_churn.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/tutorial_customer_churn.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/tutorial_customer_churn.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/tutorial_customer_churn.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/tutorial_customer_churn.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/tutorial_customer_churn.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/tutorial_customer_churn.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/tutorial_customer_churn.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/tutorial_customer_churn.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/tutorial_customer_churn.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/tutorial_customer_churn.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/tutorial_customer_churn.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/tutorial_customer_churn.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/tutorial_customer_churn.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/tutorial_customer_churn.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/tutorial_customer_churn.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/tutorial_customer_churn.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/tutorial_customer_churn.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/tutorial_customer_churn.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/tutorial_customer_churn.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guida per sviluppatori di database" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guida per sviluppatori di database" /><meta id="panorama-serviceConsolePage" value="Tutorial: Creazione di modelli di abbandono dei clienti" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Tutorial: Creazione di modelli di abbandono dei clienti - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#tutorial_customer_churn" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/tutorial_customer_churn.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/tutorial_customer_churn.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/tutorial_customer_churn.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,sviluppatore,dati campione,database,sviluppatore di database,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guida per sviluppatori di database",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Utilizzo del machine learning in Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg/machine_learning.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Nozioni di base su Amazon Redshift ML",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg/getting-started-machine-learning.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Tutorial per Amazon Redshift ML",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg/tutorials_for_amazon_redshift_ml.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Tutorial: Creazione di modelli di abbandono dei clienti",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg/tutorials_for_amazon_redshift_ml.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#tutorial_customer_churn" target="_blank" rel="noopener noreferrer" title="Apri PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentazione</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guida per sviluppatori di database</a></div><div id="page-toc-src"><a href="#tutorial_customer_churn_tasks">Esempi di casi d'uso</a><a href="#tutorial_customer_churn_prereqs">Prerequisiti</a><a href="#tutorial_customer_churn_step_load">Passaggio 1: caricamento dei dati da Amazon S3 ad Amazon Redshift</a><a href="#tutorial_customer_churn_step_create_model">Passaggio 2: creazione del modello di machine learning</a><a href="#tutorial_customer_churn_step_perform_predictions">Passaggio 3: esecuzione di previsioni con il modello</a><a href="#tutorial_customer_churn_related_topics">Argomenti correlati</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Le traduzioni sono generate tramite traduzione automatica. In caso di conflitto tra il contenuto di una traduzione e la versione originale in Inglese, quest'ultima prevarrà.</p></awsui-alert><h1 class="topictitle" id="tutorial_customer_churn">Tutorial: Creazione di modelli di abbandono dei clienti</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>In questo tutorial, utilizzi Amazon Redshift ML per creare un modello di abbandono dei clienti con il comando CREATE MODEL ed eseguire query di previsione per gli scenari utente. Implementerai quindi le query utilizzando la funzione SQL generata dal comando CREATE MODEL.</p><p>È possibile usare un semplice comando CREATE MODEL per esportare i dati di addestramento, addestrare un modello, importare il modello e preparare una funzione di previsione Amazon Redshift. Utilizzare l'istruzione CREATE MODEL per specificare i dati di addestramento come tabella o istruzione SELECT.</p><p>L'esempio utilizza queste informazioni cronologiche per creare un modello di machine learning per le previsioni di abbandono dei clienti di un operatore di telefonia mobile. Innanzitutto, SageMaker addestra il modello di machine learning per poi testarlo utilizzando le informazioni del profilo di un cliente arbitrario. Dopo la convalida, Amazon SageMaker distribuisce il modello e la funzione di previsione su Amazon Redshift. È possibile utilizzare la funzione di previsione per prevedere se un cliente intende o meno abbandonare il servizio.</p>
            <h2 id="tutorial_customer_churn_tasks">Esempi di casi d'uso</h2>
            <p>Puoi risolvere altri problemi di classificazione binaria utilizzando Amazon Redshift ML, ad esempio prevedere se un lead di vendita verrà chiuso o meno. Puoi anche prevedere se una transazione finanziaria è legale o meno.</p>
            <p><b>Attività</b></p><div class="itemizedlist">
                
                
                
                
            <ul class="itemizedlist"><li class="listitem">
                  <p>Prerequisiti</p>
               </li><li class="listitem">
                  <p>Passaggio 1: caricamento dei dati da Amazon S3 ad Amazon Redshift</p>
               </li><li class="listitem">
                  <p>Passaggio 2: creazione del modello di machine learning</p>
               </li><li class="listitem">
                  <p>Passaggio 3: esecuzione di previsioni con il modello</p>
               </li></ul></div>
          
            <h2 id="tutorial_customer_churn_prereqs">Prerequisiti</h2>
            <p>I prerequisiti per il completamento di questo sono elencati di seguito:</p>
            
            
            <div class="itemizedlist">
               
                
                
                
               
            <ul class="itemizedlist"><li class="listitem">
                  <p>Devi configurare un cluster Amazon Redshift per Amazon Redshift ML. A questo scopo, utilizza la documentazione per <a href="https://docs.aws.amazon.com/redshift/latest/dg/admin-setup.html">configurare il cluster e le impostazioni per l'amministrazione di Amazon Redshift ML.</a></p>
               </li><li class="listitem">
                  <p>Il cluster Amazon Redshift usato per creare il modello e il bucket Amazon S3 usato per la gestione temporanea dei dati di addestramento e per l'archiviazione degli artefatti del modello devono trovarsi nella stessa regione AWS.</p>
               </li><li class="listitem">
                  <p>Per scaricare i comandi SQL e i set di dati di esempio utilizzati nella documentazione, esegui una delle seguenti operazioni:</p>
                  <div class="itemizedlist">
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>Scaricare i <a href="https://s3.amazonaws.com/redshift-downloads/redshift-ml/tutorial-scripts/redshift-ml-tutorial.sql" rel="noopener noreferrer" target="_blank"><span>comandi SQL</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>, il <a href="https://s3.amazonaws.com/redshift-downloads/redshift-ml/customer_activity/customer_activity.csv" rel="noopener noreferrer" target="_blank"><span>file delle attività dei clienti</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> e il <a href="https://s3.amazonaws.com/redshift-downloads/redshift-ml/abalone_xg/abalone.csv" rel="noopener noreferrer" target="_blank"><span>file Abalone</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
                     </li><li class="listitem">
                        <p>Utilizzando la AWS CLI per Amazon S3, emettere il seguente comando. È possibile utilizzare il proprio percorso di destinazione.</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws s3 cp s3://redshift-downloads/redshift-ml/tutorial-scripts/redshift-ml-tutorial.sql <code class="replaceable">&lt;/target/path&gt;</code>
aws s3 cp s3://redshift-downloads/redshift-ml/customer_activity/customer_activity.csv <code class="replaceable">&lt;/target/path&gt;</code>
aws s3 cp s3://redshift-downloads/redshift-ml/abalone_xgb/abalone_xgb.csv <code class="replaceable">&lt;/target/path&gt;</code></code></pre>
                     </li></ul></div>
               </li></ul></div>
          
            <h2 id="tutorial_customer_churn_step_load">Passaggio 1: caricamento dei dati da Amazon S3 ad Amazon Redshift</h2>
            <p>Utilizza l'<a href="https://docs.aws.amazon.com/redshift/latest/mgmt/query-editor-v2-using.html">editor di query v2 di Amazon Redshift</a> per modificare ed eseguire query e visualizzare i risultati.</p>
            <p>L'esecuzione delle seguenti query consente di creare una tabella denominata <code class="code">customer_activity</code> e acquisisce il set di dati di esempio da Amazon S3.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">DROP TABLE IF EXISTS customer_activity;

CREATE TABLE customer_activity (
state varchar(2),
account_length int,
area_code int,
phone varchar(8),
intl_plan varchar(3),
vMail_plan varchar(3),
vMail_message int,
day_mins float,
day_calls int,
day_charge float,
total_charge float,
eve_mins float,
eve_calls int,
eve_charge float,
night_mins float,
night_calls int,
night_charge float,
intl_mins float,
intl_calls int,
intl_charge float,
cust_serv_calls int,
churn varchar(6),
record_date date
);

COPY customer_activity
FROM 's3://redshift-downloads/redshift-ml/customer_activity/'
REGION 'us-east-1' IAM_ROLE default
FORMAT AS CSV IGNOREHEADER 1;</code></pre>
          
            <h2 id="tutorial_customer_churn_step_create_model">Passaggio 2: creazione del modello di machine learning</h2>
            
            <p>L'abbandono è l'input di destinazione in questo modello. Tutti gli altri input per il modello sono attributi che aiutano a creare una funzione per prevedere la perdita di clienti.</p>
            <p>L'esempio seguente utilizza l'operazione CREATE MODEL per restituire un modello che prevede se un cliente sarà attivo, utilizzando input come l'età del cliente, il codice postale, le spese e i casi. Nell'esempio seguente, sostituisci <code class="replaceable"><code class="code">DOC-EXAMPLE-BUCKET</code></code> con il tuo bucket Amazon S3.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">CREATE MODEL customer_churn_auto_model
FROM
    (
      SELECT state,
             account_length,
             area_code,
             total_charge/account_length AS average_daily_spend,
             cust_serv_calls/account_length AS average_daily_cases,
             churn
      FROM customer_activity
      WHERE  record_date &lt; '2020-01-01'
     )
TARGET churn FUNCTION ml_fn_customer_churn_auto
IAM_ROLE default SETTINGS (
  S3_BUCKET '<code class="replaceable">&lt;DOC-EXAMPLE-BUCKET&gt;</code>'
);</code></pre>
            <p>La query SELECT nell'esempio precedente crea i dati di addestramento. La clausola TARGET specifica quale colonna è una "etichetta" di machine learning usato dall'operazione CREATE MODEL per imparare a eseguire le previsioni. La colonna di destinazione "abbandono" indica se il cliente ha ancora un'iscrizione attiva o se l'ha sospesa. Il campo S3_BUCKET è il nome del bucket Amazon S3 creato in precedenza. Il bucket Amazon S3 creato in precedenza per condividere i dati di addestramento e gli artefatti tra Amazon Redshift e Amazon SageMaker. Le colonne rimanenti sono le funzionalità (input) utilizzate per la previsione.</p>
            <p>Per un riepilogo della sintassi e delle funzionalità di un caso d'uso di base del comando CREATE MODEL, consulta <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_create_model_use_cases.html#r_simple_create_model">CREATE MODEL semplice</a>.</p>
             
               <h3 id="tutorial_customer_churn_encryption">Aggiunta delle autorizzazioni per la crittografia lato server (facoltativo)</h3>
               <p>Per impostazione predefinita, Amazon Redshift utilizza la funzionalità Pilota automatico Amazon SageMaker per l'addestramento. In particolare, Amazon Redshift esporta in modo sicuro i dati di addestramento nel bucket Amazon S3 specificato dal cliente. Se non si specifica <code class="code">KMS_KEY_ID</code>, per impostazione predefinita i dati vengono crittografati utilizzando la crittografia lato server SSE-S3.</p>
               <p>Se l'input viene crittografato mediante la crittografia lato server con una chiave gestita da AWS KMS (SSE-KMS), devi aggiungere le seguenti autorizzazioni:</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "Effect": "Allow",
    "Action": [
    "kms:Encrypt"
    "kms:Decrypt"
    ]
}</code></pre>
               <p>Per informazioni sui ruoli Amazon SageMaker, consulta <a href="https://docs.aws.amazon.com/sagemaker/latest/dg/sagemaker-roles.html">Ruoli di Amazon SageMaker</a> nella <em>Guida per gli sviluppatori di Amazon SageMaker</em>.</p>
               
             
             
               <h3 id="tutorial_customer_churn_check_status">Verifica dello stato dell'addestramento del modello (facoltativo)</h3>
               <p>È possibile utilizzare il comando SHOW MODEL per verificare quando il modello è pronto.</p><p>Utilizza l'operazione seguente per visualizzare lo stato del modello.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SHOW MODEL customer_churn_auto_model;</code></pre><p>Di seguito è riportato un esempio di output dell'operazione precedente.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
|           Key            |                                                                             Value                                                                             |
+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+
|        Model Name        |                                                                   customer_churn_auto_model                                                                   |
|       Schema Name        |                                                                            public                                                                             |
|          Owner           |                                                                            awsuser                                                                            |
|      Creation Time       |                                                                   Tue, 14.06.2022 17:15:52                                                                    |
|       Model State        |                                                                           TRAINING                                                                            |
|                          |                                                                                                                                                               |
|      TRAINING DATA:      |                                                                                                                                                               |
|          Query           | SELECT STATE, ACCOUNT_LENGTH, AREA_CODE, TOTAL_CHARGE / ACCOUNT_LENGTH AS AVERAGE_DAILY_SPEND, CUST_SERV_CALLS / ACCOUNT_LENGTH AS AVERAGE_DAILY_CASES, CHURN |
|                          |                                                                    FROM CUSTOMER_ACTIVITY                                                                     |
|                          |                                                               WHERE RECORD_DATE &lt; '2020-01-01'                                                                |
|      Target Column       |                                                                             CHURN                                                                             |
|                          |                                                                                                                                                               |
|       PARAMETERS:        |                                                                                                                                                               |
|        Model Type        |                                                                             auto                                                                              |
|       Problem Type       |                                                                                                                                                               |
|        Objective         |                                                                                                                                                               |
|     AutoML Job Name      |                                                                redshiftml-20220614171552640901                                                                |
|      Function Name       |                                                                   ml_fn_customer_churn_auto                                                                   |
|   Function Parameters    |                                            state account_length area_code average_daily_spend average_daily_cases                                             |
| Function Parameter Types |                                                                 varchar int4 int4 float8 int4                                                                 |
|         IAM Role         |                                                                     default-aws-iam-role                                                                      |
|        S3 Bucket         |                                                                        <code class="replaceable">DOC-EXAMPLE-BUCKET</code>                                                                     |
|       Max Runtime        |                                                                             5400                                                                              |
+--------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+</code></pre><p>Al completamento dell'addestramento del modello, la variabile <code class="code">model_state</code> diventa <code class="code">Model is Ready</code> e la funzione di previsione diventa disponibile.</p>
             
            
            
            
            
          
            <h2 id="tutorial_customer_churn_step_perform_predictions">Passaggio 3: esecuzione di previsioni con il modello</h2>
            <p>È possibile utilizzare le istruzioni SQL per visualizzare le previsioni generate dal modello di previsione. In questo esempio, la funzione di previsione creata dall'operazione CREATE MODEL è denominata <code class="code">ml_fn_customer_churn_auto</code>. Gli argomenti di input per la funzione di previsione corrispondono ai tipi di funzionalità, ad esempio varchar per <code class="code">state</code> e integer per <code class="code">account_length</code>. L'output della funzione di previsione è dello stesso tipo della colonna TARGET dell'istruzione CREATE MODEL.</p><div class="orderedlist">
                   
                   
                   
               <ol><li>
                     <p>Hai eseguito l'addestramento del modello usando dati anteriori alla data 01/01/2020, quindi ora usi la funzione di previsione sul set di test. La query seguente visualizza le previsioni relative alla possibilità di abbandono dei clienti registrati dopo la data 01/01/2020.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT
    phone,
    ml_fn_customer_churn_auto(
        state,
        account_length,
        area_code,
        total_charge / account_length,
        cust_serv_calls / account_length
    ) AS active
FROM
    customer_activity
WHERE
    record_date &gt; '2020-01-01';</code></pre>
                  </li><li>
                     <p>L'esempio seguente utilizza la stessa funzione di previsione per un caso d'uso diverso. In questo caso, Amazon Redshift prevede la percentuale di abbandoni e non abbandoni tra clienti provenienti da stati diversi in cui la data di registrazione è successiva a 01/01/2020.</p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">WITH predicted AS (
    SELECT
        state,
        ml_fn_customer_churn_auto(
            state,
            account_length,
            area_code,
            total_charge / account_length,
            cust_serv_calls / account_length
        ) :: varchar(6) AS active
    FROM
        customer_activity
    WHERE
        record_date &gt; '2020-01-01'
)
SELECT
    state,
    SUM(
        CASE
            WHEN active = 'True.' THEN 1
            ELSE 0
        END
    ) AS churners,
    SUM(
        CASE
            WHEN active = 'False.' THEN 1
            ELSE 0
        END
    ) AS nonchurners,
    COUNT(*) AS total_per_state
FROM
    predicted
GROUP BY
    state
ORDER BY
    state;</code></pre>
                  </li><li>
                     <p>Nell'esempio seguente viene utilizzata la funzione di previsione per il caso d'uso di previsione della percentuale di clienti persi in uno stato. In questo caso, Amazon Redshift prevede la percentuale di abbandono associata a una data di registrazione successiva a 01/01/2020.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">WITH predicted AS (
    SELECT
        state,
        ml_fn_customer_churn_auto(
            state,
            account_length,
            area_code,
            total_charge / account_length,
            cust_serv_calls / account_length
        ) :: varchar(6) AS active
    FROM
        customer_activity
    WHERE
        record_date &gt; '2020-01-01'
)
SELECT
    state,
    CAST((CAST((SUM(
        CASE
            WHEN active = 'True.' THEN 1
            ELSE 0
        END
    )) AS FLOAT) / CAST(COUNT(*) AS FLOAT)) AS DECIMAL (3, 2)) AS pct_churn,
    COUNT(*) AS total_customers_per_state
FROM
    predicted
GROUP BY
    state
ORDER BY
    3 DESC;</code></pre>
                  </li></ol></div>
          
            <h2 id="tutorial_customer_churn_related_topics">Argomenti correlati</h2>
            <p>Per ulteriori informazioni su Amazon Redshift ML, fare riferimento ai seguenti collegamenti:</p><div class="itemizedlist">
                   
                   
                   
               <ul class="itemizedlist"><li class="listitem">
                     <p><a href="https://docs.aws.amazon.com/redshift/latest/dg/cost.html">Costi per l'utilizzo di Amazon Redshift ML</a></p>
                  </li><li class="listitem">
                     <p><a href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_MODEL.html">Comando CREATE MODEL</a></p>
                  </li><li class="listitem">
                     <p><a href="https://docs.aws.amazon.com/redshift/latest/dg/r_explain_model_function.html">Funzione EXPLAIN_MODEL</a></p>
                  </li></ul></div>
            <p>Per ulteriori informazioni sul machine learning, consulta la documentazione seguente:</p>
               <div class="itemizedlist">
                   
                   
                   
               <ul class="itemizedlist"><li class="listitem">
                     <p><a href="https://docs.aws.amazon.com/redshift/latest/dg/machine_learning_overview.html">Panoramica del machine learning</a></p>
                  </li><li class="listitem">
                     <p><a href="https://docs.aws.amazon.com/redshift/latest/dg/novice_expert.html">Machine learning per principianti ed esperti</a></p>
                  </li><li class="listitem">
                     <p><a href="https://docs.aws.amazon.com/sagemaker/latest/dg/clarify-fairness-and-explainability.html">Che cos'è l'equità e la spiegabilità dei modelli per le previsioni di Machine Learning?</a></p>
                  </li></ul></div>
         <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avvertimento" /> <strong>JavaScript è disabilitato o non è disponibile nel tuo browser.</strong></p><p>Per usare la documentazione AWS, JavaScript deve essere abilitato. Consulta le pagine della guida del browser per le istruzioni.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenzioni dei documenti</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./tutorials_for_amazon_redshift_ml.html">Tutorial per Amazon Redshift ML</div><div id="next" class="next-link" accesskey="n" href="./tutorial_remote_inference.html">Tutorial: Creazione di modelli di inferenza remota</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Questa pagina ti è stata utile? - Sì</div><div class="content"><p>Grazie per averci comunicato che stiamo facendo un buon lavoro!</p><p>Se hai un momento, ti invitiamo a dirci che cosa abbiamo fatto che ti è piaciuto così possiamo offrirti altri contenuti simili.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/tutorial_customer_churn.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Questa pagina ti è stata utile? - No</div><div class="content"><p>Grazie per averci comunicato che questa pagina ha bisogno di essere modificata. Siamo spiacenti di non aver soddisfatto le tue esigenze.</p><p>Se hai un momento, ti invitiamo a dirci come possiamo migliorare la documentazione.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/tutorial_customer_churn.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>