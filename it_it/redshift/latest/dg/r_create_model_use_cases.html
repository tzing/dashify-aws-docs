<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="it-IT"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Casi d'uso - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_create_model_use_cases" /><meta name="default_state" content="r_create_model_use_cases" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_create_model_use_cases.html" /><meta name="description" content="Informazioni sui vari casi di CREATE MODEL." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guida per sviluppatori di database" /><meta name="abstract" content="Creare e gestire un data warehouse con Amazon Redshift, un servizio di data warehouse completamente gestito di livello aziendale e con capacità nell'ordine di più petabyte." /><meta name="guide-locale" content="it_it" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_create_model_use_cases.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_create_model_use_cases.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_create_model_use_cases.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_create_model_use_cases.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_create_model_use_cases.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_create_model_use_cases.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_create_model_use_cases.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_create_model_use_cases.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_create_model_use_cases.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_create_model_use_cases.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_create_model_use_cases.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_create_model_use_cases.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_create_model_use_cases.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_create_model_use_cases.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_create_model_use_cases.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_create_model_use_cases.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_create_model_use_cases.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_create_model_use_cases.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_create_model_use_cases.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_create_model_use_cases.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_create_model_use_cases.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_create_model_use_cases.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guida per sviluppatori di database" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guida per sviluppatori di database" /><meta id="panorama-serviceConsolePage" value="Casi d'uso" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Casi d'uso - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#r_create_model_use_cases" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_create_model_use_cases.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_create_model_use_cases.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_create_model_use_cases.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,sviluppatore,dati campione,database,sviluppatore di database,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guida per sviluppatori di database",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Documentazione di riferimento a SQL",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Comandi SQL",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "CREATE MODEL",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_CREATE_MODEL.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Casi d'uso",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_CREATE_MODEL.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#r_create_model_use_cases" target="_blank" rel="noopener noreferrer" title="Apri PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentazione</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guida per sviluppatori di database</a></div><div id="page-toc-src"><a href="#r_simple_create_model">CREATE MODEL semplice </a><a href="#r_user_guidance_create_model">CREATE MODEL con guida per l'utente</a><a href="#r_auto_off_create_model">Modelli CREATE XGBoost con AUTO OFF</a><a href="#r_byom_create_model">Bring your own model (BYOM) - inferenza locale</a><a href="#r_byom_create_model_remote">Bring your own model (BYOM) - inferenza remota</a><a href="#r_k-means_create_model">CREA MODELLO con K-MEANS</a><a href="#r_forecast_model">CREATE MODEL with Forecast</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Le traduzioni sono generate tramite traduzione automatica. In caso di conflitto tra il contenuto di una traduzione e la versione originale in Inglese, quest'ultima prevarrà.</p></awsui-alert><h1 class="topictitle" id="r_create_model_use_cases">Casi d'uso</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>I seguenti casi d'uso dimostrano come utilizzare CREATE MODEL in base alle proprie esigenze.</p>
        <h2 id="r_simple_create_model">CREATE MODEL semplice</h2>
        <p>Di seguito viene riportato un riepilogo delle opzioni di base della sintassi di CREATE MODEL.</p>

        

         
            <h3 id="r_simple-create-model-synposis">Sintassi di CREATE MODEL semplice</h3>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">CREATE MODEL <em>model_name</em>
    FROM <span>{</span> <em>table_name</em> | ( <em>select_query</em> ) }
    TARGET <em>column_name</em>
    FUNCTION <em>prediction_function_name</em>
    IAM_ROLE <span>{</span> default }
    SETTINGS (
      S3_BUCKET <em>'bucket'</em>,
      [ MAX_CELLS integer ]
    )</code></pre>
         

         
            <h3 id="r_simple-create-model-parameters">Parametri di CREATE MODEL semplice</h3>
            <div class="variablelist">
                 
                 
                 
                 
                 
                 
                 
            <dl>
                    <dt><span class="term"> <em>model_name</em> </span></dt>
                    <dd>
                        <p>Il nome del modello. Il nome del modello in uno schema deve essere unico.</p>
                    </dd>
                 
                    <dt><span class="term">FROM <span>{</span> <em>nome_tabella</em> | ( <em>query_select</em> ) }</span></dt>
                    <dd>
                        <p>Il nome_tabella o la query che specifica i dati di addestramento. Possono essere una tabella esistente nel sistema o una query SELECT compatibile con Amazon Redshift racchiusa tra parentesi, ovvero (). Il risultato della query deve contenere almeno due colonne. </p>
                    </dd>
                 
                    <dt><span class="term">TARGET <em>nome_colonna</em></span></dt>
                    <dd>
                        <p>Il nome della colonna che diventa la destinazione della previsione. La colonna deve esistere nella clausola FROM. </p>
                    </dd>
                 
                    <dt><span class="term">FUNCTION <em>nome_funzione_previsione</em> </span></dt>
                    <dd>
                        <p>Un valore che specifica il nome della funzione di machine learning di Amazon Redshift che deve essere generata da CREATE MODEL e utilizzata per effettuare previsioni utilizzando questo modello. La funzione viene creata nello stesso schema dell'oggetto modello e può essere sovraccaricata.</p>
                        <p>Il machine learning di Amazon Redshift supporta i modelli, come i modelli Xtreme Gradient Boosted Tree (XGBoost) per la regressione e la classificazione.</p>
                    </dd>
                 
                   <dt><span class="term">IAM_ROLE <span>{</span> default | 'arn:aws:iam::&lt;account-id&gt;:role/&lt;role-name&gt;' }</span></dt>
                    <dd>
                        <p> Utilizzare la parola chiave predefinita per fare in modo che Amazon Redshift utilizzi il ruolo IAM impostato come predefinito e associato al cluster quando viene eseguito il comando CREAT MODEL. In alternativa, è possibile specificare l'ARN di un ruolo IAM per utilizzare quel ruolo.</p>
                    </dd>
                 
                    <dt><span class="term"> <em>S3_BUCKET <em>'bucket'</em></em> </span></dt>
                    <dd>
                        <p>Il nome del bucket Amazon S3 creato in precedenza è stato utilizzato per condividere dati e artefatti di addestramento tra Amazon Redshift e.  SageMaker Amazon Redshift crea una sottocartella in questo bucket prima di scaricare i dati di addestramento. Una volta completato l'addestramento, Amazon Redshift elimina la sottocartella creata e il relativo contenuto. </p>
                    </dd>
                 
                    <dt><span class="term">MAX_CELLS integer </span></dt>
                    <dd>
                        <p>Il numero massimo di celle da esportare dalla clausola FROM. Il valore di default è 1.000.000. </p>
                        <p>Il numero di celle è il prodotto del numero di righe nei dati di addestramento (prodotti dalla tabella o dalla query della clausola FROM) moltiplicato per il numero di colonne. Se il numero di celle nei dati di addestramento è superiore a quello specificato dal parametro max_cells, CREATE MODEL sottocampiona i dati di addestramento della clausola FROM per ridurre le dimensioni del set di addestramento sotto MAX_CELLS. Consentire set di dati di addestramento più grandi può produrre una maggiore precisione, ma può anche significare che il modello richiede più tempo e costa di più.</p>
                        <p>Per ulteriori informazioni sui costi di utilizzo di Amazon Redshift, consultare <a href="./cost.html">Costi per l'utilizzo di Amazon Redshift ML</a>.</p>
                        <p>Per ulteriori informazioni sui costi associati a vari numeri di cellulare e i dettagli della versione di prova gratuita, consultare <a href="https://aws.amazon.com/redshift/pricing" rel="noopener noreferrer" target="_blank"><span>Prezzi di Amazon Redshift</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
                    </dd>
                </dl></div>
         
     
        <h2 id="r_user_guidance_create_model">CREATE MODEL con guida per l'utente</h2>
        <p>Di seguito, è possibile trovare una descrizione delle opzioni per CREATE MODEL in aggiunta alle opzioni descritte in <a href="#r_simple_create_model">CREATE MODEL semplice</a>.</p>
        <p>Per impostazione predefinita, CREATE MODEL cerca la migliore combinazione di preelaborazione e modello per il set di dati specifico. Potrebbe essere necessario un controllo aggiuntivo o introdurre ulteriori informazioni sul dominio (ad esempio il tipo di problema o l'obiettivo) sul modello. In uno scenario di abbandono del cliente, se il risultato "il cliente non è attivo" è raro, l'obiettivo F1 è spesso preferito all'obiettivo Precisione. Poiché i modelli ad alta precisione potrebbero prevedere "il cliente è attivo" per tutto il tempo, ciò si traduce in un'elevata precisione ma poco valore aziendale. Per informazioni sull'obiettivo F1, consulta <a href="https://docs.aws.amazon.com/sagemaker/latest/APIReference/API_AutoMLJobObjective.html">JobObjectiveAutoML</a> nell'<em> SageMaker Amazon</em> API Reference.</p>
        <p>Quindi il CREATE MODEL segue i suggerimenti sugli aspetti specificati, come l'obiettivo. Allo stesso tempo, CREATE MODEL rileva automaticamente i migliori preprocessori e i migliori iperparametri. </p>


         
            <h3 id="r_user_guidance-create-model-synposis">Sintassi di CREATE MODEL con guida per l'utente</h3>
            <p>CREATE MODEL offre una maggiore flessibilità sugli aspetti che è possibile specificare e sugli aspetti che Amazon Redshift rileva automaticamente.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">CREATE MODEL <em>model_name</em>
    FROM <span>{</span> <em>table_name</em> | ( <em>select_statement</em> ) }
    TARGET <em>column_name</em>
    FUNCTION <em>function_name</em>
    IAM_ROLE <span>{</span> default }
    [ MODEL_TYPE <span>{</span> XGBOOST | MLP | LINEAR_LEARNER} ]
    [ PROBLEM_TYPE ( REGRESSION | BINARY_CLASSIFICATION | MULTICLASS_CLASSIFICATION ) ]
    [ OBJECTIVE ( 'MSE' | 'Accuracy' | 'F1' | 'F1Macro' | 'AUC') ]
    SETTINGS (
      S3_BUCKET 'bucket', |
      S3_GARBAGE_COLLECT <span>{</span> ON | OFF }, |
      KMS_KEY_ID 'kms_key_id', |
      MAX_CELLS integer, |
      MAX_RUNTIME integer (, ...)
    )   </code></pre>
         

         
            <h3 id="r_user_guidance-create-model-parameters">Parametri di CREATE MODEL con guida per l'utente</h3>
            <div class="variablelist">
                 
                 
                 
                 
                 
                 
                 

                 
            <dl>
                    <dt><span class="term"> <em>MODEL_TYPE <span>{</span> XGBOOST | MLP | LINEAR_LEARNER }</em> </span></dt>
                    <dd>
                        <p>(Facoltativo) Specifica il tipo di modello. Puoi specificare se desideri addestrare un modello di un tipo specifico, come XGBoost, perceptron multistrato (MLP) o Linear Learner, che sono tutti algoritmi supportati da Amazon Autopilot.  SageMaker  Se non si specifica il parametro, durante l'addestramento vengono ricercati tutti i tipi di modello supportati per trovare il modello migliore.</p>
                    </dd>
                 
                    <dt><span class="term"> <em>PROBLEM_TYPE ( REGRESSION | BINARY_CLASSIFICATION | MULTICLASS_CLASSIFICATION )</em> </span></dt>
                    <dd>
                        <p>(Facoltativo) Specifica il tipo di problema. Se si conosce il tipo di problema, è possibile limitare Amazon Redshift alla ricerca solo del modello migliore di quel tipo di modello specifico. Se non si specifica questo parametro, durante l'addestramento viene rilevato un tipo di problema in base ai dati.</p>
                    </dd>
                 
                    <dt><span class="term">OBIETTIVO ('MSE' | 'Precisione' | 'F1' | 'F1Macro' | 'AUC')</span></dt>
                    <dd>
                        <p>(Facoltativo) Specifica il nome del parametro dell'obiettivo utilizzato per misurare la qualità predittiva di un sistema di machine learning. Questo parametro è ottimizzato durante l'addestramento per fornire la migliore stima per i valori dei parametri del modello dai dati. Se non si specifica esplicitamente un parametro, il comportamento di default consiste nell'utilizzare automaticamente MSE: per la regressione, F1: per la classificazione binaria, Accuracy: per la classificazione multiclass. Per ulteriori informazioni sugli obiettivi, consulta <a href="https://docs.aws.amazon.com/sagemaker/latest/APIReference/API_AutoMLJobObjective.html">AutoML JobObjective</a> nell'<em>Amazon  SageMaker  API</em> Reference.</p>
                    </dd>
                 
                    <dt><span class="term">MAX_CELLS integer </span></dt>
                    <dd>
                        <p>(Facoltativo) Specifica il numero di celle nei dati di addestramento. Questo valore è il prodotto del numero di record (nella query di addestramento o nella tabella) moltiplicato per il numero di colonne. Il valore di default è 1.000.000.</p>
                    </dd>
                 
                    <dt><span class="term">MAX_RUNTIME integer </span></dt>
                    <dd>
                        <p>(Facoltativo) Specifica la durata massima dell'addestramento. I processi di addestramento spesso vengono completati prima di questo valore, a seconda delle dimensioni del set di dati. Specifica la durata massima dell'addestramento. Il valore di default è 5.400 (90 minuti).</p>
                    </dd>
                 
                    <dt><span class="term">S3_GARBAGE_COLLECT <span>{</span> ON | OFF }</span></dt>
                    <dd>
                        <p>(Facoltativo) Specifica se Amazon Redshift esegue la garbage collection sui set di dati risultanti utilizzati per addestrare i modelli e i modelli stessi. Se impostato su OFF, i set di dati risultanti utilizzati per addestrare i modelli e i modelli stessi rimangono in Amazon S3 e possono essere utilizzati per altri scopi. Se impostato su ON, Amazon Redshift elimina gli artefatti in Amazon S3 al termine dell'addestramento. Il valore di default è ON.</p>
                    </dd>
                 
                    <dt><span class="term">KMS_KEY_ID 'kms_key_id'</span></dt>
                    <dd>
                        <p>(Facoltativo) Specifica se Amazon Redshift utilizza la crittografia lato server con una chiave AWS KMS per proteggere i dati a riposo. I dati in transito sono protetti con Secure Sockets Layer (SSL). </p>
                    </dd>
                 
                    <dt><span class="term"> <em>PREPROCESSORS 'string' </em> </span></dt>
                    <dd>
                        <p>(Facoltativo) Specifica alcune combinazioni di preprocessori per determinati set di colonne. Il formato è un elenco di columnSets e le trasformazioni appropriate da applicare a ciascun set di colonne. Amazon Redshift applica tutti i trasformatori di uno specifico elenco di trasformatori a tutte le colonne dell'elenco corrispondente.  ColumnSet Ad esempio, per applicare  OneHotEncoder  con Imputer alle colonne t1 e t2, usa il comando di esempio seguente.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE MODEL customer_churn
FROM customer_data
TARGET 'Churn'
FUNCTION predict_churn
IAM_ROLE <span>{</span> default | 'arn:aws:iam::&lt;account-id&gt;:role/&lt;role-name&gt;' }
PROBLEM_TYPE BINARY_CLASSIFICATION
OBJECTIVE 'F1'
PREPROCESSORS '[
...
<span>{</span>"ColumnSet": [
    "t1",
    "t2"
  ],
  "Transformers": [
    "OneHotEncoder",
    "Imputer"
  ]
},
<span>{</span>"ColumnSet": [
    "t3"
  ],
  "Transformers": [
    "OneHotEncoder"
  ]
},
<span>{</span>"ColumnSet": [
    "temp"
  ],
  "Transformers": [
    "Imputer",
    "NumericPassthrough"
  ]
}
]'
SETTINGS (
S3_BUCKET 'bucket'
)</code></pre></dd></dl></div>
            <p>Amazon Redshift supporta i seguenti trasformatori:</p>
            <div class="itemizedlist">

                 
                 
                 
                 
                 
                 
                 
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem"><p>OneHotEncoder — In genere viene utilizzato per codificare un valore discreto in un vettore binario con un valore diverso da zero. Questo trasformatore è adatto per numerosi modelli di machine learning. </p></li><li class="listitem"><p>OrdinalEncoder — Codifica i valori discreti in un unico numero intero. Questo trasformatore è adatto per modelli di machine learning specifici, come MLP e Linear Learner. </p></li><li class="listitem"><p>NumericPassthrough — Trasmette l'input così com'è nel modello.</p></li><li class="listitem"><p>Imputer: riempie i valori mancanti e non i valori numerici (NaN).</p></li><li class="listitem"><p>ImputerWithIndicator — Compila i valori mancanti e i valori NaN. Questo trasformatore crea anche un indicatore di eventuali valori mancanti e compilati.</p></li><li class="listitem"><p>Normalizzatore: normalizza i valori, il che può migliorare le prestazioni di molti algoritmi di machine learning.</p></li><li class="listitem"><p>DateTimeVectorizer — Crea un incorporamento vettoriale, che rappresenta una colonna di tipo di dati datetime che può essere utilizzata nei modelli di machine learning.</p></li><li class="listitem"><p>PCA: proietta i dati in uno spazio dimensionale inferiore per ridurre il numero di funzioni mantenendo al contempo il maggior numero di informazioni possibile.</p></li><li class="listitem"><p>StandardScaler — Standardizza le funzionalità rimuovendo la media e scalando alla varianza unitaria. </p></li><li class="listitem"><p>MinMax — Trasforma le funzionalità ridimensionando ciascuna funzionalità in base a un determinato intervallo.</p></li></ul></div>

            <p>Amazon Redshift ML memorizza i trasformatori addestrati e li applica automaticamente come parte della query di previsione. Non è necessario specificarli quando si generano le previsioni dal modello. </p>
         
     
        <h2 id="r_auto_off_create_model">Modelli CREATE XGBoost con AUTO OFF</h2>
        <p>L'AUTO OFF CREATE MODEL ha generalmente obiettivi diversi da quelli di default CREATE MODEL.</p>
        <p>In qualità di utente avanzato che conosce già il tipo di modello desiderato e gli iperparametri da utilizzare durante l'addestramento di questi modelli, è possibile utilizzare CREATE MODEL con l'opzione AUTO OFF per disattivare il rilevamento automatico CREATE MODEL di preprocessori e iperparametri. A questo scopo, è necessario specificare esplicitamente il tipo di modello. XGBoost al momento è l'unico tipo di modello supportato quando AUTO è impostato su OFF. È possibile specificare iperparametri. Amazon Redshift utilizza i valori predefiniti per tutti gli iperparametri specificati. </p>

         
            <h3 id="r_auto_off-create-model-synposis">Modelli CREATE XGBoost con sintassi AUTO OFF</h3>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">CREATE MODEL model_name
    FROM <span>{</span> <em>table_name</em> | (<em>select_statement</em> ) }
    TARGET <em>column_name</em>
    FUNCTION <em>function_name</em>
    IAM_ROLE <span>{</span> default }
    AUTO OFF
    MODEL_TYPE XGBOOST
    OBJECTIVE <span>{</span> 'reg:squarederror' | 'reg:squaredlogerror' | 'reg:logistic' |
                'reg:pseudohubererror' | 'reg:tweedie' | 'binary:logistic' | 'binary:hinge' |
                'multi:softmax' | 'rank:pairwise' | 'rank:ndcg' }
    HYPERPARAMETERS DEFAULT EXCEPT (
        NUM_ROUND '10',
        ETA '0.2',
        NUM_CLASS '10',
        (, ...)
    )
    PREPROCESSORS 'none'
    SETTINGS (
      S3_BUCKET 'bucket', |
      S3_GARBAGE_COLLECT <span>{</span> ON | OFF }, |
      KMS_KEY_ID 'kms_key_id', |
      MAX_CELLS integer, |
      MAX_RUNTIME integer (, ...)
    )   </code></pre>
         

         
            <h3 id="r_auto_off-create-model-parameters">Parametri di CREATE XGBoost con AUTO OFF</h3>
            <div class="variablelist">
                 
                 
                 
                
                 
            <dl>
                    <dt><span class="term"> <em>AUTO OFF</em> </span></dt>
                    <dd>
                        <p>Disattiva il rilevamento automatico CREATE MODEL della selezione di preprocessore, algoritmo e iperparametri.</p>
                    </dd>
                 
                    <dt><span class="term">MODEL_TYPE XGBOOST</span></dt>
                    <dd>
                        <p>Specifica di utilizzare XGBOOST per addestrare il modello. </p>
                    </dd>
                 
                    <dt><span class="term">OBJECTIVE str</span></dt>
                    <dd>
                        <p>Specifica un obiettivo riconosciuto dall'algoritmo. Amazon Redshift supporta reg:squarederror, reg:squaredlogerror, reg:logistic, reg:pseudohubererror, reg:tweedie, binary:logistic, binary:cerniera, multi:softmax. Per ulteriori informazioni su questi obiettivi, consultare.<a href="https://xgboost.readthedocs.io/en/latest/parameter.html#learning-task-parameters" rel="noopener noreferrer" target="_blank"><span>Informazioni sui oarametri di attività</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> nella documentazione di XGBoost.</p>
                    </dd>
                 
                    <dt><span class="term">HYPERPARAMETERS <span>{</span> DEFAULT | DEFAULT EXCEPT ( key ‘value' (,..) ) }</span></dt>
                    <dd>
                        <p>Specifica se i parametri XGBoost di default vengono utilizzati o sostituiti dai valori specificati dall'utente. I valori devono essere racchiusi tra virgolette singole. Di seguito sono riportati esempi di parametri per XGBoost e le loro impostazioni di default.</p>
                        <div class="table-container"><div class="table-contents"><table id="w319aac47b9c93c17b9b9b3b7b3b3"><thead>
                                    <tr>
                                        <th>Nome del parametro</th>
                                        <th>Valore del parametro </th>
                                        <th>Valore predefinito</th>
                                        <th>Note</th>
                                    </tr>
                                </thead>
                                    <tr>
                                        <td tabindex="-1">
                                            <p>num_class</p>
                                        </td>
                                        <td tabindex="-1">Numero intero</td>
                                        <td tabindex="-1">
                                            <p>Necessario per la classificazione multiclass.</p>
                                        </td>
                                        <td tabindex="-1">N/D</td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1">
                                            <p>num_round</p>
                                        </td>
                                        <td tabindex="-1">Numero intero</td>
                                        <td tabindex="-1">
                                            <p>100</p>
                                        </td>
                                        <td tabindex="-1">N/D</td>
                                    </tr>
                                    
                                    <tr>
                                        <td tabindex="-1">
                                            <p>tree_method</p>
                                        </td>
                                        <td tabindex="-1">Stringa</td>
                                        <td tabindex="-1">Auto (Automatico)</td>
                                        <td tabindex="-1">N/D</td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1">
                                            <p>max_depth</p>
                                        </td>
                                        <td tabindex="-1">Numero intero</td>
                                        <td tabindex="-1">6</td>
                                        <td tabindex="-1">[0 , 10]</td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1">min_child_weight</td>
                                        <td tabindex="-1">Float</td>
                                        <td tabindex="-1">1</td>
                                        <td tabindex="-1">MinValue: 0, MaxValue: 120</td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1">subsample</td>
                                        <td tabindex="-1">Float</td>
                                        <td tabindex="-1">1</td>
                                        <td tabindex="-1">MinValue: 0,5, MaxValue: 1</td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1">gamma</td>
                                        <td tabindex="-1">Float</td>
                                        <td tabindex="-1">0</td>
                                        <td tabindex="-1">MinValue: 0, MaxValue: 5</td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1">alpha (alfa)</td>
                                        <td tabindex="-1">Float</td>
                                        <td tabindex="-1">0</td>
                                        <td tabindex="-1">MinValue: 0, MaxValue: 100</td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1">eta</td>
                                        <td tabindex="-1">Float</td>
                                        <td tabindex="-1">0.3</td>
                                        <td tabindex="-1">MinValue: 0,1,  MaxValue 0,5</td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1">colsample_byleve</td>
                                        <td tabindex="-1">Float</td>
                                        <td tabindex="-1">1</td>
                                        <td tabindex="-1">MinValue: 0,1, MaxValue: 1</td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1">colsample_bynode</td>
                                        <td tabindex="-1">Float</td>
                                        <td tabindex="-1">1</td>
                                        <td tabindex="-1">MinValue: 0,1, MaxValue: 1</td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1">colsample_bytree</td>
                                        <td tabindex="-1">Float</td>
                                        <td tabindex="-1">1</td>
                                        <td tabindex="-1">MinValue: 0,5, MaxValue: 1</td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1">lambda</td>
                                        <td tabindex="-1">Float</td>
                                        <td tabindex="-1">1</td>
                                        <td tabindex="-1">MinValue: 0, MaxValue: 100</td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1">max_delta_step</td>
                                        <td tabindex="-1">Numero intero</td>
                                        <td tabindex="-1">0</td>
                                        <td tabindex="-1">[0, 10]</td>
                                    </tr>
                                </table></div></div>
                    </dd>
                </dl></div>

            <p>L'esempio seguente prepara i dati per XGBoost.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">DROP TABLE IF EXISTS abalone_xgb;

    CREATE TABLE abalone_xgb (
    length_val float,
    diameter float,
    height float,
    whole_weight float,
    shucked_weight float,
    viscera_weight float,
    shell_weight float,
    rings int,
    record_number int);

    COPY abalone_xgb
    FROM 's3://redshift-downloads/redshift-ml/abalone_xg/'
    REGION 'us-east-1'
    IAM_ROLE default
    IGNOREHEADER 1 CSV;</code></pre>
            <p>Nell'esempio seguente viene creato un modello XGBoost con opzioni avanzate specificate, quali MODEL_TYPE, OBJECTIVE e PREPROCESSORS.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">DROP MODEL abalone_xgboost_multi_predict_age;

    CREATE MODEL abalone_xgboost_multi_predict_age
    FROM ( SELECT length_val,
                  diameter,
                  height,
                  whole_weight,
                  shucked_weight,
                  viscera_weight,
                  shell_weight,
                  rings
   FROM abalone_xgb WHERE record_number &lt; 2500 )
    TARGET rings FUNCTION ml_fn_abalone_xgboost_multi_predict_age
    IAM_ROLE default
    AUTO OFF
    MODEL_TYPE XGBOOST
    OBJECTIVE 'multi:softmax'
    PREPROCESSORS 'none'
    HYPERPARAMETERS DEFAULT EXCEPT (NUM_ROUND '100', NUM_CLASS '30')
    SETTINGS (S3_BUCKET 'your-bucket');</code></pre>
            <p>Nell'esempio seguente viene utilizzata una query di inferenza per prevedere l'età del pesce con un numero di record maggiore di 2500. Utilizza la funzione ml_fn_abalone_xgboost_multi_predict_age creata dal comando precedente. </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select ml_fn_abalone_xgboost_multi_predict_age(length_val,
                                                   diameter,
                                                   height,
                                                   whole_weight,
                                                   shucked_weight,
                                                   viscera_weight,
                                                   shell_weight)+1.5 as age
from abalone_xgb where record_number &gt; 2500;</code></pre>
         
     
        <h2 id="r_byom_create_model">Bring your own model (BYOM) - inferenza locale</h2>
        <p>Amazon Redshift ML supporta l'utilizzo dell'approccio bring your own model (BYOM) nell'inferenza locale.</p>
        <p>Di seguito viene riportato un riepilogo delle opzioni per la sintassi di CREATE MODEL per BYOM. Puoi utilizzare un modello addestrato all'esterno di Amazon Redshift con Amazon  SageMaker  per l'inferenza nel database a livello locale in Amazon Redshift.</p>

         
            <h3 id="r_local-create-model">Sintassi di CREATE MODEL per l'inferenza locale </h3>
            <p>Di seguito viene descritta la sintassi CREATE MODEL per l'inferenza locale.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">CREATE MODEL <em>model_name</em>
    FROM (<em>'job_name'</em> | <em>'s3_path'</em> )
    FUNCTION <em>function_name</em> ( <em>data_type [, ...]</em> )
    RETURNS <em>data_type</em>
    IAM_ROLE <span>{</span> default }
    [ SETTINGS (
      S3_BUCKET <em>'bucket'</em>, | --required
      KMS_KEY_ID <em>'kms_string'</em>) --optional
    ];</code></pre>
            <p>Amazon Redshift attualmente supporta solo i modelli XGBoost e MLP e Linear Learner preaddestrati per BYOM. Puoi importare  SageMaker  Autopilot e modelli addestrati direttamente in Amazon  SageMaker  per l'inferenza locale utilizzando questo percorso. </p>

             
                <h4 id="r_local-create-model-parameters">Parametri di CREATE MODEL per l'inferenza locale</h4>
                <div class="variablelist">
                     
                     
                     
                     
                     
                     
                <dl>
                        <dt><span class="term"> <em>model_name</em> </span></dt>
                        <dd>
                            <p>Il nome del modello. Il nome del modello in uno schema deve essere unico.</p>
                        </dd>
                     
                        <dt><span class="term">FROM (<em>'nome_processo'</em> | <em>'percorso_s3'</em> )</span></dt>
                        <dd>
                            <p>Il <em>job_name utilizza un nome</em> di  SageMaker  lavoro Amazon come input. Il nome del lavoro può essere un nome di lavoro di  SageMaker  formazione Amazon o un nome di lavoro Amazon  SageMaker  Autopilot. Il processo deve essere creato nello stesso account AWS proprietario del cluster Amazon Redshift. Per trovare il nome del lavoro, avvia Amazon SageMaker. Nel menu a discesa <b>Training</b> (Addestramento), scegliere <b>Training jobs</b> (Processi di addestramento).</p>
                            <p><em>'percorso_s3'</em> specifica la posizione S3 del file di artefatti del modello .tar.gz da utilizzare durante la creazione del modello.</p>
                        </dd>
                     
                        <dt><span class="term">FUNCTION <em>nome_funzione</em> ( <em>tipo_dati</em> [, ...] )</span></dt>
                        <dd>
                            <p>Il nome della funzione da creare e i tipi di dati degli argomenti di input. È possibile fornire un nome dello schema.</p>
                        </dd>
                     
                        <dt><span class="term">RETURNS <em>data_type</em></span></dt>
                        <dd>
                            <p>Il tipo di dati del valore restituito dalla funzione.</p>
                        </dd>
                     
                       <dt><span class="term">IAM_ROLE <span>{</span> default | 'arn:aws:iam::&lt;account-id&gt;:role/&lt;role-name&gt;'}</span></dt>
                        <dd>
                            <p> Utilizzare la parola chiave predefinita per fare in modo che Amazon Redshift utilizzi il ruolo IAM impostato come predefinito e associato al cluster quando viene eseguito il comando CREATE MODEL.</p>
                            <p>L'Amazon Resource Name (ARN) per un ruolo IAM utilizzato dal cluster per l'autenticazione e l'autorizzazione. </p>
                        </dd>
                     
                        <dt><span class="term">SETTINGS ( S3_BUCKET <em>'bucket'</em>, | KMS_KEY_ID <em>'stringa_kms'</em>)</span></dt>
                        <dd>
                            <p>La clausola S3_BUCKET specifica la posizione Amazon S3 utilizzata per archiviare i risultati intermedi.</p>
                            <p>(Facoltativo) La clausola KMS_KEY_ID specifica se Amazon Redshift utilizza la crittografia lato server con una chiave AWS KMS per proteggere i dati a riposo. I dati in transito sono protetti con Secure Sockets Layer (SSL).</p>
                            <p>Per ulteriori informazioni, consulta <a href="#r_user_guidance_create_model">CREATE MODEL con guida per l'utente</a>.</p>
                        </dd>
                    </dl></div>

             

             
                <h4 id="r_local-create-model-example">Esempio di CREATE MODEL per l'inferenza locale</h4>
                <p>L'esempio seguente crea un modello che è stato precedentemente addestrato in Amazon SageMaker, al di fuori di Amazon Redshift. Poiché il tipo di modello è supportato da Amazon Redshift ML per l'inferenza locale, il seguente CREATE MODEL crea una funzione che può essere utilizzata in locale in Amazon Redshift. Puoi fornire il nome di un lavoro  SageMaker  di formazione.</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">CREATE MODEL customer_churn
    FROM 'training-job-customer-churn-v4'
    FUNCTION customer_churn_predict (varchar, int, float, float)
    RETURNS int
    IAM_ROLE default
    SETTINGS (S3_BUCKET 'your-bucket');</code></pre>
                <p>Dopo aver creato il modello, è possibile utilizzare la funzione <em>customer_churn_predict</em> con i tipi di argomenti specificati per effettuare le previsioni.</p>
             
         
     
          <h2 id="r_byom_create_model_remote">Bring your own model (BYOM) - inferenza remota</h2>
          <p>Amazon Redshift ML supporta anche l'utilizzo dell'approccio bring your own model (BYOM) per l'inferenza remota.</p>
          <p>Di seguito viene riportato un riepilogo delle opzioni per la sintassi di CREATE MODEL per BYOM.</p>
          <div class="awsdocs-note awsdocs-sticky-note awsdocs-warning"><div class="awsdocs-note-icon"><awsui-icon name="status-warning" variant="error"></awsui-icon></div><div class="awsdocs-note-text"><p><em><b>Questa è la documentazione non definitiva per il tipo di dati SUPER per l'input nei modelli BYOM in Amazon Redshift ML, che è in versione di anteprima. La documentazione e la funzionalità sono soggette a modifiche. Consigliamo di utilizzare questa funzione solo con cluster di test e non in ambienti di produzione. Per i termini e le condizioni dell'anteprima, consulta <em>Beta and Previews</em> in <a href="https://aws.amazon.com/service-terms/" rel="noopener noreferrer" target="_blank"><span>AWS Service Terms</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. </b></em> </p></div></div>
          
          <p>Se si specifica di utilizzare il tipo di dati SUPER come dati di input e il tipo di dati restituito, si indica che si desidera creare un modello di linguaggio di grandi dimensioni (LLM) ospitato in Amazon.  SageMaker  JumpStart La creazione di LLM è attualmente disponibile solo come funzionalità di anteprima. Questa anteprima è disponibile nelle seguenti Regioni AWS.</p>
          <div class="itemizedlist">
              
              
              
              
              
          <ul class="itemizedlist"><li class="listitem"><p>Stati Uniti orientali (Ohio) (us-east-2)</p></li><li class="listitem"><p>Stati Uniti orientali (Virginia settentrionale) (us-east-1)</p></li><li class="listitem"><p>Asia Pacifico (Tokyo) (ap-northeast-1)</p></li><li class="listitem"><p>Europa (Irlanda) (eu-west-1)</p></li><li class="listitem"><p>Europa (Stoccolma) (eu-north-1)</p></li></ul></div>
          <p>È possibile creare un cluster Amazon Redshift di <b>anteprima</b> per testare nuove funzionalità di Amazon Redshift. Non è possibile utilizzare queste funzionalità in produzione o spostare il cluster di <b>anteprima</b> in un cluster di produzione o in un cluster su un'altra traccia. Per i termini e le condizioni dell'anteprima, consulta la sezione relativa a <em>beta e anteprime</em> nei <a href="https://aws.amazon.com/service-terms/" rel="noopener noreferrer" target="_blank"><span>termini del servizio AWS</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>            
            <div class="procedure"><h6>Come creare un cluster di <b>anteprima</b></h6><ol><li><p>Accedere alla AWS Management Console e aprire la console Amazon Redshift all'indirizzo <a href="https://console.aws.amazon.com/redshift/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/redshift/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p> </li><li><p>Dal menu di navigazione, scegli <b>Provisioned clusters dashboard</b> (Pannello di controllo dei cluster con provisioning) e seleziona <b>Clusters</b> (Cluster). Vengono elencati i cluster associati al tuo account nella Regione AWS corrente. Nelle colonne dell'elenco è visualizzato un sottoinsieme delle proprietà di ciascun cluster.</p></li><li><p>Nella pagina dell'elenco dei <b>cluster</b> viene visualizzato un banner che introduce l'anteprima. Scegli il pulsante <b>Create preview cluster</b> (Crea cluster di anteprima) per aprire la pagina di creazione del cluster.</p></li><li><p>Inserisci le proprietà del cluster. Scegli la <b>traccia di anteprima</b> che contiene le funzionalità che desideri testare. Consigliamo di assegnare al cluster un nome che indichi che si trova in una traccia di anteprima. Scegli le opzioni per il cluster, tra cui quelle contrassegnate come <b>-anteprima</b>, per le funzionalità che desideri testare. Per informazioni generali sulla creazione di cluster, consulta <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/managing-clusters-console.html#create-cluster">Creazione di un cluster</a> nella <em>Guida alla gestione di Amazon Redshift</em>.</p></li><li><p>Per creare un cluster di anteprima, scegli <b>Crea cluster</b>.</p>
                       <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>La traccia <code class="code">preview_2023</code> è la traccia di anteprima più recente disponibile. Questa traccia supporta la creazione di cluster solo con tipi di nodo RA3. I tipi di nodi DC2 e DS2 e qualsiasi tipo di nodo precedente non sono supportati.</p></div></div></li><li><p>Quando il cluster di anteprima è disponibile, utilizza il client SQL per caricare ed eseguire query sui dati.</p></li></ol></div>
          
          <p>Puoi anche creare un gruppo di lavoro di anteprima per creare un LLM. Non è possibile utilizzare queste funzionalità in produzione o trasferire il gruppo di lavoro in un altro gruppo di lavoro. Per i termini e le condizioni dell'anteprima, consulta Beta and Previews in <a href="https://aws.amazon.com/service-terms/" rel="noopener noreferrer" target="_blank"><span>AWS Service Terms</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. Per istruzioni su come creare un gruppo di lavoro di anteprima, consulta <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/serverless-workgroup-preview.html">Creazione di un gruppo di lavoro di anteprima</a>.</p>
            
             
          
         
            <h3 id="r_remote-create-model">Sintassi di CREATE MODEL per l'inferenza remota </h3>
            <p>Di seguito viene descritta la sintassi di CREATE MODEL per l'inferenza remota.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">CREATE MODEL <em>model_name </em>
    FUNCTION <em>function_name</em> ( <em>data_type</em> [, ...] )
    RETURNS <em>data_type</em>
    SAGEMAKER <em>'endpoint_name'</em>[:<em>'model_name'</em>]
    IAM_ROLE <span>{</span> default | 'arn:aws:iam::&lt;account-id&gt;:role/&lt;role-name&gt;' }</code></pre>


             
                <h4 id="r_remote-create-model-parameters">Parametri di CREATE MODEL per l'inferenza remota</h4>
                <div class="variablelist">
                     
                     
                     
                     
                     
                <dl>
                        <dt><span class="term"> <em>model_name</em> </span></dt>
                        <dd>
                            <p>Il nome del modello. Il nome del modello in uno schema deve essere unico.</p>
                        </dd>
                     
                        <dt><span class="term">FUNCTION <em>nome_fn</em> ( [<em>tipo_dati</em>] [, ...] )</span></dt>
                        <dd>
                           <p>Il nome della funzione e i tipi di dati degli argomenti di input. Consulta <a href="https://docs.aws.amazon.com/redshift/latest/dg/c_Supported_data_types.html">Tipi di dati</a> per l'elenco di tutti i tipi di dati supportati. <code class="code">Geography</code>, <code class="code">geometry</code> e <code class="code">hllsketch</code> non sono supportati. Se si specifica di utilizzare il tipo di dati SUPER come dati di input e il tipo di dati restituito, si indica che si desidera creare un modello di linguaggio di grandi dimensioni (LLM) ospitato in Amazon.  SageMaker  JumpStart</p>
                           <p>In alternativa, puoi specificare di utilizzare solo il tipo di dati SUPER come dati di input senza utilizzarlo anche come tipo di dati restituito. L'utilizzo del tipo di dati SUPER come input è disponibile solo come funzionalità di anteprima.</p>
                           <p>È inoltre possibile fornire un nome di schema anziché il nome di una funzione.</p>
                        </dd>
                     
                        <dt><span class="term">RETURNS <em>data_type</em></span></dt>
                        <dd>
                            <p>Il tipo di dati del valore restituito dalla funzione. Consulta <a href="https://docs.aws.amazon.com/redshift/latest/dg/c_Supported_data_types.html">Tipi di dati</a> per l'elenco di tutti i tipi di dati supportati. <code class="code">Geography</code>, <code class="code">geometry</code> e <code class="code">hllsketch</code> non sono supportati. Se si specifica di utilizzare il tipo di dati SUPER come dati di input e il tipo di dati restituito, si indica che si desidera creare un modello di linguaggio di grandi dimensioni (LLM) ospitato in Amazon.  SageMaker  JumpStart</p>
                           <p>In alternativa, puoi specificare di utilizzare solo il tipo di dati SUPER come tipo di dati restituito senza utilizzarlo anche come dati di input.</p>
                        </dd>
                     
                        <dt><span class="term">SAGEMAKER <em>'nome_endpoint'</em>[:<em>'nome_modello'</em>] </span></dt>
                        <dd>

                            <p>Il nome dell' SageMaker endpoint Amazon. Se il nome dell'endpoint punta a un endpoint multimodello, aggiungere il nome del modello da utilizzare. L'endpoint deve trovarsi nella stessa regione AWS del cluster Amazon Redshift. Per trovare il tuo endpoint, avvia Amazon SageMaker. Nel menu a discesa <b>Inference</b> (Inferenza), scegliere <b>Endpoints</b> (Endpoint).</p>
                        </dd>
                     
                       <dt><span class="term">IAM_ROLE <span>{</span> default | 'arn:aws:iam::&lt;account-id&gt;:role/&lt;role-name&gt;'}</span></dt>
                        <dd>
                            <p> Utilizzare la parola chiave predefinita per fare in modo che Amazon Redshift utilizzi il ruolo IAM impostato come predefinito e associato al cluster quando viene eseguito il comando CREATE MODEL. In alternativa, è possibile specificare l'ARN di un ruolo IAM per utilizzare quel ruolo.</p>

                        </dd>
                    </dl></div>
                <p>Quando il modello viene distribuito su un  SageMaker  endpoint,  SageMaker  crea le informazioni del modello in Amazon Redshift. Esegue quindi l'inferenza attraverso la funzione esterna. È possibile utilizzare il comando SHOW MODEL per visualizzare le informazioni sul modello sul cluster Amazon Redshift.</p>
             
             
                <h4 id="r_remote-create-model-usage-notes">Note di utilizzo di CREATE MODEL per l'inferenza remota</h4>
                <p>Prima di utilizzare CREATE MODEL per l'inferenza remota, considerare quanto segue:</p>
                <div class="itemizedlist">
                    
                     
   
                     
                     
                     
   
                     
                    
                    
                  
                   

                <ul class="itemizedlist"><li class="listitem">
                      <p>I modelli BYOM possono supportare un solo argomento con il tipo di dati SUPER come dati di input e output restituito.</p>
                   </li><li class="listitem"><p>Il modello deve accettare input nel formato di valori separati da virgole (CSV) tramite un tipo di contenuto di testo/CSV in.  SageMaker Applicabile solo se non si utilizza il tipo di dati SUPER come input.</p>
                    </li><li class="listitem">
                       <p>L'endpoint deve essere ospitato nello stesso account AWS proprietario del cluster Amazon Redshift.</p>
                    </li><li class="listitem">
                       <p>Gli output dei modelli devono essere un singolo valore del tipo specificato durante la creazione della funzione, nel formato di valori separati da virgole (CSV) tramite un tipo di contenuto testo/CSV in.  SageMaker I tipi di dati Varchar non devono essere tra virgolette e ogni output deve essere in una nuova riga. Applicabile solo se hai specificato che il modello non deve restituire il tipo di dati SUPER. </p>
                    </li><li class="listitem">
                       <p>I modelli accettano valori null come stringhe vuote.</p>
                    </li><li class="listitem">
                       <p>Assicurati che l' SageMaker endpoint Amazon disponga di risorse sufficienti per accogliere le chiamate di inferenza da Amazon Redshift o che l'endpoint  SageMaker  Amazon possa essere ridimensionato automaticamente.</p>
                    </li><li class="listitem">
                      <p>Quando il tipo restituito è SUPER, l'output del modello deve essere JSON e il tipo di contenuto <code class="code">application/jsonlines</code>.</p>
                   </li><li class="listitem">
                      <p>Quando entrambi i tipi di input e output sono SUPER, il modello deve accettare e restituire JSON tramite il tipo di contenuto <code class="code">application/json</code>.</p>
                   </li></ul></div>
                 
                    <h5 id="r_remote-create-model-example">Esempio di CREATE MODEL per l'inferenza remota</h5>
                    <p>L'esempio seguente crea un modello che utilizza un  SageMaker  endpoint per fare previsioni. Assicurarsi che l'endpoint sia in esecuzione per effettuare previsioni e specificarne il nome nel comando CREATE MODEL.</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">CREATE MODEL remote_customer_churn
    FUNCTION remote_fn_customer_churn_predict (varchar, int, float, float)
    RETURNS int
    SAGEMAKER 'customer-churn-endpoint'
    IAM_ROLE default;</code></pre>
                   <p>L'esempio seguente crea un modello linguistico di grandi dimensioni (LLM) utilizzando il tipo di dati SUPER come dati di input e output restituito. I LLM sono ospitati in Jumpstart.  SageMaker  </p>
                   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE MODEL sample_super_data_model
FUNCTION sample_super_data_model_predict(super)
RETURNS super
SAGEMAKER 'sample_super_data_model_endpoint'
IAM_ROLE default;</code></pre>
                 
             
         
     
        <h2 id="r_k-means_create_model">CREA MODELLO con K-MEANS</h2>
        <p>Amazon Redshift supporta l'algoritmo K-Means che raggruppa i dati che non sono etichettati. Questo algoritmo risolve i problemi di clustering in cui si desidera individuare i raggruppamenti nei dati. I dati non classificati vengono raggruppati e ripartiti in base alle somiglianze e alle differenze. </p>

         
            <h3 id="r_k-means-create-model-synposis">CREA MODELLO con sintassi K-MEANS</h3>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">CREATE MODEL model_name
    FROM <span>{</span> <em>table_name</em> | ( <em>select_statement</em> ) }
    FUNCTION <em>function_name</em>
    IAM_ROLE <span>{</span> default | 'arn:aws:iam::&lt;account-id&gt;:role/&lt;role-name&gt;' }
    AUTO OFF
    MODEL_TYPE KMEANS
    PREPROCESSORS 'string'
    HYPERPARAMETERS DEFAULT EXCEPT ( K 'val' [, ...] )
    SETTINGS (
      S3_BUCKET 'bucket',
      KMS_KEY_ID 'kms_string', |
        -- optional
      S3_GARBAGE_COLLECT on / off, |
        -- optional
      MAX_CELLS integer, |
        -- optional
      MAX_RUNTIME integer
        -- optional);</code></pre>

         
         
            <h3 id="r_k-means-create-model-parameters">CREA MODELLO con i parametri K-MEANS</h3>
            <div class="variablelist">
                 
                 
                 
                 
            <dl>
                    <dt><span class="term"> <em>AUTO OFF</em> </span></dt>
                    <dd>
                        <p>Disattiva il rilevamento automatico CREATE MODEL della selezione di preprocessore, algoritmo e iperparametri.</p>
                    </dd>
                 
                    <dt><span class="term">KMEANS MODEL_TYPE</span></dt>
                    <dd>
                        <p>Specifica di utilizzare XGBOOST per addestrare il modello. </p>
                    </dd>
                 
                    <dt><span class="term">PREPROCESSORS 'string'</span></dt>
                    <dd>
                        <p>Specifica alcune combinazioni di preprocessori per determinati set di colonne. Il formato è un elenco di columnSets e le trasformazioni appropriate da applicare a ciascun set di colonne. Amazon Redshift supporta 3 preprocessori K-Means, vale a dire StandardScaler, e.  MinMax  NumericPassthrough Se non desideri applicare alcuna preelaborazione per K-Means, scegli  NumericPassthrough  esplicitamente come trasformatore. Per ulteriori informazioni sulla funzionalità di trasformazione delle proprietà, consultare <a href="#r_user_guidance-create-model-parameters">Parametri di CREATE MODEL con guida per l'utente</a>.</p>
                        <p>L'algoritmo K-Means utilizza la distanza eucliidea per calcolare la somiglianza. La preelaborazione dei dati garantisce che le caratteristiche del modello rimangano sulla stessa scala e producano risultati affidabili.</p>
                    </dd>
                 
                    <dt><span class="term">HYPERPARAMETERS DEFAULT ECCETTO (K 'val' [,...])</span></dt>
                    <dd>
                        <p>Specifica se vengono utilizzati i parametri K-Means. È necessario specificare il parametro <code class="code">K</code> quando usi l'algoritmo K-Means. Per ulteriori informazioni, consulta <a href="https://docs.aws.amazon.com/sagemaker/latest/dg/k-means-api-config.html">K-Means Hyperparameters</a> nella <em>Amazon  SageMaker </em> Developer Guide</p>
                    </dd>
                </dl></div>

            <p>L'esempio seguente prepara i dati per K-Means.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE MODEL customers_clusters
FROM customers
FUNCTION customers_cluster
IAM_ROLE default
AUTO OFF
MODEL_TYPE KMEANS
PREPROCESSORS '[
<span>{</span>
  "ColumnSet": [ "*" ],
  "Transformers": [ "NumericPassthrough" ]
}
]'
HYPERPARAMETERS DEFAULT EXCEPT ( K '5' )
SETTINGS (S3_BUCKET 'bucket');

select customer_id, customers_cluster(...) from customers;
customer_id | customers_cluster
--------------------
12345            1
12346            2
12347            4
12348            0</code></pre>

         
     
       <h2 id="r_forecast_model">CREATE MODEL with Forecast</h2>
       <p>I modelli di previsione in Redshift ML utilizzano Amazon Forecast per creare previsioni accurate di serie temporali. In questo modo puoi utilizzare i dati cronologici relativi a un periodo di tempo per fare previsioni su eventi futuri. I casi d'uso più comuni di Amazon Forecast includono l'utilizzo dei dati dei prodotti al dettaglio per decidere i prezzi dell'inventario, i dati sulla quantità di produzione per prevedere la quantità di un articolo da ordinare e i dati sul traffico Web per prevedere il traffico che potrebbe ricevere un server Web. </p>
       <p> <a href="https://docs.aws.amazon.com/forecast/latest/dg/limits.html">Quota limits from Amazon Forecast</a> (Limiti di quota di Amazon Forecast) vengono applicati nei modelli di previsione di Amazon Redshift. Ad esempio, il numero massimo di previsioni è 100, ma è regolabile. L'eliminazione di un modello di previsione non elimina automaticamente le risorse associate in Amazon Forecast. Se elimini un cluster Redshift, vengono eliminati anche tutti i modelli associati. </p>
       <p>Tieni presente che i modelli di previsione sono attualmente disponibili solo nelle seguenti regioni:</p>
       <div class="itemizedlist">
           
           
           
          
           
           
           
           
           
          
           
           
       <ul class="itemizedlist"><li class="listitem"><p>Stati Uniti orientali (Ohio) (us-east-2)</p></li><li class="listitem"><p>Stati Uniti orientali (Virginia settentrionale) (us-east-1)</p></li><li class="listitem"><p>Stati Uniti occidentali (Oregon) (us-west-2)</p></li><li class="listitem"><p>Asia Pacifico (Mumbai) (ap-south-1)</p></li><li class="listitem"><p>Asia Pacifico (Seoul) (ap-northeast-2)</p></li><li class="listitem"><p>Asia Pacifico (Singapore) (ap-southeast-1)</p></li><li class="listitem"><p>Asia Pacifico (Sydney) (ap-southeast-2)</p></li><li class="listitem"><p>Asia Pacifico (Tokyo) (ap-northeast-1)</p></li><li class="listitem"><p>Europa (Francoforte) (eu-central-1)</p></li><li class="listitem"><p>Europa (Irlanda) (eu-west-1)</p></li></ul></div>
        
          <h3 id="r_forecast_model-synopsis">CREATE MODEL con sintassi Forecast</h3>
          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">CREATE [ OR REPLACE ] MODEL forecast_model_name 
FROM <span>{</span> table_name | ( select_query ) } 
TARGET column_name
IAM_ROLE <span>{</span> default | 'arn:aws:iam::&lt;account-id&gt;:role/&lt;role-name&gt;'} 
AUTO ON
MODEL_TYPE FORECAST
SETTINGS (
  S3_BUCKET 'bucket',
  HORIZON integer,
  FREQUENCY forecast_frequency
  [PERCENTILES '0.1', '0.5', '0.9']</code></pre>
        
        
          <h3 id="r_forecast_model-parameters">CREATE MODEL con parametri Forecast</h3>
          <div class="variablelist">
              
              
              
              
              
              
              
              
              
              
          <dl>
                <dt><span class="term"> <em>forecast_model_name</em> </span></dt>
                <dd>
                   <p>Il nome del modello. Il nome del modello deve essere univoco.</p>
                </dd>
              
                <dt><span class="term">FROM <span>{</span> nome_tabella | ( query_select ) }</span></dt>
                <dd>
                   <p>Il nome_tabella o la query che specifica i dati di addestramento. Può essere una tabella esistente nel sistema o una query SELECT compatibile con Amazon Redshift racchiusa tra parentesi. Il risultato della tabella o della query deve contenere almeno tre colonne: (1) una colonna varchar che specifica il nome della serie temporale. Ogni set di dati può avere più serie temporali, (2) una colonna data/ora e (3) la colonna di destinazione da prevedere. Questa colonna di destinazione deve essere di tipo int o float. Se fornisci un set di dati composto da più di tre colonne, Amazon Redshift presuppone che tutte le colonne aggiuntive facciano parte di una serie temporale correlata. Notare che le serie temporali correlate devono essere di tipo int o float. Per ulteriori informazioni sulle serie temporali correlate, consulta <a href="https://docs.aws.amazon.com/forecast/latest/dg/related-time-series-datasets.html">Using Related Time Series Datasets</a> (Utilizzo di set di dati relativi alle serie temporali).</p>
                </dd>
              
                <dt><span class="term">TARGET nome_colonna</span></dt>
                <dd>
                   <p>Il nome della colonna che diventa la destinazione della previsione. La colonna deve esistere nella clausola FROM.</p>
                </dd>
              
                <dt><span class="term">IAM_ROLE <span>{</span> default | 'arn:aws:iam::&lt;account-id&gt;:role/&lt;role-name&gt;' }</span></dt>
                <dd>
                   <p>Utilizzare la parola chiave predefinita per fare in modo che Amazon Redshift utilizzi il ruolo IAM impostato come predefinito e associato al cluster quando viene eseguito il comando CREAT MODEL. In alternativa, è possibile specificare un ARN di un ruolo IAM per utilizzare quel ruolo. </p>
                </dd>
              
                <dt><span class="term">AUTO ON</span></dt>
                <dd>
                   <p>Attiva il rilevamento automatico CREATE MODEL della selezione di algoritmo e iperparametri. Specificare on quando si crea un modello Forecast indica di utilizzare un Forecast AutoPredictor, in cui Amazon Forecast applica le combinazioni ottimali di algoritmi a ogni serie temporale del set di dati.</p>
                </dd>
              
                <dt><span class="term">MODEL_TYPE FORECAST</span></dt>
                <dd>
                   <p>Specifica di utilizzare FORECAST per addestrare il modello.</p>
                </dd>
              
                <dt><span class="term">S3_BUCKET 'bucket'</span></dt>
                <dd>
                   <p>Il nome del bucket Amazon Simple Storage Service creato in precedenza e utilizzato per condividere i dati di addestramento e gli artefatti tra Amazon Redshift e Amazon Forecast. Amazon Redshift crea una sottocartella in questo bucket prima di scaricare i dati di addestramento. Una volta completato l'addestramento, Amazon Redshift elimina la sottocartella creata e il relativo contenuto.</p>
                </dd>
              
                <dt><span class="term">HORIZON integer</span></dt>
                <dd>
                   <p>Il numero massimo di previsioni che il modello di previsione può restituire. Una volta addestrato il modello, non è possibile modificare questo numero intero.</p>
                </dd>
              
                <dt><span class="term">FREQUENCY forecast_frequency</span></dt>
                <dd>
                   <p>Specifica la granularità desiderata per le previsioni. Le opzioni disponibili sono <code class="code">Y | M | W | D | H | 30min | 15min | 10min | 5min | 1min</code>. Obbligatorio se stai addestrando un modello di previsione.</p>
                </dd>
              
                <dt><span class="term">Stringa PERCENTILES</span></dt>
                <dd>
                   <p>Una stringa delimitata da virgole che specifica i tipi di previsione utilizzati per addestrare un predittore. I tipi di previsione possono essere quantili da 0,01 a 0,99, con incrementi di 0,01 o superiori. Puoi anche specificare la previsione media con la media. È possibile specificare un massimo di cinque tipi di previsione.</p>
                </dd>
             </dl></div>
          <p>L'esempio seguente dimostra come creare un modello di previsione semplice.</p>
          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">CREATE MODEL forecast_example
FROM forecast_electricity_
TARGET target 
IAM_ROLE 'arn:aws:iam::&lt;account-id&gt;:role/&lt;role-name&gt;'
AUTO ON 
MODEL_TYPE FORECAST
SETTINGS (S3_BUCKET 'redshift-ml-bucket',
          HORIZON 24,
          FREQUENCY 'H',
          PERCENTILES '0.25,0.50,0.75,mean',
          S3_GARBAGE_COLLECT OFF);</code></pre>
          
          <p>Dopo aver creato il modello di previsione, puoi creare una nuova tabella con i dati di previsione.</p>
          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE TABLE forecast_model_results as SELECT Forecast(forecast_example)</code></pre>
          
          <p>È quindi possibile eseguire query sulla nuova tabella per ottenere previsioni.</p>
          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT * FROM forecast_model_results</code></pre>
        
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avvertimento" /> <strong>JavaScript è disabilitato o non è disponibile nel tuo browser.</strong></p><p>Per usare la documentazione AWS, JavaScript deve essere abilitato. Consulta le pagine della guida del browser per le istruzioni.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenzioni dei documenti</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_create_model_usage_notes.html">Note per l'utilizzo</div><div id="next" class="next-link" accesskey="n" href="./r_CREATE_PROCEDURE.html">CREATE PROCEDURE</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Questa pagina ti è stata utile? - Sì</div><div class="content"><p>Grazie per averci comunicato che stiamo facendo un buon lavoro!</p><p>Se hai un momento, ti invitiamo a dirci che cosa abbiamo fatto che ti è piaciuto così possiamo offrirti altri contenuti simili.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_create_model_use_cases.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Questa pagina ti è stata utile? - No</div><div class="content"><p>Grazie per averci comunicato che questa pagina ha bisogno di essere modificata. Siamo spiacenti di non aver soddisfatto le tue esigenze.</p><p>Se hai un momento, ti invitiamo a dirci come possiamo migliorare la documentazione.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_create_model_use_cases.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>