<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="it-IT"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Utilizzo dall'accelerazione di query brevi - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="wlm-short-query-acceleration" /><meta name="default_state" content="wlm-short-query-acceleration" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/wlm-short-query-acceleration.html" /><meta name="description" content="L'accelerazione di query brevi (SQA) in Amazon Redshift rende prioritarie le query a esecuzione breve rispetto a quelle a esecuzione prolungata. L'accelerazione di query brevi (SQA, Short Query Acceleration) esegue query a esecuzione breve in uno spazio dedicato, in modo che le query SQA non siano costrette ad attendere in coda dietro query più lunghe. SQA assegna la priorità solo alle query che hanno un'esecuzione breve e si trovano in una coda definita dall'utente." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guida per sviluppatori di database" /><meta name="abstract" content="Creare e gestire un data warehouse con Amazon Redshift, un servizio di data warehouse completamente gestito di livello aziendale e con capacità nell'ordine di più petabyte." /><meta name="guide-locale" content="it_it" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/wlm-short-query-acceleration.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/wlm-short-query-acceleration.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/wlm-short-query-acceleration.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/wlm-short-query-acceleration.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/wlm-short-query-acceleration.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/wlm-short-query-acceleration.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/wlm-short-query-acceleration.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/wlm-short-query-acceleration.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/wlm-short-query-acceleration.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/wlm-short-query-acceleration.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/wlm-short-query-acceleration.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/wlm-short-query-acceleration.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/wlm-short-query-acceleration.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/wlm-short-query-acceleration.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/wlm-short-query-acceleration.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/wlm-short-query-acceleration.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/wlm-short-query-acceleration.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/wlm-short-query-acceleration.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/wlm-short-query-acceleration.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/wlm-short-query-acceleration.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/wlm-short-query-acceleration.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/wlm-short-query-acceleration.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guida per sviluppatori di database" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guida per sviluppatori di database" /><meta id="panorama-serviceConsolePage" value="Utilizzo dall'accelerazione di query brevi" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Utilizzo dall'accelerazione di query brevi - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#wlm-short-query-acceleration" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/wlm-short-query-acceleration.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/wlm-short-query-acceleration.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/wlm-short-query-acceleration.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,sviluppatore,dati campione,database,sviluppatore di database,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guida per sviluppatori di database",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Implementazione della gestione del carico di lavoro",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg/cm-c-implementing-workload-management.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Utilizzo dall'accelerazione di query brevi",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg/cm-c-implementing-workload-management.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#wlm-short-query-acceleration" target="_blank" rel="noopener noreferrer" title="Apri PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentazione</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guida per sviluppatori di database</a></div><div id="page-toc-src"><a href="#wlm-sqa-max-run-time">Runtime SQA massimo</a><a href="#wlm-monitoring-sqa">Monitoraggio dell'accelerazione di query brevi (SQA, Short Query Acceleration)</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Le traduzioni sono generate tramite traduzione automatica. In caso di conflitto tra il contenuto di una traduzione e la versione originale in Inglese, quest'ultima prevarrà.</p></awsui-alert><h1 class="topictitle" id="wlm-short-query-acceleration">Utilizzo dall'accelerazione di query brevi</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>L'accelerazione di query brevi (SQA) rende prioritarie le query a esecuzione breve rispetto a quelle a esecuzione prolungata. L'accelerazione di query brevi (SQA, Short Query Acceleration) esegue query a esecuzione breve in uno spazio dedicato, in modo che le query SQA non siano costrette ad attendere in coda dietro query più lunghe. SQA assegna la priorità solo alle query che hanno un'esecuzione breve e si trovano in una coda definita dall'utente. Con SQA, le query a esecuzione breve iniziano l'esecuzione più rapidamente e gli utenti visualizzano i risultati prima. </p><p>Se abiliti SQA, è possibile ridurre le code di gestione del carico di lavoro (WLM) dedicate all'esecuzione di query brevi. Inoltre, le query a esecuzione prolungata non devono contendere gli slot con le query brevi in una coda, quindi puoi configurare le code WLM per utilizzare un numero inferiore di slot di query. Quando usi una simultaneità inferiore, il throughput delle query aumenta e le prestazioni generali del sistema risultano migliorate per la maggior parte dei carichi di lavoro. </p><p> Le istruzioni <a href="./r_CREATE_TABLE_AS.html">CREATE TABLE AS</a> (CTAS) e le query di sola lettura, ad esempio le istruzioni <a href="./r_SELECT_synopsis.html">SELECT</a>, sono idonee per SQA.</p><p>Amazon Redshift utilizza un algoritmo di machine learning per analizzare ciascuna query idonea e prevedere il tempo di esecuzione della query. Per impostazione predefinita, WLM assegna dinamicamente un valore per il tempo di esecuzione massimo SQA in base all'analisi del carico di lavoro del cluster. In alternativa, è possibile specificare un valore fisso di 1-20 secondi. Se il tempo di esecuzione previsto della query è inferiore al runtime massimo SQA definito o assegnato dinamicamente e la query è in attesa in una coda WLM, SQA separa la query dalle code WLM e la pianifica per l'esecuzione prioritaria. Se una query viene eseguita più a lungo rispetto al tempo di esecuzione massimo SQA, WLM sposta la query nella prima coda WLM corrispondente in base alle <a href="./cm-c-wlm-queue-assignment-rules.html">regole di assegnazione delle code WLM</a>. Nel corso del tempo le previsioni migliorano man mano che SQA assimila i tuoi modelli di query. </p><p>SQA è abilitato per impostazione predefinita nel gruppo di parametri predefiniti e per tutti i nuovi gruppi di parametri. Per disabilitare SQA nella console Amazon Redshift, modificare la configurazione WLM per un gruppo di parametri e deselezionare <b>Abilita accelerazione di query brevi</b>. Come best practice, ti consigliamo di utilizzare un numero di slot di query WLM pari o inferiore a 15 per mantenere le prestazioni generali del sistema a livello ottimale. Per informazioni sulla modifica delle configurazioni WLM, consulta <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/workload-mgmt-config.html">Configurazione della gestione del carico di lavoro</a> nella <em>Guida alla gestione di Amazon Redshift</em>.</p>

         <h2 id="wlm-sqa-max-run-time">Tempo di esecuzione massimo per query brevi</h2>
         <p>Quando abiliti SQA, WLM imposta il tempo di esecuzione massimo per le query brevi su dinamico per impostazione predefinita. Ti consigliamo di mantenere le impostazioni dinamiche per il tempo massimo di esecuzione SQA. È possibile ignorare l'impostazione di default specificando un valore fisso compreso tra 1 e 20 secondi.</p>
         <p>In alcuni casi, puoi prendere in considerazione l'utilizzo di valori diversi per i valori massimi del tempo di esecuzione SQA per migliorare le prestazioni del sistema. In questi casi, analizza il tuo carico di lavoro per trovare il tempo massimo di esecuzione per la maggior parte delle tue query a esecuzione breve. La seguente query restituisce il tempo di esecuzione massimo per le query a circa il 70° percentile. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select least(greatest(percentile_cont(0.7) 
within group (order by total_exec_time / 1000000) + 2, 2), 20) 
from stl_wlm_query 
where userid &gt;= 100
and final_state = 'Completed';</code></pre>

         <p>Dopo aver identificato un valore di tempo di esecuzione massimo adatto al carico di lavoro, non è necessario modificarlo a meno che il carico di lavoro non cambi significativamente.</p>
       
         <h2 id="wlm-monitoring-sqa">Monitoraggio dell'accelerazione di query brevi (SQA, Short Query Acceleration)</h2>

         <p>Per controllare se SQA è abilitato, esegui la seguente query. Se la query restituisce una riga, SQA è abilitato.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select * from stv_wlm_service_class_config 
where service_class = 14;</code></pre>

         <p>La seguente query mostra il numero di query che hanno sostato in ciascuna coda di query (classe di servizio). Mostra anche il tempo medio di esecuzione, il numero di query con tempo di attesa al 90° percentile e il tempo medio di attesa. Le query SQA vengono utilizzate nella classe di servizio 14.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select final_state, service_class, count(*), avg(total_exec_time), 
percentile_cont(0.9) within group (order by total_queue_time), avg(total_queue_time) 
from stl_wlm_query where userid &gt;= 100 group by 1,2 order by 2,1; </code></pre>

         <p>Per trovare quali query sono state rilevate da SQA e completate, esegui la seguente query.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select a.queue_start_time, a.total_exec_time, label, trim(querytxt) 
from stl_wlm_query a, stl_query b 
where a.query = b.query and a.service_class = 14 and a.final_state = 'Completed' 
order by b.query desc limit 5;</code></pre>
         <p>Per trovare le query che SQA ha rilevato ma che hanno generato un timeout, esegui la seguente query.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select a.queue_start_time, a.total_exec_time, label, trim(querytxt) 
from stl_wlm_query a, stl_query b 
where a.query = b.query and a.service_class = 14 and a.final_state = 'Evicted' 
order by b.query desc limit 5;</code></pre>
         <p>Per ulteriori informazioni sulle query rifiutate e, più in generale, sulle operazioni basate su regole che possono essere eseguite sulle query, consulta <a href="./cm-c-wlm-query-monitoring-rules.html">Regole di monitoraggio delle query WLM</a>.</p>
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avvertimento" /> <strong>JavaScript è disabilitato o non è disponibile nel tuo browser.</strong></p><p>Per usare la documentazione AWS, JavaScript deve essere abilitato. Consulta le pagine della guida del browser per le istruzioni.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenzioni dei documenti</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./concurrency-scaling-monitoring-system-views.html">Visualizzazioni di sistema per il dimensionamento simultaneo</div><div id="next" class="next-link" accesskey="n" href="./cm-c-wlm-queue-assignment-rules.html">Regole di assegnazione delle code WLM</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Questa pagina ti è stata utile? - Sì</div><div class="content"><p>Grazie per averci comunicato che stiamo facendo un buon lavoro!</p><p>Se hai un momento, ti invitiamo a dirci che cosa abbiamo fatto che ti è piaciuto così possiamo offrirti altri contenuti simili.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/wlm-short-query-acceleration.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Questa pagina ti è stata utile? - No</div><div class="content"><p>Grazie per averci comunicato che questa pagina ha bisogno di essere modificata. Siamo spiacenti di non aver soddisfatto le tue esigenze.</p><p>Se hai un momento, ti invitiamo a dirci come possiamo migliorare la documentazione.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/wlm-short-query-acceleration.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>