<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="it-IT"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>CREATE EXTERNAL SCHEMA - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_CREATE_EXTERNAL_SCHEMA" /><meta name="default_state" content="r_CREATE_EXTERNAL_SCHEMA" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_CREATE_EXTERNAL_SCHEMA.html" /><meta name="description" content="Crea un nuovo schema esterno." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guida per sviluppatori di database" /><meta name="abstract" content="Creare e gestire un data warehouse con Amazon Redshift, un servizio di data warehouse completamente gestito di livello aziendale e con capacità nell'ordine di più petabyte." /><meta name="guide-locale" content="it_it" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_CREATE_EXTERNAL_SCHEMA.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_CREATE_EXTERNAL_SCHEMA.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_CREATE_EXTERNAL_SCHEMA.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_CREATE_EXTERNAL_SCHEMA.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_CREATE_EXTERNAL_SCHEMA.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_EXTERNAL_SCHEMA.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_EXTERNAL_SCHEMA.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_CREATE_EXTERNAL_SCHEMA.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_CREATE_EXTERNAL_SCHEMA.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_CREATE_EXTERNAL_SCHEMA.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_CREATE_EXTERNAL_SCHEMA.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_CREATE_EXTERNAL_SCHEMA.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_CREATE_EXTERNAL_SCHEMA.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_CREATE_EXTERNAL_SCHEMA.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_CREATE_EXTERNAL_SCHEMA.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_CREATE_EXTERNAL_SCHEMA.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_CREATE_EXTERNAL_SCHEMA.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_CREATE_EXTERNAL_SCHEMA.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_CREATE_EXTERNAL_SCHEMA.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_CREATE_EXTERNAL_SCHEMA.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_CREATE_EXTERNAL_SCHEMA.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_EXTERNAL_SCHEMA.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guida per sviluppatori di database" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guida per sviluppatori di database" /><meta id="panorama-serviceConsolePage" value="CREATE EXTERNAL SCHEMA" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>CREATE EXTERNAL SCHEMA - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#r_CREATE_EXTERNAL_SCHEMA" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_CREATE_EXTERNAL_SCHEMA.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_CREATE_EXTERNAL_SCHEMA.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_CREATE_EXTERNAL_SCHEMA.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,sviluppatore,dati campione,database,sviluppatore di database,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guida per sviluppatori di database",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Documentazione di riferimento a SQL",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Comandi SQL",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "CREATE EXTERNAL SCHEMA",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg/c_SQL_commands.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#r_CREATE_EXTERNAL_SCHEMA" target="_blank" rel="noopener noreferrer" title="Apri PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentazione</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guida per sviluppatori di database</a></div><div id="page-toc-src"><a href="#r_CREATE_EXTERNAL_SCHEMA-synopsis">Sintassi</a><a href="#r_CREATE_EXTERNAL_SCHEMA-parameters">Parametri</a><a href="#r_CREATE_EXTERNAL_SCHEMA_usage">Note per l'utilizzo</a><a href="#r_CREATE_EXTERNAL_SCHEMA_examples">Esempi</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Le traduzioni sono generate tramite traduzione automatica. In caso di conflitto tra il contenuto di una traduzione e la versione originale in Inglese, quest'ultima prevarrà.</p></awsui-alert><h1 class="topictitle" id="r_CREATE_EXTERNAL_SCHEMA">CREATE EXTERNAL SCHEMA</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Crea un nuovo schema esterno nel database corrente. È possibile utilizzare questo schema esterno per connettersi al database Amazon RDS for PostgreSQL o al database Amazon Aurora Edizione compatibile con PostgreSQL. È inoltre possibile creare uno schema esterno che fa riferimento a un database in un catalogo dati esterno AWS Glue, Athena o un database in un metastore Apache Hive, ad esempio Amazon EMR.</p><p>Il proprietario di questo schema è l'emittente del comando CREATE EXTERNAL SCHEMA. Per trasferire la proprietà di uno schema esterno, utilizza <a href="./r_ALTER_SCHEMA.html">ALTER SCHEMA</a> per cambiare il proprietario. Usa il comando <a href="./r_GRANT.html">GRANT</a> per concedere l'accesso allo schema ad altri utenti o gruppi di utenti. </p><p>Non puoi utilizzare i comandi GRANT o REVOKE per le autorizzazioni su una tabella esterna. Puoi invece concedere o revocare le autorizzazioni per lo schema esterno. </p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>Se attualmente si dispone di tabelle esterne Redshift Spectrum nel catalogo dati di Amazon Athena, è possibile migrare tale catalogo di Athena a un AWS Glue Data Catalog. Per utilizzare il catalogo dati AWS Glue con Redshift Spectrum, è possibile che sia necessario modificare le policy AWS Identity and Access Management (IAM). Per ulteriori informazioni, consultare <a href="https://docs.aws.amazon.com/athena/latest/ug/glue-athena.html#glue-upgrade">Aggiornamento del catalogo dati AWS Glue</a> nella <em>Guida per l'utente di Athena</em>.</p></div></div><p>Per visualizzare i dettagli degli schemi esterni, eseguire una query sulla vista di sistema <a href="./r_SVV_EXTERNAL_SCHEMAS.html">SVV_EXTERNAL_SCHEMAS</a>. </p>
         <h2 id="r_CREATE_EXTERNAL_SCHEMA-synopsis">Sintassi</h2>
         <p>La sintassi seguente descrive il comando CREATE EXTERNAL SCHEMA utilizzato per fare riferimento ai dati utilizzando un catalogo dati esterno. Per ulteriori informazioni, consulta <a href="./c-using-spectrum.html">Esecuzione di query sui dati esterni utilizzando Amazon Redshift Spectrum</a>.</p>
         <pre class="screen">CREATE EXTERNAL SCHEMA [IF NOT EXISTS] <em>local_schema_name</em>
FROM <span>{</span> [ DATA CATALOG ] | HIVE METASTORE | POSTGRES | MYSQL | KINESIS | MSK | REDSHIFT }
[ DATABASE '<em>database_name</em>' ]
[ SCHEMA '<em>schema_name</em>' ]
[ REGION '<em>aws-region</em>' ]
[ URI '<em>hive_metastore_uri</em>' [ PORT <em>port_number</em> ] ]
IAM_ROLE <span>{</span> default | 'SESSION' | 'arn:aws:iam::<code class="replaceable">&lt;Account AWS-id&gt;</code>:role/<code class="replaceable">&lt;role-name&gt;</code>' }
[ SECRET_ARN '<em>ssm-secret-arn</em>' ]
[ AUTHENTICATION <span>{</span> none | iam } ]
[ CLUSTER_ARN 'arn:aws:kafka:<code class="replaceable">&lt;region&gt;</code>:<code class="replaceable">&lt;Account AWS-id&gt;</code>:cluster/msk/<code class="replaceable">&lt;cluster uuid&gt;</code>' ]
[ CATALOG_ROLE <span>{</span> 'SESSION' | <em>'catalog-role-arn-string'</em> } ]
[ CREATE EXTERNAL DATABASE IF NOT EXISTS ]
[ CATALOG_ID '<em>Amazon Web Services account ID containing Glue or Lake Formation database</em>' ]</pre>

         <p>La sintassi seguente descrive il comando CREATE EXTERNAL SCHEMA utilizzato per fare riferimento ai dati utilizzando una query federata su RDS POSTGRES o Aurora PostgreSQL. È inoltre possibile creare uno schema esterno che faccia riferimento a fonti di streaming, come Kinesis Data Streams. Per ulteriori informazioni, consulta <a href="./federated-overview.html">Esecuzione di query su dati con query federate in Amazon Redshift</a>.</p>
         <pre class="screen">CREATE EXTERNAL SCHEMA [IF NOT EXISTS] <em>local_schema_name</em>
FROM POSTGRES
DATABASE '<em>federated_database_name</em>' [SCHEMA '<em>schema_name</em>']
URI '<em>hostname</em>' [ PORT <em>port_number</em> ]
IAM_ROLE <span>{</span> default | 'arn:aws:iam::<code class="replaceable">&lt;Account AWS-id&gt;</code>:role/<code class="replaceable">&lt;role-name&gt;</code>' }
SECRET_ARN '<em>ssm-secret-arn</em>'
</pre>

         
         
         
         <p>La sintassi seguente descrive il comando CREATE EXTERNAL SCHEMA utilizzato per fare riferimento ai dati utilizzando una query federata su RDS MySQL o Aurora MySQL. Per ulteriori informazioni, consulta <a href="./federated-overview.html">Esecuzione di query su dati con query federate in Amazon Redshift</a>.</p>
         <pre class="screen">CREATE EXTERNAL SCHEMA [IF NOT EXISTS] <em>local_schema_name</em>
FROM MYSQL
DATABASE '<em>federated_database_name</em>'
URI '<em>hostname</em>' [ PORT <em>port_number</em> ]
IAM_ROLE <span>{</span> default | 'arn:aws:iam::<code class="replaceable">&lt;Account AWS-id&gt;</code>:role/<code class="replaceable">&lt;role-name&gt;</code>' }
SECRET_ARN '<em>ssm-secret-arn</em>'
</pre>

         
         <p>La sintassi seguente descrive il comando CREATE EXTERNAL SCHEMA utilizzato per fare riferimento ai dati in un flusso Kinesis. Per ulteriori informazioni, consulta <a href="./materialized-view-streaming-ingestion.html">Importazione di dati in streaming</a>.</p>

<pre class="screen">CREATE EXTERNAL SCHEMA [IF NOT EXISTS] <em>schema_name</em>
FROM KINESIS
IAM_ROLE <span>{</span> default | 'arn:aws:iam::<code class="replaceable">&lt;Account AWS-id&gt;</code>:role/<code class="replaceable">&lt;role-name&gt;</code>' }
</pre>

         
         <p>La sintassi seguente descrive il comando CREATE EXTERNAL SCHEMA utilizzato per fare riferimento al cluster Amazon Managed Streaming per Apache Kafka e i relativi argomenti da cui importare dati. CLUSTER_ARN specifica il cluster Amazon MSK da cui stai leggendo i dati. Per ulteriori informazioni, consulta <a href="./materialized-view-streaming-ingestion.html">Importazione di dati in streaming</a>.</p>

         <pre class="screen">CREATE EXTERNAL SCHEMA [IF NOT EXISTS] <em>schema_name</em>
FROM MSK
IAM_ROLE <span>{</span> default | 'arn:aws:iam::<code class="replaceable">&lt;Account AWS-id&gt;</code>:role/<code class="replaceable">&lt;role-name&gt;</code>' }
AUTHENTICATION <span>{</span> none | iam }
CLUSTER_ARN 'msk-cluster-arn';
</pre>

         

         <p>La sintassi seguente descrive il comando CREATE EXTERNAL SCHEMA utilizzato per fare riferimento ai dati utilizzando una query tra database.</p>
         <pre class="screen">CREATE EXTERNAL SCHEMA <em>local_schema_name</em>
FROM  REDSHIFT
DATABASE '<em>redshift_database_name</em>' SCHEMA '<em>redshift_schema_name</em>'</pre>

       
         <h2 id="r_CREATE_EXTERNAL_SCHEMA-parameters">Parametri</h2>
         <div class="variablelist">
             
             
             

            

             

             

             
             

             
             
             
            
             
             
             
             

             
             

          
         <dl>
               <dt><span class="term">IF NOT EXISTS</span></dt>
               <dd>
                  <p>Clausola che indica che se lo schema specificato esiste già, il comando non deve apportare modifiche e deve restituire un messaggio che lo schema esiste, piuttosto che terminare con un errore. Questa clausola è utile durante lo scripting, quindi lo script non fallisce se CREATE EXTERNAL SCHEMA tenta di creare uno schema già esistente. </p>
               </dd>
             
               <dt><span class="term">local_schema_name</span></dt>
               <dd>
                  <p>Il nome del nuovo schema esterno. Per ulteriori informazioni sui nomi validi, consultare <a href="./r_names.html">Nomi e identificatori</a>.</p>
               </dd>
             
               <dt><span class="term">FROM [ DATA CATALOG ] | HIVE METASTORE | POSTGRES | MYSQL | KINESIS | MSK | REDSHIFT </span></dt>
               <dd>
                  <p>Parola chiave che indica dove si trova il database esterno. </p>
                  <p>DATA CATALOG indica che il database esterno è definito nel catalogo dati di Athena o AWS Glue Data Catalog. </p>
                  <p>Se il database esterno è definito in un catalogo dati esterno in una regione AWS diversa, è necessario il parametro REGION. DATA CATALOG è il valore predefinito.</p>
                  <p>HIVE METASTORE indica che il database esterno è definito in un metastore Apache Hive. Se è specificato HIVE METASTORE, l'URI è obbligatorio. </p>
                  <p>POSTGRES indica che il database esterno è definito in RDS PostgreSQL o Aurora PostgreSQL.</p>
                  <p>MYSQL indica che il database esterno è definito in RDS MySQL o Aurora MySQL.</p>
                  <p>KINESIS indica che l'origine dati è un flusso di Kinesis Data Streams.</p>
                  <p>MSK indica che l'origine dati è un argomento di Amazon MSK.</p>
               </dd>
             

               <dt><span class="term">FROM REDSHIFT</span></dt>
               <dd>
                  <p>Una parola chiave che indica che il database si trova in Amazon Redshift.</p>
               </dd>
             
               <dt><span class="term">DATABASE '<em>nome_database_redshift</em>' SCHEMA '<em>nome_schema_redshift</em>'</span></dt>
               <dd>
                  <p>Il nome del database Amazon Redshift. </p>
                  <p><em>nome_schema redshift</em> indica lo schema in Amazon Redshift. Il valore di timeout di default per <em>nome_schema redshift</em> è <code class="code">public</code>.</p>
               </dd>
             
               <dt><span class="term">DATABASE '<em>nome_database_federato</em>'</span></dt>
               <dd>
                  <p>Una parola chiave che indica il nome del database esterno in un motore del database PostgreSQL o MySQL supportato. </p>
               </dd>
             
               <dt><span class="term">[SCHEMA '<em>nome_schema</em>']</span></dt>
               <dd>
                  <p><em>nome_schema</em> indica lo schema in un motore del database PostgreSQL supportato. Lo <em>schema_name</em> predefinito è <code class="code">public</code>.</p>
                  <p>Non è possibile specificare uno SCHEMA quando si imposta una query federata su un motore di database MySQL supportato. </p>
               </dd>
             
               <dt><span class="term">REGION '<em>aws-region</em>'</span></dt>
               <dd>
                  <p>Se il database esterno è definito in un catalogo dati Athena o AWS Glue Data Catalog, la regione AWS in cui si trova il database. Questo parametro è obbligatorio se il database è definito in un catalogo dati esterno. </p>
               </dd>
             
               <dt><span class="term">URI '<em>hive_metastore_uri</em>' [ PORT port_number ]</span></dt>
               <dd>
                  <p>L'URI del nome host e il numero di porta di un motore del database PostgreSQL o MySQL supportato. Il valore <em>hostname</em> è il nodo principale del set di repliche. L'endpoint deve essere raggiungibile (instradabile) dal cluster Amazon Redshift. Il port_number predefinito per PostgreSQL è 5432. Il port_number predefinito per MySQL è 3306.</p>
                  <p>Se il database si trova in un metastore Hive, specifica l'URI e facoltativamente il numero di porta per il metastore. Il numero di porta predefinito è 9083. </p>
                  <p>Un URI non contiene una specifica di protocollo ("http://"). Un URI valido esempio è <code class="code">uri '172.10.10.10'</code>. </p>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>Il motore del database PostgreSQL o MySQL supportato deve essere nello stesso VPC del cluster Amazon Redshift. Creare un gruppo di sicurezza che colleghi Amazon Redshift e RDS PostgreSQL o Aurora PostgreSQL. </p></div></div>
               </dd>
             
               <dt><span class="term">IAM_ROLE <span>{</span> default | 'SESSION' | 'arn:aws:iam::<code class="replaceable">&lt;Account AWS-id&gt;</code>:role/<code class="replaceable">&lt;role-name&gt;</code>' }</span></dt>
               <dd>
                  <p>Utilizzare la parola chiave predefinita per fare in modo che Amazon Redshift utilizzi il ruolo IAM impostato come predefinito e associato al cluster quando viene eseguito il comando CREATE EXTERNAL SCHEMA.</p>
                  <p>Utilizzare <code class="code">'SESSION'</code> se ci si connette al cluster Amazon Redshift utilizzando un'identità federata e si accede alle tabelle dallo schema esterno creato con questo comando. Per ulteriori informazioni, consulta l'argomento relativo all'<a href="https://docs.aws.amazon.com/redshift/latest/mgmt/authorization-fas-spectrum.html">utilizzo di un'identità federata per gestire l'accesso di Amazon Redshift alle risorse locali e alle tabelle esterne di Amazon Redshift Spectrum</a>, che illustra come configurare l'identità federata. Si noti che questa configurazione, che utilizza <code class="code">'SESSION'</code> al posto dell'ARN, può essere utilizzata solo se lo schema è stato creato utilizzando <code class="code">DATA CATALOG</code>. </p>
                  <p>L'Amazon Resource Name (ARN) per un ruolo IAM utilizzato dal cluster per l'autenticazione e l'autorizzazione. Come minimo, il ruolo IAM deve disporre dell'autorizzazione per eseguire un'operazione LIST sul bucket Amazon S3 a cui accedere e un'operazione GET sugli oggetti Amazon S3 contenuti nel bucket.</p>
                  <p>Quanto segue mostra la sintassi per la stringa di parametro IAM_ROLE per un singolo ARN.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">IAM_ROLE 'arn:aws:iam::<code class="replaceable">&lt;aws-account-id&gt;</code>:role/<code class="replaceable">&lt;role-name&gt;</code>'</code></pre>
                  <p>È possibile concatenare i ruoli in modo che il cluster possa presumere un altro ruolo IAM, possibilmente appartenente a un altro account. Puoi concatenare fino a 10 ruoli. Per un esempio di concatenamento di ruoli, vedi <a href="./c-spectrum-iam-policies.html#c-spectrum-chaining-roles">Concatenazione di ruoli IAM per Amazon Redshift Spectrum</a>. </p>
                 <p> Per collegare a questo ruolo IAM una policy di autorizzazioni IAM simile alla seguente.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Sid": "AccessSecret",
            "Effect": "Allow",
            "Action": [
                "secretsmanager:GetResourcePolicy",
                "secretsmanager:GetSecretValue",
                "secretsmanager:DescribeSecret",
                "secretsmanager:ListSecretVersionIds"
            ],
            "Resource": "arn:aws:secretsmanager:<code class="replaceable">us-west-2</code>:<code class="replaceable">123456789012</code>:secret:my-rds-secret-VNenFy"
        },
        <span>{</span>
            "Sid": "VisualEditor1",
            "Effect": "Allow",
            "Action": [
                "secretsmanager:GetRandomPassword",
                "secretsmanager:ListSecrets"
            ],
            "Resource": "*"
        }
    ]
}</code></pre>
                  <p>Per la procedura per creare un ruolo IAM da utilizzare con la query federata, consultare <a href="./federated-create-secret-iam-role.html">Creazione di un segreto e di un ruolo IAM per l'utilizzo di query federate</a>. </p>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>Non includere spazi nell'elenco dei ruoli concatenati.</p></div></div>
                  <p>Quanto segue mostra la sintassi per concatenare tre ruoli.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">IAM_ROLE 'arn:aws:iam::<code class="replaceable">&lt;aws-account-id&gt;</code>:role/<code class="replaceable">&lt;role-1-name&gt;</code>,arn:aws:iam::<code class="replaceable">&lt;aws-account-id&gt;</code>:role/<code class="replaceable">&lt;role-2-name&gt;</code>,arn:aws:iam::<code class="replaceable">&lt;aws-account-id&gt;</code>:role/<code class="replaceable">&lt;role-3-name&gt;</code>'</code></pre>
               </dd>
             
               <dt><span class="term">SECRET_ARN '' <em>ssm-secret-arn</em></span></dt>
               <dd>
                  <p>L'Amazon Resource Name (ARN) di un segreto del motore del database PostgreSQL o MySQL supportato creato utilizzando AWS Secrets Manager. Per informazioni su come creare e recuperare un ARN per un segreto, consultare <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/manage_create-basic-secret.html">Creazione di un segreto di base</a> e <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/manage_retrieve-secret.html">Recupero del valore segreto</a> nella <em>Guida per l'utente di AWS Secrets Manager</em>. </p>
               </dd>
             
               <dt><span class="term">CATALOG_ROLE <span>{</span>'SESSIONE' |} <em>catalog-role-arn-string</em></span></dt>
               <dd>
                  <p>Utilizzare <code class="code">'SESSION'</code> per la connessione al cluster Amazon Redshift utilizzando un'identità federata per l'autenticazione e l'autorizzazione al catalogo di dati. Per ulteriori informazioni sul completamento della procedura per l'identità federata, consulta l'argomento relativo all'<a href="https://docs.aws.amazon.com/redshift/latest/mgmt/authorization-fas-spectrum.html">utilizzo di un'identità federata per gestire l'accesso di Amazon Redshift alle risorse locali e alle tabelle esterne di Amazon Redshift Spectrum</a>. Si noti che il ruolo <code class="code">'SESSION'</code> può essere utilizzato solo se lo schema viene creato in DATA CATALOG.</p>
                  <p>Il nome della risorsa Amazon (ARN) per un ruolo IAM utilizzato dal cluster per l'autenticazione e l'autorizzazione del catalogo dati. </p>
                  <p>Se CATALOG_ROLE non viene specificato, Amazon Redshift utilizza l'IAM_ROLE specificato. Il ruolo del catalogo deve avere l'autorizzazione ad accedere al catalogo dati in AWS Glue o Athena. Per ulteriori informazioni, consulta <a href="./c-spectrum-iam-policies.html">Policy IAM per Amazon Redshift Spectrum</a>. </p>
                  <p>Quanto segue mostra la sintassi per la stringa di parametro CATALOG_ROLE per un singolo ARN.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">CATALOG_ROLE 'arn:aws:iam::<code class="replaceable">&lt;aws-account-id&gt;</code>:role/<code class="replaceable">&lt;catalog-role&gt;</code>'</code></pre>
                  <p>È possibile concatenare i ruoli in modo che il cluster possa presumere un altro ruolo IAM, possibilmente appartenente a un altro account. Puoi concatenare fino a 10 ruoli. Per ulteriori informazioni, consulta <a href="./c-spectrum-iam-policies.html#c-spectrum-chaining-roles">Concatenazione di ruoli IAM per Amazon Redshift Spectrum</a>. </p>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>L'elenco di ruoli concatenati non deve includere spazi.</p></div></div>
                  <p>Quanto segue mostra la sintassi per concatenare tre ruoli.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">CATALOG_ROLE 'arn:aws:iam::<code class="replaceable">&lt;aws-account-id&gt;</code>:role/<code class="replaceable">&lt;catalog-role-1-name&gt;</code>,arn:aws:iam::<code class="replaceable">&lt;aws-account-id&gt;</code>:role/<code class="replaceable">&lt;catalog-role-2-name&gt;</code>,arn:aws:iam::<code class="replaceable">&lt;aws-account-id&gt;</code>:role/<code class="replaceable">&lt;catalog-role-3-name&gt;</code>'</code></pre>

                  <p></p>
               </dd>
             
               <dt><span class="term">CREATE EXTERNAL DATABASE IF NOT EXISTS</span></dt>
               <dd>
                  <p>Clausola che crea un database esterno con il nome specificato dall'argomento DATABASE, se il database esterno specificato non esiste. Se il database esterno specificato esiste, il comando non apporta modifiche. In questo caso, il comando restituisce un messaggio che il database esterno esiste, anziché terminare con un errore.</p>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>CREATE EXTERNAL DATABASE IF NOT EXISTS non può essere usato con HIVE METASTORE.</p><p>Per utilizzare CREATE EXTERNAL DATABASE IF NOT EXISTS con il catalogo dati abilitato per AWS Lake Formation, è necessaria l'autorizzazione <code class="code">CREATE_DATABASE</code> sul catalogo dati. </p></div></div>
               </dd>
             
               <dt><span class="term">CATALOG_ID "<em>ID account Amazon Web Services contenente il database Glue o Lake Formation</em>"</span></dt>
               <dd>
                  <p>L'ID dell'account in cui è archiviato il database del catalogo dati.</p>
                     <p><code class="code">CATALOG_ID</code> può essere specificato solo se si prevede di connettersi al cluster Amazon Redshift o ad Amazon Redshift Serverless utilizzando un'identità federata per l'autenticazione e l'autorizzazione al catalogo di dati configurando una delle seguenti impostazioni: </p>
                     <div class="itemizedlist">
                         
                         
                     <ul class="itemizedlist"><li class="listitem"><p><code class="code">CATALOG_ROLE</code> Da  a <code class="code">'SESSION'</code></p></li><li class="listitem"><p><code class="code">IAM_ROLE</code> su <code class="code">'SESSION'</code> e <code class="code">'CATALOG_ROLE'</code> impostati sul valore predefinito </p></li></ul></div>
                     <p>Per ulteriori informazioni sul completamento della procedura per l'identità federata, consulta l'argomento relativo all'<a href="https://docs.aws.amazon.com/redshift/latest/mgmt/authorization-fas-spectrum.html">utilizzo di un'identità federata per gestire l'accesso di Amazon Redshift alle risorse locali e alle tabelle esterne di Amazon Redshift Spectrum</a>. </p>

               </dd>
             
               <dt><span class="term">AUTHENTICATION</span></dt>
               <dd>
                  <p>Il tipo di autenticazione definito per l'importazione di dati in streaming. L'importazione di dati in streaming con i tipi di autenticazione funziona con Amazon Managed Streaming per Apache Kafka. I tipi di <code class="code">AUTHENTICATION</code> sono i seguenti:</p>
                  <div class="itemizedlist">
                      
                      
                  <ul class="itemizedlist"><li class="listitem"><p><b>none</b>: specifica che non è presente alcuna procedura di autenticazione.</p></li><li class="listitem"><p><b>iam</b>: specifica l'autenticazione IAM. Quando scegli questa opzione, assicurati che il ruolo IAM disponga delle autorizzazioni per l'autenticazione IAM. Per ulteriori informazioni sulla definizione dello schema esterno, consulta <a href="./materialized-view-streaming-ingestion-getting-started-MSK.html">Nozioni di base sull'importazione dati in streaming da Amazon Managed Streaming per Apache Kafka</a>.</p></li></ul></div>
                  <p></p>

               </dd>
             
               <dt><span class="term">CLUSTER_ARN</span></dt>
               <dd>
                  <p>Per l'importazione di dati in streaming, l'identificatore del cluster Amazon Managed Streaming per Apache Kafka da cui stai eseguendo lo streaming. Per ulteriori informazioni, consulta <a href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-streaming-ingestion.html">Importazione dati in streaming</a>.</p>
         

               </dd>
            </dl></div>
       
         <h2 id="r_CREATE_EXTERNAL_SCHEMA_usage">Note per l'utilizzo</h2>
         <p>Per i limiti per l'uso del catalogo di dati Athena, consulta <a href="https://docs.aws.amazon.com/general/latest/gr/aws_service_limits.html#amazon-athena-limits">Limiti di Athena</a> in Riferimenti generali di AWS.</p>
         <p>Per i limiti quando si usa AWS Glue Data Catalog, consulta <a href="https://docs.aws.amazon.com/general/latest/gr/aws_service_limits.html#limits_glue">Limiti di AWS Glue</a> nella Riferimenti generali di AWS.</p>
         <p>Questi limiti non si applicano a un metastore Hive.</p>
         
         <p>È presente un massimo di 9900 schemi per database. Per ulteriori informazioni, consulta <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/amazon-redshift-limits.html">Quote e limiti</a> nella <em>Guida alla gestione di Amazon Redshift</em>.</p>


   <p>Per annullare la registrazione dello schema, utilizzare il comando <a href="./r_DROP_SCHEMA.html">DROP SCHEMA</a>. </p>

            <p>Per visualizzare i dettagli degli schemi esterni, eseguire una query sulle viste di sistema seguenti: </p>
            <div class="itemizedlist">
                
                
                
            <ul class="itemizedlist"><li class="listitem"><p><a href="./r_SVV_EXTERNAL_SCHEMAS.html">SVV_EXTERNAL_SCHEMAS</a> </p></li><li class="listitem"><p><a href="./r_SVV_EXTERNAL_TABLES.html">SVV_EXTERNAL_TABLES</a> </p></li><li class="listitem"><p><a href="./r_SVV_EXTERNAL_COLUMNS.html">SVV_EXTERNAL_COLUMNS</a> </p></li></ul></div>

       
         <h2 id="r_CREATE_EXTERNAL_SCHEMA_examples">Esempi</h2>
         <p>L'esempio seguente crea uno schema esterno che utilizza un database in un catalogo dati denominato <code class="code">sampledb</code> nella regione Stati Uniti occidentali (Oregon). Usa questo esempio con un catalogo dati Athena o AWS Glue.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">create external schema spectrum_schema
from data catalog
database 'sampledb'
region 'us-west-2'
iam_role 'arn:aws:iam::123456789012:role/MySpectrumRole';</code></pre>
         <p>L'esempio seguente crea uno schema esterno e un nuovo database esterno denominato <code class="code">spectrum_db</code>.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">create external schema spectrum_schema
from data catalog
database 'spectrum_db'
iam_role 'arn:aws:iam::123456789012:role/MySpectrumRole'
create external database if not exists;</code></pre>
         <p>L'esempio seguente crea uno schema esterno che utilizza un database metastore Hive denominato <code class="code">hive_db</code>.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">create external schema hive_schema
from hive metastore
database 'hive_db'
uri '172.10.10.10' port 99
iam_role 'arn:aws:iam::123456789012:role/MySpectrumRole';</code></pre>
         <p>Nell'esempio seguente sono concatenati i ruoli per utilizzare il ruolo <code class="code">myS3Role</code> per accedere ad Amazon S3 ed è utilizzato <code class="code">myAthenaRole</code> per l'accesso al catalogo dati. Per ulteriori informazioni, consulta <a href="./c-spectrum-iam-policies.html#c-spectrum-chaining-roles">Concatenazione di ruoli IAM per Amazon Redshift Spectrum</a>.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">create external schema spectrum_schema
from data catalog
database 'spectrum_db'
iam_role 'arn:aws:iam::123456789012:role/myRedshiftRole,arn:aws:iam::123456789012:role/myS3Role'
catalog_role 'arn:aws:iam::123456789012:role/myAthenaRole'
create external database if not exists;</code></pre>
         <p>Nell'esempio seguente viene creato uno schema esterno che fa riferimento a un database Aurora PostgreSQL. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE EXTERNAL SCHEMA [IF NOT EXISTS] myRedshiftSchema
FROM POSTGRES
DATABASE 'my_aurora_db' SCHEMA 'my_aurora_schema'
URI 'endpoint to aurora hostname' PORT 5432  
IAM_ROLE 'arn:aws:iam::123456789012:role/MyAuroraRole'
SECRET_ARN 'arn:aws:secretsmanager:us-east-2:123456789012:secret:development/MyTestDatabase-AbCdEf'
</code></pre>



         
         <p>Nell'esempio seguente viene creato uno schema esterno per fare riferimento al database sales_db importato nel cluster di consumer.</p>
         
         
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE EXTERNAL SCHEMA sales_schema FROM REDSHIFT DATABASE 'sales_db' SCHEMA 'public';</code></pre>



         <p>Nell'esempio seguente viene creato uno schema esterno che fa riferimento a un database Aurora MySQL. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE EXTERNAL SCHEMA [IF NOT EXISTS] myRedshiftSchema
FROM MYSQL
DATABASE 'my_aurora_db'
URI 'endpoint to aurora hostname'
IAM_ROLE 'arn:aws:iam::123456789012:role/MyAuroraRole'
SECRET_ARN 'arn:aws:secretsmanager:us-east-2:123456789012:secret:development/MyTestDatabase-AbCdEf'
</code></pre>

      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avvertimento" /> <strong>JavaScript è disabilitato o non è disponibile nel tuo browser.</strong></p><p>Per usare la documentazione AWS, JavaScript deve essere abilitato. Consulta le pagine della guida del browser per le istruzioni.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenzioni dei documenti</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_CREATE_EXTERNAL_FUNCTION.html">CREATE EXTERNAL FUNCTION</div><div id="next" class="next-link" accesskey="n" href="./r_CREATE_EXTERNAL_TABLE.html">CREATE EXTERNAL TABLE</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Questa pagina ti è stata utile? - Sì</div><div class="content"><p>Grazie per averci comunicato che stiamo facendo un buon lavoro!</p><p>Se hai un momento, ti invitiamo a dirci che cosa abbiamo fatto che ti è piaciuto così possiamo offrirti altri contenuti simili.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_CREATE_EXTERNAL_SCHEMA.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Questa pagina ti è stata utile? - No</div><div class="content"><p>Grazie per averci comunicato che questa pagina ha bisogno di essere modificata. Siamo spiacenti di non aver soddisfatto le tue esigenze.</p><p>Se hai un momento, ti invitiamo a dirci come possiamo migliorare la documentazione.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_CREATE_EXTERNAL_SCHEMA.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>