<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="it-IT"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>CREATE EXTERNAL TABLE - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_CREATE_EXTERNAL_TABLE" /><meta name="default_state" content="r_CREATE_EXTERNAL_TABLE" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" /><meta name="description" content="Crea una nuova tabella esterna nel database corrente." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guida per sviluppatori di database" /><meta name="abstract" content="Creare e gestire un data warehouse con Amazon Redshift, un servizio di data warehouse completamente gestito di livello aziendale e con capacità nell'ordine di più petabyte." /><meta name="guide-locale" content="it_it" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guida per sviluppatori di database" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guida per sviluppatori di database" /><meta id="panorama-serviceConsolePage" value="CREATE EXTERNAL TABLE" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>CREATE EXTERNAL TABLE - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#r_CREATE_EXTERNAL_TABLE" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,sviluppatore,dati campione,database,sviluppatore di database,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guida per sviluppatori di database",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Documentazione di riferimento a SQL",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Comandi SQL",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "CREATE EXTERNAL TABLE",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg/c_SQL_commands.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#r_CREATE_EXTERNAL_TABLE" target="_blank" rel="noopener noreferrer" title="Apri PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentazione</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guida per sviluppatori di database</a></div><div id="page-toc-src"><a href="#r_CREATE_EXTERNAL_TABLE-privileges">Privilegi richiesti</a><a href="#r_CREATE_EXTERNAL_TABLE-synopsis">Sintassi</a><a href="#r_CREATE_EXTERNAL_TABLE-parameters">Parametri</a><a href="#r_CREATE_EXTERNAL_TABLE_examples_link">Esempi</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Le traduzioni sono generate tramite traduzione automatica. In caso di conflitto tra il contenuto di una traduzione e la versione originale in Inglese, quest'ultima prevarrà.</p></awsui-alert><h1 class="topictitle" id="r_CREATE_EXTERNAL_TABLE">CREATE EXTERNAL TABLE</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Crea una nuova tabella esterna nello schema specificato. Tutte le tabelle esterne devono essere create in uno schema esterno. Il percorso di ricerca non è supportato per schemi esterni e tabelle esterne. Per ulteriori informazioni, consulta <a href="./r_CREATE_EXTERNAL_SCHEMA.html">CREATE EXTERNAL SCHEMA</a>.</p><p>Oltre alle tabelle esterne create utilizzando il comando CREATE EXTERNAL TABLE, Amazon Redshift può fare riferimento a tabelle esterne definite in un catalogo AWS Glue o AWS Lake Formation o un metastore Apache Hive. Utilizzare il comando <a href="./r_CREATE_EXTERNAL_SCHEMA.html">CREATE EXTERNAL SCHEMA</a> per registrare un database esterno definito nel catalogo esterno e rendere disponibili le tabelle esterne per l'uso in Amazon Redshift. Se la tabella esterna esiste in un catalogo AWS Glue o AWS Lake Formation oppure in un metastore Hive, non è necessario creare la tabella utilizzando CREATE EXTERNAL TABLE. Per visualizzare le tabelle esterne, eseguire una query sulla vista di sistema <a href="./r_SVV_EXTERNAL_TABLES.html">SVV_EXTERNAL_TABLES</a>. </p><p>Eseguendo il comando CREATE EXTERNAL TABLE AS, è possibile creare una tabella esterna basata sulla definizione di colonna da una query e scrivere i risultati di tale query in Amazon S3. I risultati sono in formato Apache Parquet o testo delimitato. Se la tabella esterna dispone di una o più chiavi di partizione, Amazon Redshift partiziona i nuovi file in base a tali chiavi di partizione e registra automaticamente le nuove partizioni nel catalogo esterno. Per ulteriori informazioni su CREATE EXTERNAL TABLE AS, consultare <a href="./r_CREATE_EXTERNAL_TABLE_usage.html">Note per l'utilizzo</a>. </p><p>È possibile eseguire query su una tabella esterna utilizzando la stessa sintassi SELECT utilizzata con altre tabelle Amazon Redshift. È inoltre possibile utilizzare la sintassi INSERT per scrivere nuovi file nella posizione della tabella esterna su Amazon S3. Per ulteriori informazioni, consulta <a href="./r_INSERT_external_table.html">INSERT (tabella esterna)</a>.</p><p>Per creare una vista con una tabella esterna, includi la clausola WITH NO SCHEMA BINDING nell'istruzione <a href="./r_CREATE_VIEW.html">CREATE VIEW</a>.</p><p>Non è possibile eseguire CREATE EXTERNAL TABLE all'interno di una transazione (BEGIN ... END). Per ulteriori informazioni sulle transazioni, consultare <a href="./c_serial_isolation.html">Isolamento serializzabile</a>. </p>
         <h2 id="r_CREATE_EXTERNAL_TABLE-privileges">Privilegi richiesti</h2>
         <p>Per creare tabelle esterne, devi essere il proprietario dello schema esterno o un utente con privilegi avanzati. Per trasferire la proprietà di uno schema esterno, utilizza ALTER SCHEMA per cambiare il proprietario. L'accesso alle tabelle esterne è controllato dall'accesso allo schema esterno. Non puoi <a href="./r_GRANT.html">GRANT</a> o <a href="./r_REVOKE.html">REVOKE</a> autorizzazioni per una tabella esterna. Puoi invece concedere o revocare USAGE sullo schema esterno.</p>
         <p><a href="./r_CREATE_EXTERNAL_TABLE_usage.html">Note per l'utilizzo</a> dispone di informazioni aggiuntive sulle autorizzazioni specifiche per le tabelle esterne.</p>
       
         <h2 id="r_CREATE_EXTERNAL_TABLE-synopsis">Sintassi</h2>
         <pre class="screen">CREATE EXTERNAL TABLE
<em>external_schema.table_name</em>
(<em>column_name</em> <em>data_type</em> [, …] )
[ PARTITIONED BY (<em>col_name</em> <em>data_type</em> [, … ] )]
[ <span>{</span> ROW FORMAT DELIMITED <em>row_format</em> |
  ROW FORMAT SERDE '<em>serde_name</em>'
  [ WITH SERDEPROPERTIES ( '<em>property_name</em>' = '<em>property_value</em>' [, ...] ) ] } ]
STORED AS <em>file_format</em>
LOCATION <span>{</span> 's3://<em>bucket/folder</em>/' | 's3://<em>bucket/manifest_file</em>' }
[ TABLE PROPERTIES ( '<em>property_name</em>'='<em>property_value</em>' [, ...] ) ]</pre>
         <p>Di seguito è riportata la sintassi per CREATE EXTERNAL TABLE AS.</p>
         <pre class="screen">CREATE EXTERNAL TABLE
<em>external_schema.table_name</em>
[ PARTITIONED BY (<em>col_name</em> [, … ] ) ]
[ ROW FORMAT DELIMITED <em>row_format</em> ]
STORED AS <em>file_format</em>
LOCATION <span>{</span> 's3://<em>bucket/folder</em>/' }
[ TABLE PROPERTIES ( '<em>property_name</em>'='<em>property_value</em>' [, ...] ) ]
 AS
 <span>{</span> select_statement }
         </pre>
       
         <h2 id="r_CREATE_EXTERNAL_TABLE-parameters">Parametri</h2>
         <div class="variablelist">
             
             
             
             
             
             
             
             
            
             
         <dl>
               <dt><span class="term"> <em>external_schema.table_name</em> </span></dt>
               <dd>
                  <p>Nome della tabella da creare, qualificato da un nome di schema esterno. Le tabelle esterne devono essere create in uno schema esterno. Per ulteriori informazioni, consulta <a href="./r_CREATE_EXTERNAL_SCHEMA.html">CREATE EXTERNAL SCHEMA</a>.</p>
                  <p>La lunghezza massima per il nome della tabella è 127 byte; i nomi più lunghi vengono troncati a 127 byte. Puoi utilizzare caratteri multibyte UTF-8 fino a un massimo di quattro byte. Amazon Redshift applica un limite di 9.900 tabelle per cluster, comprese le tabelle temporanee definite dall'utente e le tabelle temporanee create da Amazon Redshift durante l'elaborazione delle query o la manutenzione del sistema. Facoltativamente, puoi qualificare il nome della tabella con il nome del database. Nell'esempio seguente, il nome del database è <code class="code">spectrum_db</code>, il nome dello schema esterno è <code class="code">spectrum_schema</code> e il nome della tabella è <code class="code">test</code>.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">create external table spectrum_db.spectrum_schema.test (c1 int)
stored as parquet
location 's3://mybucket/myfolder/';</code></pre>
                  <p>Se il database o lo schema specificato non esiste, la tabella non viene creata e l'istruzione restituisce un errore. Non è possibile creare tabelle o viste nei database di sistema <code class="code">template0</code>, <code class="code">template1</code>, <code class="code">padb_harvest</code> o <code class="code">sys:internal</code>.</p>
                  <p>Il nome della tabella deve essere un nome univoco per lo schema specificato. </p>
                  <p>Per ulteriori informazioni sui nomi validi, consultare <a href="./r_names.html">Nomi e identificatori</a>.</p>
               </dd>
             
               <dt><span class="term">( <em>column_name</em> <em>data_type</em> )</span></dt>
               <dd>
                  <p>Il nome e il tipo di dati di ciascuna colonna creata.</p>
                  <p>La lunghezza massima per il nome della colonna è 127 byte; i nomi più lunghi vengono troncati a 127 byte. Puoi utilizzare caratteri multibyte UTF-8 fino a un massimo di quattro byte. Non puoi specificare i nomi di colonna <code class="code">"$path"</code> o <code class="code">"$size"</code>. Per ulteriori informazioni sui nomi validi, consultare <a href="./r_names.html">Nomi e identificatori</a>.</p>
                  <p>Per impostazione predefinita, Amazon Redshift crea tabelle esterne con le pseudocolonne <code class="code">$path</code> e <code class="code">$size</code>. Puoi disabilitare la creazione di pseudocolonne per una sessione impostando il parametro di configurazione <code class="code">spectrum_enable_pseudo_columns</code> su <code class="code">false</code>. Per ulteriori informazioni, consulta <a href="./r_CREATE_EXTERNAL_TABLE_usage.html#r_CREATE_EXTERNAL_TABLE_usage-pseudocolumns">Pseudocolonne </a>.</p>
                  <p>Se le pseudocolonne sono abilitate, il numero massimo di colonne che è possibile definire in una singola tabella è 1.598. Se le pseudocolonne non sono abilitate, il numero massimo di colonne che puoi definire in una singola tabella è 1.600. </p>


                     <p>Se stai creando una "tabella di grandi dimensioni", assicurati che il tuo elenco di colonne non superi i limiti della larghezza delle righe per i risultati intermedi durante i carichi e l'elaborazione delle query. Per ulteriori informazioni, consulta <a href="./r_CREATE_TABLE_NEW.html#r_CREATE_TABLE_usage">Note per l'utilizzo</a>.</p>


                  
                  <p>Per un comando CREATE EXTERNAL TABLE AS., non è necessario un elenco di colonne, poiché queste derivano dalla query.</p>
               </dd>
             
               <dt><span class="term"> <em>data_type</em> </span></dt>
               <dd>
                  <p>Sono supportate le seguenti <a href="./c_Supported_data_types.html">Tipi di dati</a>:</p>
                  <div class="itemizedlist">
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>SMALLINT (INT2)</p>
                     </li><li class="listitem">
                        <p>INTEGER (INT, INT4)</p>
                     </li><li class="listitem">
                        <p>BIGINT (INT8)</p>
                     </li><li class="listitem">
                        <p>DECIMAL (NUMERIC)</p>
                     </li><li class="listitem">
                        <p>REAL (FLOAT4)</p>
                     </li><li class="listitem">
                        <p>DOUBLE PRECISION (FLOAT8)</p>
                     </li><li class="listitem">
                        <p>BOOLEAN (BOOL)</p>
                     </li><li class="listitem">
                        <p>CHAR (CHARACTER)</p>
                     </li><li class="listitem">
                        <p>VARCHAR (CHARACTER VARYING)</p>
                     </li><li class="listitem">
                        
                        <p>VARBYTE (CHARACTER VARYING): può essere utilizzato con file di dati Parquet e ORC e solo con colonne non partizionate.</p>
                     </li><li class="listitem">

                        <p>DATE: può essere utilizzato solo con i file di testo, Parquet o file di dati ORC oppure come colonna di partizione.</p>
                     </li><li class="listitem">
                        <p>TIMESTAMP</p>
                     </li></ul></div>
                  
                  <p></p>
                  <p>Per DATE, è possibile utilizzare i formati come descritto di seguito. Per i valori mensili rappresentati tramite cifre, sono supportati i seguenti formati:</p>
                  <div class="itemizedlist">
                      

                      
                  <ul class="itemizedlist"><li class="listitem"><p><code class="code">mm-dd-yyyy</code>, ad esempio, <code class="code">05-01-2017</code>. Questa è l'impostazione predefinita.</p></li><li class="listitem"><p><code class="code">yyyy-mm-dd</code>, dove l'anno è rappresentato da più di 2 cifre. Ad esempio, <code class="code">2017-05-01</code>.</p>
                        </li></ul></div>
                  <p>Per i valori mensili rappresentati tramite l'abbreviazione di tre lettere, sono supportati i seguenti formati:</p>
                  <div class="itemizedlist">
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem"><p><code class="code">mmm-dd-yyyy</code>, ad esempio, <code class="code">may-01-2017</code>. Questa è l'impostazione predefinita.</p></li><li class="listitem"><p><code class="code">dd-mmm-yyyy</code>, dove l'anno è rappresentato da più di 2 cifre. Ad esempio, <code class="code">01-may-2017</code>.</p>
                     </li><li class="listitem"><p><code class="code">yyyy-mmm-dd</code>, dove l'anno è rappresentato da più di 2 cifre. Ad esempio, <code class="code">2017-may-01</code>.</p>
                     </li></ul></div>
                     <p>Per i valori dell'anno che sono costantemente inferiori a 100, l'anno viene calcolato nel modo seguente:</p>
                     <div class="itemizedlist">
                         
                         
                         
                     <ul class="itemizedlist"><li class="listitem"><p>Se l'anno è inferiore a 70, l'anno viene calcolato come anno più 2000. Ad esempio, la data 05-01-17 nel formato <code class="code">mm-dd-yyyy</code> viene convertito in <code class="code">05-01-2017</code>.</p></li><li class="listitem"><p>Se l'anno è inferiore a 100 ma superiore a 69, l'anno viene calcolato come anno più 1900. Ad esempio, la data 05-01-89 nel formato <code class="code">mm-dd-yyyy</code> viene convertito in <code class="code">05-01-1989</code>.</p></li><li class="listitem"><p>Per i valori dell'anno rappresentati da due cifre, aggiungi zeri iniziali per rappresentare l'anno in 4 cifre.</p></li></ul></div>


                  <p>I valori di timestamp nei file di testo devono essere nel formato <code class="code">yyyy-mm-dd
                        HH:mm:ss.SSSSSS</code>, come il seguente valore di timestamp <code class="code">2017-05-01 11:30:59.000000</code>.</p>
                  <p>La lunghezza di una colonna VARCHAR è definita in termini di byte, non caratteri. Ad esempio, una colonna VARCHAR(12) può contenere 12 caratteri a byte singolo o 6 caratteri a due byte. Quando invii una query a una tabella esterna, i risultati sono troncati in modo da essere compatibili con le dimensioni definite della colonna senza restituire un errore. Per ulteriori informazioni, consulta <a href="./r_Character_types.html#r_Character_types-storage-and-ranges">Storage e intervalli</a>. </p>
                  <p>Per garantire le prestazioni migliori, consigliamo di specificare le dimensioni della colonna più piccole compatibili con i dati. Per individuare le dimensioni massime in byte per i valori di una colonna, utilizza la funzione <a href="./r_OCTET_LENGTH.html">OCTET_LENGTH</a>. Nell'esempio seguente viene restituita la dimensione massima dei valori nella colonna dell'e-mail.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="userinput">select max(octet_length(email)) from users;</code>

max
---
 62</code></pre>
               </dd>
             
               <dt><span class="term">PARTITIONED BY (<em>col_name</em> <em>data_type</em> [, … ] )</span></dt>
               <dd>
                  <p>Una clausola che definisce una tabella partizionata con una o più colonne di partizione. Viene utilizzata una directory di dati separata per ciascuna combinazione specificata, che può migliorare le prestazioni della query in alcune circostanze. Le colonne partizionate non esistono all'interno dei dati della tabella stessa. Se usi un valore per <em>col_name</em> uguale a una colonna della tabella, viene restituito un errore. </p>
                  <p>Dopo aver creato una tabella partizionata, modificare la tabella utilizzando un'istruzione <a href="./r_ALTER_TABLE.html">ALTER TABLE</a> ... ADD PARTITION per registrare nuove partizioni nel catalogo esterno. Quando si aggiunge una partizione, si definisce la posizione della sottocartella su Amazon S3 contenenti i dati della partizione.</p>
                  <p>Ad esempio, se la tabella <code class="code">spectrum.lineitem_part</code> è definita con <code class="code">PARTITIONED BY (l_shipdate date)</code>, esegui il seguente comando ALTER TABLE per aggiungere una partizione.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">ALTER TABLE spectrum.lineitem_part ADD PARTITION (l_shipdate='1992-01-29')
LOCATION 's3://spectrum-public/lineitem_partition/l_shipdate=1992-01-29';</code></pre>
                  <p>Se utilizzi CREATE EXTERNAL TABLE AS, non è necessario eseguire ALTER TABLE…ADD PARTITION. Amazon Redshift registra automaticamente le nuove partizioni nel catalogo esterno. Amazon Redshift scrive inoltre automaticamente i dati corrispondenti nelle partizioni Amazon S3 in base alla chiave o alle chiavi di partizione definite nella tabella.</p>

                  <p>Per visualizzare le partizioni, eseguire una query sulla vista di sistema <a href="./r_SVV_EXTERNAL_PARTITIONS.html">SVV_EXTERNAL_PARTITIONS</a>.</p>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>Per un comando CREATE EXTERNAL TABLE AS, non è necessario specificare il tipo di dati della colonna di partizione perché questa colonna è derivata dalla query.  </p></div></div>

               </dd>
             
               <dt><span class="term">ROW FORMAT DELIMITED <em>rowformat</em></span></dt>
               <dd>
                  <p>Clausola che specifica il formato dei dati sottostanti. I valori possibili di <em>rowformat</em> sono indicati di seguito:</p>
                  <div class="itemizedlist">
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>LINES TERMINATED BY '<em>delimiter</em>' </p>
                     </li><li class="listitem">
                        <p>FIELDS TERMINATED BY '<em>delimiter</em>' </p>
                     </li></ul></div>
                  <p>Specifica un singolo carattere ASCII per '<em>delimiter</em>'. È possibile specificare caratteri ASCII non stampabili utilizzando un ottale, nel formato <code class="code">'\</code><em><code class="code">ddd</code></em><code class="code">'</code> dove <em><code class="code">d</code></em> è una cifra ottale (0-7) fino a '\177'. L'esempio seguente specifica il carattere BEL (bell) usando l'ottale. </p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">ROW FORMAT DELIMITED FIELDS TERMINATED BY '\007'</code></pre>
                  <p>Se ROW FORMAT è omesso, il formato predefinito è DELIMITED FIELDS TERMINATED BY '\A' (inizio dell'intestazione) e LINES TERMINATED BY '\n' (newline). </p>
                  
               </dd>
             
               <dt><span class="term">ROW FORMAT SERDE '<em>serde_name</em>' </span></dt>
               <dt><span class="term">[WITH SERDEPROPERTIES ( '<em>property_name</em>' = '<em>property_value</em>' [, ...] ) ]</span></dt>
               <dd>
                  <p>Clausola che specifica il formato SERDE dei dati sottostanti. </p>
                  <div class="variablelist">
                      
                  <dl>
                        <dt><span class="term">'<em>serde_name</em>'</span></dt>
                        <dd>
                           <p>Nome della  SerDe. È possibile specificare utilizzando i seguenti formati.</p>
                           <div class="itemizedlist">
                               
                               
                              
                               
                               
                              
                               
                           <ul class="itemizedlist"><li class="listitem">
                                 <p>org.apache.hadoop.hive.serde2. RegexSerDe </p>
                              </li><li class="listitem">
                                 <p>com.amazonaws.glue.serde. GrokSerDe </p>
                              </li><li class="listitem">
                                 <p>org.apache.hadoop.hive.serde2.OpenCSVSerde </p>
                                 <p>Questo parametro supporta la seguente  SerDe  proprietà per OpenCsvSerde: </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">'wholeFile' = 'true' </code></pre>
                                 <p>Impostare la proprietà <code class="code">wholeFile</code>a proprietà <code class="code">true</code> per analizzare correttamente i nuovi caratteri di riga (\ n) all'interno di stringhe virgolate per le richieste OpenCSV. </p>

                              </li><li class="listitem">
                                 <p>org.openx.data.jsonserde. JsonSerDe</p>
                                 <div class="itemizedlist">
                                     
                                     
                                    
                                     
                                     

                                 <ul class="itemizedlist"><li class="listitem">
                                       <p>Il JSON SERDE supporta anche i file Ion. </p>
                                    </li><li class="listitem">
                                       <p>Il JSON deve essere ben formato. </p>
                                    </li><li class="listitem">
                                       <p>I timestamp in Ion e JSON devono utilizzare il formato ISO8601.</p>
                                    </li><li class="listitem">
                                       <p>Questo parametro supporta la seguente  SerDe  proprietà per JsonSerDe: </p>
                                       <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">'strip.outer.array'='true' </code></pre>
                                       <p>Elabora i file Ion/JSON che contengono un array molto grande racchiuso tra parentesi esterne ( [ … ] ) come se contenesse diversi record JSON all'interno dell'array. </p>
                                    </li></ul></div>
                              </li><li class="listitem">
                                 <p>com.amazon.ionhiveserde. IonHiveSerDe</p>
                                 <p>Il formato Amazon ION fornisce formati di testo e binari, oltre ai tipi di dati. Per una tabella esterna che fa riferimento ai dati in formato ION, devi mappare ogni colonna della tabella verso l'elemento corrispondente nei dati di formato ION. Per ulteriori dettagli, consultare <a href="https://amzn.github.io/ion-docs/" rel="noopener noreferrer" target="_blank"><span>Amazon Ion</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. È inoltre necessario specificare i formati di input e di output.</p>

                              </li></ul></div>
                        </dd>
                     </dl></div>
                  <div class="variablelist">
                      
                  <dl>
                        <dt><span class="term">WITH SERDEPROPERTIES ( '<em>property_name</em>' = '<em>property_value</em>' [, ...] ) ]</span></dt>
                        <dd>
                           <p>Facoltativamente, specifica i nomi e i valori delle proprietà, separati da virgole.</p>
                        </dd>
                     </dl></div>
                  <p>Se ROW FORMAT è omesso, il formato predefinito è DELIMITED FIELDS TERMINATED BY '\A' (inizio dell'intestazione) e LINES TERMINATED BY '\n' (newline). </p>
                  
               </dd>
             
               <dt><span class="term">STORED AS <em>file_format</em></span></dt>
               <dd>
                  <p>Il formato per i file di dati. </p>
                  <p>I formati validi sono:</p>
                  <div class="itemizedlist">
                      
                      
                      
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>PARQUET</p>
                     </li><li class="listitem">
                        <p>RCFILE ( ColumnarSerDe solo per uso di dati, non)  LazyBinaryColumnarSerDe</p>
                     </li><li class="listitem">
                        <p>SEQUENCEFILE</p>
                     </li><li class="listitem">
                        <p>TEXTFILE (per file di testo, inclusi i file JSON)</p> 
                     </li><li class="listitem">
                        <p>ORC </p>
                     </li><li class="listitem">
                        <p>AVRO </p>
                     </li><li class="listitem">
                        <p>INPUTFORMAT '<em>input_format_classname</em>' OUTPUTFORMAT '<em>output_format_classname</em>' </p>
                     </li></ul></div>
                  <p>Il comando CREATE EXTERNAL TABLE AS supporta solo due formati di file, TEXTFILE e PARQUET.</p>
                  <p>Per INPUTFORMAT e OUTPUTFORMAT, specifica un nome di classe, come illustrato nel seguente esempio. </p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">'org.apache.hadoop.mapred.TextInputFormat'</code></pre>
               </dd>
             
               <dt id="create-external-table-location"><span class="term">LOCATION <span>{</span> 's3://<em>bucket/folder</em>/' | 's3://<em>bucket/manifest_file</em>'}</span></dt>
               <dd>
                  <p>Il percorso della cartella o del bucket Amazon S3 con i file di dati o un file manifest che contiene un elenco di percorsi di oggetti Amazon S3. I bucket devono trovarsi nella stessa regione AWS del cluster Amazon Redshift. Per un elenco delle regioni AWS supportate, consultare <a href="./c-using-spectrum.html#c-spectrum-considerations">Considerazioni su Amazon Redshift Spectrum</a>.</p>


                  
                  <p>Se il percorso specifica un bucket o una cartella, ad esempio <code class="code">'s3://mybucket/custdata/'</code>, Redshift Spectrum esegue la scansione dei file nel bucket o nella cartella specificati e in qualsiasi sottocartella. Redshift Spectrum ignora i file e i file nascosti che iniziano con un punto o un trattino basso. </p>
                  <p>Se il percorso specifica un file manifest, l'argomento <code class="code">'s3://bucket/manifest_file'</code> deve fare riferimento esplicitamente a un singolo file, ad esempio <code class="code">'s3://mybucket/manifest.txt'</code>. Non può fare riferimento a un prefisso della chiave. </p>
                  
                  <p>Il manifest è un file di testo in formato JSON che elenca l'URL di ciascun file che deve essere caricato da Amazon S3 e la dimensione del file, in byte. L'URL include il nome del bucket e il percorso completo dell'oggetto per il file. I file specificati nel file manifest possono trovarsi in diversi bucket, ma tutti i bucket devono trovarsi nella stessa regione AWS del cluster Amazon Redshift. Se un file viene elencato due volte, viene caricato due volte. L'esempio seguente mostra il JSON per un manifest che carica tre file. </p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
  "entries": [
    <span>{</span>"url":"s3://mybucket-alpha/custdata.1", "meta": <span>{</span> "content_length": 5956875 } },
    <span>{</span>"url":"s3://mybucket-alpha/custdata.2", "meta": <span>{</span> "content_length": 5997091 } },
    <span>{</span>"url":"s3://mybucket-beta/custdata.1", "meta": <span>{</span> "content_length": 5978675 } }
  ]
}</code></pre>
                  
                  
                  <p>È possibile rendere obbligatoria l'inclusione di un particolare file. A tale scopo, includere un'opzione <code class="code">mandatory</code> a livello di file nel manifest. Quando si esegue una query su una tabella esterna con un file obbligatorio mancante, l'istruzione SELECT ha esito negativo. Assicurarsi che tutti i file inclusi nella definizione della tabella esterna siano presenti. Se non sono tutti presenti, viene visualizzato un errore che mostra il primo file obbligatorio che non viene trovato. L'esempio seguente mostra il JSON per un manifest con l' opzione <code class="code">mandatory</code> impostata su <code class="code">true</code>.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
  "entries": [
    <span>{</span>"url":"s3://mybucket-alpha/custdata.1", "mandatory":true, "meta": <span>{</span> "content_length": 5956875 } },
    <span>{</span>"url":"s3://mybucket-alpha/custdata.2", "mandatory":false, "meta": <span>{</span> "content_length": 5997091 } },
    <span>{</span>"url":"s3://mybucket-beta/custdata.1", "meta": <span>{</span> "content_length": 5978675 } }
  ]
}</code></pre>
                  <p>Per fare riferimento ai file creati utilizzando UNLOAD, puoi utilizzare il manifest creato utilizzando <a href="./r_UNLOAD.html">UNLOAD</a> con il parametro MANIFEST. Il file manifest è compatibile con un file manifest per <a href="./copy-parameters-data-source-s3.html">COPY da Amazon S3</a>, ma usa chiavi diverse. Le chiavi non utilizzate vengono ignorate. </p>
               </dd>
             
               <dt><span class="term">TABLE PROPERTIES ( '<em>property_name</em>'='<em>property_value</em>' [, ...] ) </span></dt>
               <dd>
                  <p>Clausola che imposta la definizione della tabella delle proprietà della tabella. </p>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>Le proprietà della tabella rispettano la distinzione tra maiuscole e minuscole.</p></div></div>
                  <div class="variablelist">
                     



                      

                      

                      
                      

                      


                      

                      

                      


                      
                      
                      


                      
                      
                      
                     
                      

                      
                  <dl>
                        <dt><span class="term"> 'compression_type'='<em>value</em>' </span></dt>
                        <dd>
                           <p> Proprietà che imposta il tipo di compressione da utilizzare se il nome file non contiene un'estensione. Se imposti questa proprietà e c'è un'estensione di file, l'estensione viene ignorata e viene utilizzato il valore impostato dalla proprietà. I valori validi per il tipo di compressione sono i seguenti:</p>
                           <div class="itemizedlist">
                               
                              
                               
                               
                               
                           <ul class="itemizedlist"><li class="listitem">
                                 <p>bzip2</p>
                              </li><li class="listitem">
                                 <p>gzip</p>
                              </li><li class="listitem">
                                 <p>nessuno</p>
                              </li><li class="listitem">
                                 <p>snappy</p>
                              </li></ul></div>
                        </dd>
                      
                        <dt><span class="term">'data_cleansing_enabled'='true / false'</span></dt>
                        <dd>
                           <p>Questa proprietà imposta se la gestione dei dati è attiva per la tabella. Se 'data_cleansing_enabled' è impostata su true, la gestione dei dati è attiva per la tabella. Se 'data_cleansing_enabled' è impostata su false, la gestione dei dati non è attiva per la tabella. Di seguito è riportato l'elenco delle proprietà di gestione dei dati a livello di tabella controllate da questa proprietà:</p>
                           <div class="itemizedlist">
                               
                               
                               
                               
                               
                           <ul class="itemizedlist"><li class="listitem"><p>column_count_mismatch_handling</p></li><li class="listitem"><p>invalid_char_handling</p></li><li class="listitem"><p>numeric_overflow_handling</p></li><li class="listitem"><p>replacement_char</p></li><li class="listitem"><p>surplus_char_handling</p></li></ul></div>
                           <p>Per alcuni esempi, consulta <a href="./r_CREATE_EXTERNAL_TABLE_examples.html#r_CREATE_EXTERNAL_TABLE_examples-data-handling">Esempi di gestione dei dati</a>.</p>
                        </dd>

                      
                        <dt><span class="term">'invalid_char_handling'='<em>valore</em>' </span></dt>
                        <dd>
                           <p>Specifica l'azione da eseguire quando i risultati della query contengono valori di caratteri UTF-8 non validi. È possibile specificare le seguenti operazioni:</p>
                           <div class="variablelist">
                               
                               
                               
                               
                               

                           <dl>
                                 <dt><span class="term">DISABILITATO</span></dt>
                                 <dd><p>Non esegue la gestione dei caratteri non validi.</p></dd>
                               
                                 <dt><span class="term">FAIL</span></dt>
                                 <dd><p>Annulla le query che restituiscono dati contenenti valori UTF-8 non validi.</p></dd>
                               
                                 <dt><span class="term">SET_TO_NULL </span></dt>
                                 <dd><p>Sostituisce valori UTF-8 non validi con null.</p></dd>
                               
                                 <dt><span class="term">DROP_ROW</span></dt>
                                 <dd><p>Sostituisce ogni valore della riga con null.</p></dd>
                               
                                 <dt><span class="term">REPLACE</span></dt>
                                 <dd><p>Sostituisce il carattere non valido con il carattere sostitutivo specificato tramite <code class="code">replacement_char</code>.</p></dd>
                              </dl></div>
                        </dd>
                      
                        <dt><span class="term">'replacement_char'='<em>carattere</em>'</span></dt>
                        <dd>
                           <p>Specifica il carattere sostitutivo da utilizzare quando si imposta <code class="code">invalid_char_handling</code> su <code class="code">REPLACE</code>.</p>
                        </dd>
                      
                        <dt><span class="term">'numeric_overflow_handling'='value'</span></dt>
                        <dd>
                           <p>Specifica l'azione da eseguire quando i dati ORC contengono un numero intero (ad esempio BIGINT o int64) maggiore della definizione di colonna (ad esempio SMALLINT o int16). È possibile specificare le seguenti operazioni:</p>
                           <div class="variablelist">
                               
                               
                               
                               
                           <dl>
                                 <dt><span class="term">DISABILITATO</span></dt>
                                 <dd><p>La gestione dei caratteri non validi è disattivata.</p></dd>
                               
                                 <dt><span class="term">FAIL</span></dt>
                                 <dd><p>Se i dati includono caratteri non validi annullare la query.</p></dd>
                               
                                 <dt><span class="term">SET_TO_NULL</span></dt>
                                 <dd><p>Impostare i caratteri non validi su null.</p></dd>
                               
                                 <dt><span class="term">DROP_ROW</span></dt>
                                 <dd><p>Impostare ogni valore della riga su null.</p></dd>
                              </dl></div>

                        </dd>

                      
                        
                        <dt><span class="term">'surplus_bytes_handling'='<em>value</em>'</span></dt>
                        <dd>
                           <p>Specifica come gestire i dati caricati che superano la lunghezza del tipo di dati definito per le colonne contenenti dati VARBYTE. Per impostazione predefinita, Redshift Spectrum imposta il valore su null per i dati che superano la larghezza della colonna.</p>
                           <p>È possibile specificare le seguenti operazioni da eseguire quando la query restituisce dati che superano la larghezza del tipo di dati:</p>
                           <div class="variablelist">
                               
                               
                               
                               
                               
                           <dl>
                                 <dt><span class="term">SET_TO_NULL</span></dt>
                                 <dd><p>Sostituisce i dati che superano la larghezza della colonna con null.</p></dd>
                               
                                 <dt><span class="term">DISABILITATO</span></dt>
                                 <dd><p>Non esegue la gestione dei byte in eccedenza.</p></dd>
                               
                                 <dt><span class="term">FAIL</span></dt>
                                 <dd><p>Annulla le query che restituiscono dati che superano la larghezza della colonna.</p></dd>
                               
                                 <dt><span class="term">DROP_ROW</span></dt>
                                 <dd><p>Elimina tutte le righe contenenti dati che superano la larghezza della colonna.</p></dd>
                               
                                 <dt><span class="term">TRUNCATE</span></dt>
                                 <dd><p>Rimuove i caratteri che superano il numero massimo di caratteri definito per la colonna.</p></dd>
                              </dl></div>
                        </dd>
                      
                        <dt><span class="term">'surplus_char_handling'='<em>valore</em>'</span></dt>
                        <dd>
                           <p>Specifica come gestire i dati caricati che superano la lunghezza del tipo di dati definito per le colonne contenenti dati VARCHAR, CHAR o stringa. Per impostazione predefinita, Redshift Spectrum imposta il valore su null per i dati che superano la larghezza della colonna.</p>
                           <p>È possibile specificare le seguenti operazioni da eseguire quando la query restituisce dati che superano la larghezza della colonna:</p>
                           <div class="variablelist">
                               
                               
                               
                               
                               
                           <dl>
                                 <dt><span class="term">SET_TO_NULL</span></dt>
                                 <dd><p>Sostituisce i dati che superano la larghezza della colonna con null.</p></dd>
                               
                                 <dt><span class="term">DISABILITATO</span></dt>
                                 <dd><p>Non esegue la gestione dei caratteri in eccedenza.</p></dd>
                               
                                 <dt><span class="term">FAIL</span></dt>
                                 <dd><p>Annulla le query che restituiscono dati che superano la larghezza della colonna.</p></dd>
                               
                                 <dt><span class="term">DROP_ROW</span></dt>
                                 <dd><p>Sostituisce ogni valore della riga con null.</p></dd>
                               
                                 <dt><span class="term">TRUNCATE</span></dt>
                                 <dd><p>Rimuove i caratteri che superano il numero massimo di caratteri definito per la colonna.</p></dd>
                              </dl></div>
                        </dd>
                      
                        
                        <dt><span class="term">'column_count_mismatch_handling'='valore’</span></dt>
                        <dd>
                           <p>Determina se il file contiene più o meno valori in una riga rispetto al numero di colonne specificato nella definizione della tabella esterna. Questa proprietà è disponibile solo per il formato di file di testo non compresso. È possibile specificare le seguenti operazioni:</p>
                           <div class="variablelist">
                               
                               
                               
                               
                           <dl>
                                 <dt><span class="term">DISABILITATO</span></dt>
                                 <dd><p>La gestione della mancata corrispondenza del conteggio di colonne è disattivata.</p></dd>
                               
                                 <dt><span class="term">FAIL</span></dt>
                                 <dd><p>La query ha esito negativo se viene rilevata una mancata corrispondenza del conteggio delle colonne.</p></dd>
                               
                                 <dt><span class="term">SET_TO_NULL</span></dt>
                                 <dd><p>Compila i valori mancanti con NULL e ignora i valori aggiuntivi in ogni riga.</p></dd>
                               
                                 <dt><span class="term">DROP_ROW</span></dt>
                                 <dd><p>Elimina tutte le righe che contengono errori relativi alla mancata corrispondenza del conteggio delle colonne dalla scansione.</p></dd>
                              </dl></div>
                        </dd>
                      
                        <dt><span class="term">'numRows'='<em>row_count</em>' </span></dt>
                        <dd>
                           <p>Proprietà che imposta il valore numRows per la definizione della tabella. Per aggiornare in modo esplicito le statistiche di una tabella esterna, imposta la proprietà numRows in modo da indicare le dimensioni della tabella. Amazon Redshift non analizza le tabelle esterne per generare le statistiche delle tabelle che l'ottimizzatore di query utilizza per generare un piano di query. Se le statistiche delle tabelle non sono impostate per una tabella esterna, Amazon Redshift genera un piano di esecuzione delle query basato sul presupposto che le tabelle esterne sono le tabelle più grandi e quelle locali le più piccole.</p>
                        </dd>
                      
                        <dt><span class="term">'skip.header.line.count'='<em>line_count</em>'</span></dt>
                        <dd>
                           <p>Proprietà che imposta il numero di righe da saltare all'inizio di ogni file sorgente.</p>
                        </dd>
                      
                        <dt><span class="term">'serialization.null.format'=' '</span></dt>
                        <dd>
                           <p>Proprietà che specifica che Spectrum deve restituire un valore <code class="code">NULL</code> quando esiste una corrispondenza esatta con il testo fornito in un campo.</p>
                        </dd>
                      
                        <dt><span class="term">'orc.schema.resolution'='mapping_type'</span></dt>
                        <dd>
                           <p>Una proprietà che imposta il tipo di mappatura della colonna per le tabelle che utilizzano il formato di dati ORC. La proprietà viene ignorata per tutti gli altri formati di dati.</p>
                           <p>I valori validi per il tipo di mappatura della colonna sono i seguenti: </p>
                           <div class="itemizedlist">
                               
                               
                           <ul class="itemizedlist"><li class="listitem">
                                 <p>nome </p>
                              </li><li class="listitem">
                                 <p>position </p>
                              </li></ul></div>
                           <p>Se la proprietà <em>orc.schema.resolution</em> viene omessa, le colonne vengono mappate in base al nome per impostazione predefinita. Se <em>orc.schema.resolution</em> è impostata su un valore diverso da <em>'name'</em> o <em>'position'</em>, le colonne vengono mappate in base alla posizione. Per ulteriori informazioni sulla mappatura delle colonne, consulta <a href="./c-spectrum-external-tables.html#c-spectrum-column-mapping-orc">Mappatura delle colonne di una tabella esterna alle colonne ORC</a>.</p>
                           <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>Il comando COPY mappa sui file di dati ORC soltanto in base alla posizione. La proprietà della tabella <em>orc.schema.resolution</em> non ha effetto sul comportamento del comando COPY. </p></div></div>
                        </dd>
                      
                        <dt><span class="term">'write.parallel'='on / off'</span></dt>
                        <dd>
                           <p>Proprietà che imposta se CREATE EXTERNAL TABLE AS deve scrivere dati in parallelo. Per impostazione predefinita, CREATE EXTERNAL TABLE AS scrive i dati in parallelo in più file, in base al numero di sezioni nel cluster. L'opzione predefinita è "attiva". Quando 'write.parallel' è impostato su off, CREATE EXTERNAL TABLE AS scrive su uno o più file di dati in serie su Amazon S3. Questa proprietà della tabella si applica anche a qualsiasi istruzione INSERT successiva nella stessa tabella esterna.</p>
                        </dd>
                      
                        <dt><span class="term">‘write.maxfilesize.mb'=‘size'</span></dt>
                        <dd>
                           <p>Una proprietà che imposta la dimensione massima (in MB) di ogni file scritto su Amazon S3 da CREATE EXTERNAL TABLE AS. La dimensione deve essere un numero intero valido compreso tra 5 e 6200. La dimensione massima predefinita del file è 6.200 MB. Questa proprietà della tabella si applica anche a qualsiasi istruzione INSERT successiva nella stessa tabella esterna.</p>
                        </dd>
                      
                        <dt><span class="term">'write.kms.key.id'='<em>valore</em>'</span></dt>
                        <dd>
                           <p>Puoi specificare una chiave AWS Key Management Service per abilitare Server—Side Encryption (SSE) per oggetti Amazon S3, dove <em>valore</em> è una delle seguenti operazioni: </p>
                           <div class="itemizedlist">
                               
                                                                     <ul class="itemizedlist"><li class="listitem"><p><code class="code">auto</code> per utilizzare la chiave AWS KMS memorizzata nel bucket Amazon S3.</p></li><li class="listitem"><p><em>kms-key</em> che si specifica per crittografare i dati.</p></li></ul></div>
                        </dd>
                      
                        <dt><span class="term"><em>select_statement</em></span></dt>
                        <dd>
                           <p>Istruzione che inserisce una o più righe nella tabella esterna definendo qualsiasi query. Tutte le righe prodotte dalla query vengono scritte in Amazon S3 in formato testo o Parquet in base alla definizione della tabella.</p>
                        </dd>
                     </dl></div>
               </dd>
            </dl></div>
       
         <h2 id="r_CREATE_EXTERNAL_TABLE_examples_link">Esempi</h2>
         <p>Una raccolta di esempi è disponibile all'indirizzo <a href="./r_CREATE_EXTERNAL_TABLE_examples.html">Esempi</a>.</p>
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avvertimento" /> <strong>JavaScript è disabilitato o non è disponibile nel tuo browser.</strong></p><p>Per usare la documentazione AWS, JavaScript deve essere abilitato. Consulta le pagine della guida del browser per le istruzioni.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenzioni dei documenti</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_CREATE_EXTERNAL_SCHEMA.html">CREATE EXTERNAL SCHEMA</div><div id="next" class="next-link" accesskey="n" href="./r_CREATE_EXTERNAL_TABLE_usage.html">Note per l'utilizzo</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Questa pagina ti è stata utile? - Sì</div><div class="content"><p>Grazie per averci comunicato che stiamo facendo un buon lavoro!</p><p>Se hai un momento, ti invitiamo a dirci che cosa abbiamo fatto che ti è piaciuto così possiamo offrirti altri contenuti simili.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Questa pagina ti è stata utile? - No</div><div class="content"><p>Grazie per averci comunicato che questa pagina ha bisogno di essere modificata. Siamo spiacenti di non aver soddisfatto le tue esigenze.</p><p>Se hai un momento, ti invitiamo a dirci come possiamo migliorare la documentazione.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_CREATE_EXTERNAL_TABLE.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>