<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="it-IT"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>VACUUM - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_VACUUM_command" /><meta name="default_state" content="r_VACUUM_command" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_VACUUM_command.html" /><meta name="description" content="Riordina le righe e recupera spazio di memorizzazione di una tabella specificata o di tutte le tabelle del database corrente." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guida per sviluppatori di database" /><meta name="abstract" content="Creare e gestire un data warehouse con Amazon Redshift, un servizio di data warehouse completamente gestito di livello aziendale e con capacità nell'ordine di più petabyte." /><meta name="guide-locale" content="it_it" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_VACUUM_command.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_VACUUM_command.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_VACUUM_command.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_VACUUM_command.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_VACUUM_command.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_VACUUM_command.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_VACUUM_command.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_VACUUM_command.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_VACUUM_command.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_VACUUM_command.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_VACUUM_command.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_VACUUM_command.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_VACUUM_command.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_VACUUM_command.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_VACUUM_command.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_VACUUM_command.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_VACUUM_command.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_VACUUM_command.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_VACUUM_command.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_VACUUM_command.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_VACUUM_command.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_VACUUM_command.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guida per sviluppatori di database" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guida per sviluppatori di database" /><meta id="panorama-serviceConsolePage" value="VACUUM" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>VACUUM - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#r_VACUUM_command" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_VACUUM_command.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_VACUUM_command.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_VACUUM_command.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,sviluppatore,dati campione,database,sviluppatore di database,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guida per sviluppatori di database",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Documentazione di riferimento a SQL",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Comandi SQL",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "VACUUM",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg/c_SQL_commands.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#r_VACUUM_command" target="_blank" rel="noopener noreferrer" title="Apri PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentazione</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guida per sviluppatori di database</a></div><div id="page-toc-src"><a href="#r_VACUUM_command-privileges">Privilegi richiesti</a><a href="#r_VACUUM_command-synopsis">Sintassi</a><a href="#r_VACUUM_command-parameters">Parametri</a><a href="#r_VACUUM_usage_notes">Note per l'utilizzo</a><a href="#r_VACUUM_command-examples">Esempi</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Le traduzioni sono generate tramite traduzione automatica. In caso di conflitto tra il contenuto di una traduzione e la versione originale in Inglese, quest'ultima prevarrà.</p></awsui-alert><h1 class="topictitle" id="r_VACUUM_command">VACUUM</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Riordina le righe e recupera spazio di memorizzazione di una tabella specificata o di tutte le tabelle del database corrente.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>Solo gli utenti con le autorizzazioni necessarie possono efficacemente eseguire l'operazione vacuum su una tabella. Se VACUUM viene eseguito senza le necessarie autorizzazioni di tabella, l'operazione viene completata ma non ha alcun effetto. Per l'elenco delle autorizzazioni di tabella valide per eseguire efficacemente VACUUM, consulta la seguente sezione Privilegi richiesti.</p></div></div><p>Amazon Redshift riordina automaticamente i dati ed esegue VACUUM DELETE in background. Ciò riduce la necessità di eseguire il comando VACUUM. Per ulteriori informazioni, consulta <a href="./t_Reclaiming_storage_space202.html">Vacuum delle tabelle</a>. </p><p>Per impostazione predefinita, il comando VACUUM ignora la fase di ordinamento per ogni tabella dove più del 95% delle righe della tabella sono già ordinate. Ignorare la fase di ordinamento può migliorare significativamente le prestazioni di VACUUM. Per modificare la soglia predefinita di ordinamento o eliminazione per una singola tabella, includi il nome della tabella e il parametro TO <em>threshold</em> PERCENT quando esegui il comando VACUUM. </p><p>Gli utenti possono accedere alle tabelle mentre ne viene eseguito il vacuum. È possibile eseguire query e scrivere operazioni mentre viene eseguito il vacuum di una tabella, ma quando i comandi DML (Data Manipulation Language) e il vacuum vengono eseguiti contemporaneamente, potrebbero richiedere più tempo. Se si eseguono le istruzioni UPDATE e DELETE durante un vacuum, le prestazioni del sistema potrebbero essere ridotte. VACUUM DELETE blocca temporaneamente le operazioni di aggiornamento ed eliminazione. </p><p>Amazon Redshift esegue automaticamente un vacuum DELETE ONLY in background. L'operazione di vacuum automatica viene sospesa quando gli utenti eseguono operazioni DDL (Data Definition Language), ad esempio ALTER TABLE.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>La sintassi e il comportamento del comando VACUUM in Amazon Redshift sono sostanzialmente diversi dall'operazione VACUUM di PostgreSQL. Ad esempio, l'operazione VACUUM di default in Amazon Redshift è VACUUM FULL, che recupera spazio su disco e riordina tutte le righe. Al contrario, l'operazione VACUUM predefinita in PostgreSQL recupera solo lo spazio e lo rende disponibile per il riutilizzo.</p></div></div><p>Per ulteriori informazioni, consulta <a href="./t_Reclaiming_storage_space202.html">Vacuum delle tabelle</a>.</p>
         <h2 id="r_VACUUM_command-privileges">Privilegi richiesti</h2>
         <p>Di seguito sono elencati i privilegi necessari per VACUUM:</p>
         <div class="itemizedlist">
             
             
             
             
         <ul class="itemizedlist"><li class="listitem"><p>Superuser</p></li><li class="listitem"><p>Utenti con il privilegio VACUUM</p></li><li class="listitem"><p>Proprietario della tabella</p></li><li class="listitem"><p>Proprietario del database con cui è condivisa la tabella</p></li></ul></div>
       
         <h2 id="r_VACUUM_command-synopsis">Sintassi</h2>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">VACUUM [ FULL | SORT ONLY | DELETE ONLY | REINDEX | RECLUSTER ]
[ [ <em>table_name</em> ] [ TO <em>threshold</em> PERCENT ] [ BOOST ] ]</code></pre>
       
         <h2 id="r_VACUUM_command-parameters">Parametri</h2>
         <div class="variablelist">
             
             
             
             
             

            
             
             

             
             
         <dl>
               <dt id="vacuum-full"><span class="term">FULL </span></dt>
               <dd>
                  <p>Ordina la tabella specificata (o tutte le tabelle nel database corrente) e recupera lo spazio su disco occupato dalle righe che sono state contrassegnate per l'eliminazione dalle precedenti operazioni UPDATE e DELETE. VACUUM FULL è il valore predefinito.</p>

                  <p>Un'operazione vacuum full non esegue una reindicizzazione delle tabelle interlacciate. Per reindicizzare le tabelle interlacciate seguite da un vacuum full, utilizza l'opzione <a href="#vacuum-reindex">VACUUM REINDEX</a>. </p>

                  <p>Per impostazione predefinita, il comando VACUUM FULL ignora la fase di ordinamento per ogni tabella con almeno il 95% delle righe ordinate. Se VACUUM è in grado di ignorare la fase di ordinamento, esegue il comando DELETE ONLY e recupera lo spazio nella fase di eliminazione in modo tale che almeno il 95 percento delle restanti righe non sia contrassegnato per l'eliminazione.  </p>
                  <p>Se la soglia di ordinamento non viene soddisfatta (ad esempio, se il 90 percento delle righe viene ordinato) e VACUUM esegue un ordinamento completo, viene eseguita anche un'operazione di eliminazione completa, recuperando spazio dal 100% delle righe eliminate. </p>
                  <p>Puoi modificare la soglia di vacuum predefinita solo per una singola tabella. Per modificare la soglia predefinita di vacuum per una singola tabella, includi il nome della tabella e il parametro TO <em>threshold</em> PERCENT. </p>
               </dd>
             
               <dt id="vacuum-sort-only"><span class="term">SORT ONLY </span></dt>
               <dd>
                  <p>Ordina la tabella specificata (o tutte le tabelle nel database corrente) senza recuperare spazio liberato dalle righe eliminate. Questa opzione è utile quando il recupero di spazio su disco non è importante, ma è importante riordinare le nuove righe. Un vacuum SORT ONLY riduce il tempo trascorso per le operazioni di vacuum quando la regione non ordinata non contiene un numero elevato di righe eliminate e non copre l'intera regione ordinata. Le applicazioni che non hanno vincoli di spazio su disco ma dipendono dalle ottimizzazioni delle query associate al mantenimento ordinato delle righe della tabella possono trarre vantaggio da questo tipo di vacuum.</p>
                  <p>Per impostazione predefinita, il comando VACUUM SORT ONLY ignora ogni tabella con almeno il 95% delle righe ordinate. Per modificare la soglia predefinita di ordinamento per una singola tabella, includi il nome della tabella e il parametro TO <em>threshold</em> PERCENT quando esegui il comando VACUUM. </p>
               </dd>
             
               <dt id="vacuum-delete-only"><span class="term">DELETE ONLY </span></dt>
               <dd>
                  <p>Amazon Redshift esegue automaticamente un vacuum DELETE ONLY in background, per cui non sarà quasi mai necessario eseguire un vacuum DELETE ONLY.</p>
                  <p>Un VACUUM DELETE recupera lo spazio su disco occupato dalle righe che sono state contrassegnate per l'eliminazione dalle precedenti operazioni UPDATE e DELETE e compatta la tabella per liberare lo spazio utilizzato. Un'operazione di vacuum DELETE ONLY non ordina i dati della tabella. </p>
                  <p>Questa opzione riduce il tempo necessario per le operazioni di vacuum quando il recupero di spazio su disco è importante, ma non è importante riordinare le nuove righe. Questa opzione può anche essere utile quando le prestazioni della query sono già ottimali e il riordinamento delle righe per ottimizzare le prestazioni della query non è un requisito.</p>
                  <p>Per impostazione predefinita, VACUUM DELETE ONLY consente di recuperare spazio in modo tale che almeno il 95% delle restanti righe non viene contrassegnato per l'eliminazione. Per modificare la soglia predefinita di eliminazione per una singola tabella, includi il nome della tabella e il parametro TO <em>threshold</em> PERCENT quando esegui il comando VACUUM.  </p>
                  <p>Alcune operazioni, come <code class="code">ALTER TABLE APPEND</code>, possono causare la frammentazione delle tabelle. Quando usi la clausola <code class="code">DELETE ONLY</code>, l'operazione di vacuum recupera lo spazio dalle tabelle frammentate. Lo stesso valore di soglia del 95 percento si applica all'operazione di deframmentazione. </p>
               </dd>
             
               <dt id="vacuum-reindex"><span class="term">REINDEX <em>tablename</em></span></dt>
               <dd>
                  <p>Analizza la distribuzione dei valori nelle colonne interlacciate della chiave di ordinamento, quindi esegue un'operazione di VACUUM completa. Se si utilizza REINDEX, è necessario un nome di tabella.</p>
                  <p>VACUUM REINDEX può impiegare molto più tempo rispetto a VACUUM FULL perché esegue un ulteriore passaggio per analizzare le chiavi di ordinamento interlacciato. L'operazione di ordinamento e unione può richiedere più tempo per le tabelle interlacciate perché l'ordinamento interlacciato potrebbe dover riordinare più righe rispetto a un ordinamento composto.</p>
                  <p>Se un'operazione di VACUUM REINDEX termina prima del completamento, il successivo VACUUM riprende l'operazione di reindicizzazione prima di eseguire l'operazione vacuum full.</p>
                  <p>VACUUM REINDEX non è supportato con TO <em>threshold</em> PERCENT.  </p>
               </dd>
             
               <dt><span class="term"> <em>table_name</em> </span></dt>
               <dd>
                  <p>Nome della tabella da sottoporre al vacuum. Se non si specifica un nome tabella, l'operazione di vacuum si applica a tutte le tabelle nel database corrente. Puoi specificare qualsiasi tabella permanente o temporanea creata dall'utente. Il comando non è significativo per altri oggetti, come le viste e le tabelle di sistema.</p>
                  <p> Se includi il parametro TO <em>threshold</em> PERCENT, è richiesto un nome tabella.</p>
               </dd>
             
               <dt id="vacuum-recluster"><span class="term">RECLUSTER <em>nometabella</em></span></dt>
               <dd>
                  <p>Ordina le parti della tabella che non sono ordinate. Le parti della tabella che sono già ordinate in base all'ordinamento automatico della tabella rimangono intatte. Questo comando non unisce i dati appena ordinati con la regione ordinata. Inoltre, non recupera tutto lo spazio contrassegnato per l'eliminazione. Al termine di questo comando, la tabella potrebbe non apparire completamente ordinata, come indicato dal campo <code class="code">unsorted</code> in SVV_TABLE_INFO. </p>
                  <p> Si consiglia di utilizzare VACUUM RECLUSTER per tabelle di grandi dimensioni con importazione frequente e query che accedono solo ai dati più recenti. </p>
                  <p> VACUUM RECLUSTER non è supportato con TO threshold PERCENT. Se si utilizza RECLUSTER, è necessario un nome di tabella.</p>
                 <p>VACUY RECLUSTER non è supportato su tabelle con chiavi di ordinamento interlacciato e tabelle con stile di distribuzione ALL.</p>
               </dd>
             
               <dt><span class="term"> <em>table_name</em> </span></dt>
               <dd>
                  <p>Nome della tabella da sottoporre al vacuum. Puoi specificare qualsiasi tabella permanente o temporanea creata dall'utente. Il comando non è significativo per altri oggetti, come le viste e le tabelle di sistema.</p>
               </dd>
             
               <dt><span class="term"> TO <em>threshold</em> PERCENT </span></dt>
               <dd>
                  <p>Clausola che specifica la soglia oltre la quale VACUUM ignora la fase di ordinamento e la soglia di destinazione per recuperare lo spazio nella fase di eliminazione. La <em>soglia di ordinamento</em> è la percentuale delle righe totali che sono già ordinate per la tabella specificata prima del vacuuming.  La <em>soglia di eliminazione</em> è la percentuale minima delle righe totali non contrassegnate per l'eliminazione dopo il vacuum. </p>
                  <p>Dal momento che VACUUM riordina le righe solo quando la percentuale delle righe ordinate in una tabella è inferiore alla soglia di ordinamento, Amazon Redshift può spesso ridurre significativamente i tempi di esecuzione di VACUUM. Analogamente, quando VACUUM non è vincolato a recuperare spazio dal 100% delle righe contrassegnate per l'eliminazione, è spesso in grado di ignorare i blocchi di riscrittura che contengono solo alcune righe eliminate.</p>
                  <p>Ad esempio, se specifichi 75 per <em>threshold</em>, VACUUM ignora la fase di ordinamento se almeno il 75% delle righe della tabella sono già ordinate. Per la fase di eliminazione, VACUUMS imposta una destinazione per il recupero dello spazio su disco in modo tale che almeno il 75% delle righe della tabella non sia contrassegnato per l'eliminazione dopo il vacuum. Il valore di <em>threshold</em> deve essere un numero intero compreso tra 0 e 100. Il valore predefinito è 95. Se specifichi il valore 100, VACUUM ordina sempre la tabella a meno che non sia già completamente ordinata e recupera lo spazio da tutte le righe contrassegnate per l'eliminazione. Se specifichi il valore 0, VACUUM non ordina mai la tabella e non recupera lo spazio.</p>
                  <p>Se includi il parametro TO <em>threshold</em> PERCENT, devi specificare anche un nome tabella. Se non specifichi un nome di tabella, VACUUM non riesce. </p>
                  <p>Non è possibile utilizzare il parametro TO <em>threshold</em> PERCENT con REINDEX. </p>
               </dd>
             
               <dt><span class="term">BOOST</span></dt>
               <dd>
                  <p>Esegue il comando VACUUM con risorse aggiuntive, come memoria e spazio su disco, che sono disponibili. Con l'opzione BOOST, VACUUM funziona in una finestra e blocca le eliminazioni e gli aggiornamenti simultanei per la durata dell'operazione VACUUM. L'esecuzione con l'opzione BOOST richiede risorse di sistema, che potrebbero influire sulle prestazioni della query. Eseguire VACUUM BOOST quando il carico sul sistema è leggero, ad esempio durante le operazioni di manutenzione. </p>
                  <p>Durante l'utilizzo dell'opzione BOOST tenere presente quanto segue:</p>
                  <div class="itemizedlist">
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>Specificando l'opzione BOOST, è obbligatorio specificare il valore <em>table-name</em>. </p>
                     </li><li class="listitem">
                        <p>L'opzione BOOST non è supportata nell'operazione REINDEX. </p>
                     </li><li class="listitem">
                        <p>L'opzione BOOST è ignorata nell'operazione DELETE ONLY. </p>
                     </li></ul></div>
               </dd>
            </dl></div>
       
         <h2 id="r_VACUUM_usage_notes">Note per l'utilizzo</h2>
         <p>Per la maggior parte delle applicazioni Amazon Redshift, si consiglia l'utilizzo di vacuum completo. Per ulteriori informazioni, consulta <a href="./t_Reclaiming_storage_space202.html">Vacuum delle tabelle</a>.</p>
         <p>Prima di eseguire un'operazione di vacuum, tieni presente il seguente comportamento: </p>
         <div class="itemizedlist">
             
             
             
             
             
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>Non è possibile eseguire VACUUM all'interno di un blocco di transazioni (BEGIN ... END). Per ulteriori informazioni sulle transazioni, consultare <a href="./c_serial_isolation.html">Isolamento serializzabile</a>. </p>
            </li><li class="listitem">
               <p>Puoi eseguire un solo comando VACUUM su un cluster in qualsiasi momento. Se si prova a eseguire più operazioni di vacuum contemporaneamente, Amazon Redshift restituisce un errore.</p>
            </li><li class="listitem">
               <p>Le dimensioni della tabella potrebbero crescere quando viene sottoposta al vacuum. Questo comportamento è previsto quando non ci sono righe eliminate da recuperare o il nuovo ordinamento della tabella produce un rapporto inferiore di compressione dei dati.</p>
            </li><li class="listitem">
               <p>Durante le operazioni di vacuum, è previsto un certo degrado delle prestazioni delle query. Le normali prestazioni riprendono non appena l'operazione di vacuum è completa.</p>
            </li><li class="listitem">
               <p>Le operazioni di scrittura simultanee procedono durante le operazioni di vacuum, ma non è consigliabile eseguire operazioni di scrittura durante il vacuum. È più efficiente completare le operazioni di scrittura prima di eseguire il vacuum. Inoltre, tutti i dati scritti dopo l'avvio di un'operazione di vacuum non possono essere resi vacuum da tale operazione. In questo caso, è necessaria una seconda operazione di vacuum.</p>
            </li><li class="listitem">
               <p>Un'operazione di vacuum potrebbe non avviarsi se un'operazione di carico o inserimento è già in corso. Le operazioni di vacuum richiedono temporaneamente l'accesso esclusivo alle tabelle per essere avviate. Questo accesso esclusivo è richiesto per breve tempo, quindi le operazioni di vacuum non bloccano i carichi e gli inserimenti simultanei per un periodo di tempo significativo.</p>
            </li><li class="listitem">
               <p>Le operazioni di vacuum vengono saltate in assenza di lavoro da eseguire per una determinata tabella. Tuttavia, si verifica un sovraccarico associato alla scoperta della possibilità di saltare l'operazione. Se sai che una tabella è una versione originale o non soddisfa la soglia di vacuum, non sottoporla a un'operazione di vacuum.</p>
            </li><li class="listitem">
               <p>Un'operazione di vacuum DELETE ONLY su una piccola tabella potrebbe non ridurre il numero di blocchi utilizzati per memorizzare i dati, specialmente quando la tabella ha un numero elevato di colonne o il cluster utilizza un numero elevato di sezioni per nodo. Queste operazioni di vacuum aggiungono un blocco per colonna per sezione per tenere conto degli inserimenti simultanei nella tabella e c'è il rischio che questo sovraccarico superi la riduzione del numero di blocchi dallo spazio su disco recuperato. Ad esempio, se una tabella con 10 colonne su un cluster con 8 nodi occupa 1000 blocchi prima di un vacuum, il vacuum non riduce il numero di blocchi effettivo a meno che non vengano recuperati più di 80 blocchi di spazio su disco a causa delle righe eliminate. Ogni blocco di dati utilizza 1 MB.</p>
            </li></ul></div>
         <p>Operazioni di vacuum automatiche in pausa in presenza di una delle condizioni seguenti: </p>
         <div class="itemizedlist">
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>Un utente esegue un'operazione DDL (Data Definition Language), ad esempio ALTER TABLE, che richiede un blocco esclusivo sulla tabella su cui è attualmente in funzione il vacuum automatico. </p>
            </li><li class="listitem">
               <p>Un utente attiva il VACUUM su una qualsiasi tabella nel cluster (è possibile eseguire un solo VACUUM alla volta). </p>
            </li><li class="listitem">
               <p>Un periodo di caricamento del cluster elevato.</p>
            </li></ul></div>
       
         <h2 id="r_VACUUM_command-examples">Esempi</h2>
         <p>Recupera lo spazio del database e riordina le righe in tutte le tabelle in base alla soglia predefinita di vacuum del 95 percento.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">vacuum;</code></pre>
         <p>Recupera lo spazio e riordina le righe nella tabella SALES in base alla soglia predefinita del 95 percento. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">vacuum sales;</code></pre>
         <p>Recupera sempre lo spazio e riordina le righe nella tabella SALES. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">vacuum sales to 100 percent;</code></pre>
         <p>Riordina le righe della tabella SALES solo se risultano già ordinate meno del 75% delle righe. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class=""> vacuum sort only sales to 75 percent;</code></pre>
         <p>Recupera spazio nella tabella SALES in modo tale che almeno il 75 delle restanti righe non sia contrassegnato per l'eliminazione dopo il vacuum. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">vacuum delete only sales to 75 percent;</code></pre>
         <p>Reindicizza e quindi sottoponi al vacuum la tabella LISTING. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">vacuum reindex listing;</code></pre>
         <p>Il seguente comando restituisce un errore. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">vacuum reindex listing to 75 percent;</code></pre>
         
         
         <p>Esegui il recluster e quindi sottoponi a vacuum la tabella LISTING. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">vacuum recluster listing;</code></pre>
         <p>Esegui il recluster e quindi sottoponi a vacuum la tabella LISTING con l'opzione BOOST. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">vacuum recluster listing boost;</code></pre>
         
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avvertimento" /> <strong>JavaScript è disabilitato o non è disponibile nel tuo browser.</strong></p><p>Per usare la documentazione AWS, JavaScript deve essere abilitato. Consulta le pagine della guida del browser per le istruzioni.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenzioni dei documenti</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./c_Examples_of_UPDATE_statements.html">Esempi di istruzioni UPDATE</div><div id="next" class="next-link" accesskey="n" href="./c_SQL_functions.html">Informazioni di riferimento sulle funzioni SQL</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Questa pagina ti è stata utile? - Sì</div><div class="content"><p>Grazie per averci comunicato che stiamo facendo un buon lavoro!</p><p>Se hai un momento, ti invitiamo a dirci che cosa abbiamo fatto che ti è piaciuto così possiamo offrirti altri contenuti simili.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_VACUUM_command.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Questa pagina ti è stata utile? - No</div><div class="content"><p>Grazie per averci comunicato che questa pagina ha bisogno di essere modificata. Siamo spiacenti di non aver soddisfatto le tue esigenze.</p><p>Se hai un momento, ti invitiamo a dirci come possiamo migliorare la documentazione.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_VACUUM_command.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>