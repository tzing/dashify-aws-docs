<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="it-IT"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>STV_INFLIGHT - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_STV_INFLIGHT" /><meta name="default_state" content="r_STV_INFLIGHT" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_STV_INFLIGHT.html" /><meta name="description" content="Determina quali query sono attualmente in esecuzione sul cluster." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guida per sviluppatori di database" /><meta name="abstract" content="Creare e gestire un data warehouse con Amazon Redshift, un servizio di data warehouse completamente gestito di livello aziendale e con capacità nell'ordine di più petabyte." /><meta name="guide-locale" content="it_it" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_STV_INFLIGHT.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guida per sviluppatori di database" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guida per sviluppatori di database" /><meta id="panorama-serviceConsolePage" value="STV_INFLIGHT" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>STV_INFLIGHT - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#r_STV_INFLIGHT" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_STV_INFLIGHT.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_STV_INFLIGHT.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_STV_INFLIGHT.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,cluster,data warehouse,sviluppatore,dati campione,database,sviluppatore di database,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guida per sviluppatori di database",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Riferimento di tabelle e viste di sistema",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg/cm_chap_system-tables.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Monitoraggio del sistema (solo con provisioning)",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg/c_intro_system_views.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Tabelle STV per dati di snapshot",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg/c_intro_STV_tables.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "STV_INFLIGHT",
        "item" : "https://docs.aws.amazon.com/it_it/redshift/latest/dg/c_intro_STV_tables.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#r_STV_INFLIGHT" target="_blank" rel="noopener noreferrer" title="Apri PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentazione</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guida per sviluppatori di database</a></div><div id="page-toc-src"><a href="#r_STV_INFLIGHT_troubleshooting">Risoluzione dei problemi con STV_INFLIGHT</a><a href="#r_STV_INFLIGHT-table-columns">Colonne di tabella</a><a href="#r_STV_INFLIGHT-sample-queries">Query di esempio</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Le traduzioni sono generate tramite traduzione automatica. In caso di conflitto tra il contenuto di una traduzione e la versione originale in Inglese, quest'ultima prevarrà.</p></awsui-alert><h1 class="topictitle" id="r_STV_INFLIGHT">STV_INFLIGHT</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Utilizza la tabella STV_INFLIGHT per determinare quali query sono attualmente in esecuzione sul cluster. Se stai risolvendo problemi, è utile per controllare lo stato delle query di lunga durata. </p><p>STV_INFLIGHT non indica query solo di nodo principale. Per ulteriori informazioni, consultare <a href="./c_SQL_functions_leader_node_only.html">Nodo principale: solo funzioni</a>. STV_INFLIGHT è visibile a tutti gli utenti. Gli utenti con privilegi avanzati visualizzano tutte le righe; gli utenti regolari visualizzano solo i propri dati. Per ulteriori informazioni, consulta <a href="./cm_chap_system-tables.html#c_visibility-of-data">Visibilità dei dati nelle tabelle e nelle viste di sistema</a>.</p><p>Alcuni o tutti i dati di questa tabella sono definiti anche nella vista di monitoraggio SYS <a href="./SYS_QUERY_HISTORY.html">SYS_QUERY_HISTORY</a>. I dati nella vista di monitoraggio SYS sono formattati in modo da essere più facili da usare e comprendere. Ti consigliamo di utilizzare la vista di monitoraggio SYS per le query.</p>
            <h2 id="r_STV_INFLIGHT_troubleshooting">Risoluzione dei problemi con STV_INFLIGHT</h2>
            <p>Se utilizzi STV_INFLIGHT per risolvere i problemi relativi alle prestazioni di una query o di una raccolta di query, tieni presente quanto segue:</p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem"><p>Le transazioni aperte a lungo termine generalmente aumentano il carico. Queste transazioni aperte possono comportare tempi di esecuzione più lunghi per altre domande.</p></li><li class="listitem"><p>I job COPY ed ETL di lunga durata possono influire su altre query in esecuzione sul cluster, se richiedono molte risorse di elaborazione. Nella maggior parte dei casi, lo spostamento di questi processi di lunga durata in periodi di scarso utilizzo aumenta le prestazioni per i carichi di lavoro di reporting o analisi.</p></li><li class="listitem"><p>Esistono visualizzazioni che forniscono informazioni correlate a STV_INFLIGHT. Questi includono <a href="./r_STL_QUERYTEXT.html">STL_QUERYTEXT</a>, che acquisisce il testo della query per i comandi SQL, e <a href="./r_SVV_QUERY_INFLIGHT.html">SVV_QUERY_INFLIGHT</a>, che unisce STV_INFLIGHT a STL_QUERYTEXT. Puoi anche usare <a href="./r_STV_RECENTS.html">STV_RECENTS</a> con STV_INFLIGHT per la risoluzione dei problemi. Ad esempio, STV_RECENTS può indicare se query specifiche sono nello stato <em>In esecuzione</em> o <em>Completato</em>. La combinazione di queste informazioni con i risultati di STV_INFLIGHT può fornire ulteriori informazioni sulle proprietà di una query e sull'impatto sulle risorse di calcolo. </p></li></ul></div>
            <p>Puoi anche monitorare le query in esecuzione utilizzando la console Amazon Redshift.</p>
         
            <h2 id="r_STV_INFLIGHT-table-columns">Colonne di tabella</h2>
            <div class="table-container"><div class="table-contents"><table id="w319aac49c17c11c17c11b3"><thead>
                        <tr>
                            <th>Nome colonna </th>
                            <th>Tipo di dati </th>
                            <th>Descrizione </th>
                        </tr>
                    </thead>
                        <tr>
                            <td tabindex="-1">userid </td>
                            <td tabindex="-1">integer </td>
                            <td tabindex="-1">ID dell'utente che ha generato la voce. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">sezione </td>
                            <td tabindex="-1">integer </td>
                            <td tabindex="-1">Sezione in cui viene eseguita la query. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">query </td>
                            <td tabindex="-1">integer </td>
                            <td tabindex="-1">ID query. Consente di unire in join varie altre tabelle e visualizzazioni di sistema. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">etichetta </td>
                            <td tabindex="-1">character(320) </td>
                            <td tabindex="-1"> Il nome del file utilizzato per eseguire la query o un'etichetta definita con un comando SET QUERY GROUP. Se la query non è basata su file o il parametro QUERY_GROUP non è impostato, questo campo è vuoto. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">xid </td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">ID transazione. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">pid </td>
                            <td tabindex="-1">integer </td>
                            <td tabindex="-1">ID processo. Tutte le query in una sessione sono eseguite nello stesso processo, quindi questo valore rimane costante se si esegue una serie di query nella stessa sessione. È possibile utilizzare questa colonna per eseguire la connessione alla tabella <a href="./r_STL_ERROR.html">STL_ERROR</a>. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">starttime </td>
                            <td tabindex="-1">timestamp </td>
                            <td tabindex="-1">Ora in cui è stata avviata la query. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">text </td>
                            <td tabindex="-1">character(100) </td>
                            <td tabindex="-1">Testo di query troncato a 100 caratteri se l'istruzione supera quel limite. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">sospeso </td>
                            <td tabindex="-1">integer </td>
                            <td tabindex="-1">Indica se la query è sospesa. 0 = false; 1 = true. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">insert_pristine </td>
                            <td tabindex="-1">integer </td>
                            <td tabindex="-1">Indica se l'esecuzione delle query di scrittura è/era possibile quando la query corrente è/era in esecuzione. 1 = nessuna query di scrittura consentita. 0 = query di scrittura consentite. Questa colonna è da utilizzarsi per scopi di debug. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">concurrency_scaling_status</td>
                            <td tabindex="-1">integer </td>
                            <td tabindex="-1"><p>Indica se la query è stata eseguita nel cluster principale o in un cluster con dimensionamento simultaneo. I valori possibili sono i seguenti: </p>
                                <p>0 - Eseguita nel cluster principale </p>
                                <p>1 - Eseguita in un cluster con dimensionamento simultaneo </p>
                            </td>
                        </tr>
                    </table></div></div>
         
            <h2 id="r_STV_INFLIGHT-sample-queries">Query di esempio</h2>


            <p>Per visualizzare tutte le query attive correntemente in esecuzione sul database, digita la seguente query: </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select * from stv_inflight;</code></pre>
            <p>L'output di esempio seguente mostra due query in corso di esecuzione, ovvero la query STV_INFLIGHT stessa e una query eseguita da uno script denominato <code>avgwait.sql</code>: </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select slice, query, trim(label) querylabel, pid,
starttime, substring(text,1,20) querytext
from stv_inflight;

slice|query|querylabel | pid |        starttime         |      querytext
-----+-----+-----------+-----+--------------------------+--------------------
1011 |  21 |           | 646 |2012-01-26 13:23:15.645503|select slice, query,
1011 |  20 |avgwait.sql| 499 |2012-01-26 13:23:14.159912|select avg(datediff(
(2 rows)</code></pre>
            
            <p>La seguente query seleziona diverse colonne, tra cui concurrency_scaling_status. Questa colonna indica se le query vengono inviate al cluster con scalabilità concorrenziale. Se il valore è <code class="code">1</code> per alcuni risultati, indica che vengono utilizzate risorse di elaborazione con scalabilità concorrenziale. Per ulteriori informazioni, consulta <a href="./concurrency-scaling.html">Utilizzo del dimensionamento della simultaneità</a>.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select userid, 
query,
pid,
starttime,
text,
suspended,
concurrency_scaling_status
 from STV_INFLIGHT;</code></pre>
            <p>L'output di esempio mostra l'invio di una query al cluster di scalabilità concorrenziale.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class=""> query  | pid     |        starttime           |   text                 | suspended     |  concurrency_scaling_status
--------+---------+----------------------------|------------------------|---------------|-------------------------------
1234567 | 123456  | 2012-01-26 13:23:15.645503 | select userid, query...  0                1
2345678 | 234567  | 2012-01-26 13:23:14.159912 | select avg(datediff(...  0                0
(2 rows)</code></pre>
        <p>Per ulteriori suggerimenti sulla risoluzione dei problemi relativi alle prestazioni delle query, vedere <a href="./queries-troubleshooting.html">Risoluzione dei problemi delle query</a>.</p><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avvertimento" /> <strong>JavaScript è disabilitato o non è disponibile nel tuo browser.</strong></p><p>Per usare la documentazione AWS, JavaScript deve essere abilitato. Consulta le pagine della guida del browser per le istruzioni.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenzioni dei documenti</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_STV_EXEC_STATE.html">STV_EXEC_STATE</div><div id="next" class="next-link" accesskey="n" href="./r_STV_LOAD_STATE.html">STV_LOAD_STATE</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Questa pagina ti è stata utile? - Sì</div><div class="content"><p>Grazie per averci comunicato che stiamo facendo un buon lavoro!</p><p>Se hai un momento, ti invitiamo a dirci che cosa abbiamo fatto che ti è piaciuto così possiamo offrirti altri contenuti simili.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_STV_INFLIGHT.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Questa pagina ti è stata utile? - No</div><div class="content"><p>Grazie per averci comunicato che questa pagina ha bisogno di essere modificata. Siamo spiacenti di non aver soddisfatto le tue esigenze.</p><p>Se hai un momento, ti invitiamo a dirci come possiamo migliorare la documentazione.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_STV_INFLIGHT.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>