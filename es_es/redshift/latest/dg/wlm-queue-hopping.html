<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="es-ES"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Salto de cola de consultas de WLM - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="wlm-queue-hopping" /><meta name="default_state" content="wlm-queue-hopping" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/wlm-queue-hopping.html" /><meta name="description" content="Una consulta puede saltarse porque se ha agotado el tiempo de espera de WLM o por una acción de salto de una regla de monitoreo de consultas (QMR) . Solo puede transferir consultas en una configuración de WLM manual." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guía para desarrolladores de bases de datos" /><meta name="abstract" content="Cree y administre un almacenamiento de datos con Amazon Redshift, un servicio de almacenamiento de datos completamente administrado a escala de petabytes de nivel empresarial." /><meta name="guide-locale" content="es_es" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/wlm-queue-hopping.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/wlm-queue-hopping.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/wlm-queue-hopping.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/wlm-queue-hopping.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/wlm-queue-hopping.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/wlm-queue-hopping.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/wlm-queue-hopping.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/wlm-queue-hopping.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/wlm-queue-hopping.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/wlm-queue-hopping.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/wlm-queue-hopping.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/wlm-queue-hopping.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/wlm-queue-hopping.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/wlm-queue-hopping.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/wlm-queue-hopping.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/wlm-queue-hopping.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/wlm-queue-hopping.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/wlm-queue-hopping.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/wlm-queue-hopping.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/wlm-queue-hopping.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/wlm-queue-hopping.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/wlm-queue-hopping.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guía para desarrolladores de bases de datos" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guía para desarrolladores de bases de datos" /><meta id="panorama-serviceConsolePage" value="Salto de cola de consultas de WLM" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Salto de cola de consultas de WLM - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#wlm-queue-hopping" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/wlm-queue-hopping.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/wlm-queue-hopping.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/wlm-queue-hopping.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,Clúster,almacenamiento de datos,desarrollador,datos de ejemplo,base de datos,desarrollador de base de datos,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guía para desarrolladores de bases de datos",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Implementación de Workload Management",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/cm-c-implementing-workload-management.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Implementación de WLM manual",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/cm-c-defining-query-queues.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Salto de cola de consultas de WLM",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/cm-c-defining-query-queues.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#wlm-queue-hopping" target="_blank" rel="noopener noreferrer" title="Abrir PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentación</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guía para desarrolladores de bases de datos</a></div><div id="page-toc-src"><a href="#wlm-queue-hopping-summary">Acciones de tiempo de espera de WLM</a><a href="#wlm-timeout-queue-hopping">Salto de cola por un tiempo de espera de WLM</a><a href="#wlm-timeout-reassigned-and-restarted-queries">Consultas reasignadas o reiniciadas por un tiempo de espera de WLM.</a><a href="#qmr-hop-action-queue-hopping">Acciones de transferencia de QMR</a><a href="#qmr-hop-action-reassigned-and-restarted-queries">Consultas reasignadas o reiniciadas por una acción de salto de QMR</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="wlm-queue-hopping">Salto de cola de consultas de WLM</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Una consulta puede saltarse porque se ha agotado el <a href="./cm-c-defining-query-queues.html#wlm-timeout">tiempo de espera de WLM</a> o por una <a href="./cm-c-wlm-query-monitoring-rules.html#cm-c-wlm-defining-query-monitoring-rules">acción de salto de una regla de monitoreo de consultas (QMR)</a>. Solo puede transferir consultas en una configuración de WLM manual. </p><p>Cuando se salta una consulta, WLM intenta direccionarla a la siguiente cola coincidente en función de las <a href="./cm-c-wlm-queue-assignment-rules.html">reglas de asignación de colas de WLM</a>. Si la consulta no coincide con ninguna otra definición de cola, se cancelará. No se asigna a la cola predeterminada. </p>
         <h2 id="wlm-queue-hopping-summary">Acciones de tiempo de espera de WLM</h2>
         <p>En la siguiente tabla, se resume el comportamiento de diferentes tipos de consulta con un tiempo de espera de WLM.</p>
         <div class="table-container"><div class="table-contents"><table id="w320aac43c45c35b7b5"><thead>
                  <tr>
                     <th>Tipo de consulta</th>
                     <th>Acción</th>
                  </tr>
               </thead>
                  <tr>
                     <td tabindex="-1">INSERT, UPDATE y DELETE</td>
                     <td tabindex="-1">Cancelación</td>
                  </tr>
                  <tr>
                     <td tabindex="-1">Funciones definidas por el usuario (UDF)</td>
                     <td tabindex="-1">Cancelación</td>
                  </tr>
                  <tr>
                     <td tabindex="-1">UNLOAD</td>
                     <td tabindex="-1">Cancelación</td>
                  </tr>
                  <tr>
                     <td tabindex="-1">COPY</td>
                     <td tabindex="-1">Siguen ejecutándose</td>
                  </tr>
                  <tr>
                     <td tabindex="-1">Operaciones de mantenimiento</td>
                     <td tabindex="-1">Siguen ejecutándose</td>
                  </tr>
                  <tr>
                     <td tabindex="-1">Consultas de solo lectura con el estado <code class="code">returning</code></td>
                     <td tabindex="-1">Siguen ejecutándose</td>
                  </tr>
                  <tr>
                     <td tabindex="-1">Consultas de solo lectura con el estado <code class="code">running</code></td>
                     <td tabindex="-1">Se reasignan o reinicia</td>
                  </tr>
                  <tr>
                     <td tabindex="-1">CREATE TABLE AS (CTAS), SELECT INTO</td>
                     <td tabindex="-1">Se reasignan o reinicia</td>
                  </tr>
               </table></div></div>
         
       
         <h2 id="wlm-timeout-queue-hopping">Salto de cola por un tiempo de espera de WLM</h2>
         <p>WLM transfiere los siguientes tipos de consultas cuando se agota el tiempo de espera:</p>
         <div class="itemizedlist">
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>Consultas de solo lectura, como las instrucciones SELECT, cuando tienen el estado de WLM <code class="code">running</code>. Para encontrar el estado de WLM de una consulta, vea la columna STATE en la tabla de sistema <a href="./r_STV_WLM_QUERY_STATE.html">STV_WLM_QUERY_STATE</a>. </p>
            </li><li class="listitem">
               <p>Instrucciones CREATE TABLE AS (CTAS). El salto de colas de WLM es compatible con instrucciones CTAS definidas por el usuario y generadas por el sistema. </p>
            </li><li class="listitem">
               <p>Instrucciones SELECT INTO</p>
            </li></ul></div>
         <p>Las consultas que no están sujetas al tiempo de espera de WLM siguen ejecutándose en la cola original hasta su finalización. Los siguientes tipos de consultas no están sujetos al tiempo de espera de WLM:</p>
         <div class="itemizedlist">
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>Instrucciones COPY.</p>
            </li><li class="listitem">
               <p>Operaciones de mantenimiento, como ANALYZE y VACUUM.</p>
            </li><li class="listitem">
               <p>Consultas de solo lectura, como instrucciones SELECT, que han alcanzado el estado de WLM <code class="code">returning</code>. Para encontrar el estado de WLM de una consulta, vea la columna STATE en la tabla de sistema <a href="./r_STV_WLM_QUERY_STATE.html">STV_WLM_QUERY_STATE</a>. </p>
            </li></ul></div>
         <p>Las consultas que no pueden transferirse al agotar el tiempo de espera de WLM se cancelan. Los siguientes tipos de consultas no pueden transferirse al agotarse el tiempo de espera de WLM:</p>
         <div class="itemizedlist">
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>Instrucciones INSERT, UPDATE y DELETE.</p>
            </li><li class="listitem">
               <p>Instrucciones UNLOAD.</p>
            </li><li class="listitem">
               <p>Funciones definidas por el usuario (UDF)</p>
            </li></ul></div>

       
         <h2 id="wlm-timeout-reassigned-and-restarted-queries">Consultas reasignadas o reiniciadas por un tiempo de espera de WLM.</h2>
         <p>Cuando se transfiere una consulta y no se encuentra ninguna cola que coincida, la consulta se cancela.</p>
         <p>Cuando se transfiere una consulta y se encuentra una cola coincidente, WLM intenta reasignar la consulta a esta nueva cola. Si la consulta no se puede reasignar, se reinicia en la nueva cola, tal y como se describe a continuación.</p>
         <p>Una consulta solo puede reasignarse si se dan todas las condiciones siguientes:</p>
         <div class="itemizedlist">
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>Se encuentra una cola coincidente.</p>
            </li><li class="listitem">
               <p>La nueva cola tiene suficientes slots libres para ejecutar la consulta. Una consulta puede necesitar varios slots si el parámetro <a href="./r_wlm_query_slot_count.html">wlm_query_slot_count</a> se ha establecido en un valor mayor que 1.</p>
            </li><li class="listitem">
               <p>La nueva consulta tiene al menos tanta memoria disponible como la que utiliza actualmente. </p>
            </li></ul></div>
         <p>Si la consulta se reasigna, sigue ejecutándose en la nueva cola. Los resultados intermedios se conservan, por lo que el efecto en el tiempo total de ejecución es mínimo. </p>
         <p>Si la consulta no se puede reasignar, se cancela y se reinicia en la nueva cola. Los resultados intermedios se eliminan. La consulta espera en la cola y, cuando hay suficientes slots disponibles, comienza a ejecutarse.</p>

       
         <h2 id="qmr-hop-action-queue-hopping">Acciones de transferencia de QMR</h2>
         
         <p>En la siguiente tabla, se resume el comportamiento de diferentes tipos de consulta con una acción de transferencia de QMR.</p>
         <div class="table-container"><div class="table-contents"><table id="w320aac43c45c35c13b5"><thead>
                  <tr>
                     <th>Tipo de consulta</th>
                     <th>Acción</th>
                  </tr>
               </thead>
                  <tr>
                     <td tabindex="-1">COPY</td>
                     <td tabindex="-1">Siguen ejecutándose</td>
                  </tr>
                  <tr>
                     <td tabindex="-1">Operaciones de mantenimiento</td>
                     <td tabindex="-1">Siguen ejecutándose</td>
                  </tr>
                  <tr>
                     <td tabindex="-1">Funciones definidas por el usuario (UDF)</td>
                     <td tabindex="-1">Siguen ejecutándose</td>
                  </tr>
                  <tr>
                     <td tabindex="-1">UNLOAD</td>
                     <td tabindex="-1">Se reasignan o siguen ejecutándose</td>
                  </tr>
                  <tr>
                     <td tabindex="-1">INSERT, UPDATE y DELETE</td>
                     <td tabindex="-1">Se reasignan o siguen ejecutándose</td>
                  </tr>
                  <tr>
                     <td tabindex="-1">Consultas de solo lectura con el estado <code class="code">returning</code></td>
                     <td tabindex="-1">Se reasignan o siguen ejecutándose</td>
                  </tr>
                  <tr>
                     <td tabindex="-1">Consultas de solo lectura con el estado <code class="code">running</code></td>
                     <td tabindex="-1">Se reasignan o reinicia</td>
                  </tr>
                  <tr>
                     <td tabindex="-1">CREATE TABLE AS (CTAS), SELECT INTO</td>
                     <td tabindex="-1">Se reasignan o reinicia</td>
                  </tr>
               </table></div></div>
         
         <p>Para saber si una consulta transferida por QMR se ha reasignado, reiniciado o cancelado, consulte la tabla de registro del sistema <a href="./r_STL_WLM_RULE_ACTION.html">STL_WLM_RULE_ACTION</a>.</p>
  
         

       
         <h2 id="qmr-hop-action-reassigned-and-restarted-queries">Consultas reasignadas o reiniciadas por una acción de salto de QMR</h2>
         <p>Cuando se transfiere una consulta y no se encuentra ninguna cola que coincida, la consulta se cancela.</p>
         <p>Cuando se transfiere una consulta y se encuentra una cola coincidente, WLM intenta reasignar la consulta a esta nueva cola. Si una consulta no se puede reasignar, se reinicia en la nueva cola o sigue ejecutándose en la cola original, tal y como se describe a continuación.</p>
         <p>Una consulta solo puede reasignarse si se dan todas las condiciones siguientes:</p>
         <div class="itemizedlist">
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>Se encuentra una cola coincidente.</p>
            </li><li class="listitem">
               <p>La nueva cola tiene suficientes slots libres para ejecutar la consulta. Una consulta puede necesitar varios slots si el parámetro <a href="./r_wlm_query_slot_count.html">wlm_query_slot_count</a> se ha establecido en un valor mayor que 1.</p>
            </li><li class="listitem">
               <p>La nueva consulta tiene al menos tanta memoria disponible como la que utiliza actualmente. </p>
            </li></ul></div>
         <p>Si la consulta se reasigna, sigue ejecutándose en la nueva cola. Los resultados intermedios se conservan, por lo que el efecto en el tiempo total de ejecución es mínimo. </p>
         <p>Si una consulta no se puede reasignar, se reinicia o sigue ejecutándose en la cola original. Cuando una consulta se reinicia, se cancela y se reinicia en la nueva cola. Los resultados intermedios se eliminan. La consulta espera en la cola y, cuando hay suficientes slots disponibles, comienza a ejecutarse.</p>
            
          
         

      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Aviso" /> <strong>JavaScript está desactivado o no está disponible en su navegador.</strong></p><p>Para utilizar la documentación de AWS, debe estar habilitado JavaScript. Para obtener más información, consulte las páginas de ayuda de su navegador.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenciones del documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./cm-c-defining-query-queues.html">WLM manual</div><div id="next" class="next-link" accesskey="n" href="./tutorial-configuring-workload-management.html">Tutorial: Configuración de colas de WLM manual</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - Sí</div><div class="content"><p>Gracias por hacernos saber que estamos haciendo un buen trabajo.</p><p>Si tiene un momento, díganos qué es lo que le ha gustado para que podamos seguir trabajando en esa línea.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/wlm-queue-hopping.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - No</div><div class="content"><p>Gracias por informarnos de que debemos trabajar en esta página. Lamentamos haberle defraudado.</p><p>Si tiene un momento, díganos cómo podemos mejorar la documentación.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/wlm-queue-hopping.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>