<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="es-ES"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>CREATE DATABASE - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_CREATE_DATABASE" /><meta name="default_state" content="r_CREATE_DATABASE" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_CREATE_DATABASE.html" /><meta name="description" content="Crea una nueva base de datos." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guía para desarrolladores de bases de datos" /><meta name="abstract" content="Cree y administre un almacenamiento de datos con Amazon Redshift, un servicio de almacenamiento de datos completamente administrado a escala de petabytes de nivel empresarial." /><meta name="guide-locale" content="es_es" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_CREATE_DATABASE.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_DATABASE.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guía para desarrolladores de bases de datos" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guía para desarrolladores de bases de datos" /><meta id="panorama-serviceConsolePage" value="CREATE DATABASE" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>CREATE DATABASE - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#r_CREATE_DATABASE" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_CREATE_DATABASE.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_CREATE_DATABASE.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_CREATE_DATABASE.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,Clúster,almacenamiento de datos,desarrollador,datos de ejemplo,base de datos,desarrollador de base de datos,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guía para desarrolladores de bases de datos",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Referencia de SQL",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Comandos SQL",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "CREATE DATABASE",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/c_SQL_commands.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#r_CREATE_DATABASE" target="_blank" rel="noopener noreferrer" title="Abrir PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentación</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guía para desarrolladores de bases de datos</a></div><div id="page-toc-src"><a href="#r_CREATE_DATABASE-synopsis">Sintaxis</a><a href="#r_CREATE_DATABASE-parameters">Parámetros</a><a href="#r_CREATE_DATABASE-datashare-synopsis">Sintaxis para utilizar con un datashare</a><a href="#r_CREATE_DATABASE-usage">Notas de uso para CREATE DATABASE en el uso compartido de datos</a><a href="#r_CREATE_DATABASE_data-catalog">CREATE DATABASE desde AWS Glue Data Catalog</a><a href="#r_CREATE_DATABASE-create-database-limits">Límites de CREATE DATABASE</a><a href="#r_CREATE_DATABASE-collation">Intercalación de bases de datos para CREATE DATABASE</a><a href="#r_CREATE_DATABASE-examples">Ejemplos</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="r_CREATE_DATABASE">CREATE DATABASE</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Crea una nueva base de datos.</p><p>Para crear una base de datos, debe ser un superusuario o tener el privilegio CREATEDB.</p><p>No se puede ejecutar CREATE DATABASE en un bloque de transacción (BEGIN ... END). Para obtener más información acerca de las transacciones, consulte <a href="./c_serial_isolation.html">Aislamiento serializable</a>. </p>
         <h2 id="r_CREATE_DATABASE-synopsis">Sintaxis</h2>


         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">CREATE DATABASE <em>database_name</em> [ WITH ]
[ OWNER [=] <em>db_owner</em> ]
[ CONNECTION LIMIT <span>{</span> <em>limit</em> | UNLIMITED } ]
[ COLLATE <span>{</span> CASE_SENSITIVE | CASE_INSENSITIVE } ]
[ ISOLATION LEVEL <span>{</span> SERIALIZABLE | SNAPSHOT } ]
[ [ WITH PERMISSIONS ] FROM DATASHARE datashare_name ] OF [ ACCOUNT account_id ] NAMESPACE namespace_guid 
| [ FROM ARN '&lt;arn&gt;' <span>{</span> WITH DATA CATALOG SCHEMA '&lt;schema&gt;' | WITH NO DATA CATALOG SCHEMA } 
[ IAM_ROLE  default | 'SESSION' | 'arn:aws:iam::&lt;account-id&gt;:role/&lt;role-name&gt;' ] ]</code></pre>


       
         <h2 id="r_CREATE_DATABASE-parameters">Parámetros</h2>
         <div class="variablelist">
             
             
             
             
             
             

             

             
             
             
             


         <dl>
               <dt><span class="term"> <em>database_name</em> </span></dt>
               <dd>
                  <p>Nombre de la nueva base de datos. Para obtener más información acerca de los nombres válidos, consulte <a href="./r_names.html">Nombres e identificadores</a>.</p>
               </dd>
             
               <dt><span class="term">WITH </span></dt>
               <dd>
                  <p>Palabra clave opcional.</p>
               </dd>
             
               <dt><span class="term">OWNER </span></dt>
               <dd>
                  <p>Especifica un propietario de la base de datos.</p>
               </dd>
             
               <dt><span class="term">= </span></dt>
               <dd>
                  <p>Carácter opcional.</p>
               </dd>
             
               <dt><span class="term"> <em>db_owner</em> </span></dt>
               <dd>
                  <p>Nombre de usuario del propietario de la base de datos.</p>
               </dd>
             
               <dt><span class="term">CONNECTION LIMIT <span>{</span> <em>limit</em> | UNLIMITED } </span></dt>
               <dd>
                  <p>La cantidad máxima de conexiones a la base de datos que los usuarios pueden tener abiertas al mismo tiempo. Este límite no se aplica a los superusuarios. Use la palabra clave UNLIMITED para permitir la cantidad máxima de conexiones simultáneas. También puede aplicarse un límite de la cantidad de conexiones de cada usuario. Para obtener más información, consulte <a href="./r_CREATE_USER.html">CREAR USUARIO</a>. El valor predeterminado es UNLIMITED. Para ver las conexiones actuales, consulte la vista del sistema <a href="./r_STV_SESSIONS.html">STV_SESSIONS</a>.</p>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Si se aplican los límites de conexión tanto para usuarios como para bases de datos, debe haber una ranura de conexión sin utilizar disponible dentro de ambos límites cuando un usuario intenta conectarse.</p></div></div>
               </dd>
             
               
               <dt><span class="term">COLLATE <span>{</span> CASE_SENSITIVE | CASE_INSENSITIVE }</span></dt>
               <dd>
                  <p>Se trata de una cláusula que especifica si la búsqueda o la comparación de cadenas es CASE_SENSITIVE o CASE_INSENSITIVE. El valor predeterminado es CASE_SENSITIVE.</p>
               </dd>
             
               
               <dt><span class="term">ISOLATION LEVEL <span>{</span> SERIALIZABLE | SNAPSHOT }</span></dt>
               <dd>
                  <p>Una cláusula que especifica el nivel de aislamiento utilizado cuando las consultas se ejecutan en una base de datos.</p>
                     <div class="itemizedlist">
                         
                         
                     <ul class="itemizedlist"><li class="listitem"><p>Aislamiento SERIALIZABLE: proporciona serialización completa para transacciones simultáneas. Es el valor predeterminado para una base de datos creada en un clúster aprovisionado. Para obtener más información, consulte <a href="./c_serial_isolation.html">Aislamiento serializable</a>.</p></li><li class="listitem"><p>Aislamiento SNAPSHOT: proporciona un nivel de aislamiento con protección contra conflictos de actualización y eliminación. Es el valor predeterminado de una base de datos creada en un espacio de nombres sin servidor. </p></li></ul></div>
                  <p>Puede ver qué modelo de simultaneidad ejecuta la base de datos de la siguiente manera: </p>
                  <div class="itemizedlist">
                     
                      
                      
                  <ul class="itemizedlist"><li class="listitem"><p>Consulte la vista de catálogo STV_DB_ISOLATION_LEVEL. Para obtener más información, consulte <a href="./r_STV_DB_ISOLATION_LEVEL.html">STV_DB_ISOLATION_LEVEL</a>.</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT * FROM stv_db_isolation_level;</code></pre>
                     </li><li class="listitem"><p>Consulte la vista PG_DATABASE_INFO. </p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT datname, datconfig FROM pg_database_info;</code></pre>
                        <p>El nivel de aislamiento por base de datos aparece junto a la clave <code class="code">concurrency_model</code>. Un valor de <code class="code">1</code> indica SNAPSHOT. Un valor de <code class="code">2</code> denota SERIALIZABLE. </p> </li></ul></div>

                  <p>En las bases de datos de Amazon Redshift, el aislamiento SERIALIZABLE y SNAPSHOT son tipos de niveles de aislamiento serializable. Es decir, las lecturas sucias, las lecturas no repetibles y las lecturas fantasma se impiden de acuerdo con el estándar SQL. Los niveles de aislamiento garantizan que una transacción opera en una instantánea de datos en el momento en el que aparece cuando comienza la transacción y que ninguna otra transacción puede cambiar esa instantánea. Sin embargo, el aislamiento SNAPSHOT no proporciona serialización completa porque no impide las inserciones ni actualizaciones de sesgos de escritura en diferentes filas de tablas.</p>
                  <p>En el siguiente escenario se ilustran actualizaciones de sesgos de escritura en las que se utiliza el nivel de aislamiento SNAPSHOT. Una tabla llamada <code class="code">Numbers</code> contiene una columna denominada <code class="code">digits</code> que contiene los valores <code class="code">0</code> y <code class="code">1</code>. La instrucción UPDATE de cada usuario no se superpone a la del otro usuario. Sin embargo, los valores <code class="code">0</code> y <code class="code">1</code> se intercambian. El SQL que ejecutan sigue esta escala de tiempo con los siguientes resultados:</p>
                  
                  <div class="table-container"><div class="table-contents disable-scroll"><table id="w319aac47b9c69c11b3c15b3c13"><thead>
                           <tr>
                              <th>Time </th>
                              <th>Acción del usuario 1 </th>
                              <th>Acción del usuario 2 </th>
                           </tr>
                        </thead>
                           <tr>
                              <td tabindex="-1">1</td>
                              <td tabindex="-1">BEGIN;</td>
                              <td tabindex="-1"></td>
                           </tr>
                           <tr>
                              <td tabindex="-1">2</td>
                              <td tabindex="-1"></td>
                              <td tabindex="-1">BEGIN;</td>
                           </tr>
                           <tr>
                              <td tabindex="-1">3</td>

                              <td tabindex="-1">SELECT * FROM Numbers; <pre class="screen">
digits
------
0
1</pre></td>
                              <td tabindex="-1"></td>
                           </tr>
                           <tr>
                              <td tabindex="-1">4</td>
                              <td tabindex="-1"></td>
                              <td tabindex="-1">SELECT * FROM Numbers; <pre class="screen">
digits
------
0
1</pre></td>

                           </tr>
                           <tr>
                              <td tabindex="-1">5</td>
                              <td tabindex="-1">UPDATE Numbers SET digits=0 WHERE digits=1;</td>
                              <td tabindex="-1"></td>
                           </tr>
                           <tr>
                              <td tabindex="-1">6</td>
                              <td tabindex="-1">SELECT * FROM Numbers; <pre class="screen">
digits
------
0
0</pre></td>
                              <td tabindex="-1"></td>
                           </tr>

                           <tr>
                              <td tabindex="-1">7</td>
                              <td tabindex="-1">COMMIT;</td>
                              <td tabindex="-1"></td>
                           </tr>

                           <tr>
                              <td tabindex="-1">8</td>
                              <td tabindex="-1"></td>
                              <td tabindex="-1">Actualizar número SET dígitos=0 WHERE dígitos=1;</td>
                           </tr>



                           <tr>
                              <td tabindex="-1">9</td>
                              <td tabindex="-1"></td>
                              <td tabindex="-1">SELECT * FROM Numbers; <pre class="screen">
digits
------
1
1</pre></td>

                           </tr>



                           <tr>
                              <td tabindex="-1">10</td>
                              <td tabindex="-1"></td>
                              <td tabindex="-1">COMMIT;</td>
                           </tr>

                           <tr>
                              <td tabindex="-1">11</td>
                              <td tabindex="-1">SELECT * FROM Numbers; <pre class="screen">
digits
------
1
0</pre></td>
                              <td tabindex="-1"></td>
                           </tr>

                           <tr>
                              <td tabindex="-1">12</td>
                              <td tabindex="-1"></td>
                              <td tabindex="-1">SELECT * FROM Numbers; <pre class="screen">
digits
------
1
0</pre></td>

                           </tr>
                        </table></div></div>
                  <p>Si se ejecuta el mismo escenario mediante aislamiento serializable, Amazon Redshift termina el usuario 2 debido a una infracción serializable y devuelve un error <code class="code">1023</code>. Para obtener más información, consulte <a href="./c_serial_isolation.html#c_serial_isolation-serializable-isolation-troubleshooting">Cómo corregir errores de aislamiento serializable</a>. En este caso, solo el usuario 1 puede confirmar correctamente. No todas las cargas de trabajo requieren aislamiento serializable como requisito, en cuyo caso el aislamiento de instantáneas es suficiente como nivel de aislamiento de destino para la base de datos.</p>

               </dd>
             
               <dt><span class="term">ARN '&lt;ARN&gt;'</span></dt>
               <dd>
                  <p>ARN de base de datos de AWS Glue que se puede utilizar para crear la base de datos.</p>
               </dd>
             
               <dt><span class="term"><span>{</span> WITH NO DATA CATALOG SCHEMA | DATA CATALOG SCHEMA '&lt;esquema&gt;' }</span></dt>
               <dd>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Este parámetro solo se puede aplicar si el comando CREATE DATABASE también utiliza el parámetro FROM ARN.</p></div></div>
                  <p>Especifica si se va a crear la base de datos mediante un esquema para acceder a los objetos de AWS Glue Data Catalog.</p>
               </dd>
             
               <dt><span class="term">IAM_ROLE <span>{</span> default | 'SESSION' | 'arn:aws:iam::<code class="replaceable">&lt;Cuenta de AWS-id&gt;</code>:role/<code class="replaceable">&lt;role-name&gt;</code>' }</span></dt>
               <dd>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Este parámetro solo se puede aplicar si el comando CREATE DATABASE también utiliza el parámetro FROM ARN.</p></div></div>
                  <p>Si especifica un rol de IAM asociado al clúster al ejecutar el comando CREATE DATABASE, Amazon Redshift utilizará las credenciales del rol cuando ejecute consultas en la base de datos.</p>
                  
                  <p>Especificar la palabra clave <code class="code">default</code> significa utilizar el rol de IAM establecido como predeterminado y asociado al clúster.</p>
                  <p>Use <code class="code">'SESSION'</code> si se conecta al clúster de Amazon Redshift mediante una identidad federada y acceda a las tablas desde el esquema externo creado con este comando. Para ver un ejemplo de utilización de una identidad federada, consulte <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/authorization-fas-spectrum.html">Uso de una identidad federada para administrar el acceso de Amazon Redshift a los recursos locales y a las tablas externas de Amazon Redshift Spectrum</a>, lo que explica cómo configurar la identidad federada. </p>
                  
                  <p>Utilice el nombre de recurso de Amazon (ARN), de un rol de IAM que el clúster utiliza para la autenticación y la autorización. Como mínimo, el rol de IAM debe tener permiso para realizar una operación LIST en el bucket de Amazon S3 al que se accederá y una operación GET en los objetos de Amazon S3 que el bucket contiene. Para obtener más información sobre cómo utilizar IAM_ROLE al crear una base de datos que utilice AWS Glue Data Catalog para los recursos compartidos de datos, consulte <a href="https://docs.aws.amazon.com/redshift/latest/dg/lake-formation-getting-started-consumer.html">Uso de recursos compartidos de datos administrados por Lake Formation como consumidor</a>.</p>
                  <p>A continuación se muestra la sintaxis de la cadena del parámetro IAM_ROLE para un único ARN.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">IAM_ROLE 'arn:aws:iam::<code class="replaceable">&lt;aws-account-id&gt;</code>:role/<code class="replaceable">&lt;role-name&gt;</code>'</code></pre>
                  <p>Puede encadenar roles para que el clúster pueda asumir otro rol de IAM, que posiblemente pertenezca a otra cuenta. Puede encadenar hasta 10 roles. Para obtener más información, consulte <a href="./c-spectrum-iam-policies.html#c-spectrum-chaining-roles">Encadenamiento de roles de IAM en Amazon Redshift Spectrum</a>. </p>
                  <p> Para este rol de IAM; asocie una política de permisos de IAM similar a la siguiente.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Sid": "AccessSecret",
            "Effect": "Allow",
            "Action": [
                "secretsmanager:GetResourcePolicy",
                "secretsmanager:GetSecretValue",
                "secretsmanager:DescribeSecret",
                "secretsmanager:ListSecretVersionIds"
            ],
            "Resource": "arn:aws:secretsmanager:<code class="replaceable">us-west-2</code>:<code class="replaceable">123456789012</code>:secret:my-rds-secret-VNenFy"
        },
        <span>{</span>
            "Sid": "VisualEditor1",
            "Effect": "Allow",
            "Action": [
                "secretsmanager:GetRandomPassword",
                "secretsmanager:ListSecrets"
            ],
            "Resource": "*"
        }
    ]
}</code></pre>
                  <p>Para obtener información sobre los pasos para crear un rol de IAM que se utilizará con la consulta federada, consulte <a href="./federated-create-secret-iam-role.html">Creación de un secreto y rol de IAM para utilizar consultas federadas</a>. </p>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>No incluya espacios en la lista de roles encadenados.</p></div></div>
                  <p>A continuación se muestra la sintaxis para encadenar tres roles.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">IAM_ROLE 'arn:aws:iam::<code class="replaceable">&lt;aws-account-id&gt;</code>:role/<code class="replaceable">&lt;role-1-name&gt;</code>,arn:aws:iam::<code class="replaceable">&lt;aws-account-id&gt;</code>:role/<code class="replaceable">&lt;role-2-name&gt;</code>,arn:aws:iam::<code class="replaceable">&lt;aws-account-id&gt;</code>:role/<code class="replaceable">&lt;role-3-name&gt;</code>'</code></pre>
               </dd>
            </dl></div>
       
               <h2 id="r_CREATE_DATABASE-datashare-synopsis">Sintaxis para utilizar CREATE DATABASE con un datashare</h2>
               

               <p>La siguiente sintaxis describe el comando CREATE DATABASE que se utiliza para crear bases de datos a partir de un recurso compartido de datos para compartir datos dentro de la misma cuenta de AWS.</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">CREATE DATABASE <em>database_name</em>
[ [ WITH PERMISSIONS ] FROM DATASHARE <em>datashare_name</em> ] OF [ ACCOUNT account_id ] NAMESPACE <em>namespace_guid</em></code></pre>  
               <p>La siguiente sintaxis describe el comando CREATE DATABASE que se utiliza para crear bases de datos a partir de un recurso compartido de datos, para compartir datos entre cuentas de AWS.</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">CREATE DATABASE <em>database_name</em>
[ [ WITH PERMISSIONS ] FROM DATASHARE <em>datashare_name</em> ] OF ACCOUNT <em>account_id</em> NAMESPACE <em>namespace_guid</em></code></pre>

                
                  <h3 id="r_CREATE_DATABASE-parameters-datashare">Parámetros para utilizar CREATE DATABASE con un datashare</h3>
                  <div class="variablelist">
                   
             
                     
                        
                      
             
         <dl>
               <dt><span class="term">FROM DATASHARE </span></dt>
               <dd>
                  <p>Se trata de una palabra clave que indica dónde está ubicado el datashare.</p>
               </dd>
             
               <dt><span class="term"> <em>datashare_name</em> </span></dt>
               <dd>
                  <p>Se trata del nombre del datashare en el que se crea la base de datos consumidora.</p>
               </dd>
             
                        <dt><span class="term">WITH PERMISSIONS</span></dt>

                        <dd>
                           <p>Especifica que la base de datos creada a partir del recurso compartido de datos requiere permisos de nivel de objeto para acceder a los objetos individuales de la base de datos. Sin esta cláusula, los usuarios o roles a los que se conceda el permiso USAGE en la base de datos tendrán acceso automáticamente a todos los objetos de la base de datos.</p>
                           
                        </dd>
                      
                        <dt><span class="term"> NAMESPACE <em>namespace_guid</em> </span></dt>
                        <dd>
                           <p>Se trata de un valor que especifica el espacio de nombres productor al que pertenece el recurso compartido de datos.</p>
                        </dd>
                      
               <dt><span class="term">ACCOUNT <em>account_id</em></span></dt>
               <dd>
                  <p>Se trata de un valor que especifica la cuenta productora a la que pertenece el recurso compartido de datos.</p>
               </dd>
            </dl></div>
                
       
         <h2 id="r_CREATE_DATABASE-usage">Notas de uso para CREATE DATABASE en el uso compartido de datos</h2>
         <p>Como superusuario de base de datos, cuando utilice CREATE DATABASE para crear bases de datos a partir de recursos compartidos de datos en la cuenta de AWS, especifique la opción NAMESPACE. La opción ACCOUNT es opcional. Cuando utilice CREATE DATABASE para crear bases de datos a partir de recursos compartidos de datos entre las cuentas de AWS, especifique las opciones ACCOUNT y NAMESPACE desde el productor.</p>
         <p>Solo puede crear una base de datos consumidora para un recurso compartido de datos en un clúster consumidor. No se pueden crear varias bases de datos consumidoras que hagan referencia al mismo recurso compartido de datos.</p>
       
         <h2 id="r_CREATE_DATABASE_data-catalog">CREATE DATABASE desde AWS Glue Data Catalog</h2>
         <p>Para crear una base de datos mediante un ARN de base de datos de AWS Glue, especifique el ARN en el comando CREATE DATABASE.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE DATABASE sampledb FROM ARN &lt;glue-database-arn&gt; WITH NO DATA CATALOG SCHEMA;</code></pre>
         <p>Si lo desea, también puede suministrar un valor en el parámetro IAM_ROLE. Para obtener más información sobre el parámetro y los valores aceptados, consulte <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_DATABASE.html#r_CREATE_DATABASE-parameters">Parámetros</a>.</p>
         
         <p>A continuación, se muestran ejemplos que demuestran cómo crear una base de datos a partir de un ARN mediante un rol de IAM.</p>
         
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE DATABASE sampledb FROM ARN &lt;glue-database-arn&gt; WITH NO DATA CATALOG SCHEMA IAM_ROLE &lt;iam-role-arn&gt;</code></pre>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE DATABASE sampledb FROM ARN &lt;glue-database-arn&gt; WITH NO DATA CATALOG SCHEMA IAM_ROLE default;</code></pre>
         <p>También puede crear una base de datos mediante DATA CATALOG SCHEMA.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE DATABASE sampledb FROM ARN &lt;glue-database-arn&gt; WITH DATA CATALOG SCHEMA &lt;sample_schema&gt; IAM_ROLE default;</code></pre>
       
         <h2 id="r_CREATE_DATABASE-create-database-limits">Límites de CREATE DATABASE</h2>
         <p>Amazon Redshift aplica estos límites para las bases de datos:</p>
         <div class="itemizedlist">
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>Máximo de 60 bases de datos definidas por el usuario por clúster.</p>
            </li><li class="listitem">
               <p>Máximo de 127 bytes para un nombre de base de datos.</p>
            </li><li class="listitem">
               <p>El nombre de una base de datos no puede ser una palabra reservada. </p>
            </li></ul></div>
       
         <h2 id="r_CREATE_DATABASE-collation">Intercalación de bases de datos</h2>
         <p>La intercalación representa un conjunto de reglas que define la forma en que el motor de base de datos compara y ordena los datos del tipo caracteres en SQL. La intercalación sin distinción entre mayúsculas y minúsculas es la utilizada con más frecuencia. Amazon Redshift utiliza intercalación sin distinción entre mayúsculas y minúsculas para facilitar la migración desde otros sistemas de almacenamiento de datos. Gracias a la compatibilidad nativa con la intercalación sin distinción entre mayúsculas y minúsculas, Amazon Redshift sigue utilizando importantes métodos de ajuste u optimización, como claves de distribución, claves de ordenación o análisis de rango restringido. </p>
         <p>La cláusula COLLATE especifica la intercalación predeterminada para todas las columnas CHAR y VARCHAR de la base de datos. Si se especifica CASE_INSENSITIVE, todas las columnas CHAR o VARCHAR utilizan la intercalación sin distinción entre mayúsculas y minúsculas. Para obtener información acerca de la intercalación, consulte <a href="./c_collation_sequences.html">Secuencias de intercalación</a>.</p>
         <p>Los datos insertados o capturados en columnas donde no se distingue entre mayúsculas y minúsculas conservarán el formato original. No obstante, todas las operaciones de cadenas basadas en la comparación, incluidas la ordenación y la agrupación, no distinguirán entre mayúsculas y minúsculas. Las operaciones de búsqueda de coincidencias de patrones, como los predicados LIKE, similares a las funciones de expresión comunes y las propias funciones tampoco distinguirán entre mayúsculas y minúsculas.</p>

         <p>Las siguientes operaciones de SQL son compatibles con la semántica de intercalación aplicable:</p>
         <div class="itemizedlist">
             
          
         
          
          
          
           
          
          
             
         <ul class="itemizedlist"><li class="listitem"><p>operadores de comparación: =, &lt;&gt;, &lt;, &lt;=, &gt;, &gt;=</p></li><li class="listitem"><p>operador LIKE</p></li><li class="listitem"><p>cláusulas ORDER BY</p></li><li class="listitem"><p>cláusulas GROUP BY</p></li><li class="listitem"><p>funciones de agrupación que utilizan la comparación de cadenas, como MIN, MAX y LISTAGG</p></li><li class="listitem"><p>funciones de ventana, como las cláusulas PARTITION BY y las cláusulas ORDER BY</p></li><li class="listitem"><p>funciones escalares greatest() y least(), STRPOS(), REGEXP_COUNT(), REGEXP_REPLACE(), REGEXP_INSTR(), REGEXP_SUBSTR()</p></li><li class="listitem"><p>cláusula Distinct</p></li><li class="listitem"><p>UNION, INTERSECT y EXCEPT</p></li><li class="listitem"><p>IN LIST</p></li></ul></div>
         <p>Para las consultas externas, incluidas las consultas federadas de Amazon Redshift Spectrum y Aurora PostgreSQL, la intercalación de la columna VARCHAR o CHAR es la misma que la intercalación actual en el nivel de base de datos.</p>
                  <p>En el siguiente ejemplo, se consulta una tabla de Amazon Redshift Spectrum:</p>
                  
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT ci_varchar FROM spectrum.test_collation
WHERE ci_varchar = 'AMAZON';

ci_varchar
----------
amazon
Amazon
AMAZON
AmaZon
(4 rows)</code></pre>
         <p>Para obtener información sobre cómo crear tablas mediante la intercalación de bases de datos, consulte <a href="./r_CREATE_TABLE_NEW.html">CREATE TABLE</a>.</p>
         <p>Para obtener información acerca de la función COLLATE, consulte <a href="./r_COLLATE.html">Función COLLATE</a>.</p>


          
            <h3 id="r_CREATE_DATABASE-collation-limitations">Limitaciones de la intercalación de bases de datos</h3>
            <p>A continuación, se describen las limitaciones que existen a la hora de trabajar con la intercalación de bases de datos en Amazon Redshift:</p>
            <div class="itemizedlist">
                
                
                
                
                
            <ul class="itemizedlist"><li class="listitem"><p>Todas las tablas o las vistas de sistema, incluidas las tablas del catálogo de PG y las tablas de sistema de Amazon Redshift, distinguen entre mayúsculas y minúsculas.</p></li><li class="listitem"><p>Cuando la base de datos consumidora y la base de datos productora tienen intercalaciones diferentes en el nivel de base de datos, Amazon Redshift no admite consultas entre bases de datos y clústeres.</p>
               </li><li class="listitem"><p>Amazon Redshift no admite la intercalación sin distinción entre mayúsculas y minúsculas en la consulta del nodo principal específicamente.</p>
               <p>En el siguiente ejemplo, se muestra una consulta no admitida que no distingue entre mayúsculas y minúsculas, además del error que envía Amazon Redshift:</p>
                  
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT collate(usename, 'case_insensitive') FROM pg_user;
ERROR:  Case insensitive collation is not supported in leader node only query.</code></pre>
               </li><li class="listitem"><p>Amazon Redshift no admite la interacción entre columnas donde se distingue entre mayúsculas y minúsculas, y columnas donde no se hace esa distinción, como comparación, función, combinación u operaciones con conjuntos.</p>
               <p>Los siguientes ejemplos muestran errores que ocurren cuando interactúan las columnas donde se distingue entre mayúsculas y minúsculas, y las columnas donde no se hace esa distinción:</p>
                  
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE TABLE test
  (ci_col varchar(10) COLLATE case_insensitive,
   cs_col varchar(10) COLLATE case_sensitive,
   cint int,
   cbigint bigint);</code></pre>
                  
<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT ci_col = cs_col FROM test;
ERROR:  Query with different collations is not supported yet.</code></pre>
                  
<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT concat(ci_col, cs_col) FROM test;
ERROR:  Query with different collations is not supported yet.</code></pre>
                  
<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT ci_col FROM test UNION SELECT cs_col FROM test;
ERROR:  Query with different collations is not supported yet.</code></pre>
                  
<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT * FROM test a, test b WHERE a.ci_col = b.cs_col;
ERROR:  Query with different collations is not supported yet.</code></pre>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">Select Coalesce(ci_col, cs_col) from test;
ERROR:  Query with different collations is not supported yet.</code></pre>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">Select case when cint &gt; 0 then ci_col else cs_col end from test;
ERROR:  Query with different collations is not supported yet.</code></pre>
               </li><li class="listitem"><p>Amazon Redshift no admite la intercalación para el tipo de datos SUPER. No se admiten la creación de columnas SUPER en bases de datos donde no se distingue entre mayúsculas y minúsculas, ni las interacciones entre columnas SUPER y columnas donde no se distingue entre mayúsculas y minúsculas.</p>
               <p>En el siguiente ejemplo, se crea una tabla con SUPER como tipo de datos en la base de datos donde no se distingue entre mayúsculas y minúsculas:</p>
                  
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE TABLE super_table (a super);
ERROR: SUPER column is not supported in case insensitive database.</code></pre>
                  <p>En el siguiente ejemplo, se consultan datos con una cadena donde no se distingue entre mayúsculas y minúsculas, con una comparación con los datos SUPER: </p>
                  
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE TABLE test_super_collation
(s super, c varchar(10) COLLATE case_insensitive, i int);</code></pre>
                  
<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT s = c FROM test_super_collation;
ERROR:  Coercing from case insensitive string to SUPER is not supported.</code></pre>
               </li></ul></div>
            <p>Para que estas consultas funcionen, utilice la función COLLATE para convertir la intercalación de una columna de manera que coincida con la otra. Para obtener más información, consulte <a href="./r_COLLATE.html">Función COLLATE</a>.</p>

          

       
         <h2 id="r_CREATE_DATABASE-examples">Ejemplos</h2>

          
            <h6>Creación de una base de datos</h6>
            <p>En el siguiente ejemplo, se crea una base de datos llamada TICKIT y se concede la propiedad al usuario DWUSER.</p>
          

         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">create database tickit
with owner dwuser;</code></pre>
         <p>Consulte la tabla de catálogo PG_DATABASE_INFO para ver los detalles de las bases de datos. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select datname, datdba, datconnlimit
from pg_database_info
where datdba &gt; 1;

 datname     | datdba | datconnlimit
-------------+--------+-------------
 admin       |    100 | UNLIMITED
 reports     |    100 | 100
 tickit      |    100 | 100         </code></pre>


         
         <p>En el siguiente ejemplo se crea una base de datos denominada <code class="userinput">sampledb</code> con nivel de aislamiento SNAPSHOT.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE DATABASE sampledb ISOLATION LEVEL SNAPSHOT;</code></pre>

         <p>En el siguiente ejemplo, se crea la base de datos sales_db a partir del recurso compartido de datos SalesShare.</p>
        
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE DATABASE sales_db FROM DATASHARE salesshare OF NAMESPACE '13b8833d-17c6-4f16-8fe4-1a018f5ed00d';</code></pre>

          
            <h3 id="r_CREATE_DATABASE-collation-examples">Ejemplos de intercalación de bases de datos</h3>

             
               <h6>Creación de una base de datos donde no se distingue entre mayúsculas y minúsculas</h6>
               <p>En el siguiente ejemplo, se crea la base de datos <code class="code">sampledb</code>, se crea la tabla <code class="code">T1</code> y se insertan datos en la tabla <code class="code">T1</code>.</p>
             
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">create database sampledb collate case_insensitive;</code></pre>
            
            
            <p>Conéctese a la nueva base de datos que acaba de crear mediante su cliente SQL. Cuando utilice el editor de consultas de Amazon Redshift v2, seleccione <code class="code">sampledb</code> en el <b>Editor</b>. Cuando utiliza use RSQL, puede utilizar un comando como el siguiente.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">\connect sampledb;</code></pre>
                 
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE TABLE T1 (
  col1 Varchar(20) distkey sortkey
);</code></pre>
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">INSERT INTO T1 VALUES ('bob'), ('john'), ('Mary'), ('JOHN'), ('Bob');</code></pre>
            <p>Luego, la consulta encuentra resultados con <code class="code">John</code>.</p>
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT * FROM T1 WHERE col1 = 'John';

 col1
 ------
 john
 JOHN
(2 row)</code></pre>
             
               <h6>Ordenación sin distinción entre mayúsculas y minúsculas</h6>
               <p>En el siguiente ejemplo, se muestra la ordenación sin distinción entre mayúsculas y minúsculas con la tabla T1. La ordenación de <em>Bob</em> y <em>bob</em>, o de <em>John</em> y <em>john</em>, no es determinista, porque son iguales en la columna donde no se distingue entre mayúsculas y minúsculas.</p>
             
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT * FROM T1 ORDER BY 1;

 col1
 ------
 bob
 Bob
 JOHN
 john
 Mary
(5 rows)</code></pre>
            <p>Del mismo modo, el siguiente ejemplo muestra cómo se ordena sin distinción entre mayúsculas y minúsculas con la cláusula GROUP BY. <em>Bob</em> y <em>bob</em> son iguales y pertenecen al mismo grupo. No es determinístico cuál aparece en el resultado.</p>
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT col1, count(*) FROM T1 GROUP BY 1;

 col1 | count
 -----+------
 Mary |  1
 bob  |  2
 JOHN |  2
(3 rows)</code></pre>

             
               <h6>Consulta con una función de ventana en columnas donde no se distingue entre mayúsculas y minúsculas</h6>
               <p>En el siguiente ejemplo, se consulta una función de ventana en una columna donde no se distingue entre mayúsculas y minúsculas.</p>
             
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT col1, rank() over (ORDER BY col1) FROM T1;

 col1 | rank
 -----+------
 bob  |   1
 Bob  |   1
 john |   3
 JOHN |   3
 Mary |   5
(5 rows)</code></pre>

             
               <h6>Consulta con la palabra clave DISTINCT</h6>
               <p>En el siguiente ejemplo, se consulta la tabla <code class="code">T1</code> con la palabra clave DISTINCT.</p>
             
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT DISTINCT col1 FROM T1;

 col1
 ------
 bob
 Mary
 john
(3 rows)</code></pre>

             
               <h6>Consulta con la cláusula UNION</h6>
               <p>En el siguiente ejemplo, se muestran los resultados de la cláusula UNION de las tablas <code class="code">T1</code> y <code class="code">T2</code>.</p>
             
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE TABLE T2 AS SELECT * FROM T1;</code></pre>
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT col1 FROM T1 UNION SELECT col1 FROM T2;

 col1
 ------
 john
 bob
 Mary
(3 rows)</code></pre>
          

      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Aviso" /> <strong>JavaScript está desactivado o no está disponible en su navegador.</strong></p><p>Para utilizar la documentación de AWS, debe estar habilitado JavaScript. Para obtener más información, consulte las páginas de ayuda de su navegador.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenciones del documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_COPY_command_examples.html">Ejemplos de COPY</div><div id="next" class="next-link" accesskey="n" href="./r_CREATE_DATASHARE.html">CREATE DATASHARE</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - Sí</div><div class="content"><p>Gracias por hacernos saber que estamos haciendo un buen trabajo.</p><p>Si tiene un momento, díganos qué es lo que le ha gustado para que podamos seguir trabajando en esa línea.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_CREATE_DATABASE.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - No</div><div class="content"><p>Gracias por informarnos de que debemos trabajar en esta página. Lamentamos haberle defraudado.</p><p>Si tiene un momento, díganos cómo podemos mejorar la documentación.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_CREATE_DATABASE.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>