<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="es-ES"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Creación de esquemas externos para Amazon Redshift Spectrum - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="c-spectrum-external-schemas" /><meta name="default_state" content="c-spectrum-external-schemas" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/c-spectrum-external-schemas.html" /><meta name="description" content="Todas las tablas externas deben crearse en un esquema externo, que puede crear utilizando una instrucción ." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guía para desarrolladores de bases de datos" /><meta name="abstract" content="Cree y administre un almacenamiento de datos con Amazon Redshift, un servicio de almacenamiento de datos completamente administrado a escala de petabytes de nivel empresarial." /><meta name="guide-locale" content="es_es" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/c-spectrum-external-schemas.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/c-spectrum-external-schemas.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guía para desarrolladores de bases de datos" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guía para desarrolladores de bases de datos" /><meta id="panorama-serviceConsolePage" value="Creación de esquemas externos para Amazon Redshift Spectrum" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Creación de esquemas externos para Amazon Redshift Spectrum - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#c-spectrum-external-schemas" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/c-spectrum-external-schemas.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/c-spectrum-external-schemas.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/c-spectrum-external-schemas.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,Clúster,almacenamiento de datos,desarrollador,datos de ejemplo,base de datos,desarrollador de base de datos,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guía para desarrolladores de bases de datos",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Consulta de datos externos mediante Amazon Redshift Spectrum",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/c-using-spectrum.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Creación de esquemas externos para Amazon Redshift Spectrum",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/c-using-spectrum.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#c-spectrum-external-schemas" target="_blank" rel="noopener noreferrer" title="Abrir PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentación</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guía para desarrolladores de bases de datos</a></div><div id="page-toc-src"><a href="#c-spectrum-external-catalogs">Uso de catálogos externos</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="c-spectrum-external-schemas">Creación de esquemas externos para Amazon Redshift Spectrum</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Todas las tablas externas deben crearse en un esquema externo, que puede crear utilizando una instrucción <a href="./r_CREATE_EXTERNAL_SCHEMA.html">CREATE EXTERNAL SCHEMA</a>. </p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Algunas aplicaciones utilizan indistintamente el término <em>base de datos</em> y <em>esquema</em>. En Amazon Redshift, se utiliza el término <em>esquema</em>. </p></div></div><p>Un esquema externo de Amazon Redshift referencia una base de datos externa en un catálogo de datos externo. Puede crear la base de datos externa en Amazon Redshift, <a href="https://docs.aws.amazon.com/athena/latest/ug/catalog.html">Amazon Athena</a>, <a href="https://docs.aws.amazon.com/glue/latest/dg/components-overview.html#data-catalog-intro">AWS Glue Data Catalog</a> o un metastore de Apache Hive, como <a href="https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-what-is-emr.html">Amazon EMR</a>. Si crea una base de datos externa en Amazon Redshift, la base de datos se encuentra en el catálogo de datos de Athena. Para crear una base de datos en un metaalmacén Hive, necesita crear la base de datos en su aplicación Hive.</p><p>Amazon Redshift necesita autorización para obtener acceso al catálogo de datos de Athena y a los archivos de datos de Amazon S3 en su nombre. Para proporcionar esa autorización, primero cree un rol de AWS Identity and Access Management (IAM). Después tiene que adjuntar el rol al clúster y proporcionar el nombre de recurso de Amazon (ARN) para ese rol en la instrucción <code class="code">CREATE EXTERNAL SCHEMA</code> de Amazon Redshift. Para obtener más información acerca de la autorización, consulte <a href="./c-spectrum-iam-policies.html">Políticas de IAM para Amazon Redshift Spectrum</a>.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Si actualmente dispone de tablas externas de Redshift Spectrum en el catálogo de datos de Athena, puede migrar ese catálogo de datos de Athena a uno de AWS Glue. Para usar un catálogo de datos de AWS Glue con Redshift Spectrum, es posible que tenga que cambiar las políticas de IAM. Para obtener más información, consulte <a href="https://docs.aws.amazon.com/athena/latest/ug/glue-athena.html#glue-upgrade">Actualización al catálogo de datos de AWS Glue</a> en la <em>Guía del usuario de Amazon Athena</em>.</p></div></div><p>Para crear una base de datos externa en el mismo momento en que crea un esquema externo, especifique el <code class="code">FROM DATA CATALOG</code> e incluya la cláusula <code class="code">CREATE EXTERNAL DATABASE</code> en su instrucción <code class="code">CREATE EXTERNAL SCHEMA</code>. </p><p>En el siguiente ejemplo, se crea un esquema externo denominado <code class="code">spectrum_schema</code> utilizando la base de datos externa <code class="code">spectrum_db</code>.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">create external schema spectrum_schema from data catalog 
database 'spectrum_db' 
iam_role 'arn:aws:iam::123456789012:role/MySpectrumRole'
create external database if not exists;</code></pre><p>Si administra un catálogo de datos con Athena, especifique el nombre de la base de datos de Athena y la región de AWS en la que se encuentra el catálogo de datos de Athena. </p><p>En el siguiente ejemplo, se crea un esquema externo mediante la base de datos <code class="code">sampledb</code> predeterminada en el catálogo de datos de Athena.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">create external schema athena_schema from data catalog 
database 'sampledb' 
iam_role 'arn:aws:iam::123456789012:role/MySpectrumRole' 
region 'us-east-2';</code></pre><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>El parámetro <code class="code">region</code> referencia la región de AWS en la que se encuentra el catálogo de datos de Athena y no a la ubicación de los archivos de datos de Amazon S3.</p></div></div><p>Si administra el catálogo de datos mediante un metastore de Hive, como Amazon EMR, sus grupos de seguridad se deben configurar de manera tal que permitan el tráfico entre los clústeres. </p><p>En la instrucción CREATE EXTERNAL SCHEMA, especifique la opción <code class="code">FROM HIVE METASTORE</code> e incluya el Uniform Resource Identifier (URI, Identificador uniforme de recursos) y el número de puerto del metaalmacén. En el siguiente ejemplo, se crea un esquema externo a través de una base de datos de metaalmacén Hive denominada <code class="code">hive_db</code>.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">create external schema hive_schema
from hive metastore
database 'hive_db'
uri '172.10.10.10' port 99
iam_role 'arn:aws:iam::123456789012:role/MySpectrumRole'</code></pre><p>Para ver los esquemas externos para su clúster, consulte la tabla de catálogo PG_EXTERNAL_SCHEMA o la vista SVV_EXTERNAL_SCHEMAS. En el siguiente ejemplo, se consulta SVV_EXTERNAL_SCHEMAS, que combina PG_EXTERNAL_SCHEMA y PG_NAMESPACE.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select * from svv_external_schemas</code></pre><p>Para ver la sintaxis completa del comando y ejemplos, consulte <a href="./r_CREATE_EXTERNAL_SCHEMA.html">CREATE EXTERNAL SCHEMA</a>.</p>
         <h2 id="c-spectrum-external-catalogs">Uso de catálogos externos en Amazon Redshift Spectrum</h2>


         <p>Los metadatos para las bases de datos y las tablas externas de Amazon Redshift Spectrum se almacenan en un catálogo de datos externo. De manera predeterminada, los metadatos de Redshift Spectrum se almacenan en un catálogo de datos de Athena. Puede ver y administrar bases de datos y tablas de Redshift Spectrum en su consola de Athena. </p>
         <p>También puede crear y administrar bases de datos y tablas externas mediante el lenguaje de definición de datos (DDL) de Hive a través de Athena o un metastore de Hive, como Amazon EMR. </p>
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Se recomienda que utilice Amazon Redshift para crear y administrar las bases de datos y las tablas externas de Redshift Spectrum.</p></div></div>
          
            <h3 id="c-spectrum-athena-external-catalogs">Visualización de las bases de datos de Redshift Spectrum en Athena y AWS Glue</h3>

            <p>Puede crear una base de datos externa que incluye la cláusula CREATE EXTERNAL DATABASE IF NOT EXISTS como parte de su instrucción CREATE EXTERNAL SCHEMA. En estos casos, los metadatos de la base de datos externa se almacenan en su catálogo de datos. Los metadatos para las tablas externas que cree calificadas por el esquema externo también se almacenan en su catálogo de datos de . </p>
            
            <p>Athena y AWS Glue mantienen un catálogo de datos por cada Región de AWS admitida. Para ver los metadatos de la tabla, inicie sesión en Athena o la consola de AWS Glue. En Athena, elija <b>Data sources</b> (Orígenes de datos), su AWS Glue y, a continuación, vea los detalles de su base de datos. En AWS Glue, elija <b>Databases</b> (Bases de datos), su base de datos externa y luego vea los detalles de su base de datos. </p>
               
            <p>Si crea y administra las tablas externas con Athena, registre la base de datos con CREATE EXTERNAL SCHEMA. Por ejemplo, el siguiente comando registra la base de datos de Athena denominada <code class="code">sampledb</code>.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">create external schema athena_sample
from data catalog
database 'sampledb'
iam_role 'arn:aws:iam::123456789012:role/mySpectrumRole'
region 'us-east-1';</code></pre>
            <p>Cuando consulta la vista de sistema SVV_EXTERNAL_TABLES, ve las tablas de la base de datos <code class="code">sampledb</code> de Athena y también las tablas que creó en Amazon Redshift.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select * from svv_external_tables;</code></pre>

            <pre class="screen">schemaname    | tablename        | location                                               
--------------+------------------+--------------------------------------------------------
athena_sample | elb_logs         | s3://athena-examples/elb/plaintext           
athena_sample | lineitem_1t_csv  | s3://myspectrum/tpch/1000/lineitem_csv                
athena_sample | lineitem_1t_part | s3://myspectrum/tpch/1000/lineitem_partition          
spectrum      | sales            | s3://redshift-downloads/tickit/spectrum/sales          
spectrum      | sales_part       | s3://redshift-downloads/tickit/spectrum/sales_part
</pre>
          
          
            <h3 id="c-spectrum-hive-metastore">Registro de una base de datos de metaalmacén Apache Hive</h3>


            <p>Si crea tablas externas en un metaalmacén Apache Hive, puede usar CREATE EXTERNAL SCHEMA para registrar esas tablas en Redshift Spectrum. </p>
            <p>En la instrucción CREATE EXTERNAL SCHEMA, especifique la cláusula FROM HIVE METASTORE y brinde el Uniform Resource Identifier (URI, Identificador uniforme de recursos) y el número de puerto del metaalmacén Hive. El rol de IAM debe incluir un permiso de acceso para Amazon S3, aunque no necesita permisos para Athena. En el siguiente ejemplo, se registra un metaalmacén Hive. </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">create external schema if not exists hive_schema
from hive metastore
database 'hive_database'
uri 'ip-10-0-111-111.us-west-2.compute.internal' port 9083 
iam_role 'arn:aws:iam::123456789012:role/mySpectrumRole';</code></pre>
          
          
            <h3 id="c-spectrum-enabling-emr-access">Habilitación del acceso del clúster de Amazon Redshift al clúster de Amazon EMR</h3>


            <p>Si el metastore de Hive está en Amazon EMR, debe conceder al clúster de Amazon Redshift acceso a su clúster de Amazon EMR. Para ello, crea un grupo de seguridad de Amazon EC2. A continuación, permite todo el tráfico entrante al grupo de seguridad de EC2 procedente del grupo de seguridad del clúster de Amazon Redshift y del grupo de seguridad del clúster de Amazon EMR. Luego, agrega la seguridad de EC2 tanto al clúster de Amazon Redshift como al de Amazon EMR.</p>
            
            <div class="procedure"><h6>Visualización del nombre del grupo de seguridad de su clúster de Amazon Redshift</h6><p>Para mostrar el grupo de seguridad, haga lo siguiente:</p><ol><li> <p>Inicie sesión en la AWS Management Console y abra la consola de Amazon Redshift en <a href="https://console.aws.amazon.com/redshift/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/redshift/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p> 
               </li><li>
                     <p>En el menú de navegación, elija <b>Clusters</b> (Clústeres) y, a continuación, elija el clúster de la lista para abrir sus detalles.</p>
                  </li><li>
                  <p>Elija <b>Properties</b> (Propiedades) y vea la sección <b>Network and security</b> (Configuración de redes y seguridad). </p>
               </li><li>
                     <p>Busque su grupo de seguridad en <b>VPC security group</b> (Grupo de seguridad de la VPC) y anótelo. </p>
                  </li></ol></div>
                                            
                       
         
 
                  <p><b></b></p>
                  
                  

                        
                                                                                                
            <div class="procedure"><h6>Visualización del nombre del grupo de seguridad del nodo maestro de Amazon EMR</h6><ol><li><p>Abra su clúster de Amazon EMR. Para obtener más información, consulte <a href="https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-security-configurations.html">Uso de configuraciones de seguridad para definir la seguridad del clúster</a> en la <em>Guía de administración de Amazon EMR</em>.</p></li><li><p>En <b>Security and access</b> (Seguridad y acceso), anote el nombre del grupo de seguridad del nodo maestro de Amazon EMR.</p>
                  <div class="mediaobject">
                      
                        <img src="images/spectrum-emr-security-groups.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="Captura de pantalla en la que se destaca el nombre del grupo de seguridad del nodo maestro de Amazon EMR en la consola de Amazon EMR." />
                      
                      
                  </div>
               </li></ol></div>
            
            <div class="procedure"><h6>Para crear o modificar un grupo de seguridad de Amazon EC2 para permitir la conexión entre Amazon Redshift y Amazon EMR</h6><ol><li><p>En el panel de Amazon EC2, elija <b>Security Groups</b> (Grupos de seguridad). Para obtener más información, consulte <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/security-group-rules.html">Reglas de los grupos de seguridad</a> en la <em>Guía del usuario de instancias de Linux de Amazon EC2</em>. </p>
               </li><li><p>Elija <b>Create Security Group</b> (Crear grupo de seguridad). </p>
               </li><li><p>Si utiliza una VPC, elija la VPC en la que estén el clúster de Amazon Redshift y el de Amazon EMR. </p>
               </li><li><p>Agregue una regla de entrada. </p>
               <div class="orderedlist">
                   
                   
                   
               <ol><li><p>En <b>Type</b> (Tipo), elija <b>Custom TCP</b> (TCP personalizada). </p>
                  </li><li><p>En <b>Source</b> (Origen), seleccione <b>Custom</b> (Personalizado). </p>
                  </li><li><p>Ingrese el nombre del grupo de seguridad de Amazon Redshift. </p></li></ol></div></li><li><p>Agregue otra regla de entrada. </p>
               <div class="orderedlist">
                   
                   
                                                      
               <ol><li><p>En <b>Type</b> (Tipo), seleccione <b>TCP</b>. </p>
                  </li><li><p>En <b>Port Range</b> (Rango de puertos), escriba <b>9083</b>.</p>
                     <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>El puerto predeterminado para EMR HMS es 9083. Si su HMS utiliza un puerto diferente, especifique ese puerto en la regla de entrada y en la definición del esquema externo. </p></div></div>
                  </li><li><p>En <b>Source</b> (Origen), seleccione <b>Custom</b> (Personalizado). </p>
                  </li></ol></div>
               </li><li><p>Ingrese un nombre y una descripción para el grupo de seguridad. </p></li><li><p>Elija <b>Create Security Group</b> (Crear grupo de seguridad). </p>                  
               </li></ol></div>
            
            <div class="procedure"><h6>Para agregar el grupo de seguridad de Amazon EC2 que creó en el procedimiento anterior al clúster de Amazon Redshift</h6><ol><li><p>En Amazon Redshift, elija el clúster. </p></li><li><p>Seleccione <b>Properties</b> (Propiedades). </p></li><li><p>Vea la sección <b>Network and security settings</b> (Configuración de redes y seguridad) y, a continuación, elija <b>Edit</b> (Editar). </p></li><li><p>En la opción <b>VPC security group</b> (Grupo de seguridad de la VPC), elija el nuevo nombre del grupo de seguridad. </p></li><li><p>Elija <b>Save changes</b> (Guardar cambios). </p></li></ol></div>
            
            <div class="procedure"><h6>Para agregar el grupo de seguridad de Amazon EC2 a su clúster de Amazon EMR</h6><ol><li><p>En Amazon EMR, elija el clúster. Para obtener más información, consulte <a href="https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-security-configurations.html">Uso de configuraciones de seguridad para definir la seguridad del clúster</a> en la <em>Guía de administración de Amazon EMR</em>.</p></li><li><p>En <b>Hardware</b>, seleccione el enlace del nodo principal. </p></li><li><p>Elija el enlace en la columna <b>EC2 Instance ID</b> (ID de instancia EC2). </p>
                  <div class="mediaobject">
                      
                        <img src="images/spectrum-emr-add-security-group.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;                        Captura de pantalla en la que se destaca un valor de ID de instancia de Amazon EC2 en la consola de Amazon EMR.&#xA;                     " />
                      
                      
                  </div></li><li><p>En <b>Actions</b> (Acciones), elija <b>Security</b> (Seguridad) y, luego, <b>Change security groups</b> (Cambiar grupos de seguridad). </p></li><li><p>En <b>Associated sercurity groups</b> (Grupos de seguridad asociados), elija el nuevo grupo de seguridad y, luego, <b>Add security group</b> (Agregar grupo de seguridad). </p></li><li><p>Seleccione <b>Save</b> (Guardar). </p>
                  </li></ol></div>
          
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Aviso" /> <strong>JavaScript está desactivado o no está disponible en su navegador.</strong></p><p>Para utilizar la documentación de AWS, debe estar habilitado JavaScript. Para obtener más información, consulte las páginas de ayuda de su navegador.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenciones del documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./c-spectrum-data-files.html">Creación de archivos de datos para consultas en Amazon Redshift Spectrum</div><div id="next" class="next-link" accesskey="n" href="./c-spectrum-external-tables.html">Creación de tablas externas</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - Sí</div><div class="content"><p>Gracias por hacernos saber que estamos haciendo un buen trabajo.</p><p>Si tiene un momento, díganos qué es lo que le ha gustado para que podamos seguir trabajando en esa línea.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/c-spectrum-external-schemas.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - No</div><div class="content"><p>Gracias por informarnos de que debemos trabajar en esta página. Lamentamos haberle defraudado.</p><p>Si tiene un momento, díganos cómo podemos mejorar la documentación.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/c-spectrum-external-schemas.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>