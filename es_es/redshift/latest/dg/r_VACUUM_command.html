<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="es-ES"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>VACUUM - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_VACUUM_command" /><meta name="default_state" content="r_VACUUM_command" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_VACUUM_command.html" /><meta name="description" content="Reordena las filas y recupera espacio en una tabla especificada o en todas las tablas de la base de datos actual." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guía para desarrolladores de bases de datos" /><meta name="abstract" content="Cree y administre un almacenamiento de datos con Amazon Redshift, un servicio de almacenamiento de datos completamente administrado a escala de petabytes de nivel empresarial." /><meta name="guide-locale" content="es_es" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_VACUUM_command.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_VACUUM_command.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_VACUUM_command.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_VACUUM_command.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_VACUUM_command.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_VACUUM_command.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_VACUUM_command.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_VACUUM_command.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_VACUUM_command.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_VACUUM_command.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_VACUUM_command.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_VACUUM_command.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_VACUUM_command.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_VACUUM_command.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_VACUUM_command.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_VACUUM_command.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_VACUUM_command.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_VACUUM_command.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_VACUUM_command.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_VACUUM_command.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_VACUUM_command.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_VACUUM_command.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guía para desarrolladores de bases de datos" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guía para desarrolladores de bases de datos" /><meta id="panorama-serviceConsolePage" value="VACUUM" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>VACUUM - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#r_VACUUM_command" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_VACUUM_command.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_VACUUM_command.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_VACUUM_command.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,Clúster,almacenamiento de datos,desarrollador,datos de ejemplo,base de datos,desarrollador de base de datos,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guía para desarrolladores de bases de datos",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Referencia de SQL",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Comandos SQL",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "VACUUM",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/c_SQL_commands.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#r_VACUUM_command" target="_blank" rel="noopener noreferrer" title="Abrir PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentación</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guía para desarrolladores de bases de datos</a></div><div id="page-toc-src"><a href="#r_VACUUM_command-privileges">Privilegios necesarios</a><a href="#r_VACUUM_command-synopsis">Sintaxis</a><a href="#r_VACUUM_command-parameters">Parámetros</a><a href="#r_VACUUM_usage_notes">Notas de uso</a><a href="#r_VACUUM_command-examples">Ejemplos</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="r_VACUUM_command">VACUUM</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Reordena las filas y recupera espacio en una tabla especificada o en todas las tablas de la base de datos actual.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Solo los usuarios con los permisos de tabla necesarios pueden vaciar una tabla de forma eficaz. Si se ejecuta VACUUM sin los privilegios de tabla necesarios, la operación se completa correctamente pero no tiene ningún efecto. Para obtener una lista de los permisos de tabla válidos para ejecutar VACUUM de forma eficaz, consulte la siguiente sección de privilegios requeridos.</p></div></div><p>Amazon Redshift ordena los datos de forma automática y ejecuta VACUUM DELETE en segundo plano. Esto disminuye la necesidad de ejecutar el comando VACUUM. Para obtener más información, consulte <a href="./t_Reclaiming_storage_space202.html">Limpieza de tablas</a>. </p><p>De manera predeterminada, VACUUM omite la fase de ordenación para cualquier tabla que tenga más del 95 por ciento de las filas de la tabla ordenadas. La omisión de la fase de ordenación puede mejorar significativamente el rendimiento de VACUUM. Para cambiar el orden predeterminado o eliminar el umbral de una tabla, incluya el nombre de la tabla y el parámetro TO <em>threshold (umbral)</em> PERCENT cuando ejecute VACUUM. </p><p>Los usuarios pueden obtener acceso a las tablas mientras se limpian. Puede realizar consultas y escribir operaciones mientras se limpia una tabla, pero cuando se ejecutan comandos de lenguaje de manipulación de datos (DML) y una limpieza de manera simultánea, ambas operaciones podrían demorar más de lo usual. Si se ejecutan las instrucciones UPDATE y DELETE durante una limpieza, el rendimiento del sistema podría reducirse. VACUUM DELETE bloquea temporalmente las operaciones UPDATE y DELETE. </p><p>Amazon Redshift realiza automáticamente una operación de limpieza DELETE ONLY en segundo plano. La operación automática de limpieza se detiene cuando los usuarios ejecutan operaciones de lenguaje de definición de datos (DDL), tales como ALTER TABLE.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>La sintaxis y el comportamiento del comando VACUUM de Amazon Redshift son considerablemente diferentes de la operación VACUUM de PostgreSQL. Por ejemplo, la operación VACUUM predeterminada en Amazon Redshift es VACUUM FULL, que recupera espacio en el disco y reordena todas las filas. En cambio, la operación VACUUM predeterminada en PostgreSQL solo recupera espacio y lo pone a disposición para volver a utilizarlo.</p></div></div><p>Para obtener más información, consulte <a href="./t_Reclaiming_storage_space202.html">Limpieza de tablas</a>.</p>
         <h2 id="r_VACUUM_command-privileges">Privilegios necesarios</h2>
         <p>Los siguientes privilegios son necesarios para VACUUM:</p>
         <div class="itemizedlist">
             
             
             
             
         <ul class="itemizedlist"><li class="listitem"><p>Superusuario</p></li><li class="listitem"><p>Usuarios con el privilegio VACUUM</p></li><li class="listitem"><p>Propietario de la tabla</p></li><li class="listitem"><p>Propietario de la base de datos con quien se comparte la tabla</p></li></ul></div>
       
         <h2 id="r_VACUUM_command-synopsis">Sintaxis</h2>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">VACUUM [ FULL | SORT ONLY | DELETE ONLY | REINDEX | RECLUSTER ]
[ [ <em>table_name</em> ] [ TO <em>threshold</em> PERCENT ] [ BOOST ] ]</code></pre>
       
         <h2 id="r_VACUUM_command-parameters">Parámetros</h2>
         <div class="variablelist">
             
             
             
             
             

            
             
             

             
             
         <dl>
               <dt id="vacuum-full"><span class="term">FULL </span></dt>
               <dd>
                  <p>Ordena la tabla especificada (o todas las tablas en la base de datos actual) y recupera espacio en disco ocupado por filas que las operaciones UPDATE y DELETE anteriores habían marcado para eliminación. El valor predeterminado es VACUUM FULL.</p>

                  <p>Una limpieza completa no realiza una reindexación para tablas intercaladas. Para reindexar tablas intercaladas seguido por una limpieza completa, utilice la opción <a href="#vacuum-reindex">VACUUM REINDEX</a>. </p>

                  <p>Por defecto, VACUUM FULL omite la fase de ordenación de cualquier tabla que ya tenga al menos 95 por ciento ordenado. Si VACUUM puede omitir la fase de ordenación, ejecuta un comando DELETE ONLY y recupera espacio en la fase de eliminación para que al menos el 95 por ciento de las filas restantes no se marque para su eliminación.  </p>
                  <p>Si no se cumple el umbral de ordenación (por ejemplo, si el 90 por ciento de las filas está ordenado) y VACUUM realiza una ordenación completa, también llevará a cabo una operación de eliminación completa y recuperará el espacio del 100 por cien de las filas eliminadas. </p>
                  <p>Puede cambiar el umbral de limpieza predeterminado solo para una tabla. Para cambiar el umbral de limpieza predeterminado de una sola tabla, incluya el nombre de la tabla y el parámetro TO <em>threshold (umbral)</em> PERCENT. </p>
               </dd>
             
               <dt id="vacuum-sort-only"><span class="term">SORT ONLY </span></dt>
               <dd>
                  <p>Ordena la tabla especificada (o todas las tablas de la base de datos actual) sin recuperar espacio liberado por filas eliminadas. Esta opción es útil cuando no es importante recuperar espacio en el disco, pero sí lo es la reordenación de nuevas filas. Una limpieza SORT ONLY reduce el tiempo transcurrido para las operaciones de limpieza cuando la región sin ordenar no contiene una gran cantidad de filas eliminadas o no abarca la región ordenada completa. Este tipo de limpieza puede ser beneficioso para las aplicaciones que no tienen limitaciones de espacio en el disco pero dependen de optimizaciones de consultas asociadas con mantener las filas de la tabla ordenadas.</p>
                  <p>Por defecto, VACUUM SORT ONLY omite cualquier tabla que ya tenga al menos 95 por ciento ordenado. Para cambiar el umbral de orden predeterminado de una tabla, incluya el nombre de la tabla y el parámetro TO <em>threshold</em> PERCENT cuando ejecute VACUUM. </p>
               </dd>
             
               <dt id="vacuum-delete-only"><span class="term">DELETE ONLY </span></dt>
               <dd>
                  <p>Amazon Redshift realiza de forma automática una operación de limpieza DELETE ONLY en segundo plano; por lo tanto, rara vez tendrá que ejecutar una limpieza DELETE ONLY.</p>
                  <p>Una VACUUM DELETE recupera espacio en disco ocupado por filas que las operaciones UPDATE y DELETE anteriores habían marcado para eliminación y compacta la tabla para liberar el espacio consumido. Una operación de limpieza DELETE ONLY no ordena los datos de la tabla. </p>
                  <p>Esta opción reduce el tiempo transcurrido en las operaciones de limpieza cuando la recuperación de espacio en el disco es importante, pero no la reordenación de nuevas filas. Esta opción también puede ser útil cuando el rendimiento de la consulta ya es óptimo y no es necesario reordenar las filas para optimizar el rendimiento de la consulta.</p>
                  <p>Por defecto, VACUUM DELETE ONLY recupera espacio para que al menos el 95 por ciento de las filas restantes no se marque para su eliminación. Para cambiar el umbral de eliminación predeterminado de una tabla, incluya el nombre de la tabla y el parámetro TO <em>threshold</em> PERCENT cuando ejecute VACUUM.  </p>
                  <p>Algunas operaciones, como <code class="code">ALTER TABLE APPEND</code>, pueden hacer que se fragmenten las tablas. Cuando se usa la cláusula <code class="code">DELETE ONLY</code>, la operación vacuum reclama espacio de las tablas fragmentadas. El mismo valor de umbral del 95 por ciento se aplica a la operación de desfragmentación. </p>
               </dd>
             
               <dt id="vacuum-reindex"><span class="term">REINDEX <em>tablename</em></span></dt>
               <dd>
                  <p>Analiza la distribución de los valores en columnas de claves de ordenación intercaladas y, luego, realiza una operación VACUUM completa. Si se utiliza REINDEX, se requiere un nombre de tabla.</p>
                  <p>VACUUM REINDEX toma considerablemente más tiempo que VACUUM FULL ya que realiza una ejecución adicional para analizar las claves de ordenación intercaladas. La operación de ordenación y fusión lleva más tiempo para tablas intercaladas porque es posible que la ordenación intercalada necesite reorganizar más filas que una ordenación compuesta.</p>
                  <p>Si una operación VACUUM REINDEX termina antes de completarse, la próxima VACUUM reanuda la operación de reindexación antes de realizar la operación de limpieza completa.</p>
                  <p>VACUUM REINDEX no puede utilizarse con TO <em>threshold</em> PERCENT.  </p>
               </dd>
             
               <dt><span class="term"> <em>table_name</em> </span></dt>
               <dd>
                  <p>El nombre de una tabla que se limpiará. Si no especifica un nombre de tabla, la operación de limpieza se aplica a todas las tablas de la base de datos actual. Puede especificar cualquier tabla permanente o temporal creada por un usuario. El comando no es significativo para otros objetos, como vistas y tablas del sistema.</p>
                  <p> Si incluye el parámetro TO <em>threshold</em> PERCENT, se requiere un nombre de tabla.</p>
               </dd>
             
               <dt id="vacuum-recluster"><span class="term">RECLUSTER <em>tablename</em></span></dt>
               <dd>
                  <p>Ordena las partes de la tabla que no están ordenadas. Las partes de la tabla que ya están ordenadas gracias a la ordenación automática de tabla se dejan intactas. Este comando no fusiona los datos recién ordenados con la región ordenada. Tampoco recupera todo el espacio que está marcado para su eliminación. Cuando se completa este comando, es posible que la tabla no aparezca completamente ordenada, como lo indica el campo <code class="code">unsorted</code> en SVV_TABLE_INFO. </p>
                  <p> Recomendamos que se utilice VACUUM RECLUSTER para las tablas grandes con ingesta frecuente y consultas que solo acceden a los datos más recientes. </p>
                  <p> VACUUM RECLUSTER no es compatible con TO threshold PERCENT. Si se utiliza RECLUSTER, se necesita el nombre de una tabla.</p>
                 <p>VACUUM RECLUSTER no es compatible con las tablas con claves de ordenación intercaladas y las tablas con el estilo de distribución ALL.</p>
               </dd>
             
               <dt><span class="term"> <em>table_name</em> </span></dt>
               <dd>
                  <p>El nombre de una tabla que se limpiará. Puede especificar cualquier tabla permanente o temporal creada por un usuario. El comando no es significativo para otros objetos, como vistas y tablas del sistema.</p>
               </dd>
             
               <dt><span class="term"> TO <em>threshold</em> PERCENT </span></dt>
               <dd>
                  <p>Una cláusula que especifica el umbral por encima del cual VACUUM omite la fase de ordenación y el umbral de destino para recuperar espacio en la fase de eliminación. El <em>umbral de ordenación</em> es el porcentaje de las filas totales que ya están en orden en la tabla especificada antes de la limpieza.  El <em>umbral de eliminación</em> es el porcentaje mínimo de las filas totales que no están marcadas para eliminación después de la limpieza. </p>
                  <p>Como VACUUM reordena las filas solo cuando el porcentaje de filas ordenadas en una tabla es inferior al límite de ordenación, en muchas ocasiones, Amazon Redshift puede reducir los tiempos de VACUUM considerablemente. Del mismo modo, cuando VACUUM no se limita a recuperar el espacio del 100 por cien de las filas marcadas para su eliminación, normalmente puede omitir la reescritura de varios bloques que contienen solo algunas filas eliminadas.</p>
                  <p>Por ejemplo, si especifica 75 como <em>umbral</em>, VACUUM omitirá la fase de ordenación si el 75 por ciento o más de las filas de la tabla ya se encuentran en orden. En la fase de eliminación, VACUUMS establece un objetivo de espacio de recuperación de espacio en disco para que al menos el 75 por ciento de las filas de la tabla no se marquen para su eliminación después de la limpieza. El valor de <em>threshold</em> debe ser un número entero comprendido entre 0 y 100. El valor predeterminado es 95. Si especifica un valor de 100, VACUUM siempre ordena la tabla a menos que esté completamente ordenada y recupera espacio de todas las filas marcadas para la eliminación. Si especifica un valor de 0, VACUUM nunca ordena la tabla y nunca recupera espacio.</p>
                  <p>Si incluye el parámetro TO <em>threshold</em> PERCENT, también debe especificar un nombre de tabla. VACUUM falla si se omite un nombre de tabla. </p>
                  <p>No se puede utilizar el parámetro TO <em>threshold</em> PERCENT con REINDEX. </p>
               </dd>
             
               <dt><span class="term">BOOST</span></dt>
               <dd>
                  <p>Ejecuta el comando VACUUM con recursos adicionales como espacio en disco y memoria, cuando están disponibles, Con la opción BOOST, VACUUM opera en una ventana y bloquea las eliminaciones y actualizaciones simultáneas durante la duración de la operación VACUUM. La ejecución con la opción BOOST compite con los recursos del sistema, lo que puede afectar el rendimiento de las consultas. Ejecute VACUUM BOOST cuando la carga en el sistema sea ligera; por ejemplo durante las operaciones de mantenimiento. </p>
                  <p>Cuando utilice la opción BOOST, tenga en cuenta lo siguiente:</p>
                  <div class="itemizedlist">
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>Si se especifica BOOST, el valor <em>table_name</em> es obligatorio. </p>
                     </li><li class="listitem">
                        <p>BOOST no es compatible con REINDEX. </p>
                     </li><li class="listitem">
                        <p>BOOST se ignora con DELETE ONLY. </p>
                     </li></ul></div>
               </dd>
            </dl></div>
       
         <h2 id="r_VACUUM_usage_notes">Notas de uso</h2>
         <p>Se recomienda una limpieza completa para la mayoría de las aplicaciones de Amazon Redshift. Para obtener más información, consulte <a href="./t_Reclaiming_storage_space202.html">Limpieza de tablas</a>.</p>
         <p>Antes de ejecutar una operación de limpieza, tenga en cuenta el siguiente comportamiento: </p>
         <div class="itemizedlist">
             
             
             
             
             
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>No se puede ejecutar VACUUM en un bloque de transacción (BEGIN … END). Para obtener más información acerca de las transacciones, consulte <a href="./c_serial_isolation.html">Aislamiento serializable</a>. </p>
            </li><li class="listitem">
               <p>Solo puede ejecutar un comando VACUUM en un clúster en un momento dado. Si intenta ejecutar varias operaciones de limpieza de manera simultánea, Amazon Redshift devuelve un error.</p>
            </li><li class="listitem">
               <p>Parte del crecimiento de la tabla puede ocurrir cuando se limpian las tablas. Este comportamiento se espera cuando no hay filas eliminadas para recuperar o el nuevo orden de la tabla produce un menor nivel de compresión de datos.</p>
            </li><li class="listitem">
               <p>Durante las operaciones de limpieza, se espera cierto grado de degradación en el rendimiento de las consultas. El rendimiento normal se reanuda tan pronto se completa la operación de limpieza.</p>
            </li><li class="listitem">
               <p>Las operaciones de escritura simultáneas continúan durante las operaciones de limpieza, pero no se recomienda realizar operaciones de escritura durante la limpieza. Es más eficiente completar operaciones de escritura antes de ejecutar la limpieza. Además, cualquier dato que se escriba después de que se haya iniciado una operación de limpieza no se puede limpiar mediante esa operación. En este caso, es necesaria una segunda operación de limpieza.</p>
            </li><li class="listitem">
               <p>Es posible que una operación de limpieza no se inicie si ya hay una operación de carga o inserción en curso. Las operaciones de limpieza requieren acceso exclusivo a tablas temporalmente para poder iniciarse. Este acceso exclusivo se requiere por poco tiempo, para que las operaciones de limpieza no bloqueen cargas e inserciones simultáneas para cualquier periodo de tiempo significativo.</p>
            </li><li class="listitem">
               <p>Las operaciones de limpieza se omiten cuando no hay trabajo para realizar en una tabla en particular; no obstante, hay costos de mantenimiento asociados con descubrir que se puede omitir la operación. Si está seguro de que una tabla está limpia o no cumple con el umbral de limpieza, no ejecute una operación de limpieza.</p>
            </li><li class="listitem">
               <p>Es posible que una operación de limpieza DELETE ONLY sobre una tabla pequeña no reduzca la cantidad de bloques utilizados para almacenar los datos, especialmente cuando la tabla tiene una gran cantidad de columnas o el clúster usa una gran cantidad de sectores por nodo. Estas operaciones de limpieza agregan un bloque por columna por sector a la cuenta para inserciones simultáneas en la tabla, y hay una posibilidad de que estos costos de mantenimiento superen la reducción de bloques del espacio en disco subyacente. Por ejemplo, si una tabla de 10 columnas de un clúster de 8 nodos ocupa 1000 bloques antes de una limpieza, la limpieza no reducirá la cantidad de bloques real a menos que se recuperen más de 80 bloques de espacio en disco por la eliminación de filas. (Cada bloque de datos utiliza 1 MB).</p>
            </li></ul></div>
         <p>Las operaciones de limpieza automáticas se ponen en pausa si se cumple alguna de las condiciones siguientes: </p>
         <div class="itemizedlist">
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>Un usuario ejecuta una operación de lenguaje de definición de datos (DDL), como ALTER TABLE, que requiere un bloqueo exclusivo en una tabla en la que se está realizando actualmente la limpieza automática. </p>
            </li><li class="listitem">
               <p>Un usuario activa VACUUM en cualquier tabla del clúster (solo se puede ejecutar una operación VACUUM cada vez). </p>
            </li><li class="listitem">
               <p>Un periodo de carga elevada del clúster.</p>
            </li></ul></div>
       
         <h2 id="r_VACUUM_command-examples">Ejemplos</h2>
         <p>Recuperar espacio y base de datos y reordenar las filas de todas las tablas en función del umbral de limpieza predeterminado de 95 por ciento.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">vacuum;</code></pre>
         <p>Recuperar espacio y reordenar las filas de la tabla SALES en función del umbral predeterminado de 95 por ciento. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">vacuum sales;</code></pre>
         <p>Siempre recuperar espacio y reordenar las filas de la tabla SALES. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">vacuum sales to 100 percent;</code></pre>
         <p>Reordenar las filas de la tabla SALES solo si menos del 75 por ciento de las filas ya está ordenado. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class=""> vacuum sort only sales to 75 percent;</code></pre>
         <p>Recuperar espacio en la tabla SALES para que al menos el 75 por ciento de las filas restantes no se marquen para su eliminación después de la limpieza. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">vacuum delete only sales to 75 percent;</code></pre>
         <p>Reindexar y, luego, limpiar la tabla LISTING. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">vacuum reindex listing;</code></pre>
         <p>El siguiente comando devuelve un error. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">vacuum reindex listing to 75 percent;</code></pre>
         
         
         <p>Recluster y, a continuación, vacuum la tabla LISTING. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">vacuum recluster listing;</code></pre>
         <p>Recluster y, a continuación, vacuum la tabla LISTING con la opción BOOST. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">vacuum recluster listing boost;</code></pre>
         
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Aviso" /> <strong>JavaScript está desactivado o no está disponible en su navegador.</strong></p><p>Para utilizar la documentación de AWS, debe estar habilitado JavaScript. Para obtener más información, consulte las páginas de ayuda de su navegador.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenciones del documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./c_Examples_of_UPDATE_statements.html">Ejemplos de instrucciones UPDATE</div><div id="next" class="next-link" accesskey="n" href="./c_SQL_functions.html">Referencia de funciones SQL</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - Sí</div><div class="content"><p>Gracias por hacernos saber que estamos haciendo un buen trabajo.</p><p>Si tiene un momento, díganos qué es lo que le ha gustado para que podamos seguir trabajando en esa línea.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_VACUUM_command.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - No</div><div class="content"><p>Gracias por informarnos de que debemos trabajar en esta página. Lamentamos haberle defraudado.</p><p>Si tiene un momento, díganos cómo podemos mejorar la documentación.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_VACUUM_command.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>