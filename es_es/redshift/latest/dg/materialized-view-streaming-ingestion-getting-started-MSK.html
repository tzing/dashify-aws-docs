<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="es-ES"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Introducción a la ingesta de streaming de Amazon Managed Streaming para Apache Kafka - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="materialized-view-streaming-ingestion-getting-started-MSK" /><meta name="default_state" content="materialized-view-streaming-ingestion-getting-started-MSK" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" /><meta name="description" content="Obtenga información sobre cómo establecer una ingesta de streaming desde Amazon Managed Streaming para Apache Kafka." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guía para desarrolladores de bases de datos" /><meta name="abstract" content="Cree y administre un almacenamiento de datos con Amazon Redshift, un servicio de almacenamiento de datos completamente administrado a escala de petabytes de nivel empresarial." /><meta name="guide-locale" content="es_es" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guía para desarrolladores de bases de datos" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guía para desarrolladores de bases de datos" /><meta id="panorama-serviceConsolePage" value="Introducción a la ingesta de streaming de Amazon Managed Streaming para Apache Kafka" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Introducción a la ingesta de streaming de Amazon Managed Streaming para Apache Kafka - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#materialized-view-streaming-ingestion-getting-started-MSK" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,Clúster,almacenamiento de datos,desarrollador,datos de ejemplo,base de datos,desarrollador de base de datos,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guía para desarrolladores de bases de datos",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Creación de vistas materializadas en Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/materialized-view-overview.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Ingesta de streaming",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/materialized-view-streaming-ingestion.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Introducción a la ingesta de streaming de Amazon Managed Streaming para Apache Kafka",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/materialized-view-streaming-ingestion.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#materialized-view-streaming-ingestion-getting-started-MSK" target="_blank" rel="noopener noreferrer" title="Abrir PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentación</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guía para desarrolladores de bases de datos</a></div><div id="page-toc-src"><a href="#materialized-view-streaming-ingestion-getting-started-MSK-setup">Configuración de IAM y realización de la ingesta de streaming desde Kafka</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="materialized-view-streaming-ingestion-getting-started-MSK">Introducción a la ingesta de streaming de Amazon Managed Streaming para Apache Kafka</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p> El objetivo de la ingesta de streaming de Amazon Redshift es simplificar el proceso de ingesta directa de datos de flujo de un servicio de streaming en Amazon Redshift o Amazon Redshift sin servidor. Esto funciona con Amazon MSK y Amazon MSK sin servidor y con Kinesis. La ingesta de streaming de Amazon Redshift elimina la necesidad de preparar un flujo de Kinesis Data Streams o un tema de Amazon MSK en Amazon S3 antes de la ingesta de los datos del flujo en Redshift.</p><p> A nivel técnico, la ingesta de streaming, tanto de Amazon Kinesis Data Streams como de Amazon Managed Streaming para Apache Kafka, proporciona una ingesta de baja latencia y alta velocidad de datos de streaming o de temas en una vista materializada de Amazon Redshift. Tras la configuración, si utiliza la actualización de vistas materializadas, podrá recibir grandes volúmenes de datos. </p><p>Configure la ingesta de streaming de Amazon Redshift para Amazon MSK mediante los siguientes pasos:</p><div class="orderedlist">
                         
                         
                    <ol><li><p>Cree un esquema externo que se asigne al origen de datos de streaming.</p></li><li><p>Cree una vista materializada que haga referencia al esquema externo.</p></li></ol></div><p>Debe disponer de un origen de Amazon MSK antes de configurar la ingesta de streaming de Amazon Redshift. Si no dispone de un origen, siga las instrucciones de <a href="https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html">Getting Started Using Amazon MSK</a> (Introducción a Amazon MSK).</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p><em>Ingesta de streaming y Amazon Redshift sin servidor</em>: los pasos de configuración de este tema se aplican a los clústeres de Amazon Redshift y Amazon Redshift sin servidor aprovisionados. Para obtener más información, consulte <a href="./materialized-view-streaming-ingestion.html#materialized-view-streaming-ingestion-considerations">Consideraciones sobre la ingesta de streaming</a>.</p></div></div>
                        <h2 id="materialized-view-streaming-ingestion-getting-started-MSK-setup">Configuración de IAM y realización de la ingesta de streaming desde Kafka</h2>
                        <p>Suponiendo que disponga de un clúster de Amazon MSK, el primer paso es definir un esquema en Redshift con <code class="code">CREATE EXTERNAL SCHEMA</code> y hacer referencia al tema de Kafka como el origen de datos. Después de eso, para acceder a los datos del tema, defina <code class="code">STREAM</code> en una vista materializada. Puede almacenar registros del tema con el formato <code class="code">SUPER</code> semiestructurado o bien definir un esquema cuyo resultado sean datos convertidos a tipos de datos de Amazon Redshift. Cuando consulta la vista materializada, los registros devueltos son una vista de un punto temporal del tema.</p>
                        <div class="procedure"><ol><li><p>Cree un rol de IAM con una política de confianza que permita que el clúster de Amazon Redshift o Amazon Redshift sin servidor asuma el rol. Para obtener información sobre cómo configurar la política de confianza del rol de IAM, consulte <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/authorizing-redshift-service.html">Autorización a Amazon Redshift para acceder a otros servicios de AWS en su nombre</a>. Después de crearse, el rol debe tener la siguiente política de IAM, que proporciona permiso para la comunicación con el clúster de Amazon MSK. La política que necesita depende del método de autenticación que se use en su clúster, si utiliza Amazon MSK. Consulte en <a href="https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html">Authentication and Authorization for Apache Kafka APIs</a> (Autenticación y autorización para las API de Apache Kafka) los métodos de autenticación disponibles en Amazon MSK.</p>
                                <p>Una política de IAM para Amazon MSK que utiliza el acceso no autenticado:</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Sid": "VisualEditor0",
            "Effect": "Allow",
            "Action": [
                "kafka:GetBootstrapBrokers"
            ],
            "Resource": "*"
        }
    ]
}</code></pre>
                                <p>Una política de IAM para Amazon MSK cuando se utiliza la autenticación de IAM:</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Sid": "MSKIAMpolicy",
            "Effect": "Allow",
            "Action": [
                "kafka-cluster:ReadData",
                "kafka-cluster:DescribeTopic",
                "kafka-cluster:Connect"
            ],
            "Resource": [
                "arn:aws:kafka:*:0123456789:cluster/*/*",
                "arn:aws:kafka:*:0123456789:topic/*/*/*"
            ]
        },
        <span>{</span>
            "Sid": "MSKPolicy",
            "Effect": "Allow",
            "Action": [
                "kafka:GetBootstrapBrokers"
            ],
            "Resource": "*"
        }
    ]
}</code></pre>
                            </li><li><p> Consulte la VPC y verifique que el clúster de Amazon Redshift o Amazon Redshift sin servidor dispone de una ruta para llegar al clúster de Amazon MSK. Las reglas de grupo de seguridad de entrada del clúster de Amazon MSK deben permitir el grupo de seguridad del clúster de Amazon Redshift o el grupo de trabajo de Amazon Redshift sin servidor. Los puertos que especifique dependerán del método de autenticación utilizado para el clúster, cuando use Amazon MSK. Para obtener más información, consulte <a href="https://docs.aws.amazon.com/msk/latest/developerguide/port-info.html">Información de puertos</a> y <a href="https://docs.aws.amazon.com/msk/latest/developerguide/aws-access.html">Acceso desde AWS pero fuera de la VPC</a>.</p>
                                
                                <p>Tenga en cuenta que la autenticación de clientes con mTLS no es compatible con la ingesta de streaming. Para obtener más información, consulte la sección sobre <a href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-streaming-ingestion.html#materialized-view-streaming-ingestion-limitations">límites</a>.</p>
                            <p>En la siguiente tabla se muestran las opciones de configuración complementarias a establecer para la ingesta de streaming desde Amazon MSK:</p>
                                <div class="table-container"><div class="table-contents"><table id="w319aac21c47c15c15b5b3b6"><thead>
                                            <tr>
                                                <th>Configuración de Amazon Redshift</th>
                                                <th>Configuración de Amazon MSK</th>
                                                <th>Puerto que se abrirá entre Redshift y Amazon MSK</th>
                                            </tr>
                                        </thead>
                                            <tr>
                                                <td tabindex="-1"> AUTHENTICATION NONE </td>
                                                <td tabindex="-1"> Transporte TLS desactivado </td>
                                                <td tabindex="-1">9092</td>
                                            </tr>
                                            <tr>
                                                <td tabindex="-1"> AUTHENTICATION NONE </td>
                                                <td tabindex="-1"> Transporte TLS habilitado </td>
                                                <td tabindex="-1">9094</td>
                                            </tr>
                                            <tr>
                                                <td tabindex="-1"> AUTHENTICATION IAM </td>
                                                <td tabindex="-1"> IAM </td>
                                                <td tabindex="-1">9098/9198</td>
                                            </tr>
                                        </table></div></div>
                                <p>La autenticación de Amazon Redshift se establece en la instrucción CREATE EXTERNAL SCHEMA.</p>
                                <p>En caso de que el clúster de Amazon MSK tenga activada la autenticación de seguridad de la capa de transporte mutua (mTLS), al configurar AUTHENTICATION NONE se indica a Amazon Redshift que utilice el puerto 9094 para el acceso sin autenticación. No obstante, se producirá un error porque el puerto lo está utilizando la autenticación mTLS. Por esto, le recomendamos que cambie a AUTHENTICATION IAM cuando use mTLS.</p>    
                            </li><li><p>Habilite el enrutamiento de VPC mejorado en el clúster de Amazon Redshift o grupo de trabajo de Amazon Redshift sin servidor. Para obtener más información, consulte <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/enhanced-vpc-enabling-cluster.html">Habilitación del enrutamiento de VPC mejorado</a>.</p>
                                <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Para recuperar la URL de los agentes de arranque de Amazon MSK, Amazon Redshift realiza una llamada a la API <a href="https://docs.aws.amazon.com/msk/1.0/apireference/clusters-clusterarn-bootstrap-brokers.html#GetBootstrapBrokers">GetBootstrapBrokers</a> con los permisos proporcionados por el rol de IAM asociado. Tenga en cuenta que, para que esta solicitud se realice correctamente cuando el enrutamiento de VPC mejorado esté habilitado, la subred del clúster aprovisionado de Amazon Redshift o del grupo de trabajo de Amazon Redshift sin servidor debe tener una puerta de enlace NAT o una puerta de enlace de Internet. Las ACL de su red y las reglas de salida de los grupos de seguridad para la subred antes mencionada también deben permitir el acceso a los puntos de conexión de servicio de la API de Amazon MSK. Para obtener más información, consulte <a href="https://docs.aws.amazon.com/general/latest/gr/msk.html">Cuotas y puntos de conexión de Amazon Managed Streaming for Apache Kafka</a>.</p></div></div>
                            </li><li><p>En Amazon Redshift, cree un esquema externo para asignarlo al clúster de Amazon MSK. </p>
                                
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE EXTERNAL SCHEMA MySchema
FROM MSK
IAM_ROLE <span>{</span> default | 'iam-role-arn' }
AUTHENTICATION <span>{</span> none | iam }
CLUSTER_ARN 'msk-cluster-arn';</code></pre>
                                
                                <p>En la cláusula <code class="code">FROM</code>, Amazon MSK indica que el esquema mapea los datos de Managed Kafka Services. </p> 
                                    <p> La ingesta de streaming para Amazon MSK proporciona los siguientes tipos de autenticación al crear el esquema externo: </p>
                                    <div class="itemizedlist">
                                         
                                         
                                    <ul class="itemizedlist"><li class="listitem"><p><b>ninguno</b>: especifica que no hay ningún paso de autenticación.</p></li><li class="listitem"><p><b>iam</b>: especifica la autenticación de IAM. Al elegir esta opción, asegúrese de que el rol de IAM tenga permisos para la autenticación de IAM. </p></li></ul></div>
                                <p>No se admiten otros métodos de autenticación de Amazon MSK, como la autenticación TLS o el nombre de usuario y la contraseña, para la ingesta de streaming. </p>
                                <p> <code class="code">CLUSTER_ARN</code> especifica el clúster de Amazon MSK desde el que está transmitiendo.</p>       
                            </li><li>
                                <p>Cree una vista materializada para consumir los datos del tema. En el siguiente ejemplo, se define una vista materializada con datos de origen JSON. En la siguiente vista se valida que los datos tengan formato JSON y utf8 válido. En los nombres de tema de Kafka se distingue entre mayúsculas y minúsculas, y pueden estar en mayúsculas y minúsculas. Para la ingesta de temas con nombres en mayúsculas, puede establecer la configuración <code class="code">enable_case_sensitive_identifier</code> a <code class="code">true</code> en el nivel de clúster. Para obtener más información, consulte <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_names.html">Nombres e identificadores</a> e <a href="https://docs.aws.amazon.com/redshift/latest/dg/r_enable_case_sensitive_identifier.html">enable_case_sensitive_identifier</a>.</p>
                                
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE MATERIALIZED VIEW MyView AUTO REFRESH YES AS
SELECT kafka_partition, 
 kafka_offset, 
 kafka_timestamp_type, 
 kafka_timestamp, 
 kafka_key, 
 JSON_PARSE(kafka_value) as Data, 
 kafka_headers
FROM MySchema."mytopic"
WHERE CAN_JSON_PARSE(kafka_value);</code></pre>
                    <p>Para activar la actualización automática, utilice <code class="code">AUTO REFRESH YES</code>. El comportamiento predeterminado es la actualización manual. </p>
                                <p>Las columnas de metadatos incluyen lo siguiente:</p>
                                <div class="table-container"><div class="table-contents"><table id="w319aac21c47c15c15b5b9b9"><thead>
                                            <tr>
                                                <th>Columna de metadatos</th>
                                                <th>Tipo de datos</th>
                                                <th>Descripción</th>
                                            </tr>
                                        </thead>
                                            <tr>
                                                <td tabindex="-1"> kafka_partition </td>
                                                <td tabindex="-1"> bigint </td>
                                                <td tabindex="-1"> Id. de partición del registro del tema de Kafka </td>
                                                
                                            </tr>
                                            <tr>
                                                <td tabindex="-1"> kafka_offset </td>
                                                <td tabindex="-1"> bigint </td>
                                                <td tabindex="-1"> Desplazamiento del registro en el tema de Kafka para una partición determinada </td>
                                                
                                            </tr>
                                            <tr>
                                                <td tabindex="-1"> kafka_timestamp_type </td>
                                                <td tabindex="-1"> char(1) </td>
                                                <td tabindex="-1">
                                                    <p>Tipo de la marca temporal utilizada en el registro de Kafka:</p> 
                                                    <div class="itemizedlist">
                                                         
                                                         
                                                         
                                                    <ul class="itemizedlist"><li class="listitem"><p><em>C</em>: hora de creación del registro (CREATE_TIME) en el cliente</p></li><li class="listitem"><p><em>L</em>: hora de adición del registro (LOG_APPEND_TIME) en el servidor Kafka </p></li><li class="listitem"><p><em>U</em>: hora de creación del registro no está disponible (NO_TIMESTAMP_TYPE)</p></li></ul></div>
                                                </td>
                                                
                                            </tr>
                                            <tr>
                                                <td tabindex="-1"> kafka_timestamp </td>
                                                <td tabindex="-1"> TIMESTAMP sin zona horaria </td>
                                                <td tabindex="-1"> Valor de la marca temporal del registro </td>
                                                
                                            </tr>
                                            <tr>
                                                <td tabindex="-1"> kafka_key </td>
                                                <td tabindex="-1"> varbyte </td>
                                                <td tabindex="-1"> Clave del registro de Kafka </td>
                                                
                                            </tr>
                                            <tr>
                                                <td tabindex="-1"> kafka_value </td>
                                                <td tabindex="-1"> varbyte </td>
                                                <td tabindex="-1"> Registro recibido de Kafka </td>
                                                
                                            </tr>
                                            <tr>
                                                <td tabindex="-1"> kafka_headers </td>
                                                <td tabindex="-1"> super </td>
                                                <td tabindex="-1"> Encabezado del registro recibido de Kafka </td>
                                                
                                            </tr>
                                            <tr>
                                                <td tabindex="-1"> refresh_time </td>
                                                <td tabindex="-1"> TIMESTAMP sin zona horaria </td>
                                                <td tabindex="-1"> La hora de inicio de la actualización </td>
                                            </tr>
                                        </table></div></div>
                                
                                <p>Es importante tener en cuenta si tiene lógica de negocio en la definición de su vista materializada que los errores de análisis sintáctico pueden hacer que la ingesta de streaming se bloquee en algunos casos. Esto podría llevarlo a tener que eliminar y volver a crear la vista materializada. Para evitarlo, le recomendamos que mantenga su lógica de análisis lo más simple posible y realice la mayoría de sus comprobaciones de lógica de negocio en los datos tras la ingesta. En el siguiente ejemplo se muestra cómo puede utilizar <a href="./CAN_JSON_PARSE.html">Función CAN_JSON_PARSE</a> para evitar errores e ingerir datos más correctamente.</p>
                                
                            </li><li><p>Actualice la vista, lo que invoca a Amazon Redshift para que lea del tema y cargue los datos en la vista materializada.</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">REFRESH MATERIALIZED VIEW MyView;</code></pre>
                            </li><li><p>Consulte los datos en la vista materializada.</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select * from MyView;</code></pre>
                                <p>La vista materializada se actualiza directamente desde el tema cuando se ejecuta <code class="code">REFRESH</code>. Se crea una vista materializada que se asigna al origen de datos del tema de Kafka. Puede realizar filtrados y agregaciones en los datos como parte de la definición de la vista materializada. La vista materializada de ingesta de streaming (vista materializada base) solo puede hacer referencia a un tema de Kafka, pero se pueden crear vistas materializadas adicionales que se unan con la vista materializada base y con otras vistas materializadas o tablas.</p>
                            </li></ol></div>
                        <p>Para obtener más información sobre las limitaciones para la ingesta de streaming, consulte <a href="./materialized-view-streaming-ingestion.html#materialized-view-streaming-ingestion-limitations">Limitaciones </a>.</p>
                    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Aviso" /> <strong>JavaScript está desactivado o no está disponible en su navegador.</strong></p><p>Para utilizar la documentación de AWS, debe estar habilitado JavaScript. Para obtener más información, consulte las páginas de ayuda de su navegador.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenciones del documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./materialized-view-streaming-ingestion-getting-started.html">Introducción a la ingesta de streaming de Amazon Kinesis Data Streams</div><div id="next" class="next-link" accesskey="n" href="./materialized-view-streaming-ingestion-example-station-data.html">Tutorial de ingesta de streaming de datos de estaciones de vehículos eléctricos mediante Kinesis</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - Sí</div><div class="content"><p>Gracias por hacernos saber que estamos haciendo un buen trabajo.</p><p>Si tiene un momento, díganos qué es lo que le ha gustado para que podamos seguir trabajando en esa línea.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - No</div><div class="content"><p>Gracias por informarnos de que debemos trabajar en esta página. Lamentamos haberle defraudado.</p><p>Si tiene un momento, díganos cómo podemos mejorar la documentación.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/materialized-view-streaming-ingestion-getting-started-MSK.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>