<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="es-ES"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Casos de uso - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_create_model_use_cases" /><meta name="default_state" content="r_create_model_use_cases" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_create_model_use_cases.html" /><meta name="description" content="Información sobre los distintos casos de CREATE MODEL." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guía para desarrolladores de bases de datos" /><meta name="abstract" content="Cree y administre un almacenamiento de datos con Amazon Redshift, un servicio de almacenamiento de datos completamente administrado a escala de petabytes de nivel empresarial." /><meta name="guide-locale" content="es_es" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_create_model_use_cases.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_create_model_use_cases.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_create_model_use_cases.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_create_model_use_cases.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_create_model_use_cases.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_create_model_use_cases.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_create_model_use_cases.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_create_model_use_cases.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_create_model_use_cases.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_create_model_use_cases.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_create_model_use_cases.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_create_model_use_cases.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_create_model_use_cases.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_create_model_use_cases.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_create_model_use_cases.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_create_model_use_cases.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_create_model_use_cases.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_create_model_use_cases.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_create_model_use_cases.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_create_model_use_cases.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_create_model_use_cases.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_create_model_use_cases.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guía para desarrolladores de bases de datos" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guía para desarrolladores de bases de datos" /><meta id="panorama-serviceConsolePage" value="Casos de uso" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Casos de uso - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#r_create_model_use_cases" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_create_model_use_cases.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_create_model_use_cases.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_create_model_use_cases.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,Clúster,almacenamiento de datos,desarrollador,datos de ejemplo,base de datos,desarrollador de base de datos,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guía para desarrolladores de bases de datos",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Referencia de SQL",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Comandos SQL",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "CREATE MODEL",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_CREATE_MODEL.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Casos de uso",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_CREATE_MODEL.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#r_create_model_use_cases" target="_blank" rel="noopener noreferrer" title="Abrir PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentación</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guía para desarrolladores de bases de datos</a></div><div id="page-toc-src"><a href="#r_simple_create_model">CREATE MODEL simple </a><a href="#r_user_guidance_create_model">CREATE MODEL con guía para el usuario</a><a href="#r_auto_off_create_model">CREATE para modelos XGBoost con AUTO OFF</a><a href="#r_byom_create_model">Bring your own model (BYOM): inferencia local</a><a href="#r_byom_create_model_remote">Bring your own model (BYOM): inferencia remota</a><a href="#r_k-means_create_model">CREATE MODEL con K-MEANS</a><a href="#r_forecast_model">CREATE MODEL con Forecast</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="r_create_model_use_cases">Casos de uso</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>En los siguientes casos de uso se muestra cómo utilizar CREATE MODEL a la medida de sus necesidades.</p>
        <h2 id="r_simple_create_model">CREATE MODEL simple</h2>
        <p>A continuación, se resumen las opciones básicas de la sintaxis de CREATE MODEL.</p>

        

         
            <h3 id="r_simple-create-model-synposis">Sintaxis de CREATE MODEL simple</h3>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">CREATE MODEL <em>model_name</em>
    FROM <span>{</span> <em>table_name</em> | ( <em>select_query</em> ) }
    TARGET <em>column_name</em>
    FUNCTION <em>prediction_function_name</em>
    IAM_ROLE <span>{</span> default }
    SETTINGS (
      S3_BUCKET <em>'bucket'</em>,
      [ MAX_CELLS integer ]
    )</code></pre>
         

         
            <h3 id="r_simple-create-model-parameters">Parámetros de CREATE MODEL simple</h3>
            <div class="variablelist">
                 
                 
                 
                 
                 
                 
                 
            <dl>
                    <dt><span class="term"> <em>model_name</em> </span></dt>
                    <dd>
                        <p>El nombre del modelo. El nombre del modelo en un esquema debe ser único.</p>
                    </dd>
                 
                    <dt><span class="term">FROM <span>{</span> <em>table_name</em> | ( <em>select_query</em> ) }</span></dt>
                    <dd>
                        <p>Se trata del nombre de la tabla o la consulta que especifica los datos de formación. Pueden ser una tabla existente en el sistema o una consulta SELECT compatible con Amazon Redshift entre paréntesis, es decir, (). En el resultado de la consulta, debe haber al menos dos columnas. </p>
                    </dd>
                 
                    <dt><span class="term">TARGET <em>column_name</em></span></dt>
                    <dd>
                        <p>Se trata del nombre de la columna que se convierte en el objetivo de predicción. La columna debe existir en la cláusula FROM. </p>
                    </dd>
                 
                    <dt><span class="term">FUNCTION <em>prediction_function_name</em> </span></dt>
                    <dd>
                        <p>Se trata de un valor que especifica el nombre de la función de machine learning de Amazon Redshift que generará CREATE MODEL y que se utilizará para generar predicciones con este modelo. La función se crea en el mismo esquema que el objeto del modelo y se puede sobrecargar.</p>
                        <p>El machine learning de Amazon Redshift es compatible con modelos, como el árbol Xtreme Gradient Boosted (XGBoost) para la regresión y la clasificación.</p>
                    </dd>
                 
                   <dt><span class="term">IAM_ROLE <span>{</span> default | 'arn:aws:iam::&lt;account-id&gt;:role/&lt;role-name&gt;' }</span></dt>
                    <dd>
                        <p> Utilice la palabra clave predeterminada para que Amazon Redshift utilice el rol de IAM configurado como predeterminado y asociado al clúster cuando se ejecuta el comando CREAT MODEL. También puede especificar el ARN de un rol de IAM para usar ese rol.</p>
                    </dd>
                 
                    <dt><span class="term"> <em>S3_BUCKET <em>'bucket'</em></em> </span></dt>
                    <dd>
                        <p>Se trata del nombre del bucket de Amazon S3 que creó anteriormente y que se utiliza para compartir datos de formación y artefactos entre Amazon Redshift y SageMaker. Amazon Redshift crea una subcarpeta en este bucket antes de descargar los datos de formación. Una vez que se completa la formación, Amazon Redshift elimina la subcarpeta creada y su contenido. </p>
                    </dd>
                 
                    <dt><span class="term">Número entero para MAX_CELLS </span></dt>
                    <dd>
                        <p>Se trata del número máximo de celdas que se exportarán desde la cláusula FROM. El valor predeterminado es 1 000 000. </p>
                        <p>El número de celdas se obtiene de multiplicar el número de filas de los datos de formación (productos de la tabla o la consulta de la cláusula FROM) por el número de columnas. Si el número de celdas de los datos de formación es mayor que el especificado por el parámetro max_cells, CREATE MODEL reduce la cantidad de datos de formación de la cláusula FROM para reducir el tamaño del conjunto de formación debajo de MAX_CELLS. Si se admiten conjuntos de datos de formación más grandes pueden brindar mayor precisión, pero también puede significar que el modelo tarde más en formarse y cueste más.</p>
                        <p>Para obtener información acerca de los costos que implica usar Amazon Redshift, consulte <a href="./cost.html">Costos de utilizar Amazon Redshift ML</a>.</p>
                        <p>Para obtener más información sobre los costos asociados a los distintos números de celdas y los detalles de la prueba gratuita, consulte <a href="https://aws.amazon.com/redshift/pricing" rel="noopener noreferrer" target="_blank"><span>Precios de Amazon Redshift</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
                    </dd>
                </dl></div>
         
     
        <h2 id="r_user_guidance_create_model">CREATE MODEL con guía para el usuario</h2>
        <p>A continuación, encontrará una descripción de las opciones de CREATE MODEL, además de las opciones descritas en <a href="#r_simple_create_model">CREATE MODEL simple</a>.</p>
        <p>De manera predeterminada, CREATE MODEL busca la mejor combinación de procesamiento previo y modelo para su conjunto de datos específico. Es posible que desee un control adicional o introducir conocimientos de dominio adicionales (como el tipo de problema o el objetivo) sobre su modelo. En un escenario de deserción de clientes, si el resultado “el cliente no está activo” es poco frecuente, se suele preferir el objetivo F1 en lugar del objetivo de precisión. Como los modelos de alta precisión tal vez predicen que “el cliente está activo” en todo momento, esto se traduce en una alta precisión, pero escaso valor empresarial. Para obtener información acerca del objetivo F1, consulte <a href="https://docs.aws.amazon.com/sagemaker/latest/APIReference/API_AutoMLJobObjective.html">AutoMLJobObjective</a> en la <em>Referencia de la API de Amazon SageMaker</em>.</p>
        <p>Luego, CREATE MODEL sigue las sugerencias sobre los aspectos especificados, como el objetivo. Al mismo tiempo, CREATE MODEL descubre de forma automática los mejores procesadores previos y los mejores hiperparámetros. </p>


         
            <h3 id="r_user_guidance-create-model-synposis">CREATE MODEL con sintaxis de guía para el usuario</h3>
            <p>CREATE MODEL ofrece más flexibilidad en los aspectos que se pueden especificar y en los aspectos que Amazon Redshift descubre de forma automática.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">CREATE MODEL <em>model_name</em>
    FROM <span>{</span> <em>table_name</em> | ( <em>select_statement</em> ) }
    TARGET <em>column_name</em>
    FUNCTION <em>function_name</em>
    IAM_ROLE <span>{</span> default }
    [ MODEL_TYPE <span>{</span> XGBOOST | MLP | LINEAR_LEARNER} ]
    [ PROBLEM_TYPE ( REGRESSION | BINARY_CLASSIFICATION | MULTICLASS_CLASSIFICATION ) ]
    [ OBJECTIVE ( 'MSE' | 'Accuracy' | 'F1' | 'F1Macro' | 'AUC') ]
    SETTINGS (
      S3_BUCKET 'bucket', |
      S3_GARBAGE_COLLECT <span>{</span> ON | OFF }, |
      KMS_KEY_ID 'kms_key_id', |
      MAX_CELLS integer, |
      MAX_RUNTIME integer (, ...)
    )   </code></pre>
         

         
            <h3 id="r_user_guidance-create-model-parameters">CREATE MODEL con parámetros de guía para el usuario</h3>
            <div class="variablelist">
                 
                 
                 
                 
                 
                 
                 

                 
            <dl>
                    <dt><span class="term"> <em>MODEL_TYPE <span>{</span> XGBOOST | MLP | LINEAR_LEARNER }</em> </span></dt>
                    <dd>
                        <p>(Opcional) Especifica el tipo de modelo. Puede especificar si desea formar un modelo de un tipo específico, como XGBoost, perceptron multicapa (MLP) o Linear Learner, que son todos algoritmos compatibles con Amazon SageMaker Autopilot. Si no se especifica el parámetro, se buscan todos los tipos de modelos admitidos durante la formación para encontrar el mejor modelo.</p>
                    </dd>
                 
                    <dt><span class="term"> <em>PROBLEM_TYPE ( REGRESSION | BINARY_CLASSIFICATION | MULTICLASS_CLASSIFICATION )</em> </span></dt>
                    <dd>
                        <p>(Opcional) Especifica el tipo de problema. Si conoce el tipo de problema, puede restringir a Amazon Redshift a que busque solo el mejor modelo de ese tipo específico. Si no se especifica este parámetro, se detecta un tipo de problema durante la formación, en función de sus datos.</p>
                    </dd>
                 
                    <dt><span class="term">OBJECTIVE ( 'MSE' | 'Accuracy' | 'F1' | 'F1Macro' | 'AUC')</span></dt>
                    <dd>
                        <p>(Opcional) Especifica el nombre de la métrica de objetivo utilizada para medir la calidad predictiva de un sistema de machine learning. Esta métrica se optimiza durante la formación para proporcionar la mejor estimación para los valores del parámetro del modelo a partir de los datos. Si no se especifica una métrica de forma explícita, el comportamiento predeterminado es utilizar automáticamente MSE para regresión, F1 para clasificación binaria y Accuracy para clasificación multiclase. Para obtener más información acerca de los objetivos, consulte <a href="https://docs.aws.amazon.com/sagemaker/latest/APIReference/API_AutoMLJobObjective.html">AutoMLJobObjective</a> en la <em>Referencia de la API de Amazon SageMaker</em>.</p>
                    </dd>
                 
                    <dt><span class="term">Número entero para MAX_CELLS </span></dt>
                    <dd>
                        <p>(Opcional) Especifica el número de celdas de los datos de formación. Este valor se obtiene de multiplicar el número de registros (en la tabla o en la consulta de formación) por el número de columnas. El valor predeterminado es 1 000 000.</p>
                    </dd>
                 
                    <dt><span class="term">Número entero para MAX_RUNTIME </span></dt>
                    <dd>
                        <p>(Opcional) Especifica la cantidad máxima de tiempo que dura la formación. Los trabajos de formación suelen completarse antes en función del tamaño del conjunto de datos. Especifica la cantidad máxima de tiempo que debería tomar la formación. El valor predeterminado es 5400 (90 minutos).</p>
                    </dd>
                 
                    <dt><span class="term">S3_GARBAGE_COLLECT <span>{</span> ON | OFF }</span></dt>
                    <dd>
                        <p>(Opcional) Especifica si Amazon Redshift realiza la recolección de basura en los conjuntos de datos resultantes utilizados para formar modelos, además de los propios modelos. Si se establece en OFF, los conjuntos de datos resultantes utilizados para formar modelos y los modelos permanecen en Amazon S3 y se pueden utilizar para otros fines. Si se establece en ON, Amazon Redshift elimina los artefactos en Amazon S3 una vez que se completa la formación. El valor predeterminado es ON.</p>
                    </dd>
                 
                    <dt><span class="term">KMS_KEY_ID 'kms_key_id'</span></dt>
                    <dd>
                        <p>(Opcional) Especifica si Amazon Redshift utiliza el cifrado del lado del servidor con una clave de AWS KMS para proteger los datos en reposo. Los datos en tránsito están protegidos con la capa de conexión segura (SSL). </p>
                    </dd>
                 
                    <dt><span class="term"> <em>PREPROCESSORS "string" </em> </span></dt>
                    <dd>
                        <p>(Opcional) Especifica ciertas combinaciones de procesadores previos para determinados conjuntos de columnas. El formato es una lista de columnSets y las transformaciones adecuadas que se aplicarán a cada conjunto de columnas. Amazon Redshift aplica todos los transformadores de una lista de transformadores específica a todas las columnas del ColumnSet correspondiente. Por ejemplo, para aplicar OneHotEncoder con Imputer a las columnas t1 y t2, utilice el comando de muestra que aparece a continuación.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE MODEL customer_churn
FROM customer_data
TARGET 'Churn'
FUNCTION predict_churn
IAM_ROLE <span>{</span> default | 'arn:aws:iam::&lt;account-id&gt;:role/&lt;role-name&gt;' }
PROBLEM_TYPE BINARY_CLASSIFICATION
OBJECTIVE 'F1'
PREPROCESSORS '[
...
<span>{</span>"ColumnSet": [
    "t1",
    "t2"
  ],
  "Transformers": [
    "OneHotEncoder",
    "Imputer"
  ]
},
<span>{</span>"ColumnSet": [
    "t3"
  ],
  "Transformers": [
    "OneHotEncoder"
  ]
},
<span>{</span>"ColumnSet": [
    "temp"
  ],
  "Transformers": [
    "Imputer",
    "NumericPassthrough"
  ]
}
]'
SETTINGS (
S3_BUCKET 'bucket'
)</code></pre></dd></dl></div>
            <p>Amazon Redshift es compatible con los siguientes transformadores:</p>
            <div class="itemizedlist">

                 
                 
                 
                 
                 
                 
                 
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem"><p>OneHotEncoder: generalmente se utiliza para codificar un valor discreto en un vector binario con un valor distinto de cero. Este transformador es adecuado para muchos modelos de machine learning. </p></li><li class="listitem"><p>OrdinalEncoder: codifica valores discretos en un solo valor entero. Este transformador es adecuado para determinados modelos de machine learning, como MLP y Linear Learner. </p></li><li class="listitem"><p>NumericPassthrough: transmite la entrada como está al modelo.</p></li><li class="listitem"><p>Imputer: completa los valores que faltan y los valores que no son un número (Not a Number, NaN).</p></li><li class="listitem"><p>ImputerWithIndicator: completa los valores que faltan y los valores NaN. Este transformador también crea un indicador que señala si existen valores que faltaban o que se completaron.</p></li><li class="listitem"><p>Normalizer: normaliza los valores, lo que puede mejorar el rendimiento de muchos algoritmos de machine learning.</p></li><li class="listitem"><p>DateTimeVectorizer: crea una integración de vectores, que representa una columna de tipo de datos de fecha y hora que se puede utilizar en modelos de machine learning.</p></li><li class="listitem"><p>PCA: proyecta los datos en un espacio de dimensiones más pequeñas para reducir el número de características y, al mismo tiempo, conservar la mayor cantidad de información posible.</p></li><li class="listitem"><p>StandardScaler: estandariza las características mediante la eliminación de la media y el escalado a la varianza unitaria. </p></li><li class="listitem"><p>MinMax: transforma las características mediante el escalado de cada característica a un rango determinado.</p></li></ul></div>

            <p>Amazon Redshift ML almacena los transformadores formados y los aplica de forma automática como parte de la consulta de predicción. No es necesario especificarlos cuando se generan predicciones a partir del modelo. </p>
         
     
        <h2 id="r_auto_off_create_model">CREATE para modelos XGBoost con AUTO OFF</h2>
        <p>El comando AUTO OFF CREATE MODEL tiene objetivos generalmente diferentes a los del comando CREATE MODEL predeterminado.</p>
        <p>Como usuario avanzado que ya conoce el tipo de modelo que desea y los hiperparámetros que se utilizan para formar estos modelos, puede utilizar CREATE MODEL con AUTO OFF para desactivar la detección automática de CREATE MODEL de procesadores previos e hiperparámetros. Para ello, especifica de forma explícita el tipo de modelo. Actualmente, XGBoost es el único tipo de modelo compatible cuando AUTO está configurado como OFF. Puede especificar hiperparámetros. Amazon Redshift utiliza valores predeterminados para cualquier hiperparámetro que especifique. </p>

         
            <h3 id="r_auto_off-create-model-synposis">CREATE para modelos XGBoost con sintaxis AUTO OFF</h3>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">CREATE MODEL model_name
    FROM <span>{</span> <em>table_name</em> | (<em>select_statement</em> ) }
    TARGET <em>column_name</em>
    FUNCTION <em>function_name</em>
    IAM_ROLE <span>{</span> default }
    AUTO OFF
    MODEL_TYPE XGBOOST
    OBJECTIVE <span>{</span> 'reg:squarederror' | 'reg:squaredlogerror' | 'reg:logistic' |
                'reg:pseudohubererror' | 'reg:tweedie' | 'binary:logistic' | 'binary:hinge' |
                'multi:softmax' | 'rank:pairwise' | 'rank:ndcg' }
    HYPERPARAMETERS DEFAULT EXCEPT (
        NUM_ROUND '10',
        ETA '0.2',
        NUM_CLASS '10',
        (, ...)
    )
    PREPROCESSORS 'none'
    SETTINGS (
      S3_BUCKET 'bucket', |
      S3_GARBAGE_COLLECT <span>{</span> ON | OFF }, |
      KMS_KEY_ID 'kms_key_id', |
      MAX_CELLS integer, |
      MAX_RUNTIME integer (, ...)
    )   </code></pre>
         

         
            <h3 id="r_auto_off-create-model-parameters">CREATE para modelos XGBoost con parámetros AUTO OFF</h3>
            <div class="variablelist">
                 
                 
                 
                
                 
            <dl>
                    <dt><span class="term"> <em>AUTO OFF</em> </span></dt>
                    <dd>
                        <p>Desactiva la detección automática de CREATE MODEL de procesadores previos, algoritmos e hiperparámetros.</p>
                    </dd>
                 
                    <dt><span class="term">MODEL_TYPE XGBOOST</span></dt>
                    <dd>
                        <p>Especifica el uso de XGBOOST para formar el modelo. </p>
                    </dd>
                 
                    <dt><span class="term">OBJECTIVE str</span></dt>
                    <dd>
                        <p>Especifica un objetivo reconocido por el algoritmo. Amazon Redshift admite reg:squarederror, reg:squaredlogerror, reg:logistic, reg:pseudohubererror, reg:tweedie, binary:logistic, binary:hinge, multi:softmax. Para obtener más información acerca de estos objetivos, consulte <a href="https://xgboost.readthedocs.io/en/latest/parameter.html#learning-task-parameters" rel="noopener noreferrer" target="_blank"><span>Learning task parameters</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> en la documentación de XGBoost.</p>
                    </dd>
                 
                    <dt><span class="term">HYPERPARAMETERS <span>{</span> DEFAULT | DEFAULT EXCEPT ( key ‘value’ (,..) ) }</span></dt>
                    <dd>
                        <p>Especifica si los parámetros de XGBoost predeterminados se utilizan o se sustituyen con valores especificados por el usuario. Los valores deben ir entre comillas simples. Los siguientes son ejemplos de parámetros para XGBoost y sus valores predeterminados.</p>
                        <div class="table-container"><div class="table-contents"><table id="w319aac47b9c93c17b9b9b3b7b3b3"><thead>
                                    <tr>
                                        <th>Nombre del parámetro</th>
                                        <th>Valor del parámetro </th>
                                        <th>Valor predeterminado</th>
                                        <th>Notas</th>
                                    </tr>
                                </thead>
                                    <tr>
                                        <td tabindex="-1">
                                            <p>num_class</p>
                                        </td>
                                        <td tabindex="-1">Entero</td>
                                        <td tabindex="-1">
                                            <p>Es obligatorio para la clasificación multiclase.</p>
                                        </td>
                                        <td tabindex="-1">N/A</td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1">
                                            <p>num_round</p>
                                        </td>
                                        <td tabindex="-1">Entero</td>
                                        <td tabindex="-1">
                                            <p>100</p>
                                        </td>
                                        <td tabindex="-1">N/A</td>
                                    </tr>
                                    
                                    <tr>
                                        <td tabindex="-1">
                                            <p>tree_method</p>
                                        </td>
                                        <td tabindex="-1">Cadena</td>
                                        <td tabindex="-1">Auto</td>
                                        <td tabindex="-1">N/A</td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1">
                                            <p>max_depth</p>
                                        </td>
                                        <td tabindex="-1">Entero</td>
                                        <td tabindex="-1">6</td>
                                        <td tabindex="-1">[0, 10]</td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1">min_child_weight</td>
                                        <td tabindex="-1">Flotante</td>
                                        <td tabindex="-1">1</td>
                                        <td tabindex="-1">MinValue: 0, MaxValue: 120</td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1">subsample</td>
                                        <td tabindex="-1">Flotante</td>
                                        <td tabindex="-1">1</td>
                                        <td tabindex="-1">MinValue: 0,5, MaxValue: 1</td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1">gamma</td>
                                        <td tabindex="-1">Flotante</td>
                                        <td tabindex="-1">0</td>
                                        <td tabindex="-1">MinValue: 0, MaxValue: 5</td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1">alpha</td>
                                        <td tabindex="-1">Flotante</td>
                                        <td tabindex="-1">0</td>
                                        <td tabindex="-1">MinValue: 0, MaxValue: 1000</td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1">eta</td>
                                        <td tabindex="-1">Flotante</td>
                                        <td tabindex="-1">0.3</td>
                                        <td tabindex="-1">MinValue: 0,1, MaxValue: 0,5</td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1">colsample_byleve</td>
                                        <td tabindex="-1">Flotante</td>
                                        <td tabindex="-1">1</td>
                                        <td tabindex="-1">MinValue: 0,1, MaxValue: 1</td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1">colsample_bynode</td>
                                        <td tabindex="-1">Flotante</td>
                                        <td tabindex="-1">1</td>
                                        <td tabindex="-1">MinValue: 0,1, MaxValue: 1</td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1">colsample_bytree</td>
                                        <td tabindex="-1">Flotante</td>
                                        <td tabindex="-1">1</td>
                                        <td tabindex="-1">MinValue: 0,5, MaxValue: 1</td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1">lambda</td>
                                        <td tabindex="-1">Flotante</td>
                                        <td tabindex="-1">1</td>
                                        <td tabindex="-1">MinValue: 0, MaxValue: 1000</td>
                                    </tr>
                                    <tr>
                                        <td tabindex="-1">max_delta_step</td>
                                        <td tabindex="-1">Entero</td>
                                        <td tabindex="-1">0</td>
                                        <td tabindex="-1">[0, 10]</td>
                                    </tr>
                                </table></div></div>
                    </dd>
                </dl></div>

            <p>En el siguiente ejemplo, se preparan datos para XGBoost.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">DROP TABLE IF EXISTS abalone_xgb;

    CREATE TABLE abalone_xgb (
    length_val float,
    diameter float,
    height float,
    whole_weight float,
    shucked_weight float,
    viscera_weight float,
    shell_weight float,
    rings int,
    record_number int);

    COPY abalone_xgb
    FROM 's3://redshift-downloads/redshift-ml/abalone_xg/'
    REGION 'us-east-1'
    IAM_ROLE default
    IGNOREHEADER 1 CSV;</code></pre>
            <p>En el siguiente ejemplo, se crea un modelo XGBoost con las opciones avanzadas especificadas, como MODEL_TYPE, OBJECTIVE y PREPROCESSORS.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">DROP MODEL abalone_xgboost_multi_predict_age;

    CREATE MODEL abalone_xgboost_multi_predict_age
    FROM ( SELECT length_val,
                  diameter,
                  height,
                  whole_weight,
                  shucked_weight,
                  viscera_weight,
                  shell_weight,
                  rings
   FROM abalone_xgb WHERE record_number &lt; 2500 )
    TARGET rings FUNCTION ml_fn_abalone_xgboost_multi_predict_age
    IAM_ROLE default
    AUTO OFF
    MODEL_TYPE XGBOOST
    OBJECTIVE 'multi:softmax'
    PREPROCESSORS 'none'
    HYPERPARAMETERS DEFAULT EXCEPT (NUM_ROUND '100', NUM_CLASS '30')
    SETTINGS (S3_BUCKET 'your-bucket');</code></pre>
            <p>En el siguiente ejemplo, se utiliza una consulta de inferencia para predecir la edad del pez con un número de registro superior a 2500. Utiliza la función ml_fn_abalone_xgboost_multi_predict_age creada a partir del comando anterior. </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select ml_fn_abalone_xgboost_multi_predict_age(length_val,
                                                   diameter,
                                                   height,
                                                   whole_weight,
                                                   shucked_weight,
                                                   viscera_weight,
                                                   shell_weight)+1.5 as age
from abalone_xgb where record_number &gt; 2500;</code></pre>
         
     
        <h2 id="r_byom_create_model">Bring your own model (BYOM): inferencia local</h2>
        <p>Amazon Redshift ML admite el uso de Bring your own model (BYOM) para inferencias locales.</p>
        <p>A continuación, se resumen las opciones para la sintaxis de CREATE MODEL para BYOM. Puede utilizar un modelo formado fuera de Amazon Redshift con Amazon SageMaker para la inferencia local en la base de datos de Amazon Redshift.</p>

         
            <h3 id="r_local-create-model">Sintaxis de CREATE MODEL para inferencias locales </h3>
            <p>A continuación, se describe la sintaxis de CREATE MODEL para inferencias locales.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">CREATE MODEL <em>model_name</em>
    FROM (<em>'job_name'</em> | <em>'s3_path'</em> )
    FUNCTION <em>function_name</em> ( <em>data_type [, ...]</em> )
    RETURNS <em>data_type</em>
    IAM_ROLE <span>{</span> default }
    [ SETTINGS (
      S3_BUCKET <em>'bucket'</em>, | --required
      KMS_KEY_ID <em>'kms_string'</em>) --optional
    ];</code></pre>
            <p>‎Actualmente, Amazon Redshift solo admite modelos XGBoost, MLP y Linear Learner con formación previa para BYOM. Puede importar SageMaker Autopilot y modelos formados directamente en Amazon SageMaker para inferencias locales con esta ruta. </p>

             
                <h4 id="r_local-create-model-parameters">Parámetros de CREATE MODEL para inferencias locales</h4>
                <div class="variablelist">
                     
                     
                     
                     
                     
                     
                <dl>
                        <dt><span class="term"> <em>model_name</em> </span></dt>
                        <dd>
                            <p>El nombre del modelo. El nombre del modelo en un esquema debe ser único.</p>
                        </dd>
                     
                        <dt><span class="term">FROM (<em>'job_name'</em> | <em>'s3_path'</em> )</span></dt>
                        <dd>
                            <p>El parámetro <em>job_name</em> utiliza un nombre de trabajo de Amazon SageMaker como entrada. El nombre del trabajo puede ser el nombre de un trabajo de formación de Amazon SageMaker o el nombre de un trabajo de Amazon SageMaker Autopilot. El trabajo debe crearse en la misma cuenta de AWS propietaria del clúster de Amazon Redshift. Para encontrar el nombre del trabajo, inicie Amazon SageMaker. En el menú desplegable de <b>Training</b> (Formación), elija <b>Training jobs</b> (Trabajos de formación).</p>
                            <p>El parámetro <em>'s3_path'</em> especifica la ubicación de S3 del archivo de artefactos del modelo .tar.gz que se utilizará cuando se cree el modelo.</p>
                        </dd>
                     
                        <dt><span class="term">FUNCTION <em>function_name</em> ( <em>data_type</em> [, ...] )</span></dt>
                        <dd>
                            <p>Se trata del nombre de la función que se creará y los tipos de datos de los argumentos de entrada. Puede proporcionar un nombre de esquema.</p>
                        </dd>
                     
                        <dt><span class="term">RETURNS <em>data_type</em></span></dt>
                        <dd>
                            <p>El tipo de datos del valor que la función devuelve.</p>
                        </dd>
                     
                       <dt><span class="term">IAM_ROLE <span>{</span> default | 'arn:aws:iam::&lt;account-id&gt;:role/&lt;role-name&gt;'}</span></dt>
                        <dd>
                            <p> Utilice la palabra clave predeterminada para que Amazon Redshift utilice el rol de IAM configurado como predeterminado y asociado al clúster cuando se ejecuta el comando CREATE MODEL.</p>
                            <p>Utilice el nombre de recurso de Amazon (ARN), de un rol de IAM que el clúster utiliza para la autenticación y la autorización. </p>
                        </dd>
                     
                        <dt><span class="term">SETTINGS ( S3_BUCKET <em>'bucket'</em>, | KMS_KEY_ID <em>'kms_string'</em>)</span></dt>
                        <dd>
                            <p>La cláusula S3_BUCKET especifica la ubicación de Amazon S3 que se utiliza para almacenar resultados intermedios.</p>
                            <p>(Opcional) La cláusula KMS_KEY_ID especifica si Amazon Redshift utiliza cifrado del lado del servidor con una clave de AWS KMS para proteger los datos en reposo. Los datos en tránsito están protegidos con la capa de conexión segura (SSL).</p>
                            <p>Para obtener más información, consulte <a href="#r_user_guidance_create_model">CREATE MODEL con guía para el usuario</a>.</p>
                        </dd>
                    </dl></div>

             

             
                <h4 id="r_local-create-model-example">Ejemplo de CREATE MODEL para inferencias locales</h4>
                <p>En el siguiente ejemplo, se crea un modelo que se formó previamente en Amazon SageMaker, fuera de Amazon Redshift. Dado que Amazon Redshift ML admite el tipo de modelo para la inferencia local, el siguiente comando CREATE MODEL crea una función que se puede utilizar localmente en Amazon Redshift. Puede proporcionar el nombre de un trabajo de formación de SageMaker.</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">CREATE MODEL customer_churn
    FROM 'training-job-customer-churn-v4'
    FUNCTION customer_churn_predict (varchar, int, float, float)
    RETURNS int
    IAM_ROLE default
    SETTINGS (S3_BUCKET 'your-bucket');</code></pre>
                <p>Una vez que se creó el modelo, puede utilizar la función <em>customer_churn_predict</em> con los tipos de argumentos especificados para generar predicciones.</p>
             
         
     
          <h2 id="r_byom_create_model_remote">Bring your own model (BYOM): inferencia remota</h2>
          <p>Amazon Redshift ML también admite el uso de Bring your own model (BYOM) para inferencias remotas.</p>
          <p>A continuación, se resumen las opciones para la sintaxis de CREATE MODEL para BYOM.</p>
          <div class="awsdocs-note awsdocs-sticky-note awsdocs-warning"><div class="awsdocs-note-icon"><awsui-icon name="status-warning" variant="error"></awsui-icon></div><div class="awsdocs-note-text"><p><em><b>Esta es la versión preliminar de la documentación del tipo de datos SUPER para el tipo de entrada para los modelos BYOM en Amazon Redshift ML. Tanto la documentación como la característica quedan sujetas a cambios. Se recomienda utilizar esta característica solo con clústeres de prueba y no en entornos de producción. Para ver la versión preliminar de los términos y condiciones, consulte <em>Betas y versiones preliminares</em> en <a href="https://aws.amazon.com/service-terms/" rel="noopener noreferrer" target="_blank"><span>Términos de servicio de AWS</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. </b></em> </p></div></div>
          
          <p>Si especifica utilizar el tipo de datos SUPER como datos de entrada y el tipo de datos devuelto, indica que desea crear un modelo de lenguaje grande (LLM) alojado en Amazon Sagemaker JumpStart. Actualmente, la creación de LLM solo está disponible como característica de versión preliminar. Esta versión preliminar está disponible en las siguientes Regiones de AWS.</p>
          <div class="itemizedlist">
              
              
              
              
              
          <ul class="itemizedlist"><li class="listitem"><p>Este de EE. UU. (Ohio) (us-east-2)</p></li><li class="listitem"><p>Este de EE. UU. (Norte de Virginia) (us-east-1)</p></li><li class="listitem"><p>Asia-Pacífico (Tokio) (ap-northeast-1)</p></li><li class="listitem"><p>Europa (Irlanda) (eu-west-1)</p></li><li class="listitem"><p>Europa (Estocolmo) (eu-north-1)</p></li></ul></div>
          <p>Puede crear un clúster de Amazon Redshift en <b>versión preliminar</b> para probar las nuevas características de Amazon Redshift. No puede usar esas características en producción ni mover su clúster de <b>versión preliminar</b> a un clúster de producción o a un clúster de otra pista. Para conocer los términos y condiciones de las versiones preliminares, consulte <em>Betas y versiones preliminares</em> en <a href="https://aws.amazon.com/service-terms/" rel="noopener noreferrer" target="_blank"><span>Términos de servicio de AWS</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>            
            <div class="procedure"><h6>Para crear un clúster en <b>versión preliminar</b></h6><ol><li><p>Inicie sesión en la AWS Management Console y abra la consola de Amazon Redshift en <a href="https://console.aws.amazon.com/redshift/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/redshift/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p> </li><li><p>En el menú de navegación, elija <b>Provisioned clusters dashboard</b> (Panel de clústeres aprovisionados) y elija <b>Clusters</b> (Clústeres). Se enumeran los clústeres de su cuenta en la Región de AWS actual. Se muestra en la lista un subconjunto de propiedades de cada clúster en columnas.</p></li><li><p>Aparece un banner en la página de la lista <b>Clusters</b> (Clústeres) que presenta la versión preliminar. Elija el botón <b>Create preview cluster</b> (Crear clúster de versión preliminar para abrir la página de creación de clústeres.</p></li><li><p>Ingrese las propiedades del clúster. Elija en <b>Preview track</b> (Pista de versión preliminar) la pista de versión preliminar que contenga las características que desea probar. Le recomendamos que ingrese un nombre para el clúster que indique que se encuentra en una pista de versión preliminar. Elija las opciones de su clúster, incluidas las etiquetadas como <b>-preview</b> (-versión preliminar), para las características que desee probar. Para obtener más información sobre la creación de clústeres, consulte <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/managing-clusters-console.html#create-cluster">Creación de un clúster</a> en la <em>Guía de administración de clústeres de Amazon Redshift</em>.</p></li><li><p>Elija <b>Crear clúster de vista previa</b> para crear un clúster de vista previa.</p>
                       <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>La pista <code class="code">preview_2023</code> es la pista de versión preliminar más reciente disponible. Esta pista solo admite la creación de clústeres con tipos de nodo RA3. No se admiten los tipos de nodo DC2 y DS2 ni ningún tipo de nodo anterior.</p></div></div></li><li><p>Cuando el clúster de versión preliminar esté disponible, utilice su cliente de SQL para cargar y consultar datos.</p></li></ol></div>
          
          <p>También puede crear un grupo de trabajo de versión preliminar para crear un LLM. No puede utilizar estas características en producción ni trasladar su grupo de trabajo a otro grupo de trabajo. Para conocer la versión preliminar de los términos y condiciones, consulte Betas y versiones preliminares en <a href="https://aws.amazon.com/service-terms/" rel="noopener noreferrer" target="_blank"><span>Términos de servicio de AWS</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. Para obtener instrucciones sobre cómo crear una versión preliminar de un grupo de trabajo, consulte <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/serverless-workgroup-preview.html">Crear un grupo de trabajo de versión preliminar</a>.</p>
            
             
          
         
            <h3 id="r_remote-create-model">Sintaxis de CREATE MODEL para inferencias remotas </h3>
            <p>A continuación, se describe la sintaxis de CREATE MODEL para inferencias remotas.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">CREATE MODEL <em>model_name </em>
    FUNCTION <em>function_name</em> ( <em>data_type</em> [, ...] )
    RETURNS <em>data_type</em>
    SAGEMAKER <em>'endpoint_name'</em>[:<em>'model_name'</em>]
    IAM_ROLE <span>{</span> default | 'arn:aws:iam::&lt;account-id&gt;:role/&lt;role-name&gt;' }</code></pre>


             
                <h4 id="r_remote-create-model-parameters">Parámetros de CREATE MODEL para inferencias remotas</h4>
                <div class="variablelist">
                     
                     
                     
                     
                     
                <dl>
                        <dt><span class="term"> <em>model_name</em> </span></dt>
                        <dd>
                            <p>El nombre del modelo. El nombre del modelo en un esquema debe ser único.</p>
                        </dd>
                     
                        <dt><span class="term">FUNCTION <em>fn_name</em> ( [<em>data_type</em>] [, ...] )</span></dt>
                        <dd>
                           <p>Se trata del nombre de la función y los tipos de datos de los argumentos de entrada. Consulte <a href="https://docs.aws.amazon.com/redshift/latest/dg/c_Supported_data_types.html">Tipos de datos</a> para ver todos los tipos de datos compatibles. <code class="code">Geography</code>, <code class="code">geometry</code> y <code class="code">hllsketch</code> no son compatibles. Si especifica utilizar el tipo de datos SUPER como datos de entrada y el tipo de datos devuelto, indica que desea crear un modelo de lenguaje grande (LLM) alojado en Amazon Sagemaker JumpStart.</p>
                           <p>Como alternativa, puede especificar usar solo el tipo de datos SUPER como datos de entrada sin usarlo también como el tipo de datos de la devolución. El uso del tipo de datos SUPER como entrada solo está disponible como característica de vista previa.</p>
                           <p>También puede proporcionar un nombre de esquema en lugar de un nombre de función.</p>
                        </dd>
                     
                        <dt><span class="term">RETURNS <em>data_type</em></span></dt>
                        <dd>
                            <p>El tipo de datos del valor que la función devuelve. Consulte <a href="https://docs.aws.amazon.com/redshift/latest/dg/c_Supported_data_types.html">Tipos de datos</a> para ver todos los tipos de datos compatibles. <code class="code">Geography</code>, <code class="code">geometry</code> y <code class="code">hllsketch</code> no son compatibles. Si especifica utilizar el tipo de datos SUPER como datos de entrada y el tipo de datos devuelto, indica que desea crear un modelo de lenguaje grande (LLM) alojado en Amazon Sagemaker JumpStart.</p>
                           <p>Como alternativa, puede especificar usar solo el tipo de datos SUPER como tipo de datos de devolución sin usarlo también como datos de entrada.</p>
                        </dd>
                     
                        <dt><span class="term">SAGEMAKER <em>'endpoint_name'</em>[:<em>'model_name'</em>] </span></dt>
                        <dd>

                            <p>Se trata del nombre del punto de conexión de Amazon SageMaker. Si el nombre del punto de conexión apunta a un punto de conexión de múltiples modelos, agregue el nombre del modelo que se utilizará. El punto de conexión debe estar alojado en la misma región de AWS que el clúster de Amazon Redshift. Para buscar el punto de conexión, inicie Amazon SageMaker. En el menú desplegable de <b>Inference</b> (Inferencia), elija <b>Endpoints</b> (Puntos de conexión).</p>
                        </dd>
                     
                       <dt><span class="term">IAM_ROLE <span>{</span> default | 'arn:aws:iam::&lt;account-id&gt;:role/&lt;role-name&gt;'}</span></dt>
                        <dd>
                            <p> Utilice la palabra clave predeterminada para que Amazon Redshift utilice el rol de IAM configurado como predeterminado y asociado al clúster cuando se ejecuta el comando CREATE MODEL. También puede especificar el ARN de un rol de IAM para usar ese rol.</p>

                        </dd>
                    </dl></div>
                <p>Cuando el modelo se implementa en un punto de conexión de SageMaker, este servicio crea la información del modelo en Amazon Redshift. Luego, realiza la inferencia a través de la función externa. Puede utilizar el comando SHOW MODEL para ver la información del modelo en el clúster de Amazon Redshift.</p>
             
             
                <h4 id="r_remote-create-model-usage-notes">Notas de uso de CREATE MODEL para inferencias remotas</h4>
                <p>Antes de utilizar CREATE MODEL para inferencias remotas, tenga en cuenta lo siguiente:</p>
                <div class="itemizedlist">
                    
                     
   
                     
                     
                     
   
                     
                    
                    
                  
                   

                <ul class="itemizedlist"><li class="listitem">
                      <p>Los modelos BYOM solo admiten un argumento si se utiliza el tipo de datos SUPER como datos de entrada. Además, la salida devuelta también debe ser del tipo de datos SUPER.</p>
                   </li><li class="listitem"><p>El modelo debe aceptar entradas en formato de valores separados por comas (CSV) a través de un tipo de contenido de texto/CSV en SageMaker. Solo se aplica si no utiliza el tipo de datos SUPER como entrada.</p>
                    </li><li class="listitem">
                       <p>El punto de conexión debe estar alojado en la misma cuenta de AWS propietaria del clúster de Amazon Redshift.</p>
                    </li><li class="listitem">
                       <p>Las salidas de los modelos deben ser un único valor del tipo especificado en el momento de crear la función, en el formato de valores separados por comas (CSV) a través de un tipo de contenido de texto/CSV en SageMaker. Los tipos de datos Varchar no deben estar entre comillas y cada salida debe estar en una línea nueva. Solo se aplica si ha especificado que el modelo no debe devolver el tipo de datos SUPER. </p>
                    </li><li class="listitem">
                       <p>Los modelos aceptan valores nulos como cadenas vacías.</p>
                    </li><li class="listitem">
                       <p>Asegúrese de que el punto de conexión de Amazon SageMaker tenga suficientes recursos para admitir las llamadas de inferencia de Amazon Redshift o de que el punto de conexión de Amazon SageMaker se pueda escalar de forma automática.</p>
                    </li><li class="listitem">
                      <p>Si el tipo devuelto es SUPER, la salida del modelo debe ser JSON y el tipo de contenido <code class="code">application/jsonlines</code>.</p>
                   </li><li class="listitem">
                      <p>Si el tipo de entrada y de salida son SUPER, el modelo debe aceptar y devolver JSON a través del tipo de contenido <code class="code">application/json</code>.</p>
                   </li></ul></div>
                 
                    <h5 id="r_remote-create-model-example">Ejemplo de CREATE MODEL para inferencias remotas</h5>
                    <p>En el siguiente ejemplo, se crea un modelo que utiliza un punto de conexión de SageMaker para generar predicciones. Asegúrese de que el punto de conexión se esté ejecutando para generar predicciones y especifique su nombre en el comando CREATE MODEL.</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">CREATE MODEL remote_customer_churn
    FUNCTION remote_fn_customer_churn_predict (varchar, int, float, float)
    RETURNS int
    SAGEMAKER 'customer-churn-endpoint'
    IAM_ROLE default;</code></pre>
                   <p>El siguiente ejemplo crea un modelo de lenguaje grande (LLM) con el tipo de datos SUPER como datos de entrada y genera el tipo de datos SUPER. Los LLM se alojan en SageMaker Jumpstart. </p>
                   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE MODEL sample_super_data_model
FUNCTION sample_super_data_model_predict(super)
RETURNS super
SAGEMAKER 'sample_super_data_model_endpoint'
IAM_ROLE default;</code></pre>
                 
             
         
     
        <h2 id="r_k-means_create_model">CREATE MODEL con K-MEANS</h2>
        <p>Amazon Redshift admite el algoritmo K-Means que agrupa datos que no están etiquetados. Este algoritmo resuelve problemas en clústeres en los que desea descubrir agrupaciones en los datos. Los datos sin clasificar se agrupan y dividen en función de sus similitudes y diferencias. </p>

         
            <h3 id="r_k-means-create-model-synposis">CREATE MODEL con sintaxis K-MEANS</h3>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">CREATE MODEL model_name
    FROM <span>{</span> <em>table_name</em> | ( <em>select_statement</em> ) }
    FUNCTION <em>function_name</em>
    IAM_ROLE <span>{</span> default | 'arn:aws:iam::&lt;account-id&gt;:role/&lt;role-name&gt;' }
    AUTO OFF
    MODEL_TYPE KMEANS
    PREPROCESSORS 'string'
    HYPERPARAMETERS DEFAULT EXCEPT ( K 'val' [, ...] )
    SETTINGS (
      S3_BUCKET 'bucket',
      KMS_KEY_ID 'kms_string', |
        -- optional
      S3_GARBAGE_COLLECT on / off, |
        -- optional
      MAX_CELLS integer, |
        -- optional
      MAX_RUNTIME integer
        -- optional);</code></pre>

         
         
            <h3 id="r_k-means-create-model-parameters">CREATE MODEL con parámetros K-MEANS</h3>
            <div class="variablelist">
                 
                 
                 
                 
            <dl>
                    <dt><span class="term"> <em>AUTO OFF</em> </span></dt>
                    <dd>
                        <p>Desactiva la detección automática de CREATE MODEL de procesadores previos, algoritmos e hiperparámetros.</p>
                    </dd>
                 
                    <dt><span class="term">MODEL_TYPE KMEANS</span></dt>
                    <dd>
                        <p>Especifica el uso de KMEANS para formar el modelo. </p>
                    </dd>
                 
                    <dt><span class="term">PREPROCESSORS 'string'</span></dt>
                    <dd>
                        <p>Especifica ciertas combinaciones de procesadores previos para determinados conjuntos de columnas. El formato es una lista de columnSets y las transformaciones adecuadas que se aplicarán a cada conjunto de columnas. Amazon Redshift admite 3 procesadores previos de K-Means, a saber, StandardScaler, MinMax y NumericPassthrough. Si no desea aplicar ningún procesamiento previo para K-Means, elija NumericPassthrough explícitamente como transformador. Para obtener más información sobre cómo usar los transformadores admitidos, consulte <a href="#r_user_guidance-create-model-parameters">CREATE MODEL con parámetros de guía para el usuario</a>.</p>
                        <p>El algoritmo K-Means utiliza la distancia euclidiana para calcular la similitud. El procesamiento previo de los datos garantiza que las características del modelo se mantengan a la misma escala y produzcan resultados confiables.</p>
                    </dd>
                 
                    <dt><span class="term">HYPERPARAMETERS DEFAULT EXCEPT ( K 'val' [, ...] )</span></dt>
                    <dd>
                        <p>Especifica si se utilizan los parámetros K-Means. Cuando se utiliza el algoritmo K-Means debe especificar el parámetro <code class="code">K</code>. Para obtener más información, consulte <a href="https://docs.aws.amazon.com/sagemaker/latest/dg/k-means-api-config.html">Hiperparámetros de K-Means</a> en la <em>Guía para el desarrollador de Amazon SageMaker</em></p>
                    </dd>
                </dl></div>

            <p>En el siguiente ejemplo, se preparan datos para K-Means.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE MODEL customers_clusters
FROM customers
FUNCTION customers_cluster
IAM_ROLE default
AUTO OFF
MODEL_TYPE KMEANS
PREPROCESSORS '[
<span>{</span>
  "ColumnSet": [ "*" ],
  "Transformers": [ "NumericPassthrough" ]
}
]'
HYPERPARAMETERS DEFAULT EXCEPT ( K '5' )
SETTINGS (S3_BUCKET 'bucket');

select customer_id, customers_cluster(...) from customers;
customer_id | customers_cluster
--------------------
12345            1
12346            2
12347            4
12348            0</code></pre>

         
     
       <h2 id="r_forecast_model">CREATE MODEL con Forecast</h2>
       <p>Los modelos de previsión de Redshift ML utilizan Amazon Forecast para crear previsiones de series temporales precisas. Esto le permite utilizar datos históricos de un periodo de tiempo para hacer predicciones sobre eventos futuros. Los casos de uso comunes de Amazon Forecast incluyen el uso de datos de productos minoristas para decidir el precio del inventario, los datos de cantidades de fabricación para predecir la cantidad de un artículo que se debe pedir y los datos de tráfico web para la previsión de la cantidad de tráfico que es posible que reciba un servidor web. </p>
       <p> <a href="https://docs.aws.amazon.com/forecast/latest/dg/limits.html">Los límites de cuota de Amazon Forecast</a> se aplican a los modelos de previsión de Amazon Redshift. Por ejemplo, el número máximo de previsiones es 100, pero es ajustable. Al eliminar un modelo de previsión, no se eliminan automáticamente los recursos asociados en Amazon Forecast. Si elimina un clúster de Redshift, también se eliminarán todos los modelos asociados. </p>
       <p>Tenga en cuenta que los modelos de previsión actualmente solo están disponibles en las siguientes regiones:</p>
       <div class="itemizedlist">
           
           
           
          
           
           
           
           
           
          
           
           
       <ul class="itemizedlist"><li class="listitem"><p>Este de EE. UU. (Ohio) (us-east-2)</p></li><li class="listitem"><p>Este de EE. UU. (Norte de Virginia) (us-east-1)</p></li><li class="listitem"><p>Oeste de EE. UU. (Oregón) (us-west-2)</p></li><li class="listitem"><p>Asia Pacífico (Bombay) (ap-south-1)</p></li><li class="listitem"><p>Asia-Pacífico (Seúl) (ap-northeast-2)</p></li><li class="listitem"><p>Asia-Pacífico (Singapur) (ap-southeast-1)</p></li><li class="listitem"><p>Asia-Pacífico (Sídney) (ap-southeast-2)</p></li><li class="listitem"><p>Asia-Pacífico (Tokio) (ap-northeast-1)</p></li><li class="listitem"><p>Europa (Fráncfort) (eu-central-1)</p></li><li class="listitem"><p>Europa (Irlanda) (eu-west-1)</p></li></ul></div>
        
          <h3 id="r_forecast_model-synopsis">CREATE MODEL con sintaxis de Forecast</h3>
          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">CREATE [ OR REPLACE ] MODEL forecast_model_name 
FROM <span>{</span> table_name | ( select_query ) } 
TARGET column_name
IAM_ROLE <span>{</span> default | 'arn:aws:iam::&lt;account-id&gt;:role/&lt;role-name&gt;'} 
AUTO ON
MODEL_TYPE FORECAST
SETTINGS (
  S3_BUCKET 'bucket',
  HORIZON integer,
  FREQUENCY forecast_frequency
  [PERCENTILES '0.1', '0.5', '0.9']</code></pre>
        
        
          <h3 id="r_forecast_model-parameters">CREATE MODEL con parámetros de Forecast</h3>
          <div class="variablelist">
              
              
              
              
              
              
              
              
              
              
          <dl>
                <dt><span class="term"> <em>forecast_model_name</em> </span></dt>
                <dd>
                   <p>El nombre del modelo. El nombre del modelo debe ser único.</p>
                </dd>
              
                <dt><span class="term">FROM <span>{</span> table_name | ( select_query ) }</span></dt>
                <dd>
                   <p>Se trata del nombre de la tabla o la consulta que especifica los datos de formación. Esto puede ser una tabla existente en el sistema o una consulta SELECT compatible con Amazon Redshift entre paréntesis. El resultado de la tabla o consulta debe tener al menos tres columnas: (1) una columna varchar que especifique el nombre de la serie temporal. Cada conjunto de datos puede tener varias series temporales; (2) una columna de fecha y hora; y (3) la columna de destino para predecir. Esta columna de destino debe ser int o flotante. Si proporciona un conjunto de datos que tiene más de tres columnas, Amazon Redshift asume que todas las columnas adicionales forman parte de una serie temporal relacionada. Tenga en cuenta que las series temporales relacionadas deben ser de tipo int o flotante. Para obtener más información sobre series temporales relacionadas, consulte <a href="https://docs.aws.amazon.com/forecast/latest/dg/related-time-series-datasets.html">Uso de conjuntos de datos de series temporales relacionadas</a>.</p>
                </dd>
              
                <dt><span class="term">TARGET column_name</span></dt>
                <dd>
                   <p>Se trata del nombre de la columna que se convierte en el objetivo de predicción. La columna debe existir en la cláusula FROM.</p>
                </dd>
              
                <dt><span class="term">IAM_ROLE <span>{</span> default | 'arn:aws:iam::&lt;account-id&gt;:role/&lt;role-name&gt;' }</span></dt>
                <dd>
                   <p>Utilice la palabra clave predeterminada para que Amazon Redshift utilice el rol de IAM configurado como predeterminado y asociado al clúster cuando se ejecuta el comando CREAT MODEL. También puede especificar un ARN de un rol de IAM para usar ese rol. </p>
                </dd>
              
                <dt><span class="term">AUTO ON</span></dt>
                <dd>
                   <p>Activa la detección automática de CREATE MODEL del algoritmo y de la selección de hiperparámetros. Si especifica esta opción al crear un modelo de previsión, se debe utilizar un AutoPredictor de previsión, en el que Amazon Forecast aplica las combinaciones óptimas de algoritmos a cada serie temporal del conjunto de datos.</p>
                </dd>
              
                <dt><span class="term">MODEL_TYPE FORECAST</span></dt>
                <dd>
                   <p>Especifica el uso de FORECAST para formar el modelo.</p>
                </dd>
              
                <dt><span class="term">S3_BUCKET 'bucket'</span></dt>
                <dd>
                   <p>Se trata del nombre del bucket de Amazon Simple Storage Service que creó anteriormente y que se utiliza para compartir datos de formación y artefactos entre Amazon Redshift y Amazon Forecast. Amazon Redshift crea una subcarpeta en este bucket antes de descargar los datos de formación. Una vez que se completa la formación, Amazon Redshift elimina la subcarpeta creada y su contenido.</p>
                </dd>
              
                <dt><span class="term">HORIZON integer</span></dt>
                <dd>
                   <p>El número máximo de predicciones que puede devolver el modelo de previsión. Una vez que el modelo esté formado, no podrá cambiar este entero.</p>
                </dd>
              
                <dt><span class="term">FREQUENCY forecast_frequency</span></dt>
                <dd>
                   <p>Especifica el nivel de detalle que desea que tengan las previsiones. Las opciones disponibles son <code class="code">Y | M | W | D | H | 30min | 15min | 10min | 5min | 1min</code>. Obligatorio si se entrena un modelo de previsión.</p>
                </dd>
              
                <dt><span class="term">Cadena de PERCENTILES</span></dt>
                <dd>
                   <p>Es una cadena delimitada por comas que especifica los tipos de previsión que se utilizan para entrenar un predictor. Los tipos de previsión pueden ser cuantiles de 0,01 a 0,99, por incrementos de 0,01 o más. También puede especificar la previsión media con la media. Puede especificar un máximo de cinco tipos de previsión.</p>
                </dd>
             </dl></div>
          <p>En el siguiente ejemplo se muestra cómo crear un modelo de previsión sencillo.</p>
          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">CREATE MODEL forecast_example
FROM forecast_electricity_
TARGET target 
IAM_ROLE 'arn:aws:iam::&lt;account-id&gt;:role/&lt;role-name&gt;'
AUTO ON 
MODEL_TYPE FORECAST
SETTINGS (S3_BUCKET 'redshift-ml-bucket',
          HORIZON 24,
          FREQUENCY 'H',
          PERCENTILES '0.25,0.50,0.75,mean',
          S3_GARBAGE_COLLECT OFF);</code></pre>
          
          <p>Tras crear el modelo de previsión, puede crear una tabla nueva con los datos de predicción.</p>
          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE TABLE forecast_model_results as SELECT Forecast(forecast_example)</code></pre>
          
          <p>A continuación, puede consultar la nueva tabla para obtener predicciones.</p>
          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT * FROM forecast_model_results</code></pre>
        
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Aviso" /> <strong>JavaScript está desactivado o no está disponible en su navegador.</strong></p><p>Para utilizar la documentación de AWS, debe estar habilitado JavaScript. Para obtener más información, consulte las páginas de ayuda de su navegador.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenciones del documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_create_model_usage_notes.html">Notas de uso</div><div id="next" class="next-link" accesskey="n" href="./r_CREATE_PROCEDURE.html">CREATE PROCEDURE</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - Sí</div><div class="content"><p>Gracias por hacernos saber que estamos haciendo un buen trabajo.</p><p>Si tiene un momento, díganos qué es lo que le ha gustado para que podamos seguir trabajando en esa línea.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_create_model_use_cases.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - No</div><div class="content"><p>Gracias por informarnos de que debemos trabajar en esta página. Lamentamos haberle defraudado.</p><p>Si tiene un momento, díganos cómo podemos mejorar la documentación.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_create_model_use_cases.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>