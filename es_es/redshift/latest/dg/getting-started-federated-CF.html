<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="es-ES"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Introducción al uso de consultas federadas en PostgreSQL con AWS CloudFormation - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="getting-started-federated-CF" /><meta name="default_state" content="getting-started-federated-CF" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/getting-started-federated-CF.html" /><meta name="description" content="Automatice la configuración de consultas federadas en Amazon Redshift mediante el uso de una pila de AWS CloudFormation." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guía para desarrolladores de bases de datos" /><meta name="abstract" content="Cree y administre un almacenamiento de datos con Amazon Redshift, un servicio de almacenamiento de datos completamente administrado a escala de petabytes de nivel empresarial." /><meta name="guide-locale" content="es_es" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/getting-started-federated-CF.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/getting-started-federated-CF.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/getting-started-federated-CF.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/getting-started-federated-CF.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/getting-started-federated-CF.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/getting-started-federated-CF.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/getting-started-federated-CF.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/getting-started-federated-CF.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/getting-started-federated-CF.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/getting-started-federated-CF.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/getting-started-federated-CF.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/getting-started-federated-CF.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/getting-started-federated-CF.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/getting-started-federated-CF.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/getting-started-federated-CF.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/getting-started-federated-CF.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/getting-started-federated-CF.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/getting-started-federated-CF.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/getting-started-federated-CF.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/getting-started-federated-CF.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/getting-started-federated-CF.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/getting-started-federated-CF.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guía para desarrolladores de bases de datos" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guía para desarrolladores de bases de datos" /><meta id="panorama-serviceConsolePage" value="Introducción al uso de consultas federadas en PostgreSQL con AWS CloudFormation" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Introducción al uso de consultas federadas en PostgreSQL con AWS CloudFormation - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#getting-started-federated-CF" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/getting-started-federated-CF.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/getting-started-federated-CF.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/getting-started-federated-CF.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,Clúster,almacenamiento de datos,desarrollador,datos de ejemplo,base de datos,desarrollador de base de datos,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guía para desarrolladores de bases de datos",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Consulta de datos con consultas federadas en Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/federated-overview.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Introducción al uso de consultas federadas en PostgreSQL con AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/federated-overview.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#getting-started-federated-CF" target="_blank" rel="noopener noreferrer" title="Abrir PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentación</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guía para desarrolladores de bases de datos</a></div><div id="page-toc-src"><a href="#getting-started-federated-CF-stack">Lanzamiento de una pila de CloudFormation para las consultas federadas de Redshift</a><a href="#getting-started-federated-CF-stack-query">Consulta de datos desde el esquema externo</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="getting-started-federated-CF">Introducción al uso de consultas federadas en PostgreSQL con AWS CloudFormation</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Puede utilizar consultas federadas para realizar consultas en bases de datos operativas. En esta guía de introducción, puede automatizar la configuración mediante una pila de AWS CloudFormation de muestra para habilitar una consulta federada desde un clúster de Amazon Redshift hacia una base de datos sin servidor de Aurora PostgreSQL. Puede ponerse en marcha rápidamente sin tener que ejecutar instrucciones SQL para aprovisionar sus recursos.</p><p>La pila crea un esquema externo que hace referencia a la instancia de Aurora PostgreSQL, que incluye tablas con datos de muestra. Puede consultar tablas del esquema externo desde el clúster de Redshift.</p><p>Si desea en cambio empezar a utilizar las consultas federadas ejecutando instrucciones SQL para configurar un esquema externo sin utilizar CloudFormation, consulte <a href="./getting-started-federated.html">Introducción al uso de consultas federadas en PostgreSQL</a>.</p><p>Antes de ejecutar la pila de CloudFormation para las consultas federadas, asegúrese de tener una base de datos sin servidor de la Edición compatible con PostgreSQL de Amazon Aurora con la API de datos activada. Puede activar la API de datos en las propiedades de la base de datos. Si no puede encontrar la configuración, verifique bien que está ejecutando una instancia sin servidor de Aurora PostgreSQL. Asegúrese también de tener un clúster de Amazon Redshift que utilice nodos RA3. Se recomienda que tanto el clúster de Redshift como la instancia sin servidor de Aurora PostgreSQL se encuentren en la misma nube virtual privada y el mismo grupo de subredes. De esta manera, puede agregar el grupo de seguridad para el clúster de Amazon Redshift a las reglas de entrada del grupo de seguridad de la instancia de base de datos de Aurora PostgreSQL.</p><p>Para obtener más información acerca de cómo empezar a configurar un clúster de Amazon Redshift, consulte <a href="https://docs.aws.amazon.com/redshift/latest/gsg/getting-started.html">Introducción a Amazon Redshift</a>. Para obtener más información acerca de cómo configurar recursos con CloudFormation, consulte <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/Welcome.html">¿Qué es AWS CloudFormation?</a> Para obtener más información acerca de cómo configurar una base de datos de Aurora, consulte <a href="https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/aurora-serverless.create.html">Creación de un clúster de base de datos de Aurora Serverless v1</a>.</p>
         <h2 id="getting-started-federated-CF-stack">Lanzamiento de una pila de CloudFormation para las consultas federadas de Redshift</h2>
         <p>Utilice el siguiente procedimiento para lanzar la pila de CloudFormation para Amazon Redshift con el objetivo de habilitar las consultas federadas. Antes de hacerlo, asegúrese de tener configurados el clúster de Amazon Redshift y la instancia sin servidor de Aurora PostgreSQL.</p>
         
         
         <div class="procedure"><h6>Para lanzar una pila de CloudFormation para las consultas federadas</h6><ol><li><p>Haga clic aquí en <a href="https://console.aws.amazon.com/cloudformation/home?#/stacks/new?stackName=FederatedQuery&amp;templateURL=https://s3.amazonaws.com/redshift-downloads/docs-downloads/FederatedQuery.yml" rel="noopener noreferrer" target="_blank"><span><b>Launch CFN stack</b></span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> (Lanzar pila de CFN) para lanzar el servicio CloudFormation en la AWS Management Console. </p>
               <p>Si se le solicita, inicie sesión.</p>
               <p>El proceso de creación de la pila se inicia si hace referencia a un archivo de plantilla de CloudFormation que se almacena en Amazon S3. Una <em>plantilla</em> de CloudFormation es un archivo de texto en formato JSON que establece los recursos de AWS que componen una pila. </p></li><li><p>Elija <b>Next</b> (Siguiente) para ingresar los detalles de la pila.</p></li><li>
               <p>En <b>Parameters</b> (Parámetros), para el clúster, ingrese lo siguiente:</p>
               
               <div class="itemizedlist">
                   
                   
                   
               <ul class="itemizedlist"><li class="listitem">
                     <p>el nombre del clúster de Amazon Redshift, por ejemplo, <code class="userinput">ra3-consumer-cluster</code></p>
                  </li><li class="listitem">
                     <p>un nombre de base de datos específico; por ejemplo, <code class="userinput">dev</code></p>
                  </li><li class="listitem">
                     <p>el nombre de un usuario de base de datos, por ejemplo, <code class="userinput">consumeruser</code></p>
                  </li></ul></div>
               <p>También ingrese los parámetros de la base de datos de Aurora, incluidos el usuario, el nombre de la base de datos, el puerto y el punto de enlace. Recomendamos utilizar un clúster de prueba y una base de datos sin servidor de prueba porque la pila crea varios objetos de base de datos.</p>
               <p>Elija <b>Next</b> (Siguiente). </p>
               <p>Aparecerán las opciones de la pila. </p></li><li><p>Elija <b>Next</b> (Siguiente) para aceptar la configuración predeterminada.</p></li><li><p>En <b>Capabilities</b> (Capacidades), elija <b>I acknowledge that AWS CloudFormation might create IAM resources</b> (Confirmo que AWS CloudFormation puede crear recursos de IAM).</p></li><li><p>Seleccione <b>Crear pila</b>. </p></li></ol></div>

         <p>Seleccione <b>Crear pila</b>. CloudFormation aprovisiona los recursos de la plantilla, proceso que demora unos 10 minutos, y crea un esquema externo.</p>
         
         
         <p>Si se produce un error durante la creación de la pila, haga lo que se indica a continuación:</p>
         <div class="itemizedlist">
             
             
             
             
         <ul class="itemizedlist"><li class="listitem"><p>Consulte la pestaña <b>Events</b> (Eventos) de CloudFormation para obtener información que pueda serle de utilidad para resolver el error.</p></li><li class="listitem"><p>Asegúrese de haber ingresado el nombre correcto, el nombre de la base de datos y el nombre del usuario de la base de datos para el clúster de Redshift. Compruebe también los parámetros de la instancia de Aurora PostgreSQL.</p></li><li class="listitem"><p>Asegúrese de que el clúster tenga nodos RA3.</p></li><li class="listitem"><p>Asegúrese de que la base de datos y el clúster de Redshift estén en la misma subred y el mismo grupo de seguridad.</p></li></ul></div>
       
         <h2 id="getting-started-federated-CF-stack-query">Consulta de datos desde el esquema externo</h2>
     
         <p>Para utilizar el siguiente procedimiento, asegúrese de tener los permisos necesarios para ejecutar consultas en el clúster y la base de datos descritos.</p>
         
         <div class="procedure"><h6>Para consultar una base de datos externa con las consultas federadas</h6><ol><li><p>Conéctese a la base de datos de Redshift que ingresó cuando creó la pila por medio de una herramienta de cliente, como el editor de consultas de Redshift. </p></li><li><p>Consulta del esquema externo creado por la pila</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select * from svv_external_schemas;</code></pre>
               <p>La vista <a href="./r_SVV_EXTERNAL_SCHEMAS.html">SVV_EXTERNAL_SCHEMAS</a> devuelve información sobre los esquemas externos disponibles. En este caso, se devuelve el esquema externo creado por la pila, <code class="code">myfederated_schema</code>. Es posible que también se devuelvan otros esquemas externos si tiene alguno configurado. La vista también devuelve la base de datos asociada del esquema. La base de datos es la base de datos de Aurora que ingresó cuando creó la pila. La pila agrega una tabla a la base de datos de Aurora, llamada <code class="code">category</code>, y otra tabla llamada <code class="code">sales</code>.</p>
            </li><li>
               <p>Ejecute consultas de SQL en las tablas del esquema externo que hace referencia a la base de datos de Aurora PostgreSQL. En el siguiente ejemplo, se muestra una consulta.</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT count(*) FROM myfederated_schema.category;</code></pre>
               <p>La tabla <code class="code">category</code> devuelve varios registros. También puede devolver registros desde la tabla <code class="code">sales</code>.</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT count(*) FROM myfederated_schema.sales;</code></pre>
               <p>Para obtener más ejemplos, consulte <a href="./federated_query_example.html">Ejemplos de uso de una consulta federada</a>.</p>
            </li></ol></div>
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Aviso" /> <strong>JavaScript está desactivado o no está disponible en su navegador.</strong></p><p>Para utilizar la documentación de AWS, debe estar habilitado JavaScript. Para obtener más información, consulte las páginas de ayuda de su navegador.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenciones del documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./getting-started-federated.html">Introducción al uso de consultas federadas en PostgreSQL</div><div id="next" class="next-link" accesskey="n" href="./getting-started-federated-mysql.html">Introducción al uso de consultas federadas en MySQL</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - Sí</div><div class="content"><p>Gracias por hacernos saber que estamos haciendo un buen trabajo.</p><p>Si tiene un momento, díganos qué es lo que le ha gustado para que podamos seguir trabajando en esa línea.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/getting-started-federated-CF.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - No</div><div class="content"><p>Gracias por informarnos de que debemos trabajar en esta página. Lamentamos haberle defraudado.</p><p>Si tiene un momento, díganos cómo podemos mejorar la documentación.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/getting-started-federated-CF.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>