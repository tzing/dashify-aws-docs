<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="es-ES"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Solución de problemas de consultas - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="queries-troubleshooting" /><meta name="default_state" content="queries-troubleshooting" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/queries-troubleshooting.html" /><meta name="description" content="En esta sección, se proporciona una referencia rápida para identificar y abordar algunos de los problemas más frecuentes y graves que posiblemente enfrente con las consultas de Amazon Redshift." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guía para desarrolladores de bases de datos" /><meta name="abstract" content="Cree y administre un almacenamiento de datos con Amazon Redshift, un servicio de almacenamiento de datos completamente administrado a escala de petabytes de nivel empresarial." /><meta name="guide-locale" content="es_es" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/queries-troubleshooting.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/queries-troubleshooting.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/queries-troubleshooting.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/queries-troubleshooting.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/queries-troubleshooting.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/queries-troubleshooting.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/queries-troubleshooting.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/queries-troubleshooting.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/queries-troubleshooting.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/queries-troubleshooting.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/queries-troubleshooting.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/queries-troubleshooting.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/queries-troubleshooting.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/queries-troubleshooting.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/queries-troubleshooting.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/queries-troubleshooting.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/queries-troubleshooting.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/queries-troubleshooting.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/queries-troubleshooting.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/queries-troubleshooting.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/queries-troubleshooting.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/queries-troubleshooting.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guía para desarrolladores de bases de datos" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guía para desarrolladores de bases de datos" /><meta id="panorama-serviceConsolePage" value="Solución de problemas de consultas" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Solución de problemas de consultas - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#queries-troubleshooting" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/queries-troubleshooting.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/queries-troubleshooting.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/queries-troubleshooting.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,Clúster,almacenamiento de datos,desarrollador,datos de ejemplo,base de datos,desarrollador de base de datos,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guía para desarrolladores de bases de datos",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "‎‎‎‎Ajuste del rendimiento de las consul‎tas‎",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/c-optimizing-query-performance.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Solución de problemas de consultas",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/c-optimizing-query-performance.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#queries-troubleshooting" target="_blank" rel="noopener noreferrer" title="Abrir PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentación</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guía para desarrolladores de bases de datos</a></div><div id="page-toc-src"><a href="#queries-troubleshooting-connection-fails">Error en la conexión</a><a href="#queries-troubleshooting-query-hangs">Falta de respuesta de la consulta</a><a href="#queries-troubleshooting-query-takes-too-long">Tiempo de ejecución de consulta demasiado largo</a><a href="#queries-troubleshooting-load-fails">Error en la carga</a><a href="#queries-troubleshooting-load-takes-too-long">Tiempo de carga excesivo</a><a href="#queries-troubleshooting-load-data-incorrect">Datos de carga incorrectos</a><a href="#set-the-JDBC-fetch-size-parameter">Configuración del parámetro de tamaño de búsqueda de la JDBC</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="queries-troubleshooting">Solución de problemas de consultas</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>En esta sección, se proporciona una referencia rápida para identificar y abordar algunos de los problemas más frecuentes y graves que posiblemente enfrente con las consultas de Amazon Redshift.</p><div class="highlights" id="inline-topiclist"><h6>Temas</h6><ul><li><a href="#queries-troubleshooting-connection-fails">Error en la conexión</a></li><li><a href="#queries-troubleshooting-query-hangs">Falta de respuesta de la consulta</a></li><li><a href="#queries-troubleshooting-query-takes-too-long">Tiempo de ejecución de consulta demasiado largo</a></li><li><a href="#queries-troubleshooting-load-fails">Error en la carga</a></li><li><a href="#queries-troubleshooting-load-takes-too-long">Tiempo de carga excesivo</a></li><li><a href="#queries-troubleshooting-load-data-incorrect">Datos de carga incorrectos</a></li><li><a href="#set-the-JDBC-fetch-size-parameter">Configuración del parámetro de tamaño de búsqueda de la JDBC</a></li></ul></div><p>Estas sugerencias le dan una idea inicial para solucionar problemas. También puede consultar los siguientes recursos para obtener información más detallada.</p><div class="itemizedlist">
          
      <ul class="itemizedlist"><li class="listitem">
            <p><a href="https://docs.aws.amazon.com/redshift/latest/mgmt/using-rs-tools.html">Acceso a las bases de datos y los clústeres de Amazon Redshift</a></p>
         </li></ul></div><div class="itemizedlist">
          
      <ul class="itemizedlist"><li class="listitem">
            <p><a href="./t_Creating_tables.html">Uso de la optimización automática de tablas</a></p>
         </li></ul></div><div class="itemizedlist">
          
      <ul class="itemizedlist"><li class="listitem">
            <p><a href="./t_Loading_data.html">Carga de datos</a></p>
         </li></ul></div><div class="itemizedlist">
          
      <ul class="itemizedlist"><li class="listitem">
            <p><a href="./tutorial-loading-data.html">Tutorial: Carga de datos desde Amazon S3</a></p>
         </li></ul></div><h2 id="queries-troubleshooting-connection-fails">Error en la conexión</h2>
         
         <p>Su conexión a la consulta puede fallar por los motivos a continuación. Le sugerimos probar los siguientes métodos de solución de problemas.</p>
          
            <h6>El cliente no puedes conectarse al servidor</h6>
            <p>Si está usando certificados SSL o de servidor, primero elimine esta complejidad mientras solucione el problema de conexión. Luego, vuelva a añadir una SSL o certificados del servidor cuando haya encontrado una solución. Para obtener más información, consulte <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/connecting-ssl-support.html">Configuración de las opciones de seguridad para las conexiones</a> en la <em>Guía de administración de Amazon Redshift.</em></p>
          
          
            <h6>Conexión rechazada</h6>
            <p>Por lo general, cuando recibe un mensaje de error que le indica que hay un error para establecer una conexión significa que hay un problema con el permiso para obtener acceso al clúster. Para obtener más información, consulte <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/connecting-refusal-failure-issues.html">Errores o rechazos en la conexión</a> en la <em>Guía de administración de Amazon Redshift.</em> </p>
          
      <h2 id="queries-troubleshooting-query-hangs">Falta de respuesta de la consulta</h2>
         
         <p>Su consulta puede dejar de responder por los siguientes motivos. Le sugerimos probar los siguientes métodos de solución de problemas.</p>
          
            <h6>Conexión interrumpida con la base de datos</h6>
            <p>Reduzca el tamaño de la Maximum Transmission Unit (MTU, Unidad de transmisión máxima). El tamaño de la MTU determina el tamaño máximo, en bytes, de un paquete que puede ser transferido en una trama Ethernet desde su conexión de red. Para obtener más información, consulte <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/connecting-drop-issues.html">Conexión con la base de datos interrumpida</a> en la <em>Guía de administración de Amazon Redshift.</em> </p>
          
          
            <h6>Tiempo de espera de la conexión con la base de datos agotado</h6>
            <p>Su conexión cliente a la base de datos parece que dejó de funcionar o que superó el tiempo de espera mientras ejecutaba consultas largas, como un comando COPY. En este caso, es posible que observe que la consola de Amazon Redshift muestra que se ha completado la consulta, pero, aparentemente, la propia herramienta cliente sigue ejecutando la consulta. Los resultados de la consulta podrían ser que falta procesar o que está incompleta según cuándo se haya detenido la conexión. Este efecto ocurre cuando un componente intermediario de la red detiene las conexiones inactivas. Para obtener más información, consulte <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/connecting-firewall-guidance.html">Problema con el tiempo de espera del firewall</a> en la <em>Guía de administración de Amazon Redshift.</em> </p>
          
          
            <h6>Error de memoria insuficiente del cliente con ODBC</h6>
            <p>Si su aplicación cliente utiliza una conexión Open Database Connectivity (ODBC, Conectividad de base de datos abierta) y su consulta crea un conjunto de resultados que es demasiado grande para entrar en la memoria, puede transmitir el conjunto de resultados a su aplicación cliente por medio del cursor. Para más información, consulte <a href="./declare.html">DECLARE</a> y <a href="./declare.html#declare-performance">Consideraciones acerca del rendimiento cuando se utilizan cursores</a>.</p>
          
          
            <h6>Error de memoria insuficiente del cliente con JDBC</h6>
            <p>Cuando intenta recuperar grandes conjuntos de resultados con una conexión Java Database Connectivity (JDBC, Conectividad de base de datos Java), es posible que haya errores de memoria insuficiente del cliente. Para obtener más información, consulte <a href="#set-the-JDBC-fetch-size-parameter">Configuración del parámetro de tamaño de búsqueda de la JDBC</a>.</p>
          
          
            <h6>Hay un posible bloqueo </h6>
            <p>Si hay un posible bloqueo, pruebe lo siguiente:</p>
          
         <div class="itemizedlist">
             
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>Vea las tablas de sistema <a href="./r_STV_LOCKS.html">STV_LOCKS</a> y <a href="./r_STL_TR_CONFLICT.html">STL_TR_CONFLICT</a> para encontrar conflictos relacionados con las actualizaciones de más de una tabla.</p>
            </li><li class="listitem">
               <p>Utilice la función <a href="./PG_CANCEL_BACKEND.html">PG_CANCEL_BACKEND</a> para cancelar una o más consultas en conflicto.</p>
            </li><li class="listitem">
               <p>Utilice la función <a href="./PG_TERMINATE_BACKEND.html">PG_TERMINATE_BACKEND</a> para terminar una sesión, lo que fuerza que las transacciones en ejecución de la sesión terminada liberen todos los bloqueos y reviertan la transacción.</p>
            </li><li class="listitem">
               <p>Programe detenidamente las operaciones simultáneas de escritura. Para obtener más información, consulte <a href="./c_Concurrent_writes.html">Administración de operaciones de escritura simultáneas</a>.</p>
            </li></ul></div>
      <h2 id="queries-troubleshooting-query-takes-too-long">Tiempo de ejecución de consulta demasiado largo</h2>
         
         <p>Su consulta puede tardar demasiado tiempo por los siguientes motivos. Le sugerimos probar los siguientes métodos de solución de problemas.</p>
          
            <h6>Falta de optimización en las tablas</h6>
            <p>Configure la clave de ordenación, el estilo de distribución y la codificación de compresión de las tablas para sacar el máximo provecho del procesamiento en paralelo. Para obtener más información, consulte <a href="./t_Creating_tables.html">Uso de la optimización automática de tablas</a> </p>
          
          
            <h6>Consulta guardada en el disco</h6>
            <p>Es posible que sus consultas se estén guardando en el disco, al menos una parte de la ejecución de las consultas. Para obtener más información, consulte <a href="./query-performance-improvement-opportunities.html">Mejora del rendimiento de consultas </a>.</p>
          
          
            <h6>Consulta actual es espera hasta que otras consultas finalicen</h6>
            <p>Puede mejorar el rendimiento general del sistema mediante la creación de colas de consultas y la asignación de diferentes tipos de consultas a las colas correspondientes. Para obtener más información, consulte <a href="./cm-c-implementing-workload-management.html">Implementación de Workload Management</a>. </p>
          
          
            <h6>Falta de optimización en las consultas</h6>
            <p>Analice el plan de explicación para encontrar oportunidades de reescritura de las consultas o de optimización de la base de datos. Para obtener más información, consulte <a href="./c-the-query-plan.html">Plan de consulta</a>.</p>
          
          
            <h6>Mayor memoria para la ejecución de consultas</h6>
            <p>Si una consulta específica necesita más memora, puede aumentar la memoria disponible si aumenta el recuento <a href="./r_wlm_query_slot_count.html">wlm_query_slot_count</a>. </p>
          
          
            <h6>Ejecución de un comando VACUUM basado en la base de datos</h6>
            <p>Ejecute el comando VACUUM siempre que añada, elimine o modifique una cantidad importante de filas, a menos que cargue sus datos en orden de clave de ordenación. El comando VACUUM reorganiza sus datos para conservar la ordenación y el rendimiento de la restauración. Para obtener más información, consulte <a href="./t_Reclaiming_storage_space202.html">Limpieza de tablas</a>.</p>
          

         <h3 id="queries-troubleshooting-cross-refs">Recursos adicionales para solucionar problemas de consultas de larga duración</h3>
            <p>A continuación, se indican temas de la vista del sistema y otras secciones de la documentación que resultan útiles para la optimización de consultas:</p>
            <div class="itemizedlist">
                
                
                
                
                
                
            <ul class="itemizedlist"><li class="listitem"><p>La vista del sistema <a href="./r_STV_INFLIGHT.html">STV_INFLIGHT</a> muestra las consultas que se están ejecutando en el clúster. Puede ser útil utilizarlo junto con <a href="./r_STV_RECENTS.html">STV_RECENTS</a> para determinar qué consultas se están ejecutando en ese momento o se han completado recientemente.</p></li><li class="listitem"><p><a href="./SYS_QUERY_HISTORY.html">SYS_QUERY_HISTORY</a> es útil para solucionar problemas. Muestra las consultas DDL y DML con propiedades pertinentes como su estado actual, por ejemplo <code class="code">running</code> o <code class="code">failed</code>, el tiempo que tardó cada una en ejecutarse y si una consulta se ejecutó en un clúster con escalado de simultaneidad.</p></li><li class="listitem"><p><a href="./r_STL_QUERYTEXT.html">STL_QUERYTEXT</a> captura el texto de la consulta para los comandos SQL. Además, <a href="./r_SVV_QUERY_INFLIGHT.html">SVV_QUERY_INFLIGHT</a>, que une STL_QUERYTEXT a STV_INFLIGHT, muestra más metadatos de consulta.</p></li><li class="listitem"><p>Un conflicto entre transacciones y bloqueos puede ser un posible origen de problemas de rendimiento de las consultas. Para obtener información sobre las transacciones que actualmente mantienen bloqueos en las tablas, consulte <a href="./r_SVV_TRANSACTIONS.html">SVV_TRANSACTIONS</a>.</p></li><li class="listitem"><p><a href="https://docs.aws.amazon.com/redshift/latest/dg/diagnostic-queries-for-query-tuning.html#identify-queries-that-are-top-candidates-for-tuning">Identificación de consultas que deben ajustarse con prioridad</a> proporciona una consulta de solución de problemas que lo ayuda a determinar qué consultas ejecutadas recientemente consumieron más tiempo. Esto puede ayudarlo a centrar sus esfuerzos en las consultas que necesitan mejoras.</p></li><li class="listitem"><p>Si desea profundizar en la administración de consultas y comprender cómo administrar las colas de consultas, <a href="./cm-c-implementing-workload-management.html">Implementación de Workload Management</a> le muestra cómo hacerlo. La administración de cargas de trabajo es una característica avanzada y recomendamos la administración automatizada de cargas de trabajo en la mayoría de los casos.</p></li></ul></div>
          
         
         
      <h2 id="queries-troubleshooting-load-fails">Error en la carga</h2>
         
         <p>La carga de sus datos puede fallar por los siguientes motivos. Le sugerimos probar los siguientes métodos de solución de problemas.</p>
          
            <h6>Origen de datos en una región de AWS diferente</h6>
            <p>De manera predeterminada, el bucket de Amazon S3 o la tabla de Amazon DynamoDB especificados en el comando COPY deben estar en la misma región de AWS que el clúster. Si sus datos y su clúster están en regiones diferentes, recibirá un error similar al siguiente: </p>
          
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">The bucket you are attempting to access must be addressed using the specified endpoint.</code></pre>
         <p>De ser posible, asegúrese de que su clúster y el origen de datos estén en la misma región. Puede especificar una región diferente utilizando la opción <a href="./copy-parameters-data-source-s3.html#copy-region">REGION</a> con el comando COPY. </p>
         
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Si su clúster y el origen de datos están en regiones de AWS diferentes, se le cobrará el costo por la transferencia de datos. También tiene una latencia más alta.</p></div></div>
          
            <h6>Error del comando COPY</h6>
            <p>Ejecute la consulta STL_LOAD_ERRORS para descubrir los errores que ocurrieron durante cargas específicas. Para obtener más información, consulte <a href="./r_STL_LOAD_ERRORS.html">STL_LOAD_ERRORS</a>.</p>
          
      <h2 id="queries-troubleshooting-load-takes-too-long">Tiempo de carga excesivo</h2>
         
         <p>Su operación de carga puede tardar demasiado tiempo por los siguientes motivos. Le sugerimos probar los siguientes métodos de solución de problemas.</p>
          
            <h6>Carga de datos de un único archivo mediante el comando COPY</h6>
            <p>Divida los datos de su carga en archivos múltiples. Cuando carga todos los datos desde un único archivo grande, Amazon Redshift se ve obligado a realizar una carga serializada, que es mucho más lenta. La cantidad de archivos debe ser múltiplo de la cantidad de sectores de su clúster y los archivos deben ser, aproximadamente, del mismo tamaño, entre 1 MB y 1 GB después de la compresión. Para obtener más información, consulte <a href="./c_designing-queries-best-practices.html">Prácticas recomendadas de Amazon Redshift para el diseño de consultas</a>.</p>
          
          
            <h6>Operación de carga con comandos COPY múltiples</h6>
            <p>Si utiliza múltiples comandos COPY en simultáneo para cargar una tabla desde varios archivos, Amazon Redshift se ve obligado a realizar una carga serializada, que es mucho más lenta. En ese caso, utilice un único comando COPY.</p>
          
      <h2 id="queries-troubleshooting-load-data-incorrect">Datos de carga incorrectos</h2>
         
         <p>Su operación COPY puede cargar datos incorrectos por los siguientes motivos. Le sugerimos probar los siguientes métodos de solución de problemas.</p>
         
          
            <h6>Carga de archivos incorrectos</h6>
            <p>Si se utiliza un prefijo de objeto para especificar archivos de datos, es posible que se lean archivos no deseados. En lugar de ello, utilice un archivo de manifiesto para especificar exactamente qué archivos desea cargar. Para obtener más información, consulte la opción <a href="./copy-parameters-data-source-s3.html#copy-manifest-file">copy_from_s3_manifest_file</a> correspondiente el comando COPY y <a href="./r_COPY_command_examples.html#copy-command-examples-manifest">Example: COPY from Amazon S3 using a manifest</a> en los ejemplos de COPY.</p>
          
      <h2 id="set-the-JDBC-fetch-size-parameter">Configuración del parámetro de tamaño de búsqueda de la JDBC</h2>
         
         <p>De manera predeterminada, el controlador Java Database Connectivity (JDBC, Conectividad de base de datos java) recopila todos los resultados de una consulta a la vez. Por este motivo, cuando intenta recuperar un conjunto grande de resultados con una conexión JDBC, es posible que se produzca un error de memoria insuficiente del cliente. Para habilitar su cliente y recuperar conjuntos de resultados en lotes, en lugar de hacerlo en una única búsqueda del tipo "todo o nada", configure el parámetro de tamaño de búsqueda de la JDBC en su aplicación cliente.</p>
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>El tamaño de búsqueda no es compatible con la Open Database Connectivity (ODBC, Conectividad de base de datos abierta).</p></div></div>
         <p>Para conseguir el mejor rendimiento, configure el tamaño de búsqueda con el valor máximo que no genere errores de memoria insuficiente. Un valor de tamaño de búsqueda inferior genera más vueltas en el servidor, lo que prolonga los tiempos de ejecución. El servidor reserva recursos, incluido el slot de consultas de Workload Management (WLM, Administración de cargas de trabajo) y la memoria asociada hasta que el cliente recupera todo el conjunto de resultados o hasta que se cancela la consulta. Cuando ajusta el tamaño de búsqueda como corresponde, esos recursos se liberan con mayor rapidez, lo que hace que queden disponibles para otras consultas.</p>
         <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Si necesita extraer grandes conjuntos de datos, le recomendamos que utilice una instrucción <a href="./r_UNLOAD.html">UNLOAD</a> para transferir los datos a Amazon S3. Cuando usa UNLOAD, los nodos de computación trabajan en paralelo para acelerar la transferencia de datos.</p></div></div>
         <p>Para obtener más información acerca de la configuración de los parámetros de tamaño de búsqueda de JDBC, visite <a href="https://jdbc.postgresql.org/documentation/query/#getting-results-based-on-a-cursor" rel="noopener noreferrer" target="_blank"><span>Getting results based on a cursor</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> en la documentación de PostgreSQL.</p>
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Aviso" /> <strong>JavaScript está desactivado o no está disponible en su navegador.</strong></p><p>Para utilizar la documentación de AWS, debe estar habilitado JavaScript. Para obtener más información, consulte las páginas de ayuda de su navegador.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenciones del documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./diagnostic-queries-for-query-tuning.html">Consultas de diagnóstico para el ajuste de consultas</div><div id="next" class="next-link" accesskey="n" href="./cm-c-implementing-workload-management.html">Implementación de Workload Management</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - Sí</div><div class="content"><p>Gracias por hacernos saber que estamos haciendo un buen trabajo.</p><p>Si tiene un momento, díganos qué es lo que le ha gustado para que podamos seguir trabajando en esa línea.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/queries-troubleshooting.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - No</div><div class="content"><p>Gracias por informarnos de que debemos trabajar en esta página. Lamentamos haberle defraudado.</p><p>Si tiene un momento, díganos cómo podemos mejorar la documentación.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/queries-troubleshooting.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>