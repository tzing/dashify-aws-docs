<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="es-ES"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>SYS_EXTERNAL_QUERY_DETAIL - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="SYS_EXTERNAL_QUERY_DETAIL" /><meta name="default_state" content="SYS_EXTERNAL_QUERY_DETAIL" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/SYS_EXTERNAL_QUERY_DETAIL.html" /><meta name="description" content="Utilice SYS_EXTERNAL_QUERY_DETAIL para visualizar los detalles de las consultas de los usuarios." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guía para desarrolladores de bases de datos" /><meta name="abstract" content="Cree y administre un almacenamiento de datos con Amazon Redshift, un servicio de almacenamiento de datos completamente administrado a escala de petabytes de nivel empresarial." /><meta name="guide-locale" content="es_es" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/SYS_EXTERNAL_QUERY_DETAIL.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/SYS_EXTERNAL_QUERY_DETAIL.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/SYS_EXTERNAL_QUERY_DETAIL.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/SYS_EXTERNAL_QUERY_DETAIL.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/SYS_EXTERNAL_QUERY_DETAIL.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/SYS_EXTERNAL_QUERY_DETAIL.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/SYS_EXTERNAL_QUERY_DETAIL.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/SYS_EXTERNAL_QUERY_DETAIL.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/SYS_EXTERNAL_QUERY_DETAIL.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/SYS_EXTERNAL_QUERY_DETAIL.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/SYS_EXTERNAL_QUERY_DETAIL.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/SYS_EXTERNAL_QUERY_DETAIL.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/SYS_EXTERNAL_QUERY_DETAIL.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/SYS_EXTERNAL_QUERY_DETAIL.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/SYS_EXTERNAL_QUERY_DETAIL.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/SYS_EXTERNAL_QUERY_DETAIL.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/SYS_EXTERNAL_QUERY_DETAIL.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/SYS_EXTERNAL_QUERY_DETAIL.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/SYS_EXTERNAL_QUERY_DETAIL.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/SYS_EXTERNAL_QUERY_DETAIL.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/SYS_EXTERNAL_QUERY_DETAIL.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/SYS_EXTERNAL_QUERY_DETAIL.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guía para desarrolladores de bases de datos" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guía para desarrolladores de bases de datos" /><meta id="panorama-serviceConsolePage" value="SYS_EXTERNAL_QUERY_DETAIL" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>SYS_EXTERNAL_QUERY_DETAIL - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#SYS_EXTERNAL_QUERY_DETAIL" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/SYS_EXTERNAL_QUERY_DETAIL.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/SYS_EXTERNAL_QUERY_DETAIL.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/SYS_EXTERNAL_QUERY_DETAIL.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,Clúster,almacenamiento de datos,desarrollador,datos de ejemplo,base de datos,desarrollador de base de datos,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guía para desarrolladores de bases de datos",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Referencia de las tablas y vistas de sistema",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/cm_chap_system-tables.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Vistas de monitoreo de SYS",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/serverless_views-monitoring.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "SYS_EXTERNAL_QUERY_DETAIL",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/serverless_views-monitoring.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#SYS_EXTERNAL_QUERY_DETAIL" target="_blank" rel="noopener noreferrer" title="Abrir PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentación</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guía para desarrolladores de bases de datos</a></div><div id="page-toc-src"><a href="#SYS_EXTERNAL_QUERY_DETAIL-table-columns">Columnas de la tabla</a><a href="#SYS_EXTERNAL_QUERY_DETAIL-sample-queries">Consultas de ejemplo</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="SYS_EXTERNAL_QUERY_DETAIL">SYS_EXTERNAL_QUERY_DETAIL</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Utilice SYS_EXTERNAL_QUERY_DETAIL para visualizar los detalles de las consultas en el nivel del segmento. Cada fila representa un segmento de una determinada consulta de WLM con una serie de detalles como el número de filas procesadas, el número de bytes procesados y la información de partición de las tablas externas en Amazon S3. Cada fila de esta vista tendrá también una entrada correspondiente en la vista SYS_QUERY_DETAIL, con la diferencia de que esta última contiene más información detallada relativa al procesamiento de las consultas externas. </p><p>SYS_EXTERNAL_QUERY_DETAIL es visible para todos los usuarios. Los superusuarios pueden ver todas las filas; los usuarios normales solo pueden ver sus datos. Para obtener más información, consulte <a href="./cm_chap_system-tables.html#c_visibility-of-data">Visibilidad de datos en las tablas y vistas de sistema</a>.</p>
            <h2 id="SYS_EXTERNAL_QUERY_DETAIL-table-columns">Columnas de la tabla</h2>
            
            
            <div class="table-container"><div class="table-contents"><table id="w319aac49c13c29b7b3"><thead>
                        <tr>
                            <th>Nombre de la columna </th>
                            <th>Tipo de datos </th>
                            <th>Descripción </th>
                        </tr>
                    </thead>
                        <tr>
                            <td tabindex="-1">user_id</td>
                            <td tabindex="-1">integer</td>
                            <td tabindex="-1">El identificador del usuario que envió la consulta.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">query_id</td>
                            <td tabindex="-1">bigint</td>
                            <td tabindex="-1">El identificador de consulta de la consulta externa.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">transaction_id</td>
                            <td tabindex="-1">bigint</td>
                            <td tabindex="-1">Identificador de la transacción.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">child_query_sequence</td>
                            <td tabindex="-1">integer</td>
                            <td tabindex="-1">La secuencia de la consulta reescrita del usuario. Comienza por 0, parecido a segment_id.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">segment_id</td>
                            <td tabindex="-1">integer</td>
                            <td tabindex="-1">El identificador del segmento de la consulta.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">source_type</td>
                            <td tabindex="-1">character (32)</td>
                            <td tabindex="-1">El tipo de origen de datos de la consulta podría ser <code class="code">S3</code> para Redshift Spectrum, <code class="code">PG</code> para consultas federadas.</td>
                        </tr>                        
                        <tr>
                            <td tabindex="-1">start_time</td>
                            <td tabindex="-1">Marca de tiempo</td>
                            <td tabindex="-1">La hora de inicio de la consulta. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">end_time</td>
                            <td tabindex="-1">Marca de tiempo</td>
                            <td tabindex="-1">La hora en que se completó la consulta.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">duration</td>
                            <td tabindex="-1">bigint</td>
                            <td tabindex="-1">La cantidad de tiempo (microsegundos) empleado en la consulta.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">total_partitions</td>
                            <td tabindex="-1">integer</td>
                            <td tabindex="-1">La cantidad de particiones necesarias para una consulta de Amazon S3.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">qualified_partitions</td>
                            <td tabindex="-1">integer</td>
                            <td tabindex="-1">La cantidad de particiones que ha analizado una consulta de Amazon S3.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">scanned_files</td>
                            <td tabindex="-1">bigint</td>
                            <td tabindex="-1">La cantidad de archivos analizados de Amazon S3.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">returned_rows</td>
                            <td tabindex="-1">bigint</td>
                            <td tabindex="-1">La cantidad de filas analizadas para una consulta de Amazon S3, o la cantidad de filas devueltas para una consulta federada.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">returned_bytes</td>
                            <td tabindex="-1">bigint</td>
                            <td tabindex="-1">La cantidad de bytes analizados para una consulta de Amazon S3, o la cantidad de bytes devueltos para una consulta federada.</td>
                        </tr> 
                        <tr>
                            <td tabindex="-1">file_format</td>
                            <td tabindex="-1">texto</td>
                            <td tabindex="-1">El formato de archivos de los archivos de Amazon S3.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">file_location</td>
                            <td tabindex="-1">texto</td>
                            <td tabindex="-1">Ubicación de Amazon S3 de la tabla externa.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">external_query_text</td>
                            <td tabindex="-1">texto</td>
                            <td tabindex="-1">El texto de consulta en el nivel del segmento para una consulta federada.</td>
                        </tr>                   
                        <tr>
                            <td tabindex="-1">warning_message</td>
                            <td tabindex="-1">character (4000)</td>
                            <td tabindex="-1">El mensaje de advertencia que se muestra cuando se ejecuta la consulta.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">table_name</td>
                            <td tabindex="-1">character (136)</td>
                            <td tabindex="-1">Nombre de la tabla del paso que está en curso.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">es recursivo</td>
                            <td tabindex="-1">character (1)</td>
                            <td tabindex="-1">Indica si se realiza un análisis recursivo de las subcarpetas.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">is_nested</td>
                            <td tabindex="-1">character (1)</td>
                            <td tabindex="-1">Indica si se accede al tipo de datos de columna anidada.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">s3list_time</td>
                            <td tabindex="-1">bigint</td>
                            <td tabindex="-1">Duración del listado de archivos en milisegundos.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">get_paritition_time</td>
                            <td tabindex="-1">long</td>
                            <td tabindex="-1">Tiempo empleado en enumerar y calificar las particiones de un objeto externo dado de AWS Glue Data Catalog y Apache Hive.</td>
                        </tr>
                    </table></div></div>
         
            <h2 id="SYS_EXTERNAL_QUERY_DETAIL-sample-queries">Consultas de ejemplo</h2>
            <p>La siguiente consulta muestra los detalles de la consulta externa.</p>
            
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">SELECT query_id,
       segment_id,
       start_time,
       end_time,
       total_partitions,
       qualified_partitions,
       scanned_files,
       returned_rows,
       returned_bytes,
       trim(external_query_text) query_text,
       trim(file_location) file_location
FROM sys_external_query_detail
ORDER BY query_id, start_time DESC
LIMIT 2;</code></pre>  
            <p>Resultados de ejemplo.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class=""> query_id | segment_id |         start_time         |          end_time          | total_partitions | qualified_partitions | scanned_files | returned_rows | returned_bytes | query_text | file_location
----------+------------+----------------------------+----------------------------+------------------+----------------------+---------------+---------------+----------------+------------+---------------
   763251 |          0 | 2022-02-15 22:32:23.312448 | 2022-02-15 22:32:24.036023 |                3 |                    3 |             3 |         38203 |        2683414 |            |
   763254 |          0 | 2022-02-15 22:32:40.17103  | 2022-02-15 22:32:40.839313 |                3 |                    3 |             3 |         38203 |        2683414 |            |</code></pre>
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Aviso" /> <strong>JavaScript está desactivado o no está disponible en su navegador.</strong></p><p>Para utilizar la documentación de AWS, debe estar habilitado JavaScript. Para obtener más información, consulte las páginas de ayuda de su navegador.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenciones del documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./SYS_DATASHARE_USAGE_PRODUCER.html">SYS_DATASHARE_USAGE_PRODUCER</div><div id="next" class="next-link" accesskey="n" href="./SYS_EXTERNAL_QUERY_ERROR.html">SYS_EXTERNAL_QUERY_ERROR</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - Sí</div><div class="content"><p>Gracias por hacernos saber que estamos haciendo un buen trabajo.</p><p>Si tiene un momento, díganos qué es lo que le ha gustado para que podamos seguir trabajando en esa línea.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/SYS_EXTERNAL_QUERY_DETAIL.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - No</div><div class="content"><p>Gracias por informarnos de que debemos trabajar en esta página. Lamentamos haberle defraudado.</p><p>Si tiene un momento, díganos cómo podemos mejorar la documentación.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/SYS_EXTERNAL_QUERY_DETAIL.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>