<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="es-ES"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Uso de la vista SVL_QUERY_SUMMARY - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="using-SVL-Query-Summary" /><meta name="default_state" content="using-SVL-Query-Summary" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/using-SVL-Query-Summary.html" /><meta name="description" content="Para analizar la información resumida de una consulta por secuencia, haga lo siguiente:" /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guía para desarrolladores de bases de datos" /><meta name="abstract" content="Cree y administre un almacenamiento de datos con Amazon Redshift, un servicio de almacenamiento de datos completamente administrado a escala de petabytes de nivel empresarial." /><meta name="guide-locale" content="es_es" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/using-SVL-Query-Summary.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/using-SVL-Query-Summary.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guía para desarrolladores de bases de datos" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guía para desarrolladores de bases de datos" /><meta id="panorama-serviceConsolePage" value="Uso de la vista SVL_QUERY_SUMMARY" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Uso de la vista SVL_QUERY_SUMMARY - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#using-SVL-Query-Summary" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/using-SVL-Query-Summary.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/using-SVL-Query-Summary.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/using-SVL-Query-Summary.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,Clúster,almacenamiento de datos,desarrollador,datos de ejemplo,base de datos,desarrollador de base de datos,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guía para desarrolladores de bases de datos",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "‎‎‎‎Ajuste del rendimiento de las consul‎tas‎",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/c-optimizing-query-performance.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Análisis y mejora de las consultas",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/c-query-tuning.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Análisis del resumen de consultas",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/c-analyzing-the-query-summary.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Uso de la vista SVL_QUERY_SUMMARY",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/c-analyzing-the-query-summary.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#using-SVL-Query-Summary" target="_blank" rel="noopener noreferrer" title="Abrir PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentación</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guía para desarrolladores de bases de datos</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="using-SVL-Query-Summary">Uso de la vista SVL_QUERY_SUMMARY</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Para analizar la información resumida de una consulta por secuencia, haga lo siguiente:</p><div class="orderedlist">
                
                
                
                
                
                
                
                
            <ol><li>
                  <p>Ejecute la siguiente consulta para determinar el ID de su consulta:</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select query, elapsed, substring
from svl_qlog
order by query
desc limit 5;                     </code></pre>
                  <p>Examine el texto truncado de la consulta en el campo <code class="code">substring</code> para determinar qué valor de <code class="code">query</code> representa su consulta. Si ejecutó la consulta más de una vez, utilice el valor <code class="code">query</code> de la fila con el valor de <code class="code">elapsed</code> más bajo. Esa es la fila de la versión compilada. Si ha ejecutado distintas consultas, puede aumentar el valor que utilizó la cláusula LIMIT para asegurarse de que su consulta esté incluida.</p>
               </li><li>
                  <p>Seleccione las filas de SVL_QUERY_SUMMARY para su consulta. Ordene los resultados por secuencia, segmento y paso:</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select * from svl_query_summary where query = MyQueryID order by stm, seg, step;</code></pre>
                  <div class="mediaobject">
                      
                        <img src="images/svl_query_summary_results.png" class="aws-docs-img-whiteBg aws-docs-img-padding" />
                      
                  </div>
               </li><li>
                  <p>Haga corresponder los pasos con las operaciones del plan de consulta utilizando la información en <a href="./query-plan-summary-map.html">Mapeo entre el plan de consulta y el resumen de la consulta</a>. Tienen que tener, aproximadamente, los mismos valores de filas y de bytes (filas * ancho del plan de consulta). En caso de no coincidir, consulte <a href="./query-performance-improvement-opportunities.html#table-statistics-missing-or-out-of-date">Faltan estadísticas de tablas o están desactualizadas</a> para conocer las soluciones recomendadas.</p>
               </li><li>
                  <p>Controle si el campo <code class="code">is_diskbased</code> tiene el valor <code class="code">t</code> ("true") para algún paso. Hash, aggregate y sort son los operadores que, probablemente, se guarden en el disco si el sistema no tiene suficiente memoria asignada para el procesamiento de consultas.</p>
                  <p>Si <code class="code">is_diskbased</code> tiene el valor "true", consulte <a href="./query-performance-improvement-opportunities.html#insufficient-memory-allocated-to-the-query">Memoria insuficiente asignada a la consulta</a> para conocer las soluciones recomendadas.</p>
               </li><li>
                  <p>Controle los valores del campo <code class="code">label</code> y vea si hay una secuencia AGG-DIST-AGG en alguna parte de los pasos. Si dicha secuencia está presente, esto indica que hay una agregación de dos pasos, que es costosa. Para reparar esto, cambie la cláusula GROUP BY para utilizar la clave de distribución (la primera clave, si hay varias).</p>
               </li><li>
                  <p>Revise el valor de <code class="code">maxtime</code> de cada segmento (es el mismo en todos los pasos del segmento). Identifique el segmento con el valor más alto de <code class="code">maxtime</code> y revise los pasos en este segmento para los siguientes operadores.</p>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Un valor elevado de <code class="code">maxtime</code> no indica necesariamente un problema con el segmento. Más allá de que el valor sea elevado, es posible que el segmento no haya tardado mucho tiempo en procesarse. Todos los segmentos de una secuencia comienzan a programarse al mismo tiempo. Sin embargo, es posible que algunos segmentos posteriores no se puedan ejecutar hasta obtener datos de los segmentos anteriores. Es posible que este efecto haga parecer que hayan tardado mucho tiempo porque su valor de <code class="code">maxtime</code> incluye tanto su tiempo de espera como su tiempo de procesamiento. </p></div></div>
                  <div class="itemizedlist">
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p><b>BCAST o DIST</b>: en estos casos, el valor elevado de <code class="code">maxtime</code> puede resultar de la redistribución de una gran cantidad de filas. Para conocer las soluciones recomendadas, consulte <a href="./query-performance-improvement-opportunities.html#suboptimal-data-distribution">Distribución de datos poco óptima</a>.</p>
                     </li><li class="listitem">
                        <p><b>HJOIN (hash join)</b>: si el paso en cuestión tiene un valor muy elevado en el campo <code class="code">rows</code> en comparación con el valor de <code class="code">rows</code> en el paso final RETURN de la consulta, consulte <a href="./query-performance-improvement-opportunities.html#hash-join">Combinación hash</a> para conocer las soluciones recomendadas.</p>
                     </li><li class="listitem">
                        <p><b>SCAN/SORT</b>: busque una secuencia SCAN, SORT, SCAN, MERGE de pasos justo antes de un paso de combinación. Este patrón indica que los datos desordenados se examinan, ordenan y, luego, fusionan con el área ordenada de la tabla.</p>
                        <p>Advierta si el valor de rows del paso SCAN tiene un valor muy elevado en comparación con el valor de rows del paso final RETURN de la consulta. Este patrón indica que el motor de ejecución está examinando filas que, luego, se descartan, lo cual es poco eficiente. Para conocer las soluciones recomendadas, consulte <a href="./query-performance-improvement-opportunities.html#insufficiently-restrictive-predicate">Predicado poco restrictivo</a>. </p>
                        <p>Si el valor de <code class="code">maxtime</code> del paso SCAN es elevado, consulte <a href="./query-performance-improvement-opportunities.html#suboptimal-WHERE-clause">Cláusula WHERE poco óptima</a> para conocer las soluciones recomendadas.</p>
                        <p>Si el valor de <code class="code">rows</code> del paso SORT no es cero, consulte <a href="./query-performance-improvement-opportunities.html#unsorted-or-mis-sorted-rows">Filas desordenadas o mal ordenadas</a> para conocer las soluciones recomendadas.</p>
                     </li></ul></div>
               </li><li>
                  <p>Revise los valores de <code class="code">rows</code> y de <code class="code">bytes</code> de los pasos 5 a 10 anteriores al paso final RETURN para hacerse una idea de la cantidad de datos que se devuelven al cliente. Este proceso puede ser un arte en sí mismo.</p>
                  <p>Por ejemplo, en el siguiente resumen de consulta, puede ver que el tercer paso PROJECT proporciona un valor de <code class="code">rows</code>, pero no un valor de <code class="code">bytes</code>. Si analiza los pasos anteriores para buscar uno con el mismo valor de <code class="code">rows</code>, encontrará que el paso SCAN proporciona información relacionada con filas y bytes:</p>
                  <div class="mediaobject">
                      
                        <img src="images/rows_and_bytes.png" class="aws-docs-img-whiteBg aws-docs-img-padding" />
                      
                  </div>
                  <p>Si devuelve un volumen de datos excepcionalmente grande, consulte <a href="./query-performance-improvement-opportunities.html#very-large-result-set">Conjunto de resultados muy grande</a> para conocer las soluciones recomendadas.</p>
               </li><li>
                  <p>Vea si el valor de <code class="code">bytes</code> es elevado en comparación con el valor de <code class="code">rows</code> para cualquier paso, en relación con los demás pasos. Este patrón puede indicar que está seleccionando demasiadas columnas. Para conocer las soluciones recomendadas, consulte <a href="./query-performance-improvement-opportunities.html#large-SELECT-list">Lista SELECT grande</a>.</p>
               </li></ol></div><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Aviso" /> <strong>JavaScript está desactivado o no está disponible en su navegador.</strong></p><p>Para utilizar la documentación de AWS, debe estar habilitado JavaScript. Para obtener más información, consulte las páginas de ayuda de su navegador.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenciones del documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./c-analyzing-the-query-summary.html">Análisis del resumen de consultas</div><div id="next" class="next-link" accesskey="n" href="./using-SVL-Query-Report.html">Uso de la vista SVL_QUERY_REPORT</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - Sí</div><div class="content"><p>Gracias por hacernos saber que estamos haciendo un buen trabajo.</p><p>Si tiene un momento, díganos qué es lo que le ha gustado para que podamos seguir trabajando en esa línea.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/using-SVL-Query-Summary.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - No</div><div class="content"><p>Gracias por informarnos de que debemos trabajar en esta página. Lamentamos haberle defraudado.</p><p>Si tiene un momento, díganos cómo podemos mejorar la documentación.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/using-SVL-Query-Summary.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>