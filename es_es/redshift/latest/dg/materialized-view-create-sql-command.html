<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="es-ES"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>CREATE MATERIALIZED VIEW - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="materialized-view-create-sql-command" /><meta name="default_state" content="materialized-view-create-sql-command" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/materialized-view-create-sql-command.html" /><meta name="description" content="Crear una vista materializada." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guía para desarrolladores de bases de datos" /><meta name="abstract" content="Cree y administre un almacenamiento de datos con Amazon Redshift, un servicio de almacenamiento de datos completamente administrado a escala de petabytes de nivel empresarial." /><meta name="guide-locale" content="es_es" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/materialized-view-create-sql-command.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/materialized-view-create-sql-command.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guía para desarrolladores de bases de datos" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guía para desarrolladores de bases de datos" /><meta id="panorama-serviceConsolePage" value="CREATE MATERIALIZED VIEW" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>CREATE MATERIALIZED VIEW - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#materialized-view-create-sql-command" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/materialized-view-create-sql-command.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/materialized-view-create-sql-command.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/materialized-view-create-sql-command.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,Clúster,almacenamiento de datos,desarrollador,datos de ejemplo,base de datos,desarrollador de base de datos,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guía para desarrolladores de bases de datos",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Referencia de SQL",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Comandos SQL",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/c_SQL_commands.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "CREATE MATERIALIZED VIEW",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/c_SQL_commands.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#materialized-view-create-sql-command" target="_blank" rel="noopener noreferrer" title="Abrir PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentación</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guía para desarrolladores de bases de datos</a></div><div id="page-toc-src"><a href="#mv_CREATE_MATERIALIZED_VIEW-synopsis">Sintaxis</a><a href="#mv_CREATE_MATERIALIZED_VIEW-parameters">Parámetros</a><a href="#mv_CREATE_MARTERIALIZED_VIEW_usage">Notas de uso</a><a href="#mv_CREATE_MARTERIALIZED_VIEW_datashare">Actualización incremental para obtener vistas materializadas en un recurso compartido de datos</a><a href="#materialized-view-ddl">Actualizaciones DDL en vistas materializadas o tablas base</a><a href="#mv_CREATE_MATERIALIZED_VIEW-limitations">Limitaciones</a><a href="#mv_CREATE_MARTERIALIZED_VIEW_examples">Ejemplos</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="materialized-view-create-sql-command">CREATE MATERIALIZED VIEW</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Crea una vista materializada basada en una o más tablas de Amazon Redshift. También puede basar las vistas materializadas en tablas externas creadas mediante Spectrum o una consulta federada. Para obtener información acerca de Spectrum, consulte <a href="./c-using-spectrum.html">Consulta de datos externos mediante Amazon Redshift Spectrum</a>. Para obtener información acerca de las consultas federadas, consulte <a href="./federated-overview.html">Consulta de datos con consultas federadas en Amazon Redshift</a>.</p>
         <h2 id="mv_CREATE_MATERIALIZED_VIEW-synopsis">Sintaxis</h2>
         <pre class="screen">CREATE MATERIALIZED VIEW mv_name
[ BACKUP <span>{</span> YES | NO } ]
[ table_attributes ]
[ AUTO REFRESH <span>{</span> YES | NO } ]
AS query </pre>
       
         <h2 id="mv_CREATE_MATERIALIZED_VIEW-parameters">Parámetros</h2>
         <div class="variablelist">
             
             
             

            <dl>
               <dt><span class="term">BACKUP</span></dt>
               <dd>
                  <p>Se trata de una cláusula que especifica si la vista materializada se incluye en instantáneas de clúster automatizadas y manuales, las cuales se almacenan en Amazon S3.</p>
                  <p>El valor predeterminado de <code class="code">BACKUP</code> es <code class="code">YES</code>.</p>
                  <p>Puede especificar <code class="code">BACKUP NO</code> para ahorrar tiempo de procesamiento cuando crea instantáneas y restaura el contenido a partir de ellas, y para reducir el espacio de almacenamiento necesario en Amazon S3.</p>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>El ajuste <code class="code">BACKUP NO</code> no tiene efecto en la replicación automática de datos a otros nodos dentro del clúster, por lo que las tablas con <code class="code">BACKUP
                           NO</code> especificado se restauran en caso de error del nodo.</p></div></div>
               </dd>
             
               <dt><span class="term"> <em>table_attributes</em> </span></dt>
               <dd>
                  
                  <p>Cláusula que especifica cómo se distribuyen los datos de la vista materializada, incluida la siguiente:</p>
                  <div class="itemizedlist">
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p> El estilo de distribución para la vista materializada en formato <code class="code">DISTSTYLE <span>{</span> EVEN | ALL | KEY }</code>. Si omite esta cláusula, el estilo de distribución es <code class="code">EVEN</code>. Para obtener más información, consulte <a href="./c_choosing_dist_sort.html">Estilos de distribución</a>.</p>
                     </li><li class="listitem">
                        <p>La clave de distribución de la vista materializada en formato <code class="code">DISTKEY ( <em>distkey_identifier</em> )</code>. Para obtener más información, consulte <a href="./t_designating_distribution_styles.html">Designación de estilos de distribución</a>.</p>
                     </li><li class="listitem">
                        <p>Clave de ordenación de la vista materializada en formato <code class="code">SORTKEY ( <em>column_name</em> [, ...] )</code>. Para obtener más información, consulte <a href="./t_Sorting_data.html">Uso de claves de ordenación</a>.</p>

                     </li></ul></div>
               </dd>
             
               <dt><span class="term">AS <em>query</em></span></dt>
               <dd>
                  <p>Se trata de una instrucción <code class="code">SELECT</code> válida que define la vista materializada y su contenido. El conjunto de resultados de la consulta define las columnas y filas de la vista materializada. Para obtener información sobre las limitaciones al crear vistas materializadas, consulte <a href="#mv_CREATE_MATERIALIZED_VIEW-limitations">Limitaciones</a>.</p>
                  <p>Además, las construcciones específicas del lenguaje SQL utilizadas en la consulta determinan si la vista materializada se puede actualizar de forma incremental o completa. Para obtener información sobre el método de actualización, consulte <a href="./materialized-view-refresh-sql-command.html">REFRESH MATERIALIZED VIEW</a>. Para obtener información acerca de las limitaciones para la actualización incremental, consulte <a href="./materialized-view-refresh-sql-command.html#mv_REFRESH_MARTERIALIZED_VIEW_limitations">Limitaciones para la actualización incremental</a>.</p>

                  <p>Si la consulta contiene un comando SQL que no es compatible con la actualización progresiva, Amazon Redshift muestra un mensaje que indica que la vista materializada utilizará una actualización completa. El mensaje se puede mostrar o no, en función de la aplicación cliente de SQL. Active la columna <code class="code">state</code> de <a href="./r_STV_MV_INFO.html">STV_MV_INFO</a> para ver el tipo de actualización utilizado por una vista materializada.</p></dd>
               <dt><span class="term">AUTO REFRESH</span></dt>
               <dd>
                  <p>Se trata de una cláusula que define si la vista materializada debe actualizarse de forma automática con los últimos cambios de las tablas base. El valor predeterminado es <code class="code">NO</code>. Para obtener más información, consulte <a href="./materialized-view-refresh.html">Actualización de una vista materializada</a>.</p>

               </dd>
            </dl></div>
       
         <h2 id="mv_CREATE_MARTERIALIZED_VIEW_usage">Notas de uso</h2>
         <p>Para crear una vista materializada, debe tener los siguientes privilegios:</p>
         <div class="itemizedlist">
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>Privilegios CREATE para un esquema.</p>
            </li><li class="listitem">
     
               <p>Privilegio SELECT de nivel de tabla o de columna en las tablas base para crear una vista materializada. Si tiene privilegios de nivel de columna en columnas específicas, no puede crear una vista materializada solo en esas columnas.</p>
            </li></ul></div>
       
         <h2 id="mv_CREATE_MARTERIALIZED_VIEW_datashare">Actualización incremental para obtener vistas materializadas en un recurso compartido de datos</h2>
         <p> Amazon Redshift admite la actualización automática e incremental de las vistas materializadas en un recurso compartido de datos de consumidores cuando se comparten las tablas base. La actualización incremental es una operación en la que Amazon Redshift identifica los cambios en la tabla o tablas base que se produjeron después de la actualización anterior y actualiza solo los registros correspondientes de la vista materializada. Esto se ejecuta más rápido que una actualización completa y mejora el rendimiento de la carga de trabajo. No es necesario cambiar la definición de la vista materializada para aprovechar la actualización incremental. </p>
         <p>Hay un par de limitaciones que hay que tener en cuenta a la hora de aprovechar la actualización incremental con una vista materializada: </p>
         <div class="itemizedlist">
             
             
         <ul class="itemizedlist"><li class="listitem"><p>La vista materializada debe hacer referencia solo a una base de datos, ya sea local o remota. </p></li><li class="listitem"><p>La actualización incremental solo está disponible en las nuevas vistas materializadas. Por lo tanto, debe eliminar las vistas materializadas existentes y volver a crearlas para que se produzca una actualización incremental.</p></li></ul></div>
         <p>Para obtener más información sobre la creación de vistas materializadas en un recurso compartido de datos, consulte <a href="https://docs.aws.amazon.com/redshift/latest/dg/share_datashare.html#datashare-views">Trabajo con vistas en el uso compartido de datos de Amazon Redshift</a>, que contiene varios ejemplos de consultas.</p>
       
         <h2 id="materialized-view-ddl">Actualizaciones DDL en vistas materializadas o tablas base</h2>
         <p>Cuando utilice vistas materializadas en Amazon Redshift, siga las siguientes notas de uso para las actualizaciones de lenguaje de definición de datos (DDL) en vistas materializadas o tablas base.</p>
         <div class="itemizedlist">
             
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p>Puede agregar columnas a una tabla base sin que esto afecte a las vistas materializadas que hacen referencia a la tabla base.</p>
            </li><li class="listitem">
               <p>Algunas operaciones pueden dejar la vista materializada en un estado en el que no se puede actualizar. Por ejemplo, operaciones como renombrar o eliminar una columna, cambiar el tipo de columna y cambiar el nombre de un esquema. Dichas vistas materializadas se pueden consultar pero no se pueden actualizar. En este caso, debe eliminar y volver a crear la vista materializada. </p>
            </li><li class="listitem">
               <p>En general, no se puede modificar la definición de una vista materializada (su instrucción SQL).</p>
            </li><li class="listitem">
               <p>No se puede cambiar el nombre de una vista materializada. </p>
            </li></ul></div>
       
         <h2 id="mv_CREATE_MATERIALIZED_VIEW-limitations">Limitaciones</h2>
         <p>No puede definir una vista materializada que haga referencia a o incluya cualquiera de los siguientes:</p>
         <div class="itemizedlist">
             
             
             
             
             
            
           
             
             
             
         
         <ul class="itemizedlist"><li class="listitem">
               <p>Vistas estándar o vistas y tablas de sistema.</p>
            </li><li class="listitem">
               <p>Tablas temporales.</p>
            </li><li class="listitem">
               <p>Funciones definidas por el usuario.</p>
            </li><li class="listitem">
               <p>La cláusula ORDER BY, LIMIT u OFFSET.</p>
            </li><li class="listitem">
               <p>Referencias de enlace tardío a tablas básicas. En otras palabras, cualquier tabla de base o columnas relacionadas a las que se hace referencia en la definición de la consulta SQL de la vista materializada debe existir y ser válida. </p>
            </li><li class="listitem">
               <p>Funciones específicas del nodo principal: CURRENT_SCHEMA, CURRENT_SCHEMAS, HAS_DATABASE_PRIVILEGE, HAS_SCHEMA_PRIVILEGE, HAS_TABLE_PRIVILEGE.</p>
            </li><li class="listitem"><p>No se puede utilizar la opción AUTO REFRESH YES cuando la definición de la vista materializada incluye funciones mutables o esquemas externos. Tampoco puede usarla cuando define una vista materializada en otra vista materializada.</p></li><li class="listitem"><p>No hace falta que ejecute manualmente <a href="./r_ANALYZE.html">ANALYZE</a> en las vistas materializadas. Actualmente, esto solo ocurre mediante AUTO ANALYZE. Para obtener más información, consulte <a href="./t_Analyzing_tables.html">Análisis de tablas</a>.</p></li></ul></div>
         
         
       
         <h2 id="mv_CREATE_MARTERIALIZED_VIEW_examples">Ejemplos</h2>
         <p>En el siguiente ejemplo, se crea una vista materializada a partir de tres tablas base que se combinan y se agrupan. Cada fila representa una categoría con el número de entradas vendidas. Cuando consulta la vista materializada tickets_mv, accede directamente a los datos precalculados en la vista materializada tickets_mv.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE MATERIALIZED VIEW tickets_mv AS
    select   catgroup,
    sum(qtysold) as sold
    from     category c, event e, sales s
    where    c.catid = e.catid
    and      e.eventid = s.eventid
    group by catgroup;</code></pre>
         <p>En el siguiente ejemplo, se crea una vista materializada similar al ejemplo anterior y se utiliza la función agregada MAX(). </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE MATERIALIZED VIEW tickets_mv_max AS
    select   catgroup,
    max(qtysold) as sold
    from     category c, event e, sales s
    where    c.catid = e.catid
    and      e.eventid = s.eventid
    group by catgroup;

SELECT name, state FROM STV_MV_INFO;</code></pre>

         <p>En el siguiente ejemplo, se utiliza una cláusula UNION ALL para combinar la tabla <code class="code">public_sales</code> de Amazon Redshift y la tabla <code class="code">spectrum.sales</code> de Redshift Spectrum para crear una vista material <code class="code">mv_sales_vw</code>. Para obtener información acerca del comando CREATE EXTERNAL TABLE para Amazon Redshift Spectrum, consulte <a href="./r_CREATE_EXTERNAL_TABLE.html">CREATE EXTERNAL TABLE</a>. La tabla externa de Redshift Spectrum referencia los datos de Amazon S3.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE MATERIALIZED VIEW mv_sales_vw as
select salesid, qtysold, pricepaid, commission, saletime from public.sales
union all
select salesid, qtysold, pricepaid, commission, saletime from spectrum.sales
</code></pre>
         <p>En el siguiente ejemplo, se crea una vista materializada <code class="code">mv_fq</code> basada en una tabla externa de consulta federada. Para obtener información acerca de las consultas federadas, consulte <a href="./r_CREATE_EXTERNAL_SCHEMA.html">CREATE EXTERNAL SCHEMA</a>.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE MATERIALIZED VIEW mv_fq as select firstname, lastname from apg.mv_fq_example;

select firstname, lastname from mv_fq;
 firstname | lastname
-----------+----------
 John      | Day
 Jane      | Doe
(2 rows)</code></pre>
         <p>En el siguiente ejemplo, se muestra la definición de una vista materializada.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">SELECT pg_catalog.pg_get_viewdef('mv_sales_vw'::regclass::oid, true);

pg_get_viewdef
---------------------------------------------------
create materialized view mv_sales_vw as select a from t;</code></pre>
         <p> El siguiente ejemplo muestra cómo configurar AUTO REFRESH en la definición de vista materializada y también especifica un DISTSTYLE. Primero, crea una tabla base simple. </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE TABLE baseball_table (ball int, bat int);</code></pre>
         <p>A continuación, cree una vista materializada.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE MATERIALIZED VIEW mv_baseball DISTSTYLE ALL AUTO REFRESH YES AS SELECT ball AS baseball FROM baseball_table;</code></pre>
         <p>Ahora puede consultar la vista materializada de mv_baseball. Para comprobar si la actualización automática está activada en una vista materializada, consulte <a href="./r_STV_MV_INFO.html">STV_MV_INFO</a>.</p>

         <p>En el siguiente ejemplo se crea una vista materializada que hace referencia a una tabla de origen de otra base de datos. Se supone que la base de datos que contiene la tabla de origen, database_A, se encuentra en el mismo clúster o grupo de trabajo que la vista materializada, que se crea en database_B. (Puede sustituir el ejemplo por sus propias bases de datos). Primero, cree una tabla en database_A denominada <em>cities</em>, con una columna de <em>cityname</em>. Haga que el tipo de datos de la columna sea VARCHAR. Después de crear la tabla de origen, ejecute el siguiente comando en database_B para crear una vista materializada cuyo origen sea la tabla <em>cities</em>. Asegúrese de especificar la base de datos y el esquema de la tabla de origen en la cláusula FROM:</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">CREATE MATERIALIZED VIEW cities_mv AS
SELECT  cityname
FROM    database_A.public.cities;</code></pre>
         <p>Consulte la vista materializada que ha creado. La consulta recupera los registros cuyo origen original es la tabla <em>cities</em> de database_A:</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select * from cities_mv;</code></pre>
         <p>Al ejecutar la instrucción SELECT, <em>cities_mv</em> devuelve los registros. Los registros se actualizan desde la tabla de origen solo cuando se ejecuta una instrucción REFRESH. Además, tenga en cuenta que no puede actualizar los registros directamente en la vista materializada. Para obtener información sobre cómo actualizar los datos en una vista materializada, consulte <a href="./materialized-view-refresh-sql-command.html">REFRESH MATERIALIZED VIEW</a>.</p>
         
      


         <p>Para obtener información detallada sobre la información general de la vista materializada y los comandos SQL utilizados para actualizar y eliminar vistas materializadas, consulte los siguientes temas:</p>

         <div class="itemizedlist">
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p><a href="./materialized-view-overview.html">Creación de vistas materializadas en Amazon Redshift</a></p>
            </li><li class="listitem">
               <p><a href="./materialized-view-refresh-sql-command.html">REFRESH MATERIALIZED VIEW</a></p>
            </li><li class="listitem">
               <p><a href="./materialized-view-drop-sql-command.html">DROP MATERIALIZED VIEW</a></p>
            </li></ul></div>
         
      <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Aviso" /> <strong>JavaScript está desactivado o no está disponible en su navegador.</strong></p><p>Para utilizar la documentación de AWS, debe estar habilitado JavaScript. Para obtener más información, consulte las páginas de ayuda de su navegador.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenciones del documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_CREATE_MASKING_POLICY.html">CREATE MASKING POLICY</div><div id="next" class="next-link" accesskey="n" href="./r_CREATE_MODEL.html">CREATE MODEL</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - Sí</div><div class="content"><p>Gracias por hacernos saber que estamos haciendo un buen trabajo.</p><p>Si tiene un momento, díganos qué es lo que le ha gustado para que podamos seguir trabajando en esa línea.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/materialized-view-create-sql-command.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - No</div><div class="content"><p>Gracias por informarnos de que debemos trabajar en esta página. Lamentamos haberle defraudado.</p><p>Si tiene un momento, díganos cómo podemos mejorar la documentación.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/materialized-view-create-sql-command.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>