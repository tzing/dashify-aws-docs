<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="es-ES"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>PG_GET_SESSION_ROLES - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="PG_GET_SESSION_ROLES" /><meta name="default_state" content="PG_GET_SESSION_ROLES" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/PG_GET_SESSION_ROLES.html" /><meta name="description" content="Devuelve información sobre los roles de sesión." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guía para desarrolladores de bases de datos" /><meta name="abstract" content="Cree y administre un almacenamiento de datos con Amazon Redshift, un servicio de almacenamiento de datos completamente administrado a escala de petabytes de nivel empresarial." /><meta name="guide-locale" content="es_es" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/PG_GET_SESSION_ROLES.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/PG_GET_SESSION_ROLES.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guía para desarrolladores de bases de datos" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guía para desarrolladores de bases de datos" /><meta id="panorama-serviceConsolePage" value="PG_GET_SESSION_ROLES" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>PG_GET_SESSION_ROLES - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#PG_GET_SESSION_ROLES" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/PG_GET_SESSION_ROLES.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/PG_GET_SESSION_ROLES.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/PG_GET_SESSION_ROLES.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,Clúster,almacenamiento de datos,desarrollador,datos de ejemplo,base de datos,desarrollador de base de datos,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guía para desarrolladores de bases de datos",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Referencia de SQL",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/cm_chap_SQLCommandRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Referencia de funciones SQL",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/c_SQL_functions.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Funciones de información del sistema",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_System_information_functions.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "PG_GET_SESSION_ROLES",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_System_information_functions.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#PG_GET_SESSION_ROLES" target="_blank" rel="noopener noreferrer" title="Abrir PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentación</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guía para desarrolladores de bases de datos</a></div><div id="page-toc-src"><a href="#PG_GET_LATE_BINDING_VIEW_COLS-synopsis">Sintaxis</a><a href="#PG_GET_SESSION_ROLES-return-type">Tipo de retorno</a><a href="#PG_GET_SESSION_ROLES-usage-notes">Notas de uso</a><a href="#PG_GET_SESSION_ROLES-example">Ejemplos</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="PG_GET_SESSION_ROLES">PG_GET_SESSION_ROLES</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Devuelve los roles de sesión del usuario que ha iniciado sesión actualmente. Los roles de sesión de un usuario son los grupos definidos por un proveedor de identidades (IdP) para el usuario que ha iniciado sesión. Por ejemplo, un proveedor de identidades (IdP) como <a href="https://azure.microsoft.com/en-us/services/active-directory/" rel="noopener noreferrer" target="_blank"><span>Microsoft Azure Active Directory (Azure AD)</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> verifica la identidad del usuario y proporciona los grupos externos de los que forma parte el usuario durante el proceso de inicio de sesión del usuario. Estos grupos externos se transforman en roles de Amazon Redshift y están disponibles durante la sesión actual. Estos roles se denominan roles de sesión. Un administrador puede conceder privilegios a un rol de sesión similar a otros roles de Amazon Redshift. Para obtener información acerca del uso de roles, consulte <a href="./t_Roles.html">Control de acceso basado en roles (RBAC)</a>. Para obtener información sobre la administración de identidades con un proveedor de identidades (IdP), consulte <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/redshift-iam-access-control-native-idp.html">Federación de proveedor de identidades (IdP) nativo para Amazon Redshift</a> en la <em>Guía de administración de Amazon Redshift</em>.</p><p>Para ver los roles definidos en el catálogo de Amazon Redshift, conéctese a la base de datos como administrador o superusuario y consulte la vista del sistema <a href="./r_SVV_ROLES.html">SVV_ROLES</a>.</p>
            <h2 id="PG_GET_LATE_BINDING_VIEW_COLS-synopsis">Sintaxis</h2>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql ">pg_get_session_roles()</code></pre>
          
            <h2 id="PG_GET_SESSION_ROLES-return-type">Tipo de retorno</h2>
            <p>Un conjunto de filas que consta de dos valores. El primer valor tiene dos partes separadas por dos puntos (:) que contiene un <code class="code">idp-namespace:role-name</code>. <code class="code">idp-namespace</code> es el espacio de nombres del proveedor de identidades (IdP). <code class="code">role-name</code> es el nombre del grupo externo del proveedor de identidades (IdP). El segundo valor contiene un <code class="code">role-id</code> que es el identificador del rol.</p>
          
            <h2 id="PG_GET_SESSION_ROLES-usage-notes">Notas de uso</h2>
            
            <p>La función <code class="code">PG_GET_SESSION_ROLES</code> devuelve una fila por cada rol de sesión devuelto.</p>
          
            <h2 id="PG_GET_SESSION_ROLES-example">Ejemplos</h2>
            
            <p>El siguiente ejemplo devuelve una fila para cada rol del IdP de Azure Active Directory. Las columnas devueltas se convierten en <code class="code">sess_roles</code> con columnas <code class="code">name</code> y <code class="code">roleid</code>. Cada <code class="code">name</code> consta del espacio de nombres de Azure Active Directory y un nombre de grupo en Azure Active Directory.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql "><code class="userinput">SELECT * FROM pg_get_session_roles() AS sess_roles(name name, roleid integer);</code>
<code class="computeroutput" copy="false">
name                  roleid
--------------------------------
my_aad:test_group_1   106204
my_aad:test_group_2   106205
my_aad:test_group_3   106206
my_aad:test_group_4   106207
my_aad:test_group_5   106208   
</code></code></pre>
            
            <p>El siguiente ejemplo devuelve una fila para cada grupo de IAM del que es miembro el usuario de IAM que ha iniciado sesión actualmente. Las columnas devueltas se convierten en <code class="code">sess_roles</code> con columnas <code class="code">name</code> y <code class="code">roleid</code>. Cada <code class="code">name</code> consta del espacio de nombres de IAM y el nombre del grupo de IAM.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="sql "><code class="userinput">SELECT * FROM pg_get_session_roles() AS sess_roles(name name, roleid integer);</code>
<code class="computeroutput" copy="false">
name                  roleid
--------------------------------
IAM:myGroup           110332
</code></code></pre>
            
            
            
         <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Aviso" /> <strong>JavaScript está desactivado o no está disponible en su navegador.</strong></p><p>Para utilizar la documentación de AWS, debe estar habilitado JavaScript. Para obtener más información, consulte las páginas de ayuda de su navegador.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenciones del documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./PG_GET_LATE_BINDING_VIEW_COLS.html">PG_GET_LATE_BINDING_VIEW_COLS</div><div id="next" class="next-link" accesskey="n" href="./PG_LAST_COPY_COUNT.html">PG_LAST_COPY_COUNT</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - Sí</div><div class="content"><p>Gracias por hacernos saber que estamos haciendo un buen trabajo.</p><p>Si tiene un momento, díganos qué es lo que le ha gustado para que podamos seguir trabajando en esa línea.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/PG_GET_SESSION_ROLES.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - No</div><div class="content"><p>Gracias por informarnos de que debemos trabajar en esta página. Lamentamos haberle defraudado.</p><p>Si tiene un momento, díganos cómo podemos mejorar la documentación.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/PG_GET_SESSION_ROLES.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>