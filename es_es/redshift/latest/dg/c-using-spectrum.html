<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="es-ES"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Consulta de datos externos mediante Amazon Redshift Spectrum - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="c-using-spectrum" /><meta name="default_state" content="c-using-spectrum" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/c-using-spectrum.html" /><meta name="description" content="Utilice Amazon Redshift Spectrum para consultar y recuperar datos de archivos en Amazon S3 sin tener que cargar los datos en tablas de Amazon Redshift." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guía para desarrolladores de bases de datos" /><meta name="abstract" content="Cree y administre un almacenamiento de datos con Amazon Redshift, un servicio de almacenamiento de datos completamente administrado a escala de petabytes de nivel empresarial." /><meta name="guide-locale" content="es_es" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/c-using-spectrum.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/c-using-spectrum.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/c-using-spectrum.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/c-using-spectrum.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/c-using-spectrum.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/c-using-spectrum.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/c-using-spectrum.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/c-using-spectrum.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/c-using-spectrum.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-using-spectrum.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/c-using-spectrum.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/c-using-spectrum.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/c-using-spectrum.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/c-using-spectrum.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/c-using-spectrum.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/c-using-spectrum.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/c-using-spectrum.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c-using-spectrum.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/c-using-spectrum.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/c-using-spectrum.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/c-using-spectrum.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/c-using-spectrum.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guía para desarrolladores de bases de datos" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guía para desarrolladores de bases de datos" /><meta id="panorama-serviceConsolePage" value="Consulta de datos externos mediante Amazon Redshift Spectrum" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Consulta de datos externos mediante Amazon Redshift Spectrum - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#c-using-spectrum" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/c-using-spectrum.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/c-using-spectrum.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/c-using-spectrum.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,Clúster,almacenamiento de datos,desarrollador,datos de ejemplo,base de datos,desarrollador de base de datos,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guía para desarrolladores de bases de datos",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Consulta de datos externos mediante Amazon Redshift Spectrum",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/c-using-spectrum.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#c-using-spectrum" target="_blank" rel="noopener noreferrer" title="Abrir PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentación</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guía para desarrolladores de bases de datos</a></div><div id="page-toc-src"><a href="#c-spectrum-overview">Información general sobre Amazon Redshift Spectrum</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="c-using-spectrum">Consulta de datos externos mediante Amazon Redshift Spectrum</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Con Amazon Redshift Spectrum, puede consultar y recuperar de manera eficiente los datos estructurados y semiestructurados de los archivos en Amazon S3 sin tener que cargar los datos en tablas de Amazon Redshift. Las consultas de Redshift Spectrum emplean un paralelismo a gran escala para ejecutar muy rápido grandes conjuntos de datos. Gran parte del procesamiento se produce en la capa de Redshift Spectrum, mientras que la mayoría de los datos permanece en Amazon S3. Varios clústeres pueden consultar el mismo conjunto de datos en Amazon S3 al mismo tiempo sin tener que generar copias de los datos para cada clúster.</p><div class="highlights"><h6>Temas</h6><ul><li><a href="#c-spectrum-overview">Información general sobre Amazon Redshift Spectrum</a></li><li><a href="./c-getting-started-using-spectrum.html">Introducción a Amazon Redshift Spectrum</a></li><li><a href="./c-spectrum-iam-policies.html">Políticas de IAM para Amazon Redshift Spectrum</a></li><li><a href="./spectrum-lake-formation.html">Uso de Redshift Spectrum con AWS Lake Formation</a></li><li><a href="./c-spectrum-data-files.html">Creación de archivos de datos para consultas en Amazon Redshift Spectrum</a></li><li><a href="./c-spectrum-external-schemas.html">Creación de esquemas externos para Amazon Redshift Spectrum</a></li><li><a href="./c-spectrum-external-tables.html">Creación de tablas externas para Redshift Spectrum</a></li><li><a href="./querying-iceberg.html">Uso de tablas de Apache Iceberg con Amazon Redshift</a></li><li><a href="./c-spectrum-external-performance.html">Mejora del rendimiento de las consultas en Amazon Redshift Spectrum</a></li><li><a href="./t_setting-data-handling-options.html">Configuración de opciones de control de datos</a></li><li><a href="./c_performing-correlated-subqueries-spectrum.html">Ejemplo: Realización de subconsultas correlacionadas en Redshift Spectrum</a></li><li><a href="./c-spectrum-metrics.html">Supervisión de métricas en Amazon Redshift Spectrum</a></li><li><a href="./c-spectrum-troubleshooting.html">Solución de problemas de las consultas en Amazon Redshift Spectrum</a></li><li><a href="./tutorial-query-nested-data.html">Tutorial: Consulta de datos anidados con Amazon Redshift Spectrum</a></li></ul></div>
      <h2 id="c-spectrum-overview">Información general sobre Amazon Redshift Spectrum</h2>

      <p>Amazon Redshift Spectrum se encuentra en servidores de Amazon Redshift dedicados que no dependen del clúster. Amazon Redshift inserta muchas tareas de computación intensiva, como el filtrado y la agregación de predicados, en la capa de Redshift Spectrum. Por lo tanto, las consultas de Redshift Spectrum utilizan mucha menos capacidad de procesamiento de su clúster que otras consultas. Redshift Spectrum también escala de manera inteligente. Según la demanda de las consultas, Redshift Spectrum puede utilizar miles de instancias para aprovechar el procesamiento masivo en paralelo.</p>
      <p>Puede crear tablas de Redshift Spectrum al definir la estructura para sus archivos y registrarlos como tablas en un catálogo de datos externo. El catálogo de datos externo puede ser AWS Glue, el catálogo de datos que incluye Amazon Athena o su propio metastore de Apache Hive. Puede crear y administrar tablas externas desde Amazon Redshift mediante comandos de lenguaje de definición de datos (DDL) o cualquier otra herramienta que se conecte al catálogo de datos externo. Los cambios en el catálogo de datos externo están disponibles de inmediato en cualquiera de los clústeres de Amazon Redshift. </p>
      <p>Opcionalmente, puede particionar las tablas externas en una o más columnas. Definir las particiones como parte de la tabla externa puede mejorar el rendimiento. La mejora se produce porque el optimizador de consultas de Amazon Redshift elimina las particiones que no tienen datos para la consulta. </p>
      <p>Después de que se hayan definido las tablas de Redshift Spectrum, puede consultar y combinar las tablas de la misma manera en que lo hace con cualquier otra tabla de Amazon Redshift. Redshift Spectrum no permite realizar operaciones de actualización en tablas externas. Puede agregar tablas de Redshift Spectrum a distintos clústeres de Amazon Redshift y consultar los mismos datos de Amazon S3 desde cualquier clúster que esté en la misma región de AWS. Cuando actualiza los archivos de datos de Amazon S3, los datos están disponibles de inmediato para consultarlos desde cualquiera de los clústeres de Amazon Redshift. </p>


      <p>El catálogo de datos de AWS Glue al que obtiene acceso podría estar cifrado para aumentar la seguridad. Si el catálogo de AWS Glue está cifrado, necesitará la clave de AWS Key Management Service (AWS KMS) para que AWS Glue pueda obtener acceso al catálogo de AWS Glue. El cifrado del catálogo de AWS Glue no está disponible en todas las regiones de AWS. Para obtener una lista de las regiones de AWS admitidas, consulte <a href="https://docs.aws.amazon.com/glue/latest/dg/encryption-glue-resources.html">Cifrado y acceso seguro para AWS Glue</a> en la <em><a href="https://docs.aws.amazon.com/glue/latest/dg/">Guía para desarrolladores de AWS Glue</a>. </em>Para obtener más información sobre el cifrado del catálogo de datos de AWS Glue, consulte <a href="https://docs.aws.amazon.com/glue/latest/dg/encrypt-glue-data-catalog.html">Cifrado de su catálogo de datos de AWS Glue</a> en la <em><a href="https://docs.aws.amazon.com/glue/latest/dg/">Guía para desarrolladores de AWS Glue</a>. </em> </p>


      <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>No puede ver los detalles de las tablas de Redshift Spectrum con los mismos recursos que utiliza para las tablas de Amazon Redshift estándar, como <a href="./r_PG_TABLE_DEF.html">PG_TABLE_DEF</a>, <a href="./r_STV_TBL_PERM.html">STV_TBL_PERM</a>, PG_CLASS o information_schema. Si su herramienta de análisis o inteligencia empresarial no reconoce las tablas externas de Redshift Spectrum, configure la aplicación para consultar <a href="./r_SVV_EXTERNAL_TABLES.html">SVV_EXTERNAL_TABLES</a> y <a href="./r_SVV_EXTERNAL_COLUMNS.html">SVV_EXTERNAL_COLUMNS</a>.</p></div></div>
       
         <h3 id="c-spectrum-regions">Regiones de Amazon Redshift Spectrum</h3>
         
         <p>Redshift Spectrum está disponible en las Regiones de AWS donde esté disponible Amazon Redshift, a menos que se indique lo contrario en la documentación específica de las regiones. Para conocer la disponibilidad de Región de AWS en regiones comerciales, consulte <a href="https://docs.aws.amazon.com/general/latest/gr/redshift-service.html#redshift_region">Puntos de conexión de servicio</a> para la <b>API de Redshift</b> en la <em>Referencia general de Amazon Web Services</em>. </p>
         
         
         
         
         
       
       
         <h3 id="c-spectrum-considerations">Consideraciones de Amazon Redshift Spectrum</h3>

         <p>Tenga en cuenta las siguientes consideraciones cuando utilice Amazon Redshift Spectrum:</p>
         <div class="itemizedlist">
             
             
             
             
            
             
             
            
             
            
             
            
            
         <ul class="itemizedlist"><li class="listitem">
               <p>El clúster de Amazon Redshift y el bucket de Amazon S3 deben estar en la misma región de AWS. </p>
            </li><li class="listitem">
               <p>Redshift Spectrum no admite el enrutamiento de VPC mejorado con clústeres aprovisionados. Para acceder a sus datos de Amazon S3, es posible que deba realizar pasos de configuración adicionales. Para obtener más información, consulte <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/spectrum-enhanced-vpc.html">Redshift Spectrum y enrutamiento de VPC mejorado</a> en la <em>Guía de administración de Amazon Redshift</em>.</p>
            </li><li class="listitem"><p>Redshift Spectrum es compatible con los alias de puntos de acceso de Amazon S3. Para obtener más información, consulte <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/access-points-alias.html">Uso de un alias de estilo bucket en su punto de acceso</a> en la <em>Guía del usuario de Amazon Simple Storage Service</em>. No obstante, Redshift Spectrum no admite la VPC con alias de punto de acceso de Amazon S3. Para obtener más información, consulte <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/spectrum-enhanced-vpc.html">Redshift Spectrum y enrutamiento de VPC mejorado</a> en la <em>Guía de administración de Amazon Redshift</em>.</p>
            </li><li class="listitem">
               <p>No puede realizar operaciones de actualización o eliminación en tablas externas. Para crear una nueva tabla externa en el esquema especificado, puede utilizar CREATE EXTERNAL TABLE. Para obtener más información acerca de CREATE EXTERNAL TABLE AS, consulte <a href="./r_CREATE_EXTERNAL_TABLE.html">CREATE EXTERNAL TABLE</a>. Para insertar los resultados de una consulta SELECT en tablas externas existentes en catálogos externos, puede utilizar INSERT (tabla externa). Para obtener más información acerca de INSERT (tabla externa), consulte <a href="./r_INSERT_external_table.html">INSERT (tabla externa)</a>.</p>
            </li><li class="listitem">
               <p>A menos que esté utilizando un AWS Glue Data Catalog habilitado para AWS Lake Formation, no puede controlar los permisos de usuario en una tabla externa. En cambio, sí puede conceder y revocar permisos en el esquema externo. Para obtener más información sobre el uso de AWS Lake Formation, consulte <a href="./spectrum-lake-formation.html">Uso de Redshift Spectrum con AWS Lake Formation</a>.</p>
            </li><li class="listitem">
               <p>Para ejecutar consultas de Redshift Spectrum, el usuario de la base de datos debe tener permiso para crear tablas temporales en ella. En el siguiente ejemplo, se concede un permiso temporal para la base de datos <code class="code">spectrumdb</code> al grupo de usuarios <code class="code">spectrumusers</code>. </p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">grant temp on database spectrumdb to group spectrumusers;</code></pre>
               <p>Para obtener más información, consulte <a href="./r_GRANT.html">GRANT</a>.</p>
            </li><li class="listitem">
               <p>Cuando utilice el catálogo de datos de Athena o de AWS Glue como almacén de metadatos, consulte <a href="https://docs.aws.amazon.com/redshift/latest/mgmt/amazon-redshift-limits.html">Cuotas y límites</a> en la <em>Guía de administración de Amazon Redshift</em>. </p>
               
            </li><li class="listitem">
               <p>Redshift Spectrum no es compatible con Amazon EMR con Kerberos.</p>
            </li></ul></div>
       
   <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Aviso" /> <strong>JavaScript está desactivado o no está disponible en su navegador.</strong></p><p>Para utilizar la documentación de AWS, debe estar habilitado JavaScript. Para obtener más información, consulte las páginas de ayuda de su navegador.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenciones del documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./federated-limitations.html">Consideraciones</div><div id="next" class="next-link" accesskey="n" href="./c-getting-started-using-spectrum.html">Introducción a Amazon Redshift Spectrum</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - Sí</div><div class="content"><p>Gracias por hacernos saber que estamos haciendo un buen trabajo.</p><p>Si tiene un momento, díganos qué es lo que le ha gustado para que podamos seguir trabajando en esa línea.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/c-using-spectrum.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - No</div><div class="content"><p>Gracias por informarnos de que debemos trabajar en esta página. Lamentamos haberle defraudado.</p><p>Si tiene un momento, díganos cómo podemos mejorar la documentación.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/c-using-spectrum.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>