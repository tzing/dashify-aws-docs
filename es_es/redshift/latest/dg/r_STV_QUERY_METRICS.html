<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="es-ES"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>STV_QUERY_METRICS - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_STV_QUERY_METRICS" /><meta name="default_state" content="r_STV_QUERY_METRICS" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_STV_QUERY_METRICS.html" /><meta name="description" content="Vea el rendimiento de la velocidad del disco y la utilización del disco para Amazon Redshift." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guía para desarrolladores de bases de datos" /><meta name="abstract" content="Cree y administre un almacenamiento de datos con Amazon Redshift, un servicio de almacenamiento de datos completamente administrado a escala de petabytes de nivel empresarial." /><meta name="guide-locale" content="es_es" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_STV_QUERY_METRICS.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_STV_QUERY_METRICS.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guía para desarrolladores de bases de datos" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guía para desarrolladores de bases de datos" /><meta id="panorama-serviceConsolePage" value="STV_QUERY_METRICS" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>STV_QUERY_METRICS - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#r_STV_QUERY_METRICS" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_STV_QUERY_METRICS.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_STV_QUERY_METRICS.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_STV_QUERY_METRICS.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,Clúster,almacenamiento de datos,desarrollador,datos de ejemplo,base de datos,desarrollador de base de datos,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guía para desarrolladores de bases de datos",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Referencia de las tablas y vistas de sistema",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/cm_chap_system-tables.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Monitoreo del sistema (solo aprovisionado)",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/c_intro_system_views.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Tablas STV para datos de instantáneas",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/c_intro_STV_tables.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "STV_QUERY_METRICS",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/c_intro_STV_tables.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#r_STV_QUERY_METRICS" target="_blank" rel="noopener noreferrer" title="Abrir PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentación</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guía para desarrolladores de bases de datos</a></div><div id="page-toc-src"><a href="#r_STV_QUERY_METRICS-table-rows2">Columnas de la tabla</a><a href="#r_STV_QUERY_METRICS-step-type">Tipos de pasos</a><a href="#r_STV_QUERY_METRICS-sample-query2">Consulta de ejemplo</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="r_STV_QUERY_METRICS">STV_QUERY_METRICS</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Tiene información acerca de las métricas, como la cantidad de filas procesadas, el uso de la CPU, la entrada/salida y el uso del disco para las consultas activas que se están ejecutando en colas de consultas (clases de servicios) definidas por el usuario. Para ver las métricas de las consultas que se han completado, consulte la tabla de sistema <a href="./r_STL_QUERY_METRICS.html">STL_QUERY_METRICS</a>. </p><p>Las métricas de consultas se muestran en intervalos de un segundo. Por este motivo, diferentes ejecuciones de la misma consulta pueden devolver horas que presentan una pequeña diferencia. Además, es posible que los segmentos de consultas que se ejecutan en menos de 1 segundo no se registren. </p><p>STV_QUERY_METRICS hace un seguimiento y agrega métricas en el de nivel consulta, segmento y paso. Para obtener más información acerca de los segmentos y los pasos de las consultas, consulte <a href="./c-query-planning.html">Flujo de trabajo de planificación y ejecución de consultas</a>. Distintas métricas (como <code class="code">max_rows</code>, <code class="code">cpu_time</code>, etc.) se suman en todos los sectores de un nodo. Para obtener más información acerca de los sectores de nodos, consulte <a href="./c_high_level_system_architecture.html">Arquitectura del sistema de almacenamiento de datos</a>. </p><p>Para determinar en qué nivel de fila se informa sobre las métricas, examine las columnas <code class="code">segment</code> y <code class="code">step_type</code>:</p><div class="itemizedlist">
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>Si tanto <code class="code">segment</code> como <code class="code">step_type</code> son igual a <code class="code">-1</code>, la fila se informa sobre las métricas en el nivel consulta. </p>
            </li><li class="listitem">
                <p>Si <code class="code">segment</code> no es <code class="code">-1</code> y <code class="code">step_type</code> es <code class="code">-1</code>, la fila se informa sobre las métricas en el nivel segmento. </p>
            </li><li class="listitem">
                <p>Si tanto <code class="code">segment</code> como <code class="code">step_type</code> no son <code class="code">-1</code>, la fila se informa sobre las métricas en el nivel paso. </p>
            </li></ul></div><p>STV_QUERY_METRICS es visible para todos los usuarios. Los superusuarios pueden ver todas las filas; los usuarios normales solo pueden ver sus datos. Para obtener más información, consulte <a href="./cm_chap_system-tables.html#c_visibility-of-data">Visibilidad de datos en las tablas y vistas de sistema</a>.</p><p>Algunos o todos los datos de esta tabla también están en la vista de monitoreo SYS <a href="./SYS_QUERY_DETAIL.html">SYS_QUERY_DETAIL</a>. Los datos de la vista de monitoreo SYS están formateados para que sean más fáciles de usar y entender. Se recomienda utilizar la vista de monitoreo SYS para las consultas.</p>
            <h2 id="r_STV_QUERY_METRICS-table-rows2">Columnas de la tabla</h2>



            <div class="table-container"><div class="table-contents"><table id="w320aac49c17c11c33c17b3"><thead>
                        <tr>
                            <th>Nombre de la columna </th>
                            <th>Tipo de datos </th>
                            <th>Descripción </th>
                        </tr>
                    </thead>
                        <tr>
                            <td tabindex="-1">userid </td>
                            <td tabindex="-1">integer </td>
                            <td tabindex="-1">ID del usuario que ejecutó la consulta que generó la entrada. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">service_class </td>
                            <td tabindex="-1">integer </td>
                            <td tabindex="-1">ID para la cola de consultas de WLM (clase de servicio). Las colas de consultas se definen en la configuración de WLM. Las métricas solo se informan para las colas definidas por el usuario.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">consulta</td>
                            <td tabindex="-1">integer </td>
                            <td tabindex="-1">ID de la consulta. La columna de consulta puede usarse para combinar otras vistas y tablas del sistema.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">starttime </td>
                            <td tabindex="-1">Marca de tiempo </td>
                            <td tabindex="-1">Hora en UTC en la que la consulta comenzó a ejecutarse, con 6 dígitos de precisión para los segundos fraccionados. Por ejemplo: <code class="code">2009-06-12 11:29:19.131358</code>. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">slices </td>
                            <td tabindex="-1">integer </td>
                            <td tabindex="-1">Cantidad de sectores para el clúster. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">segment </td>
                            <td tabindex="-1">integer </td>
                            <td tabindex="-1">Número del segmento. Una consulta consta de distintos segmentos y cada segmento consta de uno o más pasos. Los segmentos de una consulta se ejecutan en paralelo. Cada segmento se ejecuta en un solo proceso. Si el valor del segmento es -1, los valores métricos del segmento se acumulan hasta el nivel consulta.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">step_type </td>
                            <td tabindex="-1">integer </td>
                            <td tabindex="-1">Tipo de paso que se ejecutó. Para obtener una descripción de los tipos de pasos, consulte <a href="#r_STV_QUERY_METRICS-step-type">Tipos de pasos</a>. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">rows </td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">Cantidad de filas procesadas por un paso. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">max_rows </td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">Cantidad máxima de filas de salida para un paso, acumuladas en todos los sectores.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">cpu_time </td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">Tiempo de CPU utilizado, en microsegundos. En el nivel segmento, el tiempo de CPU total para el segmento en todos los sectores. En el nivel consulta, la suma de los tiempos de CPU para la consulta en todos los sectores y segmentos. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">max_cpu_time </td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">Tiempo de CPU máximo utilizado, en microsegundos. En el nivel segmento, el tiempo de CPU máximo utilizado por el segmento en todos los sectores. En el nivel consulta, el tiempo de CPU máximo utilizado por cualquier segmento de la consulta. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">blocks_read </td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">Cantidad de bloques de 1 MB leídos por la consulta o por el segmento. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">max_blocks_read </td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">Cantidad máxima de bloques de 1 MB leídos por el segmento, acumulados en todos los sectores. En el nivel segmento, la cantidad máxima de bloques de 1 MB leídos para el segmento en todos los sectores. En el nivel consulta, la cantidad máxima de bloques de 1 MB leídos por cualquier segmento de la consulta. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">run_time </td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">
                                <p>Tiempo de ejecución total, sumado en todos los sectores. El tiempo de ejecución no incluye el tiempo de espera. </p>
                                <p>En el nivel segmento, el tiempo de ejecución para el segmento, sumado en todos los sectores. En el nivel consulta, el tiempo de ejecución para la consulta, sumado en todos los sectores y segmentos. Como este valor es una suma, el tiempo de ejecución no está relacionado con el tiempo de ejecución de la consulta. </p>
                            </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">max_run_time </td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">El tiempo máximo transcurrido para un segmento, en microsegundos. En el nivel segmento, el tiempo máximo de ejecución para el segmento en todos los sectores. En el nivel consulta, el tiempo máximo de ejecución para cualquier segmento de la consulta. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">max_blocks_to_disk </td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">La cantidad máxima de espacio de disco utilizado para grabar los resultados intermedios, en bloques de 1 MB. En el nivel segmento, la cantidad máxima de espacio en disco utilizada por el segmento en todos los sectores. En el nivel consulta, la cantidad máxima de espacio en disco utilizada por cualquier segmento de la consulta. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">blocks_to_disk </td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">La cantidad de espacio de disco utilizado por una consulta o un segmento para grabar los resultados intermedios, en bloques de 1 MB.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">paso</td>
                            <td tabindex="-1">integer </td>
                            <td tabindex="-1">Paso de la consulta que se ejecutó.</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">max_query_scan_size</td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">El tamaño máximo de los datos examinados por una consulta, en MB. En el nivel segmento, el tamaño máximo de datos examinados por el segmento en todos los sectores. En el nivel consulta, el tamaño máximo de datos examinados por cualquier segmento de la consulta. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">query_scan_size</td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">El tamaño de los datos examinados por una consulta, en MB. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">query_priority </td>
                            <td tabindex="-1">integer </td>
                            <td tabindex="-1">La prioridad de la consulta. Los valores posibles son <code class="code">-1</code>, <code class="code">0</code>, <code class="code">1</code>, <code class="code">2</code>, <code class="code">3</code> y <code class="code">4</code>, donde <code class="code">-1</code> significa que no se admite la prioridad de la consulta. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">query_queue_time</td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">La cantidad de tiempo en microsegundos que la consulta estuvo en cola. </td>
                        </tr>
                    </table></div></div>
         
            <h2 id="r_STV_QUERY_METRICS-step-type">Tipos de pasos</h2>


            <p>En la siguiente tabla, se muestran los tipos de pasos relevantes para usuarios de bases de datos. En la tabla no se muestran los tipos de pasos que son solo para uso interno. Si el tipo de paso es -1, la métrica no se informa a nivel paso.</p>
            <div class="table-container"><div class="table-contents"><table id="w320aac49c17c11c33c19b5"><thead>
                        <tr>
                            <th>Step type (Tipo de paso)</th>
                            <th>Descripción </th>
                        </tr>
                    </thead>
                        <tr>
                            <td tabindex="-1">1 </td>
                            <td tabindex="-1">Examinar tabla</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">2</td>
                            <td tabindex="-1">Insertar filas</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">3 </td>
                            <td tabindex="-1">Añadir filas</td>
                        </tr>

                        <tr>
                            <td tabindex="-1">6 </td>
                            <td tabindex="-1">Paso de ordenación</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">7</td>
                            <td tabindex="-1">Paso de fusión</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">8</td>
                            <td tabindex="-1">Paso de distribución</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">9 </td>
                            <td tabindex="-1">Difundir paso de distribución</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">10</td>
                            <td tabindex="-1">Combinación hash</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">11</td>
                            <td tabindex="-1">Combinación de fusión</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">12</td>
                            <td tabindex="-1">Paso guardar</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">14</td>
                            <td tabindex="-1">Hash</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">15</td>
                            <td tabindex="-1">Combinación de bucle anidado </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">16</td>
                            <td tabindex="-1">Proyectar campos y expresiones</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">17</td>
                            <td tabindex="-1">Limitar la cantidad de filas devueltas </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">18</td>
                            <td tabindex="-1">Único</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">20</td>
                            <td tabindex="-1">Eliminar filas</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">26</td>
                            <td tabindex="-1">Limitar la cantidad de filas ordenadas devueltas</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">29</td>
                            <td tabindex="-1">Calcular una función de ventana</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">32</td>
                            <td tabindex="-1">Función definida por el usuario (UDF)</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">33</td>
                            <td tabindex="-1">Paso único</td>
                        </tr>

                        <tr>
                            <td tabindex="-1">37</td>
                            <td tabindex="-1">Devolver filas del nodo principal al cliente</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">38</td>
                            <td tabindex="-1">Devolver filas de los nodos de computación al nodo principal</td>
                        </tr>
                        <tr>
                            <td tabindex="-1">40</td>
                            <td tabindex="-1">Examen de Spectrum</td>
                        </tr>
                    </table></div></div>

         
            <h2 id="r_STV_QUERY_METRICS-sample-query2">Consulta de ejemplo</h2>


            <p>Para encontrar consultas activas con un tiempo alto de CPU (más de 1 000 segundos), ejecute la siguiente consulta.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select query, cpu_time / 1000000 as cpu_seconds
from stv_query_metrics where segment = -1 and cpu_time &gt; 1000000000
order by cpu_time;

query | cpu_seconds
------+------------
25775 |        9540</code></pre>
            <p>Para encontrar consultas activas con una combinación de bucle anidado que devolvieron más de un millón de filas, ejecute la siguiente consulta.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select query, rows 
from stv_query_metrics 
where step_type = 15 and rows &gt; 1000000
order by rows;

query | rows      
------+-----------
25775 | 1580225854</code></pre>
            <p>Para encontrar consultas activas que se ejecutaron por más de 60 segundos y que usaron menos de 10 segundos de tiempo de CPU, ejecute la siguiente consulta. </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select query, run_time/1000000 as run_time_seconds
from stv_query_metrics 
where segment = -1 and run_time &gt; 60000000 and cpu_time &lt; 10000000;

query | run_time_seconds
------+-----------------
25775 |              114</code></pre>
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Aviso" /> <strong>JavaScript está desactivado o no está disponible en su navegador.</strong></p><p>Para utilizar la documentación de AWS, debe estar habilitado JavaScript. Para obtener más información, consulte las páginas de ayuda de su navegador.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenciones del documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_STV_PARTITIONS.html">STV_PARTITIONS</div><div id="next" class="next-link" accesskey="n" href="./r_STV_RECENTS.html">STV_RECENTS</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - Sí</div><div class="content"><p>Gracias por hacernos saber que estamos haciendo un buen trabajo.</p><p>Si tiene un momento, díganos qué es lo que le ha gustado para que podamos seguir trabajando en esa línea.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_STV_QUERY_METRICS.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - No</div><div class="content"><p>Gracias por informarnos de que debemos trabajar en esta página. Lamentamos haberle defraudado.</p><p>Si tiene un momento, díganos cómo podemos mejorar la documentación.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_STV_QUERY_METRICS.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>