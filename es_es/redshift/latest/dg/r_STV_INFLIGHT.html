<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="es-ES"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>STV_INFLIGHT - Amazon Redshift</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="r_STV_INFLIGHT" /><meta name="default_state" content="r_STV_INFLIGHT" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_STV_INFLIGHT.html" /><meta name="description" content="Determina cuáles son las consultas que se están ejecutando en el clúster." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Redshift" /><meta name="guide" content="Guía para desarrolladores de bases de datos" /><meta name="abstract" content="Cree y administre un almacenamiento de datos con Amazon Redshift, un servicio de almacenamiento de datos completamente administrado a escala de petabytes de nivel empresarial." /><meta name="guide-locale" content="es_es" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_STV_INFLIGHT.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/redshift/latest/dg/r_STV_INFLIGHT.html" hreflang="x-default" /><meta name="feedback-item" content="Redshift" /><meta name="this_doc_product" content="Amazon Redshift" /><meta name="this_doc_guide" content="Guía para desarrolladores de bases de datos" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'redshift'}"></script><meta id="panorama-serviceSubSection" value="Guía para desarrolladores de bases de datos" /><meta id="panorama-serviceConsolePage" value="STV_INFLIGHT" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>STV_INFLIGHT - Amazon Redshift</title><meta name="pdf" content="redshift-dg.pdf#r_STV_INFLIGHT" /><meta name="rss" content="Dochistory.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=155" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_STV_INFLIGHT.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_STV_INFLIGHT.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_STV_INFLIGHT.html" /><meta name="keywords" content="Amazon Redshift,AWS Redshift,Redshift,Redshift Spectrum,Clúster,almacenamiento de datos,desarrollador,datos de ejemplo,base de datos,desarrollador de base de datos,HLL" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Redshift",
        "item" : "https://docs.aws.amazon.com/redshift/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guía para desarrolladores de bases de datos",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Referencia de las tablas y vistas de sistema",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/cm_chap_system-tables.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Monitoreo del sistema (solo aprovisionado)",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/c_intro_system_views.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Tablas STV para datos de instantáneas",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/c_intro_STV_tables.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "STV_INFLIGHT",
        "item" : "https://docs.aws.amazon.com/es_es/redshift/latest/dg/c_intro_STV_tables.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="redshift-dg.pdf#r_STV_INFLIGHT" target="_blank" rel="noopener noreferrer" title="Abrir PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentación</a><a href="/redshift/index.html">Amazon Redshift</a><a href="welcome.html">Guía para desarrolladores de bases de datos</a></div><div id="page-toc-src"><a href="#r_STV_INFLIGHT_troubleshooting">Solución de problemas con STV_INFLIGHT</a><a href="#r_STV_INFLIGHT-table-columns">Columnas de la tabla</a><a href="#r_STV_INFLIGHT-sample-queries">Consultas de ejemplo</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="r_STV_INFLIGHT">STV_INFLIGHT</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Utilice la tabla STV_INFLIGHT para determinar cuáles son las consultas que se están ejecutando en el clúster. Si está solucionando problemas, resulta útil para comprobar el estado de las consultas de larga duración. </p><p>STV_INFLIGHT no muestra las consultas únicas del nodo principal. Para obtener más información, consulte <a href="./c_SQL_functions_leader_node_only.html">Funciones específicas del nodo principal</a>. Todos los usuarios pueden ver STV_INFLIGHT. Los superusuarios pueden ver todas las filas; los usuarios normales solo pueden ver sus datos. Para obtener más información, consulte <a href="./cm_chap_system-tables.html#c_visibility-of-data">Visibilidad de datos en las tablas y vistas de sistema</a>.</p><p>Algunos o todos los datos de esta tabla también están en la vista de monitoreo SYS <a href="./SYS_QUERY_HISTORY.html">SYS_QUERY_HISTORY</a>. Los datos de la vista de monitoreo SYS están formateados para que sean más fáciles de usar y entender. Se recomienda utilizar la vista de monitoreo SYS para las consultas.</p>
            <h2 id="r_STV_INFLIGHT_troubleshooting">Solución de problemas con STV_INFLIGHT</h2>
            <p>Si utiliza STV_INFLIGHT para solucionar problemas de rendimiento de una consulta o de una colección de consultas, tenga en cuenta lo siguiente:</p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem"><p>Las transacciones abiertas de larga duración suelen aumentar la carga. Estas transacciones abiertas pueden dar lugar a tiempos de ejecución más largos para otras consultas.</p></li><li class="listitem"><p>Los trabajos COPY y ETL de larga duración pueden afectar a otras consultas que se ejecuten en el clúster, si están consumiendo muchos recursos de computación. En la mayoría de los casos, trasladar estos trabajos de larga duración a momentos de poco uso aumenta el rendimiento de las cargas de trabajo de creación de informes o análisis.</p></li><li class="listitem"><p>Existen vistas que proporcionan información relacionada con STV_INFLIGHT. Entre ellas se incluye <a href="./r_STL_QUERYTEXT.html">STL_QUERYTEXT</a>, que captura el texto de consulta de los comandos SQL, y <a href="./r_SVV_QUERY_INFLIGHT.html">SVV_QUERY_INFLIGHT</a>, que une STV_INFLIGHT a STL_QUERYTEXT. También puede utilizar <a href="./r_STV_RECENTS.html">STV_RECENTS</a> con STV_INFLIGHT para la solución de problemas. Por ejemplo, STV_RECENTS puede indicar si determinadas consultas se encuentran en estado <em>En ejecución</em> o <em>Terminado</em>. La combinación de esta información con los resultados de STV_INFLIGHT puede darle más información sobre las propiedades de una consulta y el impacto en los recursos de computación. </p></li></ul></div>
            <p>También puede monitorear las consultas en ejecución mediante la consola de Amazon Redshift.</p>
         
            <h2 id="r_STV_INFLIGHT-table-columns">Columnas de la tabla</h2>
            <div class="table-container"><div class="table-contents"><table id="w319aac49c17c11c17c11b3"><thead>
                        <tr>
                            <th>Nombre de la columna </th>
                            <th>Tipo de datos </th>
                            <th>Descripción </th>
                        </tr>
                    </thead>
                        <tr>
                            <td tabindex="-1">userid </td>
                            <td tabindex="-1">integer </td>
                            <td tabindex="-1">ID del usuario que generó la entrada. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">slice </td>
                            <td tabindex="-1">integer </td>
                            <td tabindex="-1">Sector donde se ejecuta la consulta. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">consulta </td>
                            <td tabindex="-1">integer </td>
                            <td tabindex="-1">ID de la consulta. Se puede usar para combinar distintas vistas y tablas del sistema. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">etiqueta </td>
                            <td tabindex="-1">character(320) </td>
                            <td tabindex="-1"> Ya sea el nombre del archivo utilizado para ejecutar la consulta o una etiqueta definida con un comando SET QUERY_GROUP. Si la consulta no se basa en archivos o si no se establece el parámetro QUERY_GROUP, el valor del campo queda en blanco. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">xid </td>
                            <td tabindex="-1">bigint </td>
                            <td tabindex="-1">ID de transacción. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">pid </td>
                            <td tabindex="-1">integer </td>
                            <td tabindex="-1">ID de proceso. Todas las consultas en una sesión se ejecutan en el mismo proceso, por lo que este valor permanece constante si ejecuta una serie de consultas en la misma sesión. Puede utilizar esta columna para combinar la tabla <a href="./r_STL_ERROR.html">STL_ERROR</a>. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">starttime </td>
                            <td tabindex="-1">Marca de tiempo </td>
                            <td tabindex="-1">La hora en que comenzó la consulta. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">texto </td>
                            <td tabindex="-1">character(100) </td>
                            <td tabindex="-1">Texto de la consulta, truncado en 100 caracteres si la instrucción supera ese límite. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">suspended </td>
                            <td tabindex="-1">integer </td>
                            <td tabindex="-1">Indica si la consulta está suspendida o no: 0 = false; 1 = true. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">insert_pristine </td>
                            <td tabindex="-1">integer </td>
                            <td tabindex="-1">Indica si las consultas de escritura pueden o pudieron ejecutarse mientras que la consulta actual se ejecuta o ejecutaba: 1 = no se permiten consultas de escritura; 0 = se permiten las consultas de escritura. Esta columna está diseñada para ser utilizada en la depuración. </td>
                        </tr>
                        <tr>
                            <td tabindex="-1">concurrency_scaling_status</td>
                            <td tabindex="-1">integer </td>
                            <td tabindex="-1"><p>Indica si la consulta se ejecutó en un clúster principal o en un clúster de escalado de simultaneidad. Los valores posibles son los siguientes: </p>
                                <p>0: se ejecutó en el clúster principal </p>
                                <p>1: se ejecutó en un clúster de escalado de simultaneidad </p>
                            </td>
                        </tr>
                    </table></div></div>
         
            <h2 id="r_STV_INFLIGHT-sample-queries">Consultas de ejemplo</h2>


            <p>Para ver todas las consultas activas que se están ejecutando actualmente en la base de datos, escriba la siguiente consulta: </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select * from stv_inflight;</code></pre>
            <p>En el siguiente ejemplo de salida, se muestra dos consultas que se están ejecutando actualmente, incluida la misma consulta STV_INFLIGHT y una consulta que se ejecutó desde un script denominado <code>avgwait.sql</code>: </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select slice, query, trim(label) querylabel, pid,
starttime, substring(text,1,20) querytext
from stv_inflight;

slice|query|querylabel | pid |        starttime         |      querytext
-----+-----+-----------+-----+--------------------------+--------------------
1011 |  21 |           | 646 |2012-01-26 13:23:15.645503|select slice, query,
1011 |  20 |avgwait.sql| 499 |2012-01-26 13:23:14.159912|select avg(datediff(
(2 rows)</code></pre>
            
            <p>La siguiente consulta selecciona varias columnas, como concurrency_scaling_status. Esta columna indica si las consultas se están enviando al clúster de escalado de simultaneidad. Si el valor es <code class="code">1</code> para algunos resultados, es una indicación de que se están utilizando recursos de computación con escalado de simultaneidad. Para obtener más información, consulte <a href="./concurrency-scaling.html">Trabajo con escalado de simultaneidad</a>.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">select userid, 
query,
pid,
starttime,
text,
suspended,
concurrency_scaling_status
 from STV_INFLIGHT;</code></pre>
            <p>La salida de ejemplo muestra el envío de una consulta al clúster de escalado de simultaneidad.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class=""> query  | pid     |        starttime           |   text                 | suspended     |  concurrency_scaling_status
--------+---------+----------------------------|------------------------|---------------|-------------------------------
1234567 | 123456  | 2012-01-26 13:23:15.645503 | select userid, query...  0                1
2345678 | 234567  | 2012-01-26 13:23:14.159912 | select avg(datediff(...  0                0
(2 rows)</code></pre>
        <p>Para obtener más consejos sobre la resolución de problemas de rendimiento de las consultas, consulte <a href="./queries-troubleshooting.html">Solución de problemas de consultas</a>.</p><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Aviso" /> <strong>JavaScript está desactivado o no está disponible en su navegador.</strong></p><p>Para utilizar la documentación de AWS, debe estar habilitado JavaScript. Para obtener más información, consulte las páginas de ayuda de su navegador.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenciones del documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./r_STV_EXEC_STATE.html">STV_EXEC_STATE</div><div id="next" class="next-link" accesskey="n" href="./r_STV_LOAD_STATE.html">STV_LOAD_STATE</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - Sí</div><div class="content"><p>Gracias por hacernos saber que estamos haciendo un buen trabajo.</p><p>Si tiene un momento, díganos qué es lo que le ha gustado para que podamos seguir trabajando en esa línea.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_STV_INFLIGHT.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - No</div><div class="content"><p>Gracias por informarnos de que debemos trabajar en esta página. Lamentamos haberle defraudado.</p><p>Si tiene un momento, díganos cómo podemos mejorar la documentación.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Redshift&amp;topic_url=https://docs.aws.amazon.com/es_es/redshift/latest/dg/r_STV_INFLIGHT.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>