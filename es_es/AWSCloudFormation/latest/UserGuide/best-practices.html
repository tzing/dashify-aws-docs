<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="es-ES"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Prácticas recomendadas de AWS CloudFormation - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="best-practices" /><meta name="default_state" content="best-practices" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/best-practices.html" /><meta name="description" content="Utilice las prácticas recomendadas para ayudarle a usar AWS CloudFormation de forma más eficaz y segura." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Guía del usuario" /><meta name="abstract" content="Cree y administre implementaciones de infraestructura de AWS de forma predecible y repetida mediante AWS CloudFormation con esta Guía del usuario." /><meta name="guide-locale" content="es_es" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/best-practices.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/best-practices.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Guía del usuario" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Guía del usuario" /><meta id="panorama-serviceConsolePage" value="Prácticas recomendadas de AWS CloudFormation" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Prácticas recomendadas de AWS CloudFormation - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/best-practices.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/best-practices.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/best-practices.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,aprovisionamiento de recursos,configuración de recursos,administración de la infraestructura,CloudFormer,Pila de CloudFormation,Conjunto de pilas de CloudFormation,Plantilla de CloudFormation,conjunto de cambios" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guía del usuario",
        "item" : "https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Prácticas recomendadas de AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/best-practices.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentación</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Guía del usuario</a></div><div id="page-toc-src"><a href="#shortenfeedbackloop">Reduzca el bucle de retroalimentación para mejorar la velocidad de entrega</a><a href="#organizingstacks">Organice sus pilas por ciclo de vida y titularidad</a><a href="#cross-stack">Utilice referencias de pila cruzadas para exportar recursos compartidos</a><a href="#limits">Verifique las cuotas de todos los tipos de recursos</a><a href="#reuse">Reutilice plantillas para replicar pilas en varios entornos</a><a href="#modules-reuse">Uso de módulos para reutilizar configuraciones de recursos</a><a href="#parmtypes">Uso de tipos de parámetros específicos de AWS</a><a href="#parmconstraints">Uso de limitaciones de los parámetros</a><a href="#pseudoparameters">Utilice pseudoparámetros para promover la portabilidad</a><a href="#cfninit">Use AWS::CloudFormation::Init para implementar aplicaciones de software en las instancias de Amazon EC2</a><a href="#helper-scripts">Utilice los scripts auxiliares más recientes</a><a href="#validate">Validar plantillas antes de usarlas</a><a href="#donttouch">Administre todos los recursos de pila a través de AWS CloudFormation</a><a href="#cfn-best-practices-changesets">Cree conjuntos de cambios antes de actualizar las pilas</a><a href="#stackpolicy">Utilice políticas de pila</a><a href="#code">Utilice revisiones de código y controles de revisión para administrar las plantillas</a><a href="#update-ec2-linux">Actualice sus instancias de Amazon EC2 regularmente</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="best-practices">Prácticas recomendadas de AWS CloudFormation</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Las prácticas recomendadas son recomendaciones que pueden ayudarle a usar AWS CloudFormation de forma más eficaz y segura a lo largo de todo su flujo de trabajo. Aprenda a planificar y organizar pilas, crear plantillas que describen los recursos y las aplicaciones de software que se ejecutan en ellas, y a administrar sus pilas y sus recursos. Las siguientes prácticas recomendadas se basan en experiencias reales de clientes de CloudFormation actuales.</p><div class="variablelist">
     
     
     
  <dl>
      <dt><b><span class="term">Planificación y organización</span></b></dt>
      <dd>
        <div class="itemizedlist">
           
           
           
           
           
           
           
        <ul class="itemizedlist"><li class="listitem">
            <p><a href="#shortenfeedbackloop">Reduzca el bucle de retroalimentación para mejorar la velocidad de entrega</a></p>
          </li><li class="listitem">
            <p><a href="#organizingstacks">Organice sus pilas por ciclo de vida y titularidad</a></p>
          </li><li class="listitem">
            <p><a href="#cross-stack">Utilice referencias de pila cruzadas para exportar recursos compartidos</a></p>
          </li><li class="listitem">
            <p><a href="./security-best-practices.html#use-iam-to-control-access">Utilice IAM para controlar el acceso</a></p>
          </li><li class="listitem">
            <p><a href="#reuse">Reutilice plantillas para replicar pilas en varios entornos</a></p>
          </li><li class="listitem">
            <p><a href="#limits">Verifique las cuotas de todos los tipos de recursos</a>
            </p>
          </li><li class="listitem">
            <p><a href="#modules-reuse">Uso de módulos para reutilizar configuraciones de recursos</a></p>
          </li></ul></div>
      </dd>
    
      <dt><b><span class="term">Creación de plantillas</span></b></dt>
      <dd>
        <div class="itemizedlist">
           
           
           
           
           
           
           
        <ul class="itemizedlist"><li class="listitem">
            <p><a href="./security-best-practices.html#creds">No integre credenciales en sus plantillas</a></p>
          </li><li class="listitem">
            <p><a href="#parmtypes">Uso de tipos de parámetros específicos de AWS</a></p>
          </li><li class="listitem">
            <p><a href="#parmconstraints">Uso de limitaciones de los parámetros</a></p>
          </li><li class="listitem">
            <p><a href="#pseudoparameters">Utilice pseudoparámetros para promover la portabilidad</a></p>
          </li><li class="listitem">
            <p><a href="#cfninit">Use AWS::CloudFormation::Init para implementar aplicaciones de software en las instancias de Amazon EC2</a></p>
          </li><li class="listitem">
            <p><a href="#helper-scripts">Utilice los scripts auxiliares más recientes</a></p>
          </li><li class="listitem">
            <p><a href="#validate">Validar plantillas antes de usarlas</a></p>
          </li></ul></div>
      </dd>
    
      <dt><b><span class="term">Gestión de pilas</span></b></dt>
      <dd>
        <div class="itemizedlist">
           
           
           
           
           
           
        <ul class="itemizedlist"><li class="listitem">
            <p><a href="#donttouch">Administre todos los recursos de pila a través de AWS CloudFormation</a></p>
          </li><li class="listitem">
            <p><a href="#cfn-best-practices-changesets">Cree conjuntos de cambios antes de actualizar las pilas</a></p>
          </li><li class="listitem">
            <p><a href="#stackpolicy">Utilice políticas de pila</a></p>
          </li><li class="listitem">
            <p><a href="./security-best-practices.html#cloudtrail">Utilice AWS CloudTrail para registrar las llamadas de AWS CloudFormation</a></p>
          </li><li class="listitem">
            <p><a href="#code">Utilice revisiones de código y controles de revisión para administrar las plantillas</a></p>
          </li><li class="listitem">
            <p><a href="#update-ec2-linux">Actualice sus instancias de Amazon EC2 regularmente</a></p>
          </li></ul></div>
      </dd>
    </dl></div>
    <h2 id="shortenfeedbackloop">Reduzca el bucle de retroalimentación para mejorar la velocidad de entrega</h2>

    <p>Adopte prácticas y herramientas que le ayuden a acortar el bucle de retroalimentación de la infraestructura que describe con las plantillas de CloudFormation. Esto incluye realizar análisis y pruebas iniciales de las plantillas en su estación de trabajo. Cuando lo haga, tendrá la oportunidad de descubrir posibles problemas de sintaxis y configuración incluso antes de enviar sus contribuciones a un repositorio de código fuente. El descubrimiento temprano de estos problemas ayuda a evitar que lleguen a los entornos del ciclo de vida formal, como el desarrollo, el control de calidad y la producción. Este enfoque de pruebas tempranas y respuestas rápidas a errores le ofrece las ventajas de reducir el tiempo de espera para volver a trabajar, reducir las posibles áreas de impacto y aumentar su nivel de confianza a la hora de realizar operaciones de aprovisionamiento satisfactorias.</p>
    <p>Las opciones de herramientas que lo ayudarán a desarrollar prácticas de respuesta rápida a los errores incluyen las herramientas de línea de comandos <a href="https://github.com/aws-cloudformation/cfn-lint" rel="noopener noreferrer" target="_blank"><span>AWS CloudFormation Linter</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> (cfn-lint) y <a href="https://github.com/aws-ia/taskcat" rel="noopener noreferrer" target="_blank"><span>TaskCat</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. La herramienta cfn-lint le permite validar sus plantillas de CloudFormation con la <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-resource-specification.html">especificación de recursos de AWS CloudFormation</a>. Esto incluye comprobar los valores válidos de las propiedades de los recursos, así como las prácticas recomendadas. Los complementos para cfn-lint están <a href="https://github.com/aws-cloudformation/cfn-lint#editor-plugins" rel="noopener noreferrer" target="_blank"><span>disponibles para varios editores de código</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>; esto le permite visualizar los problemas en su editor y obtener comentarios directos de linter. También puede optar por integrar cfn-lint en la configuración de su repositorio de código fuente, de modo que pueda realizar la validación de la plantilla cuando confirme sus contribuciones. Para obtener más información, consulte <a href="https://aws.amazon.com/blogs/mt/git-pre-commit-validation-of-aws-cloudformation-templates-with-cfn-lint/" rel="noopener noreferrer" target="_blank"><span>Validación previa a la confirmación de plantillas de AWS CloudFormation de Git con cfn-lint</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. Una vez que haya realizado el lint inicial (y solucionado cualquier problema que pudiera haber encontrado cfn-lint), puede usar TaskCat para probar sus plantillas al crear pilas mediante programación en las regiones de AWS que elija. TaskCat también genera un informe con calificaciones de aprobación/reprobación para cada región que elija.</p>
    <p>Para ver un tutorial práctico y paso a paso sobre cómo utilizar ambas herramientas para acortar el bucle de retroalimentación, siga el <a href="https://catalog.workshops.aws/cfn101/en-US/basics/templates/linting-and-testing" rel="noopener noreferrer" target="_blank"><span>Laboratorio de lint y pruebas</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> del <a href="https://catalog.workshops.aws/cfn101/en-US" rel="noopener noreferrer" target="_blank"><span>Taller de AWS CloudFormation</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
   
    <h2 id="organizingstacks">Organice sus pilas por ciclo de vida y titularidad</h2>

    <p>Utilice el ciclo de vida y la titularidad de sus recursos de AWS para ayudarlo a decidir qué recursos deberían ir en cada pila. Inicialmente, se pueden incluir todos los recursos en una sola pila, pero a medida que la pila crece en escala y su ámbito se amplía, administrar una sola pila puede ser tedioso y consumir mucho tiempo. Al agrupar los recursos con titularidad y ciclos de vida comunes, los propietarios pueden realizar cambios a su conjunto de recursos usando su propio proceso y programación sin que eso afecte a otros recursos.</p>
    <p>Por ejemplo, imagine un equipo de desarrolladores e ingenieros que posee un sitio web alojado en instancias de escalado automático detrás de un balanceador de carga. Dado que el sitio web tiene su propio ciclo de vida y lo mantiene su propio equipo, puede crear una pila para el sitio web y sus recursos. Ahora imagine que el sitio web también usa bases de datos de back-end, donde las bases de datos se encuentran en una pila aparte, bajo la titularidad y el mantenimiento de los administradores de bases de datos. Siempre que el equipo del sitio web o de la base de datos tengan que actualizar sus recursos, pueden hacerlo sin afectar a sus pilas mutuamente. Si todos los recursos estuvieran en una sola pila, coordinar y comunicar actualizaciones puede ser difícil.</p>
    <p>Si desea obtener instrucciones adicionales sobre cómo organizar pilas, puede utilizar dos marcos de trabajo comunes: una arquitectura de varias capas y arquitectura orientada a servicios (SOA, por sus siglas en inglés).</p>
    <p>Una arquitectura multicapa organiza pilas en varias capas horizontales apiladas unas sobre otras, y cada capa depende de la capa directamente inferior. Puede tener una o más pilas en cada capa, pero dentro de cada una, las pilas deberían tener recursos de AWS con ciclos de vida y titularidad similares.</p>
    <p>Con una arquitectura orientada a los servicios, puede organizar grandes problemas empresariales en partes controlables. Cada una de estas partes es un servicio con una finalidad claramente definida y que representa una unidad autónoma de funcionalidad. Puede asignar estos servicios a una pila, de modo que cada pila tiene su propio ciclo de vida y propietarios. Estos servicios (pilas) pueden conectarse para que puedan interactuar.</p>
   
    <h2 id="cross-stack">Utilice referencias de pila cruzadas para exportar recursos compartidos</h2>

    <p>Al organizar recursos de AWS en función del ciclo de vida y la titularidad, es posible que desee crear una pila que utiliza los recursos que están en otra pila. Puede codificar valores de forma predeterminada o usar parámetros de entrada para transferir ID y nombres de recursos. Sin embargo, con estos métodos las plantillas pueden ser difíciles de reutilizar o puede aumentar la sobrecarga para ejecutar una pila. En su lugar, utilice referencias de pila cruzadas para exportar recursos de una pila para que las demás pilas puedan utilizarlos. Las pilas pueden utilizar los recursos exportados llamándolos con la función <code class="code">Fn::ImportValue</code>.</p>
    <p>Por ejemplo, podría tener una pila de red que incluya una VPC, un grupo de seguridad y una subred. Le interesan todas las aplicaciones web públicas para utilizar estos recursos. Al exportar los recursos, permite que los usen todas los pilas con aplicaciones web públicas. Para obtener más información, consulte <a href="./walkthrough-crossstackref.html">Tutorial: Consulte las salidas de recursos en otra pila de AWS CloudFormation</a>.</p>
   
    <h2 id="limits">Verifique las cuotas de todos los tipos de recursos</h2>

    <p>Antes de lanzar una pila, asegúrese de que puede crear todos los recursos que desee sin llegar a los límites de su cuenta de AWS. En caso de llegar a un límite, CloudFormation no creará la pila de forma satisfactoria hasta que aumente su cuota o elimine recursos adicionales. Cada servicio puede tener varios límites que se deben tener en cuenta antes de lanzar una pila. Por ejemplo, de forma predeterminada, únicamente puede lanzar 2000 pilas de CloudFormation por región en su Cuenta de AWS. Para obtener más información acerca de los límites predeterminados, consulte <a href="https://docs.aws.amazon.com/general/latest/gr/aws_service_limits.html">AWS Service Quotas</a> en la <em>Referencia general de AWS</em>.</p>
   
    <h2 id="reuse">Reutilice plantillas para replicar pilas en varios entornos</h2>

    <p>Después de configurar pilas y recursos, puede volver a utilizar las plantillas para replicar su infraestructura en varios entornos. Por ejemplo, puede crear entornos para desarrollo, pruebas y producción y así probar los cambios antes de implementarlos en la producción. Para que las plantillas sean reutilizables, utilice las secciones de parámetros, mapeos y condiciones para poder personalizar las pilas al crearlas. Por ejemplo, en el caso de los entornos de desarrollo, puede especificar un tipo de instancia de menor costo que la de su entorno de producción, pero el resto de configuraciones y valores seguirá igual. Para obtener más información acerca de los parámetros, mappings y condiciones, consulte <a href="./template-anatomy.html">Anatomía de la plantilla</a>.</p>
   
    <h2 id="modules-reuse">Uso de módulos para reutilizar configuraciones de recursos</h2>

    <p>A medida que crece su infraestructura, pueden surgir patrones comunes donde usted declara los mismos componentes en cada plantilla. Los<em>módulos</em> son una forma de empaquetar configuraciones de recursos para su inclusión en plantillas de pila, de forma transparente, administrable y repetible. Los módulos pueden encapsular configuraciones de servicios comunes y prácticas recomendadas como componentes esenciales modulares y personalizables para que pueda incluirlos en las plantillas de pila.</p>
    <p>Estos bloques de construcción pueden destinarse a un único recurso, como las prácticas recomendadas para definir una instancia de Amazon Elastic Compute Cloud (Amazon EC2), o pueden servir para varios recursos, con el fin de definir patrones comunes de arquitectura de aplicaciones. Estos bloques de creación pueden anidarse en otros módulos, por lo que puede apilar prácticas recomendadas en bloques de creación de nivel superior. Los módulos de CloudFormation están disponibles en el <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/registry.html">registro de CloudFormation</a> para que pueda usarlos como un recurso nativo. Cuando utiliza un módulo de CloudFormation, la plantilla del módulo se expande en la plantilla consumidora, lo que le permite acceder a los recursos dentro del módulo mediante <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-ref.html">Ref</a> o <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-getatt.html">Fn::GetAtt</a>. Para obtener más información, consulte <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/modules.html">Módulos</a>.</p>
   
    <h2 id="parmtypes">Uso de tipos de parámetros específicos de AWS</h2>

    <p>Si la plantilla requiere entradas para unos valores específicos de AWS existentes, como los ID de Amazon Virtual Private Cloud existentes o el nombre de un par de claves de Amazon EC2, use los tipos de parámetros específicos de AWS. Por ejemplo, puede especificar un parámetro como tipo <code class="code">AWS::EC2::KeyPair::KeyName</code>, que adopta un nombre de par de claves existente que esté en su cuenta de AWS y en la región donde creó la pila. AWS CloudFormation puede validar rápidamente valores para tipos de parámetros específicos de AWS antes de crear la pila. Además, si usa la consola de CloudFormation, mostrará una lista desplegable de valores válidos, lo que elimina la necesidad de buscar o memorizar los ID de VPC o nombres de pares de claves correctos. Para obtener más información, consulte <a href="./parameters-section-structure.html">Parámetros</a>.</p>
   
    <h2 id="parmconstraints">Uso de limitaciones de los parámetros</h2>

    <p>Con limitaciones, puede describir los valores de entrada permitidos para que CloudFormation capture los valores no válidos antes de crear una pila. Puede establecer limitaciones como una longitud mínima, longitud máxima y patrones permitidos. Por ejemplo, puede establecer limitaciones en un valor de nombre de usuario de la base de datos, por lo que debe tener una longitud mínima de ocho caracteres y contener únicamente caracteres alfanuméricos. Para obtener más información, consulte <a href="./parameters-section-structure.html">Parámetros</a>.</p>
   
    <h2 id="pseudoparameters">Utilice pseudoparámetros para promover la portabilidad</h2>

    <p>Puede utilizar <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/pseudo-parameter-reference.html">pseudoparámetros</a> en las plantillas como argumentos para <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference.html">funciones intrínsecas</a>, como <code class="code">Ref</code> y <code class="code">Fn::Sub</code>. Los pseudoparámetros son parámetros predefinidos por CloudFormation. No los declara en su plantilla. El uso de pseudoparámetros en las funciones intrínsecas aumenta la portabilidad de las plantillas de pilas entre regiones y cuentas.</p>
    <p>Por ejemplo, imagine que desea crear una plantilla en la que, para una propiedad de recurso determinada, necesita especificar el <a href="https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html">nombre de recurso de Amazon</a> (ARN) de otro recurso existente. En este caso, el recurso existente es un recurso del <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/systems-manager-parameter-store.html">almacén de parámetros de AWS Systems Manager</a> con el siguiente ARN: <code class="code">arn:aws:ssm:us-east-1:111122223333:parameter/MySampleParameter</code>. Deberá adaptar el <a href="https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html#arns-syntax">formato del ARN</a> a su partición, región e ID de cuenta de AWS de destino. En lugar de realizar una codificación rígida de estos valores, puede usar los pseudoparámetros <code class="code">AWS::Partition</code>, <code class="code">AWS::Region</code> y <code class="code">AWS::AccountId</code> para que su plantilla sea más portátil. En este caso, el siguiente ejemplo muestra cómo concatenar elementos de un ARN con CloudFormation: <code class="code">!Sub
        'arn:$<span>{</span>AWS::Partition}:ssm:$<span>{</span>AWS::Region}:$<span>{</span>AWS::AccountId}:parameter/MySampleParameter</code>.</p>
    <p>Para otro ejemplo, suponga que desea utilizar <a href="./walkthrough-crossstackref.html">Tutorial: Consulte las salidas de recursos en otra pila de AWS CloudFormation</a> para hacer referencia a las salidas de recursos de otra pila de CloudFormation. En este ejemplo, suponga que ha creado una <a href="https://docs.aws.amazon.com/vpc/latest/userguide/configure-subnets.html">subred</a> para la VPC y, a continuación, <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/outputs-section-structure.html">ha exportado</a> su ID para usarlo con otras pilas de la misma cuenta y región. En otra pila, hace referencia al valor exportado del ID de subred al describir una instancia de Amazon EC2.</p>
    <p>Las exportaciones de pilas deben ser únicas por cuenta y por región. Por lo tanto, en este caso, puede usar el pseudoparámetro <code class="code">AWS::StackName</code> para crear un prefijo para la exportación. Dado que los nombres de las pilas también deben ser únicos por cuenta y por región, el uso de este pseudoparámetro como prefijo aumenta la posibilidad de tener un nombre de exportación único y, al mismo tiempo, promueve un enfoque reutilizable en todas las pilas desde las que se exportan los valores. Otra alternativa es utilizar un prefijo de su elección.</p>
    <p>Para ver un ejemplo detallado del uso del campo de salida <code class="code">Export</code> y la función intrínseca <code class="code">Fn::ImportValue</code>, consulte <a href="./walkthrough-crossstackref.html">Tutorial: Consulte las salidas de recursos en otra pila de AWS CloudFormation</a>.</p>
   
    <h2 id="cfninit">Use <code class="code">AWS::CloudFormation::Init</code> para implementar aplicaciones de software en las instancias de Amazon EC2</h2>

    <p>Al lanzar las pilas, puede instalar y configurar las aplicaciones de software en instancias Amazon EC2 con el script auxiliar cfn-init y el recurso <code class="code">AWS::CloudFormation::Init</code>. Al utilizar <code class="code">AWS::CloudFormation::Init</code>, puede describir las configuraciones que desee en lugar de unos pasos de procedimientos de scripts. También puede actualizar configuraciones sin volver a crear instancias. Y si algo no funciona con la configuración, CloudFormation genera registros que puede utilizar para investigar problemas.</p>
    <p>En la plantilla, especifique los estados de instalación y configuración en el recurso <code class="code">AWS::CloudFormation::Init</code>. Para obtener una explicación detallada que muestra cómo utilizar cfn-init y <code class="code">AWS::CloudFormation::Init</code>, consulte <a href="./deploying.applications.html">Implementación de aplicaciones en Amazon EC2 con AWS CloudFormation</a>.</p>
   
    <h2 id="helper-scripts">Utilice los scripts auxiliares más recientes</h2>

    <p>Los <a href="./cfn-helper-scripts-reference.html">scripts auxiliares</a> se actualizan periódicamente. Asegúrese de incluir el siguiente comando en la propiedad <code class="code">UserData</code> de la plantilla antes de llamar a los scripts auxiliares para garantizar que las instancias lanzadas reciban los últimos scripts auxliar:</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="userinput">yum install -y aws-cfn-bootstrap</code></code></pre>
    <p>Para obtener más información acerca de cómo recibir los scripts auxliares más recientes, consulte <a href="./cfn-helper-scripts-reference.html">Referencia de scripts auxiliares de CloudFormation</a>.</p>
   
    <h2 id="validate">Validar plantillas antes de usarlas</h2>

    <p>Antes de utilizar una plantilla para crear o actualizar una pila, puede usar CloudFormation para validarla. Validar una plantilla puede ayudarle a identificar errores de sintaxis y algunos de semántica, como las dependencias circulares, antes de que CloudFormation cree recursos. Si usa la consola de CloudFormation, esta valida automáticamente la plantilla después de especificar parámetros de entrada. Para la AWS CLI o la API de CloudFormation, use el comando <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/validate-template.html"><code class="code">aws cloudformation validate-template</code></a> o la operación <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_ValidateTemplate.html"><code class="code">ValidateTemplate</code></a> de API.</p>
    <p>Durante la validación, CloudFormation comprueba primero si la plantilla es un JSON válido. Si no lo es, CloudFormation comprueba si la plantilla es un YAML válido. Si ambas comprobaciones fallan, CloudFormation devuelve un error de validación de plantilla.</p>
     
      <h3 id="validate-compliance">Validar plantillas para la conformidad de políticas de organización</h3>
      <p>También puede validar su plantilla para comprobar el cumplimiento de las directrices de la política de la organización. AWS CloudFormation Guard (<code class="code">cfn-guard</code>) es una herramienta de interfaz de línea de comandos (CLI) de código abierto que proporciona un lenguaje de políticas como código para definir reglas que pueden comprobar las configuraciones de recursos obligatorias y prohibidas. A continuación, le permite validar sus plantillas en función de esas reglas. Por ejemplo, los administradores pueden crear reglas para asegurarse de que los usuarios siempre creen buckets de Amazon S3 cifrados.</p>
      <p>Puede utilizar <code class="code">cfn-guard</code> localmente, mientras edita plantillas o automáticamente como parte de una canalización CI/CD para parar la implementación de recursos no conformes.</p>
      <p>Además, <code class="code">cfn-guard</code> incluye una característica, <code class="code">rulegen</code>, que permite extraer reglas de plantillas de CloudFormation compatibles existentes.</p>
      <p>Para obtener más información, consulte el repositorio <a href="https://github.com/aws-cloudformation/cloudformation-guard" rel="noopener noreferrer" target="_blank"><span>cfn-guard</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> de GitHub.</p>
     
   
    <h2 id="donttouch">Administre todos los recursos de pila a través de AWS CloudFormation</h2>

    <p>Después de lanzar una pila, use la <a href="https://console.aws.amazon.com/cloudformation/home" rel="noopener noreferrer" target="_blank"><span>consola</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> de CloudFormation, la <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/">API</a> o la <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/index.html">CLI de AWS</a> para actualizar los recursos de la pila. No realice cambios en los recursos de la pila fuera de CloudFormation. Eso puede crear una discrepancia entre la pila de la plantilla y el estado actual de los recursos de la pila, lo que puede producir errores si actualiza o elimina la pila. Para obtener más información, consulte <a href="./updating.stacks.walkthrough.html">Tutorial: Actualización de una pila</a>.</p>
   
    <h2 id="cfn-best-practices-changesets">Cree conjuntos de cambios antes de actualizar las pilas</h2>

    <p>Los conjuntos de cambios permiten ver cómo afectarían los cambios propuestos a una pila a los recursos que ya estén en ejecución, antes de implementarlos. CloudFormation no hace ningún cambio en la pila hasta que se ejecuta el conjunto de cambios, lo que le permite decidir si desea continuar con los cambios propuestos o crear otro conjunto de cambios.</p>
    <p>Utilice conjuntos de cambio para comprobar cómo podrían afectar los cambios a los recursos en ejecución, especialmente para recursos de vital importancia. Por ejemplo, si cambia el nombre de una instancia de base de datos de Amazon RDS, CloudFormation creará una nueva base de datos y eliminará la antigua; se perderán los datos de la base antigua salvo que ya tenga una copia de seguridad. Si genera un conjunto de cambios, verá que el cambio sustituirá a la base de datos. Esto puede ayudarle a planificar antes de actualizar la pila. Para obtener más información, consulte <a href="./using-cfn-updating-stacks-changesets.html">Actualización de pilas con conjuntos de cambios</a>.</p>
   
    <h2 id="stackpolicy">Utilice políticas de pila</h2>

    <p>Las políticas de pila ayudan a proteger los recursos de pila vitales de actualizaciones involuntarias que podrían interrumpir o incluso sustituir los recursos. Una política de pilas es un documento de JSON que describe qué acciones de actualización pueden realizarse en unos recursos designados. Especifique una política de pilas cada vez que cree una pila que tenga recursos de vital importancia.</p>
    <p>Durante una actualización de pilas, debe especificar de forma explícita los recursos protegidos que desea actualizar; de lo contrario, no se producen cambios en los recursos protegidos. Para obtener más información, consulte <a href="./protect-stack-resources.html">Impida actualizaciones en los recursos de la pila</a>.</p>
   
    <h2 id="code">Utilice revisiones de código y controles de revisión para administrar las plantillas</h2>

    <p>Sus plantillas de pila describen la configuración de los recursos de AWS, como los valores de las propiedades. Para revisar los cambios y mantener una historia exacta de los recursos, utilice revisiones de código y controles de revisión. Estos métodos pueden ayudarle a realizar un seguimiento de los cambios entre diferentes versiones de las plantillas, que pueden ayudarle a realizar un seguimiento de los cambios en los recursos de la pila. Además, al mantener un historial, siempre puede devolver la pila a una versión concreta de la plantilla.</p>
   
    <h2 id="update-ec2-linux">Actualice sus instancias de Amazon EC2 regularmente</h2>

    <p>En todas sus instancias de Windows de Amazon EC2 y las instancias de Linux de Amazon EC2 creadas con CloudFormation ejecute el comando <code class="code">yum update</code> con regularidad para actualizar el paquete RPM. Esto garantiza la obtención de las últimas correcciones y actualizaciones de seguridad.</p>
  <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Aviso" /> <strong>JavaScript está desactivado o no está disponible en su navegador.</strong></p><p>Para utilizar la documentación de AWS, debe estar habilitado JavaScript. Para obtener más información, consulte las páginas de ayuda de su navegador.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenciones del documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./vpc-interface-endpoints.html">Puntos de conexión de VPC (AWS PrivateLink)</div><div id="next" class="next-link" accesskey="n" href="./continuous-delivery-codepipeline.html">Entrega continua</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - Sí</div><div class="content"><p>Gracias por hacernos saber que estamos haciendo un buen trabajo.</p><p>Si tiene un momento, díganos qué es lo que le ha gustado para que podamos seguir trabajando en esa línea.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/best-practices.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - No</div><div class="content"><p>Gracias por informarnos de que debemos trabajar en esta página. Lamentamos haberle defraudado.</p><p>Si tiene un momento, díganos cómo podemos mejorar la documentación.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/best-practices.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>