<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="es-ES"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Más información sobre los aspectos básicos de las plantillas - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="gettingstarted.templatebasics" /><meta name="default_state" content="gettingstarted.templatebasics" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" /><meta name="description" content="Aprenda los conceptos básicos de las plantillas sobre el uso de recursos, parámetros y otros componentes de las plantillas y cómo funcionan juntos." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Guía del usuario" /><meta name="abstract" content="Cree y administre implementaciones de infraestructura de AWS de forma predecible y repetida mediante AWS CloudFormation con esta Guía del usuario." /><meta name="guide-locale" content="es_es" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Guía del usuario" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Guía del usuario" /><meta id="panorama-serviceConsolePage" value="Más información sobre los aspectos básicos de las plantillas" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Más información sobre los aspectos básicos de las plantillas - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,aprovisionamiento de recursos,configuración de recursos,administración de la infraestructura,CloudFormer,Pila de CloudFormation,Conjunto de pilas de CloudFormation,Plantilla de CloudFormation,conjunto de cambios" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guía del usuario",
        "item" : "https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Introducción a AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/GettingStarted.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Más información sobre los aspectos básicos de las plantillas",
        "item" : "https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/GettingStarted.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentación</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Guía del usuario</a></div><div id="page-toc-src"><a href="#gettingstarted.templatebasics.what">¿Qué es una plantilla de AWS CloudFormation?</a><a href="#gettingstarted.templatebasics.simple">Recursos: Hello Bucket!</a><a href="#gettingstarted.templatebasics.multiple">Propiedades de recursos y uso simultáneo de recursos</a><a href="#gettingstarted.templatebasics.parameters">Recepción de la entrada del usuario mediante los parámetros de entrada</a><a href="#gettingstarted.templatebasics.mappings">Especificación de valores condicionales con asignaciones</a><a href="#gettingstarted.templatebasics.outputs">Valores construidos y valores de salida</a><a href="#gettingstarted.templatebasics.learnmore">Siguientes pasos</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="gettingstarted.templatebasics">Más información sobre los aspectos básicos de las plantillas</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><div class="highlights" id="inline-topiclist"><h6>Temas</h6><ul><li><a href="#gettingstarted.templatebasics.what">¿Qué es una plantilla de AWS CloudFormation?</a></li><li><a href="#gettingstarted.templatebasics.simple">Recursos: Hello Bucket!</a></li><li><a href="#gettingstarted.templatebasics.multiple">Propiedades de recursos y uso simultáneo de recursos</a></li><li><a href="#gettingstarted.templatebasics.parameters">Recepción de la entrada del usuario mediante los parámetros de entrada</a></li><li><a href="#gettingstarted.templatebasics.mappings">Especificación de valores condicionales con asignaciones</a></li><li><a href="#gettingstarted.templatebasics.outputs">Valores construidos y valores de salida</a></li><li><a href="#gettingstarted.templatebasics.learnmore">Siguientes pasos</a></li></ul></div><p>En <a href="./GettingStarted.Walkthrough.html">Introducción</a>, ha aprendido a utilizar una plantilla para crear una pila. Vio recursos declarados en una plantilla y cómo se asignan a recursos de la pila. También hemos mencionado los parámetros de entrada y cómo le permiten transmitir valores específicos cuando crea una pila a partir de una plantilla. En esta sección, profundizaremos en los recursos y los parámetros. También abarcaremos los otros componentes de las plantillas para que sepa cómo utilizarlos de forma conjunta y pueda crear plantillas que produzcan los recursos de AWS que desea.</p>
    <h2 id="gettingstarted.templatebasics.what">¿Qué es una plantilla de AWS CloudFormation?</h2>

    <p>Una plantilla es una declaración de los recursos de AWS que componen una pila. La plantilla se almacena como un archivo de texto cuyo formato cumple con el estándar Notación de objetos JavaScript (JSON) o YAML. Dado que solo son archivos de texto, puede crearlos y editarlos en cualquier editor de texto, y administrarlos en su sistema de control de código fuente con el resto de sus códigos fuente. Para obtener más información sobre los formatos de plantilla, consulte <a href="./template-formats.html">Formatos de plantilla de AWS CloudFormation</a>.</p>
    <p>En la plantilla, usted declara los recursos de AWS que desea crear y configurar. Puede declarar un objeto como un par nombre-valor o un binomio de un nombre con un conjunto de objetos secundarios delimitado. La sintaxis depende del formato que utilice. Para obtener más información, consulte la <a href="./template-anatomy.html">anatomía de la plantilla</a>. El único objeto de nivel superior necesario es el objeto de recursos, que debe declarar al menos un recurso. Comencemos con la plantilla más básica que contiene únicamente un objeto de recursos, que contiene una declaración de recursos única.</p>
   
    <h2 id="gettingstarted.templatebasics.simple">Recursos: Hello Bucket!</h2>
    <p>El objeto de recursos contiene una lista de objetos de recursos. Una declaración de recursos contiene los atributos del recurso, que se declaran a sí mismos objetos secundarios. Un recurso debe tener un atributo <code class="code">Type</code>, que define el tipo de recurso de AWS que desea crear. El atributo <code class="code">Type</code> tiene un formato especial:</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="text ">AWS::<code class="replaceable">ProductIdentifier</code>::<code class="replaceable">ResourceType</code></code></pre>
    <p>Por ejemplo, el tipo de recurso para un bucket de Amazon S3 es <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-s3-bucket.html">AWS::S3::Bucket</a>. Para obtener una lista completa de tipos de recursos, consulte <a href="./template-reference.html">Referencia de la plantilla</a>.</p>
    <p>Echemos un vistazo a una plantilla básica. La siguiente plantilla declara un único recurso de tipo <code class="code">AWS::S3::Bucket:</code> con el nombre HelloBucket.</p>
    <div id="JSON" name="JSON" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.simple.json">JSON</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>&#xD;
    "Resources": <span>{</span>&#xD;
        "HelloBucket": <span>{</span>&#xD;
            "Type": "AWS::S3::Bucket"&#xD;
        }&#xD;
    }&#xD;
}</code></pre>
    </div>
    <div id="YAML" name="YAML" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.simple.yaml">YAML</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources:&#xD;
  HelloBucket:&#xD;
    Type: 'AWS::S3::Bucket'&#xD;
</code></pre>
    </div>
    <p>Si utiliza esta plantilla para crear una pila, AWS CloudFormation creará un bucket de Amazon S3. La creación de un bucket es sencilla, ya que CloudFormation puede crear un bucket con la configuración predeterminada. Para otros recursos, como un grupo de Amazon EC2 Auto Scaling o una instancia de EC2, CloudFormation necesita más información. Las declaraciones de recursos utilizan un atributo <code class="code">Properties</code> para especificar la información que se utiliza para crear un recurso.</p>
    <p>En función del tipo de recurso, algunas propiedades son necesarias, como la propiedad ImageId para un recurso <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-instance.html">AWS::EC2::Instance</a> y otras son opcionales. Algunas propiedades tienen valores predeterminados, como la propiedad AccessControl del recurso <code class="code">AWS::S3::Bucket</code>, por lo que especificar un valor para esas propiedades es opcional. Otras propiedades no son obligatorias, pero pueden agregar funcionalidades que desea, como la propiedad <code class="code">WebsiteConfiguration</code> del recurso <code class="code">AWS::S3::Bucket</code>. Especificar un valor para dichas propiedades es totalmente opcional y en función de sus necesidades. En el ejemplo anterior, dado que el recurso <code class="code">AWS::S3::Bucket</code> solo tiene propiedades opcionales y que no necesitábamos ninguna de las características opcionales, podríamos aceptar los valores predeterminados y omitir el atributo Properties (Propiedades).</p>
    <p>Para ver las propiedades de cada tipo de recurso, consulte los temas en <a href="./aws-template-resource-type-ref.html">Referencia de tipos de recursos y propiedades de AWS</a>.</p>
   
    <h2 id="gettingstarted.templatebasics.multiple">Propiedades de recursos y uso simultáneo de recursos</h2>

    <p>Normalmente, una propiedad de un recurso es simplemente un valor de cadena. Por ejemplo, la siguiente plantilla especifica una lista de control de acceso (ACL) (PublicRead) predefinida para la propiedad AccessControl del bucket.</p>
    <div id="JSON" name="JSON" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.multiple.json">JSON</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>&#xD;
    "Resources": <span>{</span>&#xD;
        "HelloBucket": <span>{</span>&#xD;
            "Type": "AWS::S3::Bucket",&#xD;
            "Properties": <span>{</span>&#xD;
                "AccessControl": "PublicRead"&#xD;
            }&#xD;
        }&#xD;
    }&#xD;
}</code></pre>
    </div>
    <div id="YAML" name="YAML" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.multiple.yaml">YAML</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources:&#xD;
  HelloBucket:&#xD;
    Type: 'AWS::S3::Bucket'&#xD;
    Properties:&#xD;
      AccessControl: PublicRead&#xD;
</code></pre>
    </div>
    <p>Algunos recursos pueden tener varias propiedades y algunas propiedades puede tener una o varias subpropiedades. Por ejemplo, el recurso <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-s3-bucket.html">AWS::S3::Bucket</a> tiene dos propiedades, AccessControl y WebsiteConfiguration. La propiedad WebsiteConfiguration tiene dos subpropiedades, IndexDocument y ErrorDocument. La siguiente plantilla muestra nuestro recurso de bucket original con las propiedades adicionales.</p>
    <div id="JSON" name="JSON" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.multiple.json2">JSON</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>&#xD;
    "Resources": <span>{</span>&#xD;
        "HelloBucket": <span>{</span>&#xD;
            "Type": "AWS::S3::Bucket",&#xD;
            "Properties": <span>{</span>&#xD;
                "AccessControl": "PublicRead",&#xD;
                "WebsiteConfiguration": <span>{</span>&#xD;
                    "IndexDocument": "index.html",&#xD;
                    "ErrorDocument": "error.html"&#xD;
                }&#xD;
            }&#xD;
        }&#xD;
    }&#xD;
}</code></pre>
    </div>
    <div id="YAML" name="YAML" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.multiple.yaml2">YAML</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources:&#xD;
  HelloBucket:&#xD;
    Type: 'AWS::S3::Bucket'&#xD;
    Properties:&#xD;
      AccessControl: PublicRead&#xD;
      WebsiteConfiguration:&#xD;
        IndexDocument: index.html&#xD;
        ErrorDocument: error.html&#xD;
</code></pre>
    </div>
    <p>Uno de los mayores beneficios de las plantillas y de CloudFormation es la capacidad de crear un conjunto de recursos que se combinan para crear una aplicación o solución. El nombre utilizado para un recurso dentro de la plantilla es un nombre lógico. Cuando CloudFormation crea el recurso, genera un nombre físico que se basa en la combinación del nombre lógico, el nombre de la pila y un ID único.</p>

    <p>Es posible que se esté preguntando cómo definir propiedades en un recurso en función del nombre o la propiedad de otro recurso. <span>Por ejemplo, puede crear <span>una distribución de CloudFront respaldada por un bucket de S3 o </span>una instancia de EC2 que utiliza los grupos de seguridad de EC2 y todos estos recursos pueden crearse en la misma plantilla </span>. CloudFormation dispone de una serie de funciones intrínsecas que puede utilizar para hacer referencia a otros recursos y sus propiedades. Puede utilizar la <a href="./intrinsic-function-reference-ref.html">función Ref</a> para referirse a una propiedad identificativa de un recurso. A menudo, esta es la virtualización paravirtual del recurso; sin embargo, a veces puede ser un identificador, como, por ejemplo, la dirección IP de un recurso <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-eip.html">AWS::EC2::EIP</a> o un Nombre de recurso de Amazon (ARN) para un tema de Amazon SNS. Para obtener una lista de los valores devueltos por la función Ref, consulte <a href="./intrinsic-function-reference-ref.html">Función Ref</a>. La siguiente plantilla contiene un recurso <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-instance.html">AWS::EC2::Instance</a>. La propiedad SecurityGroups del recurso llama a la función Ref para referirse a InstanceSecurityGroup del recurso <code class="code">AWS::EC2::SecurityGroup</code>.</p>
    <div id="JSON" name="JSON" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.multiple.json3">JSON</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Resources": <span>{</span>
        "Ec2Instance": <span>{</span>
            "Type": "AWS::EC2::Instance",
            "Properties": <span>{</span>
                "SecurityGroups": [
                    <span>{</span>
                        "Ref": "InstanceSecurityGroup"
                    }
                ],
                "KeyName": "mykey",
                "ImageId": ""
            }
        },
        "InstanceSecurityGroup": <span>{</span>
            "Type": "AWS::EC2::SecurityGroup",
            "Properties": <span>{</span>
                "GroupDescription": "Enable SSH access via port 22",
                "SecurityGroupIngress": [
                    <span>{</span>
                        "IpProtocol": "tcp",
                        "FromPort": 22,
                        "ToPort": 22,
                        "CidrIp": "0.0.0.0/0"
                    }
                ]
            }
        }
    }
}</code></pre>
    </div>
    <div id="YAML" name="YAML" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.multiple.yaml3">YAML</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources:
  Ec2Instance:
    Type: 'AWS::EC2::Instance'
    Properties:
      SecurityGroups:
        - !Ref InstanceSecurityGroup
      KeyName: mykey
      ImageId: ''
  InstanceSecurityGroup:
    Type: 'AWS::EC2::SecurityGroup'
    Properties:
      GroupDescription: Enable SSH access via port 22
      SecurityGroupIngress:
        - IpProtocol: tcp
          FromPort: 22
          ToPort: 22
          CidrIp: 0.0.0.0/0</code></pre>
    </div>
    <p>La propiedad SecurityGroups es una lista de grupos de seguridad y en el ejemplo previo solo hay un elemento en la lista. La siguiente plantilla tiene un elemento adicional en la lista de propiedades SecurityGroups.</p>
    <div id="JSON" name="JSON" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.multiple.json4">JSON</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Resources": <span>{</span>
        "Ec2Instance": <span>{</span>
            "Type": "AWS::EC2::Instance",
            "Properties": <span>{</span>
                "SecurityGroups": [
                    <span>{</span>
                        "Ref": "InstanceSecurityGroup"
                    },
                    "MyExistingSecurityGroup"
                ],
                "KeyName": "mykey",
                "ImageId": "ami-7a11e213"
            }
        },
        "InstanceSecurityGroup": <span>{</span>
            "Type": "AWS::EC2::SecurityGroup",
            "Properties": <span>{</span>
                "GroupDescription": "Enable SSH access via port 22",
                "SecurityGroupIngress": [
                    <span>{</span>
                        "IpProtocol": "tcp",
                        "FromPort": 22,
                        "ToPort": 22,
                        "CidrIp": "0.0.0.0/0"
                    }
                ]
            }
        }
    }
}</code></pre>
    </div>
    <div id="YAML" name="YAML" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.multiple.yaml4">YAML</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources:
  Ec2Instance:
    Type: 'AWS::EC2::Instance'
    Properties:
      SecurityGroups:
        - !Ref InstanceSecurityGroup
        - MyExistingSecurityGroup
      KeyName: mykey
      ImageId: ami-7a11e213
  InstanceSecurityGroup:
    Type: 'AWS::EC2::SecurityGroup'
    Properties:
      GroupDescription: Enable SSH access via port 22
      SecurityGroupIngress:
        - IpProtocol: tcp
          FromPort: 22
          ToPort: 22
          CidrIp: 0.0.0.0/0</code></pre>
    </div>
    <p>MyExistingSecurityGroup es una cadena que hace referencia a un grupo de seguridad de EC2 existente en lugar de a un grupo de seguridad declarado en una plantilla. Debe utilizar cadenas literales para hacer referencia a recursos de AWS existentes.</p>
    <p>En el ejemplo anterior, la propiedad KeyName de la propiedad <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-instance.html">AWS::EC2::Instance</a> es la mykey de la cadena literal. Esto significa que debe existir un par de claves con el nombre mykey en la Región donde se está creando la pila; de lo contrario, la creación de la pila fallará porque el par de claves no existe. El par de claves que utiliza puede variar según la región en la que esté creando la pila, o quizás desee compartir la plantilla con otra persona para que pueda utilizarla con su cuenta de AWS. En caso afirmativo, puede utilizar un parámetro de entrada para que el nombre del par de claves se pueda especificar cuando se crea la pila. La función Ref pueden hacer referencia a parámetros de entrada que se especifican en el momento de creación de la pila. La siguiente plantilla agrega un objeto de parámetros que contiene el parámetro KeyName, que se utiliza para especificar la propiedad KeyName para el recurso <code class="code">AWS::EC2::Instance</code>. El tipo de parámetro es <code class="code">AWS::EC2::KeyPair::KeyName</code>, lo que garantiza que un usuario especifique un nombre de par de claves válido en su cuenta y en la región donde se está creando la pila.</p>
    <div id="JSON" name="JSON" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.multiple.json5">JSON</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Parameters": <span>{</span>
    "KeyName": <span>{</span>
      "Description": "The EC2 Key Pair to allow SSH access to the instance",
      "Type": "AWS::EC2::KeyPair::KeyName"
    }
  },
  "Resources": <span>{</span>
    "Ec2Instance": <span>{</span>
      "Type": "AWS::EC2::Instance",
      "Properties": <span>{</span>
        "SecurityGroups": [
          <span>{</span>
            "Ref": "InstanceSecurityGroup"
          },
          "MyExistingSecurityGroup"
        ],
        "KeyName": <span>{</span>
          "Ref": "KeyName"
        },
        "ImageId": "ami-7a11e213"
      }
    },
    "InstanceSecurityGroup": <span>{</span>
      "Type": "AWS::EC2::SecurityGroup",
      "Properties": <span>{</span>
        "GroupDescription": "Enable SSH access via port 22",
        "SecurityGroupIngress": [
          <span>{</span>
            "IpProtocol": "tcp",
            "FromPort": 22,
            "ToPort": 22,
            "CidrIp": "0.0.0.0/0"
          }
        ]
      }
    }
  }
}</code></pre>
    </div>
    <div id="YAML" name="YAML" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.multiple.yaml5">YAML</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Parameters:
  KeyName:
    Description: The EC2 Key Pair to allow SSH access to the instance
    Type: 'AWS::EC2::KeyPair::KeyName'
Resources:
  Ec2Instance:
    Type: 'AWS::EC2::Instance'
    Properties:
      SecurityGroups:
        - !Ref InstanceSecurityGroup
        - MyExistingSecurityGroup
      KeyName: !Ref KeyName
      ImageId: ami-7a11e213
  InstanceSecurityGroup:
    Type: 'AWS::EC2::SecurityGroup'
    Properties:
      GroupDescription: Enable SSH access via port 22
      SecurityGroupIngress:
        - IpProtocol: tcp
          FromPort: 22
          ToPort: 22
          CidrIp: 0.0.0.0/0</code></pre>
    </div>
    <p>La función Ref es útil si el parámetro o el valor que se proporciona para un recurso es exactamente lo que desea; sin embargo, es posible que necesite otros atributos de un recurso. Por ejemplo, si desea crear una distribución de CloudFront con un origen de S3, debe especificar la ubicación del bucket mediante una dirección de estilo DNS. Una serie de recursos tienen atributos adicionales cuyos valores puede utilizar en su plantilla. Para obtener estos atributos, utilice la función <a href="./intrinsic-function-reference-getatt.html">Fn::GetAtt</a>. La siguiente plantilla crea un recurso de distribución de CloudFront que especifica el nombre de DNS de un recurso de bucket de S3 utilizando la función Fn:GetAtt para obtener el atributo DomainName del bucket.</p>
    <div id="JSON" name="JSON" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.multiple.json6">JSON</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Resources": <span>{</span>
    "myBucket": <span>{</span>
      "Type": "AWS::S3::Bucket"
    },
    "myDistribution": <span>{</span>
      "Type": "AWS::CloudFront::Distribution",
      "Properties": <span>{</span>
        "DistributionConfig": <span>{</span>
          "Origins": [
            <span>{</span>
              "DomainName": <span>{</span>
                "Fn::GetAtt": [
                  "myBucket",
                  "DomainName"
                ]
              },
              "Id": "myS3Origin",
              "S3OriginConfig": <span>{</span>}
            }
          ],
          "Enabled": "true",
          "DefaultCacheBehavior": <span>{</span>
            "TargetOriginId": "myS3Origin",
            "ForwardedValues": <span>{</span>
              "QueryString": "false"
            },
            "ViewerProtocolPolicy": "allow-all"
          }
        }
      }
    }
  }
}</code></pre>
    </div>
    <div id="YAML" name="YAML" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.multiple.yaml6">YAML</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources:
  myBucket:
    Type: 'AWS::S3::Bucket'
  myDistribution:
    Type: 'AWS::CloudFront::Distribution'
    Properties:
      DistributionConfig:
        Origins:
          - DomainName: !GetAtt 
              - myBucket
              - DomainName
            Id: myS3Origin
            S3OriginConfig: <span>{</span>}
        Enabled: 'true'
        DefaultCacheBehavior:
          TargetOriginId: myS3Origin
          ForwardedValues:
            QueryString: 'false'
          ViewerProtocolPolicy: allow-all</code></pre>
    </div>
    <p>La función Fn::GetAtt tiene dos parámetros, el nombre lógico del recurso y el nombre del atributo que debe recuperarse. Para obtener una lista completa de los atributos disponibles para los recursos, consulte <a href="./intrinsic-function-reference-getatt.html">Fn::GetAtt</a>. Observará que la función Fn::GetAtt enumera sus dos parámetros en una matriz. Para funciones que utilizan varios parámetros, usted utiliza una matriz para especificar los parámetros.</p>
   
    <h2 id="gettingstarted.templatebasics.parameters">Recepción de la entrada del usuario mediante los parámetros de entrada</h2>

    <p>Hasta ahora, ha obtenido información acerca de los recursos y un poco acerca de cómo utilizarlos junto con una plantilla. Ha aprendido cómo referirse a los parámetros de entrada, pero no hemos profundizado demasiado sobre cómo definir los parámetros de entrada. Echemos un vistazo a las declaraciones de parámetros y cómo puede restringir y validar la entrada del usuario.</p>
    <p>Puede declarar parámetros en un objeto de parámetros de una plantilla. Un parámetro contiene una lista de atributos que definen su valor y limitaciones frente a su valor. El único atributo obligatorio es Type, que puede ser String, Number o un tipo específico de AWS. También puede añadir un atributo Description que proporciona al usuario más información acerca del tipo de valor que debe especificar. El nombre y la descripción del parámetro aparecen en la página Specify Parameters cuando un usuario utiliza la plantilla en el asistente Create Stack.</p>
    <p>El siguiente fragmento de código de plantilla es un objeto de parámetros que declara los parámetros que se utilizan en la página Specify Parameters anterior.</p>
    <div id="JSON" name="JSON" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.parameters.json">JSON</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">  "Parameters": <span>{</span>
    "KeyName": <span>{</span>
      "Description" : "Name of an existing EC2 KeyPair to enable SSH access into the WordPress web server",
      "Type": "AWS::EC2::KeyPair::KeyName"
    },
    "WordPressUser": <span>{</span>
      "Default": "admin",
      "NoEcho": "true",
      "Description" : "The WordPress database admin account user name",
      "Type": "String",
      "MinLength": "1",
      "MaxLength": "16",
      "AllowedPattern" : "[a-zA-Z][a-zA-Z0-9]*"
    },
    "WebServerPort": <span>{</span>
      "Default": "8888",
      "Description" : "TCP/IP port for the WordPress web server",
      "Type": "Number",
      "MinValue": "1",
      "MaxValue": "65535"
    }
  }</code></pre>
    </div>
    <div id="YAML" name="YAML" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.parameters.yaml">YAML</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Parameters:
  KeyName:
    Description: Name of an existing EC2 KeyPair to enable SSH access into the WordPress web server
    Type: AWS::EC2::KeyPair::KeyName
  WordPressUser:
    Default: admin
    NoEcho: true
    Description: The WordPress database admin account user name
    Type: String
    MinLength: 1
    MaxLength: 16
    AllowedPattern: "[a-zA-Z][a-zA-Z0-9]*"
  WebServerPort:
    Default: 8888
    Description: TCP/IP port for the WordPress web server
    Type: Number
    MinValue: 1
    MaxValue: 65535</code></pre>
    </div>
    <p>Para parámetros con valores predeterminados, CloudFormation utiliza los valores predeterminados a menos que los usuarios especifiquen otro valor. Si omite el atributo predeterminado, los usuarios deben especificar un valor para ese parámetro; sin embargo, exigir que el usuario introduzca un valor no garantiza que el valor sea válido. Para validar el valor de un parámetro, puede declarar limitaciones o indicar un tipo de parámetro específico de AWS.</p>
    <p>Observará que el parámetro <code class="code">KeyName</code> no tiene atributo <code class="code">Default</code> y que los otros parámetros sí lo tienen. Por ejemplo, el parámetro <code class="code">WordPressUser</code> tiene el atributo <code class="code">Default: admin</code>, pero el parámetro <code class="code">KeyName</code> no tiene ninguno. Los usuarios deben especificar un valor de nombre de clave al crear la pila. Si no es así, CloudFormation no logra crear la pila y arroja una excepción: <code class="code">Parameters: [KeyName] must have
        values</code>.</p>
    <p>Para tipos de parámetros específicos de AWS, CloudFormation valida los valores de entrada frente a los valores existentes en la cuenta de AWS del usuario y en la región en la que esté creando la pila <em>antes</em> de crear los recursos de la pila. En la plantilla de ejemplo, el parámetro <code class="code">KeyName</code> es un tipo de parámetro específico de AWS de <code class="code">AWS::EC2::KeyPair::KeyName</code>. CloudFormation comprueba que los usuarios especifican un nombre válido de pares de claves de EC2 antes de crear la pila. Otro ejemplo de un tipo de parámetro específico de AWS es <code class="code">AWS::EC2::VPC::Id</code>, que requiere que los usuarios especifiquen un ID de VPC válido. Además de la validación por adelantado, la consola de AWS muestra una lista desplegable de valores válidos para los tipos de parámetros específicos de AWS, como nombres de pares de claves de EC2 o ID de VPC válidos, cuando los usuarios utilizan el asistente de creación de pilas.</p>
    <p>Para el tipo <code class="code">String</code>, puede utilizar los siguientes atributos para declarar limitaciones: <code class="code">MinLength</code>, <code class="code">MaxLength</code>, <code class="code">Default</code>, <code class="code">AllowedValues</code> y <code class="code">AllowedPattern</code>. En el ejemplo anterior, el parámetro <code class="code">WordPressUser</code> tiene tres limitaciones: el valor del parámetro debe tener entre 1 y 16 caracteres (<code class="code">MinLength</code>, <code class="code">MaxLength</code>) y empezar por una letra seguida de cualquier combinación de letras y números (<code class="code">AllowedPattern</code>).</p>
    <p>Para el tipo <code class="code">Number</code>, puede definir las siguientes limitaciones: <code class="code">MinValue</code>, <code class="code">MaxValue</code>, <code class="code">Default</code>y <code class="code">AllowedValues</code>. Un número puede ser un valor entero o flotante. En el ejemplo anterior, el parámetro <code class="code">WebServerPort</code> debe ser un número entre 1 y 65535 inclusive (<code class="code">MinValue</code>, <code class="code">MaxValue</code>).</p>
    <p>Al principio de esta sección, hemos mencionado que los parámetros son una buena forma de especificar datos específicos de la implementación o datos confidenciales, como contraseñas o nombres de usuario, que tiene que utilizar, pero que no desea incluir en la plantilla. Si establece el atributo <code class="code">NoEcho</code> en <code class="code">true</code>, CloudFormation devuelve el valor del parámetro enmascarado como asteriscos (*****) para cualquier llamada que describa la pila o los eventos de la pila, excepto para la información almacenada en las ubicaciones especificadas a continuación. En el ejemplo anterior, el valor del parámetro <code class="code">WordPressUser</code> no es visible para cualquiera que esté viendo los ajustes de la pila y su valor se devuelve en forma de asteriscos.</p>
    <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>importante</h6></div><div class="awsdocs-note-text"><p>El uso del atributo <code class="code">NoEcho</code> no enmascara ninguna información almacenada en lo que se muestra a continuación:</p><div class="itemizedlist">
           
           
           
         <ul class="itemizedlist"><li class="listitem">
           <p>La sección de la plantilla <code class="code">Metadata</code>. CloudFormation no transforma, modifica ni redacta ninguna información que incluya en la sección <code class="code">Metadata</code>. Para obtener más información, consulte <a href="./metadata-section-structure.html">Metadatos</a>.</p>
          </li><li class="listitem">
           <p>La sección de la plantilla <code class="code">Outputs</code>. Para obtener más información, consulte <a href="./outputs-section-structure.html">Salidas</a>.</p>
          </li><li class="listitem">
           <p>El atributo <code class="code">Metadata</code> de una definición de recurso. Para obtener más información, consulte <a href="./aws-attribute-metadata.html">Atributo Metadata</a>.</p>
          </li></ul></div><p>Recomendamos encarecidamente que no utilice estos mecanismos para incluir información confidencial, como contraseñas o secretos.</p></div></div>
    <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>importante</h6></div><div class="awsdocs-note-text"><p>En lugar de integrar información confidencial directamente en las plantillas de CloudFormation, se recomienda utilizar parámetros dinámicos en la plantilla de la pila para hacer referencia a la información confidencial almacenada y administrada fuera de CloudFormation, como en AWS Systems Manager Parameter Store o AWS Secrets Manager.</p><p>Para obtener más información, consulte las Prácticas recomendadas de <a href="./security-best-practices.html#creds">No integre credenciales en sus plantillas</a>.</p></div></div>
   
    <h2 id="gettingstarted.templatebasics.mappings">Especificación de valores condicionales con asignaciones</h2>

    <p>Los parámetros son una manera excelente de permitir a los usuarios que especifiquen valores únicos o confidenciales para su uso en las propiedades de los recursos de la pila; sin embargo, es posible que haya ajustes que dependan de la región o sean algo complejos para que los usuarios los averigüen debido a otras condiciones o dependencias. En estos casos, deberá incluir algo de lógica en la propia plantilla para que los usuarios puedan especificar valores más sencillos (o ninguno en absoluto) para obtener los resultados que desean. En un ejemplo anterior, codificamos el ID de la AMI para la propiedad ImageId de nuestra instancia de EC2. <span>Esto funciona correctamente en la región Este de EE. UU., donde representa la AMI que queremos. Sin embargo, si el usuario intenta crear la pila en una región diferente, obtendrá una AMI incorrecta o ninguna AMI en absoluto. (Los ID de la AMI son exclusivos de una región, de modo que el mismo ID de la AMI en una región diferente podría no representar a ninguna AMI o representar a una totalmente diferente.)</span> </p>
    <p>Para evitar este problema, tiene que especificar de alguna manera el ID de la AMI correcto en función de una entrada condicional (en este ejemplo, la región en la que se crea la pila). Hay dos características de las plantillas que pueden ayudar, el objeto Mappings (Asignaciones) y el pseudoparámetro <code class="code">AWS::Region</code>.</p>
    <p>El pseudoparámetro <code class="code">AWS::Region</code> es un valor que CloudFormation resuelve como la región en la que se crea la pila. CloudFormation resuelve los pseudoparámetros cuando usted crea la pila. Las asignaciones le permiten utilizar un valor de entrada como una condición que determina otro valor. Al igual que una instrucción switch, una mapeo asocia un conjunto de valores con otro. Con el parámetro <code class="code">AWS::Region</code> junto con una asignación puede asegurarse de que se especifica un ID de la AMI apropiado para la región. <span>La siguiente plantilla contiene un objeto de asignación con una asignación denominada RegionMap que se utiliza para asignar un ID de la AMI para la región apropiada.</span></p>
    <div id="JSON" name="JSON" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.mappings.json">JSON</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Parameters": <span>{</span>
    "KeyName": <span>{</span>
      "Description": "Name of an existing EC2 KeyPair to enable SSH access to the instance",
      "Type": "String"
    }
  },
  "Mappings": <span>{</span>
    "RegionMap": <span>{</span>
      "us-east-1": <span>{</span>
        "AMI": "ami-76f0061f"
      },
      "us-west-1": <span>{</span>
        "AMI": "ami-655a0a20"
      },
      "eu-west-1": <span>{</span>
        "AMI": "ami-7fd4e10b"
      },
      "ap-southeast-1": <span>{</span>
        "AMI": "ami-72621c20"
      },
      "ap-northeast-1": <span>{</span>
        "AMI": "ami-8e08a38f"
      }
    }
  },
  "Resources": <span>{</span>
    "Ec2Instance": <span>{</span>
      "Type": "AWS::EC2::Instance",
      "Properties": <span>{</span>
        "KeyName": <span>{</span>
          "Ref": "KeyName"
        },
        "ImageId": <span>{</span>
          "Fn::FindInMap": [
            "RegionMap",
            <span>{</span>
              "Ref": "AWS::Region"
            },
            "AMI"
          ]
        },
        "UserData": <span>{</span>
          "Fn::Base64": "80"
        }
      }
    }
  }
}</code></pre>
    </div>
    <div id="YAML" name="YAML" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.mappings.yaml">YAML</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Parameters:
  KeyName:
    Description: Name of an existing EC2 KeyPair to enable SSH access to the instance
    Type: String
Mappings:
  RegionMap:
    us-east-1:
      AMI: ami-76f0061f
    us-west-1:
      AMI: ami-655a0a20
    eu-west-1:
      AMI: ami-7fd4e10b
    ap-southeast-1:
      AMI: ami-72621c20
    ap-northeast-1:
      AMI: ami-8e08a38f
Resources:
  Ec2Instance:
    Type: 'AWS::EC2::Instance'
    Properties:
      KeyName: !Ref KeyName
      ImageId: !FindInMap 
        - RegionMap
        - !Ref 'AWS::Region'
        - AMI
      UserData: !Base64 '80'</code></pre>
    </div>
    <p>En el RegionMap, se asigna cada región a un par nombre-valor. El par nombre-valor es una etiqueta y el valor que se deben asignar. En RegionMap, AMI es la etiqueta y el ID de la AMI es el valor. Para utilizar una asignación para devolver un valor, utilice la función <a href="./intrinsic-function-reference-findinmap.html">Fn::FindInMap</a>, transfiriendo el nombre de la asignación, el valor que se utiliza para encontrar el valor asignado y la etiqueta del valor asignado que desea devolver.<span> En el ejemplo anterior, la propiedad ImageId del recurso Ec2Instance utiliza la función Fn::FindInMap para determinar su valor especificando RegionMap como la asignación que hay que utilizar, AWS::Region como el valor de entrada desde el que realizar la asignación y AMI como la etiqueta para identificar el valor que hay que asignar. Por ejemplo, si se utilizara esta plantilla para crear una pila en la región Oeste de EE. UU. (Norte de California), <code class="code">ImageId</code> se establecería en <code class="code">ami-655a0a20</code>.</span> </p>
    <div class="awsdocs-note awsdocs-tip"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>sugerencia</h6></div><div class="awsdocs-note-text"><p>El pseudoparámetro <code class="code">AWS::Region</code> le permite obtener la región donde se crea la pila. Algunos recursos, como <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-instance.html">AWS::EC2::Instance</a>, <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-as-group.html">AWS::AutoScaling::AutoScalingGroup</a> y <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-elb.html">AWS::ElasticLoadBalancing::LoadBalancer</a>, tienen una propiedad que especifica zonas de disponibilidad. Puede utilizar la <a href="./intrinsic-function-reference-getavailabilityzones.html">función Fn::GetAZs</a> para obtener la lista de todas las zonas de disponibilidad en una región.</p></div></div>
   
    <h2 id="gettingstarted.templatebasics.outputs">Valores construidos y valores de salida</h2>

    <p>Los parámetros y mapeos son una excelente manera de transferir o determinar valores específicos en el momento de creación de la pila, pero hay situaciones en las que un valor de un parámetro u otro atributo del recurso es tan solo parte del valor que necesita. Por ejemplo, en el siguiente fragmento de la plantilla de WordPress, la función Fn::Join crea la subpropiedad <code class="code">Target</code> de la propiedad <code class="code">HealthCheck</code> para el recurso <code class="code">ElasticLoadBalancer</code> concatenando el parámetro <code class="code">WebServerPort</code> con otras cadenas literales para formar el valor necesario.</p>
    <div id="JSON" name="JSON" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.outputs.json">JSON</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Resources": <span>{</span>
    "ElasticLoadBalancer": <span>{</span>
      "Type": "AWS::ElasticLoadBalancing::LoadBalancer",
      "Properties": <span>{</span>
        "AvailabilityZones": <span>{</span>
          "Fn::GetAZs": ""
        },
        "Instances": [
          <span>{</span>
            "Ref": "Ec2Instance1"
          },
          <span>{</span>
            "Ref": "Ec2Instance2"
          }
        ],
        "Listeners": [
          <span>{</span>
            "LoadBalancerPort": "80",
            "InstancePort": <span>{</span>
              "Ref": "WebServerPort"
            },
            "Protocol": "HTTP"
          }
        ],
        "HealthCheck": <span>{</span>
          "Target": <span>{</span>
            "Fn::Join": [
              "",
              [
                "HTTP:",
                <span>{</span>
                  "Ref": "WebServerPort"
                },
                "/"
              ]
            ]
          },
          "HealthyThreshold": "3",
          "UnhealthyThreshold": "5",
          "Interval": "30",
          "Timeout": "5"
        }
      }
    }
  }
}</code></pre>
    </div>
    <div id="YAML" name="YAML" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.outputs.yaml">YAML</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources:
  ElasticLoadBalancer:
    Type: 'AWS::ElasticLoadBalancing::LoadBalancer'
    Properties:
      AvailabilityZones: !GetAZs ''
      Instances:
        - !Ref Ec2Instance1
        - !Ref Ec2Instance2
      Listeners:
        - LoadBalancerPort: '80'
          InstancePort: !Ref WebServerPort
          Protocol: HTTP
      HealthCheck:
        Target: !Join 
          - ''
          - - 'HTTP:'
            - !Ref WebServerPort
            - /
        HealthyThreshold: '3'
        UnhealthyThreshold: '5'
        Interval: '30'
        Timeout: '5'</code></pre>
    </div>
    <p>La función Fn::Join toma dos parámetros, un delimitador que separa los valores que desea concatenar y una matriz de valores en el orden en el que desea que aparezcan. En el ejemplo anterior, la función Fn::Join especifica una cadena vacía como el delimitador y HTTP:, el valor del parámetro WebServerPort y un carácter / como los valores que hay que concatenar. Si WebServerPort tenía un valor de 8888, la propiedad Target se establecería en el siguiente valor:</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="text ">HTTP:8888/</code></pre>
    <p>La función Fn::Join también es útil para declarar valores de salida para la pila. El objeto Outputs en la plantilla contiene declaraciones para los valores que desea que estén disponibles después de que se haya creado la pila. Una salida es una manera cómoda de capturar información importante sobre sus recursos o parámetros de entrada. Por ejemplo, en la plantilla de WordPress, declaramos el siguiente objeto Outputs.</p>
    <div id="JSON" name="JSON" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.outputs.json2">JSON</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Outputs": <span>{</span>
        "InstallURL": <span>{</span>
            "Value": <span>{</span>
                "Fn::Join": [
                    "",
                    [
                        "http://",
                        <span>{</span>
                            "Fn::GetAtt": [
                                "ElasticLoadBalancer",
                                "DNSName"
                            ]
                        },
                        "/wp-admin/install.php"
                    ]
                ]
            },
            "Description": "Installation URL of the WordPress website"
        },
        "WebsiteURL": <span>{</span>
            "Value": <span>{</span>
                "Fn::Join": [
                    "",
                    [
                        "http://",
                        <span>{</span>
                            "Fn::GetAtt": [
                                "ElasticLoadBalancer",
                                "DNSName"
                            ]
                        }
                    ]
                ]
            }
        }
    }
}</code></pre>
    </div>
    <div id="YAML" name="YAML" class="section langfilter">
      <h3 id="gettingstarted.templatebasics.outputs.yaml2">YAML</h3>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Outputs:
  InstallURL:
    Value: !Join 
      - ''
      - - 'http://'
        - !GetAtt 
          - ElasticLoadBalancer
          - DNSName
        - /wp-admin/install.php
    Description: Installation URL of the WordPress website
  WebsiteURL:
    Value: !Join 
      - ''
      - - 'http://'
        - !GetAtt 
          - ElasticLoadBalancer
          - DNSName</code></pre>
    </div>
    <p>Cada valor de salida tiene un nombre, un atributo de valor que contiene la declaración del valor que se proporciona como el valor de salida y, de forma opcional, una descripción del valor. En el ejemplo anterior, InstallURL es la cadena devuelta por una llamada a la función Fn::Join que concatena http://, el nombre de DNS del recurso ElasticLoadBalancer y /wp-admin/install.php. El valor de salida debería ser similar al siguiente:</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="text ">http://mywptests-elasticl-1gb51l6sl8y5v-206169572.<span>us-east-2</span>.elb.amazonaws.com/wp-admin/install.php</code></pre>
    <p>En el tutorial de introducción, utilizamos este enlace para ir cómodamente a la página de instalación para el blog de WordPress que creamos. CloudFormation genera los valores de salida una vez que termina de crear la pila. Puede ver los valores de salida en la pestaña Outputs (Salidas) de la consola de CloudFormation o mediante el comando <code class="code">aws cloudformation describe-stacks</code>.</p>
   
    <h2 id="gettingstarted.templatebasics.learnmore">Siguientes pasos</h2>

    <p>Acabamos de ver las partes básicas de una plantilla y cómo utilizarlas. Ha aprendido lo siguiente acerca de las plantillas:</p>
    <div class="itemizedlist">
       
       
       
       
       
       
    <ul class="itemizedlist"><li class="listitem">
        <p>Declaración de recursos y sus propiedades.</p>
      </li><li class="listitem">
        <p>Referencia a otros recursos con la función Ref y atributos de recursos utilizando la función Fn::GetAtt.</p>
      </li><li class="listitem">
        <p>Uso de parámetros para permitir a los usuarios especificar valores durante el tiempo de creación de la pila y el uso de las restricciones para validar la entrada de parámetros.</p>
      </li><li class="listitem">
        <p>Uso de aplicaciones para determinar valores condicionales.</p>
      </li><li class="listitem">
        <p>Uso de la función Fn::Join para crear valores basados en parámetros, atributos de recursos y otras cadenas.</p>
      </li><li class="listitem">
        <p>Uso de los valores de salida para capturar información acerca de recursos de la pila.</p>
      </li></ul></div>
    <p>No hemos abarcado dos objetos de nivel superior en una plantilla: AWSTemplateFormatVersion y Description. AWSTemplateFormatVersion es simplemente la versión del formato de la plantilla: si no la especifica, CloudFormation utilizará la versión más reciente.</p>
    <p>Description se refiere a cualquier cadena YAML o JSON válida. Esta descripción aparece en la página Specify Parameters del asistente Create Stack. Para obtener más información, consulte <a href="./format-version-structure.html">Versión del formato</a> y <a href="./template-description-structure.html">Descripción</a>.</p>

    <p>Por supuesto, existen características de plantillas y de pilas más avanzadas. A continuación se muestra una lista de algunas importantes sobre las que debería obtener más información:</p>
    <p><em>Atributos opcionales</em> que se pueden utilizar con cualquier recurso:</p>
    <div class="itemizedlist">
       
       
       
    <ul class="itemizedlist"><li class="listitem">
        <p>El <a href="./aws-attribute-dependson.html">atributo DependsOn</a> le permite especificar el recurso que debe crearse después de otro.</p>
      </li><li class="listitem">
        <p>El <a href="./aws-attribute-deletionpolicy.html">atributo DeletionPolicy</a> le permite especificar cómo deberá tratar CloudFormation la eliminación de un recurso.</p>
      </li><li class="listitem">
        <p>El atributo <a href="./aws-attribute-metadata.html">Metadata</a> le permite especificar datos estructurados con un recurso.</p>
      </li></ul></div>
    <p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-stack.html"><em>AWS::CloudFormation::Stack</em></a> le permite anidar otra pila como un recurso dentro de la plantilla.</p>
  <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Aviso" /> <strong>JavaScript está desactivado o no está disponible en su navegador.</strong></p><p>Para utilizar la documentación de AWS, debe estar habilitado JavaScript. Para obtener más información, consulte las páginas de ayuda de su navegador.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenciones del documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./GettingStarted.Walkthrough.html">Introducción</div><div id="next" class="next-link" accesskey="n" href="./updating.stacks.walkthrough.html">Tutorial: Actualización de una pila</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - Sí</div><div class="content"><p>Gracias por hacernos saber que estamos haciendo un buen trabajo.</p><p>Si tiene un momento, díganos qué es lo que le ha gustado para que podamos seguir trabajando en esa línea.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - No</div><div class="content"><p>Gracias por informarnos de que debemos trabajar en esta página. Lamentamos haberle defraudado.</p><p>Si tiene un momento, díganos cómo podemos mejorar la documentación.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/gettingstarted.templatebasics.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>