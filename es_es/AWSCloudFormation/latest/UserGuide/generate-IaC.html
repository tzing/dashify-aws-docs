<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="es-ES"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Generación de plantillas para los recursos existentes - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="generate-IaC" /><meta name="default_state" content="generate-IaC" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/generate-IaC.html" /><meta name="description" content="Genere plantillas de infraestructura como código (IaC) a partir de los recursos de tipo AWS implementados en su cuenta que CloudFormation no administra." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Guía del usuario" /><meta name="abstract" content="Cree y administre implementaciones de infraestructura de AWS de forma predecible y repetida mediante AWS CloudFormation con esta Guía del usuario." /><meta name="guide-locale" content="es_es" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/generate-IaC.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/generate-IaC.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Guía del usuario" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Guía del usuario" /><meta id="panorama-serviceConsolePage" value="Generación de plantillas para los recursos existentes" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Generación de plantillas para los recursos existentes - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/generate-IaC.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/generate-IaC.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/generate-IaC.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,aprovisionamiento de recursos,configuración de recursos,administración de la infraestructura,CloudFormer,Pila de CloudFormation,Conjunto de pilas de CloudFormation,Plantilla de CloudFormation,conjunto de cambios,Generador de IaC,Generador de IaC de AWS CloudFormation" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guía del usuario",
        "item" : "https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Trabajo con plantillas de AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/template-guide.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Generación de plantillas para los recursos existentes",
        "item" : "https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/template-guide.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentación</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Guía del usuario</a></div><div id="page-toc-src"><a href="#generate-template-considerations">Consideraciones</a><a href="#generate-template-console">Generación de una plantilla (consola)</a><a href="#generate-template-cli">Generación de una plantilla (AWS CLI)</a><a href="#generate-IaC-cdk-migrate">Generación y administración de plantillas con el AWS CDK</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="generate-IaC">Generación de plantillas para los recursos existentes</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Con el <em>generador de IaC de AWS CloudFormation</em> (generador de infraestructura como código), puede generar una plantilla con los recursos de AWS aprovisionados en su cuenta que CloudFormation aún no administra. Use la plantilla para importar recursos en CloudFormation o replicar recursos en una nueva cuenta o región.</p><p>El proceso de generación de la IaC consta de varios pasos:</p><div class="orderedlist">
   
   
   
   
 <ol><li>
   <p>Inicie un escaneo de su cuenta.</p>
  </li><li>
   <p>Cree una plantilla, ya sea desde cero o mediante la plantilla de una pila existente como punto de partida.</p>
  </li><li>
   <p>Agregue los recursos escaneados y los recursos relacionados con la plantilla mediante el <em>asistente para agregar recursos</em>.</p>
  </li><li>
   <p>Importe los recursos que CloudFormation administrará como una pila o migre los recursos a una aplicación AWS CDK.</p>
  </li></ol></div><p>La característica de generador de IaC está disponible en todas las regiones comerciales y es compatible con muchos tipos de recursos comunes de AWS. Para obtener una lista completa, consulte <a href="./resource-import-supported-resources.html">Tipo de recurso compatible</a>.</p><div class="highlights"><h6>Temas</h6><ul><li><a href="#generate-template-considerations">Consideraciones</a></li><li><a href="#generate-template-console">Generación de una plantilla (consola)</a></li><li><a href="#generate-template-cli">Generación de una plantilla (AWS CLI)</a></li><li><a href="#generate-IaC-cdk-migrate">Generación y administración de plantillas con el AWS CDK</a></li><li><a href="./generate-IaC-write-only-properties.html">Generador de IaC y propiedades de solo escritura</a></li><li><a href="./generate-IaC-lambda-function.html">Actualización de recursos de AWS::Lambda::Function</a></li><li><a href="./generate-IaC-apigateway-restapi.html">Actualización de recursos de AWS::ApiGateway::RestAPI</a></li></ul></div>
  <h2 id="generate-template-considerations">Consideraciones</h2>
  <p>Puede generar plantillas <code class="code">JSON</code> o <code class="code">YAML</code> para los recursos de AWS publicados en el registro de CloudFormation para aquellos recursos sobre los que tiene permisos de lectura. Las plantillas para la función del generador de IaC modelan los recursos en la nube de forma fiable y rápida sin tener que describir un recurso propiedad por propiedad.</p>
  <p>En la siguiente tabla, se enumeran las cuotas disponibles para la característica de generación de IaC.</p>
  <div class="table-container"><div class="table-contents"><table id="w1348aac17c25c15b7"><thead>
     <tr>
      <th>Nombre</th>
      <th>Valor</th>
     </tr>
    </thead>
     <tr>
      <td tabindex="-1">
       <p>Número máximo de recursos que se pueden procesar en un análisis de cuenta</p>
      </td>
      <td tabindex="-1">
       <p>100000</p>
      </td>
     </tr>
     <tr>
      <td tabindex="-1">
       <p>Número de escaneos por día (para cuentas con menos de 10 000 recursos)</p>
      </td>
      <td tabindex="-1">
       <p>3</p>
      </td>
     </tr>
     <tr>
      <td tabindex="-1">
       <p>Número de escaneos por día (para cuentas con más de 10 000 recursos)</p>
      </td>
      <td tabindex="-1">
       <p>1</p>
      </td>
     </tr>
     <tr>
      <td tabindex="-1">
       <p>Número simultáneo de plantillas generadas por cuenta</p>
      </td>
      <td tabindex="-1">
       <p>5</p>
      </td>
     </tr>
     <tr>
      <td tabindex="-1">
       <p>Número simultáneo de recursos modelados para la generación de una plantilla.</p>
      </td>
      <td tabindex="-1">
       <p>5</p>
      </td>
     </tr>
     <tr>
      <td tabindex="-1">
       <p>Número total de recursos que se pueden modelar en una plantilla</p>
      </td>
      <td tabindex="-1">
       <p>500</p>
      </td>
     </tr>
    </table></div></div>
  <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>importante</h6></div><div class="awsdocs-note-text"><p>El generador IaC solo admite los recursos compatibles con la API de Cloud Control en tu región. Para obtener más información, consulte <a href="https://docs.aws.amazon.com/cloudcontrolapi/latest/userguide/resource-types.html#resource-types-determine-support">Determinar si un tipo de recurso admite la API de Cloud Control</a> en la <em>Guía del usuario de la API de Cloud Control</em></p></div></div>
  
  <h2 id="generate-template-console">Generación de una plantilla (consola)</h2>
  <p>En esta sección se describe cómo crear una plantilla, añadir recursos a la plantilla e importar recursos de la plantilla a una pila mediante la característica de generador de IaC.</p>
  
  <div class="procedure"><h6>Apertura de una plantilla nueva mediante el generador de IaC</h6><ol><li><p>Inicie sesión en la AWS Management Console y abra la consola de AWS CloudFormation en <a href="https://console.aws.amazon.com/cloudformation/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/cloudformation</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
    <p>Elija <b>Generador de IaC</b> en el panel de navegación.</p>
    <div class="mediaobject">
      
      <img src="images/IaC-generator.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;      Página de la consola del generador de IaC&#xA;     " style="max-width:100%" />
      
      
    </div>
   </li><li>
    <p>En el panel de <b>Escaneos</b>, seleccione <b>Iniciar un nuevo escaneo</b>. Los escaneos detectan los recursos aprovisionados en su cuenta y la relación entre los recursos. Cuantos más recursos tenga en su cuenta en la región, más tardará el escaneo.</p>
    <div class="mediaobject">
      
      <img src="images/IaC-generator-scans.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;      Escaneos del panel de la página de la consola del generador de IaC&#xA;     " style="max-width:100%" />
      
      
    </div>
   </li><li>
    <p>En el panel <b>Plantillas</b>, elija <b>Crear plantilla</b>.</p>
    <div class="mediaobject">
      
      <img src="images/IaC-generator-specify-template-details.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;      Especifique la página de detalles de la plantilla del generador de IaC&#xA;     " style="max-width:100%" />
      
      
    </div>
    <ol><li>
      <p>Seleccione <b>Comenzar desde una plantilla nueva</b>.</p>
     </li><li>
      <p>En el panel <b>Nombre de la plantilla</b>, escriba un nombre para la plantilla generada.</p>
     </li><li>
      <p>(Opcional) Configure la <b>Política de eliminación</b> y <b>Actualice la política de reemplazo</b>.</p>
     </li><li>
      <p>Seleccione <b>Siguiente</b> para añadir los recursos escaneados a la plantilla.</p>
     </li></ol>
   </li></ol></div>
  
  <div class="procedure"><h6>Ingreso de recursos a una plantilla</h6><ol><li>
    <p>En la lista de recursos escaneados, navegue a través de la lista de recursos escaneados. Puede filtrar los recursos por identificador de recurso, tipo de recurso o etiquetas. Los filtros se incluyen entre sí.</p>
    <div class="mediaobject">
      
      <img src="images/IaC-generator-add-scanned-resources.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;      Agregue el panel de recursos escaneados del generador de IaC&#xA;     " style="max-width:100%" />
      
      
    </div>
   </li><li>
    <p>Seleccione el recurso o los recursos que desee agregar.</p>
    <p>Repita los pasos 1 y 2 hasta que haya agregado todos los recursos necesarios a la plantilla.</p>
    <div class="mediaobject">
      
      <img src="images/IaC-generator-add-scanned-selected-resources.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;      Selección de los recursos escaneados al añadir el generador de IaC&#xA;     " style="max-width:100%" />
      
      
    </div>
   </li><li>
    <p>Seleccione <b>Siguiente</b> para salir de la página <b>Añadir recursos escaneados</b> y pasar a la página <b>Añadir recursos relacionados</b>.</p>
   </li><li>
    <p>Revise una lista recomendada de recursos relacionados. Los recursos relacionados, como las instancias de Amazon EC2 y los grupos de seguridad, son interdependientes y, por lo general, pertenecen a la misma carga de trabajo. Seleccione los recursos relacionados que desee incluir en la plantilla de generada.</p>
    <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Le sugerimos que añada todos los recursos relacionados a esta plantilla.</p></div></div>
    <div class="mediaobject">
      
      <img src="images/IaC-generator-add-related-resources.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;      Agregue recursos relacionados en el generador de IaC&#xA;     " style="max-width:100%" />
      
      
    </div>
   </li><li>
    <p>Revise los detalles de la plantilla, los recursos escaneados y los recursos relacionados. Para realizar cualquier cambio, elija <b>Editar</b>.</p>
   </li><li>
    <p>Seleccione <b>Crear plantilla</b> para salir de la página <b>Revisar y crear</b> y crear la plantilla.</p>
    <div class="mediaobject">
      
      <img src="images/IaC-generator-review-and-create.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;      Revise y cree la plantilla en el generador de IaC&#xA;     " style="max-width:100%" />
      
      
    </div>
   </li></ol></div>
  <p><em>Resultados</em>: ha empezado a crear su plantilla de CloudFormation y ha añadido los recursos escaneados y relacionados.</p>
  <div class="procedure"><h6>Cómo importar los recursos que CloudFormation administrará como una pila</h6><ol><li>
    
    <p>Seleccione <b>Importar a la pila</b> y después elija <b>Siguiente</b>.</p>
   </li><li>
    <p>Introduzca el nombre de la pila en el panel <b>Especificar pila</b> de la página <b>Especificar detalles de la pila</b>. Elija <b>Siguiente</b>.</p>
   </li><li>
    <p>Revise e introduzca los <a href="./parameters-section-structure.html">parámetros</a> de la pila. Elija <b>Siguiente</b>.</p>
    
   </li><li>
    <p>Revise sus opciones en la página <b>Revisar cambios</b> y seleccione <b>Siguiente</b>.</p>
   </li><li>
    <p>Revise los detalles en la página <b>Revisar e importar</b> y seleccione <b>Importar recursos</b>.</p>
   </li></ol></div>
  <p><em>Resultados</em>: todos los recursos agregados a la plantilla con el generador de IaC se importan a una pila de CloudFormation.</p>
  
  <h2 id="generate-template-cli">Generación de una plantilla (AWS CLI)</h2>
  <p>En esta sección se describe cómo buscar recursos, crear una plantilla, añadir recursos a la plantilla y actualizarla, así como también eliminar una plantilla con AWS CLI.</p>
  <div class="procedure"><h6>Cómo escanear recursos en su cuenta</h6><ul><li>
    <p>Para buscar recursos en su cuenta en la región seleccionada, utilice la operación <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/start-resource-scan.html">start-resource-scan</a>.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="prompt" copy="false">$ </code><code class="userinput">aws cloudformation start-resource-scan</code></code></pre>
    <p>El comando devuelve lo siguiente:</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "ResourceScanId": \
      "arn:aws:cloudformation:<code class="replaceable">us-east-1</code>:<code class="replaceable">123456789012</code>:resourceScan/<code class="replaceable">0a699f15-489c-43ca-a3ef-3e6ecfa5da60</code>"
}</code></pre>
   </li></ul></div>
  <div class="procedure"><h6>Cómo describir el escaneo de recursos de la cuenta</h6><ul><li>
    <p>Para describir el escaneo de los recursos de su cuenta, utilice la operación <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/describe-resource-scan.html">describe-resource-scan</a>.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="prompt" copy="false">$ </code><code class="userinput">aws cloudformation describe-resource-scan \
  --resource-scan-id \
    "arn:aws:cloudformation:<code class="replaceable">us-east-1</code>:<code class="replaceable">123456789012</code>:resourceScan/<code class="replaceable">0a699f15-489c-43ca-a3ef-3e6ecfa5da60</code>"</code></code></pre>
    <p>El comando devuelve lo siguiente:</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "ResourceScanId" : \
      "arn:aws:cloudformation:<code class="replaceable">us-east-1</code>:<code class="replaceable">123456789012</code>:resourceScan/<code class="replaceable">0a699f15-489c-43ca-a3ef-3e6ecfa5da60</code>",
    "Status": "complete",
    "StartTime": "2023-08-21T03:10:38.485000+00:00",
    "EndTime": "2023-08-21T03:20:28.485000+00:00",
    "PercentageCompleted": 100.0,
    "ResourceTypes": [
        "AWS::EKS::Cluster",
        "AWS::S3::Bucket"
    ],
}</code></pre>
   </li></ul></div>
  <div class="procedure"><h6>Cómo ver una lista de todos los recursos del escaneo</h6><ul><li>
    <p>Para enumerar los recursos que se encuentran en el escaneo, utilice la operación <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/list-resource-scan-resources.html">list-resource-scan-resources</a>. La respuesta incluye una columna que indica si CloudFormation ya administra el recurso.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="prompt" copy="false">$ </code><code class="userinput">aws cloudformation list-resource-scan-resources \
  --resource-scan-id \
    "arn:aws:cloudformation:<code class="replaceable">us-east-1</code>:<code class="replaceable">123456789012</code>:resourceScan/<code class="replaceable">0a699f15-489c-43ca-a3ef-3e6ecfa5da60</code>" \
  --resource-identifier exampleResource</code></code></pre>
    <p>El comando devuelve lo siguiente:</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Resources": [
        <span>{</span>
            "ResourceType": "AWS::EKS::Cluster",
            "ResourceIdentifier": <span>{</span>
                "ClusterName": "exampleResourceCluster"
            }
        },
            "ManagedByStack": false
        <span>{</span>
            "ResourceType": "AWS::S3::Bucket",
            "ResourceIdentifier": <span>{</span>
                "BucketName": "exampleResourceBucket"
            },
            "ManagedByStack": false
        }
    ]
}</code></pre>
    <p>En este ejemplo, asuma que el resultado de <code class="code">list-resource-scan-resources</code> se guarda en un archivo JSON denominado <code class="code">resources.json</code>.</p>
   </li></ul></div>
  <div class="procedure"><h6>Cómo enumerar todos los recursos relacionados con los recursos escaneados</h6><ul><li>
    <p>Para enumerar los recursos relacionados con los recursos escaneados, cree lotes de hasta 100 recursos escaneados y utilice la operación <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/list-resource-scan-related-resources.html">list-resource-scan-related-resources</a> para cada lote. Tenga en cuenta que el resultado puede contener recursos duplicados en la lista.</p>
    <p>La respuesta incluye una columna que indica si CloudFormation ya administra el recurso. Se recomienda añadir todos los recursos relacionados a la plantilla.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="prompt" copy="false">$ </code><code class="userinput">aws cloudformation list-resource-scan-related-resources \
  --resource-scan-id \
    "arn:aws:cloudformation:<code class="replaceable">us-east-1</code>:<code class="replaceable">123456789012</code>:resourceScan/<code class="replaceable">0a699f15-489c-43ca-a3ef-3e6ecfa5da60</code>" \
  --resources file://<code class="replaceable">resources</code>.json</code></code></pre>
    <p>El comando devuelve lo siguiente:</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "RelatedResources": [
        <span>{</span>
            "ResourceType": "AWS::EKS::Nodegroup",
            "ResourceIdentifier": <span>{</span>
                "NodegroupName": "exampleNodegroup"
            },
            "ManagedByStack": false
        },
        <span>{</span>
            "ResourceType": "AWS::IAM::Role",
            "ResourceIdentifier": <span>{</span>
                "RoleId": "arn:aws::iam::<code class="replaceable">123456789012</code>:role/S3Access"
            },
            "ManagedByStack": false
        }
    ]
}</code></pre>
    <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>La lista de recursos de entrada no puede superar una longitud de 100. Para enumerar los recursos relacionados de más de 100 recursos, ejecute la operación en lotes de 100 y consolide los resultados.</p></div></div>
    <p>Suponga que el resultado de <code class="code">list-resource-scan-related-resources</code> también se agrega al archivo JSON denominado <code class="code">resources.json</code>.</p>
   </li></ul></div>
  <div class="procedure"><h6>Cómo generar una plantilla</h6><ul><li>
    <p>Para generar una plantilla nueva sin recursos, utilice la operación <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/create-generated-template.html">create-generated-template</a> y especifique el nombre de la plantilla.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="prompt" copy="false">$ </code><code class="userinput">aws cloudformation create-generated-template \
  --generated-template-name <code class="replaceable">TemplateName</code></code></code></pre>
    <p>El comando <code class="code">create-generated-template</code> devuelve lo siguiente.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Arn": \
    "arn:aws:cloudformation:<code class="replaceable">us-east-1</code>:<code class="replaceable">123456789012</code>:generatedtemplate/<code class="replaceable">7fc8512c-d8cb-4e02-b266-d39c48344e48</code>",
  "Name": "<code class="replaceable">TemplateName</code>"
}</code></pre>
   </li></ul></div>
  <div class="procedure"><h6>Cómo actualizar la plantilla generada con recursos</h6><ul><li>
    <p>Para actualizar la plantilla recién creada, puede especificar una lista de recursos que desee agregar. En este ejemplo, usamos el archivo <code class="code">resources.json</code>. A continuación se muestra el archivo de texto JSON para <code class="code">resources.json</code>:</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">[
    <span>{</span>
        "ResourceType": "AWS::EKS::Cluster",
        "LogicalResourceId":"Cluster",
        "ResourceIdentifier": <span>{</span>
            "ClusterName": "exampleResourceCluster"
        }
    },
    <span>{</span>
        "ResourceType": "AWS::S3::Bucket",
        "LogicalResourceId":"Bucket",
        "ResourceIdentifier": <span>{</span>
            "BucketName": "exampleResourceBucket"
        }
    },
    <span>{</span>
        "ResourceType": "AWS::EKS::Nodegroup",
        "LogicalResourceId":"Nodegroup",
        "ResourceIdentifier": <span>{</span>
            "NodegroupName": "exampleNodegroup"
        }
    },
    <span>{</span>
        "ResourceType": "AWS::IAM::Role",
        "LogicalResourceId":"Role",
        "ResourceIdentifier": <span>{</span>
            "RoleId": "arn:aws::iam::<code class="replaceable">123456789012</code>:role/S3Access"
        }
    }
]</code></pre>
    <p>Para actualizar la plantilla, utilice la operación <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/update-generated-template.html">update-generated-template</a>, especifique el nombre de la pila y especifique el archivo de texto para añadir recursos a la plantilla. La opción <code class="code">--cloud-formation-template-configuration</code> no está incluida, por lo que las políticas <code class="code">UpdateReplacePolicy</code> y <code class="code">DeletionPolicy</code> están configuradas para <code class="code">Retain</code> de forma predeterminada.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="prompt" copy="false">$ </code><code class="userinput">aws cloudformation update-generated-template \
  --generated-template-name <code class="replaceable">TemplateName</code> \
  --add-resources file://<code class="replaceable">resources.json</code></code></code></pre>
    <p>El comando <code class="code">update-generated-template</code> devuelve lo siguiente.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span> 
  "Arn": "arn:aws:cloudformation:us-east-1:123456789012:template/equipment-sorter",
  "Name": "<code class="replaceable">TemplateName</code>"
}</code></pre>
   </li></ul></div>
  <div class="procedure"><h6>Cómo eliminar la plantilla especificada por nombre de pila</h6><ul><li>
    <p>Para eliminar la plantilla generada, utilice la operación <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/delete-generated-template.html">delete-generated-template</a> y especifique el nombre de la generación de la plantilla o el ARN de generación de la plantilla.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="prompt" copy="false">$ </code><code class="userinput">aws cloudformation delete-generated-template \
  --generated-template-name <code class="replaceable">TemplateName</code></code></code></pre>
   </li></ul></div>
  
  
  <h2 id="generate-IaC-cdk-migrate">Generación y administración de plantillas con el AWS CDK</h2>
  <p>AWS Cloud Development Kit (AWS CDK) es un marco de desarrollo de software de código abierto que puede utilizar para desarrollar, administrar e implementar los recursos de AWS CloudFormation mediante lenguajes de programación populares.</p>
  <p>La CLI de AWS CDK proporciona una integración con el generador de IaC. Use el comando AWS CDK de la CLI de <code class="code">cdk migrate</code> para generar una plantilla de AWS CloudFormation y crear una nueva aplicación CDK que contenga los recursos. A continuación, puede utilizar el AWS CDK para administrar los recursos y las implementaciones para AWS CloudFormation.</p>
  <p>Para obtener más información, consulte <a href="https://docs.aws.amazon.com/cdk/v2/guide/migrate.html">Migrar a AWS CDK</a> en la <em>Guía para desarrolladores de AWS Cloud Development Kit (AWS CDK)</em>.</p>
 <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Aviso" /> <strong>JavaScript está desactivado o no está disponible en su navegador.</strong></p><p>Para utilizar la documentación de AWS, debe estar habilitado JavaScript. Para obtener más información, consulte las páginas de ayuda de su navegador.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenciones del documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./scenario-sqs-queue.html">Amazon SQS</div><div id="next" class="next-link" accesskey="n" href="./generate-IaC-write-only-properties.html">Propiedades de solo escritura</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - Sí</div><div class="content"><p>Gracias por hacernos saber que estamos haciendo un buen trabajo.</p><p>Si tiene un momento, díganos qué es lo que le ha gustado para que podamos seguir trabajando en esa línea.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/generate-IaC.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - No</div><div class="content"><p>Gracias por informarnos de que debemos trabajar en esta página. Lamentamos haberle defraudado.</p><p>Si tiene un momento, díganos cómo podemos mejorar la documentación.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/generate-IaC.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>