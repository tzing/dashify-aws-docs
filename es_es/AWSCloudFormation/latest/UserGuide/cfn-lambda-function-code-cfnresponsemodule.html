<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="es-ES"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Módulo cfn-response - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="cfn-lambda-function-code-cfnresponsemodule" /><meta name="default_state" content="cfn-lambda-function-code-cfnresponsemodule" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" /><meta name="description" content="Al utilizar la propiedad ZipFile para especificar el código fuente de la función e interactuar dicha función con un recurso personalizado de AWS CloudFormation, puede cargar el módulo cfn-response para enviar las respuestas a esos recursos. El módulo contiene un método" /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Guía del usuario" /><meta name="abstract" content="Cree y administre implementaciones de infraestructura de AWS de forma predecible y repetida mediante AWS CloudFormation con esta Guía del usuario." /><meta name="guide-locale" content="es_es" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Guía del usuario" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Guía del usuario" /><meta id="panorama-serviceConsolePage" value="Módulo cfn-response" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Módulo cfn-response - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,aprovisionamiento de recursos,configuración de recursos,administración de la infraestructura,CloudFormer,Pila de CloudFormation,Conjunto de pilas de CloudFormation,Plantilla de CloudFormation,conjunto de cambios" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guía del usuario",
        "item" : "https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Trabajo con plantillas de AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/template-guide.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Recursos personalizados",
        "item" : "https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/template-custom-resources.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Recursos personalizados y respaldados por AWS Lambda",
        "item" : "https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/template-custom-resources-lambda.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Módulo cfn-response",
        "item" : "https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/template-custom-resources-lambda.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentación</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Guía del usuario</a></div><div id="page-toc-src"><a href="#cfn-lambda-function-code-cfnresponsemodule-loading">Carga del módulo cfn-response</a><a href="#cfn-lambda-function-code-cfnresponsemodule-send-parameters">Parámetros del método send</a><a href="#cfn-lambda-function-code-cfnresponsemodule-examples">Ejemplos</a><a href="#cfn-lambda-function-code-cfnresponsemodule-source">Código fuente del módulo</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="cfn-lambda-function-code-cfnresponsemodule">Módulo <code class="code">cfn-response</code></h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Al utilizar la propiedad <code class="code">ZipFile</code> para especificar el código fuente de la <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-lambda-function.html">función</a> e interactuar dicha función con un recurso personalizado de AWS CloudFormation, puede cargar el módulo <code class="code">cfn-response</code> para enviar las respuestas a esos recursos. El módulo contiene un método <code class="code">send</code>, que envía un <a href="./crpg-ref-responses.html">objeto de respuesta</a> a un recurso personalizado mediante una URL prefirmada de Amazon S3 (la <code class="code">ResponseURL</code>).</p><p>Después de ejecutar el método <code class="code">send</code>, la función de Lambda termina, así que todo lo que escriba después de este método se pasa por alto.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>El módulo <code class="code">cfn-response</code> solo está disponible si utiliza la propiedad <code class="code">ZipFile</code> para escribir el código fuente. No está disponible para el código fuente que se almacena en buckets de Amazon S3. Para un código de buckets de , debe escribir sus propias funciones para enviar respuestas.</p></div></div>
    <h2 id="cfn-lambda-function-code-cfnresponsemodule-loading">Carga del módulo <code class="code">cfn-response</code></h2>
    
    <p>Para las funciones de Node.js, utilice la función <code class="code">require()</code> para cargar el módulo <code class="code">cfn-response</code>. Por ejemplo, el siguiente ejemplo de código crea un objeto <code class="code">cfn-response</code> con el nombre <code class="code">response</code>:</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="js ">var response = require('cfn-response');</code></pre>
    
    <p>Para Python, utilice la declaración <code class="code">import</code> para cargar el módulo <code class="code">cfnresponse</code>, tal y como se muestra en el ejemplo siguiente:</p>
    <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Utilice esta declaración de importación exacto. Si utiliza otras variantes de la declaración de importación, AWS CloudFormation no incluirá el módulo de respuesta.</p></div></div>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="js ">import cfnresponse</code></pre>
   
    <h2 id="cfn-lambda-function-code-cfnresponsemodule-send-parameters">Parámetros del método <code class="code">send</code></h2>
    <p>Puede utilizar los siguientes parámetros con el método <code class="code">send</code>.</p>
    <div class="variablelist">
       
       
       
       
       
       
    <dl>
        <dt><span class="term"><code class="code">event</code></span></dt>
        <dd>
          <p>Los campos de una <a href="./crpg-ref-requesttypes.html">solicitud de recurso personalizado</a>.</p>
        </dd>
       
        <dt><span class="term"><code class="code">context</code></span></dt>
        <dd>
          <p>Un objeto, específico de las funciones de Lambda, que puede utilizar para especificar cuando la función y cualquier devolución de llamada han completado la ejecución o para obtener acceso a información desde el entorno de ejecución de Lambda. Para obtener más información, consulte <a href="https://docs.aws.amazon.com/lambda/latest/dg/programming-model.html">Programming model (Node.js)</a> (Modelo de programación [Node.js]) en la <em>Guía para desarrolladores de AWS Lambda</em>.</p>
        </dd>
       
        <dt><span class="term"><code class="code">responseStatus</code></span></dt>
        <dd>
          <p>Independientemente de que la función se complete con éxito. Utilice las constantes del módulo <code class="code">cfnresponse</code> para especificar el estado: <code class="code">SUCCESS</code> para las ejecuciones de éxito y <code class="code">FAILED</code> para ejecuciones fallidas.</p>
        </dd>
       
        <dt><span class="term"><code class="code">responseData</code></span></dt>
        <dd>
          <p>El campo <code class="code">Data</code> de un <a href="./crpg-ref-responses.html">objeto de respuesta</a> de recursos personalizados. Los datos consisten en una lista de pares de nombre y valor.</p>
        </dd>
       
        <dt><span class="term"><code class="code">physicalResourceId</code></span></dt>
        <dd>
          <p>Opcional. El identificador único del recurso personalizado que invocó la función. De forma predeterminada, el módulo utiliza el nombre de la secuencia de registros de Amazon CloudWatch Logs que se asocia a la función de Lambda.</p>
          <p>El valor devuelto para un <code class="code">PhysicalResourceId</code> puede cambiar las operaciones de actualización de recursos personalizadas. Si el valor devuelto es el mismo, se considera una actualización normal. Si el valor es diferente, AWS CloudFormation reconoce la actualización como un reemplazo y envía una solicitud de eliminación al antiguo recurso. Para obtener más información, consulte <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-cloudformation-customresource.html"><code class="code">AWS::CloudFormation::CustomResource</code></a>.</p>
        </dd>
       
        <dt><span class="term"><code class="code">noEcho</code></span></dt>
        <dd>
          <p>Opcional. Indique si se enmascara la salida del recurso personalizado cuando se recupera con la función <code class="code">Fn::GetAtt</code>. Si se establece en <code class="code">true</code>, todos los valores devueltos se enmascaran con asteriscos (*****), excepto la información almacenada en las ubicaciones especificadas a continuación. De forma predeterminada, este valor es <code class="code">false</code>.</p>
          <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>importante</h6></div><div class="awsdocs-note-text"><p>El uso del atributo <code class="code">NoEcho</code> no enmascara ninguna información almacenada en lo que se muestra a continuación:</p><div class="itemizedlist">
           
           
           
         <ul class="itemizedlist"><li class="listitem">
           <p>La sección de la plantilla <code class="code">Metadata</code>. CloudFormation no transforma, modifica ni redacta ninguna información que incluya en la sección <code class="code">Metadata</code>. Para obtener más información, consulte <a href="./metadata-section-structure.html">Metadatos</a>.</p>
          </li><li class="listitem">
           <p>La sección de la plantilla <code class="code">Outputs</code>. Para obtener más información, consulte <a href="./outputs-section-structure.html">Salidas</a>.</p>
          </li><li class="listitem">
           <p>El atributo <code class="code">Metadata</code> de una definición de recurso. Para obtener más información, consulte <a href="./aws-attribute-metadata.html">Atributo Metadata</a>.</p>
          </li></ul></div><p>Recomendamos encarecidamente que no utilice estos mecanismos para incluir información confidencial, como contraseñas o secretos.</p></div></div>
          <p>Para obtener más información sobre cómo usar <code class="code">NoEcho</code> para enmascarar información confidencial, consulte la práctica recomendada <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/best-practices.html#creds">No incluya credenciales en sus plantillas</a>.</p>
        </dd>
      </dl></div>
   
    <h2 id="cfn-lambda-function-code-cfnresponsemodule-examples">Ejemplos</h2>
     
      <h3 id="cfn-lambda-function-code-zipfile-examplenodejs">Node.js</h3>
      <p>En el siguiente ejemplo Node.js, la función de Lambda en línea toma un valor de entrada y lo multiplica por 5. Las funciones en línea son especialmente útiles para las funciones más pequeñas, ya que le permiten especificar el código fuente directamente en la plantilla, en lugar de crear un paquete y cargarlo en un bucket de Amazon S3. La función utiliza el método <code class="code">cfn-response</code> <code class="code">send</code> para enviar el resultado de vuelta al recurso personalizado que invocó.</p>
      <div id="JSON" name="JSON" class="section langfilter">
        <h4 id="cfn-lambda-function-code-zipfile-examplenodejs.json">JSON</h4>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"ZipFile": <span>{</span> "Fn::Join": ["", [
  "var response = require('cfn-response');",
  "exports.handler = function(event, context) <span>{</span>",
  "  var input = parseInt(event.ResourceProperties.Input);",
  "  var responseData = <span>{</span>Value: input * 5};",
  "  response.send(event, context, response.SUCCESS, responseData);",
  "};"
]]}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h4 id="cfn-lambda-function-code-zipfile-examplenodejs-yaml">YAML</h4>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">ZipFile: &gt;
  var response = require('cfn-response');
  exports.handler = function(event, context) <span>{</span>
    var input = parseInt(event.ResourceProperties.Input);
    var responseData = <span>{</span>Value: input * 5};
    response.send(event, context, response.SUCCESS, responseData);
  };</code></pre>
      </div>
     
     
      <h3 id="cfn-lambda-function-code-zipfile-examplepython">Python</h3>
      <p>En el siguiente ejemplo de Python, la función de Lambda en línea toma un valor de entero y lo multiplica por 5.</p>
      <div id="JSON" name="JSON" class="section langfilter">
        <h4 id="cfn-lambda-function-code-zipfile-examplepython.json">JSON</h4>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"ZipFile" : <span>{</span> "Fn::Join" : ["\n", [
  "import json",
  "import cfnresponse",
  "def handler(event, context):",
  "   responseValue = int(event['ResourceProperties']['Input']) * 5",
  "   responseData = <span>{</span>}",
  "   responseData['Data'] = responseValue",
  "   cfnresponse.send(event, context, cfnresponse.SUCCESS, responseData, \"CustomResourcePhysicalID\")"
]]}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h4 id="cfn-lambda-function-code-zipfile-examplepython.yaml">YAML</h4>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">ZipFile: |
  import json
  import cfnresponse
  def handler(event, context):
    responseValue = int(event['ResourceProperties']['Input']) * 5
    responseData = <span>{</span>}
    responseData['Data'] = responseValue
    cfnresponse.send(event, context, cfnresponse.SUCCESS, responseData, "CustomResourcePhysicalID")</code></pre>
      </div>
     
   
    <h2 id="cfn-lambda-function-code-cfnresponsemodule-source">Código fuente del módulo</h2>
    <p>A continuación se muestra el código fuente del módulo de respuesta de las funciones de Node.js. Revíselo para entender qué hace el módulo y para obtener ayuda con la implementación de sus propias funciones de respuesta.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="js ">// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
// SPDX-License-Identifier: MIT-0
 
exports.SUCCESS = "SUCCESS";
exports.FAILED = "FAILED";
 
exports.send = function(event, context, responseStatus, responseData, physicalResourceId, noEcho) <span>{</span>
 
    var responseBody = JSON.stringify(<span>{</span>
        Status: responseStatus,
        Reason: "See the details in CloudWatch Log Stream: " + context.logStreamName,
        PhysicalResourceId: physicalResourceId || context.logStreamName,
        StackId: event.StackId,
        RequestId: event.RequestId,
        LogicalResourceId: event.LogicalResourceId,
        NoEcho: noEcho || false,
        Data: responseData
    });
 
    console.log("Response body:\n", responseBody);
 
    var https = require("https");
    var url = require("url");
 
    var parsedUrl = url.parse(event.ResponseURL);
    var options = <span>{</span>
        hostname: parsedUrl.hostname,
        port: 443,
        path: parsedUrl.path,
        method: "PUT",
        headers: <span>{</span>
            "content-type": "",
            "content-length": responseBody.length
        }
    };
 
    var request = https.request(options, function(response) <span>{</span>
        console.log("Status code: " + parseInt(response.statusCode));
        context.done();
    });
 
    request.on("error", function(error) <span>{</span>
        console.log("send(..) failed executing https.request(..): " + error);
        context.done();
    });
 
    request.write(responseBody);
    request.end();
}</code></pre>
    <p>A continuación se muestra el código fuente del módulo de respuesta de las funciones de Python 2 y 3:</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="python "># Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
# SPDX-License-Identifier: MIT-0
 
from __future__ import print_function
import urllib3
import json

SUCCESS = "SUCCESS"
FAILED = "FAILED"

http = urllib3.PoolManager()


def send(event, context, responseStatus, responseData, physicalResourceId=None, noEcho=False, reason=None):
    responseUrl = event['ResponseURL']

    print(responseUrl)

    responseBody = <span>{</span>
        'Status' : responseStatus,
        'Reason' : reason or "See the details in CloudWatch Log Stream: <span>{</span>}".format(context.log_stream_name),
        'PhysicalResourceId' : physicalResourceId or context.log_stream_name,
        'StackId' : event['StackId'],
        'RequestId' : event['RequestId'],
        'LogicalResourceId' : event['LogicalResourceId'],
        'NoEcho' : noEcho,
        'Data' : responseData
    }

    json_responseBody = json.dumps(responseBody)

    print("Response body:")
    print(json_responseBody)

    headers = <span>{</span>
        'content-type' : '',
        'content-length' : str(len(json_responseBody))
    }

    try:
        response = http.request('PUT', responseUrl, headers=headers, body=json_responseBody)
        print("Status code:", response.status)


    except Exception as e:

        print("send(..) failed executing http.request(..):", e)</code></pre>
    
  <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Aviso" /> <strong>JavaScript está desactivado o no está disponible en su navegador.</strong></p><p>Para utilizar la documentación de AWS, debe estar habilitado JavaScript. Para obtener más información, consulte las páginas de ayuda de su navegador.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenciones del documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./walkthrough-custom-resources-lambda-lookup-amiids.html">Tutorial: Búsqueda de ID de imagen de Amazon Machine</div><div id="next" class="next-link" accesskey="n" href="./crpg-ref.html">Referencia de recursos personalizados</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - Sí</div><div class="content"><p>Gracias por hacernos saber que estamos haciendo un buen trabajo.</p><p>Si tiene un momento, díganos qué es lo que le ha gustado para que podamos seguir trabajando en esa línea.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - No</div><div class="content"><p>Gracias por informarnos de que debemos trabajar en esta página. Lamentamos haberle defraudado.</p><p>Si tiene un momento, díganos cómo podemos mejorar la documentación.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>