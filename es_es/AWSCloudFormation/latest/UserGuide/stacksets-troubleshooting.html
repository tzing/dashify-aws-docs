<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="es-ES"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Solución de problemas de AWS CloudFormation StackSets - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="stacksets-troubleshooting" /><meta name="default_state" content="stacksets-troubleshooting" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" /><meta name="description" content="Este tema contiene algunos problemas habituales relacionados con AWS CloudFormation StackSets y las soluciones sugeridas." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Guía del usuario" /><meta name="abstract" content="Cree y administre implementaciones de infraestructura de AWS de forma predecible y repetida mediante AWS CloudFormation con esta Guía del usuario." /><meta name="guide-locale" content="es_es" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Guía del usuario" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Guía del usuario" /><meta id="panorama-serviceConsolePage" value="Solución de problemas de AWS CloudFormation StackSets" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Solución de problemas de AWS CloudFormation StackSets - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,aprovisionamiento de recursos,configuración de recursos,administración de la infraestructura,CloudFormer,Pila de CloudFormation,Conjunto de pilas de CloudFormation,Plantilla de CloudFormation,conjunto de cambios" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guía del usuario",
        "item" : "https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Trabajo con AWS CloudFormation StackSets",
        "item" : "https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/what-is-cfnstacksets.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Solución de problemas de AWS CloudFormation StackSets",
        "item" : "https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/what-is-cfnstacksets.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentación</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Guía del usuario</a></div><div id="page-toc-src"><a href="#common-reasons-for-stack-operation-failure">Motivos comunes para el fallo en una operación de la pila</a><a href="#retrying-failed-stack-creation-or-update-operations">Reintento de operaciones fallidas de creación o actualización de pilas</a><a href="#stack-instance-delete-fails">No se puede eliminar una instancia de pila a causa de un error</a><a href="#stack-import-fails">Error en la operación de importación de pila</a><a href="#stack-instance-failure-count-for-stackset-operations">Recuento de fallos de instancias de pila para las operaciones de StackSets</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="stacksets-troubleshooting">Solución de problemas de AWS CloudFormation StackSets</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Este tema contiene algunos problemas habituales relacionados con AWS CloudFormation StackSets y las soluciones sugeridas.</p><div class="highlights" id="inline-topiclist"><h6>Temas</h6><ul><li><a href="#common-reasons-for-stack-operation-failure">Motivos comunes para el fallo en una operación de la pila</a></li><li><a href="#retrying-failed-stack-creation-or-update-operations">Reintento de operaciones fallidas de creación o actualización de pilas</a></li><li><a href="#stack-instance-delete-fails">No se puede eliminar una instancia de pila a causa de un error</a></li><li><a href="#stack-import-fails">Error en la operación de importación de pila</a></li><li><a href="#stack-instance-failure-count-for-stackset-operations">Recuento de fallos de instancias de pila para las operaciones de StackSets</a></li></ul></div>
        <h2 id="common-reasons-for-stack-operation-failure">Motivos comunes para el fallo en una operación de la pila</h2>

        <p><b>Problema:</b> se produjo un error en una operación de la pila, y el estado de la instancia de la pila es <code class="code">OUTDATED</code>.</p>
        <p><b>Causa:</b> puede haber varias causas comunes para el error en la operación de la pila.</p>
        <div class="itemizedlist">
             
             
             
             
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>Permisos insuficientes en una cuenta de destino para la creación de recursos que se especifican en la plantilla.</p>
            </li><li class="listitem">
                <p>La plantilla de AWS CloudFormation podría tener errores. Valide la plantilla en AWS CloudFormation y arregle los errores antes de intentar crear el conjunto de pilas.</p>
            </li><li class="listitem">
                <p>La plantilla podría intentar crear recursos globales que debe ser únicos pero no lo son, como los buckets de S3.</p>
            </li><li class="listitem">
                <p>Un número de cuenta de destino especificado no existe. Compruebe los números de cuenta de destino que ha especificado en la página <b>Set deployment options (Establecer opciones de implementación)</b> del asistente.</p>
            </li><li class="listitem">
                <p>La cuenta de administrador no tiene una relación de confianza con la cuenta de destino.</p>
            </li><li class="listitem">
                <p>El número máximo de un recurso que se especifica en la plantilla ya existe en su cuenta de destino. Por ejemplo, es posible que haya alcanzado el límite de roles de IAM permitidos en una cuenta de destino, pero la plantilla crea más roles de IAM.</p>
            </li><li class="listitem">
                <p>Ha alcanzado el número máximo de pilas permitidas en un conjunto de pilas. Consulte <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cloudformation-limits.html">Límites de AWS CloudFormation</a> para ver el número máximo de pilas por conjunto de pilas.</p>
            </li></ul></div>
        <p><b>Solución:</b> para obtener más información acerca de los permisos necesarios de las cuentas de administrador y de destino antes de poder crear conjuntos de pilas, consulte <a href="./stacksets-prereqs-self-managed.html#stacksets-prereqs-accountsetup">Configuración de permisos básicos para operaciones con conjuntos de pilas</a>.</p>
     
        <h2 id="retrying-failed-stack-creation-or-update-operations">Reintento de operaciones fallidas de creación o actualización de pilas</h2>

        <p><b>Problema:</b> se produjo un error al crear o actualizar una pila, y el estado de la instancia de la pila es <code class="code">OUTDATED</code>. Para solucionar el error de creación o actualización de una pila, abra la consola de AWS CloudFormation y vea los eventos de la pila, que tendrán un estado de <code class="code">DELETED</code> (para las operaciones de creación erróneas) o <code class="code">FAILED</code> (para las operaciones de actualización erróneas). Examine los eventos de pila y busque la columna <b>Status reason (Motivo del estado)</b>. El valor de <b>Status reason (Motivo del estado)</b> explica por qué se produjo un error en la operación de la pila.</p>
        <p>Una vez corregida la causa del fallo de creación de la pila, y cuando esté listo para reintentar la creación de la pila, siga estos pasos.</p>
        <p><b>Solución:</b> realice los siguientes pasos para reintentar la operación de la pila.</p>
        <div class="procedure"><ol><li>
                <p>En la consola, seleccione el conjunto de pilas que contiene la pila en la que la operación ha fallado.</p>
            </li><li>
                <p>En el menú <b>Actions (Acciones)</b>, elija <b>Edit StackSet details (Editar detalles de StackSet)</b> para volver a intentar la creación o actualización de pilas.</p>
            </li><li>
                <p>En la página <b>Specify template (Especificar plantilla)</b> para utilizar la misma plantilla de AWS CloudFormation, mantenga la opción predeterminada, <b>Use current template (Usar plantilla actual)</b>. Si la operación de la pila ha generado un error porque la plantilla requería cambios, y desea cargar una plantilla revisada, elija <b>Upload a template to Amazon S3 (Cargar una plantilla en Amazon S3)</b> en su lugar y, a continuación, elija <b>Browse (Explorar)</b> para seleccionar la plantilla actualizada. Cuando haya terminado de cargar la plantilla revisada, elija <b>Next (Siguiente)</b>.</p>
            </li><li>
                <p>En la página <b>Specify details (Especificar detalles)</b>, si no va a cambiar ninguno de los parámetros que son específicos de la plantilla, elija <b>Next (Siguiente)</b>.</p>
            </li><li>
                <p>En la página <b>Set deployment options (Establecer opciones de implementación)</b>, cambie los valores predeterminados de <b>Maximum concurrent accounts (Número máximo de cuentas simultáneas)</b> y <b>Failure tolerance (Tolerancia a errores)</b>, si lo desea. Para obtener más información sobre estas opciones, consulte <a href="./stacksets-concepts.html#stackset-ops-options">Opciones de operaciones con conjuntos de pilas</a>.</p>
            </li><li>
                <p>En la página <b>Review (Revisar)</b>, revise la selección y marque la casilla para reconocer las capacidades de IAM. Elija <b>Enviar</b>.</p>
            </li><li>
                <p>Si la pila no se actualiza correctamente, repita este procedimiento, después de haber resuelto todos los problemas que impiden la creación de la pila.</p>
            </li></ol></div>
     
        <h2 id="stack-instance-delete-fails">No se puede eliminar una instancia de pila a causa de un error</h2>
        <p><b>Problema:</b> se produce un error que evita la eliminación de una instancia de pila.</p>
        <p><b>Causa:</b> ninguna pila con protección de terminación de pilas habilitada se podrá eliminar.</p>
        <p><b>Solución:</b> determine si se ha habilitado la protección de terminación en la pila. Si está habilitada, deshabilítela y, a continuación, intente realizar la operación de eliminación de la instancia de pila de nuevo.</p>
     
        <h2 id="stack-import-fails">Error en la operación de importación de pila</h2>
        <p><b>Problema:</b> una operación de importación de pilas no permite importar pilas existentes en conjuntos de pilas nuevos o existentes. El estado de la instancia de pila es <code class="code">INOPERABLE</code>.</p>
        <p><b>Solución:</b> para restaurar la operación de importación de la pila, lleve a cabo las siguientes tareas.</p>
        <div class="orderedlist">
             
             
             
            <ol><li>
                <p>Use la opción <b>Eliminar pilas de StackSets</b> y habilite <b>RetainStacks</b> durante la configuración y, a continuación, proceda a eliminar las instancias de pila del conjunto de pilas. Para obtener más información, consulte <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stackinstances-delete.html">Eliminación de instancias de pila del conjunto de pilas</a>.</p>
            </li><li>
                <p>Verá que la instancia de pila del conjunto de pilas se actualiza para eliminar la instancia de pila <code class="code">INOPERABLE</code>.</p>
            </li><li>
                <p>Corrija las instancias de la pila según el error de importación y vuelva a intentar la operación de importación de la pila.</p>
            </li></ol></div>
     
        <h2 id="stack-instance-failure-count-for-stackset-operations">Recuento de fallos de instancias de pila para las operaciones de StackSets</h2>
        <p>El recuento de fallos de las instancias de la pila notifica si las instancias de las pilas no se aprovisionan o actualizan. Estas instancias de pila no se implementaron por uno o más de los siguientes motivos:</p>
        <div class="itemizedlist">
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>Recursos existentes con una configuración similar</p>
            </li><li class="listitem">
                <p>Falta de dependencias, como los roles de AWS Identity and Access Management (IAM)</p>
            </li><li class="listitem">
                <p>Otros factores en conflicto</p>
            </li></ul></div>
        <p>Si desea implementar con la máxima simultaneidad, el recuento máximo de simultaneidad es uno más que el recuento de tolerancia a fallos, como máximo. Por ejemplo, si el recuento de tolerancia a fallos es 9, el recuento máximo de simultaneidad no puede ser superior a 10. Esto hará que la operación devuelva <code class="code">SUCCEEDED</code>, incluso si algunas instancias de la pila no se actualizan. El nuevo recuento de fallos de instancias de pila le permite determinar si la operación solo se realizó correctamente de forma condicional, ya que el recuento de tolerancia a fallos está configurado para permitir todos los fallos.</p>
        <p>Puede utilizar la AWS Management Console, el AWS SDK o la AWS CLI para obtener el recuento de fallos y filtrar las instancias de la pila para determinar qué instancias deben reimplementarse.</p>
         
            <h3 id="stack-instance-failure-count-for-stackset-operations-console-examples">Uso de la consola</h3>
            <div class="procedure"><h6>Para visualizar la cantidad de instancias de pila fallidas:</h6><ol><li>
                    <p>Abra la <a href="https://console.aws.amazon.com/cloudformation" rel="noopener noreferrer" target="_blank"><span>consola de AWS CloudFormation</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> y elija <b>StackSets</b>.</p>
                </li><li>
                    <p>Elija su StackSet y luego elija la pestaña <b>Operations</b> (Operaciones).</p>
                </li><li>
                    <p>Elija un estado en la columna <b>Status</b> (Estado) para visualizar los detalles del estado. Encontrará la cantidad de instancias de pila fallidas para una operación particular en los detalles del estado.</p>
                </li></ol></div>
            <div class="procedure"><h6>Para ver la cuenta, la región y el estado de las instancias de pila de la operación:</h6><ol><li>
                    <p>En los detalles del estado, elija el recuento de instancias de pila fallidas. <em>Ejemplo:</em> <b>Instancias de pila: <code class="code">&lt;number of failed stack
                                instances&gt;</code></b>.</p>
                </li><li>
                    <p>Amplíe el panel lateral mediante la selección del encabezado del panel. Los resultados del panel lateral son los estados de las instancias de la pila después de completar la operación seleccionada.</p>
                </li></ol></div>
            <div class="procedure"><h6>Para ver los detalles de la instancia de pila actual de una operación:</h6><ol><li>
                    <p>Elija la pestaña <b>Stack Instances</b> (Instancias de la pila).</p>
                </li><li>
                    <p>Filtre por <b>Last operation ID</b> (ID de última operación). Los resultados son los estados actuales y los motivos de estado de la última operación que modificó la instancia. Puede usar este filtro junto con <b>Cuenta de AWS</b>, <b>Región de AWS</b>, <b>Estado detallado</b> y <b>Estado de desviación</b> para refinar aún más los resultados de búsqueda.</p>
                </li></ol></div>
         
         
            <h3 id="stack-instance-failure-count-for-stackset-operations-cli-examples">Utilización del AWS CLI</h3>
            <p>Para obtener la cantidad de instancias de pila fallidas, haga una llamada a <code class="code">describe-stack-set-operation</code> o <code class="code">list-stack-set-operations</code> y consulte <code class="code">StatusDetails</code>.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="prompt" copy="false">$ </code>aws cloudformation describe-stack-set-operation --stack-set-name ss1 \
    --operation-id 5550e62f-c822-4331-88fa-21c1d7bafc60</code></pre>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "StackSetOperation": <span>{</span>
        "OperationId": "5550e62f-c822-4331-88fa-21c1d7bafc60",
        "StackSetId": "ss1:9101ca57-49fc-4a61-a5a6-4c97b8adb08f",
        "Action": "CREATE",
        "Status": "SUCCEEDED",
        "OperationPreferences": <span>{</span>
            "RegionOrder": [],
            "FailureToleranceCount": 10,
            "MaxConcurrentCount": 10
        },
        "AdministrationRoleARN": "arn:aws:iam::123456789012:role/AWSCloudFormationStackSetAdministrationRole",
        "ExecutionRoleName": "AWSCloudFormationStackSetExecutionRole",
        "CreationTimestamp": "2022-10-26T17:18:53.947000+00:00",
        "EndTimestamp": "2022-10-26T17:19:35.304000+00:00",
        "StatusDetails": <span>{</span>
            "FailedStackInstancesCount": 3
        }
    }
}</code></pre>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">aws cloudformation list-stack-set-operations --stack-set-name ss1</code></pre>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Summaries": [
        <span>{</span>
            "OperationId": "5550e62f-c822-4331-88fa-21c1d7bafc60",
            "Action": "CREATE",
            "Status": "SUCCEEDED",
            "CreationTimestamp": "2022-10-26T17:18:53.947000+00:00",
            "EndTimestamp": "2022-10-26T17:19:35.304000+00:00",
            "StatusDetails": <span>{</span>
                "FailedStackInstancesCount": 3
            },
            "OperationPreferences": <span>{</span>
                "RegionOrder": [],
                "FailureToleranceCount": 10,
                "MaxConcurrentCount": 10
            }
        }
    ]
}</code></pre>
            <p>Para obtener una descripción general del historial de una operación en particular, utilice <code class="code">list-stack-set-operation-results</code> para ver el estado y el motivo del estado de cada instancia de pila cuando la operación esté completada. Consulte el siguiente ejemplo para ver el <code class="code">Status</code> y el <code class="code">StatusReason</code>.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">aws cloudformation list-stack-set-operation-results --stack-set-name ss1 --operation-id 5550e62f-c822-4331-88fa-21c1d7bafc60 --filters Name=OPERATION_RESULT_STATUS,Values=FAILED</code></pre>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Summaries": [
        <span>{</span>
            "Account": "123456789012",
            "Region": "us-west-2",
            "Status": "FAILED",
            "StatusReason": "Account 123456789012 should have 'AWSCloudFormationStackSetExecutionRole' role with trust relationship to Role 'AWSCloudFormationStackSetAdministrationRole'.",
            "AccountGateResult": <span>{</span>
                "Status": "SKIPPED",
                "StatusReason": "Account 123456789012 should have 'AWSCloudFormationStackSetExecutionRole' role with trust relationship to Role 'AWSCloudFormationStackSetAdministrationRole'."
            },
            "OrganizationalUnitId": ""
        },
        <span>{</span>
            "Account": "123456789012",
            "Region": "us-west-1",
            "Status": "FAILED",
            "StatusReason": "Account 123456789012 should have 'AWSCloudFormationStackSetExecutionRole' role with trust relationship to Role 'AWSCloudFormationStackSetAdministrationRole'.",
            "AccountGateResult": <span>{</span>
                "Status": "SKIPPED",
                "StatusReason": "Account 123456789012 should have 'AWSCloudFormationStackSetExecutionRole' role with trust relationship to Role 'AWSCloudFormationStackSetAdministrationRole'."
            },
            "OrganizationalUnitId": ""
        },
        <span>{</span>
            "Account": "123456789012",
            "Region": "us-east-1",
            "Status": "FAILED",
            "StatusReason": "Account 123456789012 should have 'AWSCloudFormationStackSetExecutionRole' role with trust relationship to Role 'AWSCloudFormationStackSetAdministrationRole'.",
            "AccountGateResult": <span>{</span>
                "Status": "SKIPPED",
                "StatusReason": "Account 123456789012 should have 'AWSCloudFormationStackSetExecutionRole' role with trust relationship to Role 'AWSCloudFormationStackSetAdministrationRole'."
            },
            "OrganizationalUnitId": ""
        }
    ]
}</code></pre>
            <p>Utilice <code class="code">list-stack-instances</code> con los filtros <code class="code">DETAILED_STATUS</code> y <code class="code">LAST_OPERATION_ID</code> para obtener una lista de las instancias de pila que fallaron en la última operación que intentó implementar la instancia de pila. Observe la marca <code class="code">--filters</code> en el ejemplo con <code class="code">DETAILED_STATUS</code> y <code class="code">LAST_OPERATION_ID</code>:</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">aws cloudformation list-stack-instances --stack-set-name ss1 --filters Name=DETAILED_STATUS,Values=FAILED Name=LAST_OPERATION_ID,Values=5550e62f-c822-4331-88fa-21c1d7bafc60</code></pre>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Summaries": [
        <span>{</span>
            "StackSetId": "ss1:9101ca57-49fc-4a61-a5a6-4c97b8adb08f",
            "Region": "us-east-1",
            "Account": "123456789012",
            "Status": "OUTDATED",
            "StatusReason": "Account 123456789012 should have 'AWSCloudFormationStackSetExecutionRole' role with trust relationship to Role 'AWSCloudFormationStackSetAdministrationRole'.",
            "StackInstanceStatus": <span>{</span>
                "DetailedStatus": "FAILED"
            },
            "OrganizationalUnitId": "",
            "DriftStatus": "NOT_CHECKED",
            "LastOperationId": "5550e62f-c822-4331-88fa-21c1d7bafc60"
        },
        <span>{</span>
            "StackSetId": "ss1:9101ca57-49fc-4a61-a5a6-4c97b8adb08f",
            "Region": "us-west-1",
            "Account": "123456789012",
            "Status": "OUTDATED",
            "StatusReason": "Account 123456789012 should have 'AWSCloudFormationStackSetExecutionRole' role with trust relationship to Role 'AWSCloudFormationStackSetAdministrationRole'.",
            "StackInstanceStatus": <span>{</span>
                "DetailedStatus": "FAILED"
            },
            "OrganizationalUnitId": "",
            "DriftStatus": "NOT_CHECKED",
            "LastOperationId": "5550e62f-c822-4331-88fa-21c1d7bafc60"
        },
        <span>{</span>
            "StackSetId": "ss1:9101ca57-49fc-4a61-a5a6-4c97b8adb08f",
            "Region": "us-west-2",
            "Account": "123456789012",
            "Status": "OUTDATED",
            "StatusReason": "Account 123456789012 should have 'AWSCloudFormationStackSetExecutionRole' role with trust relationship to Role 'AWSCloudFormationStackSetAdministrationRole'.",
            "StackInstanceStatus": <span>{</span>
                "DetailedStatus": "FAILED"
            },
            "OrganizationalUnitId": "",
            "DriftStatus": "NOT_CHECKED",
            "LastOperationId": "5550e62f-c822-4331-88fa-21c1d7bafc60"
        }
    ]
}</code></pre>
            <p>A fin de encontrar el ID de la última operación para modificar una instancia de pila, use <code class="code">list-stack-instances</code> o <code class="code">describe-stack-instance</code> para obtener <code class="code">LastOperationId</code>:</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh ">aws cloudformation describe-stack-instance --stack-set-name ss1 --stack-instance-account 123456789012 --stack-instance-region us-east-2</code></pre>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "StackInstance": <span>{</span>
        "StackSetId": "ss1:9101ca57-49fc-4a61-a5a6-4c97b8adb08f",
        "Region": "us-west-2",
        "Account": "123456789012",
        "ParameterOverrides": [],
        "Status": "OUTDATED",
        "StackInstanceStatus": <span>{</span>
            "DetailedStatus": "FAILED"
        },
        "StatusReason": "Account 123456789012 should have 'AWSCloudFormationStackSetExecutionRole' role with trust relationship to Role 'AWSCloudFormationStackSetAdministrationRole'.",
        "OrganizationalUnitId": "",
        "DriftStatus": "NOT_CHECKED",
        "LastOperationId": "5550e62f-c822-4331-88fa-21c1d7bafc60"
    }
}</code></pre>
         
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Aviso" /> <strong>JavaScript está desactivado o no está disponible en su navegador.</strong></p><p>Para utilizar la documentación de AWS, debe estar habilitado JavaScript. Para obtener más información, consulte las páginas de ayuda de su navegador.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenciones del documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./stacksets-sampletemplates.html">Plantillas de ejemplo</div><div id="next" class="next-link" accesskey="n" href="./git-sync.html">Trabajar con la sincronización de Git</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - Sí</div><div class="content"><p>Gracias por hacernos saber que estamos haciendo un buen trabajo.</p><p>Si tiene un momento, díganos qué es lo que le ha gustado para que podamos seguir trabajando en esa línea.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - No</div><div class="content"><p>Gracias por informarnos de que debemos trabajar en esta página. Lamentamos haberle defraudado.</p><p>Si tiene un momento, díganos cómo podemos mejorar la documentación.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/stacksets-troubleshooting.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>