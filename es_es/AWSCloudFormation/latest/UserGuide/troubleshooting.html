<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="es-ES"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Solución de problemas de CloudFormation - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="troubleshooting" /><meta name="default_state" content="troubleshooting" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/troubleshooting.html" /><meta name="description" content="Solución de problemas que pueden producirse al crear, actualizar o eliminar una pila de AWS CloudFormation." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Guía del usuario" /><meta name="abstract" content="Cree y administre implementaciones de infraestructura de AWS de forma predecible y repetida mediante AWS CloudFormation con esta Guía del usuario." /><meta name="guide-locale" content="es_es" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/troubleshooting.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/troubleshooting.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Guía del usuario" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Guía del usuario" /><meta id="panorama-serviceConsolePage" value="Solución de problemas de CloudFormation" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Solución de problemas de CloudFormation - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/troubleshooting.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/troubleshooting.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/troubleshooting.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,aprovisionamiento de recursos,configuración de recursos,administración de la infraestructura,CloudFormer,Pila de CloudFormation,Conjunto de pilas de CloudFormation,Plantilla de CloudFormation,conjunto de cambios" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guía del usuario",
        "item" : "https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Solución de problemas de CloudFormation",
        "item" : "https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/troubleshooting.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentación</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Guía del usuario</a></div><div id="page-toc-src"><a href="#basic-ts-guide">Guía para solucionar problemas</a><a href="#troubleshooting-errors">Solución de errores</a><a href="#contacting-support">Cómo contactar con soporte de </a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="troubleshooting">Solución de problemas de CloudFormation</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Cuando utiliza AWS CloudFormation, puede encontrarse con problemas al crear, actualizar o eliminar pilas de CloudFormation. Las siguientes secciones pueden ayudarle a solucionar algunos problemas habituales que puede encontrarse.</p><p>Para preguntas generales sobre CloudFormation, consulte las <a href="https://aws.amazon.com/cloudformation/faqs/" rel="noopener noreferrer" target="_blank"><span>Preguntas frecuentes sobre AWS CloudFormation</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. También puede buscar respuestas y publicar preguntas en los <a href="https://forums.aws.amazon.com/forum.jspa?forumID=92" rel="noopener noreferrer" target="_blank"><span>Foros de AWS CloudFormation)</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p><div class="highlights" id="inline-topiclist"><h6>Temas</h6><ul><li><a href="#basic-ts-guide">Guía para solucionar problemas</a></li><li><a href="#troubleshooting-errors">Solución de errores</a></li><li><a href="#contacting-support">Cómo contactar con soporte de </a></li></ul></div>
        <h2 id="basic-ts-guide">Guía para solucionar problemas</h2>

        <p>Si AWS CloudFormation no crea, actualiza o elimina la pila, puede ver mensajes de error o registros que le ayudarán a obtener más información sobre el problema. Las siguientes tareas describen los métodos generales para la resolución de problemas de CloudFormation. Para obtener más información sobre errores y soluciones concretos, consulte la sección <a href="#troubleshooting-errors">Solución de errores</a>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>Utilice la <a href="https://console.aws.amazon.com/cloudformation/" rel="noopener noreferrer" target="_blank"><span>consola de CloudFormation</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> para ver el estado de su pila. En la consola, puede ver una lista de los eventos de la pila cuando se crea, actualiza o elimina la pila. Desde esta lista, encuentre un evento de error y, a continuación, vea la razón del estado de dicho evento. La razón del estado podría contener un mensaje de error de AWS CloudFormation o de un determinado servicio que puede ayudarle a solucionar el problema. Para obtener más información acerca de la visualización de eventos de pila, consulte <a href="./cfn-console-view-stack-data-resources.html">Visualización de recursos y datos de la pila de AWS CloudFormation en la AWS Management Console</a>.</p>
            </li><li class="listitem">
                <p>Para los problemas de Amazon EC2, vea los registros de cloud-init y cfn. Estos registros se publican en la instancia Amazon EC2 del directorio <code>/var/log/</code>. Estos logs capturan los procesos y salidas de comandos mientras AWS CloudFormation configura su instancia. Para Windows, consulte el servicio EC2Configure en <code>%ProgramFiles%\Amazon\EC2ConfigService</code>, EC2 Launch en <code>%ProgramData%\Amazon\EC2-Windows\Launch\Logs</code>, EC2 Launch v2 en <code>%ProgramData%\Amazon\EC2Launch\log</code> y los registros de cfn en <code>C:\cfn\log</code>.</p>
                <p>También puede configurar su plantilla de AWS CloudFormation para que los registros se publiquen en Amazon CloudWatch, que muestra registros en la AWS Management Console para que no tenga que conectarse a la instancia de Amazon EC2. Para obtener más información, consulte <a href="https://aws.amazon.com/blogs/devops/view-cloudformation-logs-in-the-console/" rel="noopener noreferrer" target="_blank"><span>Ver registros de CloudFormation en la consola</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> en el blog de administración de aplicaciones.</p>
            </li></ul></div>
     
        <h2 id="troubleshooting-errors">Solución de errores</h2>

        <p>Cuando se encuentra ante los siguientes errores con su pila de AWS CloudFormation, puede utilizar las siguientes soluciones que le ayudarán a encontrar el origen de los problemas y corregirlos.</p>
        <div class="highlights" id="inline-topiclist"><h6>Temas</h6><ul><li><a href="#troubleshooting-errors-delete-stack-fails">Errores al eliminar la pila</a></li><li><a href="#troubleshooting-errors-dependency-error">Error de dependencia</a></li><li><a href="#troubleshooting-errors-error-parsing-parameter-when-passing-a-list">Error de análisis de parámetro al pasar una lista</a></li><li><a href="#troubleshooting-errors-insufficient-iam-permissions">Permisos insuficientes de IAM</a></li><li><a href="#troubleshooting-errors-invalid-value-or-unsupported-resource-property">Valor no válido o propiedad de recurso no admitida</a></li><li><a href="#troubleshooting-errors-limit-exceeded">Cuota excedida</a></li><li><a href="#troubleshooting-errors-nested-stacks-are-stuck">Las pilas anidadas se han quedado atascadas en UPDATE_COMPLETE_CLEANUP_IN_PROGRESS, UPDATE_ROLLBACK_COMPLETE_CLEANUP_IN_PROGRESS o UPDATE_ROLLBACK_IN_PROGRESS</a></li><li><a href="#troubleshooting-errors-no-updates-to-perform">No hay actualizaciones que realizar</a></li><li><a href="#troubleshooting-resource-did-not-stabilize">El recurso no se estabiliza durante una operación de creación, actualización o eliminación de pila</a></li><li><a href="#troubleshooting-errors-security-group-does-not-exist-in-vpc">El grupo de seguridad no existe en la VPC</a></li><li><a href="#troubleshooting-errors-update-rollback-failed">Error en la restauración de actualización</a></li><li><a href="#troubleshooting-errors-wait-condition-didnt-receive-the-required-number-of-signals">La condición de espera no recibió el número necesario de señales de una instancia Amazon EC2</a></li><li><a href="#troubleshooting-errors-resource-removed-not-deleted">Recurso eliminado de la pila pero no borrado</a></li></ul></div>
         
            <h3 id="troubleshooting-errors-delete-stack-fails">Errores al eliminar la pila</h3>

            <p>Para resolver esta situación, pruebe lo siguiente:</p>
            <div class="itemizedlist">
                 
                 
                 
                 
                     
            <ul class="itemizedlist"><li class="listitem">
                    <p>Algunos recursos deben estar vacíos para poder eliminarlos. Por ejemplo, debe eliminar todos los objetos de un bucket de Amazon S3 o eliminar todas las instancias de un grupo de seguridad de Amazon EC2 para poder eliminar el bucket o grupo de seguridad.</p>
                </li><li class="listitem">
                    <p>Asegúrese de que tiene los permisos de IAM necesarios para eliminar los recursos de la pila. Además de los permisos de AWS CloudFormation, debe poder utilizar los servicios subyacentes, como Amazon S3 o Amazon EC2.</p>
                </li><li class="listitem">
                    <p>Cuando las pilas están en el estado <code class="code">DELETE_FAILED</code> porque AWS CloudFormation no ha podido eliminar un recurso, vuelva a ejecutar la eliminación con el parámetro <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_DeleteStack.html"><code class="code">RetainResources</code></a> y especifique el recurso que AWS CloudFormation no puede eliminar. AWS CloudFormation elimina la pila sin eliminar el recurso conservado. Conservar los recursos resulta útil cuando no puede eliminar un recurso, como un bucket de S3 que contiene objetos que desea conservar, pero aun así desea eliminar la pila.</p>
                    <p>Después de eliminar la pila, puede eliminar manualmente los recursos conservados mediante el servicio de AWS asociado.</p>
                </li><li class="listitem">
                    <p>No puede eliminar pilas con protección de terminación habilitada. Si intenta eliminar una pila con protección de terminación habilitada, la eliminación falla y la pila, así como su estado, no cambian. Deshabilite la protección de terminación de la pila y, a continuación, realice la operación de eliminación de nuevo.</p>
                    <p>Esto incluye <a href="./using-cfn-nested-stacks.html">pilas anidadas</a> cuyas pilas raíz tienen protección de terminación habilitada. Desactive la protección de terminación de la pila raíz y, a continuación, vuelva a llevar a cabo la operación de eliminación. Se recomienda que no elimine pilas anidadas directamente, sino como parte de la eliminación de la pila raíz y todos sus recursos.</p>
                    <p>Para obtener más información, consulte <a href="./using-cfn-protect-stacks.html">Proteger una pila para impedir que la eliminen accidentalmente</a>.</p>
                </li><li class="listitem">
                        <p>Para todos los demás problemas, si tiene AWS Support, puede crear un caso de AWS Support. Consulte <a href="#contacting-support">Cómo contactar con soporte de </a>.</p>
                </li></ul></div>
         
         
            <h3 id="troubleshooting-errors-dependency-error">Error de dependencia</h3>

            <p>Para resolver un error de dependencia, añada un atributo <code class="code">DependsOn</code> a recursos que dependen de otros recursos en la plantilla. En algunos casos, debe declarar explícitamente dependencias para que AWS CloudFormation pueda crear o eliminar los recursos en el orden correcto. Por ejemplo, si crea una IP elástica y una VPC con un puerto de enlace a Internet en la misma pila, la IP elástica debe depender de la vinculación de la gateway de Internet. Para obtener información adicional, consulte <a href="./aws-attribute-dependson.html">Atributo DependsOn</a>.</p>
         
         
            <h3 id="troubleshooting-errors-error-parsing-parameter-when-passing-a-list">Error de análisis de parámetro al pasar una lista</h3>

            <p>Cuando utilice AWS Command Line Interface o AWS CloudFormation para transmitir una lista, añada el carácter de escape (<code class="code">\</code>) antes de cada coma. El siguiente ejemplo muestra cómo debe especificar un parámetro de entrada al utilizar la AWS CLI.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="text ">ParameterKey=CIDR,ParameterValue='10.10.0.0/16\,10.10.0.0/24\,10.10.1.0/24'</code></pre>
         
         
            <h3 id="troubleshooting-errors-insufficient-iam-permissions">Permisos insuficientes de IAM</h3>

            <p>Al trabajar con una pila de AWS CloudFormation no solo necesita permisos para usar AWS CloudFormation, sino que también tiene que tener permiso para utilizar los servicios subyacentes que se describen en su plantilla. Por ejemplo, si está creando un bucket de Amazon S3 o iniciando una instancia Amazon EC2 necesita permisos para Amazon S3 o Amazon EC2. Revise la política de IAM y compruebe que dispone de los permisos necesarios antes de trabajar con pilas de AWS CloudFormation. Para obtener más información, consulte <a href="./using-iam-template.html">Control del acceso con AWS Identity and Access Management</a>.</p>
         
         
            <h3 id="troubleshooting-errors-invalid-value-or-unsupported-resource-property">Valor no válido o propiedad de recurso no admitida</h3>

            <p>Al crear o actualizar una pila de AWS CloudFormation, la pila puede fallar debido a parámetros de entrada no válidos, nombres de propiedad de los recursos no admitidos o valores de propiedad de los recursos no admitidos. Para los parámetros de entrada, verificar que el recurso existe. Por ejemplo, cuando especifica un par de claves de Amazon EC2 o ID de la VPC, el recurso debe existir en su cuenta y en la región en la que está creando o actualizando su pila. Puede utilizar <a href="./parameters-section-structure.html#parameters-section-structure-syntax">tipos de parámetros</a> específicos de AWS para asegurarse de que utiliza valores válidos.</p>
            <p>Para los nombres y valores de propiedades de recursos, actualice su plantilla para utilizar nombres y valores válidos. Para obtener una lista de todos los recursos y los nombres de las propiedades, consulte <a href="./aws-template-resource-type-ref.html">Referencia de tipos de recursos y propiedades de AWS</a>.</p>
         
         
            <h3 id="troubleshooting-errors-limit-exceeded">Cuota excedida</h3>

            <p>Verifique que no haya alcanzado una cuota de recursos. Por ejemplo, el número máximo predeterminado de instancias bajo demanda de Amazon EC2 que puede lanzar es 5. Si intenta crear un número de instancias bajo demanda de Amazon EC2 superior a la cuota de su cuenta, se produce un error en la creación de instancias y recibe el error <code class="code">Status=start_failed</code>. Para ver las cuotas de AWS predeterminadas por servicio, consulte <a href="https://docs.aws.amazon.com/general/latest/gr/aws_service_limits.html">AWS Service Quotas</a> en la referencia general de <em>Referencia general de AWS</em>.</p>
            <p>Para conocer las cuotas de AWS CloudFormation y las estrategias de ajuste, consulte <a href="./cloudformation-limits.html">Cuotas de AWS CloudFormation</a>.</p>
            <p>Además, durante una actualización, si se sustituye un recurso, AWS CloudFormation crea un recurso nuevo antes de eliminar el antiguo. Este reemplazo podría poner su cuenta por encima de la cuota de recursos, lo que provocaría el error de la actualización. Puede eliminar los recursos sobrantes o solicitar un <a href="https://docs.aws.amazon.com/general/latest/gr/aws_service_limits.html">aumento de cuota</a>.</p>
         
         
            <h3 id="troubleshooting-errors-nested-stacks-are-stuck">Las pilas anidadas se han quedado atascadas en <code class="code">UPDATE_COMPLETE_CLEANUP_IN_PROGRESS</code>, <code class="code">UPDATE_ROLLBACK_COMPLETE_CLEANUP_IN_PROGRESS</code> o <code class="code">UPDATE_ROLLBACK_IN_PROGRESS</code></h3>

            <p>No ha sido posible restaurar una pila anidada. Debido a posibles dependencias de recursos entre las pilas anidadas, AWS CloudFormation no comienza la limpieza de recursos de pilas anidadas hasta que se han actualizado o se han restaurado todas las pilas anidadas. Cuando se produce un error en la restauración de una pila anidada, AWS CloudFormation cancela todas las operaciones, independientemente del estado en que se encuentran las otras pilas anidadas. Una pila anidada que completó la actualización o la restauración pero no recibió una señal de AWS CloudFormation para comenzar la limpieza porque otra pila anidada no se ha restaurado está en estado <code class="code">UPDATE_COMPLETE_CLEANUP_IN_PROGRESS</code> o <code class="code">UPDATE_ROLLBACK_COMPLETE_CLEANUP_IN_PROGRESS</code>. Una pila anidada que no se ha actualizado pero no recibió una señal para comenzar la restauración está en estado <code class="code">UPDATE_ROLLBACK_IN_PROGRESS</code>.</p>
            <p>Podría producirse un error en la restauración de una pila anidada debido a cambios realizados fuera de AWS CloudFormation, cuando la plantilla de la pila no refleja de manera precisa el estado de la pila. Una pila anidada también podría fallar si un grupo de Auto Scaling en una pila anidada tuvo un periodo de tiempo de espera de señal de recursos insuficiente cuando se creó o actualizó el grupo.</p>
            <p>Para arreglar la pila, póngase en contacto con <a href="#contacting-support">AWS Support</a>.</p>
         
         
            <h3 id="troubleshooting-errors-no-updates-to-perform">No hay actualizaciones que realizar</h3>

            <p>Para actualizar una pila de AWS CloudFormation debe enviar los cambios de los valores de los parámetros o de la plantilla a AWS CloudFormation. Sin embargo, AWS CloudFormation no reconoce algunos cambios de la plantilla como una actualización, como cambios en una política de eliminación, una política de actualización, una declaración de condiciones o una declaración de salidas. Si necesita realizar dichos cambios sin realizar ninguno más, puede añadir o modificar un atributo de <a href="./aws-attribute-metadata.html">metadatos</a> para cualquiera de sus recursos.</p>
            <p>Para obtener más información sobre la modificación de plantillas durante una actualización, consulte <a href="./using-cfn-updating-stacks-get-template.html">Modificación de una plantilla de pila</a>.</p>
         
         
            <h3 id="troubleshooting-resource-did-not-stabilize">El recurso no se estabiliza durante una operación de creación, actualización o eliminación de pila</h3>


            <p>Un recurso no respondió porque la operación superó el periodo de espera de AWS CloudFormation o se interrumpió un servicio de AWS. Para las interrupciones de servicio, <a href="https://status.aws.amazon.com/" rel="noopener noreferrer" target="_blank"><span>compruebe</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> que el servicio de AWS pertinente se esté ejecutando y, a continuación, vuelva a intentar la operación de la pila.</p>
            <p>Si los servicios de AWS se han estado ejecutado correctamente, compruebe si la pila contiene uno de los siguientes recursos:</p>
            <div class="itemizedlist">
                 
                 
                 
                 
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">AWS::AutoScaling::AutoScalingGroup</code> para operaciones de creación, actualización y eliminación</p>
                </li><li class="listitem">
                    <p><code class="code">AWS::CertificateManager::Certificate</code> para operaciones de creación</p>
                </li><li class="listitem">
                    <p><code class="code">AWS::CloudFormation::Stack</code> para operaciones de creación, actualización y eliminación</p>
                </li><li class="listitem">
                    <p><code class="code">AWS::ElasticSearch::Domain</code> para operaciones de actualización</p>
                </li><li class="listitem">
                    <p><code class="code">AWS::RDS::DBCluster</code> para operaciones de creación y actualización</p>
                </li><li class="listitem">
                    <p><code class="code">AWS::RDS::DBInstance</code> para operaciones de creación, actualización y eliminación</p>
                </li><li class="listitem">
                    <p><code class="code">AWS::Redshift::Cluster</code> para operaciones de actualización</p>
                </li></ul></div>

            <p>Las operaciones para estos recursos podrían tardar más que el periodo de tiempo de espera predeterminado. El periodo de tiempo de espera depende de los recursos y las credenciales que utilice. Para ampliar el periodo de tiempo de espera, especifique un <a href="./using-iam-servicerole.html">rol de servicio</a> al realizar la operación de la pila. Si ya está usando un rol de servicio, o si la pila contiene un recurso que no aparece en la lista, contacte el <a href="#contacting-support">AWS Support</a>.</p>
            <p>Si la pila está en el estado <code class="code">UPDATE_ROLLBACK_FAILED</code>, consulte <a href="#troubleshooting-errors-update-rollback-failed">Error de restauración de actualización</a>.</p>

         
         
            <h3 id="troubleshooting-errors-security-group-does-not-exist-in-vpc">El grupo de seguridad no existe en la VPC</h3>

            <p>Compruebe que el grupo de seguridad existe en la VPC que especificó. Si el grupo de seguridad existe, asegúrese de que especifica el ID del grupo de seguridad y no el nombre del grupo de seguridad. Por ejemplo, el recurso <code class="code">AWS::EC2::SecurityGroupIngress</code> tiene las propiedades <code class="code">SourceSecurityGroupName</code> y <code class="code">SourceSecurityGroupId</code>. Para grupos de seguridad de VPC tiene que utilizar la propiedad <code class="code">SourceSecurityGroupId</code> y especificar el ID del grupo de seguridad.</p>
         
         
            <h3 id="troubleshooting-errors-update-rollback-failed">Error en la restauración de actualización</h3>

            <p>Un recurso dependiente no puede volver a su estado original, causando un error en la restauración (estado <code class="code">UPDATE_ROLLBACK_FAILED</code>). Por ejemplo, puede tener una pila que se está restaurando a una instancia de base de datos antigua que se eliminó fuera de AWS CloudFormation. Dado que AWS CloudFormation no sabe que se eliminó la base de datos, asume que la instancia de base de datos aún existe e intenta restaurarla, lo que provoca que la restauración de la actualización falle.</p>
            <p>Dependiendo de la causa del error, puede solucionar el error manualmente y continuar con la restauración. Al continuar con la restauración, puede devolver la pila a un estado de funcionamiento (el estado <code class="code">UPDATE_ROLLBACK_COMPLETE</code>) y, a continuación, intentar actualizar la pila de nuevo. En la siguiente lista se describen las soluciones a los errores más habituales que causan los errores de restauración de la actualización:</p>
            <div class="itemizedlist">
                 
                 
                 
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <div class="variablelist">
                         
                    <dl>
                            <dt><span class="term">Error al recibir el número necesario de señales</span></dt>
                            <dd>
                                <p>Utilice el comando <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/signal-resource.html">signal-resource</a> para enviar manualmente el número necesario de señales con éxito al recurso que las está esperando y, a continuación, continuar restaurando la actualización. Por ejemplo, durante una restauración de actualización, las instancias en un grupo de Auto Scaling podrían no señalar el éxito dentro de la duración especificada del tiempo de espera. Envíe manualmente señales de éxito al grupo de Auto Scaling. Cuando continúa con la restauración de la actualización, AWS CloudFormation ve sus señales y procede a realizar la restauración.</p>
                            </dd>
                        </dl></div>
                </li><li class="listitem">
                    <div class="variablelist">
                         
                    <dl>
                            <dt><span class="term">Los cambios a un recurso se hicieron fuera de AWS CloudFormation</span></dt>
                            <dd>
                                <p>Sincronice manualmente recursos para que coincidan con la plantilla de pila original y, a continuación, continúe restaurando la actualización. Por ejemplo, si eliminó manualmente un recurso que AWS CloudFormation está intentando restaurar, debe crear manualmente dicho recurso con el mismo nombre y propiedades que tenía en la pila original.</p>
                            </dd>
                        </dl></div>
                </li><li class="listitem">
                    <div class="variablelist">
                         
                    <dl>
                            <dt><span class="term">Permisos insuficientes</span></dt>
                            <dd>
                                <p>Compruebe que tiene suficientes permisos de IAM para modificar recursos y, a continuación, continúe con la restauración de la actualización. Por ejemplo, su política de IAM podría permitirle crear un bucket de S3, pero no modificar el bucket. Añada las acciones de modificación a su política.</p>
                            </dd>
                        </dl></div>
                </li><li class="listitem">
                    <div class="variablelist">
                         
                    <dl>
                            <dt><span class="term">Token de seguridad no válido</span></dt>
                            <dd>
                                <p>AWS CloudFormation requiere un nuevo conjunto de credenciales. No es necesario realizar ningún cambio. Continúe restaurando la actualización, lo cual actualiza las credenciales.</p>
                            </dd>
                        </dl></div>
                </li><li class="listitem">
                    <div class="variablelist">
                         
                    <dl>
                            <dt><span class="term">Error de limitación</span></dt>
                            <dd>
                                <p>Elimine los recursos que no necesita o solicite un <a href="https://docs.aws.amazon.com/general/latest/gr/aws_service_limits.html">aumento de la cuota</a> y, a continuación, siga restaurando la actualización. Por ejemplo, si su cuota de cuenta para el número de instancias bajo demanda de EC2 es de 5 y la restauración de la actualización supera ese límite, se producirá un error.</p>
                            </dd>
                        </dl></div>
                </li><li class="listitem">
                    <div class="variablelist">
                         
                    <dl>
                            <dt><span class="term">El recurso no se estabilizó</span></dt>
                            <dd>
                                <p>Un recurso no respondió porque la operación podría haber superado el periodo de espera de AWS CloudFormation o podría haberse interrumpido un servicio de AWS. No es necesario realizar ningún cambio. Una vez que se haya completado la operación de recursos o que el servicio de AWS vuelva a estar operativo, continúe restaurando la actualización.</p>
                            </dd>
                        </dl></div>
                </li></ul></div>
            <p>Para seguir restaurando una actualización, puede usar la consola de AWS CloudFormation o la interfaz de línea de comandos de AWS (AWS CLI). Para obtener más información, consulte <a href="./using-cfn-updating-stacks-continueupdaterollback.html">Continuación de la restauración de una actualización</a>.</p>
            <p>Si ninguna de estas soluciones funciona, puede omitir los recursos que AWS CloudFormation no puede restaurar correctamente. Para obtener más información, consulte el parámetro <code class="code">ResourcesToSkip</code> para la operación <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_ContinueUpdateRollback.html"><code class="code">ContinueUpdateRollback</code></a> en la <em>referencia de la API de AWS CloudFormation</em>. AWS CloudFormation establece el estado de los recursos especificados en <code class="code">UPDATE_COMPLETE</code> y continúa restaurando la pila. Después de que la restauración se haya completado, el estado de los recursos omitidos será incompatible con el estado de los recursos de la plantilla de pila. Antes de realizar otra actualización de pila, debe modificar los recursos o actualizar la pila o los recursos para que sean coherentes entre sí. De lo contrario, las actualizaciones de pilas posteriores podrían fallar provocando que la pila sea irrecuperable.</p>
         
         
            <h3 id="troubleshooting-errors-wait-condition-didnt-receive-the-required-number-of-signals">La condición de espera no recibió el número necesario de señales de una instancia Amazon EC2</h3>

            <p>Para resolver esta situación, pruebe lo siguiente:</p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>Asegúrese de que la AMI que está utilizando tiene los scripts auxiliares de AWS CloudFormation instalados. Si la AMI no incluyen los scripts auxiliares, también puede descargarlos a la instancia. Para obtener más información, consulte <a href="./cfn-helper-scripts-reference.html">Referencia de scripts auxiliares de CloudFormation</a>.</p>
                </li><li class="listitem">
                    <p>Compruebe que el comando <code class="code">cfn-signal</code> se ejecuta correctamente en la instancia. Puede ver registros, como <code>/var/log/cloud-init.log</code> o <code>/var/log/cfn-init.log</code>, para ayudarle a depurar el lanzamiento de la instancia. Puede recuperar los registros iniciando sesión en la instancia, pero deberá <a href="./cfn-console-add-tags.html">inhabilitar la restauración en caso de error</a> o de lo contrario AWS CloudFormation eliminará la instancia después de producirse el error de creación de la pila. También puede <a href="https://aws.amazon.com/blogs/devops/view-cloudformation-logs-in-the-console/" rel="noopener noreferrer" target="_blank"><span>publicar los registros</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> en Amazon CloudWatch. Para Windows, puede ver los registros de cfn en <code>C:\cfn\log</code> y los registros de servicio de EC2Configure en <code>%ProgramFiles%\Amazon\EC2ConfigService</code>.</p>
                </li><li class="listitem">
                    <p>Compruebe que la instancia tiene una conexión a Internet. Si la instancia está en una VPC, la instancia debería poder conectarse a Internet a través de un dispositivo NAT si se encuentra en una subred privada o a través de un puerto de enlace a Internet si no se trata de una subred pública. Para probar la conexión a Internet de la instancia, pruebe a obtener acceso a una página web pública, como por ejemplo <code class="code">http://aws.amazon.com</code>. Por ejemplo, puede ejecutar el siguiente comando en la instancia: Debería devolver un código de estado HTTP 200.</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="sh "><code class="userinput">curl -I https://aws.amazon.com</code></code></pre>
                    <p>Para obtener más información acerca de cómo configurar un dispositivo NAT, consulte <a href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-nat.html">NAT</a> en la <em>Guía del usuario de Amazon VPC</em>.</p>
                </li></ul></div>
         
         
            <h3 id="troubleshooting-errors-resource-removed-not-deleted">Recurso eliminado de la pila pero no borrado</h3>
            <p>Durante una actualización de pila, CloudFormation ha quitado un recurso de una pila pero no lo ha eliminado. El recurso sigue existiendo, pero ya no es accesible a través de CloudFormation. Esto puede ocurrir durante las actualizaciones de pila donde:</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>CloudFormation necesita reemplazar un recurso existente, por lo que primero crea un nuevo recurso y, a continuación, intenta eliminar el antiguo recurso.</p>
                </li><li class="listitem">
                    <p>Ha quitado el recurso de la plantilla de pila, por lo que CloudFormation intenta eliminar el recurso de la pila.</p>
                </li></ul></div>
            <p>Sin embargo, puede haber casos en los que CloudFormation no puede eliminar el recurso. Por ejemplo, si el usuario no tiene permisos para eliminar un recurso de un tipo determinado.</p>
            <p>CloudFormation intentará eliminar el antiguo recurso tres veces. Si CloudFormation no puede eliminar el recurso antiguo, lo elimina de la pila y continúa actualizando la pila. Cuando se completa la actualización de la pila, CloudFormation emite un evento de pila <code class="code">UPDATE_COMPLETE</code>, pero incluye un <code class="code">StatusReason</code> que indica que uno o más recursos no se pudieron eliminar. CloudFormation también emite un evento <code class="code">DELETE_FAILED</code> para el recurso específico, con un <code class="code">StatusReason</code> correspondiente que proporciona más detalles sobre por qué CloudFormation no pudo eliminar el recurso.</p>
            <p>Para resolver esta situación, elimine el recurso directamente utilizando la consola o API para el servicio subyacente.</p>
         
     
        <h2 id="contacting-support">Cómo contactar con soporte de </h2>

        <p>Si tiene AWS Support, puede crear un caso de soporte técnico en <a href="https://console.aws.amazon.com/support/home#/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/support/home#/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. Antes de contactar con el servicio de soporte, recopile la siguiente información:</p>
        <div class="itemizedlist">
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>El ID de la pila. Puede encontrar el ID de la pila en la pestaña <b>Overview (Información general)</b> de la <a href="https://console.aws.amazon.com/cloudformation/" rel="noopener noreferrer" target="_blank"><span>consola de AWS CloudFormation</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. Para obtener más información, consulte <a href="./cfn-console-view-stack-data-resources.html">Visualización de recursos y datos de la pila de AWS CloudFormation en la AWS Management Console</a>.</p>
                <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>importante</h6></div><div class="awsdocs-note-text"><p>No realice cambios en la pila fuera de AWS CloudFormation. Realizar cambios en la pila fuera de AWS CloudFormation podría hacer que la pila entrara en un estado irrecuperable.</p></div></div>
            </li><li class="listitem">
                <p>Cualquier mensaje de error de la pila. Para obtener más información sobre la visualización de mensajes de error de la pila, consulte la sección <a href="#basic-ts-guide">Guía para solucionar problemas</a>.</p>
            </li><li class="listitem">
                <p>Para los problemas de Amazon EC2, reúna los registros de cloud-init y cfn. Estos registros se publican en la instancia Amazon EC2 del directorio <code>/var/log/</code>. Estos logs capturan los procesos y salidas de comandos mientras se configura su instancia. Para Windows, recopile los registros del servicio EC2Configure y de cfn en <code>%ProgramFiles%\Amazon\EC2ConfigService</code> y <code>C:\cfn\log</code>.</p>
            </li></ul></div>
        <p>También puede buscar respuestas y publicar preguntas en los <a href="https://forums.aws.amazon.com/forum.jspa?forumID=92" rel="noopener noreferrer" target="_blank"><span>Foros de AWS CloudFormation)</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Aviso" /> <strong>JavaScript está desactivado o no está disponible en su navegador.</strong></p><p>Para utilizar la documentación de AWS, debe estar habilitado JavaScript. Para obtener más información, consulte las páginas de ayuda de su navegador.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenciones del documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./example_cross_ApiGatewayDataTracker_section.html">Creación de una API REST para realizar un seguimiento de datos de COVID-19</div><div id="next" class="next-link" accesskey="n" href="./ReleaseHistory.html">Historial de versiones</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - Sí</div><div class="content"><p>Gracias por hacernos saber que estamos haciendo un buen trabajo.</p><p>Si tiene un momento, díganos qué es lo que le ha gustado para que podamos seguir trabajando en esa línea.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/troubleshooting.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - No</div><div class="content"><p>Gracias por informarnos de que debemos trabajar en esta página. Lamentamos haberle defraudado.</p><p>Si tiene un momento, díganos cómo podemos mejorar la documentación.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/troubleshooting.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>