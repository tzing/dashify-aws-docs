<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="es-ES"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tutorial: procedimiento de creación de un servidor web básico con AWS CloudFormation Designer - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="working-with-templates-cfn-designer-walkthrough-createbasicwebserver" /><meta name="default_state" content="working-with-templates-cfn-designer-walkthrough-createbasicwebserver" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/working-with-templates-cfn-designer-walkthrough-createbasicwebserver.html" /><meta name="description" content="Use AWS CloudFormation Designer para crear un servidor web básico." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Guía del usuario" /><meta name="abstract" content="Cree y administre implementaciones de infraestructura de AWS de forma predecible y repetida mediante AWS CloudFormation con esta Guía del usuario." /><meta name="guide-locale" content="es_es" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/working-with-templates-cfn-designer-walkthrough-createbasicwebserver.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/working-with-templates-cfn-designer-walkthrough-createbasicwebserver.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/working-with-templates-cfn-designer-walkthrough-createbasicwebserver.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/working-with-templates-cfn-designer-walkthrough-createbasicwebserver.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/working-with-templates-cfn-designer-walkthrough-createbasicwebserver.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/working-with-templates-cfn-designer-walkthrough-createbasicwebserver.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/working-with-templates-cfn-designer-walkthrough-createbasicwebserver.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/working-with-templates-cfn-designer-walkthrough-createbasicwebserver.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/working-with-templates-cfn-designer-walkthrough-createbasicwebserver.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/working-with-templates-cfn-designer-walkthrough-createbasicwebserver.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/working-with-templates-cfn-designer-walkthrough-createbasicwebserver.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/working-with-templates-cfn-designer-walkthrough-createbasicwebserver.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/working-with-templates-cfn-designer-walkthrough-createbasicwebserver.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/working-with-templates-cfn-designer-walkthrough-createbasicwebserver.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/working-with-templates-cfn-designer-walkthrough-createbasicwebserver.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/working-with-templates-cfn-designer-walkthrough-createbasicwebserver.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/working-with-templates-cfn-designer-walkthrough-createbasicwebserver.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/working-with-templates-cfn-designer-walkthrough-createbasicwebserver.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/working-with-templates-cfn-designer-walkthrough-createbasicwebserver.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/working-with-templates-cfn-designer-walkthrough-createbasicwebserver.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/working-with-templates-cfn-designer-walkthrough-createbasicwebserver.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/working-with-templates-cfn-designer-walkthrough-createbasicwebserver.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Guía del usuario" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Guía del usuario" /><meta id="panorama-serviceConsolePage" value="Tutorial: procedimiento de creación de un servidor web básico con AWS CloudFormation Designer" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Tutorial: procedimiento de creación de un servidor web básico con AWS CloudFormation Designer - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/working-with-templates-cfn-designer-walkthrough-createbasicwebserver.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/working-with-templates-cfn-designer-walkthrough-createbasicwebserver.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/working-with-templates-cfn-designer-walkthrough-createbasicwebserver.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,aprovisionamiento de recursos,configuración de recursos,administración de la infraestructura,CloudFormer,Pila de CloudFormation,Conjunto de pilas de CloudFormation,Plantilla de CloudFormation,conjunto de cambios" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guía del usuario",
        "item" : "https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Trabajo con plantillas de AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/template-guide.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Explicaciones",
        "item" : "https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/CHAP_Using.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Tutorial: procedimiento de creación de un servidor web básico con AWS CloudFormation Designer",
        "item" : "https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/CHAP_Using.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentación</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Guía del usuario</a></div><div id="page-toc-src"><a href="#working-with-templates-cfn-designer-walkthrough-createbasicwebserver-addresources">Paso 1: Añadir y conectar recursos</a><a href="#working-with-templates-cfn-designer-walkthrough-createbasicwebserver-addother">Paso 2: Añadir parámetros, asignaciones y salidas</a><a href="#working-with-templates-cfn-designer-walkthrough-createbasicwebserver-resourceproperties">Paso 3: Especificar las propiedades de los recursos</a><a href="#working-with-templates-cfn-designer-walkthrough-createbasicwebserver-provision">Paso 4: Aprovisionar recursos</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="working-with-templates-cfn-designer-walkthrough-createbasicwebserver">Tutorial: procedimiento de creación de un servidor web básico con AWS CloudFormation Designer</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>AWS CloudFormation Designer representa gráficamente sus plantillas para ayudarle a ver los recursos de la plantilla y sus conexiones. El editor de JSON y YAML integrado facilitan la tarea de modificar plantillas directamente en la consola de AWS CloudFormation. Para demostrar cómo utilizar ambos componentes, utilizaremos AWS CloudFormation Designer para crear un servidor web básico en una VPC. A continuación, guardaremos la plantilla y la utilizaremos para crear una pila de CloudFormation.</p><p>En el tutorial, realizará los siguientes pasos:</p><div class="orderedlist">
     
     
     
     
  <ol><li>
      <p><a href="#working-with-templates-cfn-designer-walkthrough-createbasicwebserver-addresources">Añadir y conectar recursos.</a></p>
      <p>La primera vez que abra AWS CloudFormation Designer comienza con una plantilla en blanco. Usaremos AWS CloudFormation Designer para comenzar a rellenar la plantilla arrastrando los recursos como, por ejemplo, una VPC y una instancia de EC2 a su plantilla. También crearemos enlaces entre ellas. Por ejemplo, usaremos AWS CloudFormation Designer para crear una conexión entre la puerta de enlace de Internet y la VPC.</p>
    </li><li>
      <p><a href="#working-with-templates-cfn-designer-walkthrough-createbasicwebserver-addother">Añadir parámetros, mapeos y salidas de la plantilla.</a></p>
      <p>Usaremos el editor integrado de AWS CloudFormation Designer para agregar otros componentes de plantilla para que esta sea más útil. Por ejemplo, añadiremos parámetros a la plantilla, lo que le permitirá especificar valores de entrada al crear una pila. De esta forma no tiene que editar constantemente los valores de la propiedad de la plantilla que podría cambiar habitualmente.</p>
    </li><li>
      <p><a href="#working-with-templates-cfn-designer-walkthrough-createbasicwebserver-resourceproperties">Especificar las propiedades de los recursos.</a></p>
      <p>Utilizaremos editor integrado de nuevo para especificar los ajustes de configuración para nuestros recursos.</p>
    </li><li>
      <p><a href="#working-with-templates-cfn-designer-walkthrough-createbasicwebserver-provision">Aprovisionar recursos</a></p>
      <p>Ninguno de sus recursos de plantillas está operativo hasta que crea una pila. Utilizaremos la plantilla que acaba de crear para lanzar una pila de CloudFormation, que aprovisionará todos los recursos que se definen en la plantilla.</p>
      <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>CloudFormation es un servicio gratuito; no obstante, se le cobrará por los recursos de AWS que incluya en sus pilas a la tarifa actual para cada uno. Para obtener más información sobre los precios de AWS, consulte la página de detalles correspondiente a cada producto en <a href="https://aws.amazon.com/" rel="noopener noreferrer" target="_blank"><span>http://aws.amazon.com</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></div></div>
    </li></ol></div><p>Requisitos previos</p><p>Esta explicación presupone que está familiarizado con Amazon Virtual Private Cloud (Amazon VPC), Amazon Elastic Compute Cloud (Amazon EC2) y CloudFormation. Cada procedimiento proporciona algo de información básica de contexto sobre cada recurso.</p><p>Además, antes de empezar, compruebe que tiene un par de claves de Amazon EC2 en la región en la que esté creando la pila. Para obtener más información, consulte <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html">Pares de claves de Amazon EC2</a> en la <em>Guía del usuario de Amazon EC2 para instancias Linux</em>.</p><h2 id="working-with-templates-cfn-designer-walkthrough-createbasicwebserver-addresources">Paso 1: Añadir y conectar recursos</h2>

    <p>Usaremos la interfaz de arrastrar y soltar de AWS CloudFormation Designer para agregar una instancia de Amazon EC2 y recursos de red, como, por ejemplo, una VPC, una subred, una tabla de enrutamiento y la puerta de enlace de Internet. Una vez que se hayan añadido todos los recursos, crearemos conexiones entre ellos. Por ejemplo, asociaremos la gateway de Internet con una VPC.</p>
    <div class="procedure"><h6>Para añadir recursos a una plantilla</h6><ol><li>
        <p>Abra AWS CloudFormation Designer en <a href="https://console.aws.amazon.com/cloudformation/designer" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/cloudformation/designer</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
      </li><li>
        <p>En el editor integrado, en la mitad inferior de la página, seleccione <b>Edit (Editar)</b> (<span class="inlinemediaobject">
             
              <img src="images/designer-edit-icon.png" class="aws-docs-img-whiteBg aws-docs-img-xs-padding" />
             
          </span>).</p>
      </li><li>
        <p>Cambie el nombre de la plantilla <code class="code">BasicWebServerInVPC</code> y, a continuación, pulse <b>Intro</b>.</p>
        <p>En la actualidad, tenemos una plantilla en blanco que no es válida. En los próximos pasos, añadiremos recursos para que sea válida.</p>
      </li><li>
        <p>En el panel <b>Resource types (Tipos de recursos)</b>, desde la categoría <b>EC2</b>, arrastre un tipo de recurso <b>VPC</b> hacia el panel <b>Canvas (Lienzo)</b>.</p>
        <p>Los recursos están organizados por categorías de recursos. Todos los recursos que estamos añadiendo se encuentran en la categoría <b>EC2</b>.</p>
        <p>AWS CloudFormation Designer modifica inmediatamente la plantilla para incluir un recurso de VPC, con unos resultados que tienen un aspecto similar al siguiente fragmento de código JSON.</p>
<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">  "Resources": <span>{</span>
    "VPC431KO": <span>{</span>
      "Type": "AWS::EC2::VPC",
      "Properties": <span>{</span>},
      "Metadata": <span>{</span>
        "AWS::CloudFormation::Designer": <span>{</span>
          "id": "445730ea-0d11-45ba-b6ac-12345EXAMPLE"
        }
      }
    }
  }</code></pre>

        <p>El fragmento de código YAML tiene un aspecto similar al siguiente.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources:
  VPC431KO:
    Type: 'AWS::EC2::VPC'
    Properties: <span>{</span>}
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 9430b008-7a03-41ed-b63e-12345EXAMPLE</code></pre>

        <p>Tenga en cuenta que todavía tiene que especificar las propiedades de VPC, como el bloque de CIDR de la VPC. Lo haremos más adelante. Esto es válido para todos los recursos que vamos a añadir.</p>
      </li><li>
        <p>Cambie el nombre de la VPC.</p>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Al cambiar el nombre de un recurso, cambia el nombre de su ID lógico, que es el nombre al que se hace referencia en la plantilla (no el nombre asignado cuando CloudFormation crea el recurso). Para obtener más información, consulte <a href="./resources-section-structure.html">Recursos</a>.</p></div></div>
        <ol><li>
            <p>Elija el recurso de VPC.</p>
          </li><li>
            <p>En el editor integrado, elija el icono <b>Edit (Editar)</b> (<span class="inlinemediaobject">
                 
                  <img src="images/designer-edit-icon.png" class="aws-docs-img-whiteBg aws-docs-img-xs-padding" />
                 
              </span>).</p>
          </li><li>
            <p>Cambie el nombre a <code class="code">VPC</code> y, a continuación, elija <b>Intro</b>.</p>
          </li></ol>
        <p>A continuación, añadiremos recursos a la VPC.</p>
      </li><li>
        <p>Arrastre una esquina del recurso de VPC para ampliarla para que sea lo suficientemente grande como para que quepan varios recursos más.</p>
        <p>Tenemos que añadir una subred porque no es posible añadir una instancia de EC2, que aloja el sitio web, directamente en la VPC; las instancias deben estar en una subred.</p>
      </li><li>
        <p>Añada un tipo de recurso <b>Subnet</b> dentro de la VPC y cámbiele el nombre por <code class="code">PublicSubnet</code>.</p>
        <p>Usaremos la subred para asignar un rango de direcciones IP de la VPC que puede asociar con otros recursos de AWS, como una instancia de Amazon EC2.</p>
        <p>Cuando agrega la subred dentro de la VPC, AWS CloudFormation Designer asocia automáticamente la subred con la VPC. Esta asociación es un modelo de contenedor, donde los recursos dentro del contenedor se asocian automáticamente con los recursos de contenedor.</p>
      </li><li>
        <p>Añada un tipo de recurso <b>Instance</b> dentro del recurso <code class="code">PublicSubnet</code> y cámbiele el nombre por <code class="code">WebServerInstance</code>.</p>
        <p>La instancia es un entorno informático virtual, donde podrá alojar un sitio web básico. De forma similar a la forma en que esto funcionó con la subred y la VPC, la adición de la instancia en la subred asocia automáticamente la instancia con la subred.</p>
      </li><li>
        <p>Añada un tipo de recurso <b>SecurityGroup</b> dentro de la VPC y cámbiele el nombre por <code class="code">WebServerSecurityGroup</code>.</p>
        <p>El grupo de seguridad es un firewall virtual que controla el tráfico entrante y saliente de la instancia del servidor web. También es necesario para las instancias de una VPC. Tendremos que asociar la instancia de servidor web con este grupo de seguridad, lo cual haremos más adelante cuando especifiquemos las propiedades de la instancia.</p>
      </li><li>
        <p>Añada un tipo de recurso <b>InternetGateway</b> en cualquier lugar fuera de la VPC y cámbiele el nombre por <code class="code">InternetGateway</code>.</p>
        <p>La gateway de Internet permite la comunicación entre la instancia que está dentro de la VPC e Internet. Sin la gateway de Internet, nadie puede obtener acceso a su sitio web.</p>
        <p>Aunque puede arrastrar la gateway de Internet dentro de la VPC, esto no crea una asociación con la VPC. La gateway de Internet no sigue el modelo de contenedores; en su lugar, debe arrastrar una conexión de la gateway de Internet a la VPC, tal y como se describe en el siguiente paso.</p>
      </li><li>
        <p>Cree una conexión entre el recurso <code class="code">InternetGateway</code> y el recurso <code class="code">VPC</code>.</p>
        <ol><li>
            <p>En el recurso <code class="code">InternetGateway</code>, coloque el cursor sobre la vinculación de la gateway de Internet (<code class="code">AWS::EC2::VPCGatewayAttachment</code>).</p>
          </li><li>
            <p>Arrastre una conexión a la VPC.</p>
            <p>El borde de los recursos de destino válidos cambia de color. En este caso, la VPC es el único recurso de destino válido. Esta conexión crea un recurso de vinculación que asocia la gateway de Internet a la VPC.</p>
          </li></ol>
      </li><li>
        <p>A continuación, tenemos que añadir una tabla de ruteo y una ruta para especificar cómo dirigir el tráfico de la red desde una subred. Añada una <b>RouteTable</b> dentro de la VPC y cámbiele el nombre por <code class="code">PublicRouteTable</code>.</p>
        <p>Esto asocia una nueva tabla de ruteo con la VPC.</p>
      </li><li>
        <p>Para añadir una regla de enrutamiento en la tabla de ruteo, añada un tipo de recurso <b>Route</b> dentro del recurso <code class="code">PublicRouteTable</code> y cámbiele el nombre por <code class="code">PublicRoute</code>.</p>
        <p>Utilizaremos la ruta para especificar hacia dónde dirigir el tráfico.</p>
      </li><li>
        <p>Para la ruta pública, queremos que la gateway de Internet sea el destino. Utilice <code class="code">GatewayId</code> para crear una conexión desde el recurso <code class="code">PublicRoute</code> a la gateway de Internet, similar a la forma en que ha creado una conexión entre la gateway de Internet y la VPC.</p>
        <p>CloudFormation no puede asociar una ruta con una gateway de Internet hasta que se asocia la gateway de Internet a la VPC. Esto significa que tenemos que crear una dependencia explícita en la vinculación gateway de Internet-VPC, tal y como se describe en el siguiente paso. Para obtener más información, consulte <a href="./aws-attribute-dependson.html">Atributo DependsOn</a>.</p>
      </li><li>
        <p>Cree una dependencia explícita entre el recurso <code class="code">PublicRoute</code> y la vinculación gateway de Internet-VPC.</p>
        <ol><li>
            <p>En el recurso <code class="code">PublicRoute</code>, pase el ratón por encima del punto <b>DependsOn</b>.</p>
          </li><li>
            <p>Arrastre una conexión a la vinculación gateway de Internet-VPC (<code class="code">AWS::EC2::VPCGatewayAttachment</code>).</p>
            <p>Con conexiones <code class="code">DependsOn</code>, AWS CloudFormation Designer crea una dependencia (un atributo <code class="code">DependsOn</code>), donde el recurso de origen depende del recurso de destino. En este caso, AWS CloudFormation Designer agrega un atributo <code class="code">DependsOn</code> para el recurso <code class="code">PublicRoute</code> y especifica la vinculación entre la puerta de enlace y la VPC como una dependencia.</p>
          </li></ol>
      </li><li>
        <p>Cree otra dependencia desde el recurso <code class="code">WebServerInstance</code> al recurso <code class="code">PublicRoute</code>.</p>
        <p>El recurso <code class="code">WebServerInstance</code> depende de la ruta pública para dirigir el tráfico a través de Internet. Sin la ruta pública, la instancia no puede enviar una señal (utilizando el script de la aplicación auxiliar cfn-signal) para informar a CloudFormation cuando se completan la configuración de la instancia y las implementaciones de la aplicación.</p>
      </li><li>
        <p>Arrastre una conexión desde el recurso <code class="code">PublicRouteTable</code> al recurso <code class="code">PublicSubnet</code> para asociar la tabla de ruteo y la subred.</p>
        <p>Ahora la subred pública utilizará la tabla de ruteo público para dirigir el tráfico.</p>
      </li><li>
        <p>En la barra de herramientas de AWS CloudFormation Designer guarde la plantilla localmente mediante el menú <b>File</b> (Archivo) (el icono de archivo).</p>
        <p>AWS CloudFormation Designer guarda la plantilla en el disco duro. Puede utilizar la plantilla más tarde para crear una pila. Le recomendamos que guarde la plantilla periódicamente para evitar perder cambios.</p>
      </li></ol></div>
    <p>En este paso, hemos añadido siete recursos a su plantilla y cambiado el nombre de sus ID lógico por nombres fáciles de recordar. También hemos establecido conexiones visuales con la mayoría de los recursos para crear asociaciones y una dependencia. Sin embargo, para poder crear una pila con esta plantilla, tenemos que crear algunas conexiones más (como, por ejemplo, la asociación de la instancia con el grupo de seguridad) y especificar propiedades para cada recurso. En el siguiente paso, repasaremos cómo modificar otros componentes de la plantilla, como parámetros de entrada, mediante el editor integrado de AWS CloudFormation Designer.</p>
  <h2 id="working-with-templates-cfn-designer-walkthrough-createbasicwebserver-addother">Paso 2: Añadir parámetros, asignaciones y salidas</h2>
    
    <p>Antes de especificar las propiedades de los recursos, tenemos que añadir otros componentes de plantilla para que resulte más fácil reutilizar la plantilla en diferentes entornos. En este paso, vamos a utilizar el editor integrado de AWS CloudFormation Designer para agregar parámetros, asignaciones y salidas. A continuación, podemos consultar estos parámetros y mapeos al especificar las propiedades de los recursos. El tutorial incluye ejemplos de JSON y YAML que puede utilizar para copiar y pegar en editor integrado.</p>
    <div class="procedure"><h6>Para añadir parámetros</h6><p>Los parámetros son valores de entrada que especifica al crear una pila. Son útiles para transferir valores para no tener valores codificados de forma rígida en plantillas. Por ejemplo, no es necesario codificar de manera rígida el tipo de instancia del servidor web en la plantilla; en su lugar, puede utilizar un parámetro para especificar el tipo de instancia al crear una pila. De esta forma, puede utilizar la misma plantilla para crear varios servidores web con diferentes tipos de instancias. Para obtener más información, consulte <a href="./parameters-section-structure.html">Parámetros</a>.</p><ol><li>
        <p>Haga clic en una zona abierta en el lienzo de AWS CloudFormation Designer.</p>
        <p>En función de lo que haya seleccionado, editor integrado muestra componentes de nivel de plantilla o de nivel de recursos que puede editar. En el nivel de la plantilla, puede editar el resto de secciones de una plantilla, como, por ejemplo, los parámetros, mapeos y salidas de la plantilla, excepto la sección Resources. En el nivel de recursos, puede editar las propiedades de recursos y atributos.</p>
        <p>Al hacer clic en una zona abierta en el canvas esto le permite editar los componentes de nivel de plantilla. Para editar los componentes de nivel de recursos, seleccione un recurso.</p>
      </li><li>
        <p>En el panel de editor integrado, elija la pestaña <b>Parameters (Parámetros)</b> en la vista <b>Components (Componentes)</b>.</p>
      </li><li>
        <p>Copie los parámetros en el siguiente fragmento de código y péguelos en editor integrado.</p>
        <p>El siguiente fragmento de código JSON añade parámetros para especificar el tipo de instancia del servidor web, un nombre de par de claves de Amazon EC2 para acceso de SSH al servidor web y el rango de direcciones IP que se puede utilizar para obtener acceso al servidor web mediante SSH.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Parameters": <span>{</span>
    "InstanceType" : <span>{</span>
      "Description" : "WebServer EC2 instance type",
      "Type" : "String",
      "Default" : "t2.small",
      "AllowedValues" : [ 
        "t1.micro", 
        "t2.nano", 
        "t2.micro", 
        "t2.small", 
        "t2.medium", 
        "t2.large", 
        "m1.small", 
        "m1.medium", 
        "m1.large", 
        "m1.xlarge", 
        "m2.xlarge", 
        "m2.2xlarge", 
        "m2.4xlarge", 
        "m3.medium", 
        "m3.large", 
        "m3.xlarge", 
        "m3.2xlarge", 
        "m4.large", 
        "m4.xlarge", 
        "m4.2xlarge", 
        "m4.4xlarge", 
        "m4.10xlarge", 
        "c1.medium", 
        "c1.xlarge", 
        "c3.large", 
        "c3.xlarge", 
        "c3.2xlarge", 
        "c3.4xlarge", 
        "c3.8xlarge", 
        "c4.large", 
        "c4.xlarge", 
        "c4.2xlarge", 
        "c4.4xlarge", 
        "c4.8xlarge", 
        "g2.2xlarge", 
        "g2.8xlarge", 
        "r3.large", 
        "r3.xlarge", 
        "r3.2xlarge", 
        "r3.4xlarge", 
        "r3.8xlarge", 
        "i2.xlarge", 
        "i2.2xlarge", 
        "i2.4xlarge", 
        "i2.8xlarge", 
        "d2.xlarge", 
        "d2.2xlarge", 
        "d2.4xlarge", 
        "d2.8xlarge", 
        "hi1.4xlarge", 
        "hs1.8xlarge", 
        "cr1.8xlarge", 
        "cc2.8xlarge", 
        "cg1.4xlarge"
      ],
      "ConstraintDescription" : "must be a valid EC2 instance type."
    },
    "KeyName": <span>{</span>
      "Description": "Name of an EC2 KeyPair to enable SSH access to the instance.",
      "Type": "AWS::EC2::KeyPair::KeyName",
      "ConstraintDescription": "must be the name of an existing EC2 KeyPair."
    },
    "SSHLocation": <span>{</span>
      "Description": " The IP address range that can be used to access the web server using SSH.",
      "Type": "String",
      "MinLength": "9",
      "MaxLength": "18",
      "Default": "0.0.0.0/0",
      "AllowedPattern": "(\\d<span>{</span>1,3})\\.(\\d<span>{</span>1,3})\\.(\\d<span>{</span>1,3})\\.(\\d<span>{</span>1,3})/(\\d<span>{</span>1,2})",
      "ConstraintDescription": "must be a valid IP CIDR range of the form x.x.x.x/x."
    }
  }
}</code></pre>

        <p>A continuación se muestra el mismo fragmento de código en YAML.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Parameters:
  InstanceType:
    Description: WebServer EC2 instance type
    Type: String
    Default: t2.small
    AllowedValues:
      - t1.micro
      - t2.nano
      - t2.micro
      - t2.small
      - t2.medium
      - t2.large
      - m1.small
      - m1.medium
      - m1.large
      - m1.xlarge
      - m2.xlarge
      - m2.2xlarge
      - m2.4xlarge
      - m3.medium
      - m3.large
      - m3.xlarge
      - m3.2xlarge
      - m4.large
      - m4.xlarge
      - m4.2xlarge
      - m4.4xlarge
      - m4.10xlarge
      - c1.medium
      - c1.xlarge
      - c3.large
      - c3.xlarge
      - c3.2xlarge
      - c3.4xlarge
      - c3.8xlarge
      - c4.large
      - c4.xlarge
      - c4.2xlarge
      - c4.4xlarge
      - c4.8xlarge
      - g2.2xlarge
      - g2.8xlarge
      - r3.large
      - r3.xlarge
      - r3.2xlarge
      - r3.4xlarge
      - r3.8xlarge
      - i2.xlarge
      - i2.2xlarge
      - i2.4xlarge
      - i2.8xlarge
      - d2.xlarge
      - d2.2xlarge
      - d2.4xlarge
      - d2.8xlarge
      - hi1.4xlarge
      - hs1.8xlarge
      - cr1.8xlarge
      - cc2.8xlarge
      - cg1.4xlarge
    ConstraintDescription: must be a valid EC2 instance type.
  KeyName:
    Description: Name of an EC2 KeyPair to enable SSH access to the instance.
    Type: 'AWS::EC2::KeyPair::KeyName'
    ConstraintDescription: must be the name of an existing EC2 KeyPair.
  SSHLocation:
    Description: ' The IP address range that can be used to access the web server using SSH.'
    Type: String
    MinLength: '9'
    MaxLength: '18'
    Default: 0.0.0.0/0
    AllowedPattern: '(\d<span>{</span>1,3})\.(\d<span>{</span>1,3})\.(\d<span>{</span>1,3})\.(\d<span>{</span>1,3})/(\d<span>{</span>1,2})'
    ConstraintDescription: must be a valid IP CIDR range of the form x.x.x.x/x.</code></pre>
      </li></ol></div>
    <div class="procedure"><h6>Para añadir mapeos</h6><p>Las asignaciones son un conjunto de claves que se asocian a un conjunto de pares de nombre-valor. Son útiles para especificar valores basados en un valor de parámetro de entrada. En este tutorial, utilizaremos un mapeo para especificar un ID de AMI para una instancia de EC2 en función del tipo de instancia y la región en la que se crea la pila. Para obtener más información, consulte <a href="./mappings-section-structure.html">Mapeos</a>.</p><ol><li>
        <p>En el panel del editor integrado, elija la pestaña <b>Mappings (Mapeos)</b>.</p>
      </li><li>
        <p>Copie los siguientes mapeos de JSON y péguelos en editor integrado.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>      
  "Mappings" : <span>{</span>
    "AWSInstanceType2Arch" : <span>{</span>
      "t1.micro"    : <span>{</span> "Arch" : "HVM64"  },
      "t2.nano"     : <span>{</span> "Arch" : "HVM64"  },
      "t2.micro"    : <span>{</span> "Arch" : "HVM64"  },
      "t2.small"    : <span>{</span> "Arch" : "HVM64"  },
      "t2.medium"   : <span>{</span> "Arch" : "HVM64"  },
      "t2.large"    : <span>{</span> "Arch" : "HVM64"  },
      "m1.small"    : <span>{</span> "Arch" : "HVM64"  },
      "m1.medium"   : <span>{</span> "Arch" : "HVM64"  },
      "m1.large"    : <span>{</span> "Arch" : "HVM64"  },
      "m1.xlarge"   : <span>{</span> "Arch" : "HVM64"  },
      "m2.xlarge"   : <span>{</span> "Arch" : "HVM64"  },
      "m2.2xlarge"  : <span>{</span> "Arch" : "HVM64"  },
      "m2.4xlarge"  : <span>{</span> "Arch" : "HVM64"  },
      "m3.medium"   : <span>{</span> "Arch" : "HVM64"  },
      "m3.large"    : <span>{</span> "Arch" : "HVM64"  },
      "m3.xlarge"   : <span>{</span> "Arch" : "HVM64"  },
      "m3.2xlarge"  : <span>{</span> "Arch" : "HVM64"  },
      "m4.large"    : <span>{</span> "Arch" : "HVM64"  },
      "m4.xlarge"   : <span>{</span> "Arch" : "HVM64"  },
      "m4.2xlarge"  : <span>{</span> "Arch" : "HVM64"  },
      "m4.4xlarge"  : <span>{</span> "Arch" : "HVM64"  },
      "m4.10xlarge" : <span>{</span> "Arch" : "HVM64"  },
      "c1.medium"   : <span>{</span> "Arch" : "HVM64"  },
      "c1.xlarge"   : <span>{</span> "Arch" : "HVM64"  },
      "c3.large"    : <span>{</span> "Arch" : "HVM64"  },
      "c3.xlarge"   : <span>{</span> "Arch" : "HVM64"  },
      "c3.2xlarge"  : <span>{</span> "Arch" : "HVM64"  },
      "c3.4xlarge"  : <span>{</span> "Arch" : "HVM64"  },
      "c3.8xlarge"  : <span>{</span> "Arch" : "HVM64"  },
      "c4.large"    : <span>{</span> "Arch" : "HVM64"  },
      "c4.xlarge"   : <span>{</span> "Arch" : "HVM64"  },
      "c4.2xlarge"  : <span>{</span> "Arch" : "HVM64"  },
      "c4.4xlarge"  : <span>{</span> "Arch" : "HVM64"  },
      "c4.8xlarge"  : <span>{</span> "Arch" : "HVM64"  },
      "g2.2xlarge"  : <span>{</span> "Arch" : "HVMG2"  },
      "g2.8xlarge"  : <span>{</span> "Arch" : "HVMG2"  },
      "r3.large"    : <span>{</span> "Arch" : "HVM64"  },
      "r3.xlarge"   : <span>{</span> "Arch" : "HVM64"  },
      "r3.2xlarge"  : <span>{</span> "Arch" : "HVM64"  },
      "r3.4xlarge"  : <span>{</span> "Arch" : "HVM64"  },
      "r3.8xlarge"  : <span>{</span> "Arch" : "HVM64"  },
      "i2.xlarge"   : <span>{</span> "Arch" : "HVM64"  },
      "i2.2xlarge"  : <span>{</span> "Arch" : "HVM64"  },
      "i2.4xlarge"  : <span>{</span> "Arch" : "HVM64"  },
      "i2.8xlarge"  : <span>{</span> "Arch" : "HVM64"  },
      "d2.xlarge"   : <span>{</span> "Arch" : "HVM64"  },
      "d2.2xlarge"  : <span>{</span> "Arch" : "HVM64"  },
      "d2.4xlarge"  : <span>{</span> "Arch" : "HVM64"  },
      "d2.8xlarge"  : <span>{</span> "Arch" : "HVM64"  },
      "hi1.4xlarge" : <span>{</span> "Arch" : "HVM64"  },
      "hs1.8xlarge" : <span>{</span> "Arch" : "HVM64"  },
      "cr1.8xlarge" : <span>{</span> "Arch" : "HVM64"  },
      "cc2.8xlarge" : <span>{</span> "Arch" : "HVM64"  }
    },
    "AWSRegionArch2AMI" : <span>{</span>
      "us-east-1"        : <span>{</span>"HVM64" : "ami-0ff8a91507f77f867", "HVMG2" : "ami-0a584ac55a7631c0c"},
      "us-west-2"        : <span>{</span>"HVM64" : "ami-a0cfeed8", "HVMG2" : "ami-0e09505bc235aa82d"},
      "us-west-1"        : <span>{</span>"HVM64" : "ami-0bdb828fd58c52235", "HVMG2" : "ami-066ee5fd4a9ef77f1"},
      "eu-west-1"        : <span>{</span>"HVM64" : "ami-047bb4163c506cd98", "HVMG2" : "ami-0a7c483d527806435"},
      "eu-west-2"        : <span>{</span>"HVM64" : "ami-f976839e", "HVMG2" : "NOT_SUPPORTED"},
      "eu-west-3"        : <span>{</span>"HVM64" : "ami-0ebc281c20e89ba4b", "HVMG2" : "NOT_SUPPORTED"},
      "eu-central-1"     : <span>{</span>"HVM64" : "ami-0233214e13e500f77", "HVMG2" : "ami-06223d46a6d0661c7"},
      "ap-northeast-1"   : <span>{</span>"HVM64" : "ami-06cd52961ce9f0d85", "HVMG2" : "ami-053cdd503598e4a9d"},
      "ap-northeast-2"   : <span>{</span>"HVM64" : "ami-0a10b2721688ce9d2", "HVMG2" : "NOT_SUPPORTED"},
      "ap-northeast-3"   : <span>{</span>"HVM64" : "ami-0d98120a9fb693f07", "HVMG2" : "NOT_SUPPORTED"},
      "ap-southeast-1"   : <span>{</span>"HVM64" : "ami-08569b978cc4dfa10", "HVMG2" : "ami-0be9df32ae9f92309"},
      "ap-southeast-2"   : <span>{</span>"HVM64" : "ami-09b42976632b27e9b", "HVMG2" : "ami-0a9ce9fecc3d1daf8"},
      "ap-south-1"       : <span>{</span>"HVM64" : "ami-0912f71e06545ad88", "HVMG2" : "ami-097b15e89dbdcfcf4"},
      "us-east-2"        : <span>{</span>"HVM64" : "ami-0b59bfac6be064b78", "HVMG2" : "NOT_SUPPORTED"},
      "ca-central-1"     : <span>{</span>"HVM64" : "ami-0b18956f", "HVMG2" : "NOT_SUPPORTED"},
      "sa-east-1"        : <span>{</span>"HVM64" : "ami-07b14488da8ea02a0", "HVMG2" : "NOT_SUPPORTED"},
      "cn-north-1"       : <span>{</span>"HVM64" : "ami-0a4eaf6c4454eda75", "HVMG2" : "NOT_SUPPORTED"},
      "cn-northwest-1"   : <span>{</span>"HVM64" : "ami-6b6a7d09", "HVMG2" : "NOT_SUPPORTED"}
    }
  }
}</code></pre>

        <p>A continuación, especificamos los mismos mapeos en YAML.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Mappings:
  AWSInstanceType2Arch:
    t1.micro:
      Arch: HVM64
    t2.nano:
      Arch: HVM64
    t2.micro:
      Arch: HVM64
    t2.small:
      Arch: HVM64
    t2.medium:
      Arch: HVM64
    t2.large:
      Arch: HVM64
    m1.small:
      Arch: HVM64
    m1.medium:
      Arch: HVM64
    m1.large:
      Arch: HVM64
    m1.xlarge:
      Arch: HVM64
    m2.xlarge:
      Arch: HVM64
    m2.2xlarge:
      Arch: HVM64
    m2.4xlarge:
      Arch: HVM64
    m3.medium:
      Arch: HVM64
    m3.large:
      Arch: HVM64
    m3.xlarge:
      Arch: HVM64
    m3.2xlarge:
      Arch: HVM64
    m4.large:
      Arch: HVM64
    m4.xlarge:
      Arch: HVM64
    m4.2xlarge:
      Arch: HVM64
    m4.4xlarge:
      Arch: HVM64
    m4.10xlarge:
      Arch: HVM64
    c1.medium:
      Arch: HVM64
    c1.xlarge:
      Arch: HVM64
    c3.large:
      Arch: HVM64
    c3.xlarge:
      Arch: HVM64
    c3.2xlarge:
      Arch: HVM64
    c3.4xlarge:
      Arch: HVM64
    c3.8xlarge:
      Arch: HVM64
    c4.large:
      Arch: HVM64
    c4.xlarge:
      Arch: HVM64
    c4.2xlarge:
      Arch: HVM64
    c4.4xlarge:
      Arch: HVM64
    c4.8xlarge:
      Arch: HVM64
    g2.2xlarge:
      Arch: HVMG2
    g2.8xlarge:
      Arch: HVMG2
    r3.large:
      Arch: HVM64
    r3.xlarge:
      Arch: HVM64
    r3.2xlarge:
      Arch: HVM64
    r3.4xlarge:
      Arch: HVM64
    r3.8xlarge:
      Arch: HVM64
    i2.xlarge:
      Arch: HVM64
    i2.2xlarge:
      Arch: HVM64
    i2.4xlarge:
      Arch: HVM64
    i2.8xlarge:
      Arch: HVM64
    d2.xlarge:
      Arch: HVM64
    d2.2xlarge:
      Arch: HVM64
    d2.4xlarge:
      Arch: HVM64
    d2.8xlarge:
      Arch: HVM64
    hi1.4xlarge:
      Arch: HVM64
    hs1.8xlarge:
      Arch: HVM64
    cr1.8xlarge:
      Arch: HVM64
    cc2.8xlarge:
      Arch: HVM64
  AWSRegionArch2AMI:
    us-east-1:
      HVM64: ami-0ff8a91507f77f867
      HVMG2: ami-0a584ac55a7631c0c
    us-west-2:
      HVM64: ami-a0cfeed8
      HVMG2: ami-0e09505bc235aa82d
    us-west-1:
      HVM64: ami-0bdb828fd58c52235
      HVMG2: ami-066ee5fd4a9ef77f1
    eu-west-1:
      HVM64: ami-047bb4163c506cd98
      HVMG2: ami-0a7c483d527806435
    eu-west-2:
      HVM64: ami-f976839e
      HVMG2: NOT_SUPPORTED
    eu-west-3:
      HVM64: ami-0ebc281c20e89ba4b
      HVMG2: NOT_SUPPORTED
    eu-central-1:
      HVM64: ami-0233214e13e500f77
      HVMG2: ami-06223d46a6d0661c7
    ap-northeast-1:
      HVM64: ami-06cd52961ce9f0d85
      HVMG2: ami-053cdd503598e4a9d
    ap-northeast-2:
      HVM64: ami-0a10b2721688ce9d2
      HVMG2: NOT_SUPPORTED
    ap-northeast-3:
      HVM64: ami-0d98120a9fb693f07
      HVMG2: NOT_SUPPORTED
    ap-southeast-1:
      HVM64: ami-08569b978cc4dfa10
      HVMG2: ami-0be9df32ae9f92309
    ap-southeast-2:
      HVM64: ami-09b42976632b27e9b
      HVMG2: ami-0a9ce9fecc3d1daf8
    ap-south-1:
      HVM64: ami-0912f71e06545ad88
      HVMG2: ami-097b15e89dbdcfcf4
    us-east-2:
      HVM64: ami-0b59bfac6be064b78
      HVMG2: NOT_SUPPORTED
    ca-central-1:
      HVM64: ami-0b18956f
      HVMG2: NOT_SUPPORTED
    sa-east-1:
      HVM64: ami-07b14488da8ea02a0
      HVMG2: NOT_SUPPORTED
    cn-north-1:
      HVM64: ami-0a4eaf6c4454eda75
      HVMG2: NOT_SUPPORTED
    cn-northwest-1:
      HVM64: ami-6b6a7d09
      HVMG2: NOT_SUPPORTED</code></pre>
      </li></ol></div>
    <div class="procedure"><h6>Para añadir salidas</h6><p>Las salidas declaran valores que desea que estén disponibles para una llamada a la API <code class="code">describe
          stacks</code> o a través de la pestaña <b>Outputs (Salidas)</b> de la pila de la consola de CloudFormation. En este tutorial, mostraremos la URL del sitio web para que pueda ver fácilmente el sitio web una vez que lo hayamos creado. Para obtener más información, consulte <a href="./outputs-section-structure.html">Salidas</a>.</p><ol><li>
        <p>En el panel del editor integrado, seleccione la pestaña <b>Outputs (Salidas)</b>.</p>
      </li><li>
        <p>Copie la siguiente salida JSON y péguela en editor integrado.</p>
        <p>La salida utiliza una función intrínseca <code class="code">Fn::GetAtt</code> para obtener la IP pública de la instancia del servidor web.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Outputs": <span>{</span>
    "URL": <span>{</span>
      "Value": <span>{</span>
        "Fn::Join": [
          "",
          [
            "http://",
            <span>{</span>
              "Fn::GetAtt": [
                "WebServerInstance",
                "PublicIp"
              ]
            }
          ]
        ]
      },
      "Description": "Newly created application URL"
    }
  }
}</code></pre>

        <p>Aquí podemos ver la misma salida con el formato YAML.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Outputs:
  URL:
    Value: !Join 
      - ''
      - - 'http://'
        - !GetAtt 
          - WebServerInstance
          - PublicIp
    Description: Newly created application URL</code></pre>
      </li><li>
        <p>Guarde la plantilla de nuevo para no perder los cambios. Puede guardar los cambios de forma segura en el mismo archivo que creó en la sección anterior.</p>
      </li></ol></div>
    <p>Ahora que se han asignado los parámetros, mapeos y salidas de la plantilla, podemos especificar las propiedades de los recursos.</p>
  <h2 id="working-with-templates-cfn-designer-walkthrough-createbasicwebserver-resourceproperties">Paso 3: Especificar las propiedades de los recursos</h2>
    
    <p>Muchos recursos han necesitado propiedades que definen sus configuraciones o ajustes, como, por ejemplo, el tipo de instancia que se debe utilizar para el servidor web. De forma similar a lo que hicimos en el paso anterior, vamos a utilizar el editor integrado de AWS CloudFormation Designer para especificar propiedades de los recursos. Proporcionamos YAML y JSON de ejemplo que puede copiar y pegar en editor integrado.</p>
    <div class="procedure"><h6>Para especificar las propiedades de los recursos</h6><ol><li>
        <p>En el lienzo de AWS CloudFormation Designer, elija el recurso de la <code class="code">VPC</code>.</p>
        <p>editor integrado muestra los componentes de nivel de recurso que puede editar, como, por ejemplo, las propiedades de recursos y atributos.</p>
      </li><li>
        <p>En el panel del editor integrado, elija la pestaña <b>Properties (Propiedades)</b>.</p>
      </li><li>
        <p>Copie el siguiente fragmento de código JSON y péguelo en el editor integrado, entre las llaves de <b>Properties (Propiedades)</b> (<code class="code"><span>{</span>}</code>).</p>
        <p>Este fragmento de código especifica los ajustes de DNS y el bloque de CIDR de la VPC.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">        "EnableDnsSupport": "true",
        "EnableDnsHostnames": "true",
        "CidrBlock": "10.0.0.0/16"</code></pre>
        <p>Para YAML, escriba una línea nueva después de <code class="code">Properties:</code> y pegue el siguiente fragmento de código.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">      EnableDnsSupport: 'true'
      EnableDnsHostnames: 'true'
      CidrBlock: 10.0.0.0/16</code></pre>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Para una mayor eficacia, proporcionamos fragmentos de código YAML y JSON que puede copiar y pegar. Tenga en cuenta, no obstante, que el editor tiene una característica autocompletar que puede utilizar para especificar manualmente cada propiedad. Para obtener más información, consulte <a href="./working-with-templates-cfn-designer-json-editor.html">Editor de JSON y YAML integrado</a>.</p></div></div>
      </li><li>
        <p>Repita este proceso para los siguientes recursos:</p><div class="variablelist">
             
             
             
             
          <dl>
              <dt><span class="term"><code class="code">PublicSubnet</code></span></dt>
              <dd>
                <p>Agregue la siguiente propiedad del bloque de CIDR después de la propiedad del ID de la VPC. AWS CloudFormation Designer agregó automáticamente la propiedad del ID de la VPC al arrastrar la subred dentro de la VPC.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Verá algunas asociaciones más que AWS CloudFormation Designer creó automáticamente. Añada tan solo las nuevas propiedades, que están en negrita.</p></div></div>
                <p>JSON</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">        "VpcId": <span>{</span>
          "Ref": "VPC"
        },
        <b>"CidrBlock": "10.0.0.0/24"</b></code></pre>
                <p>YAML</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">      VpcId: !Ref VPC
      <b>CidrBlock: 10.0.0.0/24</b></code></pre>
              </dd>
             
              <dt><span class="term"><code class="code">PublicRoute</code></span></dt>
              <dd>
                <p>Agregue la siguiente propiedad de bloque de CIDR de destino, que dirige todo el tráfico a gateway de Internet:</p>
                <p>JSON</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">        <b>"DestinationCidrBlock": "0.0.0.0/0",</b>
        "RouteTableId": <span>{</span>
          "Ref": "PublicRouteTable"
        },        
        "GatewayId": <span>{</span>
          "Ref": "InternetGateway"
        }</code></pre>
                <p>YAML</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">      <b>DestinationCidrBlock: 0.0.0.0/0</b>
      RouteTableId: !Ref PublicRouteTable
      GatewayId: !Ref InternetGateway</code></pre>
              </dd>
             
              <dt><span class="term"><code class="code">WebServerSecurityGroup</code></span></dt>
              <dd>
                <p>Añada las siguientes reglas entrantes que determinan el tráfico que puede llegar a la instancia del servidor web. Las reglas permiten todo el tráfico HTTP y determinado tráfico SSH, que usted especifique como valor de parámetro al crear una pila.</p>
                <p>JSON</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">        "VpcId": <span>{</span>
          "Ref": "VPC"
        }<b>,
        "GroupDescription" : "Allow access from HTTP and SSH traffic",
        "SecurityGroupIngress": [
          <span>{</span>
            "IpProtocol": "tcp",
            "FromPort": 80,
            "ToPort": 80,
            "CidrIp": "0.0.0.0/0"
          },
          <span>{</span>
            "IpProtocol": "tcp",
            "FromPort": 22,
            "ToPort": 22,
            "CidrIp": <span>{</span>
              "Ref": "SSHLocation"
            }
          }
        ]</b></code></pre>
                <p>YAML</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">      VpcId: !Ref VPC
      <b>GroupDescription: Allow access from HTTP and SSH traffic
      SecurityGroupIngress:
        - IpProtocol: tcp
          FromPort: 80
          ToPort: 80
          CidrIp: 0.0.0.0/0
        - IpProtocol: tcp
          FromPort: 22
          ToPort: 22
          CidrIp: !Ref SSHLocation</b></code></pre>
              </dd>
             
              <dt><span class="term"><code class="code">WebServerInstance</code></span></dt>
              <dd>
                <p>Debe especificar un número de propiedades para la instancia del servidor web, por lo que vamos a resaltar tan solo algunas para realizar una demostración. Las propiedades <code class="code">InstanceType</code> e <code class="code">ImageId</code> utilizan los valores de los parámetros y mapeos que especificamos en la sección anterior. Al crear una pila, especifica el tipo de instancia como valor de parámetro. El valor <code class="code">ImageId</code> es un mapeo que se basa en la región de su pila y el tipo de instancia que especificó.</p>
                <p>La propiedad <code class="code">NetworkInterfaces</code> especifica los ajustes de red para la instancia del servidor web. Esta propiedad nos permite asociar el grupo de seguridad y la subred a la instancia. Aunque AWS CloudFormation Designer utilizó la propiedad <code class="code">SubnetId</code> para asociar la instancia a la subred, tenemos que utilizar la propiedad <code class="code">NetworkInterfaces</code> porque es la única forma de dar al servidor web una dirección IP pública. Cuando especifica la propiedad <code class="code">NetworkInterfaces</code>, debe especificar la subred y el grupo de seguridad dentro de dicha propiedad.</p>
                <p>En la propiedad <code class="code">UserData</code>, especifique los scripts de configuración que se ejecutan una vez que la instancia está operativa. Toda la información de configuración se define en los metadatos de la instancia, que añadiremos en el siguiente paso.</p>
                <p>Sustituya todas las propiedades por el siguiente fragmento de código:</p>
                <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>importante</h6></div><div class="awsdocs-note-text"><p>No añada este fragmento de código a las propiedades existentes.</p></div></div>
                <p>JSON</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><b>       "InstanceType": <span>{</span>
          "Ref": "InstanceType"
        },
        "ImageId": <span>{</span>
          "Fn::FindInMap": [
            "AWSRegionArch2AMI",
            <span>{</span>
              "Ref": "AWS::Region"
            },
            <span>{</span>
              "Fn::FindInMap": [
                "AWSInstanceType2Arch",
                <span>{</span>
                  "Ref": "InstanceType"
                },
                "Arch"
              ]
            }
          ]
        },
        "KeyName": <span>{</span>
          "Ref": "KeyName"
        },
        "NetworkInterfaces": [
          <span>{</span>
            "GroupSet": [
              <span>{</span>
                "Ref": "WebServerSecurityGroup"
              }
            ],
            "AssociatePublicIpAddress": "true",
            "DeviceIndex": "0",
            "DeleteOnTermination": "true",
            "SubnetId": <span>{</span>
              "Ref": "PublicSubnet"
            }
          }
        ],
        "UserData": <span>{</span>
          "Fn::Base64": <span>{</span>
            "Fn::Join": [
              "",
              [
                "#!/bin/bash -xe\n",
                "yum install -y aws-cfn-bootstrap\n",
                "# Install the files and packages from the metadata\n",
                "/opt/aws/bin/cfn-init -v ",
                "         --stack ",
                <span>{</span>
                  "Ref": "AWS::StackName"
                },
                "         --resource WebServerInstance ",
                "         --configsets All ",
                "         --region ",
                <span>{</span>
                  "Ref": "AWS::Region"
                },
                "\n",
                "# Signal the status from cfn-init\n",
                "/opt/aws/bin/cfn-signal -e $? ",
                "         --stack ",
                <span>{</span>
                  "Ref": "AWS::StackName"
                },
                "         --resource WebServerInstance ",
                "         --region ",
                <span>{</span>
                  "Ref": "AWS::Region"
                },
                "\n"
              ]
            ]
          }
        }</b></code></pre>
                <p>YAML</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml "><b>      InstanceType: !Ref InstanceType
      ImageId: !FindInMap 
        - AWSRegionArch2AMI
        - !Ref 'AWS::Region'
        - !FindInMap 
          - AWSInstanceType2Arch
          - !Ref InstanceType
          - Arch
      KeyName: !Ref KeyName
      NetworkInterfaces:
        - GroupSet:
            - !Ref WebServerSecurityGroup
          AssociatePublicIpAddress: 'true'
          DeviceIndex: '0'
          DeleteOnTermination: 'true'
          SubnetId: !Ref PublicSubnet
      UserData: !Base64 
        'Fn::Join':
          - ''
          - - |
              #!/bin/bash -xe
            - |
              yum install -y aws-cfn-bootstrap
            - |
              # Install the files and packages from the metadata
            - '/opt/aws/bin/cfn-init -v '
            - '         --stack '
            - !Ref 'AWS::StackName'
            - '         --resource WebServerInstance '
            - '         --configsets All '
            - '         --region '
            - !Ref 'AWS::Region'
            - |+

            - |
              # Signal the status from cfn-init
            - '/opt/aws/bin/cfn-signal -e $? '
            - '         --stack '
            - !Ref 'AWS::StackName'
            - '         --resource WebServerInstance '
            - '         --region '
            - !Ref 'AWS::Region'
            - |+</b></code></pre>
              </dd>
            </dl></div>
      </li><li>
        <p>Añada los metadatos de la configuración del servidor web al recurso <code class="code">WebServerInstance</code>.</p>
        <ol><li>
            <p>Elija el recurso <code class="code">WebServerInstance</code> y, a continuación, elija la pestaña <b>Metadata (Metadatos)</b> en el panel del editor integrado.</p>
          </li><li>
            <p><em>Si está creando la plantilla en JSON</em>: dentro de las llaves de <code class="code">Metadata</code> (<code class="code"><span>{</span>}</code>) y después de la llave de cierre <code class="code">AWS::CloudFormation::Designer</code>, añada una coma (<code class="code">,</code>).</p>
          </li><li>
            <p>Después de la propiedad <code class="code">AWS::CloudFormation::Designer</code>, agregue el siguiente fragmento de código, que indica al script auxiliar cfn-init que active el servidor web y cree una página web básica.</p>
            <p>JSON</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">        "AWS::CloudFormation::Init" : <span>{</span>
          "configSets" : <span>{</span>
            "All" : [ "ConfigureSampleApp" ]
          },
          "ConfigureSampleApp" : <span>{</span>
            "packages" : <span>{</span>
              "yum" : <span>{</span>
                "httpd" : []
              }
            },
            "files" : <span>{</span>
              "/var/www/html/index.html" : <span>{</span>
                "content" : <span>{</span> "Fn::Join" : ["\n", [
                  "&lt;h1&gt;Congratulations, you have successfully launched the AWS CloudFormation sample.&lt;/h1&gt;"
                ]]},
                "mode"    : "000644",
                "owner"   : "root",
                "group"   : "root"
              }
            },
            "services" : <span>{</span>
              "sysvinit" : <span>{</span>
                "httpd"    : <span>{</span> "enabled" : "true", "ensureRunning" : "true" }
              }
            }
          }
        }</code></pre>
            <p>YAML</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">      'AWS::CloudFormation::Init':
        configSets:
          All:
            - ConfigureSampleApp
        ConfigureSampleApp:
          packages:
            yum:
              httpd: []
          files:
            /var/www/html/index.html:
              content: !Join 
                - |+

                - - &gt;-
                    &lt;h1&gt;Congratulations, you have successfully launched the AWS
                    CloudFormation sample.&lt;/h1&gt;
              mode: '000644'
              owner: root
              group: root
          services:
            sysvinit:
              httpd:
                enabled: 'true'
                ensureRunning: 'true'</code></pre>
          </li></ol>
      </li><li>
        <p>En la barra de herramientas de AWS CloudFormation Designer elija <b>Validate template</b> (Validar plantilla) (<span class="inlinemediaobject">
               
                <img src="images/designer-validate-icon.png" class="aws-docs-img-whiteBg aws-docs-img-xs-padding" />
               
            </span>) para verificar errores de sintaxis en su plantilla.</p>
        <p>Vea y arregle errores en el panel <b>Messages (Mensajes)</b> y, a continuación, valide de nuevo la plantilla. Si no ve errores, su plantilla es válida desde el punto de vista sintáctico.</p>
      </li><li>
        <p>Guarde la plantilla rellenada para conservar todos los cambios que ha realizado.</p>
      </li></ol></div>
    <p>Ahora tiene una plantilla de CloudFormation completa que puede utilizar para crear un servidor web básico en una VPC. Para crear la plantilla, en primer lugar, agregamos y conectamos recursos de la plantilla mediante el panel del lienzo de AWS CloudFormation Designer. A continuación, utilizamos editor integrado para añadir otros componentes a la plantilla y para especificar las propiedades de los recursos. En el siguiente paso, utilizaremos esta plantilla para crear una pila.</p>
  <h2 id="working-with-templates-cfn-designer-walkthrough-createbasicwebserver-provision">Paso 4: Aprovisionar recursos</h2>
    
    <p>Para crear una pila, puede lanzar el <b>asistente de creación de pilas</b> de CloudFormation desde AWS CloudFormation Designer. Utilizaremos la plantilla que hemos creado en los pasos anteriores para crear una pila de CloudFormation. Después de que CloudFormation aprovisiona todos los recursos tendrá una página web básica operativa.</p>
    <div class="procedure"><h6>Para crear la pila </h6><ol><li>
        <p>En la barra de herramientas de AWS CloudFormation Designer elija <b>Create Stack</b> (Crear pila) (el icono de la nube).</p>
        <p>AWS CloudFormation Designer guarda la plantilla abierta en un bucket de S3 y, a continuación, lanza el <b>asistente de creación de pilas</b> de CloudFormation. CloudFormation utiliza el mismo bucket de S3 que crea siempre que carga plantillas.</p>
      </li><li>
        <p>CloudFormation rellena automáticamente la URL de la plantilla; elija <b>Next (Siguiente)</b>.</p>
      </li><li>
        <p>En la sección <b>Specify Details (Especificar detalles)</b>, introduzca un nombre de pila en el campo <b>Stack name (Nombre de pila)</b>. Para este ejemplo, use <code class="userinput">BasicWebServerStack</code>.</p>
      </li><li>
        <p>En la sección <b>Parameters (Parámetros)</b>, para el campo <b>KeyName</b>, escriba el nombre de un par de claves de Amazon EC2 en la misma región en la que está creando la pila.</p>
      </li><li>
        <p>Mantenga el resto de valores de parámetros predeterminados y elija <b>Next (Siguiente)</b>.</p>
      </li><li>
        <p>Para este tutorial, no tiene que añadir etiquetas ni especificar una configuración avanzada, así que elija <b>Next (Siguiente)</b>.</p>
      </li><li>
        <p>Asegúrese de que el nombre de la pila y el nombre del par de claves de Amazon EC2 son correctos y, a continuación, elija <b>Create (Crear)</b>.</p>
      </li></ol></div>
    <p>AWS CloudFormation puede tardar varios minutos en crear su plantilla. Para monitorizar el progreso, vea los eventos de la pila. Para obtener más información acerca de la visualización de eventos de pila, consulte <a href="./cfn-console-view-stack-data-resources.html">Visualización de recursos y datos de la pila de AWS CloudFormation en la AWS Management Console</a>. Una vez que se ha creado la pila, vea las salidas de la pila y visite la URL del sitio web de ejemplo para comprobar que el sitio web está operativo. Para obtener más información, consulte <a href="./cfn-console-view-stack-data-resources.html">Visualización de recursos y datos de la pila de AWS CloudFormation en la AWS Management Console</a>.</p>
    <p>Ahora que ha creado correctamente una plantilla y ha lanzado una pila con AWS CloudFormation Designer, puede utilizar la pila en el siguiente tutorial: <a href="./working-with-templates-cfn-designer-walkthrough-updatebasicwebserver.html">Tutorial: Utilice AWS CloudFormation Designer para modificar una plantilla de la pila</a>, que modifica la plantilla para crear un servidor web escalable.</p>
  <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Aviso" /> <strong>JavaScript está desactivado o no está disponible en su navegador.</strong></p><p>Para utilizar la documentación de AWS, debe estar habilitado JavaScript. Para obtener más información, consulte las páginas de ayuda de su navegador.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenciones del documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./CHAP_Using.html">Explicaciones</div><div id="next" class="next-link" accesskey="n" href="./working-with-templates-cfn-designer-walkthrough-updatebasicwebserver.html">Utilice Designer para modificar una plantilla</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - Sí</div><div class="content"><p>Gracias por hacernos saber que estamos haciendo un buen trabajo.</p><p>Si tiene un momento, díganos qué es lo que le ha gustado para que podamos seguir trabajando en esa línea.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/working-with-templates-cfn-designer-walkthrough-createbasicwebserver.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - No</div><div class="content"><p>Gracias por informarnos de que debemos trabajar en esta página. Lamentamos haberle defraudado.</p><p>Si tiene un momento, díganos cómo podemos mejorar la documentación.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/working-with-templates-cfn-designer-walkthrough-createbasicwebserver.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>