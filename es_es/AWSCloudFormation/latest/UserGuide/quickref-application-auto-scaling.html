<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="es-ES"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Configuración de recursos de escalado automático de aplicaciones con AWS CloudFormation - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="quickref-application-auto-scaling" /><meta name="default_state" content="quickref-application-auto-scaling" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" /><meta name="description" content="Utilice estos fragmentos de plantilla de ejemplo para configurar los recursos de escalado automático de aplicaciones con AWS CloudFormation." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Guía del usuario" /><meta name="abstract" content="Cree y administre implementaciones de infraestructura de AWS de forma predecible y repetida mediante AWS CloudFormation con esta Guía del usuario." /><meta name="guide-locale" content="es_es" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Guía del usuario" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Guía del usuario" /><meta id="panorama-serviceConsolePage" value="Configuración de recursos de escalado automático de aplicaciones con AWS CloudFormation" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Configuración de recursos de escalado automático de aplicaciones con AWS CloudFormation - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,aprovisionamiento de recursos,configuración de recursos,administración de la infraestructura,CloudFormer,Pila de CloudFormation,Conjunto de pilas de CloudFormation,Plantilla de CloudFormation,conjunto de cambios" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guía del usuario",
        "item" : "https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Trabajo con plantillas de AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/template-guide.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Fragmentos de plantillas",
        "item" : "https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/CHAP_TemplateQuickRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Fragmentos de código de plantillas de CloudFormation de escalado automático",
        "item" : "https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/quickref-autoscaling.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Configuración de recursos de escalado automático de aplicaciones con AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/quickref-autoscaling.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentación</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Guía del usuario</a></div><div id="page-toc-src"><a href="#w9aac23c21c15c19b9">Creación de una política de escalado para una flota de AppStream</a><a href="#w9aac23c21c15c19c11">Creación de una política de escalado para un clúster de base de datos (DB) de Aurora</a><a href="#w9aac23c21c15c19c13">Creación de una política de escalado para una tabla de DynamoDB</a><a href="#w9aac23c21c15c19c15">Creación de una política de escalado para un servicio de Amazon ECS (métricas: CPU y memoria promedio)</a><a href="#w9aac23c21c15c19c17">Creación de una política de escalado para un servicio de Amazon ECS (métrica: recuento de solicitudes promedio por objetivo)</a><a href="#w9aac23c21c15c19c19">Creación de una acción programada con una expresión cron para una función de Lambda</a><a href="#w9aac23c21c15c19c21">Creación de una acción programada con una expresión at para una flota de spot</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="quickref-application-auto-scaling">Configuración de recursos de escalado automático de aplicaciones con AWS CloudFormation</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Esta sección proporciona ejemplos de plantillas de AWS CloudFormation para las políticas de escalado de Application Auto Scaling y acciones programadas para distintos recursos de AWS.</p><div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>importante</h6></div><div class="awsdocs-note-text"><p>Cuando se incluye un fragmento de escalado automático de aplicaciones en la plantilla, es probable que deba declarar una dependencia del recurso escalable específico que se crea a través de la plantilla mediante el <a href="./aws-attribute-dependson.html">Atributo DependsOn</a>. Esto anula el paralelismo predeterminado y dirige AWS CloudFormation para operar con recursos en un orden especificado. De lo contrario, la configuración de escalado podría aplicarse antes de que el recurso se haya configurado completamente.</p></div></div><div class="highlights" id="inline-topiclist"><h6>Categorías de fragmentos</h6><ul><li><a href="#w9aac23c21c15c19b9">Creación de una política de escalado para una flota de AppStream</a></li><li><a href="#w9aac23c21c15c19c11">Creación de una política de escalado para un clúster de base de datos (DB) de Aurora</a></li><li><a href="#w9aac23c21c15c19c13">Creación de una política de escalado para una tabla de DynamoDB</a></li><li><a href="#w9aac23c21c15c19c15">Creación de una política de escalado para un servicio de Amazon ECS (métricas: CPU y memoria promedio)</a></li><li><a href="#w9aac23c21c15c19c17">Creación de una política de escalado para un servicio de Amazon ECS (métrica: recuento de solicitudes promedio por objetivo)</a></li><li><a href="#w9aac23c21c15c19c19">Creación de una acción programada con una expresión cron para una función de Lambda</a></li><li><a href="#w9aac23c21c15c19c21">Creación de una acción programada con una expresión at para una flota de spot</a></li></ul></div>
      <h2 id="w9aac23c21c15c19b9">Creación de una política de escalado para una flota de AppStream</h2>
      <p>Este fragmento muestra cómo crear una política y aplicarla a recurso de <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-appstream-fleet.html"><code class="code">AWS::AppStream::Fleet</code></a> por medio del recurso <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-applicationautoscaling-scalingpolicy.html"><code class="code">AWS::ApplicationAutoScaling::ScalingPolicy</code></a>. El recurso <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-applicationautoscaling-scalabletarget.html"><code class="code">AWS::ApplicationAutoScaling::ScalableTarget</code></a> declara un destino escalable al que se aplica esta política. Application Auto Scaling puede escalar el número de instancias de flota en un mínimo de 1 instancia y un máximo de 20. La política mantiene el uso promedio de la capacidad de la flota en un 75 %, con periodos de recuperación de escalamiento y reducción horizontal de 300 segundos (5 minutos).</p>
      <p>Utiliza las funciones intrínsecas <a href="./intrinsic-function-reference-join.html">Fn::Join</a> y <a href="./intrinsic-function-reference-ref.html">Ref</a> para construir la propiedad <code class="code">ResourceId</code> con el nombre lógico del recurso de <code class="code">AWS::AppStream::Fleet</code> especificado en la misma plantilla.</p>
      <div id="JSON" name="JSON" class="section langfilter">
        <h3 id="quickref-autoscaling-example-6.json">JSON</h3>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Resources" : <span>{</span>
    "ScalableTarget" : <span>{</span>
      "Type" : "AWS::ApplicationAutoScaling::ScalableTarget",
      "Properties" : <span>{</span>
        "MaxCapacity" : 20,
        "MinCapacity" : 1,
        "RoleARN" : <span>{</span> "Fn::Sub" : "arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/appstream.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_AppStreamFleet" },
        "ServiceNamespace" : "appstream",
        "ScalableDimension" : "appstream:fleet:DesiredCapacity",
        "ResourceId" : <span>{</span>
          "Fn::Join" : [
            "/",
            [
              "fleet",
              <span>{</span>
                "Ref" : "<code class="replaceable">logicalName</code>"
              }
            ]
          ]
        }
      }
    },
    "ScalingPolicyAppStreamFleet" : <span>{</span>
      "Type" : "AWS::ApplicationAutoScaling::ScalingPolicy",
      "Properties" : <span>{</span>
        "PolicyName" : <span>{</span> "Fn::Sub" : "$<span>{</span>AWS::StackName}-target-tracking-cpu75" },
        "PolicyType" : "TargetTrackingScaling",
        "ServiceNamespace" : "appstream",
        "ScalableDimension" : "appstream:fleet:DesiredCapacity",
        "ResourceId" : <span>{</span>
          "Fn::Join" : [
            "/",
            [
              "fleet",
              <span>{</span>
                "Ref" : "<code class="replaceable">logicalName</code>"
              }
            ]
          ]
        },
        "TargetTrackingScalingPolicyConfiguration" : <span>{</span>
          "TargetValue" : 75,
          "PredefinedMetricSpecification" : <span>{</span>
            "PredefinedMetricType" : "AppStreamAverageCapacityUtilization"
          },
          "ScaleInCooldown" : 300,
          "ScaleOutCooldown" : 300
        }
      }
    } 
  }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h3 id="quickref-autoscaling-example-6.yaml">YAML</h3>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">---
Resources:
  ScalableTarget:
    Type: AWS::ApplicationAutoScaling::ScalableTarget
    Properties:
      MaxCapacity: 20
      MinCapacity: 1
      RoleARN: 
        Fn::Sub: 'arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/appstream.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_AppStreamFleet'
      ServiceNamespace: appstream
      ScalableDimension: appstream:fleet:DesiredCapacity
      ResourceId: !Join
        - /
        - - fleet
          - !Ref <code class="replaceable">logicalName</code>
  ScalingPolicyAppStreamFleet:
    Type: AWS::ApplicationAutoScaling::ScalingPolicy
    Properties:
      PolicyName: !Sub $<span>{</span>AWS::StackName}-target-tracking-cpu75
      PolicyType: TargetTrackingScaling
      ServiceNamespace: appstream
      ScalableDimension: appstream:fleet:DesiredCapacity
      ResourceId: !Join
        - /
        - - fleet
          - !Ref <code class="replaceable">logicalName</code>
      TargetTrackingScalingPolicyConfiguration:
        TargetValue: 75
        PredefinedMetricSpecification:
          PredefinedMetricType: AppStreamAverageCapacityUtilization
        ScaleInCooldown: 300
        ScaleOutCooldown: 300</code></pre>
      </div>
     
      <h2 id="w9aac23c21c15c19c11">Creación de una política de escalado para un clúster de base de datos (DB) de Aurora</h2>
      <p>En este fragmento, registra un recurso de <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-rds-dbcluster.html"><code class="code">AWS::RDS::DBCluster</code></a>. El recurso de <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-applicationautoscaling-scalabletarget.html"><code class="code">AWS::ApplicationAutoScaling::ScalableTarget</code></a> indica que el clúster de base de datos debe escalarse en forma dinámica para tener de una a ocho réplicas de Aurora. También aplica una política de escalado de seguimiento de destino al clúster mediante el recurso de <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-applicationautoscaling-scalingpolicy.html"><code class="code">AWS::ApplicationAutoScaling::ScalingPolicy</code></a>.</p>
      <p>En esta configuración, la métrica predefinida <code class="code">RDSReaderAverageCPUUtilization</code> se usa para ajustar un clúster de base de datos de Aurora en función del uso promedio de la CPU del 40 por ciento en todas las réplicas de Aurora de ese clúster de base de datos de Aurora. La configuración proporciona un periodo de recuperación de escalado descendente de 10 minutos y un periodo de recuperación de escalado ascendente de 5 minutos.</p>
      <p>En este ejemplo, se usa la función intrínseca <a href="./intrinsic-function-reference-sub.html">Fn::Sub</a> para construir la propiedad <code class="code">ResourceId</code> con el nombre lógico del recurso de <code class="code">AWS::RDS::DBCluster</code> especificado en la misma plantilla.</p>
      <div id="JSON" name="JSON" class="section langfilter">
        <h3 id="quickref-autoscaling-example-7.json">JSON</h3>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Resources" : <span>{</span>
    "ScalableTarget" : <span>{</span>
      "Type" : "AWS::ApplicationAutoScaling::ScalableTarget",
      "Properties" : <span>{</span>
        "MaxCapacity" : 8,
        "MinCapacity" : 1,
        "RoleARN" : <span>{</span> "Fn::Sub" : "arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/rds.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_RDSCluster" },
        "ServiceNamespace" : "rds",
        "ScalableDimension" : "rds:cluster:ReadReplicaCount",
        "ResourceId" : <span>{</span> "Fn::Sub" : "cluster:$<span>{</span><code class="replaceable">logicalName</code>}" }
      }
    },
    "ScalingPolicyDBCluster" : <span>{</span>
      "Type" : "AWS::ApplicationAutoScaling::ScalingPolicy",
      "Properties" : <span>{</span>
        "PolicyName" : <span>{</span> "Fn::Sub" : "$<span>{</span>AWS::StackName}-target-tracking-cpu40" },
        "PolicyType" : "TargetTrackingScaling",
        "ServiceNamespace" : "rds",
        "ScalableDimension" : "rds:cluster:ReadReplicaCount",
        "ResourceId" : <span>{</span> "Fn::Sub" : "cluster:$<span>{</span><code class="replaceable">logicalName</code>}" }, 
        "TargetTrackingScalingPolicyConfiguration" : <span>{</span>
          "TargetValue" : 40,
          "PredefinedMetricSpecification" : <span>{</span>
            "PredefinedMetricType" : "RDSReaderAverageCPUUtilization"
          },
          "ScaleInCooldown" : 600,
          "ScaleOutCooldown" : 300
        }
      }
    }
  }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h3 id="quickref-autoscaling-example-7.yaml">YAML</h3>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">---
Resources:
  ScalableTarget:
    Type: AWS::ApplicationAutoScaling::ScalableTarget
    Properties:
      MaxCapacity: 8
      MinCapacity: 1
      RoleARN: 
        Fn::Sub: 'arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/rds.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_RDSCluster'
      ServiceNamespace: rds
      ScalableDimension: rds:cluster:ReadReplicaCount
      ResourceId: !Sub cluster:$<span>{</span><code class="replaceable">logicalName</code>}
  ScalingPolicyDBCluster:
    Type: AWS::ApplicationAutoScaling::ScalingPolicy
    Properties:
      PolicyName: !Sub $<span>{</span>AWS::StackName}-target-tracking-cpu40
      PolicyType: TargetTrackingScaling
      ServiceNamespace: rds
      ScalableDimension: rds:cluster:ReadReplicaCount
      ResourceId: !Sub cluster:$<span>{</span><code class="replaceable">logicalName</code>}
      TargetTrackingScalingPolicyConfiguration:
        TargetValue: 40
        PredefinedMetricSpecification:
          PredefinedMetricType: RDSReaderAverageCPUUtilization
        ScaleInCooldown: 600
        ScaleOutCooldown: 300</code></pre>
      </div>
     
      <h2 id="w9aac23c21c15c19c13">Creación de una política de escalado para una tabla de DynamoDB</h2>

      <p>Este fragmento de muestra cómo crear un tipo de política de <code class="code">TargetTrackingScaling</code> y aplicarla a un recurso de <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-dynamodb-table.html"><code class="code">AWS::DynamoDB::Table</code></a> por medio del recurso de <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-applicationautoscaling-scalingpolicy.html"><code class="code">AWS::ApplicationAutoScaling::ScalingPolicy</code></a>. El recurso de <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-applicationautoscaling-scalabletarget.html"><code class="code">AWS::ApplicationAutoScaling::ScalableTarget</code></a> declara un destino escalable al que se aplica esta política, con un mínimo de cinco unidades de capacidad de escritura y un máximo de 15. La política de escalado escala el rendimiento de la capacidad de escritura de la tabla para mantener la utilización de destino en un 50 por ciento en función de la métrica predefinida <code class="code">DynamoDBWriteCapacityUtilization</code>.</p>
      <p>Utiliza las funciones intrínsecas <a href="./intrinsic-function-reference-join.html">Fn::Join</a> y <a href="./intrinsic-function-reference-ref.html">Ref</a> para construir la propiedad  <code class="code">ResourceId</code> con el nombre lógico del recurso de <code class="code">AWS::DynamoDB::Table</code> especificado en la misma plantilla.</p>
      <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Para obtener más información acerca de cómo crear una plantilla de AWS CloudFormation para DynamoDB, consulte la publicación del blog <a href="https://aws.amazon.com/blogs/database/how-to-use-aws-cloudformation-to-configure-auto-scaling-for-amazon-dynamodb-tables-and-indexes/" rel="noopener noreferrer" target="_blank"><span>Cómo utilizar AWS CloudFormation para configurar el escalado automático para las tablas e índices de Amazon DynamoDB</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> en el blog de la base de datos de AWS.</p></div></div>
      <div id="JSON" name="JSON" class="section langfilter">
        <h3 id="quickref-autoscaling-example-8.json">JSON</h3>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Resources" : <span>{</span>
    "WriteCapacityScalableTarget" : <span>{</span>
      "Type" : "AWS::ApplicationAutoScaling::ScalableTarget",
      "Properties" : <span>{</span>
        "MaxCapacity" : 15,
        "MinCapacity" : 5,
        "RoleARN" : <span>{</span> "Fn::Sub" : "arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/dynamodb.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_DynamoDBTable" },
        "ServiceNamespace" : "dynamodb",
        "ScalableDimension" : "dynamodb:table:WriteCapacityUnits",
        "ResourceId" : <span>{</span>
          "Fn::Join" : [
            "/",
            [
              "table",
              <span>{</span>
                "Ref" : "<code class="replaceable">logicalName</code>"
              }
            ]
          ]
        }
      }
    },
    "WriteScalingPolicy" : <span>{</span>
      "Type" : "AWS::ApplicationAutoScaling::ScalingPolicy",
      "Properties" : <span>{</span>
        "PolicyName" : "WriteScalingPolicy",
        "PolicyType" : "TargetTrackingScaling",
        "ScalingTargetId" : <span>{</span> "Ref" : "WriteCapacityScalableTarget" },
        "TargetTrackingScalingPolicyConfiguration" : <span>{</span>
          "TargetValue" : 50.0,
          "ScaleInCooldown" : 60,
          "ScaleOutCooldown" : 60,
          "PredefinedMetricSpecification" : <span>{</span>
            "PredefinedMetricType" : "DynamoDBWriteCapacityUtilization"
          }
        }
      }
    }
  }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h3 id="quickref-autoscaling-example-8.yaml">YAML</h3>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">---
Resources:
  WriteCapacityScalableTarget:
    Type: AWS::ApplicationAutoScaling::ScalableTarget
    Properties:
      MaxCapacity: 15
      MinCapacity: 5
      RoleARN: 
        Fn::Sub: 'arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/dynamodb.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_DynamoDBTable'
      ServiceNamespace: dynamodb
      ScalableDimension: dynamodb:table:WriteCapacityUnits
      ResourceId: !Join
        - /
        - - table
          - !Ref <code class="replaceable">logicalName</code>
  WriteScalingPolicy:
    Type: AWS::ApplicationAutoScaling::ScalingPolicy
    Properties:
      PolicyName: WriteScalingPolicy
      PolicyType: TargetTrackingScaling
      ScalingTargetId: !Ref WriteCapacityScalableTarget
      TargetTrackingScalingPolicyConfiguration:
        TargetValue: 50.0
        ScaleInCooldown: 60
        ScaleOutCooldown: 60
        PredefinedMetricSpecification:
          PredefinedMetricType: DynamoDBWriteCapacityUtilization</code></pre>
      </div>
     
      <h2 id="w9aac23c21c15c19c15">Creación de una política de escalado para un servicio de Amazon ECS (métricas: CPU y memoria promedio)</h2>

      <p>Este fragmento muestra cómo crear una política y aplicarla a un recurso de <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ecs-service.html"><code class="code">AWS::ECS::Service</code></a> por medio del recurso <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-applicationautoscaling-scalingpolicy.html"><code class="code">AWS::ApplicationAutoScaling::ScalingPolicy</code></a>. El recurso de <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-applicationautoscaling-scalabletarget.html"><code class="code">AWS::ApplicationAutoScaling::ScalableTarget</code></a> declara un destino escalable al que se aplica esta política. El escalado automático de aplicaciones puede escalar el número de tareas a un mínimo de 1 tarea y un máximo de 6.</p>
      <p>Crea dos políticas de escalado con el tipo de política <code class="code">TargetTrackingScaling</code>. Las políticas se utilizan para escalar el servicio ECS en función del uso medio de CPU y memoria del servicio. Utiliza las funciones intrínsecas <a href="./intrinsic-function-reference-join.html">Fn::Join</a> y <a href="./intrinsic-function-reference-ref.html">Ref</a> para crear la propiedad <code class="code">ResourceId</code> con los nombres lógicos de los recursos de <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ecs-cluster.html"><code class="code">AWS::ECS::Cluster</code></a> (<code class="code">myContainerCluster</code>) y <code class="code">AWS::ECS::Service</code> (<code class="code">myService</code>) especificados en la misma plantilla.</p>
      <div id="JSON" name="JSON" class="section langfilter">
        <h3 id="quickref-autoscaling-example-9.json">JSON</h3>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Resources" : <span>{</span>
    "ECSScalableTarget" : <span>{</span>
      "Type" : "AWS::ApplicationAutoScaling::ScalableTarget",
      "Properties" : <span>{</span>
        "MaxCapacity" : "6",
        "MinCapacity" : "1",
        "RoleARN" : <span>{</span> "Fn::Sub" : "arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/ecs.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_ECSService" },
        "ServiceNamespace" : "ecs",
        "ScalableDimension" : "ecs:service:DesiredCount",
        "ResourceId" : <span>{</span>
          "Fn::Join" : [
            "/",
            [
              "service",
              <span>{</span>
                "Ref" : "<code class="replaceable">myContainerCluster</code>"
              },
              <span>{</span>
                "Fn::GetAtt" : [
                  "<code class="replaceable">myService</code>",
                  "Name"
                ]
              }
            ]
          ]
        }
      }
    },
    "ServiceScalingPolicyCPU" : <span>{</span>
      "Type" : "AWS::ApplicationAutoScaling::ScalingPolicy",
      "Properties" : <span>{</span>
        "PolicyName" : <span>{</span> "Fn::Sub" : "$<span>{</span>AWS::StackName}-target-tracking-cpu70" },
        "PolicyType" : "TargetTrackingScaling",
        "ScalingTargetId" : <span>{</span> "Ref" : "ECSScalableTarget" },
        "TargetTrackingScalingPolicyConfiguration" : <span>{</span>
          "TargetValue" : 70.0,
          "ScaleInCooldown" : 180,
          "ScaleOutCooldown" : 60,
          "PredefinedMetricSpecification" : <span>{</span>
            "PredefinedMetricType" : "ECSServiceAverageCPUUtilization"
          }
        }
      }
    },
    "ServiceScalingPolicyMem" : <span>{</span>
      "Type" : "AWS::ApplicationAutoScaling::ScalingPolicy",
      "Properties" : <span>{</span>
        "PolicyName" : <span>{</span> "Fn::Sub" : "$<span>{</span>AWS::StackName}-target-tracking-mem90" },
        "PolicyType" : "TargetTrackingScaling",
        "ScalingTargetId" : <span>{</span> "Ref" : "ECSScalableTarget" },
        "TargetTrackingScalingPolicyConfiguration" : <span>{</span>
          "TargetValue" : 90.0,
          "ScaleInCooldown" : 180,
          "ScaleOutCooldown" : 60,
          "PredefinedMetricSpecification" : <span>{</span>
            "PredefinedMetricType" : "ECSServiceAverageMemoryUtilization"
          }
        }
      }
    }
  }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h3 id="quickref-autoscaling-example-9.yaml">YAML</h3>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">---
Resources:
  ECSScalableTarget:
    Type: AWS::ApplicationAutoScaling::ScalableTarget
    Properties:
      MaxCapacity: 6
      MinCapacity: 1  
      RoleARN: 
        Fn::Sub: 'arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/ecs.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_ECSService'
      ServiceNamespace: ecs
      ScalableDimension: 'ecs:service:DesiredCount'
      ResourceId: !Join 
        - /
        - - service
          - !Ref <code class="replaceable">myContainerCluster</code>
          - !GetAtt <code class="replaceable">myService</code>.Name
  ServiceScalingPolicyCPU:
    Type: AWS::ApplicationAutoScaling::ScalingPolicy
    Properties:
      PolicyName: !Sub $<span>{</span>AWS::StackName}-target-tracking-cpu70
      PolicyType: TargetTrackingScaling
      ScalingTargetId: !Ref ECSScalableTarget
      TargetTrackingScalingPolicyConfiguration:
        TargetValue: 70.0
        ScaleInCooldown: 180
        ScaleOutCooldown: 60
        PredefinedMetricSpecification:
          PredefinedMetricType: ECSServiceAverageCPUUtilization
  ServiceScalingPolicyMem:
    Type: AWS::ApplicationAutoScaling::ScalingPolicy
    Properties:
      PolicyName: !Sub $<span>{</span>AWS::StackName}-target-tracking-mem90
      PolicyType: TargetTrackingScaling
      ScalingTargetId: !Ref ECSScalableTarget
      TargetTrackingScalingPolicyConfiguration:
        TargetValue: 90.0
        ScaleInCooldown: 180
        ScaleOutCooldown: 60
        PredefinedMetricSpecification:
          PredefinedMetricType: ECSServiceAverageMemoryUtilization</code></pre>
      </div>
     
      <h2 id="w9aac23c21c15c19c17">Creación de una política de escalado para un servicio de Amazon ECS (métrica: recuento de solicitudes promedio por objetivo)</h2>

      <p>En el ejemplo siguiente se aplica una política de escalado de seguimiento de destino con la métrica predefinida <code class="code">ALBRequestCountPerTarget</code> a un servicio ECS. La política se utiliza para agregar capacidad al servicio de ECS cuando el recuento de solicitudes por destino (por minuto) supera el valor de destino. Dado que el valor de <code class="code">DisableScaleIn</code> se establece en <code class="code">true</code>, la política de seguimiento de destino no eliminará capacidad del destino escalable.</p>
      <p>Utiliza las funciones intrínsecas <a href="./intrinsic-function-reference-join.html">Fn::Join</a> y <a href="./intrinsic-function-reference-getatt.html">Fn::GetAtt</a> para crear la propiedad <code class="code">ResourceLabel</code> con los nombres lógicos de los recursos de <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-elasticloadbalancingv2-loadbalancer.html"><code class="code">AWS::ElasticLoadBalancingV2::LoadBalancer</code></a> (<code class="code">myLoadBalancer</code>) y los recursos de <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-elasticloadbalancingv2-targetgroup.html"><code class="code">AWS::ElasticLoadBalancingV2::TargetGroup</code></a> (<code class="code">myTargetGroup</code>) especificados en la misma plantilla.</p>
      <p>Las propiedades <code class="code">MaxCapacity</code> y <code class="code">MinCapacity</code> del destino escalable y la propiedad <code class="code">TargetValue</code> de la política de escalado hacen referencia a los valores de parámetro que se pasan a la plantilla al crear o actualizar una pila.</p>
      <div id="JSON" name="JSON" class="section langfilter">
        <h3 id="quickref-autoscaling-example-10.json">JSON</h3>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Resources" : <span>{</span>
    "ECSScalableTarget" : <span>{</span>
      "Type" : "AWS::ApplicationAutoScaling::ScalableTarget",
      "Properties" : <span>{</span>
        "MaxCapacity" : <span>{</span> "Ref" : "MaxCount" },
        "MinCapacity" : <span>{</span> "Ref" : "MinCount" },
        "RoleARN" : <span>{</span> "Fn::Sub" : "arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/ecs.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_ECSService" },
        "ServiceNamespace" : "ecs",
        "ScalableDimension" : "ecs:service:DesiredCount",
        "ResourceId" : <span>{</span>
          "Fn::Join" : [
            "/",
            [
              "service",
              <span>{</span>
                "Ref" : "<code class="replaceable">myContainerCluster</code>"
              },
              <span>{</span>
                "Fn::GetAtt" : [
                  "<code class="replaceable">myService</code>",
                  "Name"
                ]
              }
            ]
          ]
        }
      }
    },
    "ServiceScalingPolicyALB" : <span>{</span>
      "Type" : "AWS::ApplicationAutoScaling::ScalingPolicy",
      "Properties" : <span>{</span>
        "PolicyName" : "alb-requests-per-target-per-minute",
        "PolicyType" : "TargetTrackingScaling",
        "ScalingTargetId" : <span>{</span> "Ref" : "ECSScalableTarget" },
        "TargetTrackingScalingPolicyConfiguration" : <span>{</span>
          "TargetValue" : <span>{</span> "Ref" : "ALBPolicyTargetValue" },
          "ScaleInCooldown" : 180,
          "ScaleOutCooldown" : 30,
          "DisableScaleIn" : true,
          "PredefinedMetricSpecification" : <span>{</span>
            "PredefinedMetricType" : "ALBRequestCountPerTarget",
            "ResourceLabel" : <span>{</span>
              "Fn::Join" : [
                "/",
                [
                  <span>{</span>
                    "Fn::GetAtt" : [
                      "<code class="replaceable">myLoadBalancer</code>",
                      "LoadBalancerFullName"
                    ]
                  },
                  <span>{</span>
                    "Fn::GetAtt" : [
                      "<code class="replaceable">myTargetGroup</code>",
                      "TargetGroupFullName"
                    ]
                  }
                ]
              ]
            }
          }
        }
      }
    }
  }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h3 id="quickref-autoscaling-example-10.yaml">YAML</h3>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">---
Resources:
  ECSScalableTarget:
    Type: AWS::ApplicationAutoScaling::ScalableTarget
    Properties:
      MaxCapacity: !Ref MaxCount
      MinCapacity: !Ref MinCount  
      RoleARN: 
        Fn::Sub: 'arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/ecs.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_ECSService'
      ServiceNamespace: ecs
      ScalableDimension: 'ecs:service:DesiredCount'
      ResourceId: !Join 
        - /
        - - service
          - !Ref <code class="replaceable">myContainerCluster</code>
          - !GetAtt <code class="replaceable">myService</code>.Name
  ServiceScalingPolicyALB:
    Type: AWS::ApplicationAutoScaling::ScalingPolicy
    Properties:
      PolicyName: alb-requests-per-target-per-minute
      PolicyType: TargetTrackingScaling
      ScalingTargetId: !Ref ECSScalableTarget
      TargetTrackingScalingPolicyConfiguration:
        TargetValue: !Ref ALBPolicyTargetValue
        ScaleInCooldown: 180
        ScaleOutCooldown: 30
        DisableScaleIn: true
        PredefinedMetricSpecification:
          PredefinedMetricType: ALBRequestCountPerTarget
          ResourceLabel: !Join 
            - '/' 
            - - !GetAtt <code class="replaceable">myLoadBalancer</code>.LoadBalancerFullName
              - !GetAtt <code class="replaceable">myTargetGroup</code>.TargetGroupFullName</code></pre>
      </div>
     
      <h2 id="w9aac23c21c15c19c19">Creación de una acción programada con una expresión cron para una función de Lambda</h2>

      <p>Este fragmento registra la simultaneidad aprovisionada para un alias de función (<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-lambda-alias.html"><code class="code">AWS::Lambda::Alias</code></a>) denominado <code class="code">BLUE</code> mediante el recurso de <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-applicationautoscaling-scalabletarget.html"><code class="code">AWS::ApplicationAutoScaling::ScalableTarget</code></a>. También crea una acción programada con una programación periódica utilizando una expresión cron. La zona horaria del programa recurrente es UTC.</p>
      <p>Utiliza las funciones intrínsecas <a href="./intrinsic-function-reference-join.html">Fn::Join</a> y <a href="./intrinsic-function-reference-ref.html">Ref</a> de la propiedad <code class="code">RoleARN</code> para especificar el ARN del rol vinculado al servicio. Utiliza la función intrínseca <a href="./intrinsic-function-reference-sub.html">Fn::Sub</a> para construir la propiedad <code class="code">ResourceId</code> con el nombre lógico del recurso de <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-lambda-function.html"><code class="code">AWS::Lambda::Function</code></a> o <a href="https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/sam-resource-function.html"><code class="code">AWS::Serverless::Function</code></a> que se especifica en la misma plantilla.</p>
      <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Tampoco puede asignar simultaneidad aprovisionada en un alias que apunte a la versión no publicada (<code class="code">$LATEST</code>).</p><p>Para obtener más información acerca de cómo crear una plantilla de AWS CloudFormation para recursos de Lambda, consulte la publicación del blog <a href="https://aws.amazon.com/blogs/compute/scheduling-aws-lambda-provisioned-concurrency-for-recurring-peak-usage/" rel="noopener noreferrer" target="_blank"><span>Programación de la simultaneidad aprovisionada de AWS Lambda durante el uso en horarios de actividad alta simultánea</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> en el blog de computación de AWS.</p></div></div>


      <div id="JSON" name="JSON" class="section langfilter">
        <h3 id="quickref-autoscaling-example-11.json">JSON</h3>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "ScalableTarget" : <span>{</span>
    "Type" : "AWS::ApplicationAutoScaling::ScalableTarget",
    "Properties" : <span>{</span>
      "MaxCapacity" : 250,
      "MinCapacity" : 0,
      "RoleARN" : <span>{</span>
        "Fn::Join" : [
          ":",
          [
            "arn:aws:iam:",
            <span>{</span>
              "Ref" : "AWS::AccountId"
            },
            "role/aws-service-role/lambda.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_LambdaConcurrency"
          ]
        ]
      },
      "ServiceNamespace" : "lambda",
      "ScalableDimension" : "lambda:function:ProvisionedConcurrency",
      "ResourceId" : <span>{</span> "Fn::Sub" : "function:$<span>{</span><code class="replaceable">logicalName</code>}:BLUE" },
      "ScheduledActions" : [
        <span>{</span>
          "ScalableTargetAction" : <span>{</span>
            "MinCapacity" : "250"
          },
          "ScheduledActionName" : "my-scale-out-scheduled-action",
          "Schedule" : "cron(0 18 * * ? *)",
          "EndTime" : "2022-12-31T12:00:00.000Z"
        }
      ]
    }
  }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h3 id="quickref-autoscaling-example-11.yaml">YAML</h3>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">ScalableTarget:
  Type: AWS::ApplicationAutoScaling::ScalableTarget
  Properties:
    MaxCapacity: 250
    MinCapacity: 0
    RoleARN: !Join 
      - ':'
      - - 'arn:aws:iam:'
        - !Ref 'AWS::AccountId'
        - role/aws-service-role/lambda.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_LambdaConcurrency
    ServiceNamespace: lambda
    ScalableDimension: lambda:function:ProvisionedConcurrency
    ResourceId: !Sub function:$<span>{</span><code class="replaceable">logicalName</code>}:BLUE
    ScheduledActions:
      - ScalableTargetAction:
          MinCapacity: 250
        ScheduledActionName: my-scale-out-scheduled-action
        Schedule: 'cron(0 18 * * ? *)'
        EndTime: '2022-12-31T12:00:00.000Z'</code></pre>
      </div>
     
      <h2 id="w9aac23c21c15c19c21">Creación de una acción programada con una expresión <code class="code">at</code> para una flota de spot</h2>

      <p>Este fragmento muestra cómo crear dos acciones programadas que se produzcan solo una vez para un recurso de <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-spotfleet.html"><code class="code">AWS::EC2::SpotFleet</code></a> que utilice el recurso de <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-applicationautoscaling-scalabletarget.html"><code class="code">AWS::ApplicationAutoScaling::ScalableTarget</code></a>. La zona horaria de cada acción programada puntual es UTC.</p>
      <p>Utiliza las funciones intrínsecas <a href="./intrinsic-function-reference-join.html">Fn::Join</a> y <a href="./intrinsic-function-reference-ref.html">Ref</a> para construir la propiedad <code class="code">ResourceId</code> con el nombre lógico del recurso de <code class="code">AWS::EC2::SpotFleet</code> especificado en la misma plantilla.</p>
      <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>La solicitud de flota de spot debe tener un tipo de solicitud de <code class="code">maintain</code>. El escalado automático no se admite para solicitudes o bloques de spot de una única vez.</p></div></div>
      <div id="JSON" name="JSON" class="section langfilter">
        <h3 id="quickref-autoscaling-example-12.json">JSON</h3>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Resources" : <span>{</span>
    "SpotFleetScalableTarget" : <span>{</span>
      "Type" : "AWS::ApplicationAutoScaling::ScalableTarget",
      "Properties" : <span>{</span>
        "MaxCapacity" : 0,
        "MinCapacity" : 0,
        "RoleARN" : <span>{</span> "Fn::Sub" : "arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/ec2.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_EC2SpotFleetRequest" },
        "ServiceNamespace" : "ec2",
        "ScalableDimension" : "ec2:spot-fleet-request:TargetCapacity",
        "ResourceId" : <span>{</span>
          "Fn::Join" : [
            "/",
            [
              "spot-fleet-request",
              <span>{</span>
                "Ref" : "<code class="replaceable">logicalName</code>"
              }
            ]
          ]
        },
        "ScheduledActions" : [
          <span>{</span>
            "ScalableTargetAction" : <span>{</span>
              "MaxCapacity" : "10",
              "MinCapacity" : "10"
            },
            "ScheduledActionName" : "my-scale-out-scheduled-action",
            "Schedule" : "at(2022-05-20T13:00:00)"
          },
          <span>{</span>
            "ScalableTargetAction" : <span>{</span>
              "MaxCapacity" : "0",
              "MinCapacity" : "0"
            },
            "ScheduledActionName" : "my-scale-in-scheduled-action",
            "Schedule" : "at(2022-05-20T21:00:00)"
          }
        ]
      }
    }
  }
}</code></pre>
      </div>
      <div id="YAML" name="YAML" class="section langfilter">
        <h3 id="quickref-autoscaling-example-12.yaml">YAML</h3>

        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">---
Resources:
  SpotFleetScalableTarget:
    Type: AWS::ApplicationAutoScaling::ScalableTarget
    Properties:
      MaxCapacity: 0
      MinCapacity: 0
      RoleARN: 
        Fn::Sub: 'arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/ec2.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_EC2SpotFleetRequest'
      ServiceNamespace: ec2
      ScalableDimension: 'ec2:spot-fleet-request:TargetCapacity'
      ResourceId: !Join 
        - /
        - - spot-fleet-request
          - !Ref <code class="replaceable">logicalName</code>
      ScheduledActions:
        - ScalableTargetAction:
            MaxCapacity: 10
            MinCapacity: 10
          ScheduledActionName: my-scale-out-scheduled-action
          Schedule: 'at(2022-05-20T13:00:00)'
        - ScalableTargetAction:
            MaxCapacity: 0
            MinCapacity: 0
          ScheduledActionName: my-scale-in-scheduled-action
          Schedule: 'at(2022-05-20T21:00:00)'</code></pre>
      </div>
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Aviso" /> <strong>JavaScript está desactivado o no está disponible en su navegador.</strong></p><p>Para utilizar la documentación de AWS, debe estar habilitado JavaScript. Para obtener más información, consulte las páginas de ayuda de su navegador.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenciones del documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./quickref-ec2-auto-scaling.html">Configuración de los recursos de Amazon EC2 Auto Scaling</div><div id="next" class="next-link" accesskey="n" href="./quickref-billingconductor.html">Consola de facturación de AWS</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - Sí</div><div class="content"><p>Gracias por hacernos saber que estamos haciendo un buen trabajo.</p><p>Si tiene un momento, díganos qué es lo que le ha gustado para que podamos seguir trabajando en esa línea.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - No</div><div class="content"><p>Gracias por informarnos de que debemos trabajar en esta página. Lamentamos haberle defraudado.</p><p>Si tiene un momento, díganos cómo podemos mejorar la documentación.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/quickref-application-auto-scaling.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>