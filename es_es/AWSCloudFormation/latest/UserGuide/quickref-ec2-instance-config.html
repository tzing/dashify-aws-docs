<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="es-ES"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Configuración de instancias de Amazon EC2 con AWS CloudFormation - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="quickref-ec2-instance-config" /><meta name="default_state" content="quickref-ec2-instance-config" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" /><meta name="description" content="Utilice estos fragmentos de plantilla de ejemplo para configurar los recursos de Amazon EC2 con AWS CloudFormation." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Guía del usuario" /><meta name="abstract" content="Cree y administre implementaciones de infraestructura de AWS de forma predecible y repetida mediante AWS CloudFormation con esta Guía del usuario." /><meta name="guide-locale" content="es_es" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Guía del usuario" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Guía del usuario" /><meta id="panorama-serviceConsolePage" value="Configuración de instancias de Amazon EC2 con AWS CloudFormation" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Configuración de instancias de Amazon EC2 con AWS CloudFormation - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,aprovisionamiento de recursos,configuración de recursos,administración de la infraestructura,CloudFormer,Pila de CloudFormation,Conjunto de pilas de CloudFormation,Plantilla de CloudFormation,conjunto de cambios" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guía del usuario",
        "item" : "https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Trabajo con plantillas de AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/template-guide.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Fragmentos de plantillas",
        "item" : "https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/CHAP_TemplateQuickRef.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Fragmentos de plantillas de Amazon EC2 CloudFormation",
        "item" : "https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/quickref-ec2.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Configuración de instancias de Amazon EC2 con AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/quickref-ec2.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentación</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Guía del usuario</a></div><div id="page-toc-src"><a href="#quickref-ec2-instance-config-general">Configuración general de Amazon EC2</a><a href="#scenario-ec2-bdm">Especificación de las asignaciones de dispositivos de bloques para la instancia.</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="quickref-ec2-instance-config">Configuración de instancias de Amazon EC2 con AWS CloudFormation</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Los siguientes fragmentos muestran cómo configurar las instancias de Amazon EC2 mediante AWS CloudFormation.</p><div class="highlights" id="inline-topiclist"><h6>Categorías de fragmentos</h6><ul><li><a href="#quickref-ec2-instance-config-general">Configuración general de Amazon EC2</a></li><li><a href="#scenario-ec2-bdm">Especificación de las asignaciones de dispositivos de bloques para la instancia.</a></li></ul></div>
            <h2 id="quickref-ec2-instance-config-general">Configuración general de Amazon EC2</h2>
            <p>Los siguientes fragmentos muestran las configuraciones generales de las instancias de Amazon EC2 mediante AWS CloudFormation.</p>
            <div class="highlights" id="inline-topiclist"><h6>Fragmentos de código de ejemplo</h6><ul><li><a href="#scenario-ec2-instance">Creación de una instancia de Amazon EC2 en una zona de disponibilidad específica</a></li><li><a href="#scenario-ec2-instance-with-vol-and-tags">Configuración de una instancia de Amazon EC2 con un volumen de EBS y datos de usuario</a></li><li><a href="#scenario-ec2-with-sdb-domain">Definición del nombre de la tabla de DynamoDB en los datos de usuario para el lanzamiento de la instancia de Amazon EC2</a></li><li><a href="#scenario-ec2-volume">Creación de un volumen de Amazon EBS con DeletionPolicy</a></li></ul></div>
             
                <h3 id="scenario-ec2-instance">Creación de una instancia de Amazon EC2 en una zona de disponibilidad específica</h3>
                <p>En el siguiente fragmento se crea una instancia de Amazon EC2 en la zona de disponibilidad específica con un recurso <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-instance.html">AWS::EC2::Instance</a>. El código de la zona de disponibilidad es el código de la región seguido de un identificador de letra. Puede lanzar una instancia en una sola zona de disponibilidad. </p>
                <div id="JSON" name="JSON" class="section langfilter">
                    <h4 id="quickref-ec2-example-6.json">JSON</h4>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Ec2Instance": <span>{</span>
    "Type": "AWS::EC2::Instance",
    "Properties": <span>{</span>
        "AvailabilityZone": "<code class="replaceable">aa-example-1a</code>",
        "ImageId": "<code class="replaceable">ami-1234567890abcdef0</code>"
    }
}</code></pre>
                </div>
                <div id="YAML" name="YAML" class="section langfilter">
                    <h4 id="quickref-ec2-example-6.yaml">YAML</h4>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Ec2Instance:
  Type: AWS::EC2::Instance
  Properties:
    AvailabilityZone: <code class="replaceable">aa-example-1a</code>
    ImageId: <code class="replaceable">ami-1234567890abcdef0</code></code></pre>
                </div>
             
             
                <h3 id="scenario-ec2-instance-with-vol-and-tags">Configuración de una instancia de Amazon EC2 con un volumen de EBS y datos de usuario</h3>
                <p>El siguiente fragmento crea una instancia de Amazon EC2 con una etiqueta, un volumen de EBS y datos de usuario. Utiliza un recurso <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-instance.html">AWS::EC2::Instance</a>. En la misma plantilla, debe definir un recurso <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-security-group.html">AWS::EC2::SecurityGroup</a>, un recurso <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-sns-topic.html">AWS::SNS::Topic</a> y un recurso <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-volume.html">AWS::EC2::Volume</a>. Se debe definir <code class="code">KeyName</code> en la sección <code class="code">Parameters</code> de la plantilla.</p>
                <p>Las etiquetas permiten clasificar los recursos de AWS de diversas maneras, por ejemplo, según su finalidad, propietario o entorno. Los datos de usuario permiten aprovisionar scripts o datos personalizados a una instancia durante el lanzamiento. Estos datos facilitan la automatización de tareas, la configuración del software, la instalación de paquetes y otras acciones en una instancia durante la inicialización. </p>
                <p>Para obtener más información acerca de cómo etiquetar los recursos, consulte <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/Using_Tags.html">Etiquetado de los recursos de Amazon EC2</a>. </p>
                <p>Para más información, consulte <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-metadata.html">Metadatos de instancia y datos de usuario</a>.</p>
                <div id="JSON" name="JSON" class="section langfilter">
                    <h4 id="quickref-ec2-example-7.json">JSON</h4>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Ec2Instance": <span>{</span>
  "Type": "AWS::EC2::Instance",
  "Properties": <span>{</span>
    "KeyName": <span>{</span> "Ref": "KeyName" },
    "SecurityGroups": [ <span>{</span> "Ref": "Ec2SecurityGroup" } ],
    "UserData": <span>{</span>
      "Fn::Base64": <span>{</span>
        "Fn::Join": [ ":", [
            "PORT=80",
            "TOPIC=",
            <span>{</span> "Ref": "MySNSTopic" }
          ]
        ]
      }
    },
    "InstanceType": "<code class="replaceable">aa.size</code>",
    "AvailabilityZone": "<code class="replaceable">aa-example-1a</code>",
    "ImageId": "<code class="replaceable">ami-1234567890abcdef0</code>",
    "Volumes": [
      <span>{</span>
        "VolumeId": <span>{</span> "Ref": "MyVolumeResource" },
        "Device": "/dev/sdk"
      }
    ],
    "Tags": [ <span>{</span> "Key": "Name", "Value": "MyTag" } ]
  }
}</code></pre>
                </div>
                <div id="YAML" name="YAML" class="section langfilter">
                    <h4 id="quickref-ec2-example-7.yaml">YAML</h4>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Ec2Instance:
  Type: AWS::EC2::Instance
  Properties:
    KeyName: !Ref KeyName
    SecurityGroups:
      - !Ref Ec2SecurityGroup
    UserData:
      Fn::Base64:
        Fn::Join:
          - ":"
          - - "PORT=80"
            - "TOPIC="
            - !Ref MySNSTopic
    InstanceType: <code class="replaceable">aa.size</code>
    AvailabilityZone: <code class="replaceable">aa-example-1a</code>
    ImageId: <code class="replaceable">ami-1234567890abcdef0</code>
    Volumes:
      - VolumeId: !Ref MyVolumeResource
        Device: "/dev/sdk"
    Tags:
      - Key: Name
        Value: MyTag</code></pre>
                </div>
             
             
                <h3 id="scenario-ec2-with-sdb-domain">Definición del nombre de la tabla de DynamoDB en los datos de usuario para el lanzamiento de la instancia de Amazon EC2</h3>
                <p>El siguiente fragmento crea una instancia de Amazon EC2 y define un nombre de tabla de DynamoDB en los datos de usuario para pasarlo a la instancia en el momento del lanzamiento. Utiliza un recurso <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-instance.html">AWS::EC2::Instance</a>. Puede definir parámetros o valores dinámicos en los datos del usuario para transferirlos a una instancia de EC2 en el momento del lanzamiento. </p>
                <p>Para más información, consulte <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-metadata.html">Metadatos de instancia y datos de usuario</a>. </p>
                <div id="JSON" name="JSON" class="section langfilter">
                    <h4 id="quickref-ec2-example-8.json">JSON</h4>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Ec2Instance": <span>{</span>
    "Type": "AWS::EC2::Instance",
    "Properties": <span>{</span>
        "UserData": <span>{</span>
            "Fn::Base64": <span>{</span>
                "Fn::Join": [
                    "",
                    [
                        "TableName=",
                        <span>{</span>
                            "Ref": "DynamoDBTableName"
                        }
                    ]
                ]
            }
        },
        "AvailabilityZone": "<code class="replaceable">aa-example-1a</code>",
        "ImageId": "<code class="replaceable">ami-1234567890abcdef0</code>"
    }
}</code></pre>
                </div>
                <div id="YAML" name="YAML" class="section langfilter">
                    <h4 id="quickref-ec2-example-8.yaml">YAML</h4>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Ec2Instance:
  Type: AWS::EC2::Instance
  Properties:
    UserData:
      Fn::Base64:
        Fn::Join:
          - ''
          - - 'TableName='
            - Ref: DynamoDBTableName
    AvailabilityZone: <code class="replaceable">aa-example-1a</code>
    ImageId: <code class="replaceable">ami-1234567890abcdef0</code></code></pre>
                </div>
             
             
                <h3 id="scenario-ec2-volume">Creación de un volumen de Amazon EBS con <code class="code">DeletionPolicy</code></h3>
                <p>Los siguientes fragmentos crean un volumen de Amazon EBS mediante un recurso <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-volume.html">AWS::EC2::Volume</a> de Amazon EC2. Puede usar las propiedades <code class="code">Size</code> o <code class="code">SnapshotID</code> para definir el volumen, pero no ambas. Un atributo <code class="code">DeletionPolicy</code> está configurado para crear una instantánea del volumen cuando se elimina la pila. </p>
                <p>Para obtener más información acerca del atributo <code class="code">DeletionPolicy</code>, consulte <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-deletionpolicy.html">Atributo <code class="code">DeletionPolicy</code></a>.</p>
                <p>Para más información sobre la creación de una instantánea en EBS, consulte <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-creating-volume.html">Creación de un volumen de Amazon EBS</a>.</p>
                <div id="JSON" name="JSON" class="section langfilter">
                    <h4 id="quickref-ec2-example-13.json">JSON</h4>
                    <p>Este fragmento de código crea un volumen de Amazon EBS con un <b>tamaño</b> especificado. El tamaño está establecido en 10, pero puede ajustarlo según sea necesario. El recurso <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-volume.html">AWS::EC2::Volume</a> le permite especificar el tamaño o el ID de una instantánea, pero no ambos.</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"MyEBSVolume": <span>{</span>
    "Type": "AWS::EC2::Volume",
    "Properties": <span>{</span>
        "Size": "<code class="userinput">10</code>",
        "AvailabilityZone": <span>{</span>
            "Ref": "AvailabilityZone"
        }
    },
    "DeletionPolicy": "Snapshot"
}</code></pre>
                </div>
                <p>Este fragmento de código crea un volumen de Amazon EBS con un <b>ID de instantánea</b> proporcionado. El recurso <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-volume.html">AWS::EC2::Volume</a> le permite especificar el tamaño o el ID de una instantánea, pero no ambos.</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"MyEBSVolume": <span>{</span>
    "Type": "AWS::EC2::Volume",
    "Properties": <span>{</span>
        "SnapshotId" : "<code class="userinput">snap-1234567890abcdef0</code>",
        "AvailabilityZone": <span>{</span>
            "Ref": "AvailabilityZone"
        }
    },
    "DeletionPolicy": "Snapshot"
}</code></pre>
                <div id="YAML" name="YAML" class="section langfilter">
                    <h4 id="quickref-ec2-example-13.yaml">YAML</h4>
                    <p>Este fragmento de código crea un volumen de Amazon EBS con un <b>tamaño</b> especificado. El tamaño está establecido en 10, pero puede ajustarlo según sea necesario. El recurso <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-volume.html">AWS::EC2::Volume</a> le permite especificar el tamaño o el ID de una instantánea, pero no ambos.</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">MyEBSVolume:
  Type: AWS::EC2::Volume
  Properties:
    Size: <code class="userinput">10</code>
    AvailabilityZone:
      Ref: AvailabilityZone
  DeletionPolicy: Snapshot</code></pre>
                    <p>Este fragmento de código crea un volumen de Amazon EBS con un <b>ID de instantánea</b> proporcionado. El recurso <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-volume.html">AWS::EC2::Volume</a> le permite especificar el tamaño o el ID de una instantánea, pero no ambos.</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">MyEBSVolume:
  Type: AWS::EC2::Volume
  Properties:
    SnapshotId: <code class="userinput">snap-1234567890abcdef0</code>
    AvailabilityZone:
      Ref: AvailabilityZone
  DeletionPolicy: Snapshot</code></pre>
                </div>
             
         
            <h2 id="scenario-ec2-bdm">Especificación de las asignaciones de dispositivos de bloques para la instancia.</h2>
            <p>Una asignación de dispositivos de bloques define los dispositivos de bloques, que incluye volúmenes de almacén de instancias y volúmenes de EBS para asociar a la instancia. Puede especificar una asignación de dispositivos de bloques al crear una AMI para que todas las instancias que se lancen desde la AMI utilicen dicha asignación. También puede especificar una asignación de dispositivos de bloques cuando se lanza una instancia, de forma que esta asignación anula la especificada en la AMI desde la que se lanzó la instancia.</p>
            <p>Puede usar los siguientes fragmentos de plantilla para especificar las asignaciones de dispositivos de bloques para sus volúmenes de EBS o de almacén de instancias mediante la propiedad <code class="code">BlockDeviceMappings</code> de un recurso de <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-instance.html">AWS::EC2::Instance</a>. </p>
            <p>Para obtener más información acerca de la asignación de dispositivos de bloques, consulte <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/block-device-mapping-concepts.html">Asignación de dispositivos de bloques</a> en la <em>Guía del usuario de Amazon EC2</em>.</p>
            <div class="highlights" id="inline-topiclist"><h6>Escenarios</h6><ul><li><a href="#w9aac23c21c43c13b9c11">Especificación de las asignaciones de dispositivos de bloques para dos volúmenes de EBS</a></li><li><a href="#w9aac23c21c43c13b9c13">Cualquier entrada de asignación de dispositivos de bloques para el almacén de instancias.</a></li></ul></div>
             
                <h3 id="w9aac23c21c43c13b9c11">Especificación de las asignaciones de dispositivos de bloques para dos volúmenes de EBS</h3>
                <div id="JSON" name="JSON" class="section langfilter">
                    <h4 id="quickref-ec2-example-1.json">JSON</h4>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Ec2Instance": <span>{</span>
    "Type": "AWS::EC2::Instance",
    "Properties": <span>{</span>
      "ImageId": <span>{</span>
        "Fn::FindInMap": [
          "<code class="replaceable">AWSRegionArch2AMI</code>",
          <span>{</span> "Ref": "AWS::Region" },
          <span>{</span>
            "Fn::FindInMap": [
              "<code class="replaceable">AWSInstanceType2Arch</code>",
              <span>{</span> "Ref": "InstanceType" },
              "Arch"
            ]
          }
        ]
      },
      "KeyName": <span>{</span> "Ref": "KeyName" },
      "InstanceType": <span>{</span> "Ref": "InstanceType" },
      "SecurityGroups": [<span>{</span> "Ref": "Ec2SecurityGroup" }],
      "BlockDeviceMappings": [
        <span>{</span>
          "DeviceName": "<code class="replaceable">/dev/sda1</code>",
          "Ebs": <span>{</span> "VolumeSize": "<code class="replaceable">50</code>" }
        },
        <span>{</span>
          "DeviceName": "<code class="replaceable">/dev/sdm</code>",
          "Ebs": <span>{</span> "VolumeSize": "<code class="replaceable">100</code>" }
        }
      ]
    }
  }
}</code></pre>
                </div>
                <div id="YAML" name="YAML" class="section langfilter">
                    <h4 id="quickref-ec2-example-1.yaml">YAML</h4>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">EC2Instance:
    Type: AWS::EC2::Instance
    Properties:
      ImageId: !FindInMap [<code class="replaceable">AWSRegionArch2AMI</code>, !Ref 'AWS::Region', !FindInMap [<code class="replaceable">AWSInstanceType2Arch</code>, !Ref InstanceType, Arch]]
      KeyName: !Ref KeyName
      InstanceType: !Ref InstanceType
      SecurityGroups:
        - !Ref Ec2SecurityGroup
      BlockDeviceMappings:
        -
          DeviceName: <code class="replaceable">/dev/sda1</code>
          Ebs:
            VolumeSize: <code class="replaceable">50</code>
        -
          DeviceName: <code class="replaceable">/dev/sdm</code>
          Ebs:
            VolumeSize: <code class="replaceable">100</code></code></pre>
                </div>
             
             
                <h3 id="w9aac23c21c43c13b9c13">Cualquier entrada de asignación de dispositivos de bloques para el almacén de instancias.</h3>
                <div id="JSON" name="JSON" class="section langfilter">
                    <h4 id="quickref-ec2-example-2.json">JSON</h4>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Ec2Instance" : <span>{</span>
  "Type" : "AWS::EC2::Instance", 
  "Properties" : <span>{</span>
    "ImageId" : <span>{</span> "Fn::FindInMap" : [ "<code class="replaceable">AWSRegionArch2AMI</code>", <span>{</span> "Ref" : "AWS::Region" }, "<code class="replaceable">HVM64</code>" ]},
    "KeyName" : <span>{</span> "Ref" : "KeyName" },
    "InstanceType": <span>{</span> "Ref": "InstanceType" },
    "SecurityGroups" : [<span>{</span> "Ref" : "Ec2SecurityGroup" }],
    "BlockDeviceMappings" : [
      <span>{</span>
        "DeviceName"  : "<code class="replaceable">/dev/sdc</code>",
        "VirtualName" : "<code class="replaceable">ephemeral0</code>"
      }
    ]
  }
}</code></pre>
                </div>
                <div id="YAML" name="YAML" class="section langfilter">
                    <h4 id="quickref-ec2-example-2.yaml">YAML</h4>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">EC2Instance:
  Type: AWS::EC2::Instance
  Properties:
    ImageId: !FindInMap
      - <code class="replaceable">AWSRegionArch2AMI</code>
      - !Ref AWS::Region
      - HVM64
    KeyName: !Ref KeyName
    InstanceType: !Ref InstanceType
    SecurityGroups:
      - !Ref Ec2SecurityGroup
    BlockDeviceMappings:
      - DeviceName: <code class="replaceable">/dev/sdc</code>
        VirtualName: <code class="replaceable">ephemeral0</code></code></pre>
                </div>
             
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Aviso" /> <strong>JavaScript está desactivado o no está disponible en su navegador.</strong></p><p>Para utilizar la documentación de AWS, debe estar habilitado JavaScript. Para obtener más información, consulte las páginas de ayuda de su navegador.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenciones del documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./quickref-ec2.html">Amazon EC2</div><div id="next" class="next-link" accesskey="n" href="./quickref-ec2-launch-templates.html">Creación de plantillas de lanzamiento</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - Sí</div><div class="content"><p>Gracias por hacernos saber que estamos haciendo un buen trabajo.</p><p>Si tiene un momento, díganos qué es lo que le ha gustado para que podamos seguir trabajando en esa línea.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - No</div><div class="content"><p>Gracias por informarnos de que debemos trabajar en esta página. Lamentamos haberle defraudado.</p><p>Si tiene un momento, díganos cómo podemos mejorar la documentación.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/quickref-ec2-instance-config.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>