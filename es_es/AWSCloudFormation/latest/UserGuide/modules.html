<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="es-ES"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Uso de módulos para encapsular y reutilizar configuraciones de recursos - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="modules" /><meta name="default_state" content="modules" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/modules.html" /><meta name="description" content="Aprenda a usar módulos para incluir configuraciones de recursos que incorporen prácticas recomendadas, conocimientos de dominio experto y directrices aceptadas en sus plantillas, sin tener que adquirir un conocimiento profundo de las complejidades de la implementación de recursos." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Guía del usuario" /><meta name="abstract" content="Cree y administre implementaciones de infraestructura de AWS de forma predecible y repetida mediante AWS CloudFormation con esta Guía del usuario." /><meta name="guide-locale" content="es_es" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/modules.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/modules.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Guía del usuario" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Guía del usuario" /><meta id="panorama-serviceConsolePage" value="Uso de módulos para encapsular y reutilizar configuraciones de recursos" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Uso de módulos para encapsular y reutilizar configuraciones de recursos - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/modules.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/modules.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/modules.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,aprovisionamiento de recursos,configuración de recursos,administración de la infraestructura,CloudFormer,Pila de CloudFormation,Conjunto de pilas de CloudFormation,Plantilla de CloudFormation,conjunto de cambios" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guía del usuario",
        "item" : "https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Trabajo con plantillas de AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/template-guide.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Uso de módulos para encapsular y reutilizar configuraciones de recursos",
        "item" : "https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/template-guide.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentación</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">Guía del usuario</a></div><div id="page-toc-src"><a href="#modules-using">Uso de módulos en una plantilla</a><a href="#module-using-params">Uso de parámetros para especificar valores de módulo</a><a href="#module-ref-resources">Referencia de recursos en un módulo</a><a href="#module-considerations">Consideraciones sobre el uso de módulos</a><a href="#module-versioning">Registro y control de versiones de módulos</a><a href="#module-enabling">Activación de módulos públicos</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="modules">Uso de módulos para encapsular y reutilizar configuraciones de recursos</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Los<em>módulos</em> son una forma de empaquetar configuraciones de recursos para su inclusión en plantillas de pila, de forma transparente, administrable y repetible. Los módulos pueden encapsular configuraciones de servicios comunes y prácticas recomendadas como componentes esenciales modulares y personalizables para que pueda incluirlos en las plantillas de pila. Los módulos le permiten incluir configuraciones de recursos que incorporan prácticas recomendadas, conocimientos de dominio experto y directrices aceptadas en sus plantillas (para áreas como seguridad, cumplimiento, gestión y regulaciones del sector), sin tener que adquirir un conocimiento profundo de las complejidades de la implementación de recursos.</p><p>Por ejemplo, un experto en redes podría crear un módulo que contenga grupos de seguridad integrados y reglas de entrada/salida que cumplan con las directrices de seguridad. A continuación, podría incluir ese módulo en la plantilla para aprovisionar una infraestructura de red segura en su pila, sin tener que dedicar tiempo a averiguar cómo funcionan las VPC, las subredes, los grupos de seguridad y las gateway. Y dado que los módulos están versionados, si las pautas de seguridad cambian con el tiempo, el autor del módulo podría crear una nueva versión del módulo que incorpore esos cambios.</p><p>Las características del uso de módulos en sus plantillas incluyen:</p><div class="itemizedlist">
   
   
   
   
 <ul class="itemizedlist"><li class="listitem">
   <p><em>Previsibilidad</em>: un módulo debe cumplir con el esquema que registra en el registro de CloudFormation, para que sepa en qué recursos puede resolver una vez que lo incluya en la plantilla.</p>
  </li><li class="listitem">
   <p><em>Reutilización</em>: puede utilizar el mismo módulo en varias plantillas y cuentas.</p>
  </li><li class="listitem">
   <p><em>Trazabilidad</em>: CloudFormation retiene el conocimiento de qué recursos de una pila se aprovisionaron desde un módulo, lo que le permite comprender fácilmente el origen de los cambios en los recursos.</p>
  </li><li class="listitem">
   <p><em>Capacidad de gestión</em>: una vez registrado un módulo, puede administrarlo a través del registro de CloudFormation, incluido el control de versiones y la disponibilidad de cuentas y regiones.</p>
  </li></ul></div><p>Un módulo puede contener:</p><div class="itemizedlist">
   
   
 <ul class="itemizedlist"><li class="listitem">
   <p>Uno o más recursos que se aprovisionarán desde el módulo, junto con cualquier dato asociado, como salidas o condiciones.</p>
  </li><li class="listitem">
   <p>Cualquier <em>parámetro del módulo</em>, que le permite especificar valores personalizados cada vez que se utiliza el módulo.</p>
  </li></ul></div><p>Para obtener información sobre el desarrollo de tipos de módulos, consulte <a href="https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/modules-develop.html">Desarrollo de tipos de módulo</a> en la <em>Guía del usuario de la interfaz de línea de comandos de CloudFormation</em>.</p>
  <h2 id="modules-using">Uso de módulos en una plantilla</h2>
  <p>Para utilizar un módulo, asegúrese de que está registrado en la cuenta y región en la que desea usarlo. Para obtener más información, consulte <a href="./registry.html#registry-public-private">Extensiones públicas y privadas</a>. Registre los módulos en el registro de CloudFormation como extensiones privadas. A continuación, trátelo como si fuera un recurso individual:</p>
  <div class="itemizedlist">
    
    
  <ul class="itemizedlist"><li class="listitem">
    <p>Inclúyalo en la sección <code class="code"><a href="./resources-section-structure.html">Recursos</a></code> de su plantilla.</p>
   </li><li class="listitem">
    <p>Especifique las propiedades necesarias para el módulo.</p>
   </li></ul></div>
  <p>Al iniciar una operación de pila, CloudFormation genera una plantilla procesada que resuelve los módulos incluidos en los recursos apropiados. Utilice conjuntos de cambios para previsualizar los recursos que se agregarán o actualizarán antes de ejecutar realmente la operación de pila. Para obtener más información, consulte <a href="./using-cfn-updating-stacks-changesets.html">Actualización de pilas con conjuntos de cambios</a>.</p>
  <p>Considere el siguiente ejemplo: tiene una plantilla que contiene recursos y módulos. La plantilla contiene un recurso individual, <b>ResourceA</b>, así como un módulo, <b>ModuleParent</b>. Ese módulo contiene dos recursos, <b>ResourceB</b> y <b>ResourceC</b>, así como un módulo anidado, <b>ModuleChild</b>. <b>ModuleChild</b> contiene un único recurso, <b>ResourceD</b>. Si crea una pila a partir de esta plantilla, CloudFormation procesa la plantilla y resuelve los módulos a los recursos apropiados. La pila resultante tendrá cuatro recursos: <b>ResourceA</b>, <b>ResourceB</b>, <b>ResourceC</b>y <b>ResourceD</b>.</p>
  <div class="mediaobject">
    
    <img src="images/modules-resource-inclusion.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;    Durante una operación de pila, CloudFormation resuelve los dos módulos incluidos en la plantilla de pila en los cuatro recursos apropiados.&#xA;   " style="max-width:100%" />
    
    
  </div>
  <p>CloudFormation realiza un seguimiento de los recursos de una pila que se crearon a partir de módulos. Puede ver esta información en las pestañas <b>Eventos</b>, <b>Recursos</b> y <b>Desviaciones</b> de una pila determinada, y también se incluye en vistas previas de conjuntos de cambios.</p>
  <p>Los módulos se distinguen de los recursos de una plantilla porque se adhieren a la siguiente convención de nomenclatura de cuatro partes, a diferencia de la típica convención de tres partes utilizada por los recursos:</p>
  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="text "><code class="replaceable">organization</code>::<code class="replaceable">service</code>::<code class="replaceable">use-case</code>::MODULE</code></pre>
  
  <h2 id="module-using-params">Uso de parámetros para especificar valores de módulo</h2>
  <p>Los módulos pueden incluir parámetros de módulo. Al igual que los parámetros de plantilla, los parámetros del módulo le permiten introducir valores personalizados en su módulo desde la plantilla (o módulo) que lo contiene. A continuación, el módulo puede utilizar estos valores para establecer las propiedades de los recursos que contiene.</p>
  <p>También puede definir parámetros de plantilla que, a su vez, establecen las propiedades del módulo, de modo que los usuarios puedan introducir valores que se pasan al módulo en el momento de la operación de pila. Para obtener más información sobre cómo definir parámetros de plantilla, consulte <a href="./parameters-section-structure.html">Parámetros</a>.</p>
  <p>Del mismo modo, si un módulo contiene un módulo anidado que incluye parámetros del módulo, puede:</p>
  <div class="itemizedlist">
    
    
  <ul class="itemizedlist"><li class="listitem">
    <p>Especificar los valores de los parámetros del módulo anidado directamente en el módulo principal.</p>
   </li><li class="listitem">
    <p>Definir los parámetros correspondientes del módulo en el módulo principal que permitan que los parámetros del módulo anidado sean establecidos por la plantilla (o módulo) en la que está contenido el módulo principal.</p>
   </li></ul></div>
   
   <h3 id="module-using-params-example-1">Uso de parámetros de plantilla para especificar valores de parámetros del módulo</h3>
   <p>El siguiente ejemplo muestra cómo definir parámetros de plantilla que pasan valores a un módulo.</p>
   <p>Aquí, la plantilla que contiene <code class="code">My::S3::SampleBucket::MODULE</code> define un parámetro de plantilla <code class="code">BucketName</code>, que permite al usuario especificar un nombre de bucket de S3 durante la operación de pila.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">// Template containing My::S3::SampleBucket::MODULE
<span>{</span>
  "Parameters": <span>{</span>
    "<b>BucketName</b>": <span>{</span>
      "Description": "Name for your sample bucket",
      "Type": "String"
    }
  },
  "Resources": <span>{</span>
    "MyBucket": <span>{</span>
      "Type": "<b>My::S3::SampleBucket::MODULE</b>",
      "Properties": <span>{</span>
        "<b>BucketName</b>": <span>{</span>
          "Ref": "BucketName"
        }
      }
    }
  }
}</code></pre>
   
   
   <h3 id="module-using-params-example-2">Especificación de propiedades en recursos de un módulo secundario desde el módulo principal</h3>
   <p>El ejemplo siguiente ilustra cómo especificar valores de parámetro en un módulo anidado dentro de otro módulo.</p>
   <p>Este primer módulo, <code class="code">My::S3::SampleBucketPrivate::MODULE</code>, será el módulo secundario. Define dos parámetros: <code class="code">BucketName</code> y <code class="code">AccessControl</code>. Los valores especificados para estos parámetros se utilizan para especificar las propiedades <code class="code">BucketName</code> y <code class="code">AccessControl</code> del recurso <code class="code">AWS::S3::Bucket</code> que contiene el módulo. A continuación se muestra el fragmento de plantilla para <code class="code">My::S3::SampleBucketPrivate::MODULE</code>.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">// My::S3::SampleBucketPrivate::MODULE
<span>{</span>
    "AWSTemplateFormatVersion": "2010-09-09",
    "Description": "A sample S3 Bucket with Versioning and DeletionPolicy.",
    "Parameters": <span>{</span>
        "<b>BucketName</b>": <span>{</span>
            "Description": "Name for the bucket",
            "Type": "String"
        },
        "<b>AccessControl</b>": <span>{</span>
            "Description": "AccessControl for the bucket",
            "Type": "String"
        }
    },
    "Resources": <span>{</span>
        "S3Bucket": <span>{</span>
            "Type": "AWS::S3::Bucket",
            "Properties": <span>{</span>
                "<b>BucketName</b>": <span>{</span>
                    "Ref": "BucketName"
                },
                "<b>AccessControl</b>": <span>{</span>
                    "Ref": "AccessControl"
                },
                "DeletionPolicy": "Retain",
                "VersioningConfiguration": <span>{</span>
                    "Status": "Enabled"
                }
            }
        }
    }
}</code></pre>
   <p>A continuación, el módulo anterior se anida dentro de un módulo principal, <code class="code">My::S3::SampleBucket::MODULE</code>. El módulo principal, <code class="code">My::S3::SampleBucket::MODULE</code>, establece los parámetros del módulo secundario de las siguientes maneras:</p>
   <div class="itemizedlist">
     
     
   <ul class="itemizedlist"><li class="listitem">
     <p>Establece el parámetro <code class="code">AccessControl</code> de <code class="code">My::S3::SampleBucketPrivate::MODULE</code> a <code class="code">Private</code>.</p>
    </li><li class="listitem">
     <p>Para <code class="code">BucketName</code>, define un parámetro de módulo, que permitirá que el nombre del bucket se especifique en la plantilla (o módulo) que contiene <code class="code">My::S3::SampleBucket::MODULE</code>.</p>
    </li></ul></div>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">// My::S3::SampleBucket::MODULE
<span>{</span>
  "AWSTemplateFormatVersion": "2010-09-09",
  "Description": "A sample S3 Bucket. With Private AccessControl.",
  "Parameters": <span>{</span>
    "<b>BucketName</b>": <span>{</span>
      "Description": "Name for your sample bucket",
      "Type": "String"
    }
  },
  "Resources": <span>{</span>
    "MyBucket": <span>{</span>
      "Type": "<b>My::S3::SampleBucketPrivate::MODULE</b>",
      "Properties": <span>{</span>
        "<b>BucketName</b>": <span>{</span>
          "Ref": "BucketName"
        },
        "<b>AccessControl</b>" : "Private"
      }
    }
  }
}</code></pre>
   
   
   <h3 id="modules-using-parameters-constraints">Especificación de restricciones para parámetros de módulo</h3>
   <p>Los parámetros del módulo no admiten la restricción de ejecución. Para obtener más información, consulte <a href="./parameters-section-structure.html#parameters-section-structure-properties">Propiedades</a>. Para comprobar el tipo o la restricción en un parámetro de módulo, cree un parámetro de plantilla con las restricciones deseadas y, a continuación, haga referencia a ese parámetro de plantilla en el parámetro del módulo.</p>
   
  
  <h2 id="module-ref-resources">Referencia de recursos en un módulo</h2>
  <p>Se puede hacer referencia a los recursos de un módulo por nombre lógico. El nombre lógico completo de un recurso contenido en un módulo se puede construir combinando:</p>
  <div class="itemizedlist">
    
    
  <ul class="itemizedlist"><li class="listitem">
    <p>El nombre lógico especificado para el módulo en la plantilla (o módulo que lo contiene).</p>
   </li><li class="listitem">
    <p>El nombre lógico del recurso, especificado en el módulo.</p>
   </li></ul></div>
  <p>El nombre lógico completo del recurso se puede especificar o no con un punto como delimitador. Por ejemplo, los dos nombres lógicos siguientes son válidos y funcionalmente equivalentes:</p>
  <div class="itemizedlist">
    
    
  <ul class="itemizedlist"><li class="listitem">
    <p><code class="code"><code class="replaceable">ModuleLogicalName</code>.<code class="replaceable">ResourceLogicalName</code></code></p>
   </li><li class="listitem">
    <p><code class="code"><code class="replaceable">ModuleLogicalNameResourceLogicalName</code></code></p>
   </li></ul></div>
  <p>De esta manera, puede usar las funciones intrínsecas <code class="code">GetAtt</code> y <code class="code">Ref</code> para acceder a los valores de propiedad en los recursos del módulo.</p>
  <p>En el ejemplo siguiente, la plantilla hace referencia a una propiedad de un módulo para establecer una propiedad correspondiente en un recurso de la propia plantilla.</p>
  <p>Supongamos que el módulo <code class="code">My::S3::SampleBucket::MODULE</code> contiene un recurso <code class="code">AWS::S3::Bucket</code> con el nombre lógico de <code class="code">S3Bucket</code>. Para hacer referencia al nombre del bucket de este recurso mediante la función intrínseca <code class="code">Ref</code>, combine el nombre lógico dado al módulo en la plantilla, <code class="code">MyBucket</code>, con el nombre lógico del recurso en el módulo, <code class="code">S3Bucket</code>, a fin de obtener el nombre lógico completo del recurso: <code class="code">MyBucket.S3Bucket</code> o <code class="code">MyBucketS3Bucket</code>.</p>
  <p>Los nombres lógicos de los recursos contenidos en un módulo se especifican en el esquema del módulo. Puede acceder a ese esquema de las siguientes maneras:</p>
  <div class="itemizedlist">
    
    
  <ul class="itemizedlist"><li class="listitem">
    <p>Encontrar el módulo en el registro de CloudFormation. La pestaña <b>Esquema</b> muestra el esquema del módulo.</p>
   </li><li class="listitem">
    <p>Uso de la operación <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_DescribeType.html"><code class="code">DescribeType</code></a> para devolver los detalles del módulo, que incluye el esquema.</p>
   </li></ul></div>

  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">// Template that uses My::S3::SampleBucket::MODULE
<span>{</span>
  "Parameters": <span>{</span>
    "BucketName": <span>{</span>
      "Description": "Name for your sample bucket",
      "Type": "String"
   }
 },
  "Resources": <span>{</span>
    "MyBucket": <span>{</span>
      "Type": "My::S3::SampleBucket::MODULE",
      "Properties": <span>{</span>
          "BucketName": <span>{</span>
            "Ref": "BucketName"
         }
      }
    },
    "exampleQueue": <span>{</span>
      "Type": "AWS::SQS::Queue",
      "Properties": <span>{</span>
          "QueueName": <span>{</span>
            "Ref": "<b>MyBucket.S3Bucket</b>"
          }
      }
    }
},
"Outputs": <span>{</span>
  "BucketArn": <span>{</span>
      "Value": <span>{</span>
          "Fn::GetAtt": [
             "<b>MyBucket</b>",
             "<b>S3Bucket.Arn</b>"
          ]
      }
    }
  }
}</code></pre>
  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Parameters:
  BucketName:
    Description: Name for your sample bucket
    Type: String
Resources:
  MyBucket:
    Type: My::S3::SampleBucket::MODULE
    Properties:
      BucketName: !Ref BucketName
  exampleQueue:
    Type: AWS::SQS::Queue
    Properties:
      QueueName: !Ref <b>MyBucket.S3Bucket</b>
Outputs:
  BucketArn:
    Value: !<b>GetAtt MyBucket.S3Bucket.Arn</b></code></pre>
  
  <h2 id="module-considerations">Consideraciones sobre el uso de módulos</h2>
  <div class="itemizedlist">
    
    
    
    
    
    
  <ul class="itemizedlist"><li class="listitem">
    <p>El uso de los módulos no conlleva ningún coste adicional. Usted paga sólo por los recursos a los que esos módulos resuelven en sus pilas.</p>
   </li><li class="listitem">
    <p>Las cuotas de CloudFormation, como el número máximo de recursos permitidos en una pila o el tamaño máximo del cuerpo de la plantilla, se aplican a la plantilla procesada independientemente de si los recursos incluidos en esa plantilla provienen de módulos o no. Para obtener más información, consulte <a href="./cloudformation-limits.html">Cuotas de AWS CloudFormation</a>.</p>
   </li><li class="listitem">
    <p>Las etiquetas que especifique en el nivel de <em>pila</em> se asignan a los recursos individuales derivados del módulo.</p>
   </li><li class="listitem">
    <p>Los scripts auxiliares especificados en el nivel de módulo no se propagan a los recursos individuales contenidos en el módulo cuando CloudFormation procesa la plantilla.</p>
   </li><li class="listitem">
    <p>Las salidas especificadas en el módulo se propagan a las salidas a nivel de plantilla.</p>
    <p>A cada salida se le asignará un ID lógico, que es una concatenación del nombre lógico del módulo y el nombre de salida tal como se define en el módulo. Para obtener más información sobre salidas, consulte <a href="./outputs-section-structure.html">Salidas</a>.</p>
   </li><li class="listitem">
    <p>Los parámetros especificados en el módulo no se propagan a parámetros a nivel de plantilla.</p>
    <p>Sin embargo, puede crear parámetros de nivel de plantilla que hagan referencia a parámetros de nivel de módulo. Para obtener más información, consulte <a href="#module-using-params">Uso de parámetros para especificar valores de módulo</a>.</p>
   </li></ul></div>
  
  <h2 id="module-versioning">Registro y control de versiones de módulos</h2>
  <p>Usted registra y gestiona los módulos de su cuenta y región mediante el registro de CloudFormation. Para obtener más información, consulte <a href="./registry.html">Uso del registro de AWS CloudFormation</a>.</p>
  <p>Puede registrar varias versiones del mismo módulo en una cuenta y región determinadas. Tenga en cuenta las siguientes consideraciones:</p>
  <div class="itemizedlist">
    
    
    
    
    
    
  <ul class="itemizedlist"><li class="listitem">
    <p>Un módulo debe estar registrado en la cuenta y región en la que desea usarlo.</p>
   </li><li class="listitem">
    <p>Durante las operaciones de pila, CloudFormation utiliza cualquier versión del módulo que esté actualmente registrada como la versión predeterminada <em>en la cuenta y región en la que se está realizando la operación de pila</em>. Esto incluye módulos anidados en otros módulos.</p>
    <p>Por lo tanto, tenga en cuenta que si tiene diferentes versiones del mismo módulo registradas como la versión predeterminada en diferentes cuentas o regiones, el uso de la misma plantilla puede dar lugar a resultados diferentes.</p>
    <p>Para obtener más información, consulte <a href="./registry-private.html#registry-set-version">Especificación de una versión de una extensión privada que se va a utilizar mediante la AWS CLI</a>.</p>
   </li><li class="listitem">
    <p>Durante las operaciones de pila, CloudFormation utiliza cualquier versión del <em>recurso</em> que esté actualmente registrada como la versión predeterminada en la cuenta y región en la que se está realizando la operación de pila. Esto incluye los recursos generados mediante la inclusión de módulos.</p>
   </li><li class="listitem">
    <p>El cambio de la versión predeterminada de un módulo no inicia ninguna operación de actualización de pila. Sin embargo, la próxima vez que realice una operación de pila con cualquier plantilla que contenga ese módulo, como una actualización de pila, CloudFormation utilizará la nueva versión predeterminada en la operación.</p>
    <p>La única excepción a esto es realizar una actualización de pila con la opción <b>usar plantilla anterior</b> especificada, como se describe a continuación.</p>
   </li><li class="listitem">
    <p>Para las operaciones de actualización de pila, si especifica la opción <b>usar plantilla anterior</b>, CloudFormation utiliza la plantilla procesada anterior para la actualización de la pila y no vuelve a procesar el módulo para los cambios que pueda haber realizado en él.</p>
   </li><li class="listitem">
    <p>Para garantizar resultados uniformes, si incluye módulos en una plantilla de pila para su uso con conjuntos de pilas, debe asegurarse de que la misma versión del módulo esté establecida como la versión predeterminada en todas las cuentas y regiones en las que planea implementar las instancias de pila. Esto incluye los módulos que están anidados en otros módulos. Para obtener más información sobre conjuntos de pilas, consulte <a href="./what-is-cfnstacksets.html">Trabajo con AWS CloudFormation StackSets</a>.</p>
   </li></ul></div>
  <p>Para obtener más información sobre cómo registrar nuevas versiones de un módulo o cambiar la versión predeterminada de un módulo, consulte <a href="./registry.html">Uso del registro de AWS CloudFormation</a>.</p>
  
  <h2 id="module-enabling">Activación de módulos públicos para usarlos en su cuenta</h2>
  <p>Para activar correctamente un módulo público en su cuenta y región, debe cumplirse lo siguiente para cada extensión pública de terceros (recurso o módulo) incluida en el módulo:</p>
  <div class="itemizedlist">
    
    
  <ul class="itemizedlist"><li class="listitem">
    <p>La extensión ya debe estar activada en su cuenta y región.</p>
    <p>Si la extensión del módulo usa un alias de nombre de tipo, la extensión debe estar registrada en su cuenta y región con el mismo alias de nombre de tipo. Para obtener más información, consulte <a href="./registry-public.html#registry-public-enable-alias">Especificación de alias para hacer referencia a extensiones</a>.</p>
   </li><li class="listitem">
    <p>La versión de la extensión actualmente activada debe ser una de las versiones principales admitidas de esa extensión especificadas en el módulo. Para obtener más información, consulte <a href="https://docs.aws.amazon.com/cloudformation-cli/latest/userguide/modules-structure.html#modules-structure-publishing-prereqs">Module requirements for publishing a public module</a> (Requisitos del módulo para publicar un módulo público) en la <em>Guía del usuario de la CLI de CloudFormation</em>.</p>
   </li></ul></div>
  <p>Si no tiene activadas las extensiones públicas de terceros y las versiones de extensión correctas, se producirá un error en la operación de CloudFormation que enumera las extensiones o versiones que deben activarse antes de que el módulo se pueda activar correctamente.</p>
 <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Aviso" /> <strong>JavaScript está desactivado o no está disponible en su navegador.</strong></p><p>Para utilizar la documentación de AWS, debe estar habilitado JavaScript. Para obtener más información, consulte las páginas de ayuda de su navegador.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenciones del documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./macros-example.html">Ejemplo de macro: creación y uso de una macro</div><div id="next" class="next-link" accesskey="n" href="./blue-green.html">Realizar implementaciones azul/verde de ECS</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - Sí</div><div class="content"><p>Gracias por hacernos saber que estamos haciendo un buen trabajo.</p><p>Si tiene un momento, díganos qué es lo que le ha gustado para que podamos seguir trabajando en esa línea.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/modules.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - No</div><div class="content"><p>Gracias por informarnos de que debemos trabajar en esta página. Lamentamos haberle defraudado.</p><p>Si tiene un momento, díganos cómo podemos mejorar la documentación.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/modules.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>